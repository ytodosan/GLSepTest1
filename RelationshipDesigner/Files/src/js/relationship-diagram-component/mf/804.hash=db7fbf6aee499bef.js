(self.webpackChunkapp_studio_enterprise_relationship_diagram=self.webpackChunkapp_studio_enterprise_relationship_diagram||[]).push([[804,3308],{66716:(rt,V,l)=>{var a;/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */(function(b,d,m,v){"use strict";var _=["","webkit","Moz","MS","ms","o"],c=d.createElement("div"),C="function",T=Math.round,y=Math.abs,s=Date.now;function e(R,L,j){return setTimeout(E(R,j),L)}function h(R,L,j){return Array.isArray(R)?(n(R,j[L],j),!0):!1}function n(R,L,j){var tt;if(R)if(R.forEach)R.forEach(L,j);else if(R.length!==v)for(tt=0;tt<R.length;)L.call(j,R[tt],tt,R),tt++;else for(tt in R)R.hasOwnProperty(tt)&&L.call(j,R[tt],tt,R)}function o(R,L,j){var tt="DEPRECATED METHOD: "+L+`
`+j+` AT 
`;return function(){var at=new Error("get-stack-trace"),ct=at&&at.stack?at.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",dt=b.console&&(b.console.warn||b.console.log);return dt&&dt.call(b.console,tt,ct),R.apply(this,arguments)}}var i;typeof Object.assign!="function"?i=function(L){if(L===v||L===null)throw new TypeError("Cannot convert undefined or null to object");for(var j=Object(L),tt=1;tt<arguments.length;tt++){var at=arguments[tt];if(at!==v&&at!==null)for(var ct in at)at.hasOwnProperty(ct)&&(j[ct]=at[ct])}return j}:i=Object.assign;var p=o(function(L,j,tt){for(var at=Object.keys(j),ct=0;ct<at.length;)(!tt||tt&&L[at[ct]]===v)&&(L[at[ct]]=j[at[ct]]),ct++;return L},"extend","Use `assign`."),g=o(function(L,j){return p(L,j,!0)},"merge","Use `assign`.");function f(R,L,j){var tt=L.prototype,at;at=R.prototype=Object.create(tt),at.constructor=R,at._super=tt,j&&i(at,j)}function E(R,L){return function(){return R.apply(L,arguments)}}function O(R,L){return typeof R==C?R.apply(L&&L[0]||v,L):R}function N(R,L){return R===v?L:R}function A(R,L,j){n(k(L),function(tt){R.addEventListener(tt,j,!1)})}function B(R,L,j){n(k(L),function(tt){R.removeEventListener(tt,j,!1)})}function D(R,L){for(;R;){if(R==L)return!0;R=R.parentNode}return!1}function U(R,L){return R.indexOf(L)>-1}function k(R){return R.trim().split(/\s+/g)}function Z(R,L,j){if(R.indexOf&&!j)return R.indexOf(L);for(var tt=0;tt<R.length;){if(j&&R[tt][j]==L||!j&&R[tt]===L)return tt;tt++}return-1}function ot(R){return Array.prototype.slice.call(R,0)}function et(R,L,j){for(var tt=[],at=[],ct=0;ct<R.length;){var dt=L?R[ct][L]:R[ct];Z(at,dt)<0&&tt.push(R[ct]),at[ct]=dt,ct++}return j&&(L?tt=tt.sort(function(yt,mt){return yt[L]>mt[L]}):tt=tt.sort()),tt}function J(R,L){for(var j,tt,at=L[0].toUpperCase()+L.slice(1),ct=0;ct<_.length;){if(j=_[ct],tt=j?j+at:L,tt in R)return tt;ct++}return v}var Y=1;function w(){return Y++}function M(R){var L=R.ownerDocument||R;return L.defaultView||L.parentWindow||b}var S=/mobile|tablet|ip(ad|hone|od)|android/i,x="ontouchstart"in b,t=J(b,"PointerEvent")!==v,r=x&&S.test(navigator.userAgent),u="touch",P="pen",W="mouse",H="kinect",X=25,$=1,q=2,it=4,F=8,G=1,z=2,I=4,K=8,Q=16,nt=z|I,st=K|Q,ut=nt|st,ft=["x","y"],lt=["clientX","clientY"];function ht(R,L){var j=this;this.manager=R,this.callback=L,this.element=R.element,this.target=R.options.inputTarget,this.domHandler=function(tt){O(R.options.enable,[R])&&j.handler(tt)},this.init()}ht.prototype={handler:function(){},init:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&B(this.element,this.evEl,this.domHandler),this.evTarget&&B(this.target,this.evTarget,this.domHandler),this.evWin&&B(M(this.element),this.evWin,this.domHandler)}};function pt(R){var L,j=R.options.inputClass;return j?L=j:t?L=Bt:r?L=Qt:x?L=se:L=wt,new L(R,vt)}function vt(R,L,j){var tt=j.pointers.length,at=j.changedPointers.length,ct=L&$&&tt-at===0,dt=L&(it|F)&&tt-at===0;j.isFirst=!!ct,j.isFinal=!!dt,ct&&(R.session={}),j.eventType=L,Pt(R,j),R.emit("hammer.input",j),R.recognize(j),R.session.prevInput=j}function Pt(R,L){var j=R.session,tt=L.pointers,at=tt.length;j.firstInput||(j.firstInput=Ht(L)),at>1&&!j.firstMultiple?j.firstMultiple=Ht(L):at===1&&(j.firstMultiple=!1);var ct=j.firstInput,dt=j.firstMultiple,gt=dt?dt.center:ct.center,yt=L.center=jt(tt);L.timeStamp=s(),L.deltaTime=L.timeStamp-ct.timeStamp,L.angle=Lt(gt,yt),L.distance=It(gt,yt),ie(j,L),L.offsetDirection=zt(L.deltaX,L.deltaY);var mt=Gt(L.deltaTime,L.deltaX,L.deltaY);L.overallVelocityX=mt.x,L.overallVelocityY=mt.y,L.overallVelocity=y(mt.x)>y(mt.y)?mt.x:mt.y,L.scale=dt?Vt(dt.pointers,tt):1,L.rotation=dt?kt(dt.pointers,tt):0,L.maxPointers=j.prevInput?L.pointers.length>j.prevInput.maxPointers?L.pointers.length:j.prevInput.maxPointers:L.pointers.length,re(j,L);var Tt=R.element;D(L.srcEvent.target,Tt)&&(Tt=L.srcEvent.target),L.target=Tt}function ie(R,L){var j=L.center,tt=R.offsetDelta||{},at=R.prevDelta||{},ct=R.prevInput||{};(L.eventType===$||ct.eventType===it)&&(at=R.prevDelta={x:ct.deltaX||0,y:ct.deltaY||0},tt=R.offsetDelta={x:j.x,y:j.y}),L.deltaX=at.x+(j.x-tt.x),L.deltaY=at.y+(j.y-tt.y)}function re(R,L){var j=R.lastInterval||L,tt=L.timeStamp-j.timeStamp,at,ct,dt,gt;if(L.eventType!=F&&(tt>X||j.velocity===v)){var yt=L.deltaX-j.deltaX,mt=L.deltaY-j.deltaY,Tt=Gt(tt,yt,mt);ct=Tt.x,dt=Tt.y,at=y(Tt.x)>y(Tt.y)?Tt.x:Tt.y,gt=zt(yt,mt),R.lastInterval=L}else at=j.velocity,ct=j.velocityX,dt=j.velocityY,gt=j.direction;L.velocity=at,L.velocityX=ct,L.velocityY=dt,L.direction=gt}function Ht(R){for(var L=[],j=0;j<R.pointers.length;)L[j]={clientX:T(R.pointers[j].clientX),clientY:T(R.pointers[j].clientY)},j++;return{timeStamp:s(),pointers:L,center:jt(L),deltaX:R.deltaX,deltaY:R.deltaY}}function jt(R){var L=R.length;if(L===1)return{x:T(R[0].clientX),y:T(R[0].clientY)};for(var j=0,tt=0,at=0;at<L;)j+=R[at].clientX,tt+=R[at].clientY,at++;return{x:T(j/L),y:T(tt/L)}}function Gt(R,L,j){return{x:L/R||0,y:j/R||0}}function zt(R,L){return R===L?G:y(R)>=y(L)?R<0?z:I:L<0?K:Q}function It(R,L,j){j||(j=ft);var tt=L[j[0]]-R[j[0]],at=L[j[1]]-R[j[1]];return Math.sqrt(tt*tt+at*at)}function Lt(R,L,j){j||(j=ft);var tt=L[j[0]]-R[j[0]],at=L[j[1]]-R[j[1]];return Math.atan2(at,tt)*180/Math.PI}function kt(R,L){return Lt(L[1],L[0],lt)+Lt(R[1],R[0],lt)}function Vt(R,L){return It(L[0],L[1],lt)/It(R[0],R[1],lt)}var Yt={mousedown:$,mousemove:q,mouseup:it},At="mousedown",$t="mousemove mouseup";function wt(){this.evEl=At,this.evWin=$t,this.pressed=!1,ht.apply(this,arguments)}f(wt,ht,{handler:function(L){var j=Yt[L.type];j&$&&L.button===0&&(this.pressed=!0),j&q&&L.which!==1&&(j=it),this.pressed&&(j&it&&(this.pressed=!1),this.callback(this.manager,j,{pointers:[L],changedPointers:[L],pointerType:W,srcEvent:L}))}});var Xt={pointerdown:$,pointermove:q,pointerup:it,pointercancel:F,pointerout:F},xt={2:u,3:P,4:W,5:H},Zt="pointerdown",bt="pointermove pointerup pointercancel";b.MSPointerEvent&&!b.PointerEvent&&(Zt="MSPointerDown",bt="MSPointerMove MSPointerUp MSPointerCancel");function Bt(){this.evEl=Zt,this.evWin=bt,ht.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}f(Bt,ht,{handler:function(L){var j=this.store,tt=!1,at=L.type.toLowerCase().replace("ms",""),ct=Xt[at],dt=xt[L.pointerType]||L.pointerType,gt=dt==u,yt=Z(j,L.pointerId,"pointerId");ct&$&&(L.button===0||gt)?yt<0&&(j.push(L),yt=j.length-1):ct&(it|F)&&(tt=!0),!(yt<0)&&(j[yt]=L,this.callback(this.manager,ct,{pointers:j,changedPointers:[L],pointerType:dt,srcEvent:L}),tt&&j.splice(yt,1))}});var Ut={touchstart:$,touchmove:q,touchend:it,touchcancel:F},oe="touchstart",ae="touchstart touchmove touchend touchcancel";function ve(){this.evTarget=oe,this.evWin=ae,this.started=!1,ht.apply(this,arguments)}f(ve,ht,{handler:function(L){var j=Ut[L.type];if(j===$&&(this.started=!0),!!this.started){var tt=Oe.call(this,L,j);j&(it|F)&&tt[0].length-tt[1].length===0&&(this.started=!1),this.callback(this.manager,j,{pointers:tt[0],changedPointers:tt[1],pointerType:u,srcEvent:L})}}});function Oe(R,L){var j=ot(R.touches),tt=ot(R.changedTouches);return L&(it|F)&&(j=et(j.concat(tt),"identifier",!0)),[j,tt]}var Ae={touchstart:$,touchmove:q,touchend:it,touchcancel:F},Re="touchstart touchmove touchend touchcancel";function Qt(){this.evTarget=Re,this.targetIds={},ht.apply(this,arguments)}f(Qt,ht,{handler:function(L){var j=Ae[L.type],tt=we.call(this,L,j);tt&&this.callback(this.manager,j,{pointers:tt[0],changedPointers:tt[1],pointerType:u,srcEvent:L})}});function we(R,L){var j=ot(R.touches),tt=this.targetIds;if(L&($|q)&&j.length===1)return tt[j[0].identifier]=!0,[j,j];var at,ct,dt=ot(R.changedTouches),gt=[],yt=this.target;if(ct=j.filter(function(mt){return D(mt.target,yt)}),L===$)for(at=0;at<ct.length;)tt[ct[at].identifier]=!0,at++;for(at=0;at<dt.length;)tt[dt[at].identifier]&&gt.push(dt[at]),L&(it|F)&&delete tt[dt[at].identifier],at++;if(gt.length)return[et(ct.concat(gt),"identifier",!0),gt]}var Se=2500,ge=25;function se(){ht.apply(this,arguments);var R=E(this.handler,this);this.touch=new Qt(this.manager,R),this.mouse=new wt(this.manager,R),this.primaryTouch=null,this.lastTouches=[]}f(se,ht,{handler:function(L,j,tt){var at=tt.pointerType==u,ct=tt.pointerType==W;if(!(ct&&tt.sourceCapabilities&&tt.sourceCapabilities.firesTouchEvents)){if(at)De.call(this,j,tt);else if(ct&&Ie.call(this,tt))return;this.callback(L,j,tt)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function De(R,L){R&$?(this.primaryTouch=L.changedPointers[0].identifier,ye.call(this,L)):R&(it|F)&&ye.call(this,L)}function ye(R){var L=R.changedPointers[0];if(L.identifier===this.primaryTouch){var j={x:L.clientX,y:L.clientY};this.lastTouches.push(j);var tt=this.lastTouches,at=function(){var ct=tt.indexOf(j);ct>-1&&tt.splice(ct,1)};setTimeout(at,Se)}}function Ie(R){for(var L=R.srcEvent.clientX,j=R.srcEvent.clientY,tt=0;tt<this.lastTouches.length;tt++){var at=this.lastTouches[tt],ct=Math.abs(L-at.x),dt=Math.abs(j-at.y);if(ct<=ge&&dt<=ge)return!0}return!1}var me=J(c.style,"touchAction"),_e=me!==v,Ee="compute",xe="auto",ce="manipulation",St="none",Wt="pan-x",Ft="pan-y",Jt=Be();function ue(R,L){this.manager=R,this.set(L)}ue.prototype={set:function(R){R==Ee&&(R=this.compute()),_e&&this.manager.element.style&&Jt[R]&&(this.manager.element.style[me]=R),this.actions=R.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var R=[];return n(this.manager.recognizers,function(L){O(L.options.enable,[L])&&(R=R.concat(L.getTouchAction()))}),Le(R.join(" "))},preventDefaults:function(R){var L=R.srcEvent,j=R.offsetDirection;if(this.manager.session.prevented){L.preventDefault();return}var tt=this.actions,at=U(tt,St)&&!Jt[St],ct=U(tt,Ft)&&!Jt[Ft],dt=U(tt,Wt)&&!Jt[Wt];if(at){var gt=R.pointers.length===1,yt=R.distance<2,mt=R.deltaTime<250;if(gt&&yt&&mt)return}if(!(dt&&ct)&&(at||ct&&j&nt||dt&&j&st))return this.preventSrc(L)},preventSrc:function(R){this.manager.session.prevented=!0,R.preventDefault()}};function Le(R){if(U(R,St))return St;var L=U(R,Wt),j=U(R,Ft);return L&&j?St:L||j?L?Wt:Ft:U(R,ce)?ce:xe}function Be(){if(!_e)return!1;var R={},L=b.CSS&&b.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(j){R[j]=L?b.CSS.supports("touch-action",j):!0}),R}var qt=1,_t=2,Nt=4,Rt=8,Mt=Rt,Kt=16,Ct=32;function Ot(R){this.options=i({},this.defaults,R||{}),this.id=w(),this.manager=null,this.options.enable=N(this.options.enable,!0),this.state=qt,this.simultaneous={},this.requireFail=[]}Ot.prototype={defaults:{},set:function(R){return i(this.options,R),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(R){if(h(R,"recognizeWith",this))return this;var L=this.simultaneous;return R=te(R,this),L[R.id]||(L[R.id]=R,R.recognizeWith(this)),this},dropRecognizeWith:function(R){return h(R,"dropRecognizeWith",this)?this:(R=te(R,this),delete this.simultaneous[R.id],this)},requireFailure:function(R){if(h(R,"requireFailure",this))return this;var L=this.requireFail;return R=te(R,this),Z(L,R)===-1&&(L.push(R),R.requireFailure(this)),this},dropRequireFailure:function(R){if(h(R,"dropRequireFailure",this))return this;R=te(R,this);var L=Z(this.requireFail,R);return L>-1&&this.requireFail.splice(L,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(R){return!!this.simultaneous[R.id]},emit:function(R){var L=this,j=this.state;function tt(at){L.manager.emit(at,R)}j<Rt&&tt(L.options.event+Ce(j)),tt(L.options.event),R.additionalEvent&&tt(R.additionalEvent),j>=Rt&&tt(L.options.event+Ce(j))},tryEmit:function(R){if(this.canEmit())return this.emit(R);this.state=Ct},canEmit:function(){for(var R=0;R<this.requireFail.length;){if(!(this.requireFail[R].state&(Ct|qt)))return!1;R++}return!0},recognize:function(R){var L=i({},R);if(!O(this.options.enable,[this,L])){this.reset(),this.state=Ct;return}this.state&(Mt|Kt|Ct)&&(this.state=qt),this.state=this.process(L),this.state&(_t|Nt|Rt|Kt)&&this.tryEmit(L)},process:function(R){},getTouchAction:function(){},reset:function(){}};function Ce(R){return R&Kt?"cancel":R&Rt?"end":R&Nt?"move":R&_t?"start":""}function Te(R){return R==Q?"down":R==K?"up":R==z?"left":R==I?"right":""}function te(R,L){var j=L.manager;return j?j.get(R):R}function Et(){Ot.apply(this,arguments)}f(Et,Ot,{defaults:{pointers:1},attrTest:function(R){var L=this.options.pointers;return L===0||R.pointers.length===L},process:function(R){var L=this.state,j=R.eventType,tt=L&(_t|Nt),at=this.attrTest(R);return tt&&(j&F||!at)?L|Kt:tt||at?j&it?L|Rt:L&_t?L|Nt:_t:Ct}});function ee(){Et.apply(this,arguments),this.pX=null,this.pY=null}f(ee,Et,{defaults:{event:"pan",threshold:10,pointers:1,direction:ut},getTouchAction:function(){var R=this.options.direction,L=[];return R&nt&&L.push(Ft),R&st&&L.push(Wt),L},directionTest:function(R){var L=this.options,j=!0,tt=R.distance,at=R.direction,ct=R.deltaX,dt=R.deltaY;return at&L.direction||(L.direction&nt?(at=ct===0?G:ct<0?z:I,j=ct!=this.pX,tt=Math.abs(R.deltaX)):(at=dt===0?G:dt<0?K:Q,j=dt!=this.pY,tt=Math.abs(R.deltaY))),R.direction=at,j&&tt>L.threshold&&at&L.direction},attrTest:function(R){return Et.prototype.attrTest.call(this,R)&&(this.state&_t||!(this.state&_t)&&this.directionTest(R))},emit:function(R){this.pX=R.deltaX,this.pY=R.deltaY;var L=Te(R.direction);L&&(R.additionalEvent=this.options.event+L),this._super.emit.call(this,R)}});function le(){Et.apply(this,arguments)}f(le,Et,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(R){return this._super.attrTest.call(this,R)&&(Math.abs(R.scale-1)>this.options.threshold||this.state&_t)},emit:function(R){if(R.scale!==1){var L=R.scale<1?"in":"out";R.additionalEvent=this.options.event+L}this._super.emit.call(this,R)}});function fe(){Ot.apply(this,arguments),this._timer=null,this._input=null}f(fe,Ot,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xe]},process:function(R){var L=this.options,j=R.pointers.length===L.pointers,tt=R.distance<L.threshold,at=R.deltaTime>L.time;if(this._input=R,!tt||!j||R.eventType&(it|F)&&!at)this.reset();else if(R.eventType&$)this.reset(),this._timer=e(function(){this.state=Mt,this.tryEmit()},L.time,this);else if(R.eventType&it)return Mt;return Ct},reset:function(){clearTimeout(this._timer)},emit:function(R){this.state===Mt&&(R&&R.eventType&it?this.manager.emit(this.options.event+"up",R):(this._input.timeStamp=s(),this.manager.emit(this.options.event,this._input)))}});function he(){Et.apply(this,arguments)}f(he,Et,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(R){return this._super.attrTest.call(this,R)&&(Math.abs(R.rotation)>this.options.threshold||this.state&_t)}});function de(){Et.apply(this,arguments)}f(de,Et,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:nt|st,pointers:1},getTouchAction:function(){return ee.prototype.getTouchAction.call(this)},attrTest:function(R){var L=this.options.direction,j;return L&(nt|st)?j=R.overallVelocity:L&nt?j=R.overallVelocityX:L&st&&(j=R.overallVelocityY),this._super.attrTest.call(this,R)&&L&R.offsetDirection&&R.distance>this.options.threshold&&R.maxPointers==this.options.pointers&&y(j)>this.options.velocity&&R.eventType&it},emit:function(R){var L=Te(R.offsetDirection);L&&this.manager.emit(this.options.event+L,R),this.manager.emit(this.options.event,R)}});function ne(){Ot.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}f(ne,Ot,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ce]},process:function(R){var L=this.options,j=R.pointers.length===L.pointers,tt=R.distance<L.threshold,at=R.deltaTime<L.time;if(this.reset(),R.eventType&$&&this.count===0)return this.failTimeout();if(tt&&at&&j){if(R.eventType!=it)return this.failTimeout();var ct=this.pTime?R.timeStamp-this.pTime<L.interval:!0,dt=!this.pCenter||It(this.pCenter,R.center)<L.posThreshold;this.pTime=R.timeStamp,this.pCenter=R.center,!dt||!ct?this.count=1:this.count+=1,this._input=R;var gt=this.count%L.taps;if(gt===0)return this.hasRequireFailures()?(this._timer=e(function(){this.state=Mt,this.tryEmit()},L.interval,this),_t):Mt}return Ct},failTimeout:function(){return this._timer=e(function(){this.state=Ct},this.options.interval,this),Ct},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Mt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Dt(R,L){return L=L||{},L.recognizers=N(L.recognizers,Dt.defaults.preset),new pe(R,L)}Dt.VERSION="2.0.7",Dt.defaults={domEvents:!1,touchAction:Ee,enable:!0,inputTarget:null,inputClass:null,preset:[[he,{enable:!1}],[le,{enable:!1},["rotate"]],[de,{direction:nt}],[ee,{direction:nt},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[fe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Ue=1,Pe=2;function pe(R,L){this.options=i({},Dt.defaults,L||{}),this.options.inputTarget=this.options.inputTarget||R,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=R,this.input=pt(this),this.touchAction=new ue(this,this.options.touchAction),Me(this,!0),n(this.options.recognizers,function(j){var tt=this.add(new j[0](j[1]));j[2]&&tt.recognizeWith(j[2]),j[3]&&tt.requireFailure(j[3])},this)}pe.prototype={set:function(R){return i(this.options,R),R.touchAction&&this.touchAction.update(),R.inputTarget&&(this.input.destroy(),this.input.target=R.inputTarget,this.input.init()),this},stop:function(R){this.session.stopped=R?Pe:Ue},recognize:function(R){var L=this.session;if(!L.stopped){this.touchAction.preventDefaults(R);var j,tt=this.recognizers,at=L.curRecognizer;(!at||at&&at.state&Mt)&&(at=L.curRecognizer=null);for(var ct=0;ct<tt.length;)j=tt[ct],L.stopped!==Pe&&(!at||j==at||j.canRecognizeWith(at))?j.recognize(R):j.reset(),!at&&j.state&(_t|Nt|Rt)&&(at=L.curRecognizer=j),ct++}},get:function(R){if(R instanceof Ot)return R;for(var L=this.recognizers,j=0;j<L.length;j++)if(L[j].options.event==R)return L[j];return null},add:function(R){if(h(R,"add",this))return this;var L=this.get(R.options.event);return L&&this.remove(L),this.recognizers.push(R),R.manager=this,this.touchAction.update(),R},remove:function(R){if(h(R,"remove",this))return this;if(R=this.get(R),R){var L=this.recognizers,j=Z(L,R);j!==-1&&(L.splice(j,1),this.touchAction.update())}return this},on:function(R,L){if(R!==v&&L!==v){var j=this.handlers;return n(k(R),function(tt){j[tt]=j[tt]||[],j[tt].push(L)}),this}},off:function(R,L){if(R!==v){var j=this.handlers;return n(k(R),function(tt){L?j[tt]&&j[tt].splice(Z(j[tt],L),1):delete j[tt]}),this}},emit:function(R,L){this.options.domEvents&&Ne(R,L);var j=this.handlers[R]&&this.handlers[R].slice();if(!(!j||!j.length)){L.type=R,L.preventDefault=function(){L.srcEvent.preventDefault()};for(var tt=0;tt<j.length;)j[tt](L),tt++}},destroy:function(){this.element&&Me(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Me(R,L){var j=R.element;if(j.style){var tt;n(R.options.cssProps,function(at,ct){tt=J(j.style,ct),L?(R.oldCssProps[tt]=j.style[tt],j.style[tt]=at):j.style[tt]=R.oldCssProps[tt]||""}),L||(R.oldCssProps={})}}function Ne(R,L){var j=d.createEvent("Event");j.initEvent(R,!0,!0),j.gesture=L,L.target.dispatchEvent(j)}i(Dt,{INPUT_START:$,INPUT_MOVE:q,INPUT_END:it,INPUT_CANCEL:F,STATE_POSSIBLE:qt,STATE_BEGAN:_t,STATE_CHANGED:Nt,STATE_ENDED:Rt,STATE_RECOGNIZED:Mt,STATE_CANCELLED:Kt,STATE_FAILED:Ct,DIRECTION_NONE:G,DIRECTION_LEFT:z,DIRECTION_RIGHT:I,DIRECTION_UP:K,DIRECTION_DOWN:Q,DIRECTION_HORIZONTAL:nt,DIRECTION_VERTICAL:st,DIRECTION_ALL:ut,Manager:pe,Input:ht,TouchAction:ue,TouchInput:Qt,MouseInput:wt,PointerEventInput:Bt,TouchMouseInput:se,SingleTouchInput:ve,Recognizer:Ot,AttrRecognizer:Et,Tap:ne,Pan:ee,Swipe:de,Pinch:le,Rotate:he,Press:fe,on:A,off:B,each:n,merge:g,extend:p,assign:i,inherit:f,bindFn:E,prefixed:J});var be=typeof b<"u"?b:typeof self<"u"?self:{};be.Hammer=Dt,a=function(){return Dt}.call(V,l,V,rt),a!==v&&(rt.exports=a)})(window,document,"Hammer")},51270:rt=>{typeof Object.create=="function"?rt.exports=function(l,a){a&&(l.super_=a,l.prototype=Object.create(a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:rt.exports=function(l,a){if(a){l.super_=a;var b=function(){};b.prototype=a.prototype,l.prototype=new b,l.prototype.constructor=l}}},82867:(rt,V,l)=>{rt.exports=l(49389),rt.exports.Collection=l(12251)},12251:rt=>{function V(a,b,d,m){var v=d.inverse;return Object.defineProperty(a,"remove",{value:function(_){var c=this.indexOf(_);return c!==-1&&(this.splice(c,1),b.unset(_,v,m)),_}}),Object.defineProperty(a,"contains",{value:function(_){return this.indexOf(_)!==-1}}),Object.defineProperty(a,"add",{value:function(_,c){var C=this.indexOf(_);if(typeof c>"u"){if(C!==-1)return;c=this.length}C!==-1&&this.splice(C,1),this.splice(c,0,_),C===-1&&b.set(_,v,m)}}),Object.defineProperty(a,"__refs_collection",{value:!0}),a}function l(a){return a.__refs_collection===!0}rt.exports.extend=V,rt.exports.isExtended=l},49389:(rt,V,l)=>{var a=l(12251);function b(_,c){return Object.prototype.hasOwnProperty.call(_,c.name||c)}function d(_,c,C){var T=a.extend(C[c.name]||[],_,c,C);Object.defineProperty(C,c.name,{enumerable:c.enumerable,value:T}),T.length&&T.forEach(function(y){_.set(y,c.inverse,C)})}function m(_,c,C){var T=c.inverse,y=C[c.name];Object.defineProperty(C,c.name,{configurable:c.configurable,enumerable:c.enumerable,get:function(){return y},set:function(s){if(s!==y){var e=y;y=null,e&&_.unset(e,T,C),y=s,_.set(y,T,C)}}})}function v(_,c){if(!(this instanceof v))return new v(_,c);_.inverse=c,c.inverse=_,this.props={},this.props[_.name]=_,this.props[c.name]=c}v.prototype.bind=function(_,c){if(typeof c=="string"){if(!this.props[c])throw new Error("no property <"+c+"> in ref");c=this.props[c]}c.collection?d(this,c,_):m(this,c,_)},v.prototype.ensureRefsCollection=function(_,c){var C=_[c.name];return a.isExtended(C)||d(this,c,_),C},v.prototype.ensureBound=function(_,c){b(_,c)||this.bind(_,c)},v.prototype.unset=function(_,c,C){_&&(this.ensureBound(_,c),c.collection?this.ensureRefsCollection(_,c).remove(C):_[c.name]=void 0)},v.prototype.set=function(_,c,C){_&&(this.ensureBound(_,c),c.collection?this.ensureRefsCollection(_,c).add(C):_[c.name]=C)},rt.exports=v},38305:rt=>{var V=/,?([a-z]),?/gi,l=parseFloat,a=Math,b=a.PI,d=a.min,m=a.max,v=a.pow,_=a.abs,c=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,C=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,T=Array.isArray||function(x){return x instanceof Array};function y(x,t){return Object.prototype.hasOwnProperty.call(x,t)}function s(x){if(typeof x=="function"||Object(x)!==x)return x;var t=new x.constructor;for(var r in x)y(x,r)&&(t[r]=s(x[r]));return t}function e(x,t){for(var r=0,u=x.length;r<u;r++)if(x[r]===t)return x.push(x.splice(r,1)[0])}function h(x){function t(){var r=Array.prototype.slice.call(arguments,0),u=r.join("\u2400"),P=t.cache=t.cache||{},W=t.count=t.count||[];return y(P,u)?(e(W,u),P[u]):(W.length>=1e3&&delete P[W.shift()],W.push(u),P[u]=x.apply(0,r),P[u])}return t}function n(x){if(!x)return null;var t=o(x);if(t.arr)return s(t.arr);var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},u=[];return T(x)&&T(x[0])&&(u=s(x)),u.length||String(x).replace(c,function(P,W,H){var X=[],$=W.toLowerCase();for(H.replace(C,function(q,it){it&&X.push(+it)}),$=="m"&&X.length>2&&(u.push([W].concat(X.splice(0,2))),$="l",W=W=="m"?"l":"L");X.length>=r[$]&&(u.push([W].concat(X.splice(0,r[$]))),!!r[$]););}),u.toString=o.toString,t.arr=s(u),u}function o(x){var t=o.ps=o.ps||{};return t[x]?t[x].sleep=100:t[x]={sleep:100},setTimeout(function(){for(var r in t)y(t,r)&&r!=x&&(t[r].sleep--,!t[r].sleep&&delete t[r])}),t[x]}function i(x,t,r,u){return arguments.length===1&&(t=x.y,r=x.width,u=x.height,x=x.x),{x,y:t,width:r,height:u,x2:x+r,y2:t+u}}function p(){return this.join(",").replace(V,"$1")}function g(x){var t=s(x);return t.toString=p,t}function f(x,t,r,u,P,W,H,X,$){var q=1-$,it=v(q,3),F=v(q,2),G=$*$,z=G*$,I=it*x+F*3*$*r+q*3*$*$*P+z*H,K=it*t+F*3*$*u+q*3*$*$*W+z*X;return{x:U(I),y:U(K)}}function E(x){var t=M.apply(null,x);return i(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function O(x,t,r){return t>=x.x&&t<=x.x+x.width&&r>=x.y&&r<=x.y+x.height}function N(x,t){return x=i(x),t=i(t),O(t,x.x,x.y)||O(t,x.x2,x.y)||O(t,x.x,x.y2)||O(t,x.x2,x.y2)||O(x,t.x,t.y)||O(x,t.x2,t.y)||O(x,t.x,t.y2)||O(x,t.x2,t.y2)||(x.x<t.x2&&x.x>t.x||t.x<x.x2&&t.x>x.x)&&(x.y<t.y2&&x.y>t.y||t.y<x.y2&&t.y>x.y)}function A(x,t,r,u,P){var W=-3*t+9*r-9*u+3*P,H=x*W+6*t-12*r+6*u;return x*H-3*t+3*r}function B(x,t,r,u,P,W,H,X,$){$==null&&($=1),$=$>1?1:$<0?0:$;for(var q=$/2,it=12,F=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],G=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],z=0,I=0;I<it;I++){var K=q*F[I]+q,Q=A(K,x,r,P,H),nt=A(K,t,u,W,X),st=Q*Q+nt*nt;z+=G[I]*a.sqrt(st)}return q*z}function D(x,t,r,u,P,W,H,X){if(!(m(x,r)<d(P,H)||d(x,r)>m(P,H)||m(t,u)<d(W,X)||d(t,u)>m(W,X))){var $=(x*u-t*r)*(P-H)-(x-r)*(P*X-W*H),q=(x*u-t*r)*(W-X)-(t-u)*(P*X-W*H),it=(x-r)*(W-X)-(t-u)*(P-H);if(it){var F=U($/it),G=U(q/it),z=+F.toFixed(2),I=+G.toFixed(2);if(!(z<+d(x,r).toFixed(2)||z>+m(x,r).toFixed(2)||z<+d(P,H).toFixed(2)||z>+m(P,H).toFixed(2)||I<+d(t,u).toFixed(2)||I>+m(t,u).toFixed(2)||I<+d(W,X).toFixed(2)||I>+m(W,X).toFixed(2)))return{x:F,y:G}}}}function U(x){return Math.round(x*1e11)/1e11}function k(x,t,r){var u=E(x),P=E(t);if(!N(u,P))return r?0:[];for(var W=B.apply(0,x),H=B.apply(0,t),X=et(x)?1:~~(W/5)||1,$=et(t)?1:~~(H/5)||1,q=[],it=[],F={},G=r?0:[],z=0;z<X+1;z++){var I=f.apply(0,x.concat(z/X));q.push({x:I.x,y:I.y,t:z/X})}for(z=0;z<$+1;z++)I=f.apply(0,t.concat(z/$)),it.push({x:I.x,y:I.y,t:z/$});for(z=0;z<X;z++)for(var K=0;K<$;K++){var Q=q[z],nt=q[z+1],st=it[K],ut=it[K+1],ft=_(nt.x-Q.x)<.01?"y":"x",lt=_(ut.x-st.x)<.01?"y":"x",ht=D(Q.x,Q.y,nt.x,nt.y,st.x,st.y,ut.x,ut.y),pt;if(ht){if(pt=ht.x.toFixed(9)+"#"+ht.y.toFixed(9),F[pt])continue;F[pt]=!0;var vt=Q.t+_((ht[ft]-Q[ft])/(nt[ft]-Q[ft]))*(nt.t-Q.t),Pt=st.t+_((ht[lt]-st[lt])/(ut[lt]-st[lt]))*(ut.t-st.t);vt>=0&&vt<=1&&Pt>=0&&Pt<=1&&(r?G++:G.push({x:ht.x,y:ht.y,t1:vt,t2:Pt}))}}return G}function Z(x,t,r){x=S(x),t=S(t);for(var u,P,W,H,X,$,q,it,F,G,z=r?0:[],I=0,K=x.length;I<K;I++){var Q=x[I];if(Q[0]=="M")u=X=Q[1],P=$=Q[2];else{Q[0]=="C"?(F=[u,P].concat(Q.slice(1)),u=F[6],P=F[7]):(F=[u,P,u,P,X,$,X,$],u=X,P=$);for(var nt=0,st=t.length;nt<st;nt++){var ut=t[nt];if(ut[0]=="M")W=q=ut[1],H=it=ut[2];else{ut[0]=="C"?(G=[W,H].concat(ut.slice(1)),W=G[6],H=G[7]):(G=[W,H,W,H,q,it,q,it],W=q,H=it);var ft=k(F,G,r);if(r)z+=ft;else{for(var lt=0,ht=ft.length;lt<ht;lt++)ft[lt].segment1=I,ft[lt].segment2=nt,ft[lt].bez1=F,ft[lt].bez2=G;z=z.concat(ft)}}}}}return z}function ot(x){var t=o(x);if(t.abs)return g(t.abs);if((!T(x)||!T(x&&x[0]))&&(x=n(x)),!x||!x.length)return[["M",0,0]];var r=[],u=0,P=0,W=0,H=0,X=0,$;x[0][0]=="M"&&(u=+x[0][1],P=+x[0][2],W=u,H=P,X++,r[0]=["M",u,P]);for(var q,it,F=X,G=x.length;F<G;F++){if(r.push(q=[]),it=x[F],$=it[0],$!=$.toUpperCase())switch(q[0]=$.toUpperCase(),q[0]){case"A":q[1]=it[1],q[2]=it[2],q[3]=it[3],q[4]=it[4],q[5]=it[5],q[6]=+it[6]+u,q[7]=+it[7]+P;break;case"V":q[1]=+it[1]+P;break;case"H":q[1]=+it[1]+u;break;case"M":W=+it[1]+u,H=+it[2]+P;default:for(var z=1,I=it.length;z<I;z++)q[z]=+it[z]+(z%2?u:P)}else for(var K=0,Q=it.length;K<Q;K++)q[K]=it[K];switch($=$.toUpperCase(),q[0]){case"Z":u=+W,P=+H;break;case"H":u=q[1];break;case"V":P=q[1];break;case"M":W=q[q.length-2],H=q[q.length-1];default:u=q[q.length-2],P=q[q.length-1]}}return r.toString=p,t.abs=g(r),r}function et(x){return x[0]===x[2]&&x[1]===x[3]&&x[4]===x[6]&&x[5]===x[7]}function J(x,t,r,u){return[x,t,r,u,r,u]}function Y(x,t,r,u,P,W){var H=.3333333333333333,X=2/3;return[H*x+X*r,H*t+X*u,H*P+X*r,H*W+X*u,P,W]}function w(x,t,r,u,P,W,H,X,$,q){var it=b*120/180,F=b/180*(+P||0),G=[],z,I=h(function(bt,Bt,Ut){var oe=bt*a.cos(Ut)-Bt*a.sin(Ut),ae=bt*a.sin(Ut)+Bt*a.cos(Ut);return{x:oe,y:ae}});if(q)pt=q[0],vt=q[1],lt=q[2],ht=q[3];else{z=I(x,t,-F),x=z.x,t=z.y,z=I(X,$,-F),X=z.x,$=z.y;var K=(x-X)/2,Q=(t-$)/2,nt=K*K/(r*r)+Q*Q/(u*u);nt>1&&(nt=a.sqrt(nt),r=nt*r,u=nt*u);var st=r*r,ut=u*u,ft=(W==H?-1:1)*a.sqrt(_((st*ut-st*Q*Q-ut*K*K)/(st*Q*Q+ut*K*K))),lt=ft*r*Q/u+(x+X)/2,ht=ft*-u*K/r+(t+$)/2,pt=a.asin(((t-ht)/u).toFixed(9)),vt=a.asin((($-ht)/u).toFixed(9));pt=x<lt?b-pt:pt,vt=X<lt?b-vt:vt,pt<0&&(pt=b*2+pt),vt<0&&(vt=b*2+vt),H&&pt>vt&&(pt=pt-b*2),!H&&vt>pt&&(vt=vt-b*2)}var Pt=vt-pt;if(_(Pt)>it){var ie=vt,re=X,Ht=$;vt=pt+it*(H&&vt>pt?1:-1),X=lt+r*a.cos(vt),$=ht+u*a.sin(vt),G=w(X,$,r,u,P,0,H,re,Ht,[vt,ie,lt,ht])}Pt=vt-pt;var jt=a.cos(pt),Gt=a.sin(pt),zt=a.cos(vt),It=a.sin(vt),Lt=a.tan(Pt/4),kt=4/3*r*Lt,Vt=4/3*u*Lt,Yt=[x,t],At=[x+kt*Gt,t-Vt*jt],$t=[X+kt*It,$-Vt*zt],wt=[X,$];if(At[0]=2*Yt[0]-At[0],At[1]=2*Yt[1]-At[1],q)return[At,$t,wt].concat(G);G=[At,$t,wt].concat(G).join().split(",");for(var Xt=[],xt=0,Zt=G.length;xt<Zt;xt++)Xt[xt]=xt%2?I(G[xt-1],G[xt],F).y:I(G[xt],G[xt+1],F).x;return Xt}function M(x,t,r,u,P,W,H,X){for(var $=[],q=[[],[]],it,F,G,z,I,K,Q,nt,st=0;st<2;++st){if(st==0?(F=6*x-12*r+6*P,it=-3*x+9*r-9*P+3*H,G=3*r-3*x):(F=6*t-12*u+6*W,it=-3*t+9*u-9*W+3*X,G=3*u-3*t),_(it)<1e-12){if(_(F)<1e-12)continue;z=-G/F,0<z&&z<1&&$.push(z);continue}Q=F*F-4*G*it,nt=a.sqrt(Q),!(Q<0)&&(I=(-F+nt)/(2*it),0<I&&I<1&&$.push(I),K=(-F-nt)/(2*it),0<K&&K<1&&$.push(K))}for(var ut=$.length,ft=ut,lt;ut--;)z=$[ut],lt=1-z,q[0][ut]=lt*lt*lt*x+3*lt*lt*z*r+3*lt*z*z*P+z*z*z*H,q[1][ut]=lt*lt*lt*t+3*lt*lt*z*u+3*lt*z*z*W+z*z*z*X;return q[0][ft]=x,q[1][ft]=t,q[0][ft+1]=H,q[1][ft+1]=X,q[0].length=q[1].length=ft+2,{x0:d.apply(0,q[0]),y0:d.apply(0,q[1]),x1:m.apply(0,q[0]),y1:m.apply(0,q[1])}}function S(x){var t=o(x);if(t.curve)return g(t.curve);for(var r=ot(x),u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},P=function(z,I,K){var Q,nt;if(!z)return["C",I.x,I.y,I.x,I.y,I.x,I.y];switch(!(z[0]in{T:1,Q:1})&&(I.qx=I.qy=null),z[0]){case"M":I.X=z[1],I.Y=z[2];break;case"A":z=["C"].concat(w.apply(0,[I.x,I.y].concat(z.slice(1))));break;case"S":K=="C"||K=="S"?(Q=I.x*2-I.bx,nt=I.y*2-I.by):(Q=I.x,nt=I.y),z=["C",Q,nt].concat(z.slice(1));break;case"T":K=="Q"||K=="T"?(I.qx=I.x*2-I.qx,I.qy=I.y*2-I.qy):(I.qx=I.x,I.qy=I.y),z=["C"].concat(Y(I.x,I.y,I.qx,I.qy,z[1],z[2]));break;case"Q":I.qx=z[1],I.qy=z[2],z=["C"].concat(Y(I.x,I.y,z[1],z[2],z[3],z[4]));break;case"L":z=["C"].concat(J(I.x,I.y,z[1],z[2]));break;case"H":z=["C"].concat(J(I.x,I.y,z[1],I.y));break;case"V":z=["C"].concat(J(I.x,I.y,I.x,z[1]));break;case"Z":z=["C"].concat(J(I.x,I.y,I.X,I.Y));break}return z},W=function(z,I){if(z[I].length>7){z[I].shift();for(var K=z[I];K.length;)H[I]="A",z.splice(I++,0,["C"].concat(K.splice(0,6)));z.splice(I,1),it=r.length}},H=[],X="",$="",q=0,it=r.length;q<it;q++){r[q]&&(X=r[q][0]),X!="C"&&(H[q]=X,q&&($=H[q-1])),r[q]=P(r[q],u,$),H[q]!="A"&&X=="C"&&(H[q]="C"),W(r,q);var F=r[q],G=F.length;u.x=F[G-2],u.y=F[G-1],u.bx=l(F[G-4])||u.x,u.by=l(F[G-3])||u.y}return t.curve=g(r),r}rt.exports=Z},15192:(rt,V,l)=>{l.d(V,{A:()=>Y});var a=/^class /;function b(w){return a.test(w.toString())}function d(w){return Object.prototype.toString.call(w)==="[object Array]"}function m(){var w=Array.prototype.slice.call(arguments);w.length===1&&d(w[0])&&(w=w[0]);var M=w.pop();return M.$inject=w,M}var v=/constructor\s*[^(]*\(\s*([^)]*)\)/m,_=/^function\s*[^(]*\(\s*([^)]*)\)/m,c=/\/\*([^*]*)\*\//m;function C(w){if(typeof w!="function")throw new Error('Cannot annotate "'+w+'". Expected a function!');var M=w.toString().match(b(w)?v:_);return M?M[1]&&M[1].split(",").map(function(S){return M=S.match(c),M?M[1].trim():S.trim()})||[]:[]}function T(){var w=[];this.factory=function(M,S){return w.push([M,"factory",S]),this},this.value=function(M,S){return w.push([M,"value",S]),this},this.type=function(M,S){return w.push([M,"type",S]),this},this.forEach=function(M){w.forEach(M)}}var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w};function s(w){if(Array.isArray(w)){for(var M=0,S=Array(w.length);M<w.length;M++)S[M]=w[M];return S}else return Array.from(w)}function e(w,M){M=M||{get:function(G,z){if(S.push(G),z===!1)return null;throw u('No provider for "'+G+'"!')}};var S=[],x=this._providers=Object.create(M._providers||null),t=this._instances=Object.create(null),r=t.injector=this,u=function(G){var z=S.join(" -> ");return S.length=0,new Error(z?G+" (Resolving: "+z+")":G)},P=function F(G,z){if(!x[G]&&G.indexOf(".")!==-1){for(var I=G.split("."),K=F(I.shift());I.length;)K=K[I.shift()];return K}if(h(t,G))return t[G];if(h(x,G)){if(S.indexOf(G)!==-1)throw S.push(G),u("Cannot resolve circular dependency!");return S.push(G),t[G]=x[G][0](x[G][1]),S.pop(),t[G]}return M.get(G,z)},W=function(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof G!="function")if(d(G))G=m(G.slice());else throw new Error('Cannot invoke "'+G+'". Expected a function!');var I=G.$inject||C(G),K=I.map(function(Q){return h(z,Q)?z[Q]:P(Q)});return{fn:G,dependencies:K}},H=function(G){var z=W(G),I=z.dependencies,K=z.fn;return new(Function.prototype.bind.apply(K,[null].concat(s(I))))},X=function(G,z,I){var K=W(G,I),Q=K.dependencies,nt=K.fn;return nt.call.apply(nt,[z].concat(s(Q)))},$=function(G){return m(function(z){return G.get(z)})},q=function(G,z){if(z&&z.length){var I=Object.create(null),K=Object.create(null),Q=[],nt=[],st=[],ut,ft,lt,ht;for(var pt in x)ut=x[pt],z.indexOf(pt)!==-1&&(ut[2]==="private"?(ft=Q.indexOf(ut[3]),ft===-1?(lt=ut[3].createChild([],z),ht=$(lt),Q.push(ut[3]),nt.push(lt),st.push(ht),I[pt]=[ht,pt,"private",lt]):I[pt]=[st[ft],pt,"private",nt[ft]]):I[pt]=[ut[2],ut[1]],K[pt]=!0),(ut[2]==="factory"||ut[2]==="type")&&ut[1].$scope&&z.forEach(function(vt){ut[1].$scope.indexOf(vt)!==-1&&(I[pt]=[ut[2],ut[1]],K[vt]=!0)});z.forEach(function(vt){if(!K[vt])throw new Error('No provider for "'+vt+'". Cannot use provider from the parent!')}),G.unshift(I)}return new e(G,r)},it={factory:X,type:H,value:function(G){return G}};w.forEach(function(F){function G(Q,nt){return Q!=="value"&&d(nt)&&(nt=m(nt.slice())),nt}if(F instanceof T)F.forEach(function(Q){var nt=Q[0],st=Q[1],ut=Q[2];x[nt]=[it[st],G(st,ut),st]});else if((typeof F>"u"?"undefined":y(F))==="object")if(F.__exports__){var z=Object.keys(F).reduce(function(Q,nt){return nt.substring(0,2)!=="__"&&(Q[nt]=F[nt]),Q},Object.create(null)),I=new e((F.__modules__||[]).concat([z]),r),K=m(function(Q){return I.get(Q)});F.__exports__.forEach(function(Q){x[Q]=[K,Q,"private",I]})}else Object.keys(F).forEach(function(Q){if(F[Q][2]==="private"){x[Q]=F[Q];return}var nt=F[Q][0],st=F[Q][1];x[Q]=[it[nt],G(nt,st),nt]})}),this.get=P,this.invoke=X,this.instantiate=H,this.createChild=q}function h(w,M){return Object.hasOwnProperty.call(w,M)}var n=l(51270),o=l.n(n),i=l(97975),p=l(12619),g=l(33225),f=l(10018),E=1;function O(w,M){i.A.call(this,w,E),this.CONNECTION_STYLE=M.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=M.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=M.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}o()(O,i.A),O.prototype.canRender=function(){return!0},O.prototype.drawShape=function(M,S){var x=(0,g.vt)("rect");return(0,g.CF)(x,{x:0,y:0,width:S.width||0,height:S.height||0}),(0,f.eb)(S)?(0,g.CF)(x,this.FRAME_STYLE):(0,g.CF)(x,this.SHAPE_STYLE),(0,g.BC)(M,x),x},O.prototype.drawConnection=function(M,S){var x=(0,p.RJ)(S.waypoints,this.CONNECTION_STYLE);return(0,g.BC)(M,x),x},O.prototype.getShapePath=function(M){var S=M.x,x=M.y,t=M.width,r=M.height,u=[["M",S,x],["l",t,0],["l",0,r],["l",-t,0],["z"]];return(0,p.tx)(u)},O.prototype.getConnectionPath=function(M){var S=M.waypoints,x,t,r=[];for(x=0;t=S[x];x++)t=t.original||t,r.push([x===0?"M":"L",t.x,t.y]);return(0,p.tx)(r)},O.$inject=["eventBus","styles"];var N=l(19187);const A={__init__:["defaultRenderer"],defaultRenderer:["type",O],styles:["type",N.A]};var B=l(69034),D=l(54343),U=l(15176),k=l(95820),Z=l(40969);const ot={__depends__:[A],__init__:["canvas"],canvas:["type",B.A],elementRegistry:["type",D.A],elementFactory:["type",U.A],eventBus:["type",k.A],graphicsFactory:["type",Z.A]};function et(w){var M=[],S=[];function x(P){return M.indexOf(P)>=0}function t(P){M.push(P)}function r(P){x(P)||((P.__depends__||[]).forEach(r),!x(P)&&(t(P),(P.__init__||[]).forEach(function(W){S.push(W)})))}w.forEach(r);var u=new e(M);return S.forEach(function(P){try{u[typeof P=="string"?"get":"invoke"](P)}catch(W){throw console.error("Failed to instantiate component"),console.error(W.stack),W}}),u}function J(w){w=w||{};var M={config:["value",w]},S=[M,ot].concat(w.modules||[]);return et(S)}function Y(w,M){this.injector=M=M||J(w),this.get=M.get,this.invoke=M.invoke,this.get("eventBus").fire("diagram.init")}Y.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},Y.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},6705:(rt,V,l)=>{l.d(V,{A:()=>m});var a=l(98218),b=l.n(a),d=1e3;function m(c){this._eventBus=c}m.$inject=["eventBus"];function v(c,C){return function(T){return c.call(C||null,T.context,T.command,T)}}m.prototype.on=function(c,C,T,y,s,e){if(((0,a.isFunction)(C)||(0,a.isNumber)(C))&&(e=s,s=y,y=T,T=C,C=null),(0,a.isFunction)(T)&&(e=s,s=y,y=T,T=d),(0,a.isObject)(s)&&(e=s,s=!1),!(0,a.isFunction)(y))throw new Error("handlerFn must be a function");(0,a.isArray)(c)||(c=[c]);var h=this._eventBus;(0,a.forEach)(c,function(n){var o=["commandStack",n,C].filter(function(i){return i}).join(".");h.on(o,T,s?v(y,e):y,e)})};var _=["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"];(0,a.forEach)(_,function(c){m.prototype[c]=function(C,T,y,s,e){((0,a.isFunction)(C)||(0,a.isNumber)(C))&&(e=s,s=y,y=T,T=C,C=null),this.on(C,c,T,y,s,e)}})},17389:(rt,V,l)=>{l.d(V,{A:()=>d});var a=l(98218),b=l.n(a);function d(m,v){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=v,this._eventBus=m,this._uid=1,m.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}d.$inject=["eventBus","injector"],d.prototype.execute=function(m,v){if(!m)throw new Error("command required");var _={command:m,context:v};this._pushAction(_),this._internalExecute(_),this._popAction(_)},d.prototype.canExecute=function(m,v){var _={command:m,context:v},c=this._getHandler(m),C=this._fire(m,"canExecute",_);if(C===void 0){if(!c)return!1;c.canExecute&&(C=c.canExecute(v))}return C},d.prototype.clear=function(m){this._stack.length=0,this._stackIdx=-1,m!==!1&&this._fire("changed")},d.prototype.undo=function(){var m=this._getUndoAction(),v;if(m){for(this._pushAction(m);m&&(this._internalUndo(m),v=this._getUndoAction(),!(!v||v.id!==m.id));)m=v;this._popAction()}},d.prototype.redo=function(){var m=this._getRedoAction(),v;if(m){for(this._pushAction(m);m&&(this._internalExecute(m,!0),v=this._getRedoAction(),!(!v||v.id!==m.id));)m=v;this._popAction()}},d.prototype.register=function(m,v){this._setHandler(m,v)},d.prototype.registerHandler=function(m,v){if(!m||!v)throw new Error("command and handlerCls must be defined");var _=this._injector.instantiate(v);this.register(m,_)},d.prototype.canUndo=function(){return!!this._getUndoAction()},d.prototype.canRedo=function(){return!!this._getRedoAction()},d.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},d.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},d.prototype._internalUndo=function(m){var v=this,_=m.command,c=m.context,C=this._getHandler(_);this._atomicDo(function(){v._fire(_,"revert",m),C.revert&&v._markDirty(C.revert(c)),v._revertedAction(m),v._fire(_,"reverted",m)})},d.prototype._fire=function(m,v,_){arguments.length<3&&(_=v,v=null);var c=v?[m+"."+v,v]:[m],C,T,y;for(_=this._eventBus.createEvent(_),C=0;(T=c[C])&&(y=this._eventBus.fire("commandStack."+T,_),!_.cancelBubble);C++);return y},d.prototype._createId=function(){return this._uid++},d.prototype._atomicDo=function(m){var v=this._currentExecution;v.atomic=!0;try{m()}finally{v.atomic=!1}},d.prototype._internalExecute=function(m,v){var _=this,c=m.command,C=m.context,T=this._getHandler(c);if(!T)throw new Error("no command handler registered for <"+c+">");this._pushAction(m),v||(this._fire(c,"preExecute",m),T.preExecute&&T.preExecute(C),this._fire(c,"preExecuted",m)),this._atomicDo(function(){_._fire(c,"execute",m),T.execute&&_._markDirty(T.execute(C)),_._executedAction(m,v),_._fire(c,"executed",m)}),v||(this._fire(c,"postExecute",m),T.postExecute&&T.postExecute(C),this._fire(c,"postExecuted",m)),this._popAction(m)},d.prototype._pushAction=function(m){var v=this._currentExecution,_=v.actions,c=_[0];if(v.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+m.command+")");m.id||(m.id=c&&c.id||this._createId()),_.push(m)},d.prototype._popAction=function(){var m=this._currentExecution,v=m.actions,_=m.dirty;v.pop(),v.length||(this._eventBus.fire("elements.changed",{elements:(0,a.uniqueBy)("id",_.reverse())}),_.length=0,this._fire("changed"))},d.prototype._markDirty=function(m){var v=this._currentExecution;m&&(m=(0,a.isArray)(m)?m:[m],v.dirty=v.dirty.concat(m))},d.prototype._executedAction=function(m,v){var _=++this._stackIdx;v||this._stack.splice(_,this._stack.length,m)},d.prototype._revertedAction=function(m){this._stackIdx--},d.prototype._getHandler=function(m){return this._handlerMap[m]},d.prototype._setHandler=function(m,v){if(!m||!v)throw new Error("command and handler required");if(this._handlerMap[m])throw new Error("overriding handler for command <"+m+">");this._handlerMap[m]=v}},69034:(rt,V,l)=>{l.d(V,{A:()=>e});var a=l(98218),b=l.n(a),d=l(6958),m=l(10018),v=l(33225);function _(n,o){return Math.round(n*o)/o}function c(n){return(0,a.isNumber)(n)?n+"px":n}function C(n){n=(0,a.assign)({},{width:"100%",height:"100%"},n);var o=n.container||document.body,i=document.createElement("div");return i.setAttribute("class","djs-container"),(0,a.assign)(i.style,{position:"relative",overflow:"hidden",width:c(n.width),height:c(n.height)}),o.appendChild(i),i}function T(n,o,i){var p=(0,v.vt)("g");(0,v.Ly)(p).add(o);var g=i!==void 0?i:n.childNodes.length-1;return n.insertBefore(p,n.childNodes[g]||null),p}var y="base",s={shape:["x","y","width","height"],connection:["waypoints"]};function e(n,o,i,p){this._eventBus=o,this._elementRegistry=p,this._graphicsFactory=i,this._init(n||{})}e.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],e.prototype._init=function(n){var o=this._eventBus,i=this._container=C(n),p=this._svg=(0,v.vt)("svg");(0,v.CF)(p,{width:"100%",height:"100%"}),(0,v.BC)(i,p);var g=this._viewport=T(p,"viewport");this._layers={},n.deferUpdate!==!1&&(this._viewboxChanged=(0,a.debounce)((0,a.bind)(this._viewboxChanged,this),300)),o.on("diagram.init",function(){o.fire("canvas.init",{svg:p,viewport:g})},this),o.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),o.on("diagram.destroy",500,this._destroy,this),o.on("diagram.clear",500,this._clear,this)},e.prototype._destroy=function(n){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var o=this._container.parentNode;o&&o.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},e.prototype._clear=function(){var n=this,o=this._elementRegistry.getAll();o.forEach(function(i){var p=(0,m.Pw)(i);p==="root"?n.setRootElement(null,!0):n._removeElement(i,p)}),delete this._cachedViewbox},e.prototype.getDefaultLayer=function(){return this.getLayer(y,0)},e.prototype.getLayer=function(n,o){if(!n)throw new Error("must specify a name");var i=this._layers[n];if(i||(i=this._layers[n]=this._createLayer(n,o)),typeof o<"u"&&i.index!==o)throw new Error("layer <"+n+"> already created at index <"+o+">");return i.group},e.prototype._createLayer=function(n,o){o||(o=0);var i=(0,a.reduce)(this._layers,function(p,g){return o>=g.index&&p++,p},0);return{group:T(this._viewport,"layer-"+n,i),index:o}},e.prototype.getContainer=function(){return this._container},e.prototype._updateMarker=function(n,o,i){var p;n.id||(n=this._elementRegistry.get(n)),p=this._elementRegistry._elements[n.id],p&&((0,a.forEach)([p.gfx,p.secondaryGfx],function(g){g&&(i?(0,v.Ly)(g).add(o):(0,v.Ly)(g).remove(o))}),this._eventBus.fire("element.marker.update",{element:n,gfx:p.gfx,marker:o,add:!!i}))},e.prototype.addMarker=function(n,o){this._updateMarker(n,o,!0)},e.prototype.removeMarker=function(n,o){this._updateMarker(n,o,!1)},e.prototype.hasMarker=function(n,o){n.id||(n=this._elementRegistry.get(n));var i=this.getGraphics(n);return(0,v.Ly)(i).has(o)},e.prototype.toggleMarker=function(n,o){this.hasMarker(n,o)?this.removeMarker(n,o):this.addMarker(n,o)},e.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},e.prototype.setRootElement=function(n,o){n&&this._ensureValid("root",n);var i=this._rootElement,p=this._elementRegistry,g=this._eventBus;if(i){if(!o)throw new Error("rootElement already set, need to specify override");g.fire("root.remove",{element:i}),g.fire("root.removed",{element:i}),p.remove(i)}if(n){var f=this.getDefaultLayer();g.fire("root.add",{element:n}),p.add(n,f,this._svg),g.fire("root.added",{element:n,gfx:f})}return this._rootElement=n,n},e.prototype._ensureValid=function(n,o){if(!o.id)throw new Error("element must have an id");if(this._elementRegistry.get(o.id))throw new Error("element with id "+o.id+" already exists");var i=s[n],p=(0,a.every)(i,function(g){return typeof o[g]<"u"});if(!p)throw new Error("must supply { "+i.join(", ")+" } with "+n)},e.prototype._setParent=function(n,o,i){(0,d.WQ)(o.children,n,i),n.parent=o},e.prototype._addElement=function(n,o,i,p){i=i||this.getRootElement();var g=this._eventBus,f=this._graphicsFactory;this._ensureValid(n,o),g.fire(n+".add",{element:o,parent:i}),this._setParent(o,i,p);var E=f.create(n,o,p);return this._elementRegistry.add(o,E),f.update(n,o,E),g.fire(n+".added",{element:o,gfx:E}),o},e.prototype.addShape=function(n,o,i){return this._addElement("shape",n,o,i)},e.prototype.addConnection=function(n,o,i){return this._addElement("connection",n,o,i)},e.prototype._removeElement=function(n,o){var i=this._elementRegistry,p=this._graphicsFactory,g=this._eventBus;if(n=i.get(n.id||n),!!n)return g.fire(o+".remove",{element:n}),p.remove(n),(0,d.TF)(n.parent&&n.parent.children,n),n.parent=null,g.fire(o+".removed",{element:n}),i.remove(n),n},e.prototype.removeShape=function(n){return this._removeElement(n,"shape")},e.prototype.removeConnection=function(n){return this._removeElement(n,"connection")},e.prototype.getGraphics=function(n,o){return this._elementRegistry.getGraphics(n,o)},e.prototype._changeViewbox=function(n){this._eventBus.fire("canvas.viewbox.changing"),n.apply(this),this._cachedViewbox=null,this._viewboxChanged()},e.prototype._viewboxChanged=function(){this._container&&this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},e.prototype.viewbox=function(n){if(n===void 0&&this._cachedViewbox)return this._cachedViewbox;var o=this._viewport,i,p=this.getSize(),g,f,E,O,N;if(n)this._changeViewbox(function(){E=Math.min(p.width/n.width,p.height/n.height);var A=this._svg.createSVGMatrix().scale(E).translate(-n.x,-n.y);(0,v.pd)(o,A)});else return i=this.getDefaultLayer().getBBox(),f=(0,v.pd)(o),g=f?f.matrix:(0,v.uK)(),E=_(g.a,1e3),O=_(-g.e||0,1e3),N=_(-g.f||0,1e3),n=this._cachedViewbox={x:O?O/E:0,y:N?N/E:0,width:p.width/E,height:p.height/E,scale:E,inner:{width:i.width,height:i.height,x:i.x,y:i.y},outer:p},n;return n},e.prototype.scroll=function(n){var o=this._viewport,i=o.getCTM();return n&&this._changeViewbox(function(){n=(0,a.assign)({dx:0,dy:0},n||{}),i=this._svg.createSVGMatrix().translate(n.dx,n.dy).multiply(i),h(o,i)}),{x:i.e,y:i.f}},e.prototype.zoom=function(n,o){if(!n)return this.viewbox(n).scale;if(n==="fit-viewport")return this._fitViewport(o);var i,p;return this._changeViewbox(function(){typeof o!="object"&&(i=this.viewbox().outer,o={x:i.width/2,y:i.height/2}),p=this._setZoom(n,o)}),_(p.a,1e3)};function h(n,o){var i="matrix("+o.a+","+o.b+","+o.c+","+o.d+","+o.e+","+o.f+")";n.setAttribute("transform",i)}e.prototype._fitViewport=function(n){var o=this.viewbox(),i=o.outer,p=o.inner,g,f;return p.x>=0&&p.y>=0&&p.x+p.width<=i.width&&p.y+p.height<=i.height&&!n?f={x:0,y:0,width:Math.max(p.width+p.x,i.width),height:Math.max(p.height+p.y,i.height)}:(g=Math.min(1,i.width/p.width,i.height/p.height),f={x:p.x+(n?p.width/2-i.width/g/2:0),y:p.y+(n?p.height/2-i.height/g/2:0),width:i.width/g,height:i.height/g}),this.viewbox(f),this.viewbox(!1).scale},e.prototype._setZoom=function(n,o){var i=this._svg,p=this._viewport,g=i.createSVGMatrix(),f=i.createSVGPoint(),E,O,N,A,B;N=p.getCTM();var D=N.a;return o?(E=(0,a.assign)(f,o),O=E.matrixTransform(N.inverse()),A=g.translate(O.x,O.y).scale(1/D*n).translate(-O.x,-O.y),B=N.multiply(A)):B=g.scale(n),h(this._viewport,B),B},e.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},e.prototype.getAbsoluteBBox=function(n){var o=this.viewbox(),i;if(n.waypoints){var p=this.getGraphics(n);i=p.getBBox()}else i=n;var g=i.x*o.scale-o.x*o.scale,f=i.y*o.scale-o.y*o.scale,E=i.width*o.scale,O=i.height*o.scale;return{x:g,y:f,width:E,height:O}},e.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},15176:(rt,V,l)=>{l.d(V,{A:()=>m});var a=l(49096),b=l(98218),d=l.n(b);function m(){this._uid=12}m.prototype.createRoot=function(v){return this.create("root",v)},m.prototype.createLabel=function(v){return this.create("label",v)},m.prototype.createShape=function(v){return this.create("shape",v)},m.prototype.createConnection=function(v){return this.create("connection",v)},m.prototype.create=function(v,_){return _=(0,b.assign)({},_||{}),_.id||(_.id=v+"_"+this._uid++),(0,a.vt)(v,_)}},54343:(rt,V,l)=>{l.d(V,{A:()=>d});var a=l(33225),b="data-element-id";function d(m){this._elements={},this._eventBus=m}d.$inject=["eventBus"],d.prototype.add=function(m,v,_){var c=m.id;this._validateId(c),(0,a.CF)(v,b,c),_&&(0,a.CF)(_,b,c),this._elements[c]={element:m,gfx:v,secondaryGfx:_}},d.prototype.remove=function(m){var v=this._elements,_=m.id||m,c=_&&v[_];c&&((0,a.CF)(c.gfx,b,""),c.secondaryGfx&&(0,a.CF)(c.secondaryGfx,b,""),delete v[_])},d.prototype.updateId=function(m,v){this._validateId(v),typeof m=="string"&&(m=this.get(m)),this._eventBus.fire("element.updateId",{element:m,newId:v});var _=this.getGraphics(m),c=this.getGraphics(m,!0);this.remove(m),m.id=v,this.add(m,_,c)},d.prototype.get=function(m){var v;typeof m=="string"?v=m:v=m&&(0,a.CF)(m,b);var _=this._elements[v];return _&&_.element},d.prototype.filter=function(m){var v=[];return this.forEach(function(_,c){m(_,c)&&v.push(_)}),v},d.prototype.getAll=function(){return this.filter(function(m){return m})},d.prototype.forEach=function(m){var v=this._elements;Object.keys(v).forEach(function(_){var c=v[_],C=c.element,T=c.gfx;return m(C,T)})},d.prototype.getGraphics=function(m,v){var _=m.id||m,c=this._elements[_];return c&&(v?c.secondaryGfx:c.gfx)},d.prototype._validateId=function(m){if(!m)throw new Error("element must have an id");if(this._elements[m])throw new Error("element with id "+m+" already added")}},95820:(rt,V,l)=>{l.d(V,{A:()=>_});var a=l(98218),b=l.n(a),d="__fn",m=1e3,v=Array.prototype.slice;function _(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}_.prototype.on=function(T,y,s,e){if(T=(0,a.isArray)(T)?T:[T],(0,a.isFunction)(y)&&(e=s,s=y,y=m),!(0,a.isNumber)(y))throw new Error("priority must be a number");var h=s;e&&(h=(0,a.bind)(s,e),h[d]=s[d]||s);var n=this;T.forEach(function(o){n._addListener(o,{priority:y,callback:h,next:null})})},_.prototype.once=function(T,y,s,e){var h=this;if((0,a.isFunction)(y)&&(e=s,s=y,y=m),!(0,a.isNumber)(y))throw new Error("priority must be a number");function n(){var o=s.apply(e,arguments);return h.off(T,n),o}n[d]=s,this.on(T,y,n)},_.prototype.off=function(T,y){T=(0,a.isArray)(T)?T:[T];var s=this;T.forEach(function(e){s._removeListener(e,y)})},_.prototype.createEvent=function(T){var y=new c;return y.init(T),y},_.prototype.fire=function(T,y){var s,e,h,n;if(n=v.call(arguments),typeof T=="object"&&(y=T,T=y.type),!T)throw new Error("no event type specified");if(e=this._listeners[T],!!e){y instanceof c?s=y:s=this.createEvent(y),n[0]=s;var o=s.type;T!==o&&(s.type=T);try{h=this._invokeListeners(s,n,e)}finally{T!==o&&(s.type=o)}return h===void 0&&s.defaultPrevented&&(h=!1),h}},_.prototype.handleError=function(T){return this.fire("error",{error:T})===!1},_.prototype._destroy=function(){this._listeners={}},_.prototype._invokeListeners=function(T,y,s){for(var e;s&&!T.cancelBubble;)e=this._invokeListener(T,y,s),s=s.next;return e},_.prototype._invokeListener=function(T,y,s){var e;try{e=C(s.callback,y),e!==void 0&&(T.returnValue=e,T.stopPropagation()),e===!1&&T.preventDefault()}catch(h){if(!this.handleError(h))throw console.error("unhandled error in event listener"),console.error(h.stack),h}return e},_.prototype._addListener=function(T,y){var s=this._getListeners(T),e;if(!s){this._setListeners(T,y);return}for(;s;){if(s.priority<y.priority){y.next=s,e?e.next=y:this._setListeners(T,y);return}e=s,s=s.next}e.next=y},_.prototype._getListeners=function(T){return this._listeners[T]},_.prototype._setListeners=function(T,y){this._listeners[T]=y},_.prototype._removeListener=function(T,y){var s=this._getListeners(T),e,h,n;if(!y){this._setListeners(T,null);return}for(;s;)e=s.next,n=s.callback,(n===y||n[d]===y)&&(h?h.next=e:this._setListeners(T,e)),h=s,s=e};function c(){}c.prototype.stopPropagation=function(){this.cancelBubble=!0},c.prototype.preventDefault=function(){this.defaultPrevented=!0},c.prototype.init=function(T){(0,a.assign)(this,T||{})};function C(T,y){return T.apply(null,y)}},40969:(rt,V,l)=>{l.d(V,{A:()=>T});var a=l(98218),b=l.n(a),d=l(12266),m=l(52965),v=l(52687),_=l.n(v),c=l(33225),C=l(10018);function T(s,e){this._eventBus=s,this._elementRegistry=e}T.$inject=["eventBus","elementRegistry"],T.prototype._getChildrenContainer=function(s){var e=this._elementRegistry.getGraphics(s),h;return s.parent?(h=(0,d.i)(e),h||(h=(0,c.vt)("g"),(0,c.Ly)(h).add("djs-children"),(0,c.BC)(e.parentNode,h))):h=e,h},T.prototype._clear=function(s){var e=(0,d.P)(s);return(0,v.clear)(e),e},T.prototype._createContainer=function(s,e,h,n){var o=(0,c.vt)("g");(0,c.Ly)(o).add("djs-group"),typeof h<"u"?y(o,e,e.childNodes[h]):(0,c.BC)(e,o);var i=(0,c.vt)("g");(0,c.Ly)(i).add("djs-element"),(0,c.Ly)(i).add("djs-"+s),n&&(0,c.Ly)(i).add("djs-frame"),(0,c.BC)(o,i);var p=(0,c.vt)("g");return(0,c.Ly)(p).add("djs-visual"),(0,c.BC)(i,p),i},T.prototype.create=function(s,e,h){var n=this._getChildrenContainer(e.parent);return this._createContainer(s,n,h,(0,C.eb)(e))},T.prototype.updateContainments=function(s){var e=this,h=this._elementRegistry,n;n=(0,a.reduce)(s,function(o,i){return i.parent&&(o[i.parent.id]=i.parent),o},{}),(0,a.forEach)(n,function(o){var i=o.children;if(i){var p=e._getChildrenContainer(o);(0,a.forEach)(i.slice().reverse(),function(g){var f=h.getGraphics(g);y(f.parentNode,p)})}})},T.prototype.drawShape=function(s,e){var h=this._eventBus;return h.fire("render.shape",{gfx:s,element:e})},T.prototype.getShapePath=function(s){var e=this._eventBus;return e.fire("render.getShapePath",s)},T.prototype.drawConnection=function(s,e){var h=this._eventBus;return h.fire("render.connection",{gfx:s,element:e})},T.prototype.getConnectionPath=function(s){var e=this._eventBus;return e.fire("render.getConnectionPath",s)},T.prototype.update=function(s,e,h){if(e.parent){var n=this._clear(h);if(s==="shape")this.drawShape(n,e),(0,m.Tl)(h,e.x,e.y);else if(s==="connection")this.drawConnection(n,e);else throw new Error("unknown type: "+s);e.hidden?(0,c.CF)(h,"display","none"):(0,c.CF)(h,"display","block")}},T.prototype.remove=function(s){var e=this._elementRegistry.getGraphics(s);(0,c.TF)(e.parentNode)};function y(s,e,h){var n=h||e.firstChild;s!==n&&e.insertBefore(s,n)}},97975:(rt,V,l)=>{l.d(V,{A:()=>b});var a=1e3;function b(d,m){var v=this;m=m||a,d.on(["render.shape","render.connection"],m,function(_,c){var C=_.type,T=c.element,y=c.gfx;if(v.canRender(T))return C==="render.shape"?v.drawShape(y,T):v.drawConnection(y,T)}),d.on(["render.getShapePath","render.getConnectionPath"],m,function(_,c){if(v.canRender(c))return _.type==="render.getShapePath"?v.getShapePath(c):v.getConnectionPath(c)})}b.prototype.canRender=function(){},b.prototype.drawShape=function(){},b.prototype.drawConnection=function(){},b.prototype.getShapePath=function(){},b.prototype.getConnectionPath=function(){}},19187:(rt,V,l)=>{l.d(V,{A:()=>d});var a=l(98218),b=l.n(a);function d(){var m={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},v=this;this.cls=function(_,c,C){var T=this.style(c,C);return(0,a.assign)(T,{class:_})},this.style=function(_,c){!(0,a.isArray)(_)&&!c&&(c=_,_=[]);var C=(0,a.reduce)(_,function(T,y){return(0,a.assign)(T,m[y]||{})},{});return c?(0,a.assign)(C,c):C},this.computeStyle=function(_,c,C){return(0,a.isArray)(c)||(C=c,c=[]),v.style(c||[],(0,a.assign)({},C,_||{}))}}},41666:(rt,V,l)=>{l.d(V,{A:()=>c});var a=l(98218);function b(C){return C&&C[C.length-1]}function d(C){return C.y}function m(C){return C.x}var v={left:m,center:m,right:function(C){return C.x+C.width},top:d,middle:d,bottom:function(C){return C.y+C.height}};function _(C){this._modeling=C}_.$inject=["modeling"],_.prototype._getOrientationDetails=function(C){var T=["top","bottom","middle"],y="x",s="width";return T.indexOf(C)!==-1&&(y="y",s="height"),{axis:y,dimension:s}},_.prototype._isType=function(C,T){return T.indexOf(C)!==-1},_.prototype._alignmentPosition=function(C,T){var y=this._getOrientationDetails(C),s=y.axis,e=y.dimension,h={},n={},o=!1,i,p,g;function f(E,O){return Math.round((E[s]+O[s]+O[e])/2)}if(this._isType(C,["left","top"]))h[C]=T[0][s];else if(this._isType(C,["right","bottom"]))g=b(T),h[C]=g[s]+g[e];else if(this._isType(C,["center","middle"])){if((0,a.forEach)(T,function(E){var O=E[s]+Math.round(E[e]/2);n[O]?n[O].elements.push(E):n[O]={elements:[E],center:O}}),i=(0,a.sortBy)(n,function(E){return E.elements.length>1&&(o=!0),E.elements.length}),o)return h[C]=b(i).center,h;p=T[0],T=(0,a.sortBy)(T,function(E){return E[s]+E[e]}),g=b(T),h[C]=f(p,g)}return h},_.prototype.trigger=function(C,T){var y=this._modeling,s=(0,a.filter)(C,function(o){return!(o.waypoints||o.host||o.labelTarget)}),e=v[T],h=(0,a.sortBy)(s,e),n=this._alignmentPosition(T,h);y.alignElements(h,n)};const c={__init__:["alignElements"],alignElements:["type",_]}},20418:(rt,V,l)=>{l.d(V,{A:()=>y});var a=l(51270),b=l.n(a),d=l(10018),m=l(65911),v=l(98218),_=l(6705);function c(s,e,h,n){_.A.call(this,s),this._elementRegistry=e,this._modeling=h,this._rules=n;var o=this;this.postExecuted(["shape.create"],function(i){var p=i.context,g=p.hints||{},f=p.shape,E=p.parent||p.newParent;g.autoResize!==!1&&o._expand([f],E)}),this.postExecuted(["elements.move"],function(i){var p=i.context,g=(0,v.flatten)((0,v.values)(p.closure.topLevel)),f=p.hints,E=f?f.autoResize:!0;if(E!==!1){var O=(0,v.groupBy)(g,function(N){return N.parent.id});(0,v.forEach)(O,function(N,A){(0,v.isArray)(E)&&(N=N.filter(function(B){return(0,v.find)(E,(0,v.matchPattern)({id:B.id}))})),o._expand(N,A)})}}),this.postExecuted(["shape.toggleCollapse"],function(i){var p=i.context,g=p.hints,f=p.shape;g&&g.autoResize===!1||f.collapsed||o._expand(f.children||[],f)}),this.postExecuted(["shape.resize"],function(i){var p=i.context,g=p.hints,f=p.shape,E=f.parent;g&&g.autoResize===!1||E&&o._expand([f],E)})}c.$inject=["eventBus","elementRegistry","modeling","rules"],b()(c,_.A),c.prototype._getOptimalBounds=function(s,e){var h=this.getOffset(e),n=this.getPadding(e),o=(0,m.Fy)((0,d.U7)(s)),i=(0,m.Fy)(e),p={};return o.top-i.top<n.top&&(p.top=o.top-h.top),o.left-i.left<n.left&&(p.left=o.left-h.left),i.right-o.right<n.right&&(p.right=o.right+h.right),i.bottom-o.bottom<n.bottom&&(p.bottom=o.bottom+h.bottom),(0,m.cD)((0,v.assign)({},i,p))},c.prototype._expand=function(s,e){typeof e=="string"&&(e=this._elementRegistry.get(e));var h=this._rules.allowed("element.autoResize",{elements:s,target:e});if(h){var n=this._getOptimalBounds(s,e);if(C(n,e)){var o=T((0,v.pick)(e,["x","y","width","height"]),n);this.resize(e,n,{autoResize:o});var i=e.parent;i&&this._expand([e],i)}}},c.prototype.getOffset=function(s){return{top:60,bottom:60,left:100,right:100}},c.prototype.getPadding=function(s){return{top:2,bottom:2,left:15,right:15}},c.prototype.resize=function(s,e,h){this._modeling.resizeShape(s,e,null,h)};function C(s,e){return s.x!==e.x||s.y!==e.y||s.width!==e.width||s.height!==e.height}function T(s,e){var h="";return s=(0,m.Fy)(s),e=(0,m.Fy)(e),s.top>e.top&&(h=h.concat("n")),s.right<e.right&&(h=h.concat("w")),s.bottom<e.bottom&&(h=h.concat("s")),s.left>e.left&&(h=h.concat("e")),h}const y={__init__:["autoResize"],autoResize:["type",c]}},69855:(rt,V,l)=>{l.d(V,{LS:()=>o,qh:()=>i,zk:()=>f,fU:()=>O,Pj:()=>N,YU:()=>g});var a=l(86439),b=l(92159),d=l(33225),m=l(52965),v=l(38305),_=l.n(v),c=Math.round,C=Math.max;function T(B,D){var U=B.x,k=B.y;return[["M",U,k],["m",0,-D],["a",D,D,0,1,1,0,2*D],["a",D,D,0,1,1,0,-2*D],["z"]]}function y(B){var D=[];return B.forEach(function(U,k){D.push([k===0?"M":"L",U.x,U.y])}),D}var s=10;function e(B,D){var U,k;for(U=0;k=B[U];U++)if((0,b.cK)(k,D)<=s)return{point:B[U],bendpoint:!0,index:U};return null}function h(B,D){var U=_()(T(D,s),y(B)),k=U[0],Z=U[U.length-1],ot;return k?k!==Z?k.segment2!==Z.segment2?(ot=C(k.segment2,Z.segment2)-1,{point:B[ot],bendpoint:!0,index:ot}):{point:{x:c(k.x+Z.x)/2,y:c(k.y+Z.y)/2},index:k.segment2}:{point:{x:c(k.x),y:c(k.y)},index:k.segment2}:null}function n(B,D){return e(B,D)||h(B,D)}var o="djs-bendpoint",i="djs-segment-dragger";function p(B,D){var U=(0,a.gK)(D),k=B._container.getBoundingClientRect(),Z;Z={x:k.left,y:k.top};var ot=B.viewbox();return{x:ot.x+(U.x-Z.x)/ot.scale,y:ot.y+(U.y-Z.y)/ot.scale}}function g(B,D,U){var k=p(B,U),Z=n(D,k);return Z}function f(B,D){var U=(0,d.vt)("g");(0,d.Ly)(U).add(o),(0,d.BC)(B,U);var k=(0,d.vt)("circle");(0,d.CF)(k,{cx:0,cy:0,r:4}),(0,d.Ly)(k).add("djs-visual"),(0,d.BC)(U,k);var Z=(0,d.vt)("circle");return(0,d.CF)(Z,{cx:0,cy:0,r:10}),(0,d.Ly)(Z).add("djs-hit"),(0,d.BC)(U,Z),D&&(0,d.Ly)(U).add(D),U}function E(B,D,U,k){var Z=(0,d.vt)("g");(0,d.BC)(B,Z);var ot=14,et=3,J=6,Y=A(D,U,k),w=et+J,M=(0,d.vt)("rect");(0,d.CF)(M,{x:-ot/2,y:-et/2,width:ot,height:et}),(0,d.Ly)(M).add("djs-visual"),(0,d.BC)(Z,M);var S=(0,d.vt)("rect");return(0,d.CF)(S,{x:-Y/2,y:-w/2,width:Y,height:w}),(0,d.Ly)(S).add("djs-hit"),(0,d.BC)(Z,S),(0,m.e$)(Z,k==="v"?90:0,0,0),Z}function O(B,D,U){var k=(0,d.vt)("g"),Z=(0,b.P8)(D,U),ot=(0,b.ke)(D,U);return(0,d.BC)(B,k),E(k,D,U,ot),(0,d.Ly)(k).add(i),(0,d.Ly)(k).add(ot==="h"?"horizontal":"vertical"),(0,m.Tl)(k,Z.x,Z.y),k}function N(B){return Math.abs(Math.round(B*2/3))}function A(B,D,U){var k=D.x-B.x,Z=D.y-B.y;return N(U==="h"?k:Z)}},6513:(rt,V,l)=>{l.d(V,{A:()=>s});var a=l(98218),b=l.n(a),d=l(52687),m=l.n(d),v=l(69855),_=l(25141),c=l.n(_),C=l(92159),T=l(33225),y=l(52965);function s(h,n,o,i,p){var g=this;function f(w,M,S){var x=w.index,t=w.point,r,u,P,W,H,X;return x<=0||w.bendpoint?!1:(r=M[x-1],u=M[x],P=(0,C.P8)(r,u),W=(0,C.ke)(r,u),H=Math.abs(t.x-P.x),X=Math.abs(t.y-P.y),W&&H<=S&&X<=S)}function E(w,M){var S=w.waypoints,x,t,r,u;return M.index<=0||M.bendpoint||(x={start:S[M.index-1],end:S[M.index]},t=(0,C.ke)(x.start,x.end),!t)?null:(t==="h"?r=x.end.x-x.start.x:r=x.end.y-x.start.y,u=(0,v.Pj)(r)/2,u)}function O(w,M){var S=M.waypoints,x=(0,v.YU)(n,S,w),t;if(x)return t=E(M,x),f(x,S,t)?p.start(w,M,x.index):i.start(w,M,x.index,!x.bendpoint),!0}function N(w,M,S){d.event.bind(w,M,function(x){o.triggerMouseEvent(M,x,S),x.stopPropagation()})}function A(w,M){var S=n.getLayer("overlays"),x=(0,d.query)('.djs-bendpoints[data-element-id="'+c()(w.id)+'"]',S);return!x&&M&&(x=(0,T.vt)("g"),(0,T.CF)(x,{"data-element-id":w.id}),(0,T.Ly)(x).add("djs-bendpoints"),(0,T.BC)(S,x),N(x,"mousedown",w),N(x,"click",w),N(x,"dblclick",w)),x}function B(w,M){return(0,d.query)('.djs-segment-dragger[data-segment-idx="'+w+'"]',M)}function D(w,M){M.waypoints.filter(g.getConnectionBendpointsFilter).forEach(function(S,x){var t=(0,v.zk)(w);(0,T.BC)(w,t),(0,y.Tl)(t,S.x,S.y)}),(0,v.zk)(w,"floating")}function U(w,M){for(var S=M.waypoints,x,t,r,u=1;u<S.length;u++)x=S[u-1],t=S[u],(0,C.ke)(x,t)&&(r=(0,v.fU)(w,x,t),(0,T.CF)(r,{"data-segment-idx":u}),N(r,"mousemove",M))}function k(w){(0,a.forEach)((0,d.queryAll)("."+v.LS,w),function(M){(0,T.TF)(M)})}function Z(w){(0,a.forEach)((0,d.queryAll)("."+v.qh,w),function(M){(0,T.TF)(M)})}function ot(w){var M=A(w);return M||(M=A(w,!0),D(M,w),U(M,w)),M}function et(w){var M=A(w);M&&(Z(M),k(M),U(M,w),D(M,w))}function J(w,M){var S=(0,d.query)(".floating",w),x=M.point;S&&(0,y.Tl)(S,x.x,x.y)}function Y(w,M,S){var x=B(M.index,w),t=S[M.index-1],r=S[M.index],u=M.point,P=(0,C.P8)(t,r),W=(0,C.ke)(t,r),H,X;x&&(H=e(x),X={x:u.x-P.x,y:u.y-P.y},W==="v"&&(X={x:X.y,y:X.x}),(0,y.Tl)(H,X.x,X.y))}h.on("connection.changed",function(w){et(w.element)}),h.on("connection.remove",function(w){var M=A(w.element);M&&(0,T.TF)(M)}),h.on("element.marker.update",function(w){var M=w.element,S;M.waypoints&&(S=ot(M),w.add?(0,T.Ly)(S).add(w.marker):(0,T.Ly)(S).remove(w.marker))}),h.on("element.mousemove",function(w){var M=w.element,S=M.waypoints,x,t;if(S){if(x=A(M,!0),t=(0,v.YU)(n,S,w.originalEvent),!t)return;J(x,t),t.bendpoint||Y(x,t,S)}}),h.on("element.mousedown",function(w){var M=w.originalEvent,S=w.element,x=S.waypoints;if(x)return O(M,S)}),h.on("selection.changed",function(w){var M=w.newSelection,S=M[0];S&&S.waypoints&&ot(S)}),h.on("element.hover",function(w){var M=w.element;M.waypoints&&(ot(M),o.registerEvent(w.gfx,"mousemove","element.mousemove"))}),h.on("element.out",function(w){o.unregisterEvent(w.gfx,"mousemove","element.mousemove")}),h.on("element.updateId",function(w){var M=w.element,S=w.newId;if(M.waypoints){var x=A(M);x&&(0,T.CF)(x,{"data-element-id":S})}}),this.addHandles=ot,this.updateHandles=et,this.getBendpointsContainer=A,this.getSegmentDragger=B}s.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function e(h){return(0,d.query)(".djs-visual",h)}s.prototype.getConnectionBendpointsFilter=function(h,n,o){return!0}},45041:(rt,V,l)=>{l.d(V,{A:()=>h});var a=l(92159),b=l(69855),d=l(65911),m=l(33225),v=l(52965),_="connect-hover",c="djs-updating";function C(n,o,i){return T(n,o,n[o]+i)}function T(n,o,i){return{x:o==="x"?i:n.x,y:o==="y"?i:n.y}}function y(n,o,i,p){var g=Math.max(o[p],i[p]),f=Math.min(o[p],i[p]),E=20,O=Math.min(Math.max(f+E,n[p]),g-E);return T(o,p,O)}function s(n){return n==="x"?"y":"x"}function e(n,o,i){var p,g;return n.original?n.original:(p=(0,d.pp)(o),g=s(i),T(n,g,p[g]))}function h(n,o,i,p,g,f){var E=n.get("connectionDocking",!1);this.start=function(D,U,k){var Z,ot=i.getGraphics(U),et=k-1,J=k,Y=U.waypoints,w=Y[et],M=Y[J],S=(0,b.YU)(i,Y,D),x,t,r;x=(0,a.ke)(w,M),x&&(t=x==="v"?"x":"y",et===0&&(w=e(w,U.source,t)),J===Y.length-1&&(M=e(M,U.target,t)),S?r=S.point:r={x:(w.x+M.x)/2,y:(w.y+M.y)/2},Z={connection:U,segmentStartIndex:et,segmentEndIndex:J,segmentStart:w,segmentEnd:M,axis:t,dragPosition:r},p.init(D,r,"connectionSegment.move",{cursor:t==="x"?"resize-ew":"resize-ns",data:{connection:U,connectionGfx:ot,context:Z}}))};function O(D,U){if(!E)return U;var k=D.waypoints,Z;return D.waypoints=U,Z=E.getCroppedWaypoints(D),D.waypoints=k,Z}function N(D){g.update("connection",D.connection,D.connectionGfx)}function A(D,U,k){var Z=D.newWaypoints,ot=D.segmentStartIndex+U,et=Z[ot],J=D.segmentEndIndex+U,Y=Z[J],w=s(D.axis),M=y(k,et,Y,w);(0,v.Tl)(D.draggerGfx,M.x,M.y)}function B(D,U){var k=0,Z=D.filter(function(ot,et){return(0,a.XP)(D[et-1],D[et+1],ot)?(k=et<=U?k-1:k,!1):!0});return{waypoints:Z,segmentOffset:k}}o.on("connectionSegment.move.start",function(D){var U=D.context,k=D.connection,Z=i.getLayer("overlays");U.originalWaypoints=k.waypoints.slice(),U.draggerGfx=(0,b.fU)(Z,U.segmentStart,U.segmentEnd),(0,m.Ly)(U.draggerGfx).add("djs-dragging"),i.addMarker(k,c)}),o.on("connectionSegment.move.move",function(D){var U=D.context,k=U.connection,Z=U.segmentStartIndex,ot=U.segmentEndIndex,et=U.segmentStart,J=U.segmentEnd,Y=U.axis,w=U.originalWaypoints.slice(),M=C(et,Y,D["d"+Y]),S=C(J,Y,D["d"+Y]),x=w.length,t=0;w[Z]=M,w[ot]=S;var r,u;Z<2&&(r=(0,d.vc)(k.source,M),Z===1?r==="intersect"&&(w.shift(),w[0]=M,t--):r!=="intersect"&&(w.unshift(et),t++)),ot>x-3&&(u=(0,d.vc)(k.target,S),ot===x-2?u==="intersect"&&(w.pop(),w[w.length-1]=S):u!=="intersect"&&w.push(J)),U.newWaypoints=k.waypoints=O(k,w),A(U,t,D),U.newSegmentStartIndex=Z+t,N(D)}),o.on("connectionSegment.move.hover",function(D){D.context.hover=D.hover,i.addMarker(D.hover,_)}),o.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(D){var U=D.context.hover;U&&i.removeMarker(U,_)}),o.on("connectionSegment.move.cleanup",function(D){var U=D.context,k=U.connection;U.draggerGfx&&(0,m.TF)(U.draggerGfx),i.removeMarker(k,c)}),o.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(D){var U=D.context,k=U.connection;k.waypoints=U.originalWaypoints,N(D)}),o.on("connectionSegment.move.end",function(D){var U=D.context,k=U.connection,Z=U.newWaypoints,ot=U.newSegmentStartIndex;Z=Z.map(function(S){var x={x:Math.round(S.x),y:Math.round(S.y)};return S.original&&(x.original=S.original),x});var et=B(Z,ot),J=et.waypoints,Y=O(k,J),w=et.segmentOffset,M={segmentMove:{segmentStartIndex:U.segmentStartIndex,newSegmentStartIndex:ot+w}};f.updateWaypoints(k,Y,M)})}h.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"]},39255:(rt,V,l)=>{l.d(V,{A:()=>J});var a=l(84654),b=l(11918),d=l(6513),m=l(65911),v=Math.round,_="reconnectStart",c="reconnectEnd",C="updateWaypoints";function T(Y,w,M,S,x,t){this._injector=Y,this.start=function(r,u,P,W){var H=M.getGraphics(u),X=u.source,$=u.target,q=u.waypoints,it;!W&&P===0?it=_:!W&&P===q.length-1?it=c:it=C;var F=it===C?"connection.updateWaypoints":"connection.reconnect",G=x.allowed(F,{connection:u,source:X,target:$});G===!1&&(G=x.allowed(F,{connection:u,source:$,target:X})),G!==!1&&S.init(r,"bendpoint.move",{data:{connection:u,connectionGfx:H,context:{allowed:G,bendpointIndex:P,connection:u,source:X,target:$,insert:W,type:it}}})},w.on("bendpoint.move.hover",function(r){var u=r.context,P=u.connection,W=P.source,H=P.target,X=r.hover,$=u.type;u.hover=X;var q;if(X){var it=$===C?"connection.updateWaypoints":"connection.reconnect";if(q=u.allowed=x.allowed(it,{connection:P,source:$===_?X:W,target:$===c?X:H,type:$}),q){u.source=$===_?X:W,u.target=$===c?X:H;return}q===!1&&(q=u.allowed=x.allowed(it,{connection:P,source:$===c?X:H,target:$===_?X:W,type:$})),q&&(u.source=$===c?X:H,u.target=$===_?X:W)}}),w.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(r){var u=r.context;u.hover=null,u.source=null,u.target=null,u.allowed=!1}),w.on("bendpoint.move.end",function(r){var u=r.context,P=u.allowed,W=u.bendpointIndex,H=u.connection,X=u.insert,$=H.waypoints.slice(),q=u.source,it=u.target,F=u.type,G={},z={x:v(r.x),y:v(r.y)};if(!P)return!1;F===C?(X?$.splice(W,0,z):$[W]=z,G={bendpointMove:{insert:X,bendpointIndex:W}},$=this.cropWaypoints(H,$),t.updateWaypoints(H,(0,m.Wy)($),G)):(F===_?(G.docking="source",y(u)&&(G.docking="target",G.newWaypoints=$.reverse())):F===c&&(G.docking="target",y(u)&&(G.docking="source",G.newWaypoints=$.reverse())),t.reconnect(H,q,it,z,G))},this)}T.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],T.prototype.cropWaypoints=function(Y,w){var M=this._injector.get("connectionDocking",!1);if(!M)return w;var S=Y.waypoints;return Y.waypoints=w,Y.waypoints=M.getCroppedWaypoints(Y),w=Y.waypoints,Y.waypoints=S,w};function y(Y){var w=Y.hover,M=Y.source,S=Y.target,x=Y.type;if(x===_)return w&&S&&w===S&&M!==S;if(x===c)return w&&M&&w===M&&M!==S}var s=l(33225),e=l(69855),h=l(52965),n="reconnectStart",o="reconnectEnd",i="updateWaypoints",p="connect-ok",g="connect-not-ok",f="connect-hover",E="djs-updating",O="djs-element-hidden",N=1100;function A(Y,w,M,S){this._injector=w;var x=w.get("connectionPreview",!1);M.on("bendpoint.move.start",function(t){var r=t.context,u=r.bendpointIndex,P=r.connection,W=r.insert,H=P.waypoints,X=H.slice();r.waypoints=H,W&&X.splice(u,0,{x:t.x,y:t.y}),P.waypoints=X;var $=r.draggerGfx=(0,e.zk)(S.getLayer("overlays"));(0,s.Ly)($).add("djs-dragging"),S.addMarker(P,O),S.addMarker(P,E)}),M.on("bendpoint.move.hover",function(t){var r=t.context,u=r.allowed,P=r.hover,W=r.type;if(P){if(S.addMarker(P,f),W===i)return;u?(S.removeMarker(P,g),S.addMarker(P,p)):u===!1&&(S.removeMarker(P,p),S.addMarker(P,g))}}),M.on(["bendpoint.move.out","bendpoint.move.cleanup"],N,function(t){var r=t.context,u=r.hover,P=r.target;u&&(S.removeMarker(u,f),S.removeMarker(u,P?p:g))}),M.on("bendpoint.move.move",function(t){var r=t.context,u=r.allowed,P=r.bendpointIndex,W=r.draggerGfx,H=r.hover,X=r.type,$=r.connection,q=$.source,it=$.target,F=$.waypoints.slice(),G=F.slice().reverse(),z={x:t.x,y:t.y},I;x&&(I={source:q,target:it},X===n?y(r)?(I.connectionEnd=z,I.source=it,I.target=H||q,F=G):(I.connectionStart=z,I.source=H||q):X===o?y(r)?(I.connectionStart=z,I.target=q,I.source=H||it,F=G):(I.connectionEnd=z,I.target=H||it):(I.noCropping=!0,I.noLayout=!0,F[P]=z),X===i&&(F=Y.cropWaypoints($,F)),I.waypoints=F,x.drawPreview(r,u,I)),(0,h.Tl)(W,t.x,t.y)},this),M.on(["bendpoint.move.end","bendpoint.move.cancel"],N,function(t){var r=t.context,u=r.connection,P=r.draggerGfx,W=r.hover,H=r.target,X=r.waypoints;u.waypoints=X,(0,s.TF)(P),S.removeMarker(u,E),S.removeMarker(u,O),W&&(S.removeMarker(W,p),S.removeMarker(W,H?p:g)),x&&x.cleanUp(r)})}A.$inject=["bendpointMove","injector","eventBus","canvas"];var B=l(45041),D=l(98218),U=l(17521),k=Math.abs,Z=Math.round,ot=10;function et(Y){function w(t,r){if((0,D.isArray)(t)){for(var u=t.length;u--;)if(k(t[u]-r)<=ot)return t[u]}else{t=+t;var P=r%t;if(P<ot)return r-P;if(P>t-ot)return r-P+t}return r}function M(t){if(t.width)return{x:Z(t.width/2+t.x),y:Z(t.height/2+t.y)}}function S(t){var r=t.snapPoints,u=t.connection,P=u.waypoints,W=t.segmentStart,H=t.segmentStartIndex,X=t.segmentEnd,$=t.segmentEndIndex,q=t.axis;if(r)return r;var it=[P[H-1],W,X,P[$+1]];return H<2&&it.unshift(M(u.source)),$>P.length-3&&it.unshift(M(u.target)),t.snapPoints=r={horizontal:[],vertical:[]},(0,D.forEach)(it,function(F){F&&(F=F.original||F,q==="y"&&r.horizontal.push(F.y),q==="x"&&r.vertical.push(F.x))}),r}Y.on("connectionSegment.move.move",1500,function(t){var r=t.context,u=S(r),P=t.x,W=t.y,H,X;if(u){H=w(u.vertical,P),X=w(u.horizontal,W);var $=P-H,q=W-X;(0,D.assign)(t,{dx:t.dx-$,dy:t.dy-q,x:H,y:X}),($||u.vertical.indexOf(P)!==-1)&&(0,U.CU)(t,"x",H),(q||u.horizontal.indexOf(W)!==-1)&&(0,U.CU)(t,"y",X)}});function x(t){var r=t.snapPoints,u=t.connection.waypoints,P=t.bendpointIndex;if(r)return r;var W=[u[P-1],u[P+1]];return t.snapPoints=r={horizontal:[],vertical:[]},(0,D.forEach)(W,function(H){H&&(H=H.original||H,r.horizontal.push(H.y),r.vertical.push(H.x))}),r}Y.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(t){var r=t.context,u=x(r),P=r.hover,W=P&&M(P),H=t.x,X=t.y,$,q;if(u){$=w(W?u.vertical.concat([W.x]):u.vertical,H),q=w(W?u.horizontal.concat([W.y]):u.horizontal,X);var it=H-$,F=X-q;(0,D.assign)(t,{dx:t.dx-it,dy:t.dy-F,x:t.x-it,y:t.y-F}),(it||u.vertical.indexOf(H)!==-1)&&(0,U.CU)(t,"x",$),(F||u.horizontal.indexOf(X)!==-1)&&(0,U.CU)(t,"y",q)}})}et.$inject=["eventBus"];const J={__depends__:[a.A,b.A],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",d.A],bendpointMove:["type",T],bendpointMovePreview:["type",A],connectionSegmentMove:["type",B.A],bendpointSnapping:["type",et]}},54100:(rt,V,l)=>{l.d(V,{A:()=>d});var a=l(10018);function b(m,v,_,c){m.on("element.changed",function(C){var T=C.element;(T.parent||T===v.getRootElement())&&(C.gfx=_.getGraphics(T)),C.gfx&&m.fire((0,a.Pw)(T)+".changed",C)}),m.on("elements.changed",function(C){var T=C.elements;T.forEach(function(y){m.fire("element.changed",{element:y})}),c.updateContainments(T)}),m.on("shape.changed",function(C){c.update("shape",C.element,C.gfx)}),m.on("connection.changed",function(C){c.update("connection",C.element,C.gfx)})}b.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const d={__init__:["changeSupport"],changeSupport:["type",b]}},95576:(rt,V,l)=>{l.d(V,{A:()=>h});var a=l(56773),b=l(11918),d=l(84654),m=l(65911),v=l(98218);function _(n,o,i,p){function g(E,O){return p.allowed("connection.create",{source:E,target:O})}function f(E,O){return g(O,E)}n.on("connect.hover",function(E){var O=E.context,N=O.start,A=E.hover,B;if(O.hover=A,B=O.canExecute=g(N,A),!(0,v.isNil)(B)){if(B!==!1){O.source=N,O.target=A;return}B=O.canExecute=f(N,A),!(0,v.isNil)(B)&&B!==!1&&(O.source=A,O.target=N)}}),n.on(["connect.out","connect.cleanup"],function(E){var O=E.context;O.hover=null,O.source=null,O.target=null,O.canExecute=!1}),n.on("connect.end",function(E){var O=E.context,N=O.canExecute,A=O.connectionStart,B={x:E.x,y:E.y},D=O.source,U=O.target;if(!N)return!1;var k=null,Z={connectionStart:c(O)?B:A,connectionEnd:c(O)?A:B};(0,v.isObject)(N)&&(k=N);var ot=i.connect(D,U,k,Z);E.context.connection=ot}),this.start=function(E,O,N,A){(0,v.isObject)(N)||(A=N,N=(0,m.pp)(O)),o.init(E,"connect",{autoActivate:A,data:{shape:O,context:{start:O,connectionStart:N}}})}}_.$inject=["eventBus","dragging","modeling","rules"];function c(n){var o=n.hover,i=n.source,p=n.target;return o&&i&&o===i&&i!==p}var C=1100,T=900,y="connect-ok",s="connect-not-ok";function e(n,o,i){var p=n.get("connectionPreview",!1);p&&o.on("connect.move",function(g){var f=g.context,E=f.canExecute,O=f.hover,N=f.source,A=f.start,B=f.startPosition,D=f.target,U=c(f)?{x:g.x,y:g.y}:B,k=c(f)?B:{x:g.x,y:g.y};p.drawPreview(f,E,{source:N||A,target:D||O,connectionStart:U,connectionEnd:k})}),o.on("connect.hover",T,function(g){var f=g.context,E=g.hover,O=f.canExecute;O!==null&&i.addMarker(E,O?y:s)}),o.on(["connect.out","connect.cleanup"],C,function(g){var f=g.hover;f&&(i.removeMarker(f,y),i.removeMarker(f,s))}),p&&o.on("connect.cleanup",function(g){p.cleanUp(g.context)})}e.$inject=["injector","eventBus","canvas"];const h={__depends__:[a.A,b.A,d.A],__init__:["connectPreview"],connect:["type",_],connectPreview:["type",e]}},28012:(rt,V,l)=>{l.d(V,{A:()=>_});var a=l(33225),b=l(98218),d=l.n(b),m=l(65911),v="djs-connection-preview";function _(T,y,s,e){this._canvas=y,this._graphicsFactory=s,this._elementFactory=e,this._connectionDocking=T.get("connectionDocking",!1),this._layouter=T.get("layouter",!1)}_.$inject=["injector","canvas","graphicsFactory","elementFactory"],_.prototype.drawPreview=function(T,y,s){s=s||{};var e=T.connectionPreviewGfx,h=T.getConnection,n=s.source,o=s.target,i=s.waypoints,p=s.connectionStart,g=s.connectionEnd,f=s.noLayout,E=s.noCropping,O=s.noNoop,N,A=this;if(e||(e=T.connectionPreviewGfx=this.createConnectionPreviewGfx()),(0,a.IU)(e),h||(h=T.getConnection=c(function(B,D,U){return A.getConnection(B,D,U)})),y&&(N=h(y,n,o)),!N){!O&&this.drawNoopPreview(e,s);return}N.waypoints=i||[],this._layouter&&!f&&(N.waypoints=this._layouter.layoutConnection(N,{source:n,target:o,connectionStart:p,connectionEnd:g,waypoints:s.waypoints||N.waypoints})),(!N.waypoints||!N.waypoints.length)&&(N.waypoints=[n?(0,m.pp)(n):p,o?(0,m.pp)(o):g]),this._connectionDocking&&(n||o)&&!E&&(N.waypoints=this._connectionDocking.getCroppedWaypoints(N,n,o)),this._graphicsFactory.drawConnection(e,N)},_.prototype.drawNoopPreview=function(T,y){var s=y.source,e=y.target,h=y.connectionStart||(0,m.pp)(s),n=y.connectionEnd||(0,m.pp)(e),o=this.cropWaypoints(h,n,s,e),i=this.createNoopConnection(o[0],o[1]);(0,a.BC)(T,i)},_.prototype.cropWaypoints=function(T,y,s,e){var h=this._graphicsFactory,n=s&&h.getShapePath(s),o=e&&h.getShapePath(e),i=h.getConnectionPath({waypoints:[T,y]});return T=s&&(0,m.ki)(n,i,!0)||T,y=e&&(0,m.ki)(o,i,!1)||y,[T,y]},_.prototype.cleanUp=function(T){T&&T.connectionPreviewGfx&&(0,a.TF)(T.connectionPreviewGfx)},_.prototype.getConnection=function(T){var y=C(T);return this._elementFactory.createConnection(y)},_.prototype.createConnectionPreviewGfx=function(){var T=(0,a.vt)("g");return(0,a.CF)(T,{pointerEvents:"none"}),(0,a.Ly)(T).add(v),(0,a.BC)(this._canvas.getDefaultLayer(),T),T},_.prototype.createNoopConnection=function(T,y){var s=(0,a.vt)("polyline");return(0,a.CF)(s,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),(0,a.CF)(s,{points:[T.x,T.y,y.x,y.y]}),s};function c(T){var y={};return function(s){var e=JSON.stringify(s),h=y[e];return h||(h=y[e]=T.apply(null,arguments)),h}}function C(T){return(0,b.isObject)(T)?T:{}}},85284:(rt,V,l)=>{l.d(V,{A:()=>b});var a=l(28012);const b={__init__:["connectionPreview"],connectionPreview:["type",a.A]}},26316:(rt,V,l)=>{l.d(V,{A:()=>g});var a=l(69380),b=l(98218),d=l(52687),m=l(10018),v=l(50941),_=new v.A("ov"),c=500;function C(f,E,O,N){this._eventBus=E,this._canvas=O,this._elementRegistry=N,this._ids=_,this._overlayDefaults=(0,b.assign)({show:null,scale:!0},f&&f.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=T(O.getContainer()),this._init()}C.$inject=["config.overlays","eventBus","canvas","elementRegistry"],C.prototype.get=function(f){if((0,b.isString)(f)&&(f={id:f}),(0,b.isString)(f.element)&&(f.element=this._elementRegistry.get(f.element)),f.element){var E=this._getOverlayContainer(f.element,!0);return E?f.type?(0,b.filter)(E.overlays,(0,b.matchPattern)({type:f.type})):E.overlays.slice():[]}else return f.type?(0,b.filter)(this._overlays,(0,b.matchPattern)({type:f.type})):f.id?this._overlays[f.id]:null},C.prototype.add=function(f,E,O){if((0,b.isObject)(E)&&(O=E,E=null),f.id||(f=this._elementRegistry.get(f)),!O.position)throw new Error("must specifiy overlay position");if(!O.html)throw new Error("must specifiy overlay html");if(!f)throw new Error("invalid element specified");var N=this._ids.next();return O=(0,b.assign)({},this._overlayDefaults,O,{id:N,type:E,element:f,html:O.html}),this._addOverlay(O),N},C.prototype.remove=function(f){var E=this.get(f)||[];(0,b.isArray)(E)||(E=[E]);var O=this;(0,b.forEach)(E,function(N){var A=O._getOverlayContainer(N.element,!0);if(N&&((0,d.remove)(N.html),(0,d.remove)(N.htmlContainer),delete N.htmlContainer,delete N.element,delete O._overlays[N.id]),A){var B=A.overlays.indexOf(N);B!==-1&&A.overlays.splice(B,1)}})},C.prototype.show=function(){s(this._overlayRoot)},C.prototype.hide=function(){s(this._overlayRoot,!1)},C.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,d.clear)(this._overlayRoot)},C.prototype._updateOverlayContainer=function(f){var E=f.element,O=f.html,N=E.x,A=E.y;if(E.waypoints){var B=(0,m.U7)(E);N=B.x,A=B.y}y(O,N,A),(0,d.attr)(f.html,"data-container-id",E.id)},C.prototype._updateOverlay=function(f){var E=f.position,O=f.htmlContainer,N=f.element,A=E.left,B=E.top;if(E.right!==void 0){var D;N.waypoints?D=(0,m.U7)(N).width:D=N.width,A=E.right*-1+D}if(E.bottom!==void 0){var U;N.waypoints?U=(0,m.U7)(N).height:U=N.height,B=E.bottom*-1+U}y(O,A||0,B||0)},C.prototype._createOverlayContainer=function(f){var E=(0,d.domify)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(E);var O={html:E,element:f,overlays:[]};return this._updateOverlayContainer(O),this._overlayContainers.push(O),O},C.prototype._updateRoot=function(f){var E=f.scale||1,O="matrix("+[E,0,0,E,-1*f.x*E,-1*f.y*E].join(",")+")";e(this._overlayRoot,O)},C.prototype._getOverlayContainer=function(f,E){var O=(0,b.find)(this._overlayContainers,function(N){return N.element===f});return!O&&!E?this._createOverlayContainer(f):O},C.prototype._addOverlay=function(f){var E=f.id,O=f.element,N=f.html,A,B;N.get&&N.constructor.prototype.jquery&&(N=N.get(0)),(0,b.isString)(N)&&(N=(0,d.domify)(N)),B=this._getOverlayContainer(O),A=(0,d.domify)('<div class="djs-overlay" data-overlay-id="'+E+'" style="position: absolute">'),A.appendChild(N),f.type&&(0,d.classes)(A).add("djs-overlay-"+f.type),f.htmlContainer=A,B.overlays.push(f),B.html.appendChild(A),this._overlays[E]=f,this._updateOverlay(f),this._updateOverlayVisibilty(f,this._canvas.viewbox())},C.prototype._updateOverlayVisibilty=function(f,E){var O=f.show,N=O&&O.minZoom,A=O&&O.maxZoom,B=f.htmlContainer,D=!0;O&&(((0,b.isDefined)(N)&&N>E.scale||(0,b.isDefined)(A)&&A<E.scale)&&(D=!1),s(B,D)),this._updateOverlayScale(f,E)},C.prototype._updateOverlayScale=function(f,E){var O=f.scale,N,A,B=f.htmlContainer,D,U="";O!==!0&&(O===!1?(N=1,A=1):(N=O.min,A=O.max),(0,b.isDefined)(N)&&E.scale<N&&(D=(1/E.scale||1)*N),(0,b.isDefined)(A)&&E.scale>A&&(D=(1/E.scale||1)*A)),(0,b.isDefined)(D)&&(U="scale("+D+","+D+")"),e(B,U)},C.prototype._updateOverlaysVisibilty=function(f){var E=this;(0,b.forEach)(this._overlays,function(O){E._updateOverlayVisibilty(O,f)})},C.prototype._init=function(){var f=this._eventBus,E=this;function O(N){E._updateRoot(N),E._updateOverlaysVisibilty(N),E.show()}f.on("canvas.viewbox.changing",function(N){E.hide()}),f.on("canvas.viewbox.changed",function(N){O(N.viewbox)}),f.on(["shape.remove","connection.remove"],function(N){var A=N.element,B=E.get({element:A});(0,b.forEach)(B,function(k){E.remove(k.id)});var D=E._getOverlayContainer(A);if(D){(0,d.remove)(D.html);var U=E._overlayContainers.indexOf(D);U!==-1&&E._overlayContainers.splice(U,1)}}),f.on("element.changed",c,function(N){var A=N.element,B=E._getOverlayContainer(A,!0);B&&((0,b.forEach)(B.overlays,function(D){E._updateOverlay(D)}),E._updateOverlayContainer(B))}),f.on("element.marker.update",function(N){var A=E._getOverlayContainer(N.element,!0);A&&(0,d.classes)(A.html)[N.add?"add":"remove"](N.marker)}),f.on("diagram.clear",this.clear,this)};function T(f){var E=(0,d.domify)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return f.insertBefore(E,f.firstChild),E}function y(f,E,O){(0,b.assign)(f.style,{left:E+"px",top:O+"px"})}function s(f,E){f.style.display=E===!1?"none":""}function e(f,E){f.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(O){f.style[O+"transform"]=E})}const h={__init__:["overlays"],overlays:["type",C]};var n=".entry",o=1e3;function i(f,E,O){this._eventBus=E,this._overlays=O;var N=(0,b.isDefined)(f&&f.scale)?f.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:N},this._current=null,this._init()}i.$inject=["config.contextPad","eventBus","overlays"],i.prototype._init=function(){var f=this._eventBus,E=this;f.on("selection.changed",function(O){var N=O.newSelection;N.length===1?E.open(N[0]):E.close()}),f.on("elements.delete",function(O){var N=O.elements;(0,b.forEach)(N,function(A){E.isOpen(A)&&E.close()})}),f.on("element.changed",function(O){var N=O.element,A=E._current;A&&A.element===N&&E.open(N,!0)})},i.prototype.registerProvider=function(f,E){E||(E=f,f=o),this._eventBus.on("contextPad.getProviders",f,function(O){O.providers.push(E)})},i.prototype.getEntries=function(f){var E=this._getProviders(),O={};return(0,b.forEach)(E,function(N){var A=N.getContextPadEntries(f);(0,b.isFunction)(A)?O=A(O):(0,b.forEach)(A,function(B,D){O[D]=B})}),O},i.prototype.trigger=function(f,E,O){var N=this._current.element,A=this._current.entries,B,D,U,k=E.delegateTarget||E.target;if(!k)return E.preventDefault();if(B=A[(0,d.attr)(k,"data-action")],D=B.action,U=E.originalEvent||E,(0,b.isFunction)(D)){if(f==="click")return D(U,N,O)}else if(D[f])return D[f](U,N,O);E.preventDefault()},i.prototype.open=function(f,E){!E&&this.isOpen(f)||(this.close(),this._updateAndOpen(f))},i.prototype._getProviders=function(f){var E=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(E),E.providers},i.prototype._updateAndOpen=function(f){var E=this.getEntries(f),O=this.getPad(f),N=O.html;(0,b.forEach)(E,function(A,B){var D=A.group||"default",U=(0,d.domify)(A.html||'<div class="entry" draggable="true"></div>'),k;(0,d.attr)(U,"data-action",B),k=(0,d.query)("[data-group="+D+"]",N),k||(k=(0,d.domify)('<div class="group" data-group="'+D+'"></div>'),N.appendChild(k)),k.appendChild(U),A.className&&p(U,A.className),A.title&&(0,d.attr)(U,"title",A.title),A.imageUrl&&U.appendChild((0,d.domify)('<img src="'+A.imageUrl+'">'))}),(0,d.classes)(N).add("open"),this._current={element:f,pad:O,entries:E},this._eventBus.fire("contextPad.open",{current:this._current})},i.prototype.getPad=function(f){if(this.isOpen())return this._current.pad;var E=this,O=this._overlays,N=(0,d.domify)('<div class="djs-context-pad"></div>'),A=(0,b.assign)({html:N},this._overlaysConfig);d.delegate.bind(N,n,"click",function(D){E.trigger("click",D)}),d.delegate.bind(N,n,"dragstart",function(D){E.trigger("dragstart",D)}),d.event.bind(N,"mousedown",function(D){D.stopPropagation()}),this._overlayId=O.add(f,"context-pad",A);var B=O.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:f,pad:B}),B},i.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},i.prototype.isOpen=function(f){return!!this._current&&(f?this._current.element===f:!0)};function p(f,E){var O=(0,d.classes)(f),N=(0,b.isArray)(E)?E:E.split(/\s+/g);N.forEach(function(A){O.add(A)})}const g={__depends__:[a.A,h],contextPad:["type",i]}},7034:(rt,V,l)=>{l.d(V,{A:()=>s});var a=l(98218),b=l.n(a),d=l(10018);function m(e,h,n,o,i,p,g,f){this._canvas=e,this._create=h,this._clipboard=n,this._elementFactory=o,this._eventBus=i,this._modeling=p,this._mouse=g,this._rules=f,i.on("copyPaste.copyElement",function(E){var O=E.descriptor,N=E.element,A=E.elements;O.priority=1,O.id=N.id;var B=(0,a.find)(A,function(D){return D===N.parent});B&&(O.parent=N.parent.id),v(N)&&(O.priority=2,O.host=N.host.id),_(N)&&(O.priority=3,O.source=N.source.id,O.target=N.target.id,O.waypoints=C(N)),c(N)&&(O.priority=4,O.labelTarget=N.labelTarget.id),(0,a.forEach)(["x","y","width","height"],function(D){(0,a.isNumber)(N[D])&&(O[D]=N[D])}),O.hidden=N.hidden,O.collapsed=N.collapsed}),i.on("copyPaste.pasteElements",function(E){var O=E.hints;(0,a.assign)(O,{createElementsBehavior:!1})})}m.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],m.prototype.copy=function(e){var h,n;return(0,a.isArray)(e)||(e=e?[e]:[]),h=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}),h===!1?n={}:n=this.createTree((0,a.isArray)(h)?h:e),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:n}),n},m.prototype.paste=function(e){var h=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var o=this._createElements(h);if(e&&e.element&&e.point)return this._paste(o,e.element,e.point,n);this._create.start(this._mouse.getLastMoveEvent(),o,{hints:n})}},m.prototype._paste=function(e,h,n,o){(0,a.forEach)(e,function(p){(0,a.isNumber)(p.x)||(p.x=0),(0,a.isNumber)(p.y)||(p.y=0)});var i=(0,d.U7)(e);return(0,a.forEach)(e,function(p){_(p)&&(p.waypoints=(0,a.map)(p.waypoints,function(g){return{x:g.x-i.x-i.width/2,y:g.y-i.y-i.height/2}})),(0,a.assign)(p,{x:p.x-i.x-i.width/2,y:p.y-i.y-i.height/2})}),this._modeling.createElements(e,n,h,(0,a.assign)({},o))},m.prototype._createElements=function(e){var h=this,n=this._eventBus,o={},i=[];return(0,a.forEach)(e,function(p,g){g=parseInt(g,10),p=(0,a.sortBy)(p,"priority"),(0,a.forEach)(p,function(f){var E=(0,a.assign)({},(0,a.omit)(f,["priority"]));o[f.parent]?E.parent=o[f.parent]:delete E.parent,n.fire("copyPaste.pasteElement",{cache:o,descriptor:E});var O;if(_(E)){E.source=o[f.source],E.target=o[f.target],O=o[f.id]=h.createConnection(E),i.push(O);return}if(c(E)){E.labelTarget=o[E.labelTarget],O=o[f.id]=h.createLabel(E),i.push(O);return}E.host&&(E.host=o[E.host]),O=o[f.id]=h.createShape(E),i.push(O)})}),i},m.prototype.createConnection=function(e){var h=this._elementFactory.createConnection((0,a.omit)(e,["id"]));return h},m.prototype.createLabel=function(e){var h=this._elementFactory.createLabel((0,a.omit)(e,["id"]));return h},m.prototype.createShape=function(e){var h=this._elementFactory.createShape((0,a.omit)(e,["id"]));return h},m.prototype.hasRelations=function(e,h){var n,o,i;return!(_(e)&&(o=(0,a.find)(h,(0,a.matchPattern)({id:e.source.id})),i=(0,a.find)(h,(0,a.matchPattern)({id:e.target.id})),!o||!i)||c(e)&&(n=(0,a.find)(h,(0,a.matchPattern)({id:e.labelTarget.id})),!n))},m.prototype.createTree=function(e){var h=this._rules,n=this,o={},i=[],p=(0,d.wT)(e);function g(O,N){return h.allowed("element.copy",{element:O,elements:N})}function f(O,N){var A=(0,a.find)(i,function(B){return O===B.element});if(!A){i.push({element:O,depth:N});return}A.depth<N&&(i=E(A,i),i.push({element:A.element,depth:N}))}function E(O,N){var A=N.indexOf(O);return A!==-1&&N.splice(A,1),N}return(0,d.qO)(p,function(O,N,A){if(c(O))return;(0,a.forEach)(O.labels,function(D){f(D,A)});function B(D){D&&D.length&&(0,a.forEach)(D,function(U){(0,a.forEach)(U.labels,function(k){f(k,A)}),f(U,A)})}return(0,a.forEach)([O.attachers,O.incoming,O.outgoing],B),f(O,A),O.children}),e=(0,a.map)(i,function(O){return O.element}),i=(0,a.map)(i,function(O){return O.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:O.descriptor,element:O.element,elements:e}),O}),i=(0,a.sortBy)(i,function(O){return O.descriptor.priority}),e=(0,a.map)(i,function(O){return O.element}),(0,a.forEach)(i,function(O){var N=O.depth;if(!n.hasRelations(O.element,e)){y(O.element,e);return}if(!g(O.element,e)){y(O.element,e);return}o[N]||(o[N]=[]),o[N].push(O.descriptor)}),o};function v(e){return!!e.host}function _(e){return!!e.waypoints}function c(e){return!!e.labelTarget}function C(e){return(0,a.map)(e.waypoints,function(h){return h=T(h),h.original&&(h.original=T(h.original)),h})}function T(e){return(0,a.assign)({},e)}function y(e,h){var n=h.indexOf(e);return n===-1?h:h.splice(n,1)}const s=m},78768:(rt,V,l)=>{l.d(V,{A:()=>T});function a(){}a.prototype.get=function(){return this._data},a.prototype.set=function(y){this._data=y},a.prototype.clear=function(){var y=this._data;return delete this._data,y},a.prototype.isEmpty=function(){return!this._data};const b={clipboard:["type",a]};var d=l(54559);function m(y){var s=this;this._lastMoveEvent=null;function e(h){s._lastMoveEvent=h}y.on("canvas.init",function(h){var n=s._svg=h.svg;n.addEventListener("mousemove",e)}),y.on("canvas.destroy",function(){s._lastMouseEvent=null,s._svg.removeEventListener("mousemove",e)})}m.$inject=["eventBus"],m.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||v(0,0)};function v(y,s){var e=document.createEvent("MouseEvent"),h=y,n=s,o=y,i=s;return e.initMouseEvent&&e.initMouseEvent("mousemove",!0,!0,window,0,h,n,o,i,!1,!1,!1,!1,0,null),e}const _={__init__:["mouse"],mouse:["type",m]};var c=l(11918),C=l(7034);const T={__depends__:[b,d.A,_,c.A],__init__:["copyPaste"],copyPaste:["type",C.A]}},54559:(rt,V,l)=>{l.d(V,{A:()=>A});var a=l(84654),b=l(71953),d=l(11918),m=l(56773),v=l(98218),_=l(10018),c="drop-ok",C="drop-not-ok",T="attach-ok",y="new-parent",s="create",e=2e3;function h(B,D,U,k,Z){function ot(Y,w,M,S){if(!w)return!1;Y=(0,v.filter)(Y,function(P){var W=P.labelTarget;return!P.parent&&!(p(P)&&Y.indexOf(W)!==-1)});var x=(0,v.find)(Y,function(P){return!o(P)}),t=!1,r=!1,u=!1;return i(Y)&&(t=Z.allowed("shape.attach",{position:M,shape:x,target:w})),t||(i(Y)?u=Z.allowed("shape.create",{position:M,shape:x,source:S,target:w}):u=Z.allowed("elements.create",{elements:Y,position:M,target:w})),u||t?(x&&S&&(r=Z.allowed("connection.create",{source:S,target:x,hints:{targetParent:w,targetAttach:t}})),{attach:t,connect:r}):u===null||t===null?null:!1}function et(Y,w){[T,c,C,y].forEach(function(M){M===w?B.addMarker(Y,M):B.removeMarker(Y,M)})}U.on(["create.move","create.hover"],function(Y){var w=Y.context,M=w.elements,S=Y.hover,x=w.source;if(!S){w.canExecute=!1,w.target=null;return}n(Y);var t={x:Y.x,y:Y.y},r=w.canExecute=S&&ot(M,S,t,x);S&&r!==null&&(w.target=S,r&&r.attach?et(S,T):et(S,r?y:C))}),U.on(["create.end","create.out","create.cleanup"],function(Y){var w=Y.hover;w&&et(w,null)}),U.on("create.end",function(Y){var w=Y.context,M=w.source,S=w.shape,x=w.elements,t=w.target,r=w.hints,u=w.canExecute,P=u&&u.attach,W=u&&u.connect;if(u===!1||!t)return!1;n(Y);var H={x:Y.x,y:Y.y};W?S=k.appendShape(M,S,H,t,{attach:P,connection:W===!0?{}:W}):(x=k.createElements(x,H,t,(0,v.assign)({},r,{attach:P})),S=(0,v.find)(x,function(X){return!o(X)})),(0,v.assign)(w,{elements:x,shape:S}),(0,v.assign)(Y,{elements:x,shape:S})});function J(){var Y=D.context();Y&&Y.prefix===s&&D.cancel()}U.on("create.init",function(){U.on("elements.changed",J),U.once(["create.cancel","create.end"],e,function(){U.off("elements.changed",J)})}),this.start=function(Y,w,M){(0,v.isArray)(w)||(w=[w]);var S=(0,v.find)(w,function(t){return!o(t)});if(S){M=(0,v.assign)({elements:w,hints:{},shape:S},M||{}),(0,v.forEach)(w,function(t){(0,v.isNumber)(t.x)||(t.x=0),(0,v.isNumber)(t.y)||(t.y=0)});var x=(0,_.U7)(w);(0,v.forEach)(w,function(t){o(t)&&(t.waypoints=(0,v.map)(t.waypoints,function(r){return{x:r.x-x.x-Math.round(x.width/2),y:r.y-x.y-Math.round(x.height/2)}})),(0,v.assign)(t,{x:t.x-x.x-Math.round(x.width/2),y:t.y-x.y-Math.round(x.height/2)})}),D.init(Y,s,{cursor:"grabbing",autoActivate:!0,data:{shape:S,elements:w,context:M}})}}}h.$inject=["canvas","dragging","eventBus","modeling","rules"];function n(B){var D=B.context,U=D.createConstraints;U&&(U.left&&(B.x=Math.max(B.x,U.left)),U.right&&(B.x=Math.min(B.x,U.right)),U.top&&(B.y=Math.max(B.y,U.top)),U.bottom&&(B.y=Math.min(B.y,U.bottom)))}function o(B){return!!B.waypoints}function i(B){return B&&B.length===1&&!o(B[0])}function p(B){return!!B.labelTarget}var g=l(52965),f=l(12266),E=l(33225),O=750;function N(B,D,U,k,Z){function ot(et){var J=(0,E.vt)("g");(0,E.CF)(J,Z.cls("djs-drag-group",["no-events"]));var Y=(0,E.vt)("g");return et.forEach(function(w){var M;(0,E.CF)(J,{"data-element-id":w.id}),!w.hidden&&(w.waypoints?(M=U._createContainer("connection",Y),U.drawConnection((0,f.P)(M),w)):(M=U._createContainer("shape",Y),U.drawShape((0,f.P)(M),w),(0,g.Tl)(M,w.x,w.y)),k.addDragger(w,J,M))}),J}D.on("create.move",O,function(et){var J=et.hover,Y=et.context,w=Y.elements,M=Y.dragGroup;M||(M=Y.dragGroup=ot(w));var S;J?(M.parentNode||(S=B.getDefaultLayer(),(0,E.BC)(S,M)),(0,g.Tl)(M,et.x,et.y)):(0,E.TF)(M)}),D.on("create.cleanup",function(et){var J=et.context,Y=J.dragGroup;Y&&(0,E.TF)(Y)})}N.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const A={__depends__:[a.A,b.A,d.A,m.A],__init__:["create","createPreview"],create:["type",h],createPreview:["type",N]}},84654:(rt,V,l)=>{l.d(V,{A:()=>p});var a=l(56773),b=l(98218),d=l(52687),m=l(86439),v=l(46837),_=l(200),c=l(56764),C=Math.round,T="djs-drag-active";function y(g){g.preventDefault()}function s(g){return typeof TouchEvent<"u"&&g instanceof TouchEvent}function e(g){return Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2))}function h(g,f,E,O){var N={threshold:5,trapClick:!0},A;function B(t){var r=f.viewbox(),u=f._container.getBoundingClientRect();return{x:r.x+(t.x-u.left)/r.scale,y:r.y+(t.y-u.top)/r.scale}}function D(t,r){r=r||A;var u=g.createEvent((0,b.assign)({},r.payload,r.data,{isTouch:r.isTouch}));return g.fire("drag."+t,u)===!1?!1:g.fire(r.prefix+"."+t,u)}function U(t){var r=t.filter(function(u){return O.get(u.id)});r.length&&E.select(r)}function k(t,r){var u=A.payload,P=A.displacement,W=A.globalStart,H=(0,m.gK)(t),X=(0,c.p)(H,W),$=A.localStart,q=B(H),it=(0,c.p)(q,$);if(!A.active&&(r||e(X)>A.threshold)){if((0,b.assign)(u,{x:C($.x+P.x),y:C($.y+P.y),dx:0,dy:0},{originalEvent:t}),D("start")===!1)return M();A.active=!0,A.keepSelection||(u.previousSelection=E.get(),E.select(null)),A.cursor&&(0,v.hZ)(A.cursor),f.addMarker(f.getRootElement(),T)}(0,m.dG)(t),A.active&&((0,b.assign)(u,{x:C(q.x+P.x),y:C(q.y+P.y),dx:C(it.x),dy:C(it.y)},{originalEvent:t}),D("move"))}function Z(t){var r,u=!0;A.active&&(t&&(A.payload.originalEvent=t,(0,m.dG)(t)),u=D("end")),u===!1&&D("rejected"),r=S(u!==!0),D("ended",r)}function ot(t){t.which===27&&(y(t),M())}function et(t){var r;A.active&&(r=(0,_.a)(g),setTimeout(r,400),y(t)),Z(t)}function J(t){k(t)}function Y(t){var r=A.payload;r.hoverGfx=t.gfx,r.hover=t.element,D("hover")}function w(t){D("out");var r=A.payload;r.hoverGfx=null,r.hover=null}function M(t){var r;if(A){var u=A.active;u&&D("cancel"),r=S(t),u&&D("canceled",r)}}function S(t){var r,u;D("cleanup"),(0,v.wC)(),A.trapClick?u=et:u=Z,d.event.unbind(document,"mousemove",k),d.event.unbind(document,"dragstart",y),d.event.unbind(document,"selectstart",y),d.event.unbind(document,"mousedown",u,!0),d.event.unbind(document,"mouseup",u,!0),d.event.unbind(document,"keyup",ot),d.event.unbind(document,"touchstart",J,!0),d.event.unbind(document,"touchcancel",M,!0),d.event.unbind(document,"touchmove",k,!0),d.event.unbind(document,"touchend",Z,!0),g.off("element.hover",Y),g.off("element.out",w),f.removeMarker(f.getRootElement(),T);var P=A.payload.previousSelection;return t!==!1&&P&&!E.get().length&&U(P),r=A,A=null,r}function x(t,r,u,P){A&&M(!1),typeof r=="string"&&(P=u,u=r,r=null),P=(0,b.assign)({},N,P||{});var W=P.data||{},H,X,$,q,it;P.trapClick?q=et:q=Z,t?(H=(0,m.AF)(t)||t,X=(0,m.gK)(t),(0,m.dG)(t),H.type==="dragstart"&&y(H)):(H=null,X={x:0,y:0}),$=B(X),r||(r=$),it=s(H),A=(0,b.assign)({prefix:u,data:W,payload:{},globalStart:X,displacement:(0,c.p)(r,$),localStart:$,isTouch:it},P),P.manual||(it?(d.event.bind(document,"touchstart",J,!0),d.event.bind(document,"touchcancel",M,!0),d.event.bind(document,"touchmove",k,!0),d.event.bind(document,"touchend",Z,!0)):(d.event.bind(document,"mousemove",k),d.event.bind(document,"dragstart",y),d.event.bind(document,"selectstart",y),d.event.bind(document,"mousedown",q,!0),d.event.bind(document,"mouseup",q,!0)),d.event.bind(document,"keyup",ot),g.on("element.hover",Y),g.on("element.out",w)),D("init"),P.autoActivate&&k(t,!0)}g.on("diagram.destroy",M),this.init=x,this.move=k,this.hover=Y,this.out=w,this.end=Z,this.cancel=M,this.context=function(){return A},this.setOptions=function(t){(0,b.assign)(N,t)}}h.$inject=["eventBus","canvas","selection","elementRegistry"];var n=1500;function o(g,f,E){var O=this;function N(A){if(!A.hover){var B=A.originalEvent,D=O._findTargetGfx(B),U=D&&E.get(D);D&&U&&(A.stopPropagation(),f.hover({element:U,gfx:D}),f.move(B))}}g.on("drag.start",function(A){g.once("drag.move",n,function(B){N(B)})}),g.on("drag.init",function(){var A,B;function D(Z){A=Z.hover,B=Z.hoverGfx}function U(){A=null,B=null}function k(){if(A){var Z=A,ot=B;A=null,B=null,f.out({element:Z,gfx:ot})}}g.on("drag.hover",D),g.on("element.out",U),g.on("element.hover",n,k),g.once("drag.cleanup",function(){g.off("drag.hover",D),g.off("element.out",U),g.off("element.hover",k)})}),this._findTargetGfx=function(A){var B,D;if(A instanceof MouseEvent)return B=(0,m.gK)(A),D=document.elementFromPoint(B.x,B.y),i(D)}}o.$inject=["eventBus","dragging","elementRegistry"];function i(g){return(0,d.closest)(g,"svg, .djs-element",!0)}const p={__init__:["hoverFix"],__depends__:[a.A],dragging:["type",h],hoverFix:["type",o]}},20990:(rt,V,l)=>{l.d(V,{A:()=>v});var a=l(98218),b=l.n(a),d="is not a registered action",m="is already registered";function v(c,C){this._actions={};var T=this;c.on("diagram.init",function(){T._registerDefaultActions(C),c.fire("editorActions.init",{editorActions:T})})}v.$inject=["eventBus","injector"],v.prototype._registerDefaultActions=function(c){var C=c.get("commandStack",!1),T=c.get("modeling",!1),y=c.get("selection",!1),s=c.get("zoomScroll",!1),e=c.get("copyPaste",!1),h=c.get("canvas",!1),n=c.get("rules",!1),o=c.get("keyboardMove",!1),i=c.get("keyboardMoveSelection",!1);C&&(this.register("undo",function(){C.undo()}),this.register("redo",function(){C.redo()})),e&&y&&this.register("copy",function(){var p=y.get();e.copy(p)}),e&&this.register("paste",function(){e.paste()}),s&&this.register("stepZoom",function(p){s.stepZoom(p.value)}),h&&this.register("zoom",function(p){h.zoom(p.value)}),T&&y&&n&&this.register("removeSelection",function(){var p=y.get();if(p.length){var g=n.allowed("elements.delete",{elements:p}),f;g!==!1&&((0,a.isArray)(g)?f=g:f=p,f.length&&T.removeElements(f.slice()))}}),o&&this.register("moveCanvas",function(p){o.moveCanvas(p)}),i&&this.register("moveSelection",function(p){i.moveSelection(p.direction,p.accelerated)})},v.prototype.trigger=function(c,C){if(!this._actions[c])throw _(c,d);return this._actions[c](C)},v.prototype.register=function(c,C){var T=this;if(typeof c=="string")return this._registerAction(c,C);(0,a.forEach)(c,function(y,s){T._registerAction(s,y)})},v.prototype._registerAction=function(c,C){if(this.isRegistered(c))throw _(c,m);this._actions[c]=C},v.prototype.unregister=function(c){if(!this.isRegistered(c))throw _(c,d);this._actions[c]=void 0},v.prototype.getActions=function(){return Object.keys(this._actions)},v.prototype.isRegistered=function(c){return!!this._actions[c]};function _(c,C){return new Error(c+" "+C)}},44394:(rt,V,l)=>{l.d(V,{A:()=>C});var a=l(17521),b=l(34495),d=l(98218),m=l.n(d),v=l(78626),_=1200,c=800;function C(n,o,i){var p=!i||i.active!==!1;this._eventBus=o;var g=this;o.on("diagram.init",c,function(){g.setActive(p)}),o.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],_,function(f){var E=f.originalEvent;if(!(!g.active||E&&(0,b.nM)(E))){var O=f.context,N=O.gridSnappingContext;N||(N=O.gridSnappingContext={}),["x","y"].forEach(function(A){var B={},D=y(f,A,n);D&&(B.offset=D);var U=T(f,A);U&&(0,d.assign)(B,U),(0,a.AC)(f,A)||g.snapEvent(f,A,B)})}})}C.prototype.snapEvent=function(n,o,i){var p=this.snapValue(n[o],i);(0,a.CU)(n,o,p)},C.prototype.getGridSpacing=function(){return v.E},C.prototype.snapValue=function(n,o){var i=0;o&&o.offset&&(i=o.offset),n+=i,n=(0,v.y)(n,v.E);var p,g;return o&&o.min&&(p=o.min,(0,d.isNumber)(p)&&(p=(0,v.y)(p+i,v.E,"ceil"),n=Math.max(n,p))),o&&o.max&&(g=o.max,(0,d.isNumber)(g)&&(g=(0,v.y)(g+i,v.E,"floor"),n=Math.min(n,g))),n-=i,n},C.prototype.isActive=function(){return this.active},C.prototype.setActive=function(n){this.active=n,this._eventBus.fire("gridSnapping.toggle",{active:n})},C.prototype.toggleActive=function(){this.setActive(!this.active)},C.$inject=["elementRegistry","eventBus","config.gridSnapping"];function T(n,o){var i=n.context,p=i.createConstraints,g=i.resizeConstraints||{},f=i.gridSnappingContext,E=f.snapConstraints;if(E&&E[o])return E[o];E||(E=f.snapConstraints={}),E[o]||(E[o]={});var O=i.direction;p&&(s(o)?(E.x.min=p.left,E.x.max=p.right):(E.y.min=p.top,E.y.max=p.bottom));var N=g.min,A=g.max;return N&&(s(o)?h(O)?E.x.max=N.left:E.x.min=N.right:e(O)?E.y.max=N.top:E.y.min=N.bottom),A&&(s(o)?h(O)?E.x.min=A.left:E.x.max=A.right:e(O)?E.y.min=A.top:E.y.max=A.bottom),E[o]}function y(n,o,i){var p=n.context,g=n.shape,f=p.gridSnappingContext,E=f.snapLocation,O=f.snapOffset;return O&&(0,d.isNumber)(O[o])||(O||(O=f.snapOffset={}),(0,d.isNumber)(O[o])||(O[o]=0),!g)||(i.get(g.id)||(s(o)?O[o]+=g[o]+g.width/2:O[o]+=g[o]+g.height/2),!E)||(o==="x"?/left/.test(E)?O[o]-=g.width/2:/right/.test(E)&&(O[o]+=g.width/2):/top/.test(E)?O[o]-=g.height/2:/bottom/.test(E)&&(O[o]+=g.height/2)),O[o]}function s(n){return n==="x"}function e(n){return n.indexOf("n")!==-1}function h(n){return n.indexOf("w")!==-1}},78626:(rt,V,l)=>{l.d(V,{E:()=>a,y:()=>b});var a=10;function b(d,m,v){return v||(v="round"),Math[v](d/m)*m}},46902:(rt,V,l)=>{l.d(V,{A:()=>v});var a=l(60053),b=l(34495),d=1500,m="grab";function v(c,C,T,y,s){this._dragging=T;var e=this,h=y.get("keyboard",!1);s.registerTool("hand",{tool:"hand",dragging:"hand.move"}),c.on("element.mousedown",d,function(n){if((0,a.Io)(n))return this.activateMove(n.originalEvent),!1},this),h&&h.addListener(d,function(n){if(!_(n.keyEvent)||e.isActive())return;function o(p){e.activateMove(p),window.removeEventListener("mousemove",o)}window.addEventListener("mousemove",o);function i(p){_(p.keyEvent)&&(window.removeEventListener("mousemove",o),h.removeListener(i,"keyboard.keyup"),T.cancel())}h.addListener(d,i,"keyboard.keyup")},"keyboard.keydown"),c.on("hand.end",function(n){var o=n.originalEvent.target;if(!n.hover&&!(o instanceof SVGElement))return!1;c.once("hand.ended",function(){this.activateMove(n.originalEvent,{reactivate:!0})},this)},this),c.on("hand.move.move",function(n){var o=C.viewbox().scale;C.scroll({dx:n.dx*o,dy:n.dy*o})}),c.on("hand.move.end",function(n){var o=n.context,i=o.reactivate;return!(0,a.Io)(n)&&i&&c.once("hand.move.ended",function(p){this.activateHand(p.originalEvent,!0,!0)},this),!1},this)}v.$inject=["eventBus","canvas","dragging","injector","toolManager"],v.prototype.activateMove=function(c,C,T){typeof C=="object"&&(T=C,C=!1),this._dragging.init(c,"hand.move",{autoActivate:C,cursor:m,data:{context:T||{}}})},v.prototype.activateHand=function(c,C,T){this._dragging.init(c,"hand",{trapClick:!1,autoActivate:C,cursor:m,data:{context:{reactivate:T}}})},v.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateHand()},v.prototype.isActive=function(){var c=this._dragging.context();return c?/^(hand|hand\.move)$/.test(c.prefix):!1};function _(c){return(0,b.m0)(" ",c)}},69380:(rt,V,l)=>{l.d(V,{A:()=>T});var a=l(98218),b=l(52687),d=l(60053),m=l(33225),v=l(12619);function _(y){return!0}var c=500;function C(y,s,e){var h=this;function n(w,M,S){if(!p(w,M)){var x,t,r;S?t=s.getGraphics(S):(x=M.delegateTarget||M.target,x&&(t=x,S=s.get(t))),!(!t||!S)&&(r=y.fire(w,{element:S,gfx:t,originalEvent:M}),r===!1&&(M.stopPropagation(),M.preventDefault()))}}var o={};function i(w){return o[w]}function p(w,M){var S=f[w]||d.ls;return!S(M)}var g={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},f={"element.contextmenu":_};function E(w,M,S){var x=g[w];if(!x)throw new Error("unmapped DOM event name <"+w+">");return n(x,M,S)}var O="svg, .djs-element";function N(w,M,S,x){var t=o[S]=function(r){n(S,r)};x&&(f[S]=x),t.$delegate=b.delegate.bind(w,O,M,t)}function A(w,M,S){var x=i(S);x&&b.delegate.unbind(w,M,x.$delegate)}function B(w){(0,a.forEach)(g,function(M,S){N(w,S,M)})}function D(w){(0,a.forEach)(g,function(M,S){A(w,S,M)})}y.on("canvas.destroy",function(w){D(w.svg)}),y.on("canvas.init",function(w){B(w.svg)}),y.on(["shape.added","connection.added"],function(w){var M=w.element,S=w.gfx;y.fire("interactionEvents.createHit",{element:M,gfx:S})}),y.on(["shape.changed","connection.changed"],c,function(w){var M=w.element,S=w.gfx;y.fire("interactionEvents.updateHit",{element:M,gfx:S})}),y.on("interactionEvents.createHit",c,function(w){var M=w.element,S=w.gfx;h.createDefaultHit(M,S)}),y.on("interactionEvents.updateHit",function(w){var M=w.element,S=w.gfx;h.updateDefaultHit(M,S)});var U=et("djs-hit djs-hit-stroke"),k=et("djs-hit djs-hit-click-stroke"),Z=et("djs-hit djs-hit-all"),ot={all:Z,"click-stroke":k,stroke:U};function et(w,M){return M=(0,a.assign)({stroke:"white",strokeWidth:15},M||{}),e.cls(w,["no-fill","no-border"],M)}function J(w,M){var S=ot[M];if(!S)throw new Error("invalid hit type <"+M+">");return(0,m.CF)(w,S),w}function Y(w,M){(0,m.BC)(w,M)}this.removeHits=function(w){var M=(0,b.queryAll)(".djs-hit",w);(0,a.forEach)(M,m.TF)},this.createDefaultHit=function(w,M){var S=w.waypoints,x=w.isFrame,t;return S?this.createWaypointsHit(M,S):(t=x?"stroke":"all",this.createBoxHit(M,t,{width:w.width,height:w.height}))},this.createWaypointsHit=function(w,M){var S=(0,v.RJ)(M);return J(S,"stroke"),Y(w,S),S},this.createBoxHit=function(w,M,S){S=(0,a.assign)({x:0,y:0},S);var x=(0,m.vt)("rect");return J(x,M),(0,m.CF)(x,S),Y(w,x),x},this.updateDefaultHit=function(w,M){var S=(0,b.query)(".djs-hit",M);if(S)return w.waypoints?(0,v.si)(S,w.waypoints):(0,m.CF)(S,{width:w.width,height:w.height}),S},this.fire=n,this.triggerMouseEvent=E,this.mouseHandler=i,this.registerEvent=N,this.unregisterEvent=A}C.$inject=["eventBus","elementRegistry","styles"];const T={__init__:["interactionEvents"],interactionEvents:["type",C]}},77117:(rt,V,l)=>{l.d(V,{A:()=>d});var a=l(34495),b=500;function d(m,v){var _=this;m.on("editorActions.init",b,function(c){var C=c.editorActions;_.registerBindings(v,C)})}d.$inject=["eventBus","keyboard"],d.prototype.registerBindings=function(m,v){function _(c,C){v.isRegistered(c)&&m.addListener(C)}_("undo",function(c){var C=c.keyEvent;if((0,a.nM)(C)&&!(0,a.Tu)(C)&&(0,a.m0)(["z","Z"],C))return v.trigger("undo"),!0}),_("redo",function(c){var C=c.keyEvent;if((0,a.nM)(C)&&((0,a.m0)(["y","Y"],C)||(0,a.m0)(["z","Z"],C)&&(0,a.Tu)(C)))return v.trigger("redo"),!0}),_("copy",function(c){var C=c.keyEvent;if((0,a.nM)(C)&&(0,a.m0)(["c","C"],C))return v.trigger("copy"),!0}),_("paste",function(c){var C=c.keyEvent;if((0,a.nM)(C)&&(0,a.m0)(["v","V"],C))return v.trigger("paste"),!0}),_("stepZoom",function(c){var C=c.keyEvent;if((0,a.m0)(["+","Add"],C)&&(0,a.nM)(C))return v.trigger("stepZoom",{value:1}),!0}),_("stepZoom",function(c){var C=c.keyEvent;if((0,a.m0)(["-","Subtract"],C)&&(0,a.nM)(C))return v.trigger("stepZoom",{value:-1}),!0}),_("zoom",function(c){var C=c.keyEvent;if((0,a.m0)("0",C)&&(0,a.nM)(C))return v.trigger("zoom",{value:1}),!0}),_("removeSelection",function(c){var C=c.keyEvent;if((0,a.m0)(["Delete","Del"],C))return v.trigger("removeSelection"),!0})}},34495:(rt,V,l)=>{l.d(V,{Tu:()=>_,m0:()=>v,mp:()=>d,nM:()=>m});var a=l(98218),b=l.n(a);function d(c){return c.ctrlKey||c.metaKey||c.shiftKey||c.altKey}function m(c){return c.altKey?!1:c.ctrlKey||c.metaKey}function v(c,C){return c=(0,a.isArray)(c)?c:[c],c.indexOf(C.key)>-1}function _(c){return c.shiftKey}},50317:(rt,V,l)=>{l.d(V,{A:()=>y});var a=l(98218),b=l(52687),d=l(34495),m="keyboard.keydown",v="keyboard.keyup",_=1e3;function c(s,e){var h=this;this._config=s||{},this._eventBus=e,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),e.on("diagram.destroy",function(){h._fire("destroy"),h.unbind()}),e.on("diagram.init",function(){h._fire("init")}),e.on("attach",function(){s&&s.bindTo&&h.bind(s.bindTo)}),e.on("detach",function(){h.unbind()})}c.$inject=["config.keyboard","eventBus"],c.prototype._keydownHandler=function(s){this._keyHandler(s,m)},c.prototype._keyupHandler=function(s){this._keyHandler(s,v)},c.prototype._keyHandler=function(s,e){var h=s.target,n;if(!C(h)){var o={keyEvent:s};n=this._eventBus.fire(e||m,o),!(s.ctrlKey&&!s.altKey&&!s.shiftKey&&s.keyCode===67)&&n&&s.preventDefault()}},c.prototype.bind=function(s){this.unbind(),this._node=s,b.event.bind(s,"keydown",this._keydownHandler,!0),b.event.bind(s,"keyup",this._keyupHandler,!0),this._fire("bind")},c.prototype.getBinding=function(){return this._node},c.prototype.unbind=function(){var s=this._node;s&&(this._fire("unbind"),b.event.unbind(s,"keydown",this._keydownHandler,!0),b.event.unbind(s,"keyup",this._keyupHandler,!0)),this._node=null},c.prototype._fire=function(s){this._eventBus.fire("keyboard."+s,{node:this._node})},c.prototype.addListener=function(s,e,h){(0,a.isFunction)(s)&&(h=e,e=s,s=_),this._eventBus.on(h||m,s,e)},c.prototype.removeListener=function(s,e){this._eventBus.off(e||m,s)},c.prototype.hasModifier=d.mp,c.prototype.isCmd=d.nM,c.prototype.isShift=d.Tu,c.prototype.isKey=d.m0;function C(s){return s&&((0,b.matches)(s,"input, textarea")||s.contentEditable==="true")}var T=l(77117);const y={__init__:["keyboard","keyboardBindings"],keyboard:["type",c],keyboardBindings:["type",T.A]}},22170:(rt,V,l)=>{l.d(V,{A:()=>y});var a=l(98218),b=l.n(a),d=l(51270),m=l.n(d),v=l(6958),_=l(91799),c=l(6705),C=250,T=1400;function y(e,h,n){c.A.call(this,h);var o=e.get("movePreview",!1);h.on("shape.move.start",T,function(i){var p=i.context,g=p.shapes,f=p.validatedShapes;p.shapes=s(g),p.validatedShapes=s(f)}),o&&h.on("shape.move.start",C,function(i){var p=i.context,g=p.shapes,f=[];(0,a.forEach)(g,function(E){(0,a.forEach)(E.labels,function(O){!O.hidden&&p.shapes.indexOf(O)===-1&&f.push(O),E.labelTarget&&f.push(E)})}),(0,a.forEach)(f,function(E){o.makeDraggable(p,E,!0)})}),this.preExecuted("elements.move",T,function(i){var p=i.context,g=p.closure,f=g.enclosedElements,E=[];(0,a.forEach)(f,function(O){(0,a.forEach)(O.labels,function(N){f[N.id]||E.push(N)})}),g.addAll(E)}),this.preExecute(["connection.delete","shape.delete"],function(i){var p=i.context,g=p.connection||p.shape;(0,_.l)(g.labels,function(f){n.removeShape(f,{nested:!0})})}),this.execute("shape.delete",function(i){var p=i.context,g=p.shape,f=g.labelTarget;f&&(p.labelTargetIndex=(0,v.qh)(f.labels,g),p.labelTarget=f,g.labelTarget=null)}),this.revert("shape.delete",function(i){var p=i.context,g=p.shape,f=p.labelTarget,E=p.labelTargetIndex;f&&((0,v.WQ)(f.labels,g,E),g.labelTarget=f)})}m()(y,c.A),y.$inject=["injector","eventBus","modeling"];function s(e){return(0,a.filter)(e,function(h){return e.indexOf(h.labelTarget)===-1})}},40406:(rt,V,l)=>{l.d(V,{A:()=>c});var a=l(98218),b=l.n(a),d=l(10018),m=l(60053),v=l(33225),_="crosshair";function c(T,y,s,e,h,n){this._selection=h,this._dragging=s;var o=this,i={create:function(p){var g=y.getDefaultLayer(),f;f=p.frame=(0,v.vt)("rect"),(0,v.CF)(f,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),(0,v.BC)(g,f)},update:function(p){var g=p.frame,f=p.bbox;(0,v.CF)(g,{x:f.x,y:f.y,width:f.width,height:f.height})},remove:function(p){p.frame&&(0,v.TF)(p.frame)}};n.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),T.on("lasso.selection.end",function(p){var g=p.originalEvent.target;!p.hover&&!(g instanceof SVGElement)||T.once("lasso.selection.ended",function(){o.activateLasso(p.originalEvent,!0)})}),T.on("lasso.end",function(p){var g=C(p),f=e.filter(function(E){return E});o.select(f,g)}),T.on("lasso.start",function(p){var g=p.context;g.bbox=C(p),i.create(g)}),T.on("lasso.move",function(p){var g=p.context;g.bbox=C(p),i.update(g)}),T.on("lasso.cleanup",function(p){var g=p.context;i.remove(g)}),T.on("element.mousedown",1500,function(p){if((0,m.KH)(p))return o.activateLasso(p.originalEvent),!0})}c.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager"],c.prototype.activateLasso=function(T,y){this._dragging.init(T,"lasso",{autoActivate:y,cursor:_,data:{context:{}}})},c.prototype.activateSelection=function(T){this._dragging.init(T,"lasso.selection",{trapClick:!1,cursor:_,data:{context:{}}})},c.prototype.select=function(T,y){var s=(0,d.rx)(T,y);this._selection.select((0,a.values)(s))},c.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},c.prototype.isActive=function(){var T=this._dragging.context();return T&&/^lasso/.test(T.prefix)};function C(T){var y={x:T.x-T.dx,y:T.y-T.dy},s={x:T.x,y:T.y},e;return y.x<=s.x&&y.y<s.y||y.x<s.x&&y.y<=s.y?e={x:y.x,y:y.y,width:s.x-y.x,height:s.y-y.y}:y.x>=s.x&&y.y<s.y||y.x>s.x&&y.y<=s.y?e={x:s.x,y:y.y,width:y.x-s.x,height:s.y-y.y}:y.x<=s.x&&y.y>s.y||y.x<s.x&&y.y>=s.y?e={x:y.x,y:s.y,width:s.x-y.x,height:y.y-s.y}:y.x>=s.x&&y.y>s.y||y.x>s.x&&y.y>=s.y?e={x:s.x,y:s.y,width:y.x-s.x,height:y.y-s.y}:e={x:s.x,y:s.y,width:0,height:0},e}},50101:(rt,V,l)=>{l.d(V,{A:()=>C});var a=l(84654),b=l(98218),d=l(52687),m=250;function v(T,y){this._eventBus=T,this._dragging=y,this._tools=[],this._active=null}v.$inject=["eventBus","dragging"],v.prototype.registerTool=function(T,y){var s=this._tools;if(!y)throw new Error(`A tool has to be registered with it's "events"`);s.push(T),this.bindEvents(T,y)},v.prototype.isActive=function(T){return T&&this._active===T},v.prototype.length=function(T){return this._tools.length},v.prototype.setActive=function(T){var y=this._eventBus;this._active!==T&&(this._active=T,y.fire("tool-manager.update",{tool:T}))},v.prototype.bindEvents=function(T,y){var s=this._eventBus,e=this._dragging,h=[];s.on(y.tool+".init",function(n){var o=n.context;if(!o.reactivate&&this.isActive(T)){this.setActive(null),e.cancel();return}this.setActive(T)},this),(0,b.forEach)(y,function(n){h.push(n+".ended"),h.push(n+".canceled")}),s.on(h,m,function(n){var o=n.originalEvent;this._active&&(o&&(0,d.closest)(o.target,'.group[data-group="tools"]')||this.setActive(null))},this)};const _={__depends__:[a.A],__init__:["toolManager"],toolManager:["type",v]};var c=l(40406);const C={__depends__:[_],__init__:["lassoTool"],lassoTool:["type",c.A]}},84919:(rt,V,l)=>{l.d(V,{A:()=>x});var a=l(98218),b=l(49096);function d(t,r){this._modeling=t,this._canvas=r}d.$inject=["modeling","canvas"],d.prototype.preExecute=function(t){var r=this._modeling,u=t.elements,P=t.alignment;(0,a.forEach)(u,function(W){var H={x:0,y:0};P.left?H.x=P.left-W.x:P.right?H.x=P.right-W.width-W.x:P.center?H.x=P.center-Math.round(W.width/2)-W.x:P.top?H.y=P.top-W.y:P.bottom?H.y=P.bottom-W.height-W.y:P.middle&&(H.y=P.middle-Math.round(W.height/2)-W.y),r.moveElements([W],H,W.parent)})},d.prototype.postExecute=function(t){};function m(t){this._modeling=t}m.$inject=["modeling"],m.prototype.preExecute=function(t){var r=t.source;if(!r)throw new Error("source required");var u=t.target||r.parent,P=t.shape;P=t.shape=this._modeling.createShape(P,t.position,u,{attach:t.attach}),t.shape=P},m.prototype.postExecute=function(t){var r=t.connectionParent||t.shape.parent;v(t.source,t.shape)||this._modeling.connect(t.source,t.shape,t.connection,r)};function v(t,r){return(0,a.some)(t.outgoing,function(u){return u.target===r})}function _(t,r){this._canvas=t,this._layouter=r}_.$inject=["canvas","layouter"],_.prototype.execute=function(t){var r=t.connection,u=t.source,P=t.target,W=t.parent,H=t.parentIndex,X=t.hints;if(!u||!P)throw new Error("source and target required");if(!W)throw new Error("parent required");return r.source=u,r.target=P,r.waypoints||(r.waypoints=this._layouter.layoutConnection(r,X)),this._canvas.addConnection(r,W,H),r},_.prototype.revert=function(t){var r=t.connection;return this._canvas.removeConnection(r),r.source=null,r.target=null,r};var c=l(90006),C=l(34635),T=l(2050),y=l(6958);function s(t,r){this._canvas=t,this._modeling=r}s.$inject=["canvas","modeling"],s.prototype.execute=function(t){var r=t.connection,u=r.parent;return t.parent=u,t.parentIndex=(0,y.qh)(u.children,r),t.source=r.source,t.target=r.target,this._canvas.removeConnection(r),r.source=null,r.target=null,r},s.prototype.revert=function(t){var r=t.connection,u=t.parent,P=t.parentIndex;return r.source=t.source,r.target=t.target,(0,y.WQ)(u.children,r,P),this._canvas.addConnection(r,u),r};function e(t,r){this._modeling=t,this._elementRegistry=r}e.$inject=["modeling","elementRegistry"],e.prototype.postExecute=function(t){var r=this._modeling,u=this._elementRegistry,P=t.elements;(0,a.forEach)(P,function(W){u.get(W.id)&&(W.waypoints?r.removeConnection(W):r.removeShape(W))})};var h=l(91799);function n(t,r){this._canvas=t,this._modeling=r}n.$inject=["canvas","modeling"],n.prototype.preExecute=function(t){var r=this._modeling,u=t.shape;(0,h.l)(u.incoming,function(P){r.removeConnection(P,{nested:!0})}),(0,h.l)(u.outgoing,function(P){r.removeConnection(P,{nested:!0})}),(0,h.l)(u.children,function(P){o(P)?r.removeConnection(P,{nested:!0}):r.removeShape(P,{nested:!0})})},n.prototype.execute=function(t){var r=this._canvas,u=t.shape,P=u.parent;return t.oldParent=P,t.oldParentIndex=(0,y.qh)(P.children,u),r.removeShape(u),u},n.prototype.revert=function(t){var r=this._canvas,u=t.shape,P=t.oldParent,W=t.oldParentIndex;return(0,y.WQ)(P.children,u,W),r.addShape(u,P),u};function o(t){return t.waypoints}function i(t){this._modeling=t}i.$inject=["modeling"];var p={x:"y",y:"x"};i.prototype.preExecute=function(t){var r=this._modeling,u=t.groups,P=t.axis,W=t.dimension;function H(nt,st){nt.range.min=Math.min(st[P],nt.range.min),nt.range.max=Math.max(st[P]+st[W],nt.range.max)}function X(nt){return nt[P]+nt[W]/2}function $(nt){return nt.length-1}function q(nt){return nt.max-nt.min}function it(nt,st){var ut={y:0};ut[P]=nt-X(st),ut[P]&&(ut[p[P]]=0,r.moveElements([st],ut,st.parent))}var F=u[0],G=$(u),z=u[G],I,K,Q=0;(0,a.forEach)(u,function(nt,st){var ut,ft,lt;if(nt.elements.length<2){st&&st!==u.length-1&&(H(nt,nt.elements[0]),Q+=q(nt.range));return}ut=(0,a.sortBy)(nt.elements,P),ft=ut[0],st===G&&(ft=ut[$(ut)]),lt=X(ft),nt.range=null,(0,a.forEach)(ut,function(ht){if(it(lt,ht),nt.range===null){nt.range={min:ht[P],max:ht[P]+ht[W]};return}H(nt,ht)}),st&&st!==u.length-1&&(Q+=q(nt.range))}),K=Math.abs(z.range.min-F.range.max),I=Math.round((K-Q)/(u.length-1)),!(I<u.length-1)&&(0,a.forEach)(u,function(nt,st){var ut={},ft;nt===F||nt===z||(ft=u[st-1],nt.range.max=0,(0,a.forEach)(nt.elements,function(lt,ht){ut[p[P]]=0,ut[P]=ft.range.max-lt[P]+I,nt.range.min!==lt[P]&&(ut[P]+=lt[P]-nt.range.min),ut[P]&&r.moveElements([lt],ut,lt.parent),nt.range.max=Math.max(lt[P]+lt[W],ht?nt.range.max:0)}))})},i.prototype.postExecute=function(t){};function g(t,r){this._layouter=t,this._canvas=r}g.$inject=["layouter","canvas"],g.prototype.execute=function(t){var r=t.connection,u=r.waypoints;return(0,a.assign)(t,{oldWaypoints:u}),r.waypoints=this._layouter.layoutConnection(r,t.hints),r},g.prototype.revert=function(t){var r=t.connection;return r.waypoints=t.oldWaypoints,r};function f(){}f.prototype.execute=function(t){var r=t.connection,u=t.delta,P=t.newParent||r.parent,W=t.newParentIndex,H=r.parent;return t.oldParent=H,t.oldParentIndex=(0,y.TF)(H.children,r),(0,y.WQ)(P.children,r,W),r.parent=P,(0,a.forEach)(r.waypoints,function(X){X.x+=u.x,X.y+=u.y,X.original&&(X.original.x+=u.x,X.original.y+=u.y)}),r},f.prototype.revert=function(t){var r=t.connection,u=r.parent,P=t.oldParent,W=t.oldParentIndex,H=t.delta;return(0,y.TF)(u.children,r),(0,y.WQ)(P.children,r,W),r.parent=P,(0,a.forEach)(r.waypoints,function(X){X.x-=H.x,X.y-=H.y,X.original&&(X.original.x-=H.x,X.original.y-=H.y)}),r};var E=l(12301),O=l(35797),N=l(39226);function A(t){this._modeling=t,this._helper=new O.A(t)}A.$inject=["modeling"],A.prototype.execute=function(t){var r=t.shape,u=t.delta,P=t.newParent||r.parent,W=t.newParentIndex,H=r.parent;return t.oldBounds=(0,a.pick)(r,["x","y","width","height"]),t.oldParent=H,t.oldParentIndex=(0,y.TF)(H.children,r),(0,y.WQ)(P.children,r,W),(0,a.assign)(r,{parent:P,x:r.x+u.x,y:r.y+u.y}),r},A.prototype.postExecute=function(t){var r=t.shape,u=t.delta,P=t.hints,W=this._modeling;P.layout!==!1&&((0,a.forEach)(r.incoming,function(H){W.layoutConnection(H,{connectionEnd:(0,N.OF)(H,r,u)})}),(0,a.forEach)(r.outgoing,function(H){W.layoutConnection(H,{connectionStart:(0,N.IY)(H,r,u)})})),P.recurse!==!1&&this.moveChildren(t)},A.prototype.revert=function(t){var r=t.shape,u=t.oldParent,P=t.oldParentIndex,W=t.delta;return(0,y.WQ)(u.children,r,P),(0,a.assign)(r,{parent:u,x:r.x-W.x,y:r.y-W.y}),r},A.prototype.moveChildren=function(t){var r=t.delta,u=t.shape;this._helper.moveRecursive(u.children,r,null)},A.prototype.getNewParent=function(t){return t.newParent||t.shape.parent};var B=l(97970);function D(t,r){this._modeling=t,this._rules=r}D.$inject=["modeling","rules"],D.prototype.preExecute=function(t){var r=this,u=this._modeling,P=this._rules,W=t.oldShape,H=t.newData,X=t.hints||{},$;function q(K,Q,nt){return P.allowed("connection.reconnect",{connection:nt,source:K,target:Q})}var it={x:H.x,y:H.y},F={x:W.x,y:W.y,width:W.width,height:W.height};$=t.newShape=t.newShape||r.createShape(H,it,W.parent,X),W.host&&u.updateAttachment($,W.host);var G;X.moveChildren!==!1&&(G=W.children.slice(),u.moveElements(G,{x:0,y:0},$,X));var z=W.incoming.slice(),I=W.outgoing.slice();(0,a.forEach)(z,function(K){var Q=K.source,nt=q(Q,$,K);nt&&r.reconnectEnd(K,$,(0,N.tQ)(K,$,F),X)}),(0,a.forEach)(I,function(K){var Q=K.target,nt=q($,Q,K);nt&&r.reconnectStart(K,$,(0,N.Fe)(K,$,F),X)})},D.prototype.postExecute=function(t){var r=t.oldShape;this._modeling.removeShape(r)},D.prototype.execute=function(t){},D.prototype.revert=function(t){},D.prototype.createShape=function(t,r,u,P){return this._modeling.createShape(t,r,u,P)},D.prototype.reconnectStart=function(t,r,u,P){this._modeling.reconnectStart(t,r,u,P)},D.prototype.reconnectEnd=function(t,r,u,P){this._modeling.reconnectEnd(t,r,u,P)};function U(t){this._modeling=t}U.$inject=["modeling"],U.prototype.execute=function(t){var r=t.shape,u=t.newBounds,P=t.minBounds;if(u.x===void 0||u.y===void 0||u.width===void 0||u.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(P&&(u.width<P.width||u.height<P.height))throw new Error("width and height cannot be less than minimum height and width");if(!P&&u.width<10||u.height<10)throw new Error("width and height cannot be less than 10px");return t.oldBounds={width:r.width,height:r.height,x:r.x,y:r.y},(0,a.assign)(r,{width:u.width,height:u.height,x:u.x,y:u.y}),r},U.prototype.postExecute=function(t){var r=this._modeling,u=t.shape,P=t.oldBounds,W=t.hints||{};W.layout!==!1&&((0,a.forEach)(u.incoming,function(H){r.layoutConnection(H,{connectionEnd:(0,N.tQ)(H,u,P)})}),(0,a.forEach)(u.outgoing,function(H){r.layoutConnection(H,{connectionStart:(0,N.Fe)(H,u,P)})}))},U.prototype.revert=function(t){var r=t.shape,u=t.oldBounds;return(0,a.assign)(r,{width:u.width,height:u.height,x:u.x,y:u.y}),r};var k=l(57261);function Z(t){this._modeling=t}Z.$inject=["modeling"],Z.prototype.execute=function(t){var r=t.shape,u=r.children;t.oldChildrenVisibility=ot(u),r.collapsed=!r.collapsed;var P=et(u,r.collapsed);return[r].concat(P)},Z.prototype.revert=function(t){var r=t.shape,u=t.oldChildrenVisibility,P=r.children,W=J(P,u);return r.collapsed=!r.collapsed,[r].concat(W)};function ot(t){var r={};return(0,a.forEach)(t,function(u){r[u.id]=u.hidden,u.children&&(r=(0,a.assign)({},r,ot(u.children)))}),r}function et(t,r){var u=[];return(0,a.forEach)(t,function(P){P.hidden=r,u=u.concat(P),P.children&&(u=u.concat(et(P.children,P.collapsed||r)))}),u}function J(t,r){var u=[];return(0,a.forEach)(t,function(P){P.hidden=r[P.id],u=u.concat(P),P.children&&(u=u.concat(J(P.children,r)))}),u}function Y(t){this._modeling=t}Y.$inject=["modeling"],Y.prototype.execute=function(t){var r=t.shape,u=t.newHost,P=r.host;return t.oldHost=P,t.attacherIdx=w(P,r),M(u,r),r.host=u,r},Y.prototype.revert=function(t){var r=t.shape,u=t.newHost,P=t.oldHost,W=t.attacherIdx;return r.host=P,w(u,r),M(P,r,W),r};function w(t,r){return(0,y.TF)(t&&t.attachers,r)}function M(t,r,u){if(t){var P=t.attachers;P||(t.attachers=P=[]),(0,y.WQ)(P,r,u)}}function S(){}S.prototype.execute=function(t){var r=t.connection,u=t.newWaypoints;return t.oldWaypoints=r.waypoints,r.waypoints=u,r},S.prototype.revert=function(t){var r=t.connection,u=t.oldWaypoints;return r.waypoints=u,r};function x(t,r,u){this._eventBus=t,this._elementFactory=r,this._commandStack=u;var P=this;t.on("diagram.init",function(){P.registerHandlers(u)})}x.$inject=["eventBus","elementFactory","commandStack"],x.prototype.getHandlers=function(){return{"shape.append":m,"shape.create":T.A,"shape.delete":n,"shape.move":A,"shape.resize":U,"shape.replace":D,"shape.toggleCollapse":Z,spaceTool:k.A,"label.create":C.A,"connection.create":_,"connection.delete":s,"connection.move":f,"connection.layout":g,"connection.updateWaypoints":S,"connection.reconnect":B.A,"elements.create":c.A,"elements.move":E.A,"elements.delete":e,"elements.distribute":i,"elements.align":d,"element.updateAttachment":Y}},x.prototype.registerHandlers=function(t){(0,a.forEach)(this.getHandlers(),function(r,u){t.registerHandler(u,r)})},x.prototype.moveShape=function(t,r,u,P,W){typeof P=="object"&&(W=P,P=null);var H={shape:t,delta:r,newParent:u,newParentIndex:P,hints:W||{}};this._commandStack.execute("shape.move",H)},x.prototype.updateAttachment=function(t,r){var u={shape:t,newHost:r};this._commandStack.execute("element.updateAttachment",u)},x.prototype.moveElements=function(t,r,u,P){P=P||{};var W=P.attach,H=u,X;W===!0?(X=u,H=u.parent):W===!1&&(X=null);var $={shapes:t,delta:r,newParent:H,newHost:X,hints:P};this._commandStack.execute("elements.move",$)},x.prototype.moveConnection=function(t,r,u,P,W){typeof P=="object"&&(W=P,P=void 0);var H={connection:t,delta:r,newParent:u,newParentIndex:P,hints:W||{}};this._commandStack.execute("connection.move",H)},x.prototype.layoutConnection=function(t,r){var u={connection:t,hints:r||{}};this._commandStack.execute("connection.layout",u)},x.prototype.createConnection=function(t,r,u,P,W,H){typeof u=="object"&&(H=W,W=P,P=u,u=void 0),P=this._create("connection",P);var X={source:t,target:r,parent:W,parentIndex:u,connection:P,hints:H};return this._commandStack.execute("connection.create",X),X.connection},x.prototype.createShape=function(t,r,u,P,W){typeof P!="number"&&(W=P,P=void 0),W=W||{};var H=W.attach,X,$;t=this._create("shape",t),H?(X=u.parent,$=u):X=u;var q={position:r,shape:t,parent:X,parentIndex:P,host:$,hints:W};return this._commandStack.execute("shape.create",q),q.shape},x.prototype.createElements=function(t,r,u,P,W){(0,a.isArray)(t)||(t=[t]),typeof P!="number"&&(W=P,P=void 0),W=W||{};var H={position:r,elements:t,parent:u,parentIndex:P,hints:W};return this._commandStack.execute("elements.create",H),H.elements},x.prototype.createLabel=function(t,r,u,P){u=this._create("label",u);var W={labelTarget:t,position:r,parent:P||t.parent,shape:u};return this._commandStack.execute("label.create",W),W.shape},x.prototype.appendShape=function(t,r,u,P,W){W=W||{},r=this._create("shape",r);var H={source:t,position:u,target:P,shape:r,connection:W.connection,connectionParent:W.connectionParent,attach:W.attach};return this._commandStack.execute("shape.append",H),H.shape},x.prototype.removeElements=function(t){var r={elements:t};this._commandStack.execute("elements.delete",r)},x.prototype.distributeElements=function(t,r,u){var P={groups:t,axis:r,dimension:u};this._commandStack.execute("elements.distribute",P)},x.prototype.removeShape=function(t,r){var u={shape:t,hints:r||{}};this._commandStack.execute("shape.delete",u)},x.prototype.removeConnection=function(t,r){var u={connection:t,hints:r||{}};this._commandStack.execute("connection.delete",u)},x.prototype.replaceShape=function(t,r,u){var P={oldShape:t,newData:r,hints:u||{}};return this._commandStack.execute("shape.replace",P),P.newShape},x.prototype.alignElements=function(t,r){var u={elements:t,alignment:r};this._commandStack.execute("elements.align",u)},x.prototype.resizeShape=function(t,r,u,P){var W={shape:t,newBounds:r,minBounds:u,hints:P};this._commandStack.execute("shape.resize",W)},x.prototype.createSpace=function(t,r,u,P,W){var H={delta:u,direction:P,movingShapes:t,resizingShapes:r,start:W};this._commandStack.execute("spaceTool",H)},x.prototype.updateWaypoints=function(t,r,u){var P={connection:t,newWaypoints:r,hints:u||{}};this._commandStack.execute("connection.updateWaypoints",P)},x.prototype.reconnect=function(t,r,u,P,W){var H={connection:t,newSource:r,newTarget:u,dockingOrPoints:P,hints:W||{}};this._commandStack.execute("connection.reconnect",H)},x.prototype.reconnectStart=function(t,r,u,P){P||(P={}),this.reconnect(t,r,t.target,u,(0,a.assign)(P,{docking:"source"}))},x.prototype.reconnectEnd=function(t,r,u,P){P||(P={}),this.reconnect(t,t.source,r,u,(0,a.assign)(P,{docking:"target"}))},x.prototype.connect=function(t,r,u,P){return this.createConnection(t,r,u||{},t.parent,P)},x.prototype._create=function(t,r){return r instanceof b.C6?r:this._elementFactory.create(t,r)},x.prototype.toggleCollapse=function(t,r){var u={shape:t,hints:r||{}};this._commandStack.execute("shape.toggleCollapse",u)}},90006:(rt,V,l)=>{l.d(V,{A:()=>v});var a=l(98218),b=l.n(a),d=l(10018),m=Math.round;function v(c){this._modeling=c}v.$inject=["modeling"],v.prototype.preExecute=function(c){var C=c.elements,T=c.parent,y=c.parentIndex,s=c.position,e=c.hints,h=this._modeling;(0,a.forEach)(C,function(g){(0,a.isNumber)(g.x)||(g.x=0),(0,a.isNumber)(g.y)||(g.y=0)});var n=(0,d.U7)(C);(0,a.forEach)(C,function(g){_(g)&&(g.waypoints=(0,a.map)(g.waypoints,function(f){return{x:f.x-n.x-m(n.width/2)+s.x,y:f.y-n.y-m(n.height/2)+s.y}})),(0,a.assign)(g,{x:g.x-n.x-m(n.width/2)+s.x,y:g.y-n.y-m(n.height/2)+s.y})});var o=(0,d.wT)(C),i={},p=this;(0,a.forEach)(C,function(g){if(_(g)){i[g.id]=(0,a.isNumber)(y)?h.createConnection(i[g.source.id],i[g.target.id],y,g,g.parent||T,e):h.createConnection(i[g.source.id],i[g.target.id],g,g.parent||T,e);return}var f=(0,a.assign)({},e);o.indexOf(g)===-1&&(f.autoResize=!1),i[g.id]=(0,a.isNumber)(y)?h.createShape(g,(0,a.pick)(g,["x","y","width","height"]),p.getParent(g,c),y,f):h.createShape(g,(0,a.pick)(g,["x","y","width","height"]),p.getParent(g,c),f)}),c.elements=(0,a.values)(i)},v.prototype.getParent=function(c,C){return c.parent||C.parent};function _(c){return!!c.waypoints}},34635:(rt,V,l)=>{l.d(V,{A:()=>m});var a=l(51270),b=l.n(a),d=l(2050);function m(C){d.A.call(this,C)}b()(m,d.A),m.$inject=["canvas"];var v=d.A.prototype.execute;m.prototype.execute=function(C){var T=C.shape;return c(T),T.labelTarget=C.labelTarget,v.call(this,C)};var _=d.A.prototype.revert;m.prototype.revert=function(C){return C.shape.labelTarget=null,_.call(this,C)};function c(C){["width","height"].forEach(function(T){typeof C[T]>"u"&&(C[T]=0)})}},2050:(rt,V,l)=>{l.d(V,{A:()=>m});var a=l(98218),b=l.n(a),d=Math.round;function m(v){this._canvas=v}m.$inject=["canvas"],m.prototype.execute=function(v){var _=v.shape,c=v.position,C=v.parent,T=v.parentIndex;if(!C)throw new Error("parent required");if(!c)throw new Error("position required");return c.width!==void 0?(0,a.assign)(_,c):(0,a.assign)(_,{x:c.x-d(_.width/2),y:c.y-d(_.height/2)}),this._canvas.addShape(_,C,T),_},m.prototype.revert=function(v){var _=v.shape;return this._canvas.removeShape(_),_}},12301:(rt,V,l)=>{l.d(V,{A:()=>b});var a=l(35797);function b(d){this._helper=new a.A(d)}b.$inject=["modeling"],b.prototype.preExecute=function(d){d.closure=this._helper.getClosure(d.shapes)},b.prototype.postExecute=function(d){var m=d.hints,v;m&&m.primaryShape&&(v=m.primaryShape,m.oldParent=v.parent),this._helper.moveClosure(d.closure,d.delta,d.newParent,d.newHost,v)}},97970:(rt,V,l)=>{l.d(V,{A:()=>d});var a=l(98218),b=l.n(a);function d(v){this._modeling=v}d.$inject=["modeling"],d.prototype.execute=function(v){var _=v.newSource,c=v.newTarget,C=v.connection,T=v.dockingOrPoints;if(!_&&!c)throw new Error("newSource or newTarget required");return(0,a.isArray)(T)&&(v.oldWaypoints=C.waypoints,C.waypoints=T),_&&(v.oldSource=C.source,C.source=_),c&&(v.oldTarget=C.target,C.target=c),C},d.prototype.postExecute=function(v){var _=v.connection,c=v.newSource,C=v.newTarget,T=v.dockingOrPoints,y=v.hints||{};if(y.layoutConnection!==!1){var s={};c&&(!C||y.docking==="source")&&(s.connectionStart=m((0,a.isArray)(T)?T[0]:T)),C&&(!c||y.docking==="target")&&(s.connectionEnd=m((0,a.isArray)(T)?T[T.length-1]:T)),y.newWaypoints&&(s.waypoints=y.newWaypoints),this._modeling.layoutConnection(_,s)}},d.prototype.revert=function(v){var _=v.oldSource,c=v.oldTarget,C=v.oldWaypoints,T=v.connection;return _&&(T.source=_),c&&(T.target=c),C&&(T.waypoints=C),T};function m(v){return v.original||v}},57261:(rt,V,l)=>{l.d(V,{A:()=>m});var a=l(98218),b=l.n(a),d=l(45240);function m(T){this._modeling=T}m.$inject=["modeling"],m.prototype.preExecute=function(T){var y=T.delta,s=T.direction,e=T.movingShapes,h=T.resizingShapes,n=T.start;this.moveShapes(e,y),this.resizeShapes(h,y,s),this.updateConnectionWaypoints((0,d.Gq)(e,h),y,s,n,e,h)},m.prototype.execute=function(){},m.prototype.revert=function(){},m.prototype.moveShapes=function(T,y){var s=this;(0,a.forEach)(T,function(e){s._modeling.moveShape(e,y,null,{autoResize:!1,layout:!1,recurse:!1})})},m.prototype.resizeShapes=function(T,y,s){var e=this;(0,a.forEach)(T,function(h){var n=(0,d.Ih)(h,s,y);e._modeling.resizeShape(h,n,null,{attachSupport:!1,autoResize:!1,layout:!1})})},m.prototype.updateConnectionWaypoints=function(T,y,s,e,h,n){var o=this;(0,a.forEach)(T,function(i){var p=i.source,g=i.target,f=_(i),E=c(s);f=(0,a.map)(f,function(O,N){var A=N===0,B=N===f.length-1;return A&&!C(h.concat(n),p)||B&&!C(h.concat(n),g)||((O[E]>e&&/e|s/.test(s)||O[E]<e&&/n|w/.test(s))&&(O[E]=O[E]+y[E]),O.original&&(O.original[E]>e&&/e|s/.test(s)||O.original[E]<e&&/n|w/.test(s))&&(O.original[E]=O.original[E]+y[E])),O}),o._modeling.updateWaypoints(i,f,{labelBehavior:!1})})};function v(T){return(0,a.assign)({},T)}function _(T){return(0,a.map)(T.waypoints,function(y){return y=v(y),y.original&&(y.original=v(y.original)),y})}function c(T){switch(T){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function C(T,y){return T.indexOf(y)!==-1}},39226:(rt,V,l)=>{l.d(V,{IY:()=>c,OF:()=>C,Fe:()=>v,tQ:()=>_});var a=l(65911),b=l(56764);function d(s,e,h){var n=(0,b.g)(e),o=(0,b.g)(h),i=(0,b.p)(s,n),p={x:i.x*(h.width/e.width),y:i.y*(h.height/e.height)};return(0,a.PG)({x:o.x+p.x,y:o.y+p.y})}function m(s,e,h){var n=center(s),o=center(e),i=center(h),p=delta(s,n),g=delta(n,o),f={x:g.x*(h.width/e.width),y:g.y*(h.height/e.height)},E={x:i.x+f.x,y:i.y+f.y};return roundPoint({x:E.x+p.x-s.x,y:E.y+p.y-s.y})}function v(s,e,h){var n=y(s),o=n[0];return d(o.original||o,h,e)}function _(s,e,h){var n=y(s),o=n[n.length-1];return d(o.original||o,h,e)}function c(s,e,h){return v(s,e,T(e,h))}function C(s,e,h){return _(s,e,T(e,h))}function T(s,e){return{x:s.x-e.x,y:s.y-e.y,width:s.width,height:s.height}}function y(s){var e=s.waypoints;if(!e.length)throw new Error("connection#"+s.id+": no waypoints");return e}},35797:(rt,V,l)=>{l.d(V,{A:()=>v});var a=l(98218),b=l(39226),d=l(10018);function m(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}m.prototype.add=function(_,c){return this.addAll([_],c)},m.prototype.addAll=function(_,c){var C=(0,d.yO)(_,!!c,this);return(0,a.assign)(this,C),this};function v(_){this._modeling=_}v.prototype.moveRecursive=function(_,c,C){return _?this.moveClosure(this.getClosure(_),c,C):[]},v.prototype.moveClosure=function(_,c,C,T,y){var s=this._modeling,e=_.allShapes,h=_.allConnections,n=_.enclosedConnections,o=_.topLevel,i=!1;y&&y.parent===C&&(i=!0),(0,a.forEach)(e,function(p){s.moveShape(p,c,o[p.id]&&!i&&C,{recurse:!1,layout:!1})}),(0,a.forEach)(h,function(p){var g=!!e[p.source.id],f=!!e[p.target.id];n[p.id]&&g&&f?s.moveConnection(p,c,o[p.id]&&!i&&C):s.layoutConnection(p,{connectionStart:g&&(0,b.IY)(p,p.source,c),connectionEnd:f&&(0,b.OF)(p,p.target,c),shapeMoving:!0})})},v.prototype.getClosure=function(_){return new m().addAll(_,!0)}},77648:(rt,V,l)=>{l.d(V,{A:()=>C});var a=l(17389);const b={commandStack:["type",a.A]};var d=l(54100),m=l(56773),v=l(11918),_=l(84919),c=l(10033);const C={__depends__:[b,d.A,m.A,v.A],__init__:["modeling"],modeling:["type",_.A],layouter:["type",c.A]}},79691:(rt,V,l)=>{l.d(V,{A:()=>ot});var a=l(69380),b=l(56773),d=l(35576),m=l(11918),v=l(84654),_=l(71953),c=l(98218),C=l(86439),T=500,y=1250,s=1500,e=Math.round;function h(et){return{x:et.x+e(et.width/2),y:et.y+e(et.height/2)}}function n(et,J,Y,w,M){function S(t,r,u,P){return M.allowed("elements.move",{shapes:t,delta:r,position:u,target:P})}et.on("shape.move.start",s,function(t){var r=t.context,u=t.shape,P=w.get().slice();P.indexOf(u)===-1&&(P=[u]),P=o(P),(0,c.assign)(r,{shapes:P,validatedShapes:P,shape:u})}),et.on("shape.move.start",y,function(t){var r=t.context,u=r.validatedShapes,P;if(P=r.canExecute=S(u),!P)return!1}),et.on("shape.move.move",T,function(t){var r=t.context,u=r.validatedShapes,P=t.hover,W={x:t.dx,y:t.dy},H={x:t.x,y:t.y},X;if(X=S(u,W,H,P),r.delta=W,r.canExecute=X,X===null){r.target=null;return}r.target=P}),et.on("shape.move.end",function(t){var r=t.context,u=r.delta,P=r.canExecute,W=P==="attach",H=r.shapes;if(P===!1)return!1;u.x=e(u.x),u.y=e(u.y),!(u.x===0&&u.y===0)&&Y.moveElements(H,u,r.target,{primaryShape:r.shape,attach:W})}),et.on("element.mousedown",function(t){var r=(0,C.AF)(t);if(!r)throw new Error("must supply DOM mousedown event");return x(r,t.element)});function x(t,r,u,P){if((0,c.isObject)(u)&&(P=u,u=!1),!(r.waypoints||!r.parent)){var W=h(r);return J.init(t,W,"shape.move",{cursor:"grabbing",autoActivate:u,data:{shape:r,context:P||{}}}),!0}}this.start=x}n.$inject=["eventBus","dragging","modeling","selection","rules"];function o(et){var J=(0,c.groupBy)(et,"id");return(0,c.filter)(et,function(Y){for(;Y=Y.parent;)if(J[Y.id])return!1;return!0})}var i=l(10018),p=l(33225),g=l(52965),f=499,E="djs-dragging",O="drop-ok",N="drop-not-ok",A="new-parent",B="attach-ok";function D(et,J,Y,w){function M(r){var u=S(r),P=U(u);return P}function S(r){var u=(0,i.cZ)(r,!0),P=(0,c.map)(u,function(W){return(W.incoming||[]).concat(W.outgoing||[])});return(0,c.flatten)(u.concat(P))}function x(r,u){[B,O,N,A].forEach(function(P){P===u?J.addMarker(r,P):J.removeMarker(r,P)})}function t(r,u,P){w.addDragger(u,r.dragGroup),P&&J.addMarker(u,E),r.allDraggedElements?r.allDraggedElements.push(u):r.allDraggedElements=[u]}et.on("shape.move.start",f,function(r){var u=r.context,P=u.shapes,W=u.allDraggedElements,H=M(P);if(!u.dragGroup){var X=(0,p.vt)("g");(0,p.CF)(X,Y.cls("djs-drag-group",["no-events"]));var $=J.getDefaultLayer();(0,p.BC)($,X),u.dragGroup=X}H.forEach(function(q){w.addDragger(q,u.dragGroup)}),W?W=(0,c.flatten)([W,S(P)]):W=S(P),(0,c.forEach)(W,function(q){J.addMarker(q,E)}),u.allDraggedElements=W,u.differentParents=k(P)}),et.on("shape.move.move",f,function(r){var u=r.context,P=u.dragGroup,W=u.target,H=u.shape.parent,X=u.canExecute;W&&(X==="attach"?x(W,B):u.canExecute&&W&&W.id!==H.id?x(W,A):x(W,u.canExecute?O:N)),(0,g.Tl)(P,r.dx,r.dy)}),et.on(["shape.move.out","shape.move.cleanup"],function(r){var u=r.context,P=u.target;P&&x(P,null)}),et.on("shape.move.cleanup",function(r){var u=r.context,P=u.allDraggedElements,W=u.dragGroup;(0,c.forEach)(P,function(H){J.removeMarker(H,E)}),W&&(0,p.TF)(W)}),this.makeDraggable=t}D.$inject=["eventBus","canvas","styles","previewSupport"];function U(et){var J=(0,c.filter)(et,function(Y){return Z(Y)?(0,c.find)(et,(0,c.matchPattern)({id:Y.source.id}))&&(0,c.find)(et,(0,c.matchPattern)({id:Y.target.id})):!0});return J}function k(et){return(0,c.size)((0,c.groupBy)(et,function(J){return J.parent&&J.parent.id}))!==1}function Z(et){return et.waypoints}const ot={__depends__:[a.A,b.A,d.A,m.A,v.A,_.A],__init__:["move","movePreview"],move:["type",n],movePreview:["type",D]}},35576:(rt,V,l)=>{l.d(V,{A:()=>c});var a=l(10018),b=l(33225),d=l(52687),m=l(98218),v=500;function _(C,T,y){this.offset=6;var s=T.cls("djs-outline",["no-fill"]),e=this;function h(n,o){var i=(0,b.vt)("rect");return(0,b.CF)(i,(0,m.assign)({x:10,y:10,width:100,height:100},s)),(0,b.BC)(n,i),i}C.on(["shape.added","shape.changed"],v,function(n){var o=n.element,i=n.gfx,p=(0,d.query)(".djs-outline",i);p||(p=h(i,o)),e.updateShapeOutline(p,o)}),C.on(["connection.added","connection.changed"],function(n){var o=n.element,i=n.gfx,p=(0,d.query)(".djs-outline",i);p||(p=h(i,o)),e.updateConnectionOutline(p,o)})}_.prototype.updateShapeOutline=function(C,T){(0,b.CF)(C,{x:-this.offset,y:-this.offset,width:T.width+this.offset*2,height:T.height+this.offset*2})},_.prototype.updateConnectionOutline=function(C,T){var y=(0,a.U7)(T);(0,b.CF)(C,{x:y.x-this.offset,y:y.y-this.offset,width:y.width+this.offset*2,height:y.height+this.offset*2})},_.$inject=["eventBus","styles","elementRegistry"];const c={__init__:["outline"],outline:["type",_]}},18587:(rt,V,l)=>{l.d(V,{A:()=>s});var a=l(98218),b=l.n(a),d=l(52687),m=l.n(d),v=".djs-palette-toggle",_=".entry",c=v+", "+_,C="open",T="two-column",y=1e3;function s(n,o){this._eventBus=n,this._canvas=o;var i=this;n.on("tool-manager.update",function(p){var g=p.tool;i.updateToolHighlight(g)}),n.on("i18n.changed",function(){i._update()}),n.on("diagram.init",function(){i._diagramInitialized=!0,i._rebuild()})}s.$inject=["eventBus","canvas"],s.prototype.registerProvider=function(n,o){o||(o=n,n=y),this._eventBus.on("palette.getProviders",n,function(i){i.providers.push(o)}),this._rebuild()},s.prototype.getEntries=function(){var n=this._getProviders();return n.reduce(h,{})},s.prototype._rebuild=function(){if(this._diagramInitialized){var n=this._getProviders();n.length&&(this._container||this._init(),this._update())}},s.prototype._init=function(){var n=this,o=this._eventBus,i=this._getParentContainer(),p=this._container=(0,d.domify)(s.HTML_MARKUP);i.appendChild(p),d.delegate.bind(p,c,"click",function(g){var f=g.delegateTarget;if((0,d.matches)(f,v))return n.toggle();n.trigger("click",g)}),d.event.bind(p,"mousedown",function(g){g.stopPropagation()}),d.delegate.bind(p,_,"dragstart",function(g){n.trigger("dragstart",g)}),o.on("canvas.resized",this._layoutChanged,this),o.fire("palette.create",{container:p})},s.prototype._getProviders=function(n){var o=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(o),o.providers},s.prototype._toggleState=function(n){n=n||{};var o=this._getParentContainer(),i=this._container,p=this._eventBus,g,f=(0,d.classes)(i);"twoColumn"in n?g=n.twoColumn:g=this._needsCollapse(o.clientHeight,this._entries||{}),f.toggle(T,g),"open"in n&&f.toggle(C,n.open),p.fire("palette.changed",{twoColumn:g,open:this.isOpen()})},s.prototype._update=function(){var n=(0,d.query)(".djs-palette-entries",this._container),o=this._entries=this.getEntries();(0,d.clear)(n),(0,a.forEach)(o,function(i,p){var g=i.group||"default",f=(0,d.query)("[data-group="+g+"]",n);f||(f=(0,d.domify)('<div class="group" data-group="'+g+'"></div>'),n.appendChild(f));var E=i.html||(i.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),O=(0,d.domify)(E);f.appendChild(O),i.separator||((0,d.attr)(O,"data-action",p),i.title&&(0,d.attr)(O,"title",i.title),i.className&&e(O,i.className),i.imageUrl&&O.appendChild((0,d.domify)('<img src="'+i.imageUrl+'">')))}),this.open()},s.prototype.trigger=function(n,o,i){var p=this._entries,g,f,E,O=o.delegateTarget||o.target;if(!O)return o.preventDefault();g=p[(0,d.attr)(O,"data-action")],g&&(f=g.action,E=o.originalEvent||o,(0,a.isFunction)(f)?n==="click"&&f(E,i):f[n]&&f[n](E,i),o.preventDefault())},s.prototype._layoutChanged=function(){this._toggleState({})},s.prototype._needsCollapse=function(n,o){var i=50,p=Object.keys(o).length*46;return n<p+i},s.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},s.prototype.open=function(){this._toggleState({open:!0})},s.prototype.toggle=function(n){this.isOpen()?this.close():this.open()},s.prototype.isActiveTool=function(n){return n&&this._activeTool===n},s.prototype.updateToolHighlight=function(n){var o,i;this._toolsContainer||(o=(0,d.query)(".djs-palette-entries",this._container),this._toolsContainer=(0,d.query)("[data-group=tools]",o)),i=this._toolsContainer,(0,a.forEach)(i.children,function(p){var g=p.getAttribute("data-action");if(g){var f=(0,d.classes)(p);g=g.replace("-tool",""),f.contains("entry")&&g===n?f.add("highlighted-entry"):f.remove("highlighted-entry")}})},s.prototype.isOpen=function(){return(0,d.classes)(this._container).has(C)},s.prototype._getParentContainer=function(){return this._canvas.getContainer()},s.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function e(n,o){var i=(0,d.classes)(n),p=(0,a.isArray)(o)?o:o.split(/\s+/g);p.forEach(function(g){i.add(g)})}function h(n,o){var i=o.getPaletteEntries();return(0,a.isFunction)(i)?i(n):((0,a.forEach)(i,function(p,g){n[g]=p}),n)}},85868:(rt,V,l)=>{l.d(V,{A:()=>b});var a=l(18587);const b={__init__:["palette"],palette:["type",a.A]}},6226:(rt,V,l)=>{l.d(V,{A:()=>C});var a=l(98218),b=l.n(a),d=l(52687),m=l.n(d),v="data-id",_=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],c=1e3;function C(y,s,e){var h=(0,a.isDefined)(y&&y.scale)?y.scale:{min:1,max:1.5};this._config={scale:h},this._eventBus=s,this._canvas=e,this._providers={},this._current={}}C.$inject=["config.popupMenu","eventBus","canvas"],C.prototype.registerProvider=function(y,s,e){e||(e=s,s=c),this._eventBus.on("popupMenu.getProviders."+y,s,function(h){h.providers.push(e)})},C.prototype.isEmpty=function(y,s){if(!y)throw new Error("element parameter is missing");if(!s)throw new Error("providerId parameter is missing");var e=this._getProviders(s);if(!e)return!0;var h=this._getEntries(y,e),n=this._getHeaderEntries(y,e),o=(0,a.size)(h)>0,i=n&&(0,a.size)(n)>0;return!o&&!i},C.prototype.open=function(y,s,e){var h=this._getProviders(s);if(!y)throw new Error("Element is missing");if(!h||!h.length)throw new Error("No registered providers for: "+s);if(!e)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var n=this._current={className:s,element:y,position:e},o=this._getEntries(y,h),i=this._getHeaderEntries(y,h);n.entries=(0,a.assign)({},o,i),n.container=this._createContainer(),(0,a.size)(i)&&n.container.appendChild(this._createEntries(i,"djs-popup-header")),(0,a.size)(o)&&n.container.appendChild(this._createEntries(o,"djs-popup-body"));var p=this._canvas,g=p.getContainer();this._attachContainer(n.container,g,e.cursor),this._bindAutoClose()},C.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindAutoClose(),(0,d.remove)(this._current.container),this._current.container=null)},C.prototype.isOpen=function(){return!!this._current.container},C.prototype.trigger=function(y){y.preventDefault();var s=y.delegateTarget||y.target,e=(0,d.attr)(s,v),h=this._getEntry(e);if(h.action)return h.action.call(null,y,h)},C.prototype._getProviders=function(y){var s=this._eventBus.createEvent({type:"popupMenu.getProviders."+y,providers:[]});return this._eventBus.fire(s),s.providers},C.prototype._getEntries=function(y,s){var e={};return(0,a.forEach)(s,function(h){if(!h.getPopupMenuEntries){(0,a.forEach)(h.getEntries(y),function(o){var i=o.id;if(!i)throw new Error("every entry must have the id property set");e[i]=(0,a.omit)(o,["id"])});return}var n=h.getPopupMenuEntries(y);(0,a.isFunction)(n)?e=n(e):(0,a.forEach)(n,function(o,i){e[i]=o})}),e},C.prototype._getHeaderEntries=function(y,s){var e={};return(0,a.forEach)(s,function(h){if(!h.getPopupMenuHeaderEntries){if(!h.getHeaderEntries)return;(0,a.forEach)(h.getHeaderEntries(y),function(o){var i=o.id;if(!i)throw new Error("every entry must have the id property set");e[i]=(0,a.omit)(o,["id"])});return}var n=h.getPopupMenuHeaderEntries(y);(0,a.isFunction)(n)?e=n(e):(0,a.forEach)(n,function(o,i){e[i]=o})}),e},C.prototype._getEntry=function(y){var s=this._current.entries[y];if(!s)throw new Error("entry not found");return s},C.prototype._emit=function(y){this._eventBus.fire("popupMenu."+y)},C.prototype._createContainer=function(){var y=(0,d.domify)('<div class="djs-popup">'),s=this._current.position,e=this._current.className;return(0,a.assign)(y.style,{position:"absolute",left:s.x+"px",top:s.y+"px",visibility:"hidden"}),(0,d.classes)(y).add(e),y},C.prototype._attachContainer=function(y,s,e){var h=this;d.delegate.bind(y,".entry","click",function(n){h.trigger(n)}),this._updateScale(y),s.appendChild(y),e&&this._assureIsInbounds(y,e)},C.prototype._updateScale=function(y){var s=this._canvas.zoom(),e=this._config.scale,h,n,o=s;e!==!0&&(e===!1?(h=1,n=1):(h=e.min,n=e.max),(0,a.isDefined)(h)&&s<h&&(o=h),(0,a.isDefined)(n)&&s>n&&(o=n)),T(y,"scale("+o+")")},C.prototype._assureIsInbounds=function(y,s){var e=this._canvas,h=e._container.getBoundingClientRect(),n=y.offsetLeft,o=y.offsetTop,i=y.scrollWidth,p=y.scrollHeight,g={},f,E,O={x:s.x-h.left,y:s.y-h.top};n+i>h.width&&(g.x=!0),o+p>h.height&&(g.y=!0),g.x&&g.y?(f=O.x-i+"px",E=O.y-p+"px"):g.x?(f=O.x-i+"px",E=O.y+"px"):g.y&&O.y<p?(f=O.x+"px",E="10px"):g.y&&(f=O.x+"px",E=O.y-p+"px"),(0,a.assign)(y.style,{left:f,top:E},{visibility:"visible","z-index":1e3})},C.prototype._createEntries=function(y,s){var e=(0,d.domify)("<div>"),h=this;return(0,d.classes)(e).add(s),(0,a.forEach)(y,function(n,o){var i=h._createEntry(n,o);e.appendChild(i)}),e},C.prototype._createEntry=function(y,s){var e=(0,d.domify)("<div>"),h=(0,d.classes)(e);if(h.add("entry"),y.className&&y.className.split(" ").forEach(function(o){h.add(o)}),(0,d.attr)(e,v,s),y.label){var n=(0,d.domify)("<span>");n.textContent=y.label,e.appendChild(n)}return y.imageUrl&&e.appendChild((0,d.domify)('<img src="'+y.imageUrl+'" />')),y.active===!0&&h.add("active"),y.disabled===!0&&h.add("disabled"),y.title&&(e.title=y.title),e},C.prototype._bindAutoClose=function(){this._eventBus.once(_,this.close,this)},C.prototype._unbindAutoClose=function(){this._eventBus.off(_,this.close,this)};function T(y,s){y.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(e){y.style[e+"transform"]=s})}},40127:(rt,V,l)=>{l.d(V,{A:()=>b});var a=l(6226);const b={__init__:["popupMenu"],popupMenu:["type",a.A]}},38134:(rt,V,l)=>{l.d(V,{A:()=>T});var a=l(98218),b=l.n(a),d=l(33225),m=l(52687),v=l.n(m),_=l(12266),c=["marker-start","marker-mid","marker-end"],C=["circle","ellipse","line","path","polygon","polyline","rect"];function T(n,o,i,p){this._elementRegistry=n,this._canvas=i,this._styles=p,this._clonedMarkers={};var g=this;o.on("drag.cleanup",function(){(0,a.forEach)(g._clonedMarkers,function(f){(0,d.TF)(f)}),g._clonedMarkers={}})}T.$inject=["elementRegistry","eventBus","canvas","styles"],T.prototype.getGfx=function(n){return this._elementRegistry.getGraphics(n)},T.prototype.addDragger=function(n,o,i){i=i||this.getGfx(n);var p=(0,d.o8)(i),g=i.getBoundingClientRect();return this._cloneMarkers((0,_.P)(p)),(0,d.CF)(p,this._styles.cls("djs-dragger",[],{x:g.top,y:g.left})),(0,d.BC)(o,p),p},T.prototype.addFrame=function(n,o){var i=(0,d.vt)("rect",{class:"djs-resize-overlay",width:n.width,height:n.height,x:n.x,y:n.y});return(0,d.BC)(o,i),i},T.prototype._cloneMarkers=function(n){var o=this;if(n.childNodes)for(var i=0;i<n.childNodes.length;i++)o._cloneMarkers(n.childNodes[i]);h(n)&&c.forEach(function(p){if((0,d.CF)(n,p)){var g=y(n,p,o._canvas.getContainer());o._cloneMarker(n,g,p)}})},T.prototype._cloneMarker=function(n,o,i){var p=o.id,g=this._clonedMarkers[p];if(!g){g=(0,d.o8)(o);var f=p+"-clone";g.id=f,(0,d.Ly)(g).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[p]=g;var E=(0,m.query)("defs",this._canvas._svg);E||(E=(0,d.vt)("defs"),(0,d.BC)(this._canvas._svg,E)),(0,d.BC)(E,g)}var O=e(this._clonedMarkers[p].id);(0,d.CF)(n,i,O)};function y(n,o,i){var p=s((0,d.CF)(n,o));return(0,m.query)("marker#"+p,i||document)}function s(n){return n.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function e(n){return"url(#"+n+")"}function h(n){return C.indexOf(n.nodeName)!==-1}},71953:(rt,V,l)=>{l.d(V,{A:()=>b});var a=l(38134);const b={__init__:["previewSupport"],previewSupport:["type",a.A]}},76357:(rt,V,l)=>{l.d(V,{A:()=>f,a:()=>O});var a=l(98218),b=l(10018),d=l(65911),m=Math.max,v=Math.min,_=20;function c(A,B){return{top:A.top-B.top,right:A.right-B.right,bottom:A.bottom-B.bottom,left:A.left-B.left}}function C(A,B,D){var U=D.x,k=D.y,Z={x:A.x,y:A.y,width:A.width,height:A.height};return B.indexOf("n")!==-1?(Z.y=A.y+k,Z.height=A.height-k):B.indexOf("s")!==-1&&(Z.height=A.height+k),B.indexOf("e")!==-1?Z.width=A.width+U:B.indexOf("w")!==-1&&(Z.x=A.x+U,Z.width=A.width-U),Z}function T(A,B){return{x:A.x+(B.left||0),y:A.y+(B.top||0),width:A.width-(B.left||0)+(B.right||0),height:A.height-(B.top||0)+(B.bottom||0)}}function y(A,B,D){var U=A.width/B.width,k=A.height/B.height;return{x:Math.round(B.x+B.width/2)-Math.floor((A.x+A.width/2-D.x)/U),y:Math.round(B.y+B.height/2)-Math.floor((A.y+A.height/2-D.y)/k)}}function s(A,B,D){var U=B[A],k=D.min&&D.min[A],Z=D.max&&D.max[A];return(0,a.isNumber)(k)&&(U=(/top|left/.test(A)?v:m)(U,k)),(0,a.isNumber)(Z)&&(U=(/top|left/.test(A)?m:v)(U,Z)),U}function e(A,B){if(!B)return A;var D=(0,d.Fy)(A);return(0,d.cD)({top:s("top",D,B),right:s("right",D,B),bottom:s("bottom",D,B),left:s("left",D,B)})}function h(A,B,D,U){var k=(0,d.Fy)(B),Z={top:/n/.test(A)?k.bottom-D.height:k.top,left:/w/.test(A)?k.right-D.width:k.left,bottom:/s/.test(A)?k.top+D.height:k.bottom,right:/e/.test(A)?k.left+D.width:k.right},ot=U?(0,d.Fy)(U):Z,et={top:v(Z.top,ot.top),left:v(Z.left,ot.left),bottom:m(Z.bottom,ot.bottom),right:m(Z.right,ot.right)};return(0,d.cD)(et)}function n(A,B){return typeof A<"u"?A:_}function o(A,B){var D,U,k,Z;return typeof B=="object"?(D=n(B.left),U=n(B.right),k=n(B.top),Z=n(B.bottom)):D=U=k=Z=n(B),{x:A.x-D,y:A.y-k,width:A.width+D+U,height:A.height+k+Z}}function i(A){return!(A.waypoints||A.type==="label")}function p(A,B){var D;if(A.length===void 0?D=(0,a.filter)(A.children,i):D=A,D.length)return o((0,b.U7)(D),B)}var g=10;function f(A,B,D,U){this._dragging=U,this._rules=B;var k=this;function Z(J,Y){var w=J.shape,M=J.direction,S=J.resizeConstraints,x;J.delta=Y,x=C(w,M,Y),J.newBounds=e(x,S),J.canExecute=k.canResize(J)}function ot(J){var Y=J.resizeConstraints,w=J.minBounds;Y===void 0&&(w===void 0&&(w=k.computeMinResizeBox(J)),J.resizeConstraints={min:(0,d.Fy)(w)})}function et(J){var Y=J.shape,w=J.canExecute,M=J.newBounds;if(w){if(M=(0,d.Au)(M),!E(Y,M))return;D.resizeShape(Y,M)}}A.on("resize.start",function(J){ot(J.context)}),A.on("resize.move",function(J){var Y={x:J.dx,y:J.dy};Z(J.context,Y)}),A.on("resize.end",function(J){et(J.context)})}f.prototype.canResize=function(A){var B=this._rules,D=(0,a.pick)(A,["newBounds","shape","delta","direction"]);return B.allowed("shape.resize",D)},f.prototype.activate=function(A,B,D){var U=this._dragging,k,Z;if(typeof D=="string"&&(D={direction:D}),k=(0,a.assign)({shape:B},D),Z=k.direction,!Z)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");U.init(A,O(B,Z),"resize",{autoActivate:!0,cursor:N(Z),data:{shape:B,context:k}})},f.prototype.computeMinResizeBox=function(A){var B=A.shape,D=A.direction,U,k;return U=A.minDimensions||{width:g,height:g},k=p(B,A.childrenBoxPadding),h(D,B,U,k)},f.$inject=["eventBus","rules","modeling","dragging"];function E(A,B){return A.x!==B.x||A.y!==B.y||A.width!==B.width||A.height!==B.height}function O(A,B){var D=(0,d.pp)(A),U=(0,d.Fy)(A),k={x:D.x,y:D.y};return B.indexOf("n")!==-1?k.y=U.top:B.indexOf("s")!==-1&&(k.y=U.bottom),B.indexOf("e")!==-1?k.x=U.right:B.indexOf("w")!==-1&&(k.x=U.left),k}function N(A){var B="resize-";return A==="n"||A==="s"?B+"ns":A==="e"||A==="w"?B+"ew":A==="nw"||A==="se"?B+"nwse":B+"nesw"}},25342:(rt,V,l)=>{l.d(V,{A:()=>n});var a=l(98218),b=l.n(a),d=l(33225),m=l(52687),v=l.n(m),_=l(60053),c=l(52965),C=l(76357),T=-6,y=4,s=20,e="djs-resizer",h=["n","w","s","e","nw","ne","se","sw"];function n(i,p,g,f){this._resize=f,this._canvas=p;var E=this;i.on("selection.changed",function(O){var N=O.newSelection;E.removeResizers(),N.length===1&&(0,a.forEach)(N,(0,a.bind)(E.addResizer,E))}),i.on("shape.changed",function(O){var N=O.element;g.isSelected(N)&&(E.removeResizers(),E.addResizer(N))})}n.prototype.makeDraggable=function(i,p,g){var f=this._resize;function E(O){(0,_.ls)(O)&&f.activate(O,i,g)}m.event.bind(p,"mousedown",E),m.event.bind(p,"touchstart",E)},n.prototype._createResizer=function(i,p,g,f){var E=this._getResizersParent(),O=o(f),N=(0,d.vt)("g");(0,d.Ly)(N).add(e),(0,d.Ly)(N).add(e+"-"+i.id),(0,d.Ly)(N).add(e+"-"+f),(0,d.BC)(E,N);var A=(0,d.vt)("rect");(0,d.CF)(A,{x:-y/2+O.x,y:-y/2+O.y,width:y,height:y}),(0,d.Ly)(A).add(e+"-visual"),(0,d.BC)(N,A);var B=(0,d.vt)("rect");return(0,d.CF)(B,{x:-s/2+O.x,y:-s/2+O.y,width:s,height:s}),(0,d.Ly)(B).add(e+"-hit"),(0,d.BC)(N,B),(0,c.pd)(N,p,g),N},n.prototype.createResizer=function(i,p){var g=(0,C.a)(i,p),f=this._createResizer(i,g.x,g.y,p);this.makeDraggable(i,f,p)},n.prototype.addResizer=function(i){var p=this,g=this._resize;g.canResize({shape:i})&&(0,a.forEach)(h,function(f){p.createResizer(i,f)})},n.prototype.removeResizers=function(){var i=this._getResizersParent();(0,d.IU)(i)},n.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},n.$inject=["eventBus","canvas","selection","resize"];function o(i){var p={x:0,y:0};return i.indexOf("e")!==-1?p.x=-T:i.indexOf("w")!==-1&&(p.x=T),i.indexOf("s")!==-1?p.y=-T:i.indexOf("n")!==-1&&(p.y=T),p}},88729:(rt,V,l)=>{l.d(V,{A:()=>v});var a=l(33225),b="djs-resizing",d="resize-not-ok",m=500;function v(_,c,C){function T(s){var e=s.shape,h=s.newBounds,n=s.frame;n||(n=s.frame=C.addFrame(e,c.getDefaultLayer()),c.addMarker(e,b)),h.width>5&&(0,a.CF)(n,{x:h.x,width:h.width}),h.height>5&&(0,a.CF)(n,{y:h.y,height:h.height}),s.canExecute?(0,a.Ly)(n).remove(d):(0,a.Ly)(n).add(d)}function y(s){var e=s.shape,h=s.frame;h&&(0,a.TF)(s.frame),c.removeMarker(e,b)}_.on("resize.move",m,function(s){T(s.context)}),_.on("resize.cleanup",function(s){y(s.context)})}v.$inject=["eventBus","canvas","previewSupport"]},43537:(rt,V,l)=>{l.d(V,{A:()=>m});var a=l(51270),b=l.n(a),d=l(6705);function m(v){d.A.call(this,v),this.init()}m.$inject=["eventBus"],b()(m,d.A),m.prototype.addRule=function(v,_,c){var C=this;typeof v=="string"&&(v=[v]),v.forEach(function(T){C.canExecute(T,_,function(y,s,e){return c(y)},!0)})},m.prototype.init=function(){}},11918:(rt,V,l)=>{l.d(V,{A:()=>b});function a(d){this._commandStack=d.get("commandStack",!1)}a.$inject=["injector"],a.prototype.allowed=function(d,m){var v=!0,_=this._commandStack;return _&&(v=_.canExecute(d,m)),v===void 0?!0:v};const b={__init__:["rules"],rules:["type",a]}},6587:(rt,V,l)=>{l.d(V,{A:()=>d});var a=l(98218),b=l.n(a);function d(m){this._eventBus=m,this._selectedElements=[];var v=this;m.on(["shape.remove","connection.remove"],function(_){var c=_.element;v.deselect(c)}),m.on(["diagram.clear"],function(_){v.select(null)})}d.$inject=["eventBus"],d.prototype.deselect=function(m){var v=this._selectedElements,_=v.indexOf(m);if(_!==-1){var c=v.slice();v.splice(_,1),this._eventBus.fire("selection.changed",{oldSelection:c,newSelection:v})}},d.prototype.get=function(){return this._selectedElements},d.prototype.isSelected=function(m){return this._selectedElements.indexOf(m)!==-1},d.prototype.select=function(m,v){var _=this._selectedElements,c=_.slice();(0,a.isArray)(m)||(m=m?[m]:[]),v?(0,a.forEach)(m,function(C){_.indexOf(C)===-1&&_.push(C)}):this._selectedElements=_=m.slice(),this._eventBus.fire("selection.changed",{oldSelection:c,newSelection:_})}},56773:(rt,V,l)=>{l.d(V,{A:()=>s});var a=l(69380),b=l(35576),d=l(6587),m=l(98218),v="hover",_="selected";function c(e,h,n,o){this._multiSelectionBox=null;function i(g,f){h.addMarker(g,f)}function p(g,f){h.removeMarker(g,f)}e.on("element.hover",function(g){i(g.element,v)}),e.on("element.out",function(g){p(g.element,v)}),e.on("selection.changed",function(g){function f(A){p(A,_)}function E(A){i(A,_)}var O=g.oldSelection,N=g.newSelection;(0,m.forEach)(O,function(A){N.indexOf(A)===-1&&f(A)}),(0,m.forEach)(N,function(A){O.indexOf(A)===-1&&E(A)})})}c.$inject=["eventBus","canvas","selection","styles"];var C=l(60053);function T(e,h,n,o){e.on("create.end",500,function(i){var p=i.context,g=p.canExecute,f=p.elements,E=p.hints||{},O=E.autoSelect;if(g){if(O===!1)return;(0,m.isArray)(O)?h.select(O):h.select(f.filter(y))}}),e.on("connect.end",500,function(i){i.context.canExecute&&i.context.connection&&h.select(i.context.connection)}),e.on("shape.move.end",500,function(i){var p=i.previousSelection||[],g=o.get(i.context.shape.id),f=(0,m.find)(p,function(E){return g.id===E.id});f||h.select(g)}),e.on("element.click",function(i){var p=i.element;p===n.getRootElement()&&(p=null);var g=h.isSelected(p),f=h.get().length>1,E=(0,C.Io)(i);if(g&&f)return E?h.deselect(p):h.select(p);g||h.select(p,E)})}T.$inject=["eventBus","selection","canvas","elementRegistry"];function y(e){return!e.hidden}const s={__init__:["selectionVisuals","selectionBehavior"],__depends__:[a.A,b.A],selection:["type",d.A],selectionVisuals:["type",c],selectionBehavior:["type",T]}},17521:(rt,V,l)=>{l.d(V,{AC:()=>T,CU:()=>y,jz:()=>C});var a=Math.abs,b=Math.round;function d(e,h,n){n=n===void 0?10:n;var o,i;for(o=0;o<h.length;o++)if(i=h[o],a(i-e)<=n)return i}function m(e){return{x:e.x,y:e.y}}function v(e){return{x:e.x+e.width,y:e.y}}function _(e){return{x:e.x,y:e.y+e.height}}function c(e){return{x:e.x+e.width,y:e.y+e.height}}function C(e,h){return!e||isNaN(e.x)||isNaN(e.y)?h:{x:b(e.x+e.width/2),y:b(e.y+e.height/2)}}function T(e,h){var n=e.snapped;return n?typeof h=="string"?n[h]:n.x&&n.y:!1}function y(e,h,n){if(typeof h!="string")throw new Error("axis must be in [x, y]");if(typeof n!="number"&&n!==!1)throw new Error("value must be Number or false");var o,i=e[h],p=e.snapped=e.snapped||{};return n===!1?p[h]=!1:(p[h]=!0,o=n-i,e[h]+=o,e["d"+h]+=o),i}function s(e){return e.children||[]}},19506:(rt,V,l)=>{l.d(V,{A:()=>i});var a=l(98218),b=l.n(a),d=l(65911),m=l(10018),v=l(45240),_=l(60053),c=l(46837),C=Math.abs,T=Math.round,y={x:"width",y:"height"},s="crosshair",e={n:"top",w:"left",s:"bottom",e:"right"},h=1500,n={n:"s",w:"e",s:"n",e:"w"},o=20;function i(A,B,D,U,k,Z){this._canvas=A,this._dragging=B,this._eventBus=D,this._modeling=U,this._rules=k,this._toolManager=Z;var ot=this;Z.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),D.on("spaceTool.selection.end",function(et){D.once("spaceTool.selection.ended",function(){ot.activateMakeSpace(et.originalEvent)})}),D.on("spaceTool.move",h,function(et){var J=et.context,Y=J.initialized;Y||(Y=J.initialized=ot.init(et,J)),Y&&g(et)}),D.on("spaceTool.end",function(et){var J=et.context,Y=J.direction,w=J.movingShapes,M=J.resizingShapes,S=J.start;if(J.initialized){g(et);var x=ot.getDelta(et);ot.makeSpace(w,M,x,Y,S),D.once("spaceTool.ended",function(t){ot.activateSelection(t.originalEvent,!0,!0)})}})}i.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager"],i.prototype.activateSelection=function(A,B,D){this._dragging.init(A,"spaceTool.selection",{autoActivate:B,cursor:s,data:{context:{reactivate:D}},trapClick:!1})},i.prototype.activateMakeSpace=function(A){this._dragging.init(A,"spaceTool",{autoActivate:!0,cursor:s,data:{context:{}}})},i.prototype.makeSpace=function(A,B,D,U,k){return this._modeling.createSpace(A,B,D,U,k)},i.prototype.init=function(A,B){var D=C(A.dx)>C(A.dy)?"x":"y",U=A["d"+D],k=A[D]-U;if(C(U)<5)return!1;U<0&&(U*=-1),(0,_.Io)(A)&&(U*=-1);var Z=(0,v.u6)(D,U),ot=this._canvas.getRootElement(),et=(0,m.cZ)(ot,!0),J=this.calculateAdjustments(et,D,U,k),Y=this._eventBus.fire("spaceTool.getMinDimensions",{shapes:J.resizingShapes}),w=f(J,D,Z,k,Y);return(0,a.assign)(B,J,{axis:D,direction:Z,spaceToolConstraints:w,start:k}),(0,c.hZ)("resize-"+(D==="x"?"ew":"ns")),!0},i.prototype.calculateAdjustments=function(A,B,D,U){var k=this._rules,Z=[],ot=[];return(0,a.forEach)(A,function(et){if(!(!et.parent||O(et))){var J=et[B],Y=J+et[y[B]];if(D>0&&J>U||D<0&&Y<U)return Z.push(et);if(J<U&&Y>U&&k.allowed("shape.resize",{shape:et}))return ot.push(et)}}),{movingShapes:Z,resizingShapes:ot}},i.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},i.prototype.isActive=function(){var A=this._dragging.context();return A&&/^spaceTool/.test(A.prefix)},i.prototype.getDelta=function(A){var B=A.context,D=B.axis,U={x:0,y:0};return U[D]=T(A["d"+D]),U};function p(A){return{top:A.top-o,right:A.right+o,bottom:A.bottom+o,left:A.left-o}}function g(A){var B=A.context,D=B.spaceToolConstraints;if(D){var U,k;(0,a.isNumber)(D.left)&&(U=Math.max(A.x,D.left),A.dx=A.dx+U-A.x,A.x=U),(0,a.isNumber)(D.right)&&(U=Math.min(A.x,D.right),A.dx=A.dx+U-A.x,A.x=U),(0,a.isNumber)(D.top)&&(k=Math.max(A.y,D.top),A.dy=A.dy+k-A.y,A.y=k),(0,a.isNumber)(D.bottom)&&(k=Math.min(A.y,D.bottom),A.dy=A.dy+k-A.y,A.y=k)}}function f(A,B,D,U,k){var Z=A.movingShapes,ot=A.resizingShapes;if(ot.length){var et={},J,Y;return(0,a.forEach)(ot,function(w){var M=(0,d.Fy)(w),S=(0,a.filter)(w.children,function(W){return!O(W)&&!N(W)&&!E(Z,W)&&!E(ot,W)}),x=(0,a.filter)(w.children,function(W){return!O(W)&&!N(W)&&E(Z,W)}),t,r,u;S.length&&(r=p((0,d.Fy)((0,m.U7)(S))),t=U-M[e[D]]+r[e[D]],D==="n"?et.bottom=Y=(0,a.isNumber)(Y)?Math.min(Y,t):t:D==="w"?et.right=Y=(0,a.isNumber)(Y)?Math.min(Y,t):t:D==="s"?et.top=J=(0,a.isNumber)(J)?Math.max(J,t):t:D==="e"&&(et.left=J=(0,a.isNumber)(J)?Math.max(J,t):t)),x.length&&(u=p((0,d.Fy)((0,m.U7)(x))),t=U-u[e[n[D]]]+M[e[n[D]]],D==="n"?et.bottom=Y=(0,a.isNumber)(Y)?Math.min(Y,t):t:D==="w"?et.right=Y=(0,a.isNumber)(Y)?Math.min(Y,t):t:D==="s"?et.top=J=(0,a.isNumber)(J)?Math.max(J,t):t:D==="e"&&(et.left=J=(0,a.isNumber)(J)?Math.max(J,t):t));var P=k&&k[w.id];P&&(D==="n"?(t=U+w[y[B]]-P[y[B]],et.bottom=Y=(0,a.isNumber)(Y)?Math.min(Y,t):t):D==="w"?(t=U+w[y[B]]-P[y[B]],et.right=Y=(0,a.isNumber)(Y)?Math.min(Y,t):t):D==="s"?(t=U-w[y[B]]+P[y[B]],et.top=J=(0,a.isNumber)(J)?Math.max(J,t):t):D==="e"&&(t=U-w[y[B]]+P[y[B]],et.left=J=(0,a.isNumber)(J)?Math.max(J,t):t))}),et}}function E(A,B){return A.indexOf(B)!==-1}function O(A){return!!A.waypoints}function N(A){return!!A.labelTarget}},7264:(rt,V,l)=>{l.d(V,{A:()=>T});var a=l(98218),b=l.n(a),d=l(33225),m=l(52965),v="djs-dragging",_="djs-resizing",c=250,C=Math.max;function T(s,e,h,n,o){var i=this;function p(g,f){(0,a.forEach)(g,function(E){o.addDragger(E,f),h.addMarker(E,v)})}s.on("spaceTool.selection.start",function(g){var f=h.getLayer("space"),E=g.context,O={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},N=(0,d.vt)("g");(0,d.CF)(N,n.cls("djs-crosshair-group",["no-events"])),(0,d.BC)(f,N);var A=(0,d.vt)("path");(0,d.CF)(A,"d",O.x),(0,d.Ly)(A).add("djs-crosshair"),(0,d.BC)(N,A);var B=(0,d.vt)("path");(0,d.CF)(B,"d",O.y),(0,d.Ly)(B).add("djs-crosshair"),(0,d.BC)(N,B),E.crosshairGroup=N}),s.on("spaceTool.selection.move",function(g){var f=g.context.crosshairGroup;(0,m.Tl)(f,g.x,g.y)}),s.on("spaceTool.selection.cleanup",function(g){var f=g.context,E=f.crosshairGroup;E&&(0,d.TF)(E)}),s.on("spaceTool.move",c,function(g){var f=g.context,E=f.line,O=f.axis,N=f.movingShapes,A=f.resizingShapes;if(f.initialized){if(!f.dragGroup){var B=h.getLayer("space");E=(0,d.vt)("path"),(0,d.CF)(E,"d","M0,0 L0,0"),(0,d.Ly)(E).add("djs-crosshair"),(0,d.BC)(B,E),f.line=E;var D=(0,d.vt)("g");(0,d.CF)(D,n.cls("djs-drag-group",["no-events"])),(0,d.BC)(h.getDefaultLayer(),D),p(N,D);var U=f.movingConnections=e.filter(function(J){var Y=!1;(0,a.forEach)(N,function(x){(0,a.forEach)(x.outgoing,function(t){J===t&&(Y=!0)})});var w=!1;(0,a.forEach)(N,function(x){(0,a.forEach)(x.incoming,function(t){J===t&&(w=!0)})});var M=!1;(0,a.forEach)(A,function(x){(0,a.forEach)(x.outgoing,function(t){J===t&&(M=!0)})});var S=!1;return(0,a.forEach)(A,function(x){(0,a.forEach)(x.incoming,function(t){J===t&&(S=!0)})}),y(J)&&(Y||M)&&(w||S)});p(U,D),f.dragGroup=D}if(!f.frameGroup){var k=(0,d.vt)("g");(0,d.CF)(k,n.cls("djs-frame-group",["no-events"])),(0,d.BC)(h.getDefaultLayer(),k);var Z=[];(0,a.forEach)(A,function(J){var Y=o.addFrame(J,k),w=Y.getBBox();Z.push({element:Y,initialBounds:w}),h.addMarker(J,_)}),f.frameGroup=k,f.frames=Z}var ot={x:"M"+g.x+", -10000 L"+g.x+", 10000",y:"M -10000, "+g.y+" L 10000, "+g.y};(0,d.CF)(E,{d:ot[O]});var et=i.getDelta(g);(0,m.Tl)(f.dragGroup,et.x,et.y),(0,a.forEach)(f.frames,function(J){var Y=J.element,w=J.initialBounds,M,S;f.direction==="e"?(0,d.CF)(Y,{width:C(w.width+et.x,5)}):(M=C(w.width-et.x,5),(0,d.CF)(Y,{width:M,x:w.x+w.width-M})),f.direction==="s"?(0,d.CF)(Y,{height:C(w.height+et.y,5)}):(S=C(w.height-et.y,5),(0,d.CF)(Y,{height:S,y:w.y+w.height-S}))})}}),s.on("spaceTool.cleanup",function(g){var f=g.context,E=f.movingShapes,O=f.movingConnections,N=f.resizingShapes,A=f.line,B=f.dragGroup,D=f.frameGroup;(0,a.forEach)(E,function(U){h.removeMarker(U,v)}),(0,a.forEach)(O,function(U){h.removeMarker(U,v)}),B&&((0,d.TF)(A),(0,d.TF)(B)),(0,a.forEach)(N,function(U){h.removeMarker(U,_)}),D&&(0,d.TF)(D)})}T.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];function y(s){return s.waypoints}T.prototype.getDelta=function(s){var e=s.context,h={x:"y",y:"x"},n={x:s.dx,y:s.dy};return n[h[e.axis]]=0,n}},45240:(rt,V,l)=>{l.d(V,{Gq:()=>m,Ih:()=>_,u6:()=>d});var a=l(98218),b=l.n(a);function d(c,C){if(c==="x"){if(C>0)return"e";if(C<0)return"w"}if(c==="y"){if(C>0)return"s";if(C<0)return"n"}return null}function m(c,C){var T=[];return(0,a.forEach)(c,function(y){var s=y.incoming,e=y.outgoing;(0,a.forEach)(s.concat(e),function(h){var n=h.source,o=h.target;(v(c,n)||v(c,o)||v(C,n)||v(C,o))&&(v(T,h)||T.push(h))})}),T}function v(c,C){return c.indexOf(C)!==-1}function _(c,C,T){var y=c.x,s=c.y,e=c.width,h=c.height,n=T.x,o=T.y;switch(C){case"n":return{x:y,y:s+o,width:e,height:h-o};case"s":return{x:y,y:s,width:e,height:h+o};case"w":return{x:y+n,y:s,width:e-n,height:h};case"e":return{x:y,y:s,width:e+n,height:h};default:throw new Error("unknown direction: "+C)}}},28400:(rt,V,l)=>{l.d(V,{A:()=>s});var a=l(98218),b=l(52687),d=l(50941),m=new d.A("tt");function v(e){var h=(0,b.domify)('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />');return e.insertBefore(h,e.firstChild),h}function _(e,h,n){(0,a.assign)(e.style,{left:h+"px",top:n+"px"})}function c(e,h){e.style.display=h===!1?"none":""}var C="djs-tooltip",T="."+C;function y(e,h){this._eventBus=e,this._canvas=h,this._ids=m,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=v(h.getContainer());var n=this;b.delegate.bind(this._tooltipRoot,T,"mousedown",function(o){o.stopPropagation()}),b.delegate.bind(this._tooltipRoot,T,"mouseover",function(o){n.trigger("mouseover",o)}),b.delegate.bind(this._tooltipRoot,T,"mouseout",function(o){n.trigger("mouseout",o)}),this._init()}y.$inject=["eventBus","canvas"],y.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var h=this._ids.next();return e=(0,a.assign)({},this._tooltipDefaults,e,{id:h}),this._addTooltip(e),e.timeout&&this.setTimeout(e),h},y.prototype.trigger=function(e,h){var n=h.delegateTarget||h.target,o=this.get((0,b.attr)(n,"data-tooltip-id"));o&&(e==="mouseover"&&o.timeout&&this.clearTimeout(o),e==="mouseout"&&o.timeout&&(o.timeout=1e3,this.setTimeout(o)))},y.prototype.get=function(e){return typeof e!="string"&&(e=e.id),this._tooltips[e]},y.prototype.clearTimeout=function(e){if(e=this.get(e),!!e){var h=e.removeTimer;h&&(clearTimeout(h),e.removeTimer=null)}},y.prototype.setTimeout=function(e){if(e=this.get(e),!!e){this.clearTimeout(e);var h=this;e.removeTimer=setTimeout(function(){h.remove(e)},e.timeout)}},y.prototype.remove=function(e){var h=this.get(e);h&&((0,b.remove)(h.html),(0,b.remove)(h.htmlContainer),delete h.htmlContainer,delete this._tooltips[h.id])},y.prototype.show=function(){c(this._tooltipRoot)},y.prototype.hide=function(){c(this._tooltipRoot,!1)},y.prototype._updateRoot=function(e){var h=e.scale||1,n=e.scale||1,o="matrix("+h+",0,0,"+n+","+-1*e.x*h+","+-1*e.y*n+")";this._tooltipRoot.style.transform=o,this._tooltipRoot.style["-ms-transform"]=o},y.prototype._addTooltip=function(e){var h=e.id,n=e.html,o,i=this._tooltipRoot;n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),(0,a.isString)(n)&&(n=(0,b.domify)(n)),o=(0,b.domify)('<div data-tooltip-id="'+h+'" class="'+C+'" style="position: absolute">'),o.appendChild(n),e.type&&(0,b.classes)(o).add("djs-tooltip-"+e.type),e.className&&(0,b.classes)(o).add(e.className),e.htmlContainer=o,i.appendChild(o),this._tooltips[h]=e,this._updateTooltip(e)},y.prototype._updateTooltip=function(e){var h=e.position,n=e.htmlContainer;_(n,h.x,h.y)},y.prototype._updateTooltipVisibilty=function(e){(0,a.forEach)(this._tooltips,function(h){var n=h.show,o=h.htmlContainer,i=!0;n&&((n.minZoom>e.scale||n.maxZoom<e.scale)&&(i=!1),c(o,i))})},y.prototype._init=function(){var e=this;function h(n){e._updateRoot(n),e._updateTooltipVisibilty(n),e.show()}this._eventBus.on("canvas.viewbox.changing",function(n){e.hide()}),this._eventBus.on("canvas.viewbox.changed",function(n){h(n.viewbox)})};const s={__init__:["tooltips"],tooltips:["type",y]}},10033:(rt,V,l)=>{l.d(V,{A:()=>b});var a=l(65911);function b(){}b.prototype.layoutConnection=function(d,m){return m=m||{},[m.connectionStart||(0,a.pp)(m.source||d.source),m.connectionEnd||(0,a.pp)(m.target||d.target)]}},23550:(rt,V,l)=>{l.d(V,{A:()=>v});var a=l(98218),b=l.n(a),d=l(65911);function m(_){return(0,a.assign)({original:_.point.original||_.point},_.actual)}function v(_,c){this._elementRegistry=_,this._graphicsFactory=c}v.$inject=["elementRegistry","graphicsFactory"],v.prototype.getCroppedWaypoints=function(_,c,C){c=c||_.source,C=C||_.target;var T=this.getDockingPoint(_,c,!0),y=this.getDockingPoint(_,C),s=_.waypoints.slice(T.idx+1,y.idx);return s.unshift(m(T)),s.push(m(y)),s},v.prototype.getDockingPoint=function(_,c,C){var T=_.waypoints,y,s,e;return y=C?0:T.length-1,s=T[y],e=this._getIntersection(c,_,C),{point:s,actual:e||s,idx:y}},v.prototype._getIntersection=function(_,c,C){var T=this._getShapePath(_),y=this._getConnectionPath(c);return(0,d.ki)(T,y,C)},v.prototype._getConnectionPath=function(_){return this._graphicsFactory.getConnectionPath(_)},v.prototype._getShapePath=function(_){return this._graphicsFactory.getShapePath(_)},v.prototype._getGfx=function(_){return this._elementRegistry.getGraphics(_)}},65911:(rt,V,l)=>{l.d(V,{Au:()=>_,Fy:()=>C,PG:()=>c,Wy:()=>n,cD:()=>T,ki:()=>e,pp:()=>y,vc:()=>s});var a=l(98218),b=l.n(a),d=l(92159),m=l(38305),v=l.n(m);function _(o){return{x:Math.round(o.x),y:Math.round(o.y),width:Math.round(o.width),height:Math.round(o.height)}}function c(o){return{x:Math.round(o.x),y:Math.round(o.y)}}function C(o){return{top:o.y,right:o.x+(o.width||0),bottom:o.y+(o.height||0),left:o.x}}function T(o){return{x:o.left,y:o.top,width:o.right-o.left,height:o.bottom-o.top}}function y(o){return c({x:o.x+(o.width||0)/2,y:o.y+(o.height||0)/2})}function s(o,i,p){p=p||0,(0,a.isObject)(p)||(p={x:p,y:p});var g=C(o),f=C(i),E=g.bottom+p.y<=f.top,O=g.left-p.x>=f.right,N=g.top-p.y>=f.bottom,A=g.right+p.x<=f.left,B=E?"top":N?"bottom":null,D=A?"left":O?"right":null;return D&&B?B+"-"+D:D||B||"intersect"}function e(o,i,p){var g=h(o,i);return g.length===1||g.length===2&&(0,d.cK)(g[0],g[1])<1?c(g[0]):g.length>1?(g=(0,a.sortBy)(g,function(f){var E=Math.floor(f.t2*100)||1;return E=100-E,E=(E<10?"0":"")+E,f.segment2+"#"+E}),c(g[p?0:g.length-1])):null}function h(o,i){return v()(o,i)}function n(o){o=o.slice();for(var i=0,p,g,f;o[i];)p=o[i],g=o[i-1],f=o[i+1],(0,d.cK)(p,f)===0||(0,d.XP)(g,f,p)?o.splice(i,1):i++;return o}},74419:(rt,V,l)=>{l.d(V,{WI:()=>O,Z9:()=>E,d7:()=>w});var a=l(98218),b=l.n(a),d=l(65911),m=l(92159),v=20,_=5,c=Math.round,C=20,T={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function y(M,S){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[S].test(M)}function s(M,S){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[M].test(S)}function e(M,S,x){var t=(0,d.vc)(S,M,_),r=x.split(":")[0],u=c((S.x-M.x)/2+M.x),P=c((S.y-M.y)/2+M.y),W,H,X=s(r,t),$=/h|r|l/.test(r),q=!1,it=!1;return X?(W=$?{x:u,y:M.y}:{x:M.x,y:P},H=$?"h:h":"v:v"):(q=y(t,r),H=$?"h:v":"v:h",q?$?(it=P===M.y,W={x:M.x+v*(/l/.test(r)?-1:1),y:it?P+v:P}):(it=u===M.x,W={x:it?u+v:u,y:M.y+v*(/t/.test(r)?-1:1)}):W={x:u,y:P}),{waypoints:g(M,W,H).concat(W),directions:H,turnNextDirections:it}}function h(M,S,x){return e(M,S,x)}function n(M,S,x){var t=e(S,M,i(x));return{waypoints:t.waypoints.slice().reverse(),directions:i(t.directions),turnNextDirections:t.turnNextDirections}}function o(M,S){var x=M.directions.split(":")[1],t=S.directions.split(":")[0];M.turnNextDirections&&(x=x=="h"?"v":"h"),S.turnNextDirections&&(t=t=="h"?"v":"h");var r=x+":"+t,u=g(M.waypoints[M.waypoints.length-1],S.waypoints[0],r);return{waypoints:u,directions:r}}function i(M){return M.split(":").reverse().join(":")}function p(M,S,x){var t=c((S.x-M.x)/2+M.x),r=c((S.y-M.y)/2+M.y);if(x==="h:v")return[{x:S.x,y:M.y}];if(x==="v:h")return[{x:M.x,y:S.y}];if(x==="h:h")return[{x:t,y:M.y},{x:t,y:S.y}];if(x==="v:v")return[{x:M.x,y:r},{x:S.x,y:r}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function g(M,S,x){if(x=x||"h:h",!ot(x))throw new Error("unknown directions: <"+x+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(et(x)){var t=h(M,S,x),r=n(M,S,x),u=o(t,r);return[].concat(t.waypoints,u.waypoints,r.waypoints)}return p(M,S,x)}function f(M,S,x){var t=g(M,S,x);return t.unshift(M),t.push(S),w(t)}function E(M,S,x,t,r){var u=r&&r.preferredLayouts||[],P=(0,a.without)(u,"straight")[0]||"h:h",W=T[P]||0,H=(0,d.vc)(M,S,W),X=Z(H,P);x=x||(0,d.pp)(M),t=t||(0,d.pp)(S);var $=X.split(":"),q=Y(x,M,$[0],J(H)),it=Y(t,S,$[1],H);return f(q,it,X)}function O(M,S,x,t,r,u){(0,a.isArray)(x)&&(r=x,u=t,x=(0,d.pp)(M),t=(0,d.pp)(S)),u=(0,a.assign)({preferredLayouts:[]},u),r=r||[];var P=u.preferredLayouts,W=P.indexOf("straight")!==-1,H;return H=W&&B(M,S,x,t,u),H||(H=u.connectionEnd&&U(S,M,t,r),H)||(H=u.connectionStart&&D(M,S,x,r),H)?H:!u.connectionStart&&!u.connectionEnd&&r&&r.length?r:E(M,S,x,t,u)}function N(M,S,x){return M>=S&&M<=x}function A(M,S,x){var t={x:"width",y:"height"};return N(S[M],x[M],x[M]+x[t[M]])}function B(M,S,x,t,r){var u={},P,W;return W=(0,d.vc)(M,S),/^(top|bottom|left|right)$/.test(W)?(/top|bottom/.test(W)&&(P="x"),/left|right/.test(W)&&(P="y"),r.preserveDocking==="target"?A(P,t,M)?(u[P]=t[P],[{x:u.x!==void 0?u.x:x.x,y:u.y!==void 0?u.y:x.y,original:{x:u.x!==void 0?u.x:x.x,y:u.y!==void 0?u.y:x.y}},{x:t.x,y:t.y}]):null:A(P,x,S)?(u[P]=x[P],[{x:x.x,y:x.y},{x:u.x!==void 0?u.x:t.x,y:u.y!==void 0?u.y:t.y,original:{x:u.x!==void 0?u.x:t.x,y:u.y!==void 0?u.y:t.y}}]):null):null}function D(M,S,x,t){return k(M,S,x,t)}function U(M,S,x,t){var r=t.slice().reverse();return r=k(M,S,x,r),r?r.reverse():null}function k(M,S,x,t){function r($){return $.length<3?!0:$.length>4?!1:!!(0,a.find)($,function(q,it){var F=$[it-1];return F&&(0,m.cK)(q,F)<3})}function u($,q,it){var F=(0,m.ke)(q,$);switch(F){case"v":return{x:it.x,y:$.y};case"h":return{x:$.x,y:it.y}}return{x:$.x,y:$.y}}function P($,q,it){var F;for(F=$.length-2;F!==0;F--)if((0,m.El)($[F],q,C)||(0,m.El)($[F],it,C))return $.slice(F);return $}if(r(t))return null;var W=t[0],H=t.slice(),X;return H[0]=x,H[1]=u(H[1],W,x),X=P(H,M,S),X!==H&&(H=k(M,S,x,X)),H&&(0,m.ke)(H)?null:H}function Z(M,S){if(et(S))return S;switch(M){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return S}}function ot(M){return M&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(M)}function et(M){return M&&/t|r|b|l/.test(M)}function J(M){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[M]}function Y(M,S,x,t){if(x==="h"&&(x=/left/.test(t)?"l":"r"),x==="v"&&(x=/top/.test(t)?"t":"b"),x==="t")return{original:M,x:M.x,y:S.y};if(x==="r")return{original:M,x:S.x+S.width,y:M.y};if(x==="b")return{original:M,x:M.x,y:S.y+S.height};if(x==="l")return{original:M,x:S.x,y:M.y};throw new Error("unexpected dockingDirection: <"+x+">")}function w(M){return M.reduce(function(S,x,t){var r=S[S.length-1],u=M[t+1];return(0,m.XP)(r,u,x,0)||S.push(x),S},[])}},49096:(rt,V,l)=>{l.d(V,{C6:()=>e,bL:()=>n,vt:()=>g});var a=l(98218),b=l.n(a),d=l(51270),m=l.n(d),v=l(82867),_=l.n(v),c=new(_())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),C=new(_())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),T=new(_())({name:"attachers",collection:!0},{name:"host"}),y=new(_())({name:"outgoing",collection:!0},{name:"source"}),s=new(_())({name:"incoming",collection:!0},{name:"target"});function e(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(f){var E=this.label,O=this.labels;!f&&E?O.remove(E):O.add(f,0)}}),c.bind(this,"parent"),C.bind(this,"labels"),y.bind(this,"outgoing"),s.bind(this,"incoming")}function h(){e.call(this),c.bind(this,"children"),T.bind(this,"host"),T.bind(this,"attachers")}m()(h,e);function n(){h.call(this)}m()(n,h);function o(){h.call(this),C.bind(this,"labelTarget")}m()(o,h);function i(){e.call(this),y.bind(this,"source"),s.bind(this,"target")}m()(i,e);var p={connection:i,shape:h,label:o,root:n};function g(f,E){var O=p[f];if(!O)throw new Error("unknown type: <"+f+">");return(0,a.assign)(new O,E)}},64916:(rt,V,l)=>{l.d(V,{A:()=>T});var a=l(46837),b=l(200),d=l(56764),m=l(52687),v=l(86439),_=15;function c(y,s){var e;y.on("element.mousedown",500,function(i){return o(i.originalEvent)});function h(i){var p=e.start,g=(0,v.gK)(i),f=(0,d.p)(g,p);if(!e.dragging&&C(f)>_&&(e.dragging=!0,(0,b.a)(y),(0,a.hZ)("grab")),e.dragging){var E=e.last||e.start;f=(0,d.p)(g,E),s.scroll({dx:f.x,dy:f.y}),e.last=g}i.preventDefault()}function n(i){m.event.unbind(document,"mousemove",h),m.event.unbind(document,"mouseup",n),e=null,(0,a.wC)()}function o(i){if(!(0,m.closest)(i.target,".djs-draggable")&&!(i.button||i.ctrlKey||i.shiftKey||i.altKey))return e={start:(0,v.gK)(i)},m.event.bind(document,"mousemove",h),m.event.bind(document,"mouseup",n),!0}}c.$inject=["eventBus","canvas"];function C(y){return Math.sqrt(Math.pow(y.x,2)+Math.pow(y.y,2))}const T={__init__:["moveCanvas"],moveCanvas:["type",c]}},32959:(rt,V,l)=>{l.d(V,{A:()=>g});var a=l(69380),b=l(98218),d=l(52687),m=l(66716),v=l.n(m),_=l(86439),c=.2,C=4,T=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function y(){}function s(f,E){return E.get(f,!1)}function e(f){f.preventDefault(),f.stopPropagation(),typeof f.stopImmediatePropagation=="function"&&f.stopImmediatePropagation()}function h(f){function E(Z){(0,b.forEach)(T,function(ot){d.event.bind(f,ot,e,!0)})}function O(Z){setTimeout(function(){(0,b.forEach)(T,function(ot){d.event.unbind(f,ot,e,!0)})},500)}d.event.bind(f,"touchstart",E,!0),d.event.bind(f,"touchend",O,!0),d.event.bind(f,"touchcancel",O,!0);var N=new(v()).Manager(f,{inputClass:v().TouchInput,recognizers:[]}),A=new(v()).Tap,B=new(v()).Pan({threshold:10}),D=new(v()).Press,U=new(v()).Pinch,k=new(v()).Tap({event:"doubletap",taps:2});return U.requireFailure(B),U.requireFailure(D),N.add([B,D,U,k,A]),N.reset=function(Z){var ot=this.recognizers,et=this.session;et.stopped||(N.stop(Z),setTimeout(function(){var J,Y;for(J=0;Y=ot[J];J++)Y.reset(),Y.state=8;et.curRecognizer=null},0))},N.on("hammer.input",function(Z){Z.srcEvent.defaultPrevented&&N.reset(!0)}),N}function n(f,E,O,N,A){var B=s("dragging",f),D=s("move",f),U=s("contextPad",f),k=s("palette",f),Z;function ot(Y){return function(w){A.fire(Y,w)}}function et(Y){var w=(0,d.closest)(Y,"svg, .djs-element",!0);return w}function J(Y){Z=h(Y),Z.on("doubletap",ot("element.dblclick")),Z.on("tap",ot("element.click"));function w(x){var t=0,r=0;function u(W){var H=W.deltaX-t,X=W.deltaY-r;E.scroll({dx:H,dy:X}),t=W.deltaX,r=W.deltaY}function P(W){Z.off("panmove",u),Z.off("panend",P),Z.off("pancancel",P)}Z.on("panmove",u),Z.on("panend",P),Z.on("pancancel",P)}function M(x){var t=et(x.target),r=t&&N.get(t);if(D&&E.getRootElement()!==r)return D.start(x,r,!0);w(x)}function S(x){var t=E.zoom(),r=x.center;function u(W){var H=1-(1-W.scale)/1.5,X=Math.max(c,Math.min(C,H*t));E.zoom(X,r),e(W)}function P(W){Z.off("pinchmove",u),Z.off("pinchend",P),Z.off("pinchcancel",P),Z.reset(!0)}Z.on("pinchmove",u),Z.on("pinchend",P),Z.on("pinchcancel",P)}Z.on("panstart",M),Z.on("press",M),Z.on("pinchstart",S)}B&&O.on("drag.move",function(Y){var w=Y.originalEvent;if(!(!w||w instanceof MouseEvent)){var M=(0,_.gK)(w),S=document.elementFromPoint(M.x,M.y),x=et(S),t=x&&N.get(x);t!==Y.hover&&(Y.hover&&B.out(Y),t&&(B.hover({element:t,gfx:x}),Y.hover=t,Y.hoverGfx=x))}}),U&&O.on("contextPad.create",function(Y){var w=Y.pad.html,M=h(w);M.on("panstart",function(S){U.trigger("dragstart",S,!0)}),M.on("press",function(S){U.trigger("dragstart",S,!0)}),M.on("tap",function(S){U.trigger("click",S)})}),k&&O.on("palette.create",function(Y){var w=Y.container,M=h(w);M.on("panstart",function(S){k.trigger("dragstart",S,!0)}),M.on("press",function(S){k.trigger("dragstart",S,!0)}),M.on("tap",function(S){k.trigger("click",S)})}),O.on("canvas.init",function(Y){J(Y.svg)})}n.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"];var o=l(33225);function i(f,E){var O=this;E.on("canvas.init",function(N){O.addBBoxMarker(N.svg)})}i.$inject=["canvas","eventBus"],i.prototype.addBBoxMarker=function(f){var E={fill:"none",class:"outer-bound-marker"},O=(0,o.vt)("rect");(0,o.CF)(O,{x:-1e4,y:1e4,width:10,height:10}),(0,o.CF)(O,E),(0,o.BC)(f,O);var N=(0,o.vt)("rect");(0,o.CF)(N,{x:1e4,y:1e4,width:10,height:10}),(0,o.CF)(N,E),(0,o.BC)(f,N)};const g={__depends__:[{__depends__:[a.A],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",n],touchFix:["type",i]}]}},436:(rt,V,l)=>{l.d(V,{A:()=>e});var a=l(52687),b=l.n(a),d=l(56165),m=l(55817),v=l(98218),_=l.n(v),c=Math.sign||function(h){return h>=0?1:-1},C={min:.2,max:4},T=10,y=.1,s=.75;function e(h,n,o){h=h||{},this._enabled=!1,this._canvas=o,this._container=o._container,this._handleWheel=(0,v.bind)(this._handleWheel,this),this._totalDelta=0,this._scale=h.scale||s;var i=this;n.on("canvas.init",function(p){i._init(h.enabled!==!1)})}e.$inject=["config.zoomScroll","eventBus","canvas"],e.prototype.scroll=function(n){this._canvas.scroll(n)},e.prototype.reset=function(){this._canvas.zoom("fit-viewport")},e.prototype.zoom=function(n,o){var i=(0,d.U)(C,T*2);this._totalDelta+=n,Math.abs(this._totalDelta)>y&&(this._zoom(n,o,i),this._totalDelta=0)},e.prototype._handleWheel=function(n){if(!(0,a.closest)(n.target,".djs-scrollable",!0)){var o=this._container;n.preventDefault();var i=n.ctrlKey,p=n.shiftKey,g=-1*this._scale,f;if(i?g*=n.deltaMode===0?.02:.32:g*=n.deltaMode===0?1:16,i){var E=o.getBoundingClientRect(),O={x:n.clientX-E.left,y:n.clientY-E.top};f=Math.sqrt(Math.pow(n.deltaY,2)+Math.pow(n.deltaX,2))*c(n.deltaY)*g,this.zoom(f,O)}else p?f={dx:g*n.deltaY,dy:0}:f={dx:g*n.deltaX,dy:g*n.deltaY},this.scroll(f)}},e.prototype.stepZoom=function(n,o){var i=(0,d.U)(C,T);this._zoom(n,o,i)},e.prototype._zoom=function(h,n,o){var i=this._canvas,p=h>0?1:-1,g=(0,m.Y)(i.zoom()),f=Math.round(g/o)*o;f+=o*p;var E=Math.pow(10,f);i.zoom((0,d.N)(C,E),n)},e.prototype.toggle=function(n){var o=this._container,i=this._handleWheel,p=this._enabled;return typeof n>"u"&&(n=!p),p!==n&&a.event[n?"bind":"unbind"](o,"wheel",i,!1),this._enabled=n,n},e.prototype._init=function(h){this.toggle(h)}},56165:(rt,V,l)=>{l.d(V,{N:()=>d,U:()=>b});var a=l(55817);function b(m,v){var _=(0,a.Y)(m.min),c=(0,a.Y)(m.max),C=Math.abs(_)+Math.abs(c);return C/v}function d(m,v){return Math.max(m.min,Math.min(m.max,v))}},81284:(rt,V,l)=>{l.d(V,{A:()=>b});var a=l(436);const b={__init__:["zoomScroll"],zoomScroll:["type",a.A]}},200:(rt,V,l)=>{l.d(V,{a:()=>b});var a=5e3;function b(d,m){m=m||"element.click";function v(){return!1}return d.once(m,a,v),function(){d.off(m,v)}}},6958:(rt,V,l)=>{l.d(V,{TF:()=>a,WQ:()=>b,qh:()=>d});function a(m,v){if(!m||!v)return-1;var _=m.indexOf(v);return _!==-1&&m.splice(_,1),_}function b(m,v,_){if(!(!m||!v)){typeof _!="number"&&(_=-1);var c=m.indexOf(v);if(c!==-1){if(c===_)return;if(_!==-1)m.splice(c,1);else return}_!==-1?m.splice(_,0,v):m.push(v)}}function d(m,v){return!m||!v?-1:m.indexOf(v)}},46837:(rt,V,l)=>{l.d(V,{hZ:()=>m,wC:()=>v});var a=l(52687),b=l.n(a),d=/^djs-cursor-.*$/;function m(c){var C=(0,a.classes)(document.body);C.removeMatching(d),c&&C.add("djs-cursor-"+c)}function v(){m(null)}function _(c){var C=domClasses(document.body);return C.has("djs-cursor-"+c)}},10018:(rt,V,l)=>{l.d(V,{Pw:()=>h,U7:()=>s,cZ:()=>T,eb:()=>n,qO:()=>_,rx:()=>e,wT:()=>d,yO:()=>y});var a=l(98218),b=l.n(a);function d(i){return(0,a.filter)(i,function(p){return!(0,a.find)(i,function(g){return g!==p&&m(p,g)})})}function m(i,p){if(p){if(i===p)return p;if(i.parent)return m(i.parent,p)}}function v(i,p,g){var f=!g||i.indexOf(p)===-1;return f&&i.push(p),f}function _(i,p,g){g=g||0,(0,a.isArray)(i)||(i=[i]),(0,a.forEach)(i,function(f,E){var O=p(f,E,g);(0,a.isArray)(O)&&O.length&&_(O,p,g+1)})}function c(i,p,g){var f=[],E=[];return _(i,function(O,N,A){v(f,O,p);var B=O.children;if((g===-1||A<g)&&B&&v(E,B,p))return B}),f}function C(i,p){return c(i,!p,1)}function T(i,p){return c(i,!p,-1)}function y(i,p,g){(0,a.isUndefined)(p)&&(p=!0),(0,a.isObject)(p)&&(g=p,p=!0),g=g||{};var f=o(g.allShapes),E=o(g.allConnections),O=o(g.enclosedElements),N=o(g.enclosedConnections),A=o(g.topLevel,p&&(0,a.groupBy)(i,function(U){return U.id}));function B(U){A[U.source.id]&&A[U.target.id]&&(A[U.id]=[U]),f[U.source.id]&&f[U.target.id]&&(N[U.id]=O[U.id]=U),E[U.id]=U}function D(U){if(O[U.id]=U,U.waypoints)N[U.id]=E[U.id]=U;else return f[U.id]=U,(0,a.forEach)(U.incoming,B),(0,a.forEach)(U.outgoing,B),U.children}return _(i,D),{allShapes:f,allConnections:E,topLevel:A,enclosedConnections:N,enclosedElements:O}}function s(i,p){p=!!p,(0,a.isArray)(i)||(i=[i]);var g,f,E,O;return(0,a.forEach)(i,function(N){var A=N;N.waypoints&&!p&&(A=s(N.waypoints,!0));var B=A.x,D=A.y,U=A.height||0,k=A.width||0;(B<g||g===void 0)&&(g=B),(D<f||f===void 0)&&(f=D),(B+k>E||E===void 0)&&(E=B+k),(D+U>O||O===void 0)&&(O=D+U)}),{x:g,y:f,height:O-f,width:E-g}}function e(i,p){var g={};return(0,a.forEach)(i,function(f){var E=f;E.waypoints&&(E=s(E)),!(0,a.isNumber)(p.y)&&E.x>p.x&&(g[f.id]=f),!(0,a.isNumber)(p.x)&&E.y>p.y&&(g[f.id]=f),E.x>p.x&&E.y>p.y&&((0,a.isNumber)(p.width)&&(0,a.isNumber)(p.height)&&E.width+E.x<p.width+p.x&&E.height+E.y<p.height+p.y||!(0,a.isNumber)(p.width)||!(0,a.isNumber)(p.height))&&(g[f.id]=f)}),g}function h(i){return"waypoints"in i?"connection":"x"in i?"shape":"root"}function n(i){return!!(i&&i.isFrame)}function o(i,p){return(0,a.assign)({},i||{},p||{})}},86439:(rt,V,l)=>{l.d(V,{AF:()=>b,dG:()=>d,gK:()=>m});function a(v){!v||typeof v.stopPropagation!="function"||v.stopPropagation()}function b(v){return v.originalEvent||v.srcEvent}function d(v,_){a(v,_),a(b(v),_)}function m(v){return v.pointers&&v.pointers.length&&(v=v.pointers[0]),v.touches&&v.touches.length&&(v=v.touches[0]),v?{x:v.clientX,y:v.clientY}:null}},92159:(rt,V,l)=>{l.d(V,{El:()=>T,P8:()=>y,XP:()=>m,cK:()=>d,ke:()=>_});var a=l(98218),b=l.n(a);function d(s,e){return!s||!e?-1:Math.sqrt(Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2))}function m(s,e,h,n){if(typeof n>"u"&&(n=5),!s||!e||!h)return!1;var o=(e.x-s.x)*(h.y-s.y)-(e.y-s.y)*(h.x-s.x),i=d(s,e);return Math.abs(o/i)<=n}var v=2;function _(s,e){var h;return(0,a.isArray)(s)?h=s:h=[s,e],c(h)?"h":C(h)?"v":!1}function c(s,e){var h;(0,a.isArray)(s)?h=s:h=[s,e];var n=h.slice().shift();return(0,a.every)(h,function(o){return Math.abs(n.y-o.y)<=v})}function C(s,e){var h;(0,a.isArray)(s)?h=s:h=[s,e];var n=h.slice().shift();return(0,a.every)(h,function(o){return Math.abs(n.x-o.x)<=v})}function T(s,e,h){return h=h||0,s.x>e.x-h&&s.y>e.y-h&&s.x<e.x+e.width+h&&s.y<e.y+e.height+h}function y(s,e){return{x:Math.round(s.x+(e.x-s.x)/2),y:Math.round(s.y+(e.y-s.y)/2)}}},12266:(rt,V,l)=>{l.d(V,{P:()=>a,i:()=>b});function a(d){return d.childNodes[0]}function b(d){return d.parentNode.childNodes[1]}},50941:(rt,V,l)=>{l.d(V,{A:()=>a});function a(b){this._counter=0,this._prefix=(b?b+"-":"")+Math.floor(Math.random()*1e9)+"-"}a.prototype.next=function(){return this._prefix+ ++this._counter}},55817:(rt,V,l)=>{l.d(V,{Y:()=>a});function a(b){return Math.log(b)/Math.log(10)}},60053:(rt,V,l)=>{l.d(V,{Io:()=>m,KH:()=>v,ls:()=>d});var a=l(86439);function b(){return/mac/i.test(navigator.platform)}function d(_){return!((0,a.AF)(_)||_).button}function m(_){var c=(0,a.AF)(_)||_;return d(_)?b()?c.metaKey:c.ctrlKey:!1}function v(_){var c=(0,a.AF)(_)||_;return d(_)&&c.shiftKey}},56764:(rt,V,l)=>{l.d(V,{g:()=>a,p:()=>b});function a(d){return{x:d.x+d.width/2,y:d.y+d.height/2}}function b(d,m){return{x:d.x-m.x,y:d.y-m.y}}},91799:(rt,V,l)=>{l.d(V,{l:()=>a});function a(b,d){if(typeof d!="function")throw new Error("removeFn iterator must be a function");if(b){for(var m;m=b[0];)d(m);return b}}},12619:(rt,V,l)=>{l.d(V,{RJ:()=>m,si:()=>v,tx:()=>b});var a=l(33225);function b(_){return _.join(",").replace(/,?([A-z]),?/g,"$1")}function d(_){for(var c="",C=0,T;T=_[C];C++)c+=T.x+","+T.y+" ";return c}function m(_,c){var C=(0,a.vt)("polyline");return(0,a.CF)(C,{points:d(_)}),c&&(0,a.CF)(C,c),C}function v(_,c){return(0,a.CF)(_,{points:d(c)}),_}},52965:(rt,V,l)=>{l.d(V,{Tl:()=>d,e$:()=>m,pd:()=>b});var a=l(33225);function b(_,c,C,T,y){var s=(0,a.l1)();s.setTranslate(c,C);var e=(0,a.l1)();e.setRotate(T||0,0,0);var h=(0,a.l1)();h.setScale(y||1,y||1),(0,a.pd)(_,[s,e,h])}function d(_,c,C){var T=(0,a.l1)();T.setTranslate(c,C),(0,a.pd)(_,T)}function m(_,c){var C=(0,a.l1)();C.setRotate(c,0,0),(0,a.pd)(_,C)}function v(_,c){var C=createTransform();C.setScale(c,c),svgTransform(_,C)}},44156:(rt,V,l)=>{l.d(V,{A:()=>n});var a=l(98218),b=l.n(a),d=l(33225),m=0,v={width:150,height:50};function _(i){var p=i.split("-");return{horizontal:p[0]||"center",vertical:p[1]||"top"}}function c(i){return(0,a.isObject)(i)?(0,a.assign)({top:0,left:0,right:0,bottom:0},i):{top:i,left:i,right:i,bottom:i}}function C(i,p){p.textContent=i;var g;try{var f,E=i==="";return p.textContent=E?"dummy":i,g=p.getBBox(),f={width:g.width+g.x*2,height:g.height},E&&(f.width=0),f}catch{return{width:0,height:0}}}function T(i,p,g){for(var f=i.shift(),E=f,O;;){if(O=C(E,g),O.width=E?O.width:0,E===" "||E===""||Math.round(O.width)<=Math.round(p)||E.length<2)return y(i,E,f,O);E=e(E,O.width,p)}}function y(i,p,g,f){if(p.length<g.length){var E=g.slice(p.length).trim();i.unshift(E)}return{width:f.width,height:f.height,text:p}}function s(i,p){var g=i.split(/(\s|-)/g),f,E=[],O=0;if(g.length>1)for(;f=g.shift();)if(f.length+O<p)E.push(f),O+=f.length;else{f==="-"&&E.pop();break}return E.join("")}function e(i,p,g){var f=Math.max(i.length*(g/p),1),E=s(i,f);return E||(E=i.slice(0,Math.max(Math.round(f-1),1))),E}function h(){var i=document.getElementById("helper-svg");return i||(i=(0,d.vt)("svg"),(0,d.CF)(i,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(i)),i}function n(i){this._config=(0,a.assign)({},{size:v,padding:m,style:{},align:"center-top"},i||{})}n.prototype.createText=function(i,p){return this.layoutText(i,p).element},n.prototype.getDimensions=function(i,p){return this.layoutText(i,p).dimensions},n.prototype.layoutText=function(i,p){var g=(0,a.assign)({},this._config.size,p.box),f=(0,a.assign)({},this._config.style,p.style),E=_(p.align||this._config.align),O=c(p.padding!==void 0?p.padding:this._config.padding),N=p.fitBox||!1,A=o(f),B=i.split(/\r?\n/g),D=[],U=g.width-O.left-O.right,k=(0,d.vt)("text");(0,d.CF)(k,{x:0,y:0}),(0,d.CF)(k,f);var Z=h();for((0,d.BC)(Z,k);B.length;)D.push(T(B,U,k));E.vertical==="middle"&&(O.top=O.bottom=0);var ot=(0,a.reduce)(D,function(M,S,x){return M+(A||S.height)},0)+O.top+O.bottom,et=(0,a.reduce)(D,function(M,S,x){return S.width>M?S.width:M},0),J=O.top;E.vertical==="middle"&&(J+=(g.height-ot)/2),J-=(A||D[0].height)/4;var Y=(0,d.vt)("text");(0,d.CF)(Y,f),(0,a.forEach)(D,function(M){var S;switch(J+=A||M.height,E.horizontal){case"left":S=O.left;break;case"right":S=(N?et:U)-O.right-M.width;break;default:S=Math.max(((N?et:U)-M.width)/2+O.left,0)}var x=(0,d.vt)("tspan");(0,d.CF)(x,{x:S,y:J}),x.textContent=M.text,(0,d.BC)(Y,x)}),(0,d.TF)(k);var w={width:et,height:ot};return{dimensions:w,element:Y}};function o(i){if("fontSize"in i&&"lineHeight"in i)return i.lineHeight*parseInt(i.fontSize,10)}},33225:(rt,V,l)=>{l.d(V,{BC:()=>d,CF:()=>T,IU:()=>p,Ly:()=>n,TF:()=>i,l1:()=>J,o8:()=>g,pd:()=>z,uK:()=>et,vt:()=>A});function a(I,K){if(I.ownerDocument!==K.ownerDocument)try{return K.ownerDocument.importNode(I,!0)}catch{}return I}function b(I,K){return K.appendChild(a(I,K))}function d(I,K){return b(K,I),I}var m=2,v={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":m,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":m,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function _(I,K){return v[K]?I.style[K]:I.getAttributeNS(null,K)}function c(I,K,Q){var nt=K.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),st=v[nt];st?(st===m&&typeof Q=="number"&&(Q=String(Q)+"px"),I.style[nt]=Q):I.setAttributeNS(null,K,Q)}function C(I,K){var Q=Object.keys(K),nt,st;for(nt=0,st;st=Q[nt];nt++)c(I,st,K[st])}function T(I,K,Q){if(typeof K=="string")if(Q!==void 0)c(I,K,Q);else return _(I,K);else C(I,K);return I}function y(I,K){if(I.indexOf)return I.indexOf(K);for(var Q=0;Q<I.length;++Q)if(I[Q]===K)return Q;return-1}var s=/\s+/,e=Object.prototype.toString;function h(I){return typeof I<"u"}function n(I){return new o(I)}function o(I){if(!I||!I.nodeType)throw new Error("A DOM element reference is required");this.el=I,this.list=I.classList}o.prototype.add=function(I){if(this.list)return this.list.add(I),this;var K=this.array(),Q=y(K,I);return~Q||K.push(I),h(this.el.className.baseVal)?this.el.className.baseVal=K.join(" "):this.el.className=K.join(" "),this},o.prototype.remove=function(I){if(e.call(I)==="[object RegExp]")return this.removeMatching(I);if(this.list)return this.list.remove(I),this;var K=this.array(),Q=y(K,I);return~Q&&K.splice(Q,1),this.el.className.baseVal=K.join(" "),this},o.prototype.removeMatching=function(I){for(var K=this.array(),Q=0;Q<K.length;Q++)I.test(K[Q])&&this.remove(K[Q]);return this},o.prototype.toggle=function(I,K){return this.list?(h(K)?K!==this.list.toggle(I,K)&&this.list.toggle(I):this.list.toggle(I),this):(h(K)?K?this.add(I):this.remove(I):this.has(I)?this.remove(I):this.add(I),this)},o.prototype.array=function(){var I=this.el.getAttribute("class")||"",K=I.replace(/^\s+|\s+$/g,""),Q=K.split(s);return Q[0]===""&&Q.shift(),Q},o.prototype.has=o.prototype.contains=function(I){return this.list?this.list.contains(I):!!~y(this.array(),I)};function i(I){var K=I.parentNode;return K&&K.removeChild(I),I}function p(I){for(var K;K=I.firstChild;)i(K);return I}function g(I){return I.cloneNode(!0)}var f={svg:"http://www.w3.org/2000/svg"},E='<svg xmlns="'+f.svg+'"';function O(I){var K=!1;I.substring(0,4)==="<svg"?I.indexOf(f.svg)===-1&&(I=E+I.substring(4)):(I=E+">"+I+"</svg>",K=!0);var Q=N(I);if(!K)return Q;for(var nt=document.createDocumentFragment(),st=Q.firstChild;st.firstChild;)nt.appendChild(st.firstChild);return nt}function N(I){var K;return K=new DOMParser,K.async=!1,K.parseFromString(I,"text/xml")}function A(I,K){var Q;return I.charAt(0)==="<"?(Q=O(I).firstChild,Q=document.importNode(Q,!0)):Q=document.createElementNS(f.svg,I),K&&T(Q,K),Q}function B(I,K,Q,nt){I.addEventListener(K,Q,nt)}function D(I,K,Q,nt){I.removeEventListener(K,Q,nt)}var U=null;function k(){return U===null&&(U=A("svg")),U}function Z(I,K){var Q,nt,st=Object.keys(K);for(Q=0;nt=st[Q];Q++)I[nt]=K[nt];return I}function ot(I,K){var Q=k().createSVGPoint();switch(arguments.length){case 0:return Q;case 2:I={x:I,y:K};break}return Z(Q,I)}function et(I,K,Q,nt,st,ut){var ft=k().createSVGMatrix();switch(arguments.length){case 0:return ft;case 1:return Z(ft,I);case 6:return Z(ft,{a:I,b:K,c:Q,d:nt,e:st,f:ut})}}function J(I){return I?k().createSVGTransformFromMatrix(I):k().createSVGTransform()}var Y=/([&<>]{1})/g,w=/([\n\r"]{1})/g,M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function S(I,K){function Q(nt,st){return M[st]||st}return I.replace(K,Q)}function x(I,K){var Q,nt,st,ut,ft;switch(I.nodeType){case 3:K.push(S(I.textContent,Y));break;case 1:if(K.push("<",I.tagName),I.hasAttributes())for(st=I.attributes,Q=0,nt=st.length;Q<nt;++Q)ut=st.item(Q),K.push(" ",ut.name,'="',S(ut.value,w),'"');if(I.hasChildNodes()){for(K.push(">"),ft=I.childNodes,Q=0,nt=ft.length;Q<nt;++Q)x(ft.item(Q),K);K.push("</",I.tagName,">")}else K.push("/>");break;case 8:K.push("<!--",S(I.nodeValue,Y),"-->");break;case 4:K.push("<![CDATA[",I.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+I.nodeType)}return K}function t(I,K){var Q=O(K);if(p(I),!!K){u(Q)||(Q=Q.documentElement);for(var nt=W(Q.childNodes),st=0;st<nt.length;st++)b(nt[st],I)}}function r(I){for(var K=I.firstChild,Q=[];K;)x(K,Q),K=K.nextSibling;return Q.join("")}function u(I){return I.nodeName==="#document-fragment"}function P(I,K){if(K!==void 0){try{t(I,K)}catch(Q){throw new Error("error parsing SVG: "+Q.message)}return I}else return r(I)}function W(I){return Array.prototype.slice.call(I)}function H(I,K){return I.querySelector(K)}function X(I,K){var Q=I.querySelectorAll(K);return[].map.call(Q,function(nt){return nt})}function $(I,K){return K.insertBefore(a(I,K),K.firstChild||null)}function q(I,K){return $(K,I),I}function it(I,K){return I.parentNode.replaceChild(a(K,I),I),K}function F(I,K){return K instanceof SVGMatrix?I.createSVGTransformFromMatrix(K):K}function G(I,K){var Q,nt;for(I.clear(),Q=0;nt=K[Q];Q++)I.appendItem(F(I,nt))}function z(I,K){var Q=I.transform.baseVal;return K&&(Array.isArray(K)||(K=[K]),G(Q,K)),Q.consolidate()}},87004:(rt,V,l)=>{l.d(V,{BC:()=>d,CF:()=>T,Ly:()=>s,TF:()=>H,o8:()=>n,pd:()=>it,uK:()=>U,vt:()=>f});function a(F,G){if(F.ownerDocument!==G.ownerDocument)try{return G.ownerDocument.importNode(F,!0)}catch{}return F}function b(F,G){return G.appendChild(a(F,G))}function d(F,G){return b(G,F),F}var m=2,v={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":m,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":m,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function _(F,G){return v[G]?F.style[G]:F.getAttributeNS(null,G)}function c(F,G,z){var I=G.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),K=v[I];K?(K===m&&typeof z=="number"&&(z=String(z)+"px"),F.style[I]=z):F.setAttributeNS(null,G,z)}function C(F,G){var z=Object.keys(G),I,K;for(I=0,K;K=z[I];I++)c(F,K,G[K])}function T(F,G,z){if(typeof G=="string")if(z!==void 0)c(F,G,z);else return _(F,G);else C(F,G);return F}const y=Object.prototype.toString;function s(F){return new e(F)}function e(F){if(!F||!F.nodeType)throw new Error("A DOM element reference is required");this.el=F,this.list=F.classList}e.prototype.add=function(F){return this.list.add(F),this},e.prototype.remove=function(F){return y.call(F)=="[object RegExp]"?this.removeMatching(F):(this.list.remove(F),this)},e.prototype.removeMatching=function(F){const G=this.array();for(let z=0;z<G.length;z++)F.test(G[z])&&this.remove(G[z]);return this},e.prototype.toggle=function(F,G){return typeof G<"u"?G!==this.list.toggle(F,G)&&this.list.toggle(F):this.list.toggle(F),this},e.prototype.array=function(){return Array.from(this.list)},e.prototype.has=e.prototype.contains=function(F){return this.list.contains(F)};function h(F){for(var G;G=F.firstChild;)F.removeChild(G);return F}function n(F){return F.cloneNode(!0)}var o={svg:"http://www.w3.org/2000/svg"},i='<svg xmlns="'+o.svg+'"';function p(F){var G=!1;F.substring(0,4)==="<svg"?F.indexOf(o.svg)===-1&&(F=i+F.substring(4)):(F=i+">"+F+"</svg>",G=!0);var z=g(F);if(!G)return z;for(var I=document.createDocumentFragment(),K=z.firstChild;K.firstChild;)I.appendChild(K.firstChild);return I}function g(F){var G;return G=new DOMParser,G.async=!1,G.parseFromString(F,"text/xml")}function f(F,G){var z;return F=F.trim(),F.charAt(0)==="<"?(z=p(F).firstChild,z=document.importNode(z,!0)):z=document.createElementNS(o.svg,F),G&&T(z,G),z}function E(F,G,z,I){F.addEventListener(G,z,I)}function O(F,G,z,I){F.removeEventListener(G,z,I)}var N=null;function A(){return N===null&&(N=f("svg")),N}function B(F,G){var z,I,K=Object.keys(G);for(z=0;I=K[z];z++)F[I]=G[I];return F}function D(F,G){var z=A().createSVGPoint();switch(arguments.length){case 0:return z;case 2:F={x:F,y:G};break}return B(z,F)}function U(F,G,z,I,K,Q){var nt=A().createSVGMatrix();switch(arguments.length){case 0:return nt;case 1:return B(nt,F);case 6:return B(nt,{a:F,b:G,c:z,d:I,e:K,f:Q})}}function k(F){return F?A().createSVGTransformFromMatrix(F):A().createSVGTransform()}var Z=/([&<>]{1})/g,ot=/([&<>\n\r"]{1})/g,et={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function J(F,G){function z(I,K){return et[K]||K}return F.replace(G,z)}function Y(F,G){var z,I,K,Q,nt;switch(F.nodeType){case 3:G.push(J(F.textContent,Z));break;case 1:if(G.push("<",F.tagName),F.hasAttributes())for(K=F.attributes,z=0,I=K.length;z<I;++z)Q=K.item(z),G.push(" ",Q.name,'="',J(Q.value,ot),'"');if(F.hasChildNodes()){for(G.push(">"),nt=F.childNodes,z=0,I=nt.length;z<I;++z)Y(nt.item(z),G);G.push("</",F.tagName,">")}else G.push("/>");break;case 8:G.push("<!--",J(F.nodeValue,Z),"-->");break;case 4:G.push("<![CDATA[",F.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+F.nodeType)}return G}function w(F,G){var z=p(G);if(h(F),!!G){S(z)||(z=z.documentElement);for(var I=t(z.childNodes),K=0;K<I.length;K++)b(I[K],F)}}function M(F){for(var G=F.firstChild,z=[];G;)Y(G,z),G=G.nextSibling;return z.join("")}function S(F){return F.nodeName==="#document-fragment"}function x(F,G){if(G!==void 0){try{w(F,G)}catch(z){throw new Error("error parsing SVG: "+z.message)}return F}else return M(F)}function t(F){return Array.prototype.slice.call(F)}function r(F,G){return F.querySelector(G)}function u(F,G){var z=F.querySelectorAll(G);return[].map.call(z,function(I){return I})}function P(F,G){return G.insertBefore(a(F,G),G.firstChild||null)}function W(F,G){return P(G,F),F}function H(F){var G=F.parentNode;return G&&G.removeChild(F),F}function X(F,G){return F.parentNode.replaceChild(a(G,F),F),G}function $(F,G){return G instanceof SVGMatrix?F.createSVGTransformFromMatrix(G):G}function q(F,G){var z,I;for(F.clear(),z=0;I=G[z];z++)F.appendItem($(F,I))}function it(F,G){var z=F.transform.baseVal;return G&&(Array.isArray(G)||(G=[G]),q(z,G)),z.consolidate()}},35293:(rt,V,l)=>{l.d(V,{A:()=>s});const b={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let d;const m=new Uint8Array(16);function v(){if(!d&&(d=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return d(m)}const _=[];for(let e=0;e<256;++e)_.push((e+256).toString(16).slice(1));function c(e,h=0){return _[e[h+0]]+_[e[h+1]]+_[e[h+2]]+_[e[h+3]]+"-"+_[e[h+4]]+_[e[h+5]]+"-"+_[e[h+6]]+_[e[h+7]]+"-"+_[e[h+8]]+_[e[h+9]]+"-"+_[e[h+10]]+_[e[h+11]]+_[e[h+12]]+_[e[h+13]]+_[e[h+14]]+_[e[h+15]]}function C(e,h=0){const n=c(e,h);if(!validate(n))throw TypeError("Stringified UUID is invalid");return n}const T=null;function y(e,h,n){if(b.randomUUID&&!h&&!e)return b.randomUUID();e=e||{};const o=e.random||(e.rng||v)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,h){n=n||0;for(let i=0;i<16;++i)h[n+i]=o[i];return h}return c(o)}const s=y},73308:(rt,V,l)=>{l.d(V,{A:()=>b});function a(d,m,v,_,c,C,T){try{var y=d[C](T),s=y.value}catch(e){v(e);return}y.done?m(s):Promise.resolve(s).then(_,c)}function b(d){return function(){var m=this,v=arguments;return new Promise(function(_,c){var C=d.apply(m,v);function T(s){a(C,_,c,T,y,"next",s)}function y(s){a(C,_,c,T,y,"throw",s)}T(void 0)})}}}}]);
