(self.webpackChunkapp_studio_enterprise_page_wizard=self.webpackChunkapp_studio_enterprise_page_wizard||[]).push([[9801,3308,2272,927],{34645:(P,j,o)=>{var p={"./basketball.json":[99523,9523],"./beaver.json":[37497,7497],"./cat.json":[7780,7780],"./dashboard.json":[44340,4340],"./email.json":[2160,2160],"./landingPage.json":[2888,2888],"./loader.json":[33475,3475],"./raccoon.json":[59425,9425],"./search.json":[9780,9780]};function g(l){if(!o.o(p,l))return Promise.resolve().then(()=>{var E=new Error("Cannot find module '"+l+"'");throw E.code="MODULE_NOT_FOUND",E});var t=p[l],f=t[0];return o.e(t[1]).then(()=>o.t(f,19))}g.keys=()=>Object.keys(p),g.id=34645,P.exports=g},12014:(P,j,o)=>{var p={"./default-file-icon.svg":27107,"./file-excel.svg":76185,"./file-image.svg":87831,"./file-pdf.svg":96682,"./file-powerpoint.svg":30351,"./file-word.svg":23472};function g(t){var f=l(t);return o(f)}function l(t){if(!o.o(p,t)){var f=new Error("Cannot find module '"+t+"'");throw f.code="MODULE_NOT_FOUND",f}return p[t]}g.keys=function(){return Object.keys(p)},g.resolve=l,P.exports=g,g.id=12014},10722:(P,j,o)=>{var p={"./default-file-icon.svg":8035,"./file-excel.svg":25689,"./file-image.svg":21431,"./file-pdf.svg":94570,"./file-powerpoint.svg":17935,"./file-word.svg":94896,"./large/default-file-icon.svg":27107,"./large/file-excel.svg":76185,"./large/file-image.svg":87831,"./large/file-pdf.svg":96682,"./large/file-powerpoint.svg":30351,"./large/file-word.svg":23472};function g(t){var f=l(t);return o(f)}function l(t){if(!o.o(p,t)){var f=new Error("Cannot find module '"+t+"'");throw f.code="MODULE_NOT_FOUND",f}return p[t]}g.keys=function(){return Object.keys(p)},g.resolve=l,P.exports=g,g.id=10722},33996:(P,j,o)=>{var p={"./grid-area-1-icon.svg":35723,"./grid-column-1-icon.svg":27320,"./grid-column-2-icon.svg":48305,"./grid-column-3-icon.svg":6206,"./grid-column-4-icon.svg":50103};function g(t){var f=l(t);return o(f)}function l(t){if(!o.o(p,t)){var f=new Error("Cannot find module '"+t+"'");throw f.code="MODULE_NOT_FOUND",f}return p[t]}g.keys=function(){return Object.keys(p)},g.resolve=l,P.exports=g,g.id=33996},48104:(P,j,o)=>{var p={"./datetime-picker-toggle-date-icon.svg":67347,"./datetime-picker-toggle-time-icon.svg":63202};function g(t){var f=l(t);return o(f)}function l(t){if(!o.o(p,t)){var f=new Error("Cannot find module '"+t+"'");throw f.code="MODULE_NOT_FOUND",f}return p[t]}g.keys=function(){return Object.keys(p)},g.resolve=l,P.exports=g,g.id=48104},48422:(P,j,o)=>{var p={"./error-icon.svg":77017,"./warning-icon.svg":64207};function g(t){var f=l(t);return o(f)}function l(t){if(!o.o(p,t)){var f=new Error("Cannot find module '"+t+"'");throw f.code="MODULE_NOT_FOUND",f}return p[t]}g.keys=function(){return Object.keys(p)},g.resolve=l,P.exports=g,g.id=48422},90670:(P,j,o)=>{var p={"./activity-icon.svg":45506,"./bankaccount-icon.svg":43332,"./bankcard-icon.svg":34731,"./call-icon.svg":723,"./case-icon.svg":53171,"./contract-icon.svg":40241,"./default-icon.svg":66840,"./document-icon.svg":85130,"./email-icon.svg":66037,"./facebook-icon.svg":37691,"./feed-icon.svg":81007,"./finapplication-icon.svg":86582,"./invoice-icon.svg":89270,"./lead-icon.svg":4229,"./meeting-icon.svg":82292,"./omnichat-icon.svg":50468,"./opportunity-icon.svg":62564,"./order-icon.svg":33301,"./paper-work-icon.svg":90723,"./photo-placeholder-icon.svg":43045,"./sysapproval-icon.svg":68039,"./sysfile-icon.svg":99518,"./task-icon.svg":6418,"./telegram-icon.svg":92888,"./visit-icon.svg":71986,"./whatsapp-icon.svg":71381};function g(t){var f=l(t);return o(f)}function l(t){if(!o.o(p,t)){var f=new Error("Cannot find module '"+t+"'");throw f.code="MODULE_NOT_FOUND",f}return p[t]}g.keys=function(){return Object.keys(p)},g.resolve=l,P.exports=g,g.id=90670},30268:(P,j,o)=>{o.d(j,{$:()=>E});/**
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */function p(w,m,h){var _=document.head||document.getElementsByTagName("head")[0],x=document.createElement("script");typeof m=="function"&&(h=m,m={}),m=m||{},h=h||function(){},x.type=m.type||"text/javascript",x.charset=m.charset||"utf8",x.async="async"in m?!!m.async:!0,x.src=w,m.attrs&&g(x,m.attrs),m.text&&(x.text=String(m.text));var I="onload"in x?l:t;I(x,h),x.onload||l(x,h),_.appendChild(x)}function g(w,m){for(var h in m)w.setAttribute(h,m[h])}function l(w,m){w.onload=function(){this.onerror=this.onload=null,m(null,w)},w.onerror=function(){this.onerror=this.onload=null,m(new Error("Failed to load "+this.src),w)}}function t(w,m){w.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,m(null,w))}}var f;function E(w,m){return"CKEDITOR"in window?Promise.resolve(CKEDITOR):typeof w!="string"||w.length<1?Promise.reject(new TypeError("CKEditor URL must be a non-empty string.")):(f||(f=E.scriptLoader(w).then(function(h){return m&&m(h),h})),f)}E.scriptLoader=function(w){return new Promise(function(m,h){p(w,function(_){if(f=void 0,_)return h(_);if(!window.CKEDITOR)return h(new Error("Script loaded from editorUrl doesn't provide CKEDITOR namespace."));m(CKEDITOR)})})};function y(w,m){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_;return function(){clearTimeout(_);for(var x=arguments.length,I=new Array(x),k=0;k<x;k++)I[k]=arguments[k];_=setTimeout(w.bind.apply(w,[h].concat(I)),m)}}},19801:(P,j,o)=>{var p=o(71252),g=o(74369),l=o(63721),t=o(59131),f=o(79772),E=o(22524),y=o(28399),w=o.n(y),m=o(62278),h=o(36486),_=o(40297),x=o(90983);const I="Translations/Custom/",k="CommonFeatures.UseCustomCoreLocalizations";var A=o(38071);const F=new t.InjectionToken("FETCH_MULTI_TRANSLATE_RESOURCES_SOURCES"),z=new t.InjectionToken("FETCH_MULTI_TRANSLATE_CUSTOM_RESOURCES_SOURCES");class N{constructor(e,n,a){this._resourceSources=e,this._customResourceSources=n,this._featureService=a}_getCustomResourcesSource(){return this._customResourceSources?.length?this._customResourceSources:[{prefix:_.Location.joinWithSlash((0,x.cI)(),I),suffix:".json"}]}getResourceOptions(){return(0,m.from)(this._featureService.getFeatureState(k)).pipe((0,m.map)(e=>e?this._getCustomResourcesSource():[]),(0,m.map)(e=>[...this._resourceSources??[],...e]))}static{this.\u0275fac=function(n){return new(n||N)(t.\u0275\u0275inject(F),t.\u0275\u0275inject(z,8),t.\u0275\u0275inject(A.wf))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac})}}const T=new t.InjectionToken("NestedTranslateLoader");class L{constructor(e){this._optionsProvider=e}_fetchTranslation(e){return fetch(e,{cache:"no-cache"}).then(n=>{if(!n.ok&&n.status!==304)throw new Error(`Loading translations failed: ${e} (${n.status})`);return n.json()})}_handleFetchResults(e){for(const a of e.filter(i=>i.status==="rejected"))console.error(a.reason);const n=e.filter(a=>a.status==="fulfilled").map(a=>a.value||{});return(0,y.merge)({},...n)}getTranslation(e){return this._optionsProvider.getResourceOptions().pipe((0,m.switchMap)(n=>{const a=n.map(({prefix:i,suffix:s})=>this._fetchTranslation(`${i}${e}${s}`));return(0,m.from)(Promise.allSettled(a)).pipe((0,m.map)(i=>this._handleFetchResults(i)))}))}static{this.\u0275fac=function(n){return new(n||L)(t.\u0275\u0275inject(N))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac})}}const U=new t.InjectionToken("Custom event name for get translations");class B extends f.TranslateLoader{constructor(e,n,a,i){super(),this.customEventService=e,this._store=n,this._getTranslationsEventName=a,this._nestedTranslateLoader=i,this._destroyed$=new m.Subject}getTranslation(e){return new m.Observable(n=>{(0,m.combineLatest)([this.customEventService.subscribe(this._getTranslationsEventName),this._nestedTranslateLoader?this._nestedTranslateLoader.getTranslation(e):(0,m.of)({})]).pipe((0,h.map)(([a,i])=>{const s=y.merge(a,i);return this._store.langs.forEach(b=>{const D=this._store.translations[b];this._store.translations[b]=y.merge(D,s)}),s}),(0,h.takeUntil)(this._destroyed$)).subscribe(a=>{n.next(a)},m.noop,()=>{n.complete()}),this.customEventService.createOutboundChannel(this._getTranslationsEventName).next()})}ngOnDestroy(){this._destroyed$.next()}static{this.\u0275fac=function(n){return new(n||B)(t.\u0275\u0275inject(E.Dj),t.\u0275\u0275inject(f.TranslateStore),t.\u0275\u0275inject(U),t.\u0275\u0275inject(T,8))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac})}}function tt(r){return()=>(0,m.lastValueFrom)(r.loadFeatureStates(),{defaultValue:null})}const Z={provide:t.APP_INITIALIZER,useFactory:tt,deps:[A.wf],multi:!0};class G{static _getResourceSourcesProviders(e){const{resourceSources:n,customResourceSources:a}=e??{},i=(a??[]).map(s=>({...s,provide:z,multi:!0}));return[{provide:F,useValue:n},...i]}static forRoot(e){const n=f.TranslateModule.forRoot({...e,loader:{provide:f.TranslateLoader,useClass:L}});return n.providers.push(N,...this._getResourceSourcesProviders(e)),n}static forNested(e){const n=f.TranslateModule.forRoot(e);return n.providers.push({provide:T,useClass:L},N,...this._getResourceSourcesProviders(e)),n}static with(e){return{ngModule:G,providers:[L,N,...this._getResourceSourcesProviders(e)]}}static{this.\u0275fac=function(n){return new(n||G)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:G})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}var Y=o(18081),O=o(56711),st;(function(r){r.CONSTANT="ConstantBusinessRuleExpression",r.ATTRIBUTE="AttributeBusinessRuleExpression",r.SYSSETTING="SysSettingBusinessRuleExpression",r.SYSVALUE="SysValueBusinessRuleExpression",r.COLUMN="ColumnBusinessRuleExpression",r.PARAMETER="ParameterBusinessRuleExpression",r.DATASOURCE="DataSourceBusinessRuleExpression",r.DETAIL="DetailBusinessRuleExpression",r.MODULE="ModuleBusinessRuleExpression",r.GROUP="GroupBusinessRuleExpression",r.TAB="TabBusinessRuleExpression",r.FORMULA="FormulaBusinessRuleExpression"})(st||(st={}));class gt{constructor(e){this._customEventService=e,this.GET_BUSINESS_RULE_ACTION_EVENT_NAME="getBusinessRuleAction",this.SET_BUSINESS_RULE_ACTION_EVENT_NAME="setBusinessRuleAction",this.GET_BUSINESS_RULE_ACTION_CAPTION_EVENT_NAME="getBusinessRuleActionCaption",this.SET_BUSINESS_RULE_ACTION_CAPTION_EVENT_NAME="setBusinessRuleActionCaption",this._subscriptions=[]}getBusinessRuleCaption(){const e=new m.ReplaySubject,n=this._customEventService.subscribe(this.SET_BUSINESS_RULE_ACTION_CAPTION_EVENT_NAME).pipe((0,h.first)()).subscribe(a=>e.next(a));return this._subscriptions.push(n),this._customEventService.createOutboundChannel(this.GET_BUSINESS_RULE_ACTION_CAPTION_EVENT_NAME).next(),e}getBusinessRuleAction(e){const n=new m.ReplaySubject;if(!e)return(0,m.of)(null);const a=this._customEventService.subscribe(this.SET_BUSINESS_RULE_ACTION_EVENT_NAME).pipe((0,h.first)()).subscribe(i=>n.next(i));return this._subscriptions.push(a),this._customEventService.createOutboundChannel(this.GET_BUSINESS_RULE_ACTION_EVENT_NAME).next(),n}ngOnDestroy(){this._subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(n){return new(n||gt)(t.\u0275\u0275directiveInject(E.Dj))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:gt,selectors:[["ng-component"]],decls:0,vars:0,template:function(n,a){},encapsulation:2})}}class ct extends gt{constructor(e){super(e),this.GET_ITEM_TYPES_EVENT_NAME="getItemTypesList",this.SET_ITEM_TYPES_EVENT_NAME="setItemTypesList",this.GET_FIELDS_EVENT_NAME="getFieldsList",this.SET_FIELDS_EVENT_NAME="setFieldsList",this.GET_PARAMETERS_EVENT_NAME="getParametersList",this.SET_PARAMETERS_EVENT_NAME="setParametersList",this.SET_DATASOURCES_EVENT_NAME="setDataSourcesList",this.GET_DATASOURCES_EVENT_NAME="getDataSourcesList",this.GET_GROUPS_EVENT_NAME="getGroupsList",this.SET_GROUPS_EVENT_NAME="setGroupsList",this.GET_TABS_EVENT_NAME="getTabsList",this.SET_TABS_EVENT_NAME="setTabsList",this.GET_MODULES_EVENT_NAME="getModulesList",this.SET_MODULES_EVENT_NAME="setModulesList",this.GET_DETAILS_EVENT_NAME="getDetailsList",this.SET_DETAILS_EVENT_NAME="setDetailsList",this.GET_ATTRIBUTES_EVENT_NAME="getAttributesList",this.SET_ATTRIBUTES_EVENT_NAME="setAttributesList"}getItems(e,n){const a=new m.ReplaySubject;if(e===""||n==="")return a;const i=this._customEventService.subscribe(e).subscribe(s=>a.next(s));return this._subscriptions.push(i),this._customEventService.createOutboundChannel(n).next(),a}getExpressionTypeList(){return this.getItems(this.SET_ITEM_TYPES_EVENT_NAME,this.GET_ITEM_TYPES_EVENT_NAME)}getItemsList(e){switch(e){case st.DETAIL:return this.getItems(this.SET_DETAILS_EVENT_NAME,this.GET_DETAILS_EVENT_NAME);case st.COLUMN:return this.getItems(this.SET_FIELDS_EVENT_NAME,this.GET_FIELDS_EVENT_NAME);case st.PARAMETER:return this.getItems(this.SET_PARAMETERS_EVENT_NAME,this.GET_PARAMETERS_EVENT_NAME);case st.DATASOURCE:return this.getItems(this.SET_DATASOURCES_EVENT_NAME,this.GET_DATASOURCES_EVENT_NAME);case st.GROUP:return this.getItems(this.SET_GROUPS_EVENT_NAME,this.GET_GROUPS_EVENT_NAME);case st.MODULE:return this.getItems(this.SET_MODULES_EVENT_NAME,this.GET_MODULES_EVENT_NAME);case st.TAB:return this.getItems(this.SET_TABS_EVENT_NAME,this.GET_TABS_EVENT_NAME);case st.ATTRIBUTE:return this.getItems(this.SET_ATTRIBUTES_EVENT_NAME,this.GET_ATTRIBUTES_EVENT_NAME)}return this.getItems("","")}static{this.\u0275fac=function(n){return new(n||ct)(t.\u0275\u0275inject(E.Dj))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ct,factory:ct.\u0275fac})}}var nt=o(23023),Q=o(67047),q=o(4091),lt=o(70987),c=o(55231),Tt=o(283);const Nt=r=>({ie:r});function wt(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",27),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext().$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onExpressionTypeSelected(i))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("value",n.value),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.displayValue," ")}}function Et(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"button",28),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275nextContext(2);const a=t.\u0275\u0275reference(26);t.\u0275\u0275property("value",n.value)("matMenuTriggerFor",a),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.displayValue," ")}}function vt(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,wt,2,2,"button",25)(2,Et,2,3,"button",26),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!a.isDataSourceType(n.value)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isDataSourceType(n.value))}}function Rt(r,e){if(r&1&&t.\u0275\u0275template(0,vt,3,2,"ng-container",24),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngForOf",n.expressionTypeList)}}function xe(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",29),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n.displayValue),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.displayValue," ")}}function le(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",27),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onExpressionTypeSelected(i))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(r&2){const n=e.$implicit;t.\u0275\u0275property("value",n.value),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.displayValue," ")}}function Ve(r,e){if(r&1&&t.\u0275\u0275template(0,le,2,2,"button",30),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngForOf",n.getDataSourceExpressionItems())}}class Be{get actionId(){return this._actionId}set actionId(e){this._actionId!==e&&(this._actionId=e,this._setBusinessRuleAction())}get selectedExpressionType(){return this._selectedExpressionType}set selectedExpressionType(e){this._selectedExpressionType&&this._selectedExpressionType.value===e.value&&this._selectedExpressionType.dataModelName===e.dataModelName||(this._selectedExpressionType=e,this.selectedItem=null,this._businessRuleAction.expressionType=e.value,this._businessRuleAction.dataModelName=e.value===st.COLUMN?e.dataModelName:null,this.ruleActionChanged.emit(this._businessRuleAction))}get selectedExpressionTypeCaption(){return this.selectedExpressionType?this.selectedExpressionType.displayValue:"<?>"}get selectedItem(){return this._selectedItem}set selectedItem(e){const n=e?e.value:null;(this._selectedItem?this._selectedItem.value:null)!==n&&(this._selectedItem=e),this.businessRuleActionForm.patchValue({expressionItem:e?e.displayValue:""})}get isIE(){return this._platform.TRIDENT}constructor(e,n,a){this._visibleItemActionService=e,this._formBuilder=n,this._platform=a,this._syncSubject=new m.Subject,this._selectedExpressionType=null,this._selectedItem=null,this._destroyed=new m.Subject,this.expressionTypeList=[],this.itemsList=[],this.filteredItemsList=[],this.clearRule=new t.EventEmitter,this.ruleActionChanged=new t.EventEmitter}_setBusinessRuleAction(){this._visibleItemActionService.getBusinessRuleAction(this._actionId).pipe((0,h.takeUntil)(this._destroyed)).subscribe(e=>{e&&(this._businessRuleAction=e,this._syncSubject.next())})}_filterItemsList(e){e?this.filteredItemsList=this.itemsList.filter(n=>n.displayValue.toLowerCase().indexOf(e.toLowerCase())>=0):this.filteredItemsList=this.itemsList}_loadExpressionTypesList(){return this._visibleItemActionService.getExpressionTypeList()}_loadItemsList(e){return this._visibleItemActionService.getItemsList(e.value)}_findLookupByValue(e,n){return e.find(a=>a.value===n)}_findLookupByCaption(e,n){return e.find(a=>a.displayValue.toLowerCase()===n.toLowerCase())}_selectItem(e){this.selectedItem=this._findLookupByCaption(this.itemsList,e),this._filterItemsList(""),this._businessRuleAction.attributeName=this.selectedItem?this.selectedItem.name:null,this._businessRuleAction.attributeId=this.selectedItem?this.selectedItem.value:null,this.ruleActionChanged.emit(this._businessRuleAction)}_buildFormGroup(){return this._formBuilder.group({expressionItem:["",[O.Validators.required]]})}_initFormGroup(){this.businessRuleActionForm.get("expressionItem").valueChanges.subscribe(e=>{this._filterItemsList(e)})}onExpressionTypeSelected(e){this.selectedExpressionType=e,this._visibleItemActionService.getItemsList(this.selectedExpressionType.value).pipe((0,h.takeUntil)(this._destroyed)).subscribe(n=>{this.itemsList=n,this._selectItem("")})}ngOnInit(){this.businessRuleActionForm=this._buildFormGroup(),this._syncSubject.pipe((0,h.takeUntil)(this._destroyed)).subscribe(()=>{this._visibleItemActionService.getBusinessRuleCaption().pipe((0,h.takeUntil)(this._destroyed)).subscribe(e=>{this.caption=e}),this._loadExpressionTypesList().pipe((0,h.takeUntil)(this._destroyed)).subscribe(e=>{this.expressionTypeList=e;let n=this._findLookupByValue(e,this._businessRuleAction.expressionType);const a=this._findLookupByValue(e,st.DATASOURCE);!n&&a&&(n=a.items.find(i=>i.value===this._businessRuleAction.expressionType&&i.dataModelName===this._businessRuleAction.dataModelName,this)),this.selectedExpressionType=n,this._loadItemsList(this.selectedExpressionType).pipe((0,h.takeUntil)(this._destroyed)).subscribe(i=>{this.itemsList=i,this.selectedItem=this._findLookupByValue(i,this._businessRuleAction.attributeId),this._initFormGroup()})})}),this._setBusinessRuleAction()}onItemFieldFocus(){this.filteredItemsList=this.itemsList}onItemSelected(e){this._selectItem(e.option.value)}onItemsAutocompleteClosed(e){this.businessRuleActionForm.patchValue({expressionItem:e}),this._filterItemsList(""),this._selectItem(e)}onClear(){this.clearRule.emit()}isDataSourceType(e){return e===st.DATASOURCE}getDataSourceExpressionItems(){const e=this.expressionTypeList.find(n=>n.value===st.DATASOURCE);return e&&e.items}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(n){return new(n||Be)(t.\u0275\u0275directiveInject(ct),t.\u0275\u0275directiveInject(O.FormBuilder),t.\u0275\u0275directiveInject(Y.Platform))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Be,selectors:[["ts-business-rule-visible-item-action"]],inputs:{actionId:"actionId"},outputs:{clearRule:"clearRule",ruleActionChanged:"ruleActionChanged"},features:[t.\u0275\u0275ProvidersFeature([ct])],decls:28,vars:9,consts:[["expressionTypeMenu","matMenu"],["input",""],["auto","matAutocomplete"],["dataSources","matMenu"],[1,"business-rule-visible-item-action-form",3,"formGroup","ngClass"],[1,"caption-ct"],[1,"caption"],[1,"clear-btn",3,"click"],[1,"expression-ct"],[1,"expression-type"],["mat-button","","disableRipple","true",1,"expression-type-btn","disable-overlay",3,"matMenuTriggerFor"],[1,"expression-type-caption-ct"],[1,"expression-type-caption"],[1,"arrow-down"],[1,"expression-type-menu"],["matMenuContent",""],[1,"item-ct"],["floatLabel","never",1,"item-form-field"],[1,"combobox-edit-item"],["type","text","name","expression-item","matInput","","required","","spellcheck","false","formControlName","expressionItem",3,"focus","matAutocomplete"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[3,"optionSelected","closed"],["class","item-list-option",3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["mat-menu-item","","class","expression-type-menu-item",3,"value","click",4,"ngIf"],["mat-menu-item","","class","expression-type-menu-item",3,"value","matMenuTriggerFor",4,"ngIf"],["mat-menu-item","",1,"expression-type-menu-item",3,"click","value"],["mat-menu-item","",1,"expression-type-menu-item",3,"value","matMenuTriggerFor"],[1,"item-list-option",3,"value"],["mat-menu-item","","class","expression-type-menu-item",3,"value","click",4,"ngFor","ngForOf"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",4)(1,"div",5)(2,"span",6),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span",7),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onClear())}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",8)(6,"div",9)(7,"button",10)(8,"span",11)(9,"span",12),t.\u0275\u0275text(10),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(11,"span",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"mat-menu",14,0),t.\u0275\u0275template(14,Rt,1,1,"ng-template",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(15,"div",16)(16,"mat-form-field",17)(17,"div",18)(18,"input",19,1),t.\u0275\u0275listener("focus",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onItemFieldFocus())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(20,"div",20),t.\u0275\u0275element(21,"div",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"mat-autocomplete",22,2),t.\u0275\u0275listener("optionSelected",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onItemSelected(b))})("closed",function(){t.\u0275\u0275restoreView(i);const b=t.\u0275\u0275reference(19);return t.\u0275\u0275resetView(a.onItemsAutocompleteClosed(b.value))}),t.\u0275\u0275template(24,xe,2,2,"mat-option",23),t.\u0275\u0275elementEnd()()()()()(),t.\u0275\u0275elementStart(25,"mat-menu",null,3),t.\u0275\u0275template(27,Ve,1,1,"ng-template",15),t.\u0275\u0275elementEnd()}if(n&2){const i=t.\u0275\u0275reference(13),s=t.\u0275\u0275reference(23);t.\u0275\u0275property("formGroup",a.businessRuleActionForm)("ngClass",t.\u0275\u0275pureFunction1(7,Nt,a.isIE)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(a.caption),t.\u0275\u0275advance(4),t.\u0275\u0275property("matMenuTriggerFor",i),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(a.selectedExpressionTypeCaption),t.\u0275\u0275advance(8),t.\u0275\u0275property("matAutocomplete",s),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngForOf",a.filteredItemsList)}},dependencies:[_.NgClass,_.NgForOf,_.NgIf,nt.MatLegacyButton,Q.MatLegacyMenu,Q.MatLegacyMenuItem,Q.MatLegacyMenuTrigger,Q.MatLegacyMenuContent,q.MatLegacyFormField,lt.MatLegacyInput,c.MatLegacyAutocomplete,c.MatLegacyAutocompleteTrigger,Tt.MatLegacyOption,O.\u0275NgNoValidate,O.DefaultValueAccessor,O.NgControlStatus,O.NgControlStatusGroup,O.RequiredValidator,O.FormGroupDirective,O.FormControlName],styles:[".business-rule-visible-item-action-form[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline;justify-content:flex-start}.business-rule-visible-item-action-form.ie[_ngcontent-%COMP%]   .caption-ct[_ngcontent-%COMP%]{margin-bottom:6px}.business-rule-visible-item-action-form.ie[_ngcontent-%COMP%]   .expression-type-btn[_ngcontent-%COMP%]{margin-bottom:-12px}.caption-ct[_ngcontent-%COMP%]{flex-basis:60%;flex-shrink:0;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.caption-ct[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{margin-right:5px;color:#4e7bd8;font-size:14px}.caption-ct[_ngcontent-%COMP%]   .clear-btn[_ngcontent-%COMP%]{display:none;color:#d3d3d3;cursor:pointer;width:16px;height:16px;margin:4px 0 0 5px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTYgMTYiPjxnIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2E0YTRhNCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIj48cGF0aCBkPSJNMTMsMTNMMywzIi8+PHBhdGggZD0iTTEzLDNMMywxMyIvPjwvZz48L3N2Zz4=)}.caption-ct[_ngcontent-%COMP%]:hover   .clear-btn[_ngcontent-%COMP%]{display:inline-block}.expression-ct[_ngcontent-%COMP%]{flex-basis:100%;min-width:35%;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:baseline}.expression-ct[_ngcontent-%COMP%]   .expression-type[_ngcontent-%COMP%]{flex-basis:auto;margin-right:5px;flex-shrink:0}.expression-ct[_ngcontent-%COMP%]   .expression-type[_ngcontent-%COMP%]   .expression-type-btn[_ngcontent-%COMP%]{padding:0 7px}.expression-ct[_ngcontent-%COMP%]   .expression-type[_ngcontent-%COMP%]   .expression-type-btn[_ngcontent-%COMP%]   .expression-type-caption-ct[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.expression-ct[_ngcontent-%COMP%]   .expression-type[_ngcontent-%COMP%]   .expression-type-btn[_ngcontent-%COMP%]   .expression-type-caption-ct[_ngcontent-%COMP%]   .arrow-down[_ngcontent-%COMP%]{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:1px 4px 0;padding-bottom:1px;color:#000}.expression-ct[_ngcontent-%COMP%]   .expression-type[_ngcontent-%COMP%]   .expression-type-btn[_ngcontent-%COMP%]   .expression-type-caption-ct[_ngcontent-%COMP%]   .expression-type-caption[_ngcontent-%COMP%]{font-size:14px;text-transform:none}.expression-ct[_ngcontent-%COMP%]   .expression-type[_ngcontent-%COMP%]   .expression-type-btn[_ngcontent-%COMP%]:hover   .expression-type-caption-ct[_ngcontent-%COMP%]   .expression-type-caption[_ngcontent-%COMP%]{color:#10a0e3}.expression-ct[_ngcontent-%COMP%]   .item-ct[_ngcontent-%COMP%]{flex-basis:100%}.expression-ct[_ngcontent-%COMP%]   .item-ct[_ngcontent-%COMP%]   .item-form-field[_ngcontent-%COMP%]{width:100%}.expression-ct[_ngcontent-%COMP%]   .item-ct[_ngcontent-%COMP%]   .item-form-field[_ngcontent-%COMP%]   .combobox-edit-item[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}.item-list-option[_ngcontent-%COMP%]{font-size:14px;height:42px;line-height:42px}.expression-type-menu-item[_ngcontent-%COMP%]{width:100%;font-size:14px;height:2.3em;line-height:2.3em;padding:0 35px}"]})}}var _t=o(52989),X=o(86464),de=o(6530);class qn{static{this.Providers={ENTITY_SCHEMA:"EntitySchemaStructureExplorerDataProvider"}}}class an extends gt{constructor(e){super(e),this.GET_LEFT_EXPRESSIONS_LIST_EVENT_NAME="getLeftExpressionsList",this.SET_LEFT_EXPRESSIONS_LIST_EVENT_NAME="setLeftExpressionsList",this.GET_COLUMN_EXPRESSION_DISPLAY_VALUE_EVENT_NAME="getColumnExpressionDisplayValue",this.SET_COLUMN_EXPRESSION_DISPLAY_VALUE_EVENT_NAME="setColumnExpressionDisplayValue"}static _sortExpressionList(e,n){return e.displayValue.toLowerCase().localeCompare(n.displayValue.toLowerCase())}getLeftExpressionsList(e){const n=new m.ReplaySubject,a=this._customEventService.subscribe(this.SET_LEFT_EXPRESSIONS_LIST_EVENT_NAME).pipe((0,h.first)()).subscribe(i=>{const s=[...i].sort(an._sortExpressionList);n.next(s)});return this._subscriptions.push(a),this._customEventService.createOutboundChannel(this.GET_LEFT_EXPRESSIONS_LIST_EVENT_NAME).next(e),n}getColumnExpressionDisplayValue(e,n){const a=new m.ReplaySubject,i=this._customEventService.subscribe(this.SET_COLUMN_EXPRESSION_DISPLAY_VALUE_EVENT_NAME).pipe((0,h.first)()).subscribe(s=>a.next(s));return this._subscriptions.push(i),this._customEventService.createOutboundChannel(this.GET_COLUMN_EXPRESSION_DISPLAY_VALUE_EVENT_NAME).next({rootEntitySchemaUId:e,metaPath:n}),a}static{this.\u0275fac=function(n){return new(n||an)(t.\u0275\u0275inject(E.Dj))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:an,factory:an.\u0275fac})}}var me=o(13053),Ot=o(76923),Lt=o(6744);function Fe(r){switch(r){case X.r.Integer:case X.r.Float:case X.r.FLOAT1:case X.r.FLOAT2:case X.r.FLOAT3:case X.r.FLOAT4:case X.r.FLOAT8:case X.r.Money:return[{func:Lt.q.Sum,captionResource:"Sum"},{func:Lt.q.Avg,captionResource:"Avg"},{func:Lt.q.Max,captionResource:"MaxValue"},{func:Lt.q.Min,captionResource:"MinValue"},{func:Lt.q.TopOne,captionResource:"TopOne"}];case X.r.Date:case X.r.DateTime:return[{func:Lt.q.Max,captionResource:"MaxDate"},{func:Lt.q.Min,captionResource:"MinDate"},{func:Lt.q.TopOne,captionResource:"TopOne"}];default:return[{func:Lt.q.TopOne,captionResource:"TopOne"}]}}var ve;(function(r){r.Selected="selected",r.Canceled="canceled"})(ve||(ve={}));var ge=o(26594),jt=o(29957),ee=o(88033),Gt=o(88763),oe=o(53135),Zt=o(1606),Ht=o(89422);class qe{constructor(){this._defaultTabIndex=0,this._defaultRole="application",this._keyboardEventHandlerMap=new Map([[Ht.Key.Tab,this._onTabPressed.bind(this)],[Ht.Key.Enter,this._onEnterPressed.bind(this)],[Ht.Key.Escape,this._onEscapePressed.bind(this)]]),this._element=(0,t.inject)(t.ElementRef).nativeElement,this._document=(0,t.inject)(_.DOCUMENT),this._disableInert=!1,this._role=this._defaultRole,this._tabIndex=this._defaultTabIndex,this.enableAriaHidden=!0}get _isElementFocused(){return this._element.matches(":focus")}get _isElementFocusedWithin(){return this._element.matches(":focus-within")}set role(e){this._role=e||this._defaultRole}set tabIndex(e){this._tabIndex=e||this._defaultTabIndex}set disableInert(e){this._disableInert=e,this._disableInert?this._removeTabRedirectElement():this._createTabRedirectElement()}onFocusin({target:e}){this._isElementFocused||(this._lastFocusedElement=e),this._setTabRedirectElementFocusable(!1),this._setHostChildrenAriaHidden()}onFocusout({target:e}){this._element.isSameNode(e)&&this._setHostChildrenInert(!1),this._setTabRedirectElementFocusable(!this._isElementFocusedWithin)}onKeydown(e){this._keyboardEventHandlerMap.get(e.key)?.(e)}_getNextElementToFocus(){return[this._lastFocusedElement,this.focusEnterElement,(0,Zt.tabbable)(this._element)?.[0]].find(n=>!!n&&(0,Zt.isTabbable)(n))}_onTabPressed({shiftKey:e}){!e&&this._isElementFocused&&this._setHostChildrenInert(!0)}_onEnterPressed(e){this._isElementFocused&&(e.preventDefault(),this._getNextElementToFocus()?.focus())}_onEscapePressed(e){this._isElementFocused||e.defaultPrevented||(e.stopPropagation(),this._element.focus())}_createTabRedirectElement(){this._tabRedirectElement||(this._tabRedirectElement=this._document.createElement("div"),this._tabRedirectElement.tabIndex=0,this._tabRedirectElement.addEventListener("focus",()=>this._element.focus()),this._element.insertAdjacentElement("afterend",this._tabRedirectElement))}_removeTabRedirectElement(){this._tabRedirectElement?.remove(),this._tabRedirectElement=null}_setTabRedirectElementFocusable(e){if(!this._tabRedirectElement)return;const n=e?0:-1;this._tabRedirectElement.tabIndex!==n&&(this._tabRedirectElement.tabIndex=n)}_setHostChildrenInert(e){this._disableInert||this._updateHostChildrenAttribute("inert",e)}_setHostChildrenAriaHidden(){this.enableAriaHidden&&this._updateHostChildrenAttribute("aria-hidden",this._isElementFocused)}_updateHostChildrenAttribute(e,n=!0){Array.from(this._element.children).forEach(a=>n?a.setAttribute(e,"true"):a.removeAttribute(e))}ngAfterViewInit(){this._disableInert||this._createTabRedirectElement()}ngOnDestroy(){this._removeTabRedirectElement()}static{this.\u0275fac=function(n){return new(n||qe)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:qe,selectors:[["","crtKeyboardFocusContainer",""]],hostVars:2,hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("focusin",function(s){return a.onFocusin(s)})("focusout",function(s){return a.onFocusout(s)})("keydown",function(s){return a.onKeydown(s)}),n&2&&t.\u0275\u0275attribute("role",a._role)("tabindex",a._tabIndex)},inputs:{focusEnterElement:[t.\u0275\u0275InputFlags.None,"crtKeyboardFocusContainerFocusEnterElement","focusEnterElement"],enableAriaHidden:[t.\u0275\u0275InputFlags.None,"crtKeyboardFocusContainerEnableAriaHidden","enableAriaHidden"],role:[t.\u0275\u0275InputFlags.None,"crtKeyboardFocusContainerRole","role"],tabIndex:[t.\u0275\u0275InputFlags.None,"crtKeyboardFocusContainerTabIndex","tabIndex"],disableInert:[t.\u0275\u0275InputFlags.HasDecoratorInputTransform,"crtKeyboardFocusContainerDisableInert","disableInert",t.booleanAttribute]},exportAs:["crtKeyboardFocusContainer"],standalone:!0,features:[t.\u0275\u0275InputTransformsFeature]})}}class Gn{transform(e,n){return!e||!n?e:e.filter(a=>!a.parentId||n.includes(a.parentId))}static{this.\u0275fac=function(n){return new(n||Gn)}}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"filterStructureItems",type:Gn,pure:!1})}}const Ca=["searchInput"],Ie=r=>({rtl:r}),ne=(r,e,n,a)=>({"checkbox-is-visible":r,"even-row":e,"child-item":n,"group-item":a}),ut=r=>({"expanded-icon":r}),xt=r=>({"even-row":r});function Vt(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",20),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.caption," ")}}function Ut(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",21),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(),s=i.$implicit,b=i.index,D=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(D.onBreadCrumbsClick(s,b))}),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"span",22),t.\u0275\u0275text(4," > "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.caption," ")}}function Xt(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Vt,3,1,"ng-container",19)(2,Ut,5,1,"ng-container",19),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.last;t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n)}}function he(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",17),t.\u0275\u0275template(1,Xt,3,2,"ng-container",18),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.breadCrumbs)}}function ye(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"label"),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275attribute("title",t.\u0275\u0275pipeBind1(1,2,n.fieldsTabTooltip$)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,4,n.fieldsTabCaption$)," ")}}function qt(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",33),t.\u0275\u0275listener("keydown.space",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext().$implicit,b=t.\u0275\u0275nextContext(3);return i.preventDefault(),t.\u0275\u0275resetView(b.onItemChecked(s))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(1,ut,a.expandedGroups==null?null:a.expandedGroups.includes(n.id)))}}function Oe(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",34),t.\u0275\u0275listener("keydown.space",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext().$implicit,b=t.\u0275\u0275nextContext(3);return i.preventDefault(),t.\u0275\u0275resetView(b.onItemChecked(s))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("checked",a.isItemChecked(n))}}function ta(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-icon",35),r&2){const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("svgIcon",a.getItemIcon(n))}}function fn(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",28),t.\u0275\u0275listener("click",function(i){const s=t.\u0275\u0275restoreView(n).$implicit,b=t.\u0275\u0275nextContext(3);return i.preventDefault(),t.\u0275\u0275resetView(b.onItemChecked(s))})("mouseover",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.hovered=i.id)})("mouseleave",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.hovered=null)}),t.\u0275\u0275template(1,qt,1,3,"div",29)(2,Oe,1,1,"mat-checkbox",30)(3,ta,1,1,"mat-icon",31),t.\u0275\u0275elementStart(4,"div",32),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()()}if(r&2){const n=e.$implicit,a=e.index,i=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction4(6,ne,(i.hovered===n.id||i.isItemChecked(n))&&n.type!=="group",a%2,n.type==="child",n.type==="group")),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.type==="group"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.type!=="group"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.isShowTypeIcons()),t.\u0275\u0275advance(),t.\u0275\u0275property("title",i.getCaption(n)),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",i.getCaption(n)," ")}}function Tn(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div")(1,"div",26),t.\u0275\u0275template(2,fn,6,11,"div",27),t.\u0275\u0275pipe(3,"filterStructureItems"),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind2(3,1,n.data.items,n.expandedGroups))}}function De(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-tab",23),t.\u0275\u0275template(1,ye,4,6,"ng-template",24)(2,Tn,4,4,"div",25),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(20);t.\u0275\u0275property("disabled",!n.hasLoaded),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.data.items.length>0)("ngIfElse",a)}}function fi(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",38),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onItemDrilledDown(i))}),t.\u0275\u0275elementStart(1,"div",39),t.\u0275\u0275listener("keydown.space",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onItemDrilledDown(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"div",40),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()}if(r&2){const n=e.$implicit,a=e.index;t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(2,xt,a%2)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(n.caption)}}function $n(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div")(1,"div",26),t.\u0275\u0275template(2,fi,4,4,"div",37),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.data.relatedItems)}}function kt(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-tab",36),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275template(2,$n,3,1,"div",25),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(20);t.\u0275\u0275property("label",t.\u0275\u0275pipeBind1(1,4,n.relatedObjectsTabCaption$))("disabled",!n.hasLoaded),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.data.relatedItems.length>0)("ngIfElse",a)}}function yt(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",42)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),r&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"StructureExplorerDialog.NoData")))}function St(r,e){if(r&1&&t.\u0275\u0275template(0,yt,4,3,"div",41),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",n.hasLoaded)}}class Bt{constructor(e,n,a,i,s,b,D,W,ot,It){this._data=e,this.dialogRef=n,this.translateService=a,this._directionality=i,this._matIconRegistry=s,this._domSanitizer=b,this._maskService=D,this._changeDetector=W,this._translateService=ot,this._featureValues=It,this._afterViewInit$=new m.Subject,this._destroyed$=new m.Subject,this.expandedGroups=[],this.rootItem=null,this.isBackWardReference=!1,this.selectedItems=[],this.selectedTabIndex=0,this.fieldsTabCaption$=new m.ReplaySubject(1),this.fieldsTabTooltip$=new m.ReplaySubject(1),this.relatedObjectsTabCaption$=new m.ReplaySubject(1),this.searchKey=null,this.data=Bt._getEmptyData(),this._fullData=Bt._getEmptyData(),this._provider=e.providers[0],this._registerIcons(),this.viewConfig=this._data.viewConfig}static _includeSubstring(e,n){const a=e.toLowerCase(),i=n.toLowerCase();return a.indexOf(i)!==-1}static _getEmptyData(){return{items:[],relatedItems:[]}}_registerIcons(){[{name:"binary-icon",icon:o(96323)},{name:"boolean-icon",icon:o(86174)},{name:"color-icon",icon:o(70313)},{name:"date-icon",icon:o(5254)},{name:"date-time-icon",icon:o(88552)},{name:"float-icon",icon:o(87232)},{name:"function-icon",icon:o(31242)},{name:"guid-icon",icon:o(62907)},{name:"image-icon",icon:o(91627)},{name:"image-link-icon",icon:o(39378)},{name:"integer-icon",icon:o(17984)},{name:"lookup-icon",icon:o(78764)},{name:"string-icon",icon:o(43319)},{name:"time-icon",icon:o(98535)},{name:"rich-text-icon",icon:o(44344)},{name:"phone-text-icon",icon:o(21782)},{name:"autonumber-icon",icon:o(46844)},{name:"email-text-icon",icon:o(26538)},{name:"web-text-icon",icon:o(73672)},{name:"small-close-icon",icon:o(96832)}].forEach(({name:n,icon:a})=>{this._matIconRegistry.addSvgIconLiteral(n,this._domSanitizer.bypassSecurityTrustHtml(a))})}_getFieldTabCaption(e){const n=this.data?.items?.length,i=this.searchKey&&this.searchKey!==jt.String.Empty?` (${n})`:"",s=this.viewConfig?.fieldsTabTranslateKey||"StructureExplorerDialog.FieldsTabCaption",b=this.translateService.instant(s);return jt.String.Format(b,e,i)}_getRelatedObjectsTabCaption(){const e=this.data?.relatedItems?.length,a=this.searchKey&&this.searchKey!==jt.String.Empty?` (${e})`:"",i=this.translateService.instant("StructureExplorerDialog.RelatedObjectsTabCaption");return jt.String.Format(i,a)}_updateBreadCrumbsByIndex(e){this._provider.updateBreadCrumbsByIndex(e)}_filterData(e){!e||e===""?(this.data.items=this._fullData.items,this.data.relatedItems=this._fullData.relatedItems):(this.data.items=this._fullData.items.filter(n=>Bt._includeSubstring(n.caption,e)),this.data.relatedItems=this._fullData.relatedItems.filter(n=>Bt._includeSubstring(n.caption,e)))}_initSelectedItems(){this.selectedItems=this._provider.initialState.getSelectedItems(),this.selectedItems.length>1&&!this._data.enableMultiSelection&&(this.selectedItems=[])}_isFullDataEmpty(){return this._fullData.items.length===0&&this._fullData.relatedItems.length===0}_focusSearchInput(){(0,m.timer)(0).subscribe(()=>{this._searchInputElement.focused=!0,this._searchInputElement.focus()})}_selectRelatedItemsTab(){this.selectedTabIndex=1}_selectItemsTab(){this.selectedTabIndex=0}_transformToCountAggregationItem(e){const n=e.data;if(e.columnPath=this._formReferenceColumnPath(e?.data?.item?.path),this._isForwardReferenceItem(e)){const a=e?.columnPath?.split(".");a.pop(),e.columnPath=`${a.join(".")}.Id`}return n.item.attributeType="Aggregation",n.item.dataValueType=X.r.Integer,n.dataValueType=X.r.Integer,e.data.item.aggregationFunction=Lt.q.Count,e.data.item.aggregationFunctionCaption=this.getAggregationCaption(Lt.q.Count),e.id=`${e.id}.${Lt.q.Count}`,e.metaPath=`${e.metaPath}.${Lt.q.Count}`,e}_formReferenceColumnPath(e){const n=this.breadCrumbs.filter(a=>!a.data.isDataSource);return n.map((a,i)=>{const s=a?.data?.item?.path?.split(".")[0],b=e?.split(".").pop();return i===n.length-1?`${s}.${b}`:s}).join(".")}_isAggregationOrBackReferenceItem(e){return e?.data?.item?.attributeType==="Aggregation"||e?.data?.item?.attributeType==="BackReference"}_isForwardReferenceItem(e){return e?.data?.item?.attributeType==="Own"}_handleGroupClick(e){const n=this.expandedGroups.indexOf(e.id);n!==-1?this.expandedGroups.splice(n,1):this.expandedGroups.push(e.id)}_buildBackReferenceItems(e){const a={...{useBackwardRootPath:!1,useAggregationFunctionColumns:!0},...this.viewConfig?.backwardItemsConfig};if(a.useBackwardRootPath)return this.generateBackReferenceItems(e);if(a.useAggregationFunctionColumns){const i=(0,y.cloneDeep)(this.rootItem),s=this._transformToCountAggregationItem(i),b=this.generateAggregationItems(e);return[s,...b]}return[]}generateBackReferenceItems(e){const n=[];return e.forEach(a=>{const i=(0,y.cloneDeep)(a);i.columnPath=this._formReferenceColumnPath(i?.data?.item?.path),n.push(i)}),n}generateAggregationItems(e){const n=[];return e.forEach(a=>{const i=a.data?.dataValueType;let s=Fe(i);this._featureValues.StructureExplorerTopOneFunction||(s=s.filter(b=>b.func!==Lt.q.TopOne)),!(s.length===0||i===X.r.Lookup||i===X.r.Image||i===X.r.IMAGELOOKUP)&&(a.type="group",n.push(a),s.forEach(b=>{const{func:D,captionResource:W}=b,ot=(0,y.cloneDeep)(a);ot.id=`${ot.id}.${D}`,ot.parentId=a.id,ot.metaPath=`${ot.metaPath}.${D}`,ot.type="child",ot.data.item.attributeType="Aggregation",ot.data.item.aggregationFunction=D,ot.data.item.aggregationFunctionCaption=this.getAggregationCaption(W),ot.data.item.referenceSchemaName=this.rootItem.data?.item.referenceSchemaName,ot.columnPath=this._formReferenceColumnPath(ot?.data?.item?.path),n.push(ot)}))}),n}getAggregationCaption(e){return this._translateService.instant("AggregationNames."+e)}ngOnInit(){this._provider.caption$.pipe((0,h.takeUntil)(this._destroyed$)).subscribe(e=>{this._schemaName=e}),this.rootItem=this._provider.initialState.getRootItem(),this._initSelectedItems(),this.prepareBreadCrumbs(),(0,m.forkJoin)({dataLoaded:this.prepareData(),afterViewInit:this._afterViewInit$}).pipe((0,h.takeUntil)(this._destroyed$)).subscribe(()=>{this._focusSearchInput()})}ngAfterViewInit(){this._afterViewInit$.next(),this._afterViewInit$.complete()}prepareBreadCrumbs(){this.breadCrumbs=[],this._provider.breadCrumbs$.pipe((0,h.takeUntil)(this._destroyed$)).subscribe(e=>{this.breadCrumbs=e})}prepareData(){return this.hasLoaded=!1,this._maskService.showBodyMask({delay:1e3}),this.data.items=[],this.data.relatedItems=[],this._provider.getItems(this.rootItem).pipe((0,h.catchError)(e=>(console.warn(`StructureExplorerComponent#prepareData error: ${e}`),(0,m.of)({items:[],relatedItems:[]}))),(0,h.map)(e=>{this._fullData=e,this.isBackWardReference&&(this._fullData.items=this._buildBackReferenceItems(this._fullData.items)),this.data.hideItems=this._fullData.hideItems,this.onSearchKeyChanged(this.searchKey),this.hasRelatedItems=e.relatedItems.length>0,this.showItemsTab=e.hideItems!==!0,this.showItemsTab||this._selectRelatedItemsTab(),this._maskService.hideBodyMask(),this.hasLoaded=!0}))}onSearchKeyChanged(e){this.searchKey=e,this._isFullDataEmpty()||this._filterData(this.searchKey);const n=this.isBackWardReference?this.rootItem.shortCaption||this.rootItem.caption:this._schemaName,a=this.isBackWardReference?this.rootItem.caption:this._schemaName;this.fieldsTabCaption$.next(this._getFieldTabCaption(n)),this.fieldsTabTooltip$.next(this._getFieldTabCaption(a));const i=this._getRelatedObjectsTabCaption();this.relatedObjectsTabCaption$.next(i)}onBreadCrumbsClick(e,n){this._updateBreadCrumbsByIndex(n),this.onItemDrilledDown(e.id?e:null)}onItemDrilledDown(e){this.isBackWardReference=this._isAggregationOrBackReferenceItem(e)||this.isBackWardReference,this.rootItem=e,this.prepareBreadCrumbs(),this._data.collectDrillDownItems||(this.selectedItems=[]),this.searchKey="",this.expandedGroups=[],this.prepareData().pipe((0,h.takeUntil)(this._destroyed$)).subscribe(()=>{this._changeDetector.detectChanges(),this._selectItemsTab(),this._focusSearchInput()})}onItemChecked(e){if(e.type==="group"){this._handleGroupClick(e);return}if(!this.isItemChecked(e))this._data.enableMultiSelection||(this.selectedItems=[]),this.selectedItems.push(e);else{const n=this.selectedItems.map(({metaPath:a})=>a).indexOf(e.metaPath);this.selectedItems.splice(n,1)}}onItemSelected(){this.dialogRef.close({selectedItems:this.selectedItems,dialogResult:ve.Selected})}onCancelled(){this.dialogRef.close({selectedItems:[],dialogResult:ve.Canceled})}isItemChecked(e){return this.selectedItems.map(({metaPath:n})=>n).includes(e.metaPath)}isRtl(){return this._directionality.value==="rtl"}getItemIcon(e){if(e.iconName)return e.iconName;if(this._isAggregationOrBackReferenceItem(e))return"function-icon";switch(e.data.dataValueType){case X.r.Boolean:return"boolean-icon";case X.r.Date:return"date-icon";case X.r.Color:return"color-icon";case X.r.Guid:return"guid-icon";case X.r.DateTime:return"date-time-icon";case X.r.Time:return"time-icon";case X.r.Integer:return"integer-icon";case X.r.Lookup:return"lookup-icon";case X.r.Blob:case X.r.FILE:return"binary-icon";case X.r.Image:return"image-icon";case X.r.IMAGELOOKUP:return"image-link-icon";case X.r.Float:case X.r.FLOAT1:case X.r.FLOAT2:case X.r.FLOAT3:case X.r.FLOAT4:case X.r.FLOAT8:case X.r.Money:return"float-icon";case X.r.RICH_TEXT:return"rich-text-icon";case X.r.PHONE_TEXT:return"phone-text-icon";case X.r.WEB_TEXT:return"web-text-icon";case X.r.EMAIL_TEXT:return"email-text-icon";case X.r.Text:case X.r.LOCALIZABLE_STRING:case X.r.HASH_TEXT:case X.r.SECURE_TEXT:case X.r.SHORT_TEXT:case X.r.MEDIUM_TEXT:case X.r.MAXSIZE_TEXT:case X.r.LONG_TEXT:case X.r.METADATA_TEXT:default:return"string-icon"}}getCaption(e){return this._isAggregationOrBackReferenceItem(e)?e.data?.item?.aggregationFunctionCaption:e.caption}ngOnDestroy(){this._updateBreadCrumbsByIndex(0),this._maskService.hideBodyMask(),this._destroyed$.next(),this._destroyed$.complete()}isShowTypeIcons(){return!this.viewConfig?.hideTypeIcons}isShowBreadcrumbs(){return!this.viewConfig?.hideBreadcrumbs}getTitle(){const e=this.viewConfig?.titleTranslateKey||"StructureExplorerDialog.Title";return this._translateService.get(e)}static{this.\u0275fac=function(n){return new(n||Bt)(t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA),t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(me.Directionality),t.\u0275\u0275directiveInject(_t.MatIconRegistry),t.\u0275\u0275directiveInject(p.DomSanitizer),t.\u0275\u0275directiveInject(ee.s),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(ge.G))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Bt,selectors:[["ts-structure-explorer"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(Ca,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a._searchInputElement=i.first)}},decls:28,vars:30,consts:[["searchInput","matInput"],["noItems",""],[1,"structure-explorer-ct",3,"ngClass"],["mat-dialog-title","",1,"structure-explorer-title"],["class","structure-explorer-breadcrumbs-ct",4,"ngIf"],[1,"search-container"],["floatLabel","never",1,"search-container-form-field"],["matInput","","type","text","spellcheck","false","autocomplete","off",1,"search-field",3,"keyup","placeholder","value","disabled"],["matSuffix","","mat-icon-button","",1,"close",3,"click","title"],["svgIcon","small-close-icon"],["tabindex","-1",1,"structure-explorer-content"],["mat-align-tabs","start","animationDuration","0ms",1,"structure-explorer-content-tab-group",3,"selectedTabChange","selectedIndex"],[3,"disabled",4,"ngIf"],[3,"label","disabled",4,"ngIf"],[1,"structure-explorer-actions"],["mat-button","","mat-dialog-close","",1,"action-button","cancelBtn",3,"click"],["mat-flat-button","","color","primary",1,"action-button","selectBtn",3,"click","disabled"],[1,"structure-explorer-breadcrumbs-ct"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"structure-explorer-breadcrumbs"],[1,"structure-explorer-breadcrumbs","active",3,"click"],[1,"structure-explorer-breadcrumbs","delimiter"],[3,"disabled"],["mat-tab-label",""],[4,"ngIf","ngIfElse"],["crtKeyboardFocusContainer","","tabindex","0",1,"structure-explorer-focus-container"],["class","structure-explorer-item-ct",3,"ngClass","click","mouseover","mouseleave",4,"ngFor","ngForOf"],[1,"structure-explorer-item-ct",3,"click","mouseover","mouseleave","ngClass"],["class","related-object-icon","tabindex","0",3,"ngClass","keydown.space",4,"ngIf"],["class","structure-explorer-item-checkbox regular",3,"checked","keydown.space",4,"ngIf"],["class","structure-explorer-item-icon",3,"svgIcon",4,"ngIf"],[1,"structure-explorer-item-caption",3,"title"],["tabindex","0",1,"related-object-icon",3,"keydown.space","ngClass"],[1,"structure-explorer-item-checkbox","regular",3,"keydown.space","checked"],[1,"structure-explorer-item-icon",3,"svgIcon"],[3,"label","disabled"],["class","structure-explorer-item-ct related-objects",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"structure-explorer-item-ct","related-objects",3,"click","ngClass"],["tabindex","0",1,"related-object-icon",3,"keydown.space"],[1,"related-object-item-caption"],["class","no-items-ctr",4,"ngIf"],[1,"no-items-ctr"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",2)(1,"div",3),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,he,2,1,"div",4),t.\u0275\u0275elementStart(5,"div",5)(6,"mat-form-field",6)(7,"label")(8,"input",7,0),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275listener("keyup",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onSearchKeyChanged(b.target.value))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"button",8),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onSearchKeyChanged(null))}),t.\u0275\u0275element(14,"mat-icon",9),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(15,"mat-dialog-content",10)(16,"mat-tab-group",11),t.\u0275\u0275listener("selectedTabChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.selectedTabIndex=b.index)}),t.\u0275\u0275template(17,De,3,3,"mat-tab",12)(18,kt,3,6,"mat-tab",13)(19,St,1,1,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(21,"mat-dialog-actions",14)(22,"button",15),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onCancelled())}),t.\u0275\u0275text(23),t.\u0275\u0275pipe(24,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(25,"button",16),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onItemSelected())}),t.\u0275\u0275text(26),t.\u0275\u0275pipe(27,"translate"),t.\u0275\u0275elementEnd()()()}n&2&&(t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(28,Ie,a.isRtl())),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,16,a.getTitle())," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isShowBreadcrumbs()),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(10,18,"StructureExplorerDialog.SearchPlaceHolder")),t.\u0275\u0275property("value",a.searchKey)("disabled",!a.hasLoaded),t.\u0275\u0275advance(3),t.\u0275\u0275styleProp("visibility",a.searchKey?"inherit":"hidden"),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(12,20,"StructureExplorerDialog.SearchClearIconTitle")),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(13,22,"StructureExplorerDialog.SearchClearIconTitle")),t.\u0275\u0275advance(5),t.\u0275\u0275property("selectedIndex",a.selectedTabIndex),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.showItemsTab),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.hasRelatedItems),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(24,24,"StructureExplorerDialog.CancelButtonCaption")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!a.hasLoaded),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(27,26,"StructureExplorerDialog.SelectButtonCaption")," "))},dependencies:[_.NgClass,_.NgForOf,_.NgIf,Ot.MatLegacyDialogClose,Ot.MatLegacyDialogTitle,Ot.MatLegacyDialogContent,Ot.MatLegacyDialogActions,Gt.MatLegacyTabGroup,Gt.MatLegacyTabLabel,Gt.MatLegacyTab,nt.MatLegacyButton,oe.MatLegacyCheckbox,q.MatLegacyFormField,q.MatLegacySuffix,lt.MatLegacyInput,_t.MatIcon,qe,_.AsyncPipe,f.TranslatePipe,Gn],styles:['body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.mat-dialog-title[_ngcontent-%COMP%]{margin:0}.structure-explorer-ct[_ngcontent-%COMP%]{width:40vw;height:72vh;display:flex;flex-direction:column}.structure-explorer-ct.rtl[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]:not(.related-objects){padding-left:0;padding-right:36px}.structure-explorer-ct.rtl[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]:not(.related-objects).checkbox-is-visible{padding-left:0;padding-right:10px}.structure-explorer-ct.rtl[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]:not(.related-objects).checkbox-is-visible   .structure-explorer-item-checkbox[_ngcontent-%COMP%]{margin-right:0}.structure-explorer-ct.rtl[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]   .mat-checkbox-inner-container[_ngcontent-%COMP%]{margin-left:0}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-title[_ngcontent-%COMP%]{margin-bottom:16px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-breadcrumbs-ct[_ngcontent-%COMP%]{margin:0 0 16px;min-height:20px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-breadcrumbs-ct[_ngcontent-%COMP%]   .structure-explorer-breadcrumbs.active[_ngcontent-%COMP%]{cursor:pointer}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-breadcrumbs-ct[_ngcontent-%COMP%]   .structure-explorer-breadcrumbs.delimiter[_ngcontent-%COMP%]{margin:0 8px}.structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{margin-bottom:8px}.structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]{width:100%}.structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{line-height:18px}.structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%], .structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px}.structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{vertical-align:bottom}.structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.structure-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:block}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]{height:100%;overflow-x:hidden}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-content-tab-group[_ngcontent-%COMP%]{height:100%}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]{min-height:35px;border-bottom:1px solid lightgrey;display:flex;align-items:center;cursor:pointer;padding-left:10px;gap:10px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]:after{content:"";min-height:inherit}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct.checkbox-is-visible[_ngcontent-%COMP%]   .structure-explorer-item-checkbox[_ngcontent-%COMP%]{opacity:1}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]   .structure-explorer-item-checkbox[_ngcontent-%COMP%]{display:block;height:16px;width:16px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]   .structure-explorer-item-checkbox[_ngcontent-%COMP%]     .mat-checkbox-layout{align-items:center;vertical-align:baseline}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct.group-item[_ngcontent-%COMP%]{padding-left:10px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct.group-item[_ngcontent-%COMP%]   .expanded-icon[_ngcontent-%COMP%]{transform:rotate(90deg)}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct.child-item[_ngcontent-%COMP%]{padding-left:30px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct.child-item.checkbox-is-visible[_ngcontent-%COMP%]{padding-left:29px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct.related-objects[_ngcontent-%COMP%]{padding-left:10px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]:hover   .structure-explorer-item-checkbox[_ngcontent-%COMP%]:not(.mat-checkbox-checked):not(.cdk-focused){opacity:1}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]   .structure-explorer-item-checkbox[_ngcontent-%COMP%]:not(.mat-checkbox-checked):not(.cdk-focused){opacity:0}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]   .structure-explorer-item-icon[_ngcontent-%COMP%]{display:block;height:16px;width:16px}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]   .related-object-icon[_ngcontent-%COMP%]{display:block;height:16px;min-width:16px;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmEsLmJ7ZmlsbDpub25lO30uYntzdHJva2U6IzgwOTViMzt9PC9zdHlsZT48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAxNikgcm90YXRlKC05MCkiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz48cGF0aCBjbGFzcz0iYiIgZD0iTTYsMCwwLDZjLjAwOC0uMDA4LDYsNiw2LDYiIHRyYW5zZm9ybT0ibWF0cml4KDAuMDM1LCAtMC45OTksIDAuOTk5LCAwLjAzNSwgMS4zOTgsIDExLjI4OCkiLz48L2c+PC9zdmc+)}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .structure-explorer-item-ct[_ngcontent-%COMP%]   .structure-explorer-item-caption[_ngcontent-%COMP%]{height:15px;line-height:1;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-content[_ngcontent-%COMP%]   .no-items-ctr[_ngcontent-%COMP%]{margin-top:32px;text-align:center}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-actions[_ngcontent-%COMP%]{justify-content:flex-end}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-actions[_ngcontent-%COMP%]   button.mat-button-base[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:var(--button-border-radius, var(--button-rounded-border-radius))}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-focus-container[_ngcontent-%COMP%]{margin:2px 0}.structure-explorer-ct[_ngcontent-%COMP%]   .structure-explorer-focus-container[_ngcontent-%COMP%]:focus-visible{overflow:hidden;background-color:var(--focus-outline-inner-color);box-shadow:0 0 0 1px var(--focus-outline-inner-color),0 0 0 2px var(--focus-outline-outer-color);outline:none;border-radius:4px}']})}}var Kt=o(7471);const ze=new t.InjectionToken("DataProviders");class Ke{constructor(e){this._dataProviders=e,this._dataProvidersTable=this._dataProviders}get(){return this._dataProvidersTable}static{this.\u0275fac=function(n){return new(n||Ke)(t.\u0275\u0275inject(ze))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ke,factory:Ke.\u0275fac})}}class Cn{constructor(e,n){this._dialogService=e,this._dataProviderResolver=n}show(e){const n=this._dataProviderResolver.get();let a;const i=[],s=[];e.providers.forEach(D=>{a=n.find(W=>W.name===D.name),a&&(i.push(a.initialize(D)),s.push(a))});const b=E.pO.toColdObservable(()=>this._dialogService.open(Bt,{data:{providers:s,enableMultiSelection:e.enableMultiSelection,collectDrillDownItems:e.collectDrillDownItems,viewConfig:e.viewConfig},panelClass:"dialog-top-border"}).pipe((0,h.map)(D=>e.returnDialogResult!==!0?D?.selectedItems:D)));return(0,m.concat)(...i,b).pipe((0,h.last)())}static{this.\u0275fac=function(n){return new(n||Cn)(t.\u0275\u0275inject(Kt.o),t.\u0275\u0275inject(Ke))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Cn,factory:Cn.\u0275fac})}}var Ge=o(93277),be=o(90865),gr=o(82944);class Re{constructor(e){this.viewContainerRef=e}static{this.\u0275fac=function(n){return new(n||Re)(t.\u0275\u0275directiveInject(t.ViewContainerRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Re,selectors:[["","tsViewContainerRef",""]]})}}const bi=new t.InjectionToken("ValuePickerResolver"),Kr=new t.InjectionToken("ValuePickerProviders"),Eo=["elementContainer"];class Ci{set element(e){this._element=e,this._containerRef.nativeElement.appendChild(e)}set value(e){this._element.value=e}get value(){return this._element.value}set config(e){this._element.config=e}set placeholder(e){this._element.placeholder=e}get valueChanged(){return(0,m.fromEvent)(this._element,"valueChanged")}ngOnDestroy(){this._containerRef.nativeElement.removeChild(this._element)}static{this.\u0275fac=function(n){return new(n||Ci)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ci,selectors:[["crt-value-picker-web-element-wrapper"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(Eo,7),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a._containerRef=i.first)}},decls:2,vars:0,consts:[["elementContainer",""],[1,"value-picker-web-element-wrapper"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"div",1,0)},styles:["[_nghost-%COMP%]   .value-picker-web-element-wrapper[_ngcontent-%COMP%]{display:inline}"]})}}class Zi{static{this._registry=new Map}static _getRegisteredItem(e,n){return Array.from(this._registry.values()).find(a=>a.sources.includes(n)&&a.dataValueTypes.includes(e))}static _getDefault(){return Array.from(this._registry.values()).find(e=>e.default)}static register(e){this._registry.set(e.selector,e)}static get(e,n){return this._getRegisteredItem(e,n)??Zi._getDefault()}static has(e,n){return!!this._getRegisteredItem(e,n)}}class Qa{resolve(e,n){return Zi.get(n,e).selector}static{this.\u0275fac=function(n){return new(n||Qa)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Qa,factory:Qa.\u0275fac})}}class yi{constructor(e,n){this._resolver=e,this._rendererFactory=n}create(e,n,a){const i=this._resolver.resolve(e,n),b=this._rendererFactory.createRenderer(null,null).createElement(i),D=a.createComponent(Ci);return D.instance.element=b,D}static{this.\u0275fac=function(n){return new(n||yi)(t.\u0275\u0275inject(Qa),t.\u0275\u0275inject(t.RendererFactory2))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:yi,factory:yi.\u0275fac})}}const xs=["main"],Aa=r=>({"fit-inner-component":r}),Ss=r=>({width:r});function ws(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",12),t.\u0275\u0275element(1,"mat-icon",13),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("title",n.providerInfo==null?null:n.providerInfo.caption),t.\u0275\u0275advance(),t.\u0275\u0275property("svgIcon",n.providerInfo==null?null:n.providerInfo.icon)}}function La(r,e){}function ka(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",15),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onMenuClick(i))}),t.\u0275\u0275element(2,"mat-icon",16),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){let n;const a=e.$implicit,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction1(5,Ss,i.menuElementWidth+"px")),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("color",(n=a.iconColor)!==null&&n!==void 0?n:""),t.\u0275\u0275property("svgIcon",a.iconName),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",a.caption," ")}}function ae(r,e){if(r&1&&t.\u0275\u0275template(0,ka,4,7,"ng-container",14),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngForOf",n.menuItems)}}class H extends gr.F{constructor(e,n,a,i,s,b,D,W){super(e,n,a),this._resolver=i,this._maskService=D,this._valuePickerViewFactory=W,this._destroyed$=new m.Subject,this._minMenuElementWidth=160,this.selected=new t.EventEmitter,this.controlType="ts-value-picker",this.fitInnerComponent=!1,s.addSvgIconLiteral("lightning",b.bypassSecurityTrustHtml(o(16152))),this.menuElementWidth=this._minMenuElementWidth}get _providers(){return this._resolver.getProviders()}get component(){return this._component.instance}get config(){return this._config}set config(e){(0,y.isEqual)(this._config,e)||(this._config=e,this._config&&this._component&&this._initMenuItems())}get selectedValue(){return this._selectedValue}set selectedValue(e){(0,y.isEqual)(this._selectedValue,e)||(this._selectedValue=e,this._component?.instance&&this._setInnerComponentValue(this._selectedValue))}_viewClear(){const e=this.container&&this.container.viewContainerRef;e&&e.clear()}_getProviderBySource(e){return this._resolver.getProviderByTypeSource(e)}_getProviderConfigBySource(e){return this._config?.sourcesConfig?this._config?.sourcesConfig[e]:null}_initMenuItems(){this.menuItems=(0,y.flatMap)(this._providers,e=>e.getActionItems(this._config.columnType,this._config?.sourcesConfig?this._config.sourcesConfig[e.source]:null))}_setComponentConfig(){let e={};this._config?.columnType?.dataValueType&&(e.dataValueType=this._config.columnType.dataValueType);const n=this._getProviderConfigBySource(this._currentSource);n&&(e={...e,...n}),this.component.config=e}_generateComponent(){this._viewClear(),this._component=this._valuePickerViewFactory.create(this._currentSource,this._config?.columnType?.dataValueType,this.container.viewContainerRef),this._setComponentConfig(),this.component.valueChanged.pipe((0,h.distinctUntilChanged)(),(0,h.takeUntil)(this._destroyed$)).subscribe(e=>{this._handleValueChangedEvent(e.detail)})}_setValuePickerInfo(e){const n=this._getProviderBySource(e);n&&(this.providerInfo={caption:n.getSourceCaption(),icon:n.getSourceIconName()})}_setInnerComponentPlaceholder(e){const n=this._getProviderBySource(e);n&&(this.component.placeholder=n.getSourcePlaceholder())}_setInnerComponentValue(e){if(!e){this.component.value=null;return}if(e.displayValue){this.component.value=e;return}const n=this._getProviderBySource(e.source),a=this._getProviderConfigBySource(e.source);if(n){this._maskService.showBodyMask(),n.initValuePickerResult(a,e.value).subscribe(i=>{this.component.value=i,this._maskService.hideBodyMask()});return}this.component.value=null}_isValueChanged(e){const n=!e&&!this._selectedValue?.value,a=(0,y.isEqual)(e,this._selectedValue?.value);return!n&&!a}_handleValueChangedEvent(e){if(this._isValueChanged(e)){const n=e?.displayValue?e.value:e;this._selectedValue={source:this._currentSource,value:n,displayValue:e?.displayValue},this.selected.emit(this._selectedValue)}}_setMenuWidth(e){if(!e?.nativeElement)return;const{width:n}=e.nativeElement.getBoundingClientRect();this.menuElementWidth=n<this._minMenuElementWidth?this._minMenuElementWidth:n}onResize(){this._setMenuWidth(this.elementRef)}onMenuClick({source:e}){const n=this._getProviderBySource(e),a=this._getProviderConfigBySource(e),i=(this._selectedValue&&this._selectedValue.source)===e?this._selectedValue:null;n.handleSelectAction(a,i).pipe((0,h.takeUntil)(this._destroyed$)).subscribe(s=>{s&&s.source!==this._currentSource&&(this._currentSource=s.source,this._generateComponent(),this._setInnerComponentPlaceholder(this._currentSource),this._setValuePickerInfo(this._currentSource)),s&&s.value!=null&&(this._selectedValue=s,this._setInnerComponentValue(s),this.selected.emit(s))})}ngOnInit(){this._currentSource=this._selectedValue?.source??this.defaultSource,this._generateComponent(),this._setInnerComponentValue(this.selectedValue),this._setInnerComponentPlaceholder(this._currentSource),this._setValuePickerInfo(this._currentSource),this._config&&this._initMenuItems()}ngAfterViewInit(){this.valuePickerEl.changes.subscribe({next:e=>{this._setMenuWidth(e.last),this.elementRef=e.last}}),setTimeout(()=>{this.valuePickerEl.notifyOnChanges()})}ngOnDestroy(){this._viewClear(),this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||H)(t.\u0275\u0275directiveInject(O.NgControl,10),t.\u0275\u0275directiveInject(be.AutofillMonitor),t.\u0275\u0275directiveInject(Ge.FocusMonitor),t.\u0275\u0275directiveInject(bi),t.\u0275\u0275directiveInject(_t.MatIconRegistry),t.\u0275\u0275directiveInject(p.DomSanitizer),t.\u0275\u0275directiveInject(ee.s),t.\u0275\u0275directiveInject(yi))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:H,selectors:[["ts-value-picker"]],viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(Re,7),t.\u0275\u0275viewQuery(xs,5,t.ElementRef)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.container=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.valuePickerEl=i)}},hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("resize",function(s){return a.onResize(s)},!1,t.\u0275\u0275resolveWindow)},inputs:{config:"config",selectedValue:"selectedValue",defaultSource:"defaultSource",fitInnerComponent:"fitInnerComponent"},outputs:{selected:"selected"},features:[t.\u0275\u0275ProvidersFeature([{provide:q.MatLegacyFormFieldControl,useExisting:H}]),t.\u0275\u0275InheritDefinitionFeature],decls:12,vars:6,consts:[["main",""],["menu","matMenu"],[1,"value-picker-ct"],[1,"value-picker-input-ct",3,"ngClass"],["class","value-picker-input-icon",3,"title",4,"ngIf"],[1,"value-picker-input-template-wrapper"],["tsViewContainerRef",""],[1,"value-picker-input-btn-container"],["mat-icon-button","",1,"value-picker-input-btn",3,"disabled","matMenuTriggerFor"],["svgIcon","lightning",1,"lightning-icon"],["xPosition","before",1,"value-picker-menu"],["matMenuContent",""],[1,"value-picker-input-icon",3,"title"],[1,"provider-icon","provider-icon-color",3,"svgIcon"],[4,"ngFor","ngForOf"],["mat-menu-item","",1,"value-picker-menu-item",3,"click","ngStyle"],[1,"value-picker-icon",3,"svgIcon"]],template:function(n,a){if(n&1&&(t.\u0275\u0275elementStart(0,"div",2,0)(2,"div",3),t.\u0275\u0275template(3,ws,2,2,"div",4),t.\u0275\u0275elementStart(4,"div",5),t.\u0275\u0275template(5,La,0,0,"ng-template",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",7)(7,"button",8),t.\u0275\u0275element(8,"mat-icon",9),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(9,"mat-menu",10,1),t.\u0275\u0275template(11,ae,1,1,"ng-template",11),t.\u0275\u0275elementEnd()()),n&2){const i=t.\u0275\u0275reference(10);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,Aa,a.fitInnerComponent)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.providerInfo==null?null:a.providerInfo.icon),t.\u0275\u0275advance(4),t.\u0275\u0275property("disabled",a.disabled||!a.config)("matMenuTriggerFor",i)}},dependencies:[_.NgClass,_.NgForOf,_.NgIf,_.NgStyle,nt.MatLegacyButton,_t.MatIcon,Q.MatLegacyMenu,Q.MatLegacyMenuItem,Q.MatLegacyMenuTrigger,Q.MatLegacyMenuContent,Re],styles:[`.value-picker-ct{flex:1}.value-picker-input-ct{display:flex;align-items:flex-end;gap:8px}.value-picker-input-ct .value-picker-input-btn{visibility:hidden}.value-picker-input-ct:hover .value-picker-input-btn{visibility:visible}.value-picker-input-ct .value-picker-input-template-wrapper{flex-grow:1;line-height:11.25px}.value-picker-input-ct.fit-inner-component .value-picker-input-template-wrapper{flex-grow:0}.value-picker-input-ct.fit-inner-component .value-picker-input-btn-container{padding-bottom:6px}.value-picker-input-ct.fit-inner-component .value-picker-input-icon{padding-bottom:2px}.value-picker-input-ct .value-picker-input-btn{display:flex;flex-direction:row;align-items:center;justify-content:center;cursor:pointer}.value-picker-input-ct .value-picker-input-btn.mat-icon-button{width:16px;height:16px;line-height:1;margin:0 0 2px 5px}.value-picker-input-ct .mat-icon.lightning-icon,.value-picker-input-ct .mat-icon.provider-icon{width:16px;height:16px}.mat-menu-panel.value-picker-menu{max-width:400px;min-width:160px}.mat-menu-panel.value-picker-menu .value-picker-menu-item{padding-left:0}.mat-menu-panel.value-picker-menu .value-picker-menu-item .value-picker-icon{width:16px;height:16px;margin:0 8px 2px}
`],encapsulation:2})}}const K=r=>({ie:r});function it(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",19),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n.displayValue),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.displayValue," ")}}function dt(r,e){r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"BusinessRulePopulateItemActionComponent.LeftExpressionValidationMessage")," "))}function ft(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-form-field",20),t.\u0275\u0275element(1,"input",21),t.\u0275\u0275elementStart(2,"button",22),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onSelectRightExpression())}),t.\u0275\u0275element(3,"mat-icon",23),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!n.getIsRightExpressionEnabled())}}function At(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-form-field",20)(1,"ts-value-picker",24),t.\u0275\u0275listener("selected",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.valuePickerResultEmitted(i))})("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onRightExpressionClick())}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("config",n.valuePickerConfig)("selectedValue",n.valuePickerSelectedValue)("disabled",!n.getIsRightExpressionEnabled())}}class Yt{get leftExpression(){return this._leftExpression}set leftExpression(e){const n=e?e.value:null;(this._leftExpression?this._leftExpression.value:null)!==n&&(this._leftExpression=e),this.businessRuleActionForm.patchValue({leftExpression:e?e.displayValue:""})}get isIE(){return this._platform.TRIDENT}get isInvalidLeftExpression(){return this.businessRuleActionForm.get("leftExpression").invalid}constructor(e,n,a,i,s,b,D,W){this._populateItemActionService=e,this._formBuilder=n,this._structureExplorerService=a,this._featureService=i,this._platform=s,this._matIconRegistry=b,this._domSanitizer=D,this._translateService=W,this._entityColumnValuePickerProviderName="EntityColumnValuePickerProvider",this._formulaValuePickerProviderName="FormulaValuePickerProvider",this._leftExpression=null,this._destroyed=new m.Subject,this.leftExpressionsList=[],this.filteredLeftExpressionsList=[],this.canUseValuePicker=!1,this.canUseDateTimeFunctions=!1,this.clearRule=new t.EventEmitter,this.ruleActionChanged=new t.EventEmitter,this._matIconRegistry.addSvgIconLiteral("close",this._domSanitizer.bypassSecurityTrustHtml(o(74828))),this._matIconRegistry.addSvgIconLiteral("right-expression-action",this._domSanitizer.bypassSecurityTrustHtml(o(82316)))}_filterExpressionsList(e){e?this.filteredLeftExpressionsList=this.leftExpressionsList.filter(n=>n.displayValue.toLowerCase().indexOf(e.toLowerCase())>=0):this.filteredLeftExpressionsList=this.leftExpressionsList}_loadLeftExpressionsList(){return this._populateItemActionService.getLeftExpressionsList(this._businessRuleAction.leftExpression)}_findLookupByValue(e,n){return e.find(a=>a.value===n)}_findLookupByCaption(e,n){return e.find(a=>a.displayValue.toLowerCase()===n.toLowerCase())}_selectLeftExpression(e){this.leftExpression=this._findLookupByCaption(this.leftExpressionsList,e),this._filterExpressionsList(""),this._businessRuleAction.leftExpression.expressionValue=this.leftExpression?this.leftExpression.value:null,this._businessRuleAction.leftExpression.expressionDisplayValue=this.leftExpression?this.leftExpression.displayValue:null,this._businessRuleAction.leftExpression.dataValueType=this.leftExpression?this.leftExpression.dataValueType:null,this.ruleActionChanged.emit(this._businessRuleAction)}_buildFormGroup(){return this._formBuilder.group({leftExpression:["",[O.Validators.required]],rightExpressionDisplayValue:["",[O.Validators.required]]})}_initFormGroup(){this.businessRuleActionForm.get("leftExpression").valueChanges.subscribe(e=>{this._filterExpressionsList(e)})}_getBusinessRuleExpressionTypeByValuePickerSource(e){switch(e){case this._entityColumnValuePickerProviderName:return st.COLUMN;case this._formulaValuePickerProviderName:return st.FORMULA;default:return null}}_getValuePickerSourceByBusinessRuleExpressionType(e){switch(e){case st.COLUMN:return this._entityColumnValuePickerProviderName;case st.FORMULA:return this._formulaValuePickerProviderName;default:return null}}_clearRightExpression(){this._businessRuleAction.rightExpression.expressionType=null,this._businessRuleAction.rightExpression.expressionValue=null,this._businessRuleAction.rightExpression.expressionDisplayValue=null,this._businessRuleAction.rightExpression.dataValueType=null,this.canUseValuePicker?this._updateValuePickerProperties():this.businessRuleActionForm.patchValue({rightExpressionDisplayValue:""}),this.valuePickerResultEmitted(null)}_updateValuePickerProperties(){this.valuePickerConfig={columnType:{dataValueType:this._businessRuleAction.leftExpression.dataValueType},sourcesConfig:{[this._entityColumnValuePickerProviderName]:this._getEntityColumnValuePickerProviderSourceConfig(),[this._formulaValuePickerProviderName]:this._getFormulaValuePickerProviderSourceConfig()}},this.valuePickerSelectedValue={source:this._getValuePickerSourceByBusinessRuleExpressionType(this._businessRuleAction?.rightExpression?.expressionType),value:this._businessRuleAction?.rightExpression?.expressionValue,displayValue:this._businessRuleAction?.rightExpression?.expressionDisplayValue}}_getFormulaValuePickerProviderSourceConfig(){return{entitySchemaUId:this._businessRuleAction.leftExpression.dataModelId,dataValueType:this._businessRuleAction.leftExpression.dataValueType,canUseDateTimeFunctions:this.canUseDateTimeFunctions}}_getEntityColumnValuePickerProviderSourceConfig(){const e=this._businessRuleAction.leftExpression,n=e.dataValueType===X.r.Lookup?[this.leftExpression?.referenceSchemaName]:null;return{entitySchemaUId:e.dataModelId,dataValueType:e.dataValueType,allowedReferenceSchemas:n,lenientDataValueTypeComparison:!0}}_getStructureExplorerProviderConfig(){return{name:qn.Providers.ENTITY_SCHEMA,options:Object.assign(this._getEntityColumnValuePickerProviderSourceConfig(),{selectedMetaPaths:[this._businessRuleAction.rightExpression.expressionValue]})}}_initLeftExpressionDisplayValue(){this.leftExpression=this._findLookupByValue(this.leftExpressionsList,this._businessRuleAction.leftExpression.expressionValue),this.leftExpression&&(this._businessRuleAction.leftExpression.expressionDisplayValue=this.leftExpression.displayValue)}_initRightColumnExpressionDisplayValue(){const e=this._businessRuleAction.rightExpression.dataModelId,n=this._businessRuleAction.rightExpression.expressionValue;return n?this._populateItemActionService.getColumnExpressionDisplayValue(e,n).pipe((0,h.map)(a=>{this._businessRuleAction.rightExpression.expressionDisplayValue=a})):(0,m.of)(void 0)}_initRightExpressionDisplayValue(){let e;switch(this._businessRuleAction.rightExpression.expressionType){case st.COLUMN:e=this._initRightColumnExpressionDisplayValue();break;default:e=(0,m.of)(void 0);break}return e}ngOnInit(){this.businessRuleActionForm=this._buildFormGroup(),this._featureService.getFeatureState("UseValuePickerInPopulateBusinessRule").pipe((0,h.concatMap)(e=>(this.canUseValuePicker=e,this._populateItemActionService.getBusinessRuleAction(de.To).pipe((0,h.map)(n=>{this._businessRuleAction=n})))),(0,h.concatMap)(()=>this._featureService.getFeatureState("UseValuePickerDateTimeFunctions").pipe((0,h.map)(e=>{this.canUseDateTimeFunctions=e}))),(0,h.concatMap)(()=>this._initRightExpressionDisplayValue()),(0,h.concatMap)(()=>this._loadLeftExpressionsList().pipe((0,h.map)(e=>{this.leftExpressionsList=e,this._initLeftExpressionDisplayValue()}))),(0,h.tap)(()=>{this.canUseValuePicker?this._updateValuePickerProperties():this.businessRuleActionForm.patchValue({rightExpressionDisplayValue:this._businessRuleAction.rightExpression.expressionDisplayValue}),this._initFormGroup()}),(0,h.takeUntil)(this._destroyed)).subscribe()}onLeftExpressionFieldFocus(){this.filteredLeftExpressionsList=this.leftExpressionsList}onLeftExpressionSelected(e){this._businessRuleAction.leftExpression.expressionDisplayValue!==e.option.value&&(this._selectLeftExpression(e.option.value),this._clearRightExpression())}onLeftExpressionAutocompleteClosed(e){this._businessRuleAction.leftExpression.expressionDisplayValue!==e&&(this.businessRuleActionForm.patchValue({leftExpression:e}),this._filterExpressionsList(""),this._selectLeftExpression(e),this._clearRightExpression())}onClear(){this.clearRule.emit()}onSelectRightExpression(){if(this.canUseValuePicker)return;const n={providers:[this._getStructureExplorerProviderConfig()]};this._structureExplorerService.show(n).subscribe(a=>{if(!a||a.length===0)return;const i=a[0];this.businessRuleActionForm.patchValue({rightExpressionDisplayValue:i.metaPathCaption}),this._businessRuleAction.rightExpression.expressionValue=i.metaPath,this._businessRuleAction.rightExpression.expressionDisplayValue=i.metaPathCaption,this._businessRuleAction.rightExpression.dataModelName=this._businessRuleAction.leftExpression.dataModelName,this.ruleActionChanged.emit(this._businessRuleAction)})}getIsRightExpressionEnabled(){return!this.isInvalidLeftExpression}valuePickerResultEmitted(e){if(!this.canUseValuePicker)return;const n=e||{};this._businessRuleAction.rightExpression.expressionType=this._getBusinessRuleExpressionTypeByValuePickerSource(n.source),this._businessRuleAction.rightExpression.expressionValue=n.value,this._businessRuleAction.rightExpression.expressionDisplayValue=n.displayValue,this._businessRuleAction.rightExpression.dataModelName=this._businessRuleAction.leftExpression.dataModelName,this.ruleActionChanged.emit(this._businessRuleAction)}onRightExpressionClick(){if(this.isInvalidLeftExpression){const e=this.businessRuleActionForm.get("leftExpression");e.markAsTouched(),e.updateValueAndValidity()}}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(n){return new(n||Yt)(t.\u0275\u0275directiveInject(an),t.\u0275\u0275directiveInject(O.FormBuilder),t.\u0275\u0275directiveInject(Cn),t.\u0275\u0275directiveInject(A.wf),t.\u0275\u0275directiveInject(Y.Platform),t.\u0275\u0275directiveInject(_t.MatIconRegistry),t.\u0275\u0275directiveInject(p.DomSanitizer),t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Yt,selectors:[["ts-business-rule-populate-item-action"]],outputs:{clearRule:"clearRule",ruleActionChanged:"ruleActionChanged"},decls:22,vars:12,consts:[["input",""],["auto","matAutocomplete"],[1,"business-rule-populate-item-action-form",3,"formGroup","ngClass"],[1,"caption-ct"],[1,"caption"],["mat-icon-button","",1,"clear-btn",3,"click"],["svgIcon","close",1,"close-icon"],[1,"expressions-ct"],[1,"left-expression"],["floatLabel","never",1,"item-form-field"],[1,"combobox-edit-item","left-expression-item"],["type","text","name","expression-item","matInput","","required","","spellcheck","false","formControlName","leftExpression",3,"focus","matAutocomplete"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[3,"optionSelected","closed"],["class","item-list-option",3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"right-expression"],["class","right-expression-value",4,"ngIf"],[1,"item-list-option",3,"value"],[1,"right-expression-value"],["matInput","","readonly","","formControlName","rightExpressionDisplayValue"],["matSuffix","","mat-icon-button","",1,"structure-explorer-action",3,"click","disabled"],["svgIcon","right-expression-action",1,"structure-explorer-action-icon"],[3,"selected","click","config","selectedValue","disabled"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",2)(1,"div",3)(2,"span",4),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"button",5),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onClear())}),t.\u0275\u0275element(6,"mat-icon",6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",7)(8,"div",8)(9,"mat-form-field",9)(10,"div",10)(11,"input",11,0),t.\u0275\u0275listener("focus",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onLeftExpressionFieldFocus())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(13,"div",12),t.\u0275\u0275element(14,"div",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"mat-autocomplete",14,1),t.\u0275\u0275listener("optionSelected",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onLeftExpressionSelected(b))})("closed",function(){t.\u0275\u0275restoreView(i);const b=t.\u0275\u0275reference(12);return t.\u0275\u0275resetView(a.onLeftExpressionAutocompleteClosed(b.value))}),t.\u0275\u0275template(17,it,2,2,"mat-option",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(18,dt,3,3,"mat-error",16),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(19,"div",17),t.\u0275\u0275template(20,ft,4,1,"mat-form-field",18)(21,At,2,3,"mat-form-field",18),t.\u0275\u0275elementEnd()()()}if(n&2){const i=t.\u0275\u0275reference(16);t.\u0275\u0275property("formGroup",a.businessRuleActionForm)("ngClass",t.\u0275\u0275pureFunction1(10,K,a.isIE)),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,8,"BusinessRulePopulateItemActionComponent.Caption")),t.\u0275\u0275advance(8),t.\u0275\u0275property("matAutocomplete",i),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngForOf",a.filteredLeftExpressionsList),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isInvalidLeftExpression),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.canUseValuePicker),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.canUseValuePicker)}},dependencies:[_.NgClass,_.NgForOf,_.NgIf,nt.MatLegacyButton,q.MatLegacyError,q.MatLegacyFormField,q.MatLegacySuffix,lt.MatLegacyInput,c.MatLegacyAutocomplete,c.MatLegacyAutocompleteTrigger,Tt.MatLegacyOption,_t.MatIcon,O.\u0275NgNoValidate,O.DefaultValueAccessor,O.NgControlStatus,O.NgControlStatusGroup,O.RequiredValidator,O.FormGroupDirective,O.FormControlName,H,f.TranslatePipe],styles:[`.business-rule-populate-item-action-form{display:flex;flex-direction:row;align-items:baseline;justify-content:flex-start}.business-rule-populate-item-action-form.ie .caption-ct{margin-bottom:6px}.business-rule-populate-item-action-form.ie .expression-type-btn{margin-bottom:-12px}.business-rule-populate-item-action-form .expressions-ct .mat-form-field .mat-input-element{min-height:22px}.business-rule-populate-item-action-form .expressions-ct .mat-form-field-subscript-wrapper .mat-error{padding:3px 0}.caption-ct{flex-basis:30%;flex-shrink:0;display:flex;flex-direction:row;justify-content:flex-start;align-items:stretch}.caption-ct .caption{margin-right:5px}.caption-ct .clear-btn{display:none;color:#d3d3d3;cursor:pointer;width:16px;height:16px;margin:2px 0 0 5px}.caption-ct .clear-btn.mat-icon-button{line-height:1}.caption-ct .clear-btn .mat-icon.close-icon{line-height:1;width:16px;height:16px}.caption-ct:hover .clear-btn{display:inline-block}.expressions-ct{flex-basis:100%;min-width:35%;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-start;align-items:stretch}.expressions-ct .left-expression{flex-basis:35%;flex-shrink:0;margin-left:15px}.expressions-ct .left-expression .item-form-field{width:100%}.expressions-ct .left-expression .item-form-field .combobox-edit-item{display:flex;flex-direction:row;align-items:baseline}.expressions-ct .right-expression{flex-basis:35%;display:flex;flex-direction:row;justify-content:flex-start;align-items:baseline;margin-left:30px}.expressions-ct .right-expression .right-expression-value{width:100%}.expressions-ct .right-expression .right-expression-value input{display:flex;flex-direction:row;align-items:baseline}.expressions-ct .right-expression .right-expression-value .structure-explorer-action{margin-left:10px}.expressions-ct .right-expression .right-expression-value .structure-explorer-action .structure-explorer-action-icon{width:16px;height:24px}.cdk-overlay-pane .value-picker-menu{margin-top:11px}
`],encapsulation:2})}}var we=o(27397);class Ae{static{this.\u0275fac=function(n){return new(n||Ae)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Ae})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Ae,{declarations:[Re],exports:[Re]})})();class cn{static{this.\u0275fac=function(n){return new(n||cn)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:cn})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(cn,{imports:[_.CommonModule]})})();var u=o(5960);function ln(r){return function(e){Zi.register(r)}}class ya{constructor(){this.valueChanged=new t.EventEmitter}get value(){return this._value}set value(e){this._value=e}set config(e){this._config=e}get config(){return this._config}static{this.\u0275fac=function(n){return new(n||ya)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:ya,inputs:{value:"value",placeholder:"placeholder",config:"config"},outputs:{valueChanged:"valueChanged"}})}}function vi(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",4),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.clearValue())}),t.\u0275\u0275element(1,"mat-icon",5),t.\u0275\u0275elementEnd()}}class To extends gr.F{constructor(e,n,a,i,s){super(e,n,a),this.valueCleared=new t.EventEmitter,i.addSvgIconLiteral("close",s.bypassSecurityTrustHtml(o(31953)))}clearValue(){this.innerValue="",this.valueCleared.emit()}static{this.\u0275fac=function(n){return new(n||To)(t.\u0275\u0275directiveInject(O.NgControl,10),t.\u0275\u0275directiveInject(be.AutofillMonitor),t.\u0275\u0275directiveInject(Ge.FocusMonitor),t.\u0275\u0275directiveInject(_t.MatIconRegistry),t.\u0275\u0275directiveInject(p.DomSanitizer))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:To,selectors:[["ts-readonly"]],outputs:{valueCleared:"valueCleared"},features:[t.\u0275\u0275ProvidersFeature([{provide:q.MatLegacyFormFieldControl,useExisting:To}]),t.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[["input",""],[1,"readonly-container"],["matInput","","readonly","","disabled","",1,"disable-input",3,"ngModelChange","ngModel","placeholder"],["mat-icon-button","","class","close-button",3,"click",4,"ngIf"],["mat-icon-button","",1,"close-button",3,"click"],["svgIcon","close",1,"close-icon"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",1)(1,"input",2,0),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.innerValue,b)||(a.innerValue=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,vi,2,0,"button",3),t.\u0275\u0275elementEnd()}n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275twoWayProperty("ngModel",a.innerValue),t.\u0275\u0275property("placeholder",a.placeholder),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.innerValue))},dependencies:[_.NgIf,O.DefaultValueAccessor,O.NgControlStatus,O.NgModel,nt.MatLegacyButton,lt.MatLegacyInput,_t.MatIcon],styles:[`.readonly-container{display:flex;flex-direction:row}.readonly-container:hover .close-button{visibility:visible}.readonly-container:not(:hover) .close-button{visibility:hidden}.readonly-container .mat-icon-button.close-button{width:16px;height:16px;line-height:1;margin:0 0 2px 5px}.readonly-container .mat-icon.close-icon{width:16px;height:16px}.readonly-container .disable-input{text-overflow:ellipsis;overflow:hidden;color:#444;-webkit-text-fill-color:#444444}.cdk-overlay-container .mat-mdc-tooltip.readonly-container-tooltip{margin-top:8px;padding:10px;font-size:14px;line-height:19px;color:#444;max-width:350px;background:#fff;word-break:break-word;box-shadow:#0000004d 0 0 .2em;border-radius:0;border-top:2px solid #22ac14;white-space:pre-line;text-overflow:clip}
`],encapsulation:2})}}let Po=class c0 extends ya{clearValue(){this.value={source:this.value.source,value:"",displayValue:""},this.valueChanged.emit("")}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(c0)))(a||c0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:c0,selectors:[["crt-value-picker-readonly"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[[3,"valueCleared","value","placeholder"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"ts-readonly",0),t.\u0275\u0275listener("valueCleared",function(){return a.clearValue()}),t.\u0275\u0275elementEnd()),n&2&&t.\u0275\u0275property("value",a.value==null?null:a.value.displayValue)("placeholder",a.placeholder)},dependencies:[To],encapsulation:2})}};Po=(0,u.__decorate)([ln({dataValueTypes:[],selector:"crt-value-picker-readonly",sources:[],default:!0})],Po);class Zr{constructor(e){this._providers=e}getProviderByTypeSource(e){return this._providers.find(n=>n.source===e)}getProviders(){return this._providers}static{this.\u0275fac=function(n){return new(n||Zr)(t.\u0275\u0275inject(Kr))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Zr,factory:Zr.\u0275fac})}}class ki{constructor(e){e.defineComponent("crt-value-picker-readonly",Po)}static{this.\u0275fac=function(n){return new(n||ki)(t.\u0275\u0275inject(E.SH))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:ki})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:bi,useClass:Zr},Qa,yi],imports:[_.CommonModule,O.FormsModule,nt.MatLegacyButtonModule,lt.MatLegacyInputModule,_t.MatIconModule,Q.MatLegacyMenuModule,cn,Ae]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(ki,{declarations:[H,To,Po,Ci],imports:[_.CommonModule,O.FormsModule,nt.MatLegacyButtonModule,lt.MatLegacyInputModule,_t.MatIconModule,Q.MatLegacyMenuModule,cn,Ae],exports:[H]})})();var jn=o(63035),Ra=o(90808),hr,Ya;const Mc=Symbol("ItemsFiltersField"),ea=Symbol("ItemsFiltersProperty"),Ja=Symbol("RelatedItemsFiltersField"),Xa=Symbol("RelatedItemsFiltersProperty"),Qr=Symbol("IsItemsCustomFilterFunctionField"),Kn=Symbol("IsRelatedItemsCustomFilterFunctionField"),Qi=Symbol("mapFunctionField"),Ic=Symbol("mapFunctionProperty");class Na{constructor(){this[hr]=!1,this[Ya]=!1,this.breadCrumbs=[],this.caption$=new m.Subject,this.breadCrumbs$=new m.Subject}static{hr=Qr,Ya=Kn}get[Xa](){return this[Ja]||(this[Ja]=[]),this[Ja]}get[ea](){return this[Mc]||(this[Mc]=[]),this[Mc]}get[Ic](){if(this[Qi])return this[Qi];throw new Error("Map function is null")}get sortFunction(){return this._sortFunction?this._sortFunction:Na._defaultSortFunction}get relatedItemsSortFunction(){return this._relatedItemsSortFunction?this._relatedItemsSortFunction:Na._defaultRelatedItemsSortFunction}static _sortByCaption(e,n){return e.caption?.toLowerCase().localeCompare(n.caption?.toLowerCase())}static _defaultSortFunction(e,n,a){const i=e?.selectedMetaPaths;if(i){const s=i.includes(n.metaPath),b=i.includes(a.metaPath);if(s&&!b)return-1;if(!s&&b)return 1}return Na._sortByCaption(n,a)}static _defaultRelatedItemsSortFunction(e,n){return Na._sortByCaption(e,n)}_getFilteredItems(e,n){return n.reduce((a,i)=>a.filter(i),e)}_filterResultData(e){return e.items=this._getFilteredItems(e.items,this[ea]),e.relatedItems=this._getFilteredItems(e.relatedItems,this[Xa]),e}_mapItems(e){return e.map(this[Ic],this)}_sortResultData(e){return e.items.sort(this.sortFunction.bind(this,this.launchOptions)),e.relatedItems.sort(this.relatedItemsSortFunction),e}_updateItemsMetaPath(e,n){e.map(a=>(a.metaPath=this.getMetaPath(n,a),a.metaPathCaption=this.getMetaPathCaption(n,a),a.columnPath=this.getColumnPath(n,a),this.enrichMetaPathCaptionArray(n,a),a),this)}_enrichMetaPath(e,n){return this._updateItemsMetaPath(e.items,n),this._updateItemsMetaPath(e.relatedItems,n),e}_getAllowedItemsFilter(e){return n=>e.indexOf(n.id)>=0}_getAllowedRelatedItemsFilter(){return e=>!1}_getExcludedItemsFilter(e){return n=>e.indexOf(n.id)<0}_initializeCurrentState(e){return this.getInitialState(e).pipe((0,h.map)(n=>{this.initialState=n}))}setBreadCrumbs(e){const n=this.initialState.getRootItem();if(e.metaPath===n?.metaPath){this.breadCrumbs=this.initialState.getBreadCrumbs();return}e.caption||(e.caption=this.getCaption()),this.breadCrumbs.push(e)}copyStructureExplorerItem(e){return{id:e.id,name:e.name,caption:e.caption,shortCaption:e.shortCaption,hasChildren:e.hasChildren,metaPath:e.metaPath,metaPathCaption:e.metaPathCaption,columnPath:e.columnPath,tags:e.tags?[...e.tags]:null,data:e.data}}getDefaultRootItem(){return{id:null,name:null,caption:null,hasChildren:!0,metaPath:"",metaPathCaption:"",columnPath:"",tags:null,data:null}}addItemsFilterFunction(e){if(this[Qr])throw new Error("Items custom filter function already exists");this[ea].push(e)}addRelatedItemsFilterFunction(e){if(this[Kn])throw new Error("Related items custom filter function already exists");this[Xa].push(e)}setMapFunction(e){this[Qi]=e}getMetaPath(e,n){return e.metaPath?`${e.metaPath}.${n.id}`:n.id}getColumnPath(e,n){return e.columnPath?`${e.columnPath}.${n.name}`:n.name}getMetaPathCaption(e,n){return e.metaPathCaption?`${e.metaPathCaption}.${n.caption}`:n.metaPathCaption??n.caption}enrichMetaPathCaptionArray(e,n){n.metaPathCaptionArray?n.metaPathCaptionArray.push(n.caption):n.metaPathCaptionArray=[e.caption,n.caption]}innerInitialize(e){this.launchOptions=e.options,e.options&&Array.isArray(e.options.allowedItems)&&(this.addItemsFilterFunction(this._getAllowedItemsFilter(e.options.allowedItems)),this.addRelatedItemsFilterFunction(this._getAllowedRelatedItemsFilter())),e.options&&Array.isArray(e.options.excludedItems)&&this.addItemsFilterFunction(this._getExcludedItemsFilter(e.options.excludedItems)),e.mapFunction&&this.setMapFunction(e.mapFunction),e.itemsCustomFilterFunction&&(this[Qr]=!0,this[ea].push(e.itemsCustomFilterFunction)),e.relatedItemsCustomFilterFunction&&(this[Kn]=!0,this[Ja].push(e.relatedItemsCustomFilterFunction)),e.sortFunction&&(this._sortFunction=e.sortFunction),e.relatedItemsSortFunction&&(this._relatedItemsSortFunction=e.relatedItemsSortFunction)}updateBreadCrumbsByIndex(e){if(this.breadCrumbs.length<e)throw new Error("Current index is out of breadCrumbs range");this.breadCrumbs=this.breadCrumbs.slice(0,e),this.breadCrumbs$.next(this.breadCrumbs)}getItems(e){let n;if(!e)n=this.getDefaultRootItem();else{if(e.hasChildren===!1)throw new Error("Can not drill down in item without children");n=this.copyStructureExplorerItem(e)}return this.getAllItems(n).pipe((0,h.tap)(()=>{this.caption$.next(this.getCaption()),this.setBreadCrumbs(n),this.breadCrumbs$.next(this.breadCrumbs)}),(0,h.map)(a=>this._mapItems(a)),(0,h.map)(a=>this.mapItemsToResult(a)),(0,h.map)(a=>this._enrichMetaPath(a,n)),(0,h.map)(a=>this._filterResultData(a)),(0,h.map)(a=>this._sortResultData(a)))}initialize(e){return this[Mc]=[],this[Ja]=[],this.innerInitialize(e),this._initializeCurrentState(e)}}class xc{constructor(e){if(this._selectedItemArrays=e,!Array.isArray(e))throw new Error("SelectedItemArrays property is invalid")}getRootItem(){const e=this._selectedItemArrays[0];return e&&e[e.length-2]}getSelectedItems(){return this._selectedItemArrays.map(e=>e[e.length-1])}getBreadCrumbs(){const e=this._selectedItemArrays[0];return e?.slice(0,e?.length-1)}}var Oo=o(70668),Dn;(function(r){r[r.General=0]="General",r[r.Advanced=1]="Advanced",r[r.None=2]="None"})(Dn||(Dn={}));const Sc={[Dn.General]:{type:Dn.General,name:"General"},[Dn.Advanced]:{type:Dn.Advanced,name:"Advanced"},[Dn.None]:{type:Dn.None,name:"None"}};class Mi extends Na{constructor(){super(...arguments),this._defaultAggregatedDataValueTypes=[X.r.DateTime,X.r.Date,X.r.Time,X.r.Integer,X.r.Float,X.r.FLOAT1,X.r.FLOAT2,X.r.FLOAT3,X.r.FLOAT4,X.r.FLOAT8,X.r.Money],this._blobDataValueTypes=[X.r.Image,X.r.Blob]}static _getFirstColumnOnlyFilter(){return()=>!1}static _getOnlyLookupsFilter(){return e=>e.data.isLookupType}static _createStagedMetaPathArray(e){return e.split(".").reduce((n,a)=>{const s=(n.length>0?n[n.length-1]:[]).concat(a);return n.concat([s])},[]).map(n=>n.join("."))}static _getIsEqualsType(e,n){return e.data.dataValueType===n}static _extractSelectedMetaPathsFromOptions(e){const n=e?.selectedMetaPaths;return Array.isArray(n)?n.filter(a=>a):[]}static _createFlattenStagedMetaPathArray(e){const n=(0,y.flatMap)(e,a=>Mi._createStagedMetaPathArray(a));return(0,y.uniq)(n)}static _getHasChildren(e){return e.isLookupType||e.dataValueType===X.r.IMAGELOOKUP}_getAllowedReferenceSchema(e){return n=>e.includes(n.data.referenceSchemaName)}_getPrimaryColumnFilter(){return e=>this._entitySchema.primaryColumnUId!==e.data.uId}_getDataValueTypeFilter(e){return n=>Mi._getIsEqualsType(n,e)}_getDataValueTypeLenientFilter(e){return n=>(0,Oo.Dy)(e)?.includes(n.data.dataValueType)||Mi._getIsEqualsType(n,e)}_getUsageTypeFilter(e){return n=>e===Dn.Advanced?!0:n.data.usageType===e}_getExcludeUsageTypeFilter(e){return n=>n.data.usageType!==e}_getExcludedDataValueTypesFilter(e){return n=>e.indexOf(n.data.dataValueType)<0}_getAggregationDataValueTypesFilter(){return e=>this._defaultAggregatedDataValueTypes.indexOf(e.data.dataValueType)>-1}_getEnableBlobDataValueTypeFilter(){return e=>this._blobDataValueTypes.indexOf(e.data.dataValueType)<0}_getMainRootItem(e){return this.getEntitySchema(e).pipe((0,h.map)(({caption:n})=>{const a=this.getDefaultRootItem();return a.caption=n.toString(),a}))}_getStructureExplorerItemArraysByMetaPath(e,n){const a="root",i=Mi._createFlattenStagedMetaPathArray(n),s=this._getMainRootItem(e).pipe((0,h.map)(D=>new Map([[a,D]]))),b=this.getColumnsInformationByMetaPath(e,i).pipe((0,h.map)(D=>new Map(D.map(W=>[W.metaPath,W]))));return(0,m.concat)(s,b).pipe((0,h.reduce)((D,W)=>{const ot=Array.from(D).concat(Array.from(W));return new Map(ot)},new Map),(0,h.map)(D=>n.map(W=>{const ot=Mi._createStagedMetaPathArray(W);return[D.get(a)].concat(ot.map(It=>D.get(It)))})))}mapFunction(e){return{id:e.uId,name:e.name,caption:e.caption||e.name,hasChildren:Mi._getHasChildren(e),metaPath:e.uId,metaPathCaption:e.caption,columnPath:e.name,tags:null,data:e}}mapItemsToResult(e){const n={items:[],relatedItems:[]};return e.forEach(a=>{n.items.push(a),a.hasChildren&&n.relatedItems.push(a)}),n}innerInitialize(e){const n={...e};n.mapFunction=n.mapFunction?n.mapFunction:this.mapFunction;const a=n.options;if(super.innerInitialize(n),!a.entitySchemaUId)throw new Error("EntitySchemaUId is not defined");a.displayId!==!0&&this.addItemsFilterFunction(this._getPrimaryColumnFilter()),a.firstColumnsOnly&&this.addRelatedItemsFilterFunction(Mi._getFirstColumnOnlyFilter()),a.dataValueType!=null&&(a.lenientDataValueTypeComparison?this.addItemsFilterFunction(this._getDataValueTypeLenientFilter(a.dataValueType)):this.addItemsFilterFunction(this._getDataValueTypeFilter(a.dataValueType))),a.onlyLookups&&this.addItemsFilterFunction(Mi._getOnlyLookupsFilter()),this.addItemsFilterFunction(this._getExcludeUsageTypeFilter(Dn.None)),this.addRelatedItemsFilterFunction(this._getExcludeUsageTypeFilter(Dn.None)),a.usageType!=null&&(this.addItemsFilterFunction(this._getUsageTypeFilter(a.usageType)),this.addRelatedItemsFilterFunction(this._getUsageTypeFilter(a.usageType))),Array.isArray(a.allowedReferenceSchemas)&&this.addItemsFilterFunction(this._getAllowedReferenceSchema(a.allowedReferenceSchemas)),a.enableBlobDataValueType||this.addItemsFilterFunction(this._getEnableBlobDataValueTypeFilter()),Array.isArray(a.excludedDataValueTypes)&&this.addItemsFilterFunction(this._getExcludedDataValueTypesFilter(a.excludedDataValueTypes)),a.aggregationColumnsOnly&&this.addItemsFilterFunction(this._getAggregationDataValueTypesFilter()),this._rootEntitySchemaUId=a.entitySchemaUId}getAllItems(e){const n=e.id?e.data.referenceSchemaUId:this._rootEntitySchemaUId;return this.getEntitySchema(n).pipe((0,h.map)(a=>(this._entitySchema=a,a.columns)))}getCaption(){return this._entitySchema.caption.toString()}getInitialState(e){const n=e.options?.entitySchemaUId,a=Mi._extractSelectedMetaPathsFromOptions(e.options);return n&&a?.length>0?this._getStructureExplorerItemArraysByMetaPath(n,a).pipe((0,h.map)(i=>new xc(i))):(0,m.of)(new xc([]))}}var Yi=o(70027);class Va extends Mi{constructor(e){super(),this._entitySchemaService=e,this.name=qn.Providers.ENTITY_SCHEMA}getEntitySchema(e){return this._entitySchemaService.getEntitySchemaByUId(e).pipe((0,h.map)(n=>n.entitySchema))}getColumnsInformationByMetaPath(e,n){return this._entitySchemaService.getEntitySchemaColumnsInformationByMetaPath(e,n).pipe((0,h.map)(a=>a.map(({column:i,columnMetaPath:s,columnPath:b,columnCaptionPath:D})=>{const W=this.mapFunction(i);return W.metaPath=s,W.columnPath=b,W.metaPathCaption=D,W})))}static{this.\u0275fac=function(n){return new(n||Va)(t.\u0275\u0275inject(Yi.e))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Va,factory:Va.\u0275fac})}}var qa=o(63741),ti=o(61320),Fa=o(21928),An=o(65751),bt=o(73308),Ii=o(3672);class ud extends qa.s{}var Es=o(43785),md=o(74709),gd=o(18587);const Yr=new t.InjectionToken("DataServiceUri");var Ln;(function(r){r[r.General=0]="General",r[r.Limited=1]="Limited"})(Ln||(Ln={}));var _r;(function(r){r[r.Undefined=0]="Undefined",r[r.Filter=1]="Filter",r[r.FilterSummary=2]="FilterSummary"})(_r||(_r={}));var wc;(function(r){r[r.Session=0]="Session",r[r.Workspace=1]="Workspace",r[r.Application=2]="Application"})(wc||(wc={}));class xi{constructor(e=wc.Session,n="",a=""){this._cacheLevel=e,this._cacheGroup=n,this._cacheItemName=a}getMetadata(){return{cacheLevel:this._cacheLevel,cacheGroup:this._cacheGroup,cacheItemName:this._cacheItemName}}}class fr extends Error{constructor(e){const n=e?.error?.responseStatus?.Message||e?.responseStatus?.Message||e?.message;super(n),this.errorCode=e?.error?.responseStatus?.ErrorCode}}class Do extends Error{constructor(e){super(`Query with config
${JSON.stringify(e.getMetadata())}
finished with error.`)}}let hd=class extends An.w{constructor(e,n,a){super(),this._sysSettingsService=e,this._httpClient=n,this._dataServiceUri=a,this._defaultDebounceTime=200,this._debounceTimeSysSettingName="QueryExecutorDebounceTime",this._requests=new m.Subject,Ii.z.checkArgumentEmpty("_httpClient",n),Ii.z.checkArgumentEmpty("_dataServiceUri",a),this._transactions=new Map,this._transactions$=new Map}_executeWritableQuery(e,n){const i={...e.getMetadata(),queryKind:Ln.General};return this._httpClient.post(n,i).pipe((0,h.catchError)(s=>{throw new fr(s)}),(0,h.tap)(s=>{if(!(s&&s.success))throw new Do(e)}))}_getQueryUri(e){if(e instanceof ud)return`${this._dataServiceUri}/SelectLocalizationQuery`;if(e instanceof qa.s)return`${this._dataServiceUri}/SelectQuery`;if(e instanceof Es.L)return`${this._dataServiceUri}/InsertQuery`;if(e instanceof md.N)return`${this._dataServiceUri}/UpdateQuery`;if(e instanceof gd.x)return`${this._dataServiceUri}/DeleteQuery`;throw new Error("Unsupported query type")}_getBundleSettings(){var e=this;return(0,bt.A)(function*(){return e._sysSettingsService?{executionDebounceTime:(yield e._sysSettingsService.getByCodes([e._debounceTimeSysSettingName])).values[e._debounceTimeSysSettingName]?.value||e._defaultDebounceTime}:Promise.resolve({executionDebounceTime:e._defaultDebounceTime})})()}_prepareDebouncedResponsesStream(){if(this._responses)return;let e=0;const n=(0,h.buffer)(this._requests.pipe((0,h.switchMap)(()=>(0,m.from)(this._getBundleSettings())),(0,h.tap)(a=>e=a.executionDebounceTime),(0,h.debounceTime)(e)));this._responses=this._requests.pipe(n,(0,h.filter)(a=>!!a.length),(0,h.mergeMap)(a=>{const i=a.map(b=>b.id),s=a.map(b=>b.query);return this.executeBatchSelectQuery(s).pipe((0,h.map)(b=>i.reduce((D,W,ot)=>D.set(W,b[ot]),new Map)))}),(0,h.share)())}_executeThrottled(e){this._prepareDebouncedResponsesStream();const n={id:(0,de.qv)(),query:e},a=this._responses.pipe((0,h.filter)(i=>i.has(n.id)),(0,h.map)(i=>i.get(n.id)),(0,h.take)(1));return a.subscribe(),this._requests.next(n),a}_executeImmediate(e){Ii.z.checkArgumentEmpty("query",e);const n=this._getQueryUri(e),a=this._getQueryRequest(e);return this._httpClient.post(n,a).pipe((0,h.catchError)(i=>{throw new fr(i)}),(0,h.tap)(i=>{if(!i?.rows)throw new Do(e)}),(0,h.map)(i=>this._toSelectQueryResponse(i)))}_toSelectQueryResponse(e){const n=this.getRowsFromResponse(e);return n.rowsAffected=e.rowsAffected,e.errorInfo&&(n.errorInfo=e.errorInfo),n}_getQueryRequest(e){const n=e.getMetadata();return e instanceof qa.s?{...n,queryKind:Ln.General,serverESQCacheParameters:new xi().getMetadata(),queryOptimize:!1,useMetrics:!1,querySource:_r.Undefined}:{...n,queryKind:Ln.General}}_getTransactionQueries(e){return this._transactions.has(e)||this._transactions.set(e,[]),this._transactions.get(e)}_executeInTransaction(e,n){Ii.z.checkArgumentEmpty("transactionId",n),this._getTransactionQueries(n).push(e);const i=new m.Subject;return this._transactions$.set(e.queryId,i),i.asObservable()}_executeBatchQuery(e){if(Ii.z.checkArgumentEmpty("config",e),Ii.z.checkArgumentEmpty("queries",e.queries),e.queries.length===0)return e.throwIfNoQueries===!0?(0,m.throwError)(()=>new Error("Queries array is empty")):(0,m.of)({hasErrors:!1,queryResults:[]});const n=`${this._dataServiceUri}/BatchQuery`,a={items:e.queries.map(i=>this._getQueryRequest(i))};return e.continueIfError!=null&&(a.continueIfError=e.continueIfError),this._httpClient.post(n,a).pipe((0,h.catchError)(i=>{throw new fr(i)}),(0,h.tap)(i=>{if(!i||i.hasErrors)throw new fr(i);for(const s of i.queryResults)if(!s?.success)throw new fr(s)}))}getRowsFromResponse(e){return e.rows}executeSelectQuery(e,n={throttled:!1},a){return a?(0,m.throwError)(()=>new Error("Not implemented")):n.throttled?this._executeThrottled(e):this._executeImmediate(e)}executeInsertQuery(e,n){return this.execute(e,n)}executeUpdateQuery(e,n){return this.execute(e,n)}executeDeleteQuery(e,n){return this.execute(e,n)}execute(e,n){if(Ii.z.checkArgumentEmpty("query",e),n)return this._executeInTransaction(e,n);const a=this._getQueryUri(e);return this._executeWritableQuery(e,a)}executeBatchSelectQuery(e){return this._executeBatchQuery({queries:e}).pipe((0,h.map)(n=>n.queryResults.map(a=>this._toSelectQueryResponse(a))))}commitTransaction(e){const n=this._getTransactionQueries(e);return this._executeBatchQuery({queries:n,continueIfError:!1,throwIfNoQueries:!0}).pipe((0,h.catchError)(a=>(n.forEach(i=>{const s=i.queryId;this._transactions$.get(s).error(a),this._transactions$.delete(s)}),(0,m.throwError)(()=>a))),(0,h.map)(a=>{const i={};return a.queryResults.forEach(s=>{const b=s.queryId,D=this._transactions$.get(b);D.next(s),D.complete(),this._transactions$.delete(b),i[b]=s}),i}),(0,h.tap)(()=>{this._transactions.delete(e)}))}rollbackTransaction(e){const n=this._getTransactionQueries(e),a={};return n.forEach(i=>{const s=i.queryId,b=this._transactions$.get(s),D={success:!1,rowsAffected:0,errorInfo:{message:"Transaction rollback",errorCode:"TransactionRollback",stackTrace:null}};a[s]=D,b.error(D),this._transactions$.delete(s)}),this._transactions.delete(e),(0,m.of)(a)}};hd=(0,u.__decorate)([(0,u.__param)(0,(0,t.Optional)()),(0,u.__param)(2,(0,t.Inject)(Yr)),(0,u.__metadata)("design:paramtypes",[Fa.A,l.HttpClient,String])],hd);const Si="DataService/json/SyncReply",Ts="DataService/ssp/json/SyncReply";var Ze=o(23092);const pa={provide:Yr,useFactory:r=>r?.isSSP?Ts:Si,deps:[[new t.Optional,Ze.oq]]};function Ec(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",44),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("value",n),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",a.getDisplayValue(n)," ")}}function br(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",49)(1,"div",50)(2,"label",51),t.\u0275\u0275text(3,"StructureExplorerItem Data"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",52)(5,"label",53),t.\u0275\u0275text(6,"Id:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"label",54),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",55)(10,"label",53),t.\u0275\u0275text(11,"Caption:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"label",54),t.\u0275\u0275text(13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(14,"div",56)(15,"label",53),t.\u0275\u0275text(16,"MetaPath:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"label",54),t.\u0275\u0275text(18),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(19,"div",57)(20,"label",53),t.\u0275\u0275text(21,"MetaPath caption:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(22,"label",54),t.\u0275\u0275text(23),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(24,"div",58)(25,"label",51),t.\u0275\u0275text(26,"EntitySchemaColumn Data"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(27,"div",59)(28,"label",53),t.\u0275\u0275text(29,"UId:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(30,"label",54),t.\u0275\u0275text(31),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(32,"div",59)(33,"label",53),t.\u0275\u0275text(34,"Name:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(35,"label",54),t.\u0275\u0275text(36),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(37,"div",59)(38,"label",53),t.\u0275\u0275text(39,"Caption:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(40,"label",54),t.\u0275\u0275text(41),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(42,"div",59)(43,"label",53),t.\u0275\u0275text(44,"DataValueType:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(45,"label",54),t.\u0275\u0275text(46),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(47,"div",59)(48,"label",53),t.\u0275\u0275text(49,"UsageType:"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(50,"label",54),t.\u0275\u0275text(51),t.\u0275\u0275elementEnd()()()()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(n.id),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(n.caption),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(n.metaPath),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(n.metaPathCaption),t.\u0275\u0275advance(8),t.\u0275\u0275textInterpolate(n.data.uId),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(n.data.name),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(n.data.caption),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(a.getDataValueTypeName(n.data.dataValueType)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate(a.getUsageTypeName(n.data.usageType))}}function _d(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",45)(1,"label",46),t.\u0275\u0275text(2,"Results"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",47),t.\u0275\u0275template(4,br,52,9,"div",48),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(5,1,n.results))}}function v_(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",60),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n.value),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1("",n.displayValue," ")}}function ei(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",60),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n.value),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1("",n.displayValue," ")}}function M_(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",60),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n.value),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1("",n.displayValue," ")}}function Nu(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",61)(1,"span",62),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"button",63),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n).index,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.removeReferenceSchema(i))}),t.\u0275\u0275text(4," Remove "),t.\u0275\u0275elementEnd()()}if(r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n),t.\u0275\u0275advance(),t.\u0275\u0275property("disabled",!a.enableAllowedReferenceSchemasFilter)}}function Jr(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",60),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n.uId),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1("",n.caption||n.name," ")}}function Ao(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",60),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n.uId),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1("",n.caption||n.name," ")}}class Ps{constructor(e,n,a,i,s){this._structureExplorerService=e,this._queryExecutor=n,this._dialogService=a,this._entitySchemaService=i,this._environment=s,this.selectedDataValueType=X.r.Guid,this.excludedDataValueTypes=[],this.allowedItems=[],this.excludedItems=[],this.selectedUsageType=Dn.General,this.results=new m.BehaviorSubject(null)}get resultsExist$(){return this.results.pipe((0,h.map)(e=>e||[]),(0,h.map)(e=>e.length!==0))}_getDataValueTypeList(){return Object.keys(X.r).filter(n=>isNaN(Number(n))).map(n=>({value:X.r[n],displayValue:n}))}_getUsageTypeList(){return Object.keys(Dn).filter(n=>isNaN(Number(n))).map(n=>({value:Dn[n],displayValue:n}))}_filterEntitySchemaList(e){e?this.filteredEntitySchemaList=this.entitySchemaList.filter(n=>n.displayValue.toLowerCase().indexOf(e.toLowerCase())>=0):this.filteredEntitySchemaList=this.entitySchemaList}_getDataValueTypeOption(){return this.enableDataValueTypeFilter?this.selectedDataValueType:null}_getUsageTypeOption(){return this.enableUsageTypeFilter?this.selectedUsageType:null}_getDisplayIdOption(){return this.enableDisplayIdFilter?this.displayIdFilterValue:null}_getOnlyLookupsOption(){return this.enableOnlyLookupsFilter?this.onlyLookupsFilterValue:null}_getEnableBlobDataValueTypeOption(){return this.enableBlobDataValueTypeFilter?this.blobDataValueTypeValue:null}_getAllowedReferenceSchemasOption(){return this.enableAllowedReferenceSchemasFilter?Array.isArray(this.allowedReferenceSchemasValues)?this.allowedReferenceSchemasValues:[]:null}_getExcludedDataValueTypesOption(){return this.enableExcludedDataValueTypesFilter?this.excludedDataValueTypes:null}_getAllowedItemsOption(){return this.enableAllowedItemsFilter?this.allowedItems:null}_getExcludedItemsOption(){return this.enableExcludedItemsFilter?this.excludedItems:null}_loadEntitySchema(){return this._entitySchemaService.getEntitySchemaByUId(this.selectedEntitySchema.value).subscribe(e=>{this._entitySchema=e.entitySchema,this.entitySchemaColumnsList=this._entitySchema.columns.sort((n,a)=>n.caption.toLowerCase().localeCompare(a.caption.toLowerCase())),this.entitySchemaLoaded=!0})}_getFirstColumnsOnly(){return this.enableFirstColumnsOnlyFilter?this.firstColumnsOnlyValue:null}getDisplayValue(e){return e&&e.displayValue||""}onEntitySchemaFieldFocus(){this.filteredEntitySchemaList=this.entitySchemaList}onEntitySchemaFieldInput(e){this._filterEntitySchemaList(e.target.value)}onOptionSelected(e){this.selectedEntitySchema=e.option.value,this._loadEntitySchema()}onAutocompleteClosed(e){this.entitySchemaList.some(a=>a.displayValue.toLowerCase()===e.toLowerCase())||(this.selectedEntitySchema=null,this._filterEntitySchemaList(""))}getDataValueTypeName(e){return X.r[e]}getUsageTypeName(e){return Dn[e]}ngOnInit(){const e=this._environment.production;if(this.dataValueTypeList=this._getDataValueTypeList(),this.usageTypeList=this._getUsageTypeList(),!e)this.entitySchemaList=[{value:"16BE3651-8FE2-4159-8DD0-A803D4683DD3",displayValue:"Contact"},{value:"25D7C1AB-1DE0-4501-B402-02E0E5A72D6E",displayValue:"Account"}];else{const n=new qa.s("VwEntityObjects");n.addSchemaColumn("Id"),n.addSchemaColumn("Title").withOrdering(ti.Z.Asc,0),n.addSchemaColumn("Name"),this._queryExecutor.executeSelectQuery(n).pipe((0,h.map)(a=>a.map(i=>({value:i.Id,displayValue:i.Title})))).subscribe(a=>{this.entitySchemaList=a})}}onShowStructureExplorer(){if(!this.selectedEntitySchema){this._dialogService.openInfoDialog("Select EntitySchema").subscribe();return}const n={providers:[{name:qn.Providers.ENTITY_SCHEMA,options:{entitySchemaUId:this.selectedEntitySchema.value,dataValueType:this._getDataValueTypeOption(),usageType:this._getUsageTypeOption(),displayId:this._getDisplayIdOption(),onlyLookups:this._getOnlyLookupsOption(),enableBlobDataValueType:this._getEnableBlobDataValueTypeOption(),allowedReferenceSchemas:this._getAllowedReferenceSchemasOption(),excludedDataValueTypes:this._getExcludedDataValueTypesOption(),firstColumnsOnly:this._getFirstColumnsOnly(),allowedItems:this._getAllowedItemsOption(),excludedItems:this._getExcludedItemsOption(),selectedMetaPaths:this.results.value&&this.results.value.map(({metaPath:a})=>a)}}],enableMultiSelection:this.enableMultiSelection};this._structureExplorerService.show(n).subscribe(a=>{this.results.next(a)})}addReferenceSchema(e){if(!e){this._dialogService.openInfoDialog("Enter reference schema name").subscribe();return}this.allowedReferenceSchemasValues||(this.allowedReferenceSchemasValues=[]),this.allowedReferenceSchemasValues.push(e)}removeReferenceSchema(e){this.allowedReferenceSchemasValues.splice(e,1)}static{this.\u0275fac=function(n){return new(n||Ps)(t.\u0275\u0275directiveInject(Cn),t.\u0275\u0275directiveInject(An.w),t.\u0275\u0275directiveInject(Kt.o),t.\u0275\u0275directiveInject(Yi.e),t.\u0275\u0275directiveInject("environment"))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ps,selectors:[["ts-test-structure-explorer"]],features:[t.\u0275\u0275ProvidersFeature([Cn,pa,{provide:An.w,useFactory:(e,n,a)=>new hd(e,n,a),deps:[[new t.Optional,Fa.A],l.HttpClient,Yr]}])],decls:96,vars:46,consts:[["input",""],["auto","matAutocomplete"],["referenceSchema",""],[1,"main-ct"],[1,"structure-explorer-ct"],[1,"left-ct"],[1,"structure-explorer-settings"],[1,"entity-schema-ct"],[1,"entity-schema-name"],[1,"entity-schema-combobox"],["type","text","placeholder","EntitySchema","name","entity-schema-name","matInput","","required","","spellcheck","false",3,"focus","input","matAutocomplete","value"],[1,"mat-select-arrow"],[3,"optionSelected","closed","displayWith"],["class","entity-schema-list-option",3,"value",4,"ngFor","ngForOf"],[1,"actions-ct"],["mat-button","",1,"show-structure-explorer",3,"click"],["class","result-ct",4,"ngIf"],[1,"options-main-ct"],[1,"options-ct"],[1,"option","displayId-filter","bool-filter"],[1,"enable-filter",3,"ngModelChange","ngModel"],[1,"displayId-value","bool-value",3,"ngModelChange","disabled","ngModel"],[1,"option","only-lookups-filter","bool-filter"],[1,"only-lookups-value","bool-value",3,"ngModelChange","disabled","ngModel"],[1,"option","blob-data-value-type-filter","bool-filter"],[1,"blob-data-value-type-value","bool-value",3,"ngModelChange","disabled","ngModel"],[1,"option","first-columns-only-filter","bool-filter"],[1,"first-columns-only-value","bool-value",3,"ngModelChange","disabled","ngModel"],[1,"option","data-value-type-filter","filter-with-mat-select"],["appearance","fill",1,"filter-value"],[3,"ngModelChange","disabled","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"option","excluded-data-value-type-filter","filter-with-mat-select"],["multiple","",3,"ngModelChange","disabled","ngModel"],[1,"option","usage-type-filter","filter-with-mat-select"],[1,"option","allowed-reference-schemas-filter","filter-with-mat-select"],[1,"reference-schema-name","filter-value"],["type","text","placeholder","ReferenceSchema","name","reference-schema-name","matInput","",3,"disabled"],["mat-button","",1,"mat-add-button",3,"click","disabled"],["class","reference-schemas",4,"ngFor","ngForOf"],[1,"option","allowed-items-filter","filter-with-mat-select"],[1,"enable-filter",3,"ngModelChange","disabled","ngModel"],[1,"option","excluded-items-filter","filter-with-mat-select"],[1,"option","filter-with-mat-select"],[1,"entity-schema-list-option",3,"value"],[1,"result-ct"],[1,"result-caption"],[1,"result-list"],["class","result-item",4,"ngFor","ngForOf"],[1,"result-item"],[1,"result-data","structure-explorer-item-data"],[1,"result-data-caption"],[1,"result-property-ct","id-value"],[1,"property-name"],[1,"property-value"],[1,"result-property-ct","caption-value"],[1,"result-property-ct","meta-path"],[1,"result-property-ct","meta-path-caption"],[1,"result-data","entity-schema-column-data"],[1,"result-property-ct","uid-value"],[3,"value"],[1,"reference-schemas"],[1,"reference-schema-name"],["mat-button","",1,"remove-reference-schema",3,"click","disabled"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"mat-form-field",8)(6,"div",9)(7,"input",10,0),t.\u0275\u0275listener("focus",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onEntitySchemaFieldFocus())})("input",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onEntitySchemaFieldInput(b))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(9,"div",11),t.\u0275\u0275elementStart(10,"mat-autocomplete",12,1),t.\u0275\u0275listener("optionSelected",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onOptionSelected(b))})("closed",function(){t.\u0275\u0275restoreView(i);const b=t.\u0275\u0275reference(8);return t.\u0275\u0275resetView(a.onAutocompleteClosed(b.value))}),t.\u0275\u0275template(12,Ec,2,2,"mat-option",13),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(13,"div",14)(14,"button",15),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onShowStructureExplorer())}),t.\u0275\u0275text(15,"Show StructureExplorer "),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(16,_d,6,3,"div",16),t.\u0275\u0275pipe(17,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(18,"div",17)(19,"div",18)(20,"div",19)(21,"mat-checkbox",20),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.enableDisplayIdFilter,b)||(a.enableDisplayIdFilter=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(22,"Enable DisplayId Filter "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(23,"mat-checkbox",21),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.displayIdFilterValue,b)||(a.displayIdFilterValue=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(24,"displayId Filter "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(25,"div",22)(26,"mat-checkbox",20),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.enableOnlyLookupsFilter,b)||(a.enableOnlyLookupsFilter=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(27,"Enable Only Lookups Filter "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(28,"mat-checkbox",23),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.onlyLookupsFilterValue,b)||(a.onlyLookupsFilterValue=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(29,"Only Lookups Filter "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(30,"div",24)(31,"mat-checkbox",20),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.enableBlobDataValueTypeFilter,b)||(a.enableBlobDataValueTypeFilter=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(32," Enable Blob Data Value Type Filter "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(33,"mat-checkbox",25),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.blobDataValueTypeValue,b)||(a.blobDataValueTypeValue=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(34," Blob Data Value Type Filter "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(35,"div",26)(36,"mat-checkbox",20),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.enableFirstColumnsOnlyFilter,b)||(a.enableFirstColumnsOnlyFilter=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(37," Enable First Columns Only Filter "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(38,"mat-checkbox",27),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.firstColumnsOnlyValue,b)||(a.firstColumnsOnlyValue=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(39," First Columns Only Filter "),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(40,"div",18)(41,"div",28)(42,"mat-checkbox",20),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.enableDataValueTypeFilter,b)||(a.enableDataValueTypeFilter=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(43,"Enable DataValueType Filter "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(44,"mat-form-field",29)(45,"mat-label"),t.\u0275\u0275text(46,"DataValueType"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(47,"mat-select",30),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.selectedDataValueType,b)||(a.selectedDataValueType=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275template(48,v_,2,2,"mat-option",31),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(49,"div",32)(50,"mat-checkbox",20),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.enableExcludedDataValueTypesFilter,b)||(a.enableExcludedDataValueTypesFilter=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(51," Enable ExcludedDataValueTypes Filter "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(52,"mat-form-field",29)(53,"mat-label"),t.\u0275\u0275text(54,"ExcludedDataValueTypes"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(55,"mat-select",33),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.excludedDataValueTypes,b)||(a.excludedDataValueTypes=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275template(56,ei,2,2,"mat-option",31),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(57,"div",34)(58,"mat-checkbox",20),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.enableUsageTypeFilter,b)||(a.enableUsageTypeFilter=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(59," Enable UsageType Filter "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(60,"mat-form-field",29)(61,"mat-label"),t.\u0275\u0275text(62,"UsageType"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(63,"mat-select",30),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.selectedUsageType,b)||(a.selectedUsageType=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275template(64,M_,2,2,"mat-option",31),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(65,"div",18)(66,"div",35)(67,"mat-checkbox",20),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.enableAllowedReferenceSchemasFilter,b)||(a.enableAllowedReferenceSchemasFilter=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(68," Enable Allowed Reference Schemas Filter "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(69,"div")(70,"mat-form-field",36),t.\u0275\u0275element(71,"input",37,2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(73,"button",38),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const b=t.\u0275\u0275reference(72);return t.\u0275\u0275resetView(a.addReferenceSchema(b.value))}),t.\u0275\u0275text(74," Add "),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(75,Nu,5,2,"div",39),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(76,"div",18)(77,"div",40)(78,"mat-checkbox",41),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.enableAllowedItemsFilter,b)||(a.enableAllowedItemsFilter=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(79," Enable AllowedItems Filter "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(80,"mat-form-field",29)(81,"mat-label"),t.\u0275\u0275text(82,"AllowedItems"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(83,"mat-select",33),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.allowedItems,b)||(a.allowedItems=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275template(84,Jr,2,2,"mat-option",31),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(85,"div",42)(86,"mat-checkbox",41),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.enableExcludedItemsFilter,b)||(a.enableExcludedItemsFilter=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(87," Enable ExcludedItems Filter "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(88,"mat-form-field",29)(89,"mat-label"),t.\u0275\u0275text(90,"ExcludedItems"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(91,"mat-select",33),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.excludedItems,b)||(a.excludedItems=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275template(92,Ao,2,2,"mat-option",31),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(93,"div",43)(94,"mat-checkbox",20),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.enableMultiSelection,b)||(a.enableMultiSelection=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275text(95," Enable Multi selection "),t.\u0275\u0275elementEnd()()()()()()}if(n&2){const i=t.\u0275\u0275reference(11);t.\u0275\u0275advance(7),t.\u0275\u0275property("matAutocomplete",i)("value",a.getDisplayValue(a.selectedEntitySchema)),t.\u0275\u0275advance(3),t.\u0275\u0275property("displayWith",a.getDisplayValue),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.filteredEntitySchemaList),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(17,44,a.resultsExist$)),t.\u0275\u0275advance(5),t.\u0275\u0275twoWayProperty("ngModel",a.enableDisplayIdFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!a.enableDisplayIdFilter),t.\u0275\u0275twoWayProperty("ngModel",a.displayIdFilterValue),t.\u0275\u0275advance(3),t.\u0275\u0275twoWayProperty("ngModel",a.enableOnlyLookupsFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!a.enableOnlyLookupsFilter),t.\u0275\u0275twoWayProperty("ngModel",a.onlyLookupsFilterValue),t.\u0275\u0275advance(3),t.\u0275\u0275twoWayProperty("ngModel",a.enableBlobDataValueTypeFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!a.enableBlobDataValueTypeFilter),t.\u0275\u0275twoWayProperty("ngModel",a.blobDataValueTypeValue),t.\u0275\u0275advance(3),t.\u0275\u0275twoWayProperty("ngModel",a.enableFirstColumnsOnlyFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!a.enableFirstColumnsOnlyFilter),t.\u0275\u0275twoWayProperty("ngModel",a.firstColumnsOnlyValue),t.\u0275\u0275advance(4),t.\u0275\u0275twoWayProperty("ngModel",a.enableDataValueTypeFilter),t.\u0275\u0275advance(5),t.\u0275\u0275property("disabled",!a.enableDataValueTypeFilter),t.\u0275\u0275twoWayProperty("ngModel",a.selectedDataValueType),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.dataValueTypeList),t.\u0275\u0275advance(2),t.\u0275\u0275twoWayProperty("ngModel",a.enableExcludedDataValueTypesFilter),t.\u0275\u0275advance(5),t.\u0275\u0275property("disabled",!a.enableExcludedDataValueTypesFilter),t.\u0275\u0275twoWayProperty("ngModel",a.excludedDataValueTypes),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.dataValueTypeList),t.\u0275\u0275advance(2),t.\u0275\u0275twoWayProperty("ngModel",a.enableUsageTypeFilter),t.\u0275\u0275advance(5),t.\u0275\u0275property("disabled",!a.enableUsageTypeFilter),t.\u0275\u0275twoWayProperty("ngModel",a.selectedUsageType),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.usageTypeList),t.\u0275\u0275advance(3),t.\u0275\u0275twoWayProperty("ngModel",a.enableAllowedReferenceSchemasFilter),t.\u0275\u0275advance(4),t.\u0275\u0275property("disabled",!a.enableAllowedReferenceSchemasFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!a.enableAllowedReferenceSchemasFilter),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.allowedReferenceSchemasValues),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",!a.entitySchemaLoaded),t.\u0275\u0275twoWayProperty("ngModel",a.enableAllowedItemsFilter),t.\u0275\u0275advance(5),t.\u0275\u0275property("disabled",!a.enableAllowedItemsFilter),t.\u0275\u0275twoWayProperty("ngModel",a.allowedItems),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.entitySchemaColumnsList),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!a.entitySchemaLoaded),t.\u0275\u0275twoWayProperty("ngModel",a.enableExcludedItemsFilter),t.\u0275\u0275advance(5),t.\u0275\u0275property("disabled",!a.enableExcludedItemsFilter),t.\u0275\u0275twoWayProperty("ngModel",a.excludedItems),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.entitySchemaColumnsList),t.\u0275\u0275advance(2),t.\u0275\u0275twoWayProperty("ngModel",a.enableMultiSelection)}},dependencies:[_.NgForOf,_.NgIf,O.NgControlStatus,O.NgModel,nt.MatLegacyButton,q.MatLegacyFormField,q.MatLegacyLabel,lt.MatLegacyInput,oe.MatLegacyCheckbox,jn.MatLegacySelect,Tt.MatLegacyOption,c.MatLegacyAutocomplete,c.MatLegacyAutocompleteTrigger,_.AsyncPipe],styles:["[_nghost-%COMP%]{padding:5px;box-sizing:border-box;width:100%;height:100vh;display:block}.main-ct[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch;box-sizing:border-box;background-color:#fff;padding:20px;border-radius:5px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:flex-start}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]{flex-basis:30%;flex-shrink:0;display:flex;flex-direction:column;justify-content:flex-start;align-items:stretch}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .structure-explorer-settings[_ngcontent-%COMP%]{border:1px solid lightgray;border-radius:5px;box-shadow:0 0 3px #d3d3d3;padding:25px 10px 15px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .structure-explorer-settings[_ngcontent-%COMP%]   .entity-schema-ct[_ngcontent-%COMP%]{margin-left:10px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .structure-explorer-settings[_ngcontent-%COMP%]   .entity-schema-ct[_ngcontent-%COMP%]   .entity-schema-name[_ngcontent-%COMP%]{width:100%}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .structure-explorer-settings[_ngcontent-%COMP%]   .entity-schema-ct[_ngcontent-%COMP%]   .entity-schema-name[_ngcontent-%COMP%]   .entity-schema-combobox[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .structure-explorer-settings[_ngcontent-%COMP%]   .entity-schema-ct[_ngcontent-%COMP%]   .entity-schema-name[_ngcontent-%COMP%]   .entity-schema-combobox[_ngcontent-%COMP%]   .mat-select-arrow[_ngcontent-%COMP%]{display:none;width:0;height:0;border-left:4.8px solid transparent;border-right:4.8px solid transparent;border-top:4.8px solid;margin:0 4px;color:#000}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .structure-explorer-settings[_ngcontent-%COMP%]   .entity-schema-ct[_ngcontent-%COMP%]   .entity-schema-name[_ngcontent-%COMP%]   .entity-schema-combobox[_ngcontent-%COMP%]:hover   .mat-select-arrow[_ngcontent-%COMP%]{display:inline-block}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .structure-explorer-settings[_ngcontent-%COMP%]   .actions-ct[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin-top:20px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]{border:1px solid lightgray;border-radius:5px;box-shadow:0 0 3px #d3d3d3;padding:10px;margin-top:10px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]   .result-caption[_ngcontent-%COMP%]{color:#0c73e1;font-size:20px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]{margin-top:10px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid lightgray;border-radius:8px;padding:7px;margin-top:10px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-data[_ngcontent-%COMP%]{display:flex;flex-direction:column}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-data[_ngcontent-%COMP%]   .result-data-caption[_ngcontent-%COMP%]{color:#0c73e1;font-size:16px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-data[_ngcontent-%COMP%]   .property-name[_ngcontent-%COMP%]{font-weight:700}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-data.entity-schema-column-data[_ngcontent-%COMP%]   .result-property-ct[_ngcontent-%COMP%], .main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-data.structure-explorer-item-data[_ngcontent-%COMP%]   .result-property-ct[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:flex-start}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-data.entity-schema-column-data[_ngcontent-%COMP%]   .result-property-ct[_ngcontent-%COMP%]   .property-name[_ngcontent-%COMP%], .main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-data.structure-explorer-item-data[_ngcontent-%COMP%]   .result-property-ct[_ngcontent-%COMP%]   .property-name[_ngcontent-%COMP%]{margin-right:5px;flex-basis:25%;flex-shrink:0}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-data.entity-schema-column-data[_ngcontent-%COMP%]   .result-property-ct[_ngcontent-%COMP%]   .property-value[_ngcontent-%COMP%], .main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-data.structure-explorer-item-data[_ngcontent-%COMP%]   .result-property-ct[_ngcontent-%COMP%]   .property-value[_ngcontent-%COMP%]{flex-basis:100%}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .left-ct[_ngcontent-%COMP%]   .result-ct[_ngcontent-%COMP%]   .result-list[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-data.entity-schema-column-data[_ngcontent-%COMP%]{margin-top:5px;border-top:1px solid lightgray;padding-top:5px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .options-main-ct[_ngcontent-%COMP%]{flex-basis:100%;display:flex;flex-direction:row;align-items:flex-start;margin-left:20px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .options-main-ct[_ngcontent-%COMP%]   .options-ct[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:stretch;margin-left:10px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .options-main-ct[_ngcontent-%COMP%]   .options-ct[_ngcontent-%COMP%]:first-child{margin-left:0}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .options-main-ct[_ngcontent-%COMP%]   .options-ct[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;flex-direction:column;align-items:flex-start;border:1px solid lightgray;border-radius:5px;box-shadow:0 0 3px #d3d3d3;padding:20px;margin-top:10px;height:125px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .options-main-ct[_ngcontent-%COMP%]   .options-ct[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]:first-child{margin-top:0}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .options-main-ct[_ngcontent-%COMP%]   .options-ct[_ngcontent-%COMP%]   .option.filter-with-mat-select[_ngcontent-%COMP%]{padding:20px 20px 0}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .options-main-ct[_ngcontent-%COMP%]   .options-ct[_ngcontent-%COMP%]   .option.filter-with-mat-select[_ngcontent-%COMP%]   .filter-value[_ngcontent-%COMP%], .main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .options-main-ct[_ngcontent-%COMP%]   .options-ct[_ngcontent-%COMP%]   .option.bool-filter[_ngcontent-%COMP%]   .bool-value[_ngcontent-%COMP%]{margin-top:10px}.main-ct[_ngcontent-%COMP%]   .structure-explorer-ct[_ngcontent-%COMP%]   .options-main-ct[_ngcontent-%COMP%]   .options-ct[_ngcontent-%COMP%]   .option.allowed-reference-schemas-filter[_ngcontent-%COMP%]{height:auto;min-height:125px}.entity-schema-list-option[_ngcontent-%COMP%]{font-size:14px;height:42px;line-height:42px}"]})}}const wi=[{path:"",component:Ps}],I_=[{provide:ze,useClass:Va,multi:!0},Ke];class va{static{this.\u0275fac=function(n){return new(n||va)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:va})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:I_,imports:[_.CommonModule,Ra.P,O.FormsModule,nt.MatLegacyButtonModule,lt.MatLegacyInputModule,oe.MatLegacyCheckboxModule,jn.MatLegacySelectModule,c.MatLegacyAutocompleteModule,we.RouterModule.forChild(wi)]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(va,{declarations:[Ps],imports:[_.CommonModule,Ra.P,O.FormsModule,nt.MatLegacyButtonModule,lt.MatLegacyInputModule,oe.MatLegacyCheckboxModule,jn.MatLegacySelectModule,c.MatLegacyAutocompleteModule,we.RouterModule]})})();class Vu{constructor(){this.iconName=""}get source(){return this.getSourceName()}getSourceCaption(){return""}getSourcePlaceholder(){return""}getSourceIconName(){return this.iconName}}class Ei extends Vu{constructor(e,n,a,i){super(),this._structureExplorerService=e,this._translateService=n,a.addSvgIconLiteral("entity-column-source",i.bypassSecurityTrustHtml(o(19148)))}getSourceName(){return"EntityColumnValuePickerProvider"}getActionItems(e){return[{source:this.source,caption:this._translateService.instant("EntityColumnValuePickerProvider.ValueFromFieldCaption"),iconName:"entity-column-source"}]}initValuePickerResult(e,n){return(0,m.of)({value:n,displayValue:"",source:this.getSourceName()})}handleSelectAction(e,n){const a={};Object.assign(a,e),Object.assign(a,{selectedMetaPaths:n&&n.value?[n.value]:null});const i={providers:[{name:qn.Providers.ENTITY_SCHEMA,options:a}]};return this._structureExplorerService.show(i).pipe((0,h.map)(s=>{let b=null;const D=s&&s[0];return D&&(b={source:this.source,value:D.metaPath,displayValue:D.metaPathCaption}),b}))}static{this.\u0275fac=function(n){return new(n||Ei)(t.\u0275\u0275inject(Cn),t.\u0275\u0275inject(f.TranslateService),t.\u0275\u0275inject(_t.MatIconRegistry),t.\u0275\u0275inject(p.DomSanitizer))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ei,factory:Ei.\u0275fac})}}var kn;(function(r){r[r.Const=0]="Const",r[r.Column=1]="Column",r[r.SysSetting=2]="SysSetting",r[r.SysVariable=3]="SysVariable"})(kn||(kn={}));var Ue;(function(r){r[r.Operator=0]="Operator",r[r.Operand=1]="Operand",r[r.Function=2]="Function"})(Ue||(Ue={}));class Os{constructor(e,n){this.type=e,this.dataType=n}}class Tc extends Os{constructor(e,n){super(Ue.Operand,n),this.operandType=e}}var ua;(function(r){r[r.SchemaColumn=0]="SchemaColumn",r[r.SubQuery=1]="SubQuery",r[r.Aggregation=2]="Aggregation"})(ua||(ua={}));function Ds(r){return r?.columnPath}class fd extends Tc{constructor(e,n){super(kn.Column,n),this.columnPath=e,this.columnOperandType=ua.SchemaColumn}get definitionId(){return Ds(this)}accept(e){return e&&e.visitColumnOperandExpression(this)}}class Fu{constructor(e,n){this.type=e,this.caption=n}}class Ji extends Fu{constructor(e,n){super(e,n)}checkVisitorAndVisitDefinition(e,n){return Ii.z.checkArgumentEmpty("visitor",e),n(e)}}class Mt extends Ji{constructor(e,n,a){super(Ue.Operand,a),this.operandType=e,this.dataType=n}}class d extends Mt{constructor(e,n,a){super(kn.Column,e,a||n),this.columnPath=n}get id(){return Ds(this)}get columnType(){return ua.SchemaColumn}accept(e){return this.checkVisitorAndVisitDefinition(e,n=>n.visitColumnOperandDefinition(this))}}var C=o(47149);class S{constructor(e=[]){this.errors=e}static createSuccess(){return new S}static createError(e){return new S(e)}static unionResults(...e){const n=e.map(a=>a?.errors||[]).reduce((a,i)=>a.concat(i),[]);return new S(n)}get success(){return!(this.errors&&this.errors.length>0)}}const V=new t.InjectionToken(`An injection token for visiting an array of Fomula
		items`),$=new t.InjectionToken("Represents a formula items validator"),at=new t.InjectionToken("Represents a collection of formula items validators"),pt=new t.InjectionToken("Represents an expression validator"),Ct=new t.InjectionToken("Represents a collection of expression validators");class Dt{constructor(e,n,a){this._formulaDefinitionToItemConverter=e,this._formulaItems=n,this._cursorPosition=a,this.FUNCTION_CURSOR_OFFSET=2}get formulaItems(){return this._formulaItems||[]}set cursorPosition(e){this._cursorPosition=e}get cursorPosition(){const e=this._cursorPosition,n=this.formulaItems.length,a=e<0||e>n;return e&&a?n:e}_insertFormulaItems(e,n){const a=this.cursorPosition;this._formulaItems.splice(a,0,...e),this.cursorPosition=a+n}addItem(e){const n=e.accept(this._formulaDefinitionToItemConverter);let a=n.length;e.type===Ue.Function&&(a=e?.parameterDefinitions?.length>0?this.FUNCTION_CURSOR_OFFSET:a),this._insertFormulaItems(n,a)}}class Wt{getById(e){const n=this.findWhere({id:e});if(!n)throw new Error(`definition with id:${e} not found`);return n}findWhere(e){const n=this.getDefinitions();return(0,y.find)(n,e)}}class zt{}class Me{}class un{constructor(e,n){this._expressionToFormulaItemsConverter=e,this._formulaDefinitionsToItemsConverter=n}toFormula(e){Ii.z.checkArgumentEmpty("expression",e);const n=e.accept(this._expressionToFormulaItemsConverter);return new Dt(this._formulaDefinitionsToItemsConverter,n)}static{this.\u0275fac=function(n){return new(n||un)(t.\u0275\u0275inject(Me),t.\u0275\u0275inject(V))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:un,factory:un.\u0275fac})}}class Ma{constructor(e){this._formulaItemsPipe=e}pipeFormulaItems(e){return this._formulaItemsPipe.transform(e)}}var Ee;(function(r){r[r.Logic=0]="Logic",r[r.String=1]="String",r[r.DateTime=2]="DateTime",r[r.Math=3]="Math"})(Ee||(Ee={}));var mn=o(6675),Pc=o(11587);function ja(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",10),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.filteringValue="")}),t.\u0275\u0275element(1,"mat-icon",11),t.\u0275\u0275elementEnd()}}function la(r,e){r&1&&t.\u0275\u0275element(0,"mat-icon",12)}function As(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-list-item",16),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onFormulaItemSelected(i))}),t.\u0275\u0275elementStart(1,"div"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()}if(r&2){const n=e.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.caption," ")}}function Bn(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"mat-action-list"),t.\u0275\u0275template(5,As,3,1,"mat-list-item",15),t.\u0275\u0275elementEnd()()),r&2){const n=e.$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",n.key," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.value)}}function Lo(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-accordion",13),t.\u0275\u0275template(1,Bn,6,2,"mat-expansion-panel",14),t.\u0275\u0275pipe(2,"keyvalue"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(2,1,n.functionItems))}}function bd(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-list-item",16),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onFormulaItemSelected(i))}),t.\u0275\u0275elementStart(1,"div"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()}if(r&2){const n=e.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.caption," ")}}function ju(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"mat-action-list"),t.\u0275\u0275template(5,bd,3,1,"mat-list-item",15),t.\u0275\u0275elementEnd()()),r&2){const n=e.$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",n.key," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.value)}}function Bu(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-accordion",13),t.\u0275\u0275template(1,ju,6,2,"mat-expansion-panel",14),t.\u0275\u0275pipe(2,"keyvalue"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(2,1,n.operandItems))}}class Oc{constructor(){this.filteringValue="",this.formulaItems=[],this.formulaItemSelected=new t.EventEmitter}get functionItems(){if(this._groupedFunctionItems)return this._groupedFunctionItems;const e=y.filter(this.formulaItems,n=>n.type===Ue.Function);return this._groupedFunctionItems=y.chain(e).map(n=>n).groupBy(n=>Object.keys(Ee).find(a=>Ee[a]===n.functionType)).value(),this._groupedFunctionItems}get operandItems(){if(this._groupedOperandItems)return this._groupedOperandItems;const e=y.filter(this.formulaItems,n=>n.type===Ue.Operand);return this._groupedOperandItems=y.chain(e).map(n=>n).groupBy(n=>Object.keys(Ee).find(a=>Ee[a]===n.operandType)).value(),this._groupedOperandItems}onFormulaItemSelected(e){this.formulaItemSelected.emit(e)}onFilteringValueChanged(e){this.filteringValue=e}static{this.\u0275fac=function(n){return new(n||Oc)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Oc,selectors:[["ts-formula-advanced-toolbar"]],inputs:{formulaItems:"formulaItems"},outputs:{formulaItemSelected:"formulaItemSelected"},decls:13,vars:3,consts:[["searchIcon",""],[1,"formula-advanced-toolbar"],[1,"filter-input-container"],["floatLabel","never"],["matInput","","type","text","spellcheck","false","autocomplete","off","placeholder","Search","data-qa","search-input",3,"input","value"],["matSuffix","","mat-icon-button","","aria-label","Clear","data-qa","clear-filter-btn",3,"click",4,"ngIf","ngIfElse"],[1,"toolbar-items"],["label","Functions"],["matTabContent",""],["label","Operands"],["matSuffix","","mat-icon-button","","aria-label","Clear","data-qa","clear-filter-btn",3,"click"],["matSuffix","","title","Clear",1,"clear-icon"],["matSuffix","",1,"search-icon"],["multi",""],[4,"ngFor","ngForOf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"mat-form-field",3)(3,"input",4),t.\u0275\u0275listener("input",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onFilteringValueChanged(b.target.value))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,ja,2,0,"button",5)(5,la,1,0,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",6)(8,"mat-tab-group")(9,"mat-tab",7),t.\u0275\u0275template(10,Lo,3,3,"ng-template",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"mat-tab",9),t.\u0275\u0275template(12,Bu,3,3,"ng-template",8),t.\u0275\u0275elementEnd()()()()}if(n&2){const i=t.\u0275\u0275reference(6);t.\u0275\u0275advance(3),t.\u0275\u0275property("value",a.filteringValue),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.filteringValue)("ngIfElse",i)}},dependencies:[_.NgForOf,_.NgIf,nt.MatLegacyButton,mn.MatAccordion,mn.MatExpansionPanel,mn.MatExpansionPanelHeader,mn.MatExpansionPanelTitle,q.MatLegacyFormField,q.MatLegacySuffix,_t.MatIcon,lt.MatLegacyInput,Pc.MatActionList,Pc.MatListItem,Gt.MatLegacyTabGroup,Gt.MatLegacyTab,Gt.MatLegacyTabContent,_.KeyValuePipe],styles:[".formula-advanced-toolbar[_ngcontent-%COMP%]   .toolbar-items[_ngcontent-%COMP%]   .mdc-list.mat-mdc-list-base.mat-mdc-action-list[_ngcontent-%COMP%]   .mat-mdc-list-item[_ngcontent-%COMP%]{font-size:13px}.formula-advanced-toolbar[_ngcontent-%COMP%]   .toolbar-items[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{font-size:16px}.formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:13px;width:100%}.formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-family:Open Sans,Regular,sans-serif;color:#444}.formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%]{vertical-align:middle}.formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-form-field-ripple[_ngcontent-%COMP%]{top:1px;height:1px;background:#006ce0}.formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-form-field-underline[_ngcontent-%COMP%]{border-bottom:1px #c8c8c8 solid;background-color:transparent;margin-top:3px}.formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{padding-top:5px;margin-bottom:-1.25em}.formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-form-field-empty.mat-form-field-label[_ngcontent-%COMP%]{padding-top:2px;color:#999}.formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{border-top:none}.formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%], .formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:8px}.formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#999;vertical-align:middle}.formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-icon.search-icon[_ngcontent-%COMP%]{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTYgMTYiPjxnIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzgwOTViMyIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCI+PGNpcmNsZSBjeD0iNiIgY3k9IjYiIHI9IjQuNSIvPjxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTSA5LjQsOS40IDE0LDE0Ii8+PC9nPjwvc3ZnPg==)}.formula-advanced-toolbar[_ngcontent-%COMP%]   .filter-input-container[_ngcontent-%COMP%]   .mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-suffix[_ngcontent-%COMP%]   .mat-icon.clear-icon[_ngcontent-%COMP%]{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPGcgaWQ9Ikdyb3VwXzIzNTUiIGRhdGEtbmFtZT0iR3JvdXAgMjM1NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTk0MyAtMjEzNCkiPg0KICAgIDxsaW5lIGlkPSJMaW5lXzE0NiIgZGF0YS1uYW1lPSJMaW5lIDE0NiIgeTE9IjEwIiB4Mj0iMTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0Ni41IDIxMzcuNSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzc1NzU3NSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjEiLz4NCiAgICA8bGluZSBpZD0iTGluZV8xNDciIGRhdGEtbmFtZT0iTGluZSAxNDciIHgyPSIxMCIgeTI9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5NDYuNSAyMTM3LjUpIiBmaWxsPSJub25lIiBzdHJva2U9IiM3NTc1NzUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8xMDkyIiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAxMDkyIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0MyAyMTM0KSIgZmlsbD0ibm9uZSIvPg0KICA8L2c+DQo8L3N2Zz4NCg==)}"]})}}class Vb{static{this.NUMBER_REGEX=/^\d+\.{0,1}\d*$/}static{this.DECIMAL_SEPARATOR="."}static _getNumericDataType(e){const n=e.indexOf(this.DECIMAL_SEPARATOR);if(n===-1)return X.r.Integer;const i=e.slice(n+1,e.length).length;return this._getNumericDataTypeByPrecision(i)}static _getNumericDataTypeByPrecision(e){return e>4?X.r.FLOAT8:e===4?X.r.FLOAT4:e===3?X.r.FLOAT3:e===2?X.r.Float:X.r.FLOAT1}static getResultDataType(e){return typeof e=="boolean"?X.r.Boolean:typeof e=="number"?this._getNumericDataType(e.toString()):typeof e=="string"?this.NUMBER_REGEX.test(e)?this._getNumericDataType(e):X.r.Text:null}}class Cd extends Tc{constructor(e,n){super(kn.Const,n??Vb.getResultDataType(e)),this.value=e}get definitionId(){}accept(e){return e&&e.visitConstOperandExpression(this)}}class gn extends Ji{constructor(e,n,a,i,s){super(Ue.Function,e),this.code=n,this.functionType=a,this.parameterDefinitions=i,this.returnDefinition=s}get id(){return this.code}accept(e){return this.checkVisitorAndVisitDefinition(e,n=>n.visitFunctionDefinition(this))}}class Fb{constructor(e,n){this.captionKey=e,this.items=n}}const Xr="DATEDIFF",Cr="DATEADD",Xi="DATEPART",zn=[X.r.Date,X.r.DateTime],Ls=[X.r.Time,X.r.DateTime],x_=[X.r.Date,X.r.Time,X.r.DateTime],qr=r=>[{name:"date1",dataTypes:r,description:"The first date to calculate the difference."},{name:"date2",dataTypes:r,description:"The second date to calculate the difference."}],ko={dataType:X.r.Integer,description:"Result date."},ks=[new gn("localizableStrings.FunctionDateDiffYearsCaption",Xr+"YEARS",Ee.DateTime,qr(zn),ko),new gn("localizableStrings.FunctionDateDiffQuartersCaption",Xr+"QUARTERS",Ee.DateTime,qr(zn),ko),new gn("localizableStrings.FunctionDateDiffMonthsCaption",Xr+"MONTHS",Ee.DateTime,qr(zn),ko),new gn("localizableStrings.FunctionDateDiffWeeksCaption",Xr+"WEEKS",Ee.DateTime,qr(zn),ko),new gn("localizableStrings.FunctionDateDiffDaysCaption",Xr+"DAYS",Ee.DateTime,qr(zn),ko),new gn("localizableStrings.FunctionDateDiffHoursCaption",Xr+"HOURS",Ee.DateTime,qr(Ls),ko),new gn("localizableStrings.FunctionDateDiffMinutesCaption",Xr+"MINUTES",Ee.DateTime,qr(Ls),ko),new gn("localizableStrings.FunctionDateDiffSecondsCaption",Xr+"SECONDS",Ee.DateTime,qr(Ls),ko)],to=r=>[{name:"date",dataTypes:r,description:"The date that will be modified."},{name:"number",dataTypes:[X.r.Integer],description:"The number of interval to add to date."}],Ti={dataType:X.r.DateTime,description:"Result date."},S_=[new gn("localizableStrings.FunctionDateAddYearsCaption",Cr+"YEARS",Ee.DateTime,to(zn),Ti),new gn("localizableStrings.FunctionDateAddQuartersCaption",Cr+"QUARTERS",Ee.DateTime,to(zn),Ti),new gn("localizableStrings.FunctionDateAddMonthsCaption",Cr+"MONTHS",Ee.DateTime,to(zn),Ti),new gn("localizableStrings.FunctionDateAddWeeksCaption",Cr+"WEEKS",Ee.DateTime,to(zn),Ti),new gn("localizableStrings.FunctionDateAddDaysCaption",Cr+"DAYS",Ee.DateTime,to(zn),Ti),new gn("localizableStrings.FunctionDateAddHoursCaption",Cr+"HOURS",Ee.DateTime,to(Ls),Ti),new gn("localizableStrings.FunctionDateAddMinutesCaption",Cr+"MINUTES",Ee.DateTime,to(Ls),Ti),new gn("localizableStrings.FunctionDateAddSecondsCaption",Cr+"SECONDS",Ee.DateTime,to(Ls),Ti)],Rs=r=>[{name:"date",dataTypes:r,description:"The date form which to take part."}],qi={dataType:X.r.Integer,description:"Result date."},ty=[new gn("localizableStrings.FunctionDatePartYearsCaption",Xi+"YEARS",Ee.DateTime,Rs(zn),qi),new gn("localizableStrings.FunctionDatePartMonthsCaption",Xi+"MONTHS",Ee.DateTime,Rs(zn),qi),new gn("localizableStrings.FunctionDatePartWeeksCaption",Xi+"WEEKS",Ee.DateTime,Rs(zn),qi),new gn("localizableStrings.FunctionDatePartDaysWeeksCaption",Xi+"DAYSWEEKS",Ee.DateTime,Rs(zn),qi),new gn("localizableStrings.FunctionDatePartDaysCaption",Xi+"DAYS",Ee.DateTime,Rs(zn),qi),new gn("localizableStrings.FunctionDatePartHoursCaption",Xi+"HOURS",Ee.DateTime,Rs(Ls),qi)],Dc={dataType:X.r.DateTime,description:"Result date."},jb=[new gn("localizableStrings.FunctionGetDateTimeCaption","GETDATE",Ee.DateTime,[],Dc)],w_=[...ks,...S_,...ty,...jb],zu=new gn("localizableStrings.FunctionDateDiffYearsCaption",Xr,Ee.DateTime,qr(x_).concat({name:"interval",dataTypes:[X.r.Integer],description:"The time/date interval to add."}),ko),Uu=new gn("localizableStrings.FunctionDatePartCaption",Xi,Ee.DateTime,Rs(x_).concat({name:"interval",dataTypes:[X.r.Integer],description:"The time/date interval to add."}),qi),Hu=new gn("localizableStrings.FunctionDateAddCaption",Cr,Ee.DateTime,to(x_).concat({name:"interval",dataTypes:[X.r.Integer],description:"The time/date interval to add."}),Ti);function Bb(r){const e=r.code;return e.startsWith(zu.code)?{fnCode:zu.code,fnDefinitionId:zu.id}:e.startsWith(Hu.code)?{fnCode:Hu.code,fnDefinitionId:Hu.id}:e.startsWith(Uu.code)?{fnCode:Uu.code,fnDefinitionId:Uu.id}:{fnCode:e,fnDefinitionId:r.id}}function ey(r){let e="";switch(r){case"DATEPARTYEARS":case"DATEDIFFYEARS":case"DATEADDYEARS":{e="Y";break}case"DATEPARTQUARTERS":case"DATEDIFFQUARTERS":case"DATEADDQUARTERS":{e="Q";break}case"DATEPARTMONTHS":case"DATEDIFFMONTHS":case"DATEADDMONTHS":{e="M";break}case"DATEPARTWEEKS":case"DATEADDWEEKS":case"DATEDIFFWEEKS":{e="W";break}case"DATEPARTDAYS":case"DATEDIFFDAYS":case"DATEADDDAYS":{e="D";break}case"DATEPARTHOURS":case"DATEDIFFHOURS":case"DATEADDHOURS":{e="H";break}case"DATEPARTMINUTES":case"DATEDIFFMINUTES":case"DATEADDMINUTES":{e="Mi";break}case"DATEPARTDAYSWEEKS":case"DATEDIFFDAYSWEEKS":case"DATEADDDAYSWEEKS":{e="DW";break}case"DATEDIFFSECONDS":case"DATEPARTSECONDS":case"DATEADDSECONDS":{e="S";break}default:return[]}return[new Cd(e,X.r.Text)]}function ny(r,e){const n=ey(r.code),a=e.concat(n),i=Bb(r);return{fnArgs:a,fnCode:i.fnCode,fnDefinitionId:i.fnDefinitionId}}function ay(r){return y.chain(r).map(n=>n).groupBy(n=>Bb(n).fnCode).map((n,a)=>n.length>1?new Fb(`localizableStrings.${a}FunctionsMenuCaption`,n):n[0]).value()}function Wu(r){const e=r.arguments;switch(r.code){case zu.code:case Uu.code:case Hu.code:{const n=iy(r);return{fnArgs:e.slice(0,e.length-1),fnCode:n?.code||r.code,fnDefinitionId:n?.id||r.definitionId}}default:return{fnArgs:e,fnCode:r.code,fnDefinitionId:r.definitionId}}}function iy(r){const e=r.arguments,n=e[e.length-1];let a=r.code;switch(n.value){case"Y":a+="YEARS";break;case"Q":a+="QUARTERS";break;case"M":a+="MONTHS";break;case"D":a+="DAYS";break;case"W":a+="WEEKS";break;case"H":a+="HOURS";break;case"Mi":a+="MINUTES";break;case"DW":a+="DAYSWEEKS";break;case"S":a+="SECONDS";break}return w_.find(i=>i.code===a)}var Ye;(function(r){r[r.Parentheses=0]="Parentheses",r[r.Arithmetic=1]="Arithmetic",r[r.Relation=2]="Relation",r[r.Ternary=3]="Ternary",r[r.Comma=4]="Comma",r[r.Point=5]="Point"})(Ye||(Ye={}));class Ns{get iconClassName(){switch((this.operatorItemDefinition||{}).operatorType){case Ye.Arithmetic:case Ye.Parentheses:return this.operatorItemDefinition.id;default:return null}}static{this.\u0275fac=function(n){return new(n||Ns)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ns,selectors:[["ts-operator-item"]],inputs:{operatorItemDefinition:"operatorItemDefinition"},decls:3,vars:3,consts:[["mat-button","","disableRipple","",1,"operator-item"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"button",0)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275attribute("data-qa",a.operatorItemDefinition==null?null:a.operatorItemDefinition.caption),t.\u0275\u0275advance(),t.\u0275\u0275attribute("icon",a.iconClassName),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a.operatorItemDefinition==null?null:a.operatorItemDefinition.caption))},dependencies:[nt.MatLegacyButton],styles:[`ts-operator-item .mat-button.operator-item{color:#54657d;border-radius:0}ts-operator-item .mat-button.operator-item .mat-button-wrapper{text-overflow:ellipsis;display:flex;overflow:hidden}ts-operator-item .mat-button.operator-item [icon]{font-size:0;width:16px;height:16px;display:inline-block;background-position:center;background-repeat:no-repeat}ts-operator-item .mat-button.operator-item [icon="+"]{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a,.b{fill:none;}.a{stroke:rgba(84, 101, 125, 1);stroke-miterlimit:10;}<\\/style></defs><g transform="translate(2.5 2.5)"><line class="a" x2="12" transform="translate(0 6)"/><line class="a" y1="12" transform="translate(6)"/></g><rect class="b" width="16" height="16"/></svg>')}ts-operator-item .mat-button.operator-item [icon="-"]{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a,.b{fill:none;}.a{stroke:rgba(84, 101, 125, 1);stroke-miterlimit:10;}<\\/style></defs><g transform="translate(2.5 8.5)"><line class="a" x2="12"/></g><rect class="b" width="16" height="16"/></svg>')}ts-operator-item .mat-button.operator-item [icon="*"]{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a{fill:none;}.b{fill:rgba(84, 101, 125, 1);}<\\/style></defs><rect class="a" width="16" height="16"/><path class="b" d="M5.133-12.156,4.8-9.07l3.109-.867.2,1.422-2.977.242L7.07-5.727l-1.344.734L4.352-7.82,3.1-4.992,1.727-5.727,3.617-8.273.672-8.516.9-9.937l3.055.867-.336-3.086Z" transform="translate(3.328 16.156)"/></svg>')}ts-operator-item .mat-button.operator-item [icon="/"]{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a{fill:none;}.b{fill:rgba(84, 101, 125, 1);}<\\/style></defs><rect class="a" width="16" height="16"/><path class="b" d="M5.711-11.422,1.453,0H.156L4.414-11.422Z" transform="translate(4.844 13.422)"/></svg>')}ts-operator-item .mat-button.operator-item [icon="("]{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a{fill:rgba(84, 101, 125, 1);}.b{fill:none;}<\\/style></defs><path class="a" d="M.641-4.383a12.106,12.106,0,0,1,.605-3.875,9.633,9.633,0,0,1,1.746-3.164H4.258A11.015,11.015,0,0,0,2.566-8.109,12.32,12.32,0,0,0,2-4.4,11.844,11.844,0,0,0,2.578-.734,11.375,11.375,0,0,0,4.242,2.531H2.992a9.207,9.207,0,0,1-1.75-3.1A11.793,11.793,0,0,1,.641-4.383Z" transform="translate(5.359 12.422)"/><rect class="b" width="16" height="16"/></svg>')}ts-operator-item .mat-button.operator-item [icon=")"]{background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a{fill:rgba(84, 101, 125, 1);}.b{fill:none;}<\\/style></defs><path class="a" d="M.641-4.383a12.106,12.106,0,0,1,.605-3.875,9.633,9.633,0,0,1,1.746-3.164H4.258A11.015,11.015,0,0,0,2.566-8.109,12.32,12.32,0,0,0,2-4.4,11.844,11.844,0,0,0,2.578-.734,11.375,11.375,0,0,0,4.242,2.531H2.992a9.207,9.207,0,0,1-1.75-3.1A11.793,11.793,0,0,1,.641-4.383Z" transform="translate(10.641 3.578) rotate(180)"/><rect class="b" width="16" height="16" transform="translate(16 16) rotate(180)"/></svg>')}ts-operator-item:hover{background-color:#f2f5ff}ts-operator-item:active{background-color:#e3e9f9}
`],encapsulation:2})}}function ry(r,e){if(r&1&&t.\u0275\u0275element(0,"span"),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275classMapInterpolate1("",n.iconClassName," button-icon")}}function oy(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ts-operator-item",15),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext().$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.formulaItemSelected.emit(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("operatorItemDefinition",n)}}function sy(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",16),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext().$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.formulaItemSelected.emit(i))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275attribute("data-qa",n.caption),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.caption," ")}}function cy(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",16),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext().$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.formulaItemSelected.emit(i))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275attribute("data-qa",n.caption),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.caption," ")}}function ly(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",16),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(s.formulaItemSelected.emit(i))}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(r&2){const n=e.$implicit;t.\u0275\u0275attribute("data-qa",n.caption),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.caption," ")}}function Ac(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",17),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-menu",18,2),t.\u0275\u0275template(7,ly,2,2,"button",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("matMenuTriggerFor",n),t.\u0275\u0275attribute("data-qa",t.\u0275\u0275pipeBind1(2,4,a.captionKey)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,6,a.captionKey)," "),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",a.items)}}function Lc(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0)(1,11),t.\u0275\u0275template(2,oy,1,1,"ts-operator-item",12)(3,sy,2,2,"button",13)(4,cy,2,2,"button",13),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(5,Ac,8,8,"ng-container",14),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitch",n.type),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.expressionType.Operator),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.expressionType.Operand),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.expressionType.Function),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isGroupItem(n))}}function yd(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",4)(1,"button",5,0),t.\u0275\u0275template(3,ry,1,3,"span",6),t.\u0275\u0275elementStart(4,"span",7),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"span",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"mat-menu",9,1),t.\u0275\u0275template(9,Lc,6,5,"ng-container",10),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("matMenuTriggerFor",n),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.iconClassName),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.caption),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",a.formulaItemsDefinitions)}}class kc{constructor(){this.formulaItemsDefinitions=[],this.caption="",this.iconClassName="",this.formulaItemSelected=new t.EventEmitter,this.expressionType=Ue}isGroupItem(e){return e instanceof Fb}static{this.\u0275fac=function(n){return new(n||kc)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:kc,selectors:[["ts-formula-items-drop-down"]],inputs:{formulaItemsDefinitions:"formulaItemsDefinitions",caption:"caption",iconClassName:"iconClassName"},outputs:{formulaItemSelected:"formulaItemSelected"},decls:1,vars:1,consts:[["menuTrigger","matMenuTrigger"],["menu","matMenu"],["secondLevelMenu","matMenu"],["class","formula-item-drop-down",4,"ngIf"],[1,"formula-item-drop-down"],["mat-button","",3,"matMenuTriggerFor"],[3,"class",4,"ngIf"],[1,"caption"],[1,"menu-icon","button-icon"],["yPosition","below",1,"formula-mat-menu"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"operatorItemDefinition","click",4,"ngSwitchCase"],["mat-menu-item","",3,"click",4,"ngSwitchCase"],[4,"ngIf"],[3,"click","operatorItemDefinition"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"formula-mat-menu","second-mat-menu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,yd,10,4,"div",3),n&2&&t.\u0275\u0275property("ngIf",(a.formulaItemsDefinitions==null?null:a.formulaItemsDefinitions.length)>0)},dependencies:[_.NgForOf,_.NgIf,_.NgSwitch,_.NgSwitchCase,nt.MatLegacyButton,Q.MatLegacyMenu,Q.MatLegacyMenuItem,Q.MatLegacyMenuTrigger,Ns,f.TranslatePipe],styles:[`.formula-item-drop-down{display:inline-block}.formula-item-drop-down:hover{background-color:#f2f5ff}.formula-item-drop-down:active{background-color:#e3e9f9}.formula-item-drop-down .button-icon{display:inline-block;height:16px;width:16px;background-position:center;background-repeat:no-repeat;margin-top:-2px}.formula-item-drop-down .caption{padding:0 8px;font-size:13px}.formula-item-drop-down .mat-menu-trigger{padding:0 10px 0 8px}.formula-item-drop-down .menu-icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojNTQ2NTdkO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQgNykiPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTc4Ny43NzktNjcuNDU1bDQsNCw0LTRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTc4Ny43NzkgNjcuNDU1KSIvPjwvZz48cmVjdCBjbGFzcz0iYiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+PC9zdmc+)}.formula-item-drop-down .mat-button{font-size:13px}.formula-item-drop-down .mat-button .mat-button-wrapper{display:flex;align-items:center}.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu{border-radius:0}.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu.mat-menu-panel{min-height:auto;max-height:200px;width:min-content;margin-top:1px}.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu.second-mat-menu{margin:2px 7px 0;max-height:225px}.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu .mat-menu-content:empty{margin:0}.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu .mat-menu-content{padding:0;margin:6px}.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu .mat-menu-content ts-operator-item{display:block;width:100%}.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu .mat-menu-content ts-operator-item .operator-item{width:100%}.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu .mat-menu-content .mat-button,.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu .mat-menu-content .mat-menu-item{font-family:Open Sans,Regular,sans-serif;font-size:13px;width:100%;text-align:left;padding:0 32px;line-height:30px;height:30px;color:#444}.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu .mat-menu-content .mat-button:hover,.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu .mat-menu-content .mat-menu-item:hover{background-color:#f2f5ff}.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu .mat-menu-content .mat-button:active,.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu .mat-menu-content .mat-menu-item:active{background-color:#e3e9f9}.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu .mat-menu-content .mat-button .mat-button-wrapper,.cdk-overlay-connected-position-bounding-box .cdk-overlay-pane .formula-mat-menu .mat-menu-content .mat-menu-item .mat-button-wrapper{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block}
`],encapsulation:2})}}function vd(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ts-formula-items-drop-down",5),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("formulaItemSelected",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.formulaItemSelected.emit(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("caption",t.\u0275\u0275pipeBind1(1,2,"localizableStrings.OperatorsMenuCaption"))("formulaItemsDefinitions",n.operators)}}function zb(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ts-operator-item",6),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.formulaItemSelected.emit(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=e.$implicit;t.\u0275\u0275property("operatorItemDefinition",n),t.\u0275\u0275attribute("data-qa",n.caption)}}class Rc{constructor(){this.formulaItemsDefinitions=[],this.pinnedFormulaItemsDefinitions=[],this.formulaItemSelected=new t.EventEmitter,this.operands=[],this.functions=[],this.operators=[]}_getFormulaItemDefinitionByType(e){return this.formulaItemsDefinitions.filter(n=>n.type===e)}ngOnInit(){const e=this._getFormulaItemDefinitionByType(Ue.Function);this.functions=ay(e),this.operands=this._getFormulaItemDefinitionByType(Ue.Operand),this.operators=this._getFormulaItemDefinitionByType(Ue.Operator)}static{this.\u0275fac=function(n){return new(n||Rc)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Rc,selectors:[["ts-formula-toolbar"]],inputs:{formulaItemsDefinitions:"formulaItemsDefinitions",pinnedFormulaItemsDefinitions:"pinnedFormulaItemsDefinitions"},outputs:{formulaItemSelected:"formulaItemSelected"},decls:7,vars:10,consts:[[1,"formula-toolbar"],["iconClassName","operand-icon","data-qa","operands",3,"formulaItemSelected","caption","formulaItemsDefinitions"],["iconClassName","function-icon","data-qa","functions",3,"formulaItemSelected","caption","formulaItemsDefinitions"],["iconClassName","operator-icon","data-qa","operators",3,"caption","formulaItemsDefinitions","formulaItemSelected",4,"ngIf"],["class","pinned-item",3,"operatorItemDefinition","click",4,"ngFor","ngForOf"],["iconClassName","operator-icon","data-qa","operators",3,"formulaItemSelected","caption","formulaItemsDefinitions"],[1,"pinned-item",3,"click","operatorItemDefinition"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"ts-formula-items-drop-down",1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("formulaItemSelected",function(s){return a.formulaItemSelected.emit(s)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"ts-formula-items-drop-down",2),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275listener("formulaItemSelected",function(s){return a.formulaItemSelected.emit(s)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,vd,2,4,"ts-formula-items-drop-down",3)(6,zb,1,2,"ts-operator-item",4),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("caption",t.\u0275\u0275pipeBind1(2,6,"localizableStrings.OperandsMenuCaption"))("formulaItemsDefinitions",a.operands),t.\u0275\u0275advance(2),t.\u0275\u0275property("caption",t.\u0275\u0275pipeBind1(4,8,"localizableStrings.FunctionsMenuCaption"))("formulaItemsDefinitions",a.functions),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.pinnedFormulaItemsDefinitions.length===0),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.pinnedFormulaItemsDefinitions))},dependencies:[_.NgForOf,_.NgIf,kc,Ns,f.TranslatePipe],styles:[`.formula-toolbar{display:flex;flex-wrap:wrap;background-color:#fff;border-bottom:1px solid #e7e7e7;border-left:1px solid #e7e7e7;border-right:1px solid #e7e7e7}.formula-toolbar .operator-item,.formula-toolbar .mat-menu-trigger{height:32px;line-height:32px;border-radius:0;color:#444;font-size:13px;font-family:Open Sans,Regular,sans-serif}.formula-toolbar .mat-menu-trigger{border-right:1px solid #e7e7e7}.formula-toolbar .pinned-item .operator-item{max-width:100px;min-width:45px;font-size:20px}.formula-toolbar .operand-icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmEsLmJ7ZmlsbDpub25lO30uYXtzdHJva2U6IzU0NjU3ZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9LmN7c3Ryb2tlOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEgMSkiPjxnIGNsYXNzPSJhIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDExKSI+PHJlY3QgY2xhc3M9ImMiIHdpZHRoPSIzIiBoZWlnaHQ9IjMiLz48cmVjdCBjbGFzcz0iYiIgeD0iMC41IiB5PSIwLjUiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz48L2c+PGcgY2xhc3M9ImEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYgMTEpIj48cmVjdCBjbGFzcz0iYyIgd2lkdGg9IjMiIGhlaWdodD0iMyIvPjxyZWN0IGNsYXNzPSJiIiB4PSIwLjUiIHk9IjAuNSIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPjwvZz48ZyBjbGFzcz0iYSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTIgMTEpIj48cmVjdCBjbGFzcz0iYyIgd2lkdGg9IjMiIGhlaWdodD0iMyIvPjxyZWN0IGNsYXNzPSJiIiB4PSIwLjUiIHk9IjAuNSIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPjwvZz48ZyBjbGFzcz0iYSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNiAwKSI+PHJlY3QgY2xhc3M9ImMiIHdpZHRoPSIzIiBoZWlnaHQ9IjMiLz48cmVjdCBjbGFzcz0iYiIgeD0iMC41IiB5PSIwLjUiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz48L2c+PHBhdGggY2xhc3M9ImEiIGQ9Ik0tMjIwOS44MTMsMjE5LjU5di00Ljg2NGgxMnY0Ljg2NCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIxMS4zMTMgLTIwOC4yMjUpIi8+PGxpbmUgY2xhc3M9ImEiIHkyPSI5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3LjUgMi41MDEpIi8+PC9nPjxyZWN0IGNsYXNzPSJiIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz48L3N2Zz4=)}.formula-toolbar .operator-icon{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyNC4zLjAsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiDQoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTYgMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQoJLnN0MHtmaWxsOm5vbmU7fQ0KCS5zdDF7ZmlsbDpub25lO3N0cm9rZTojNTQ2NTdEO3N0cm9rZS1taXRlcmxpbWl0OjEwO30NCjwvc3R5bGU+DQo8ZyBpZD0iR3JvdXBfNzcyMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIxMi44MTMgLTMyOS45NDgpIj4NCgk8ZyBpZD0iUmVjdGFuZ2xlXzY3MjYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjEwLjgxMyAzMjkuOTQ4KSI+DQoJCTxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0xLDBoMTBjMC41NSwwLDEsMC40NSwxLDF2MTRjMCwwLjU1LTAuNDUsMS0xLDFIMWMtMC41NSwwLTEtMC40NS0xLTFWMUMwLDAuNDUsMC40NSwwLDEsMHoiLz4NCgkJPHBhdGggY2xhc3M9InN0MSIgZD0iTTEsMC41aDEwYzAuMjgsMCwwLjUsMC4yMiwwLjUsMC41djE0YzAsMC4yOC0wLjIyLDAuNS0wLjUsMC41SDFjLTAuMjgsMC0wLjUtMC4yMi0wLjUtMC41VjENCgkJCUMwLjUsMC43MiwwLjcyLDAuNSwxLDAuNXoiLz4NCgk8L2c+DQoJPGcgaWQ9IlJlY3RhbmdsZV82NzI3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjIwOC44MTMgMzMxLjk0OCkiPg0KCQk8cmVjdCBjbGFzcz0ic3QwIiB3aWR0aD0iOCIgaGVpZ2h0PSI0Ii8+DQoJCTxyZWN0IHg9IjAuNSIgeT0iMC41IiBjbGFzcz0ic3QxIiB3aWR0aD0iNyIgaGVpZ2h0PSIzIi8+DQoJPC9nPg0KCTxnIGlkPSJSZWN0YW5nbGVfNjcyOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMDguODEzIDMzNi45NDgpIj4NCgkJPHJlY3QgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMSIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjAuMjgsMC41IDEuMjgsMC41IDEuMjgsMC41IAkJIi8+DQoJPC9nPg0KCTxnIGlkPSJSZWN0YW5nbGVfNjcyOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMDUuODEzIDMzNi45NDgpIj4NCgkJPHJlY3QgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMSIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjAuMjgsMC41IDEuMjgsMC41IDEuMjgsMC41IAkJIi8+DQoJPC9nPg0KCTxnIGlkPSJSZWN0YW5nbGVfNjczMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMDIuODEzIDMzNi45NDgpIj4NCgkJPHJlY3QgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMSIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjAuMjgsMC41IDEuMjgsMC41IDEuMjgsMC41IAkJIi8+DQoJPC9nPg0KCTxnIGlkPSJSZWN0YW5nbGVfNjczMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMDguODEzIDMzOC45NDgpIj4NCgkJPHJlY3QgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMSIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjAuMjgsMC41IDEuMjgsMC41IDEuMjgsMC41IAkJIi8+DQoJPC9nPg0KCTxnIGlkPSJSZWN0YW5nbGVfNjczMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMDUuODEzIDMzOC45NDgpIj4NCgkJPHJlY3QgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMSIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjAuMjgsMC41IDEuMjgsMC41IDEuMjgsMC41IAkJIi8+DQoJPC9nPg0KCTxnIGlkPSJSZWN0YW5nbGVfNjczMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMDIuODEzIDMzOC45NDgpIj4NCgkJPHJlY3QgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMSIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjAuMjgsMC41IDEuMjgsMC41IDEuMjgsMC41IAkJIi8+DQoJPC9nPg0KCTxnIGlkPSJSZWN0YW5nbGVfNjczNCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMDguODEzIDM0MC45NDgpIj4NCgkJPHJlY3QgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMSIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjAuMjgsMC41IDEuMjgsMC41IDEuMjgsMC41IAkJIi8+DQoJPC9nPg0KCTxnIGlkPSJSZWN0YW5nbGVfNjczNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMDUuODEzIDM0MC45NDgpIj4NCgkJPHJlY3QgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMSIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjAuMjgsMC41IDEuMjgsMC41IDEuMjgsMC41IAkJIi8+DQoJPC9nPg0KCTxnIGlkPSJSZWN0YW5nbGVfNjczNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMDIuODEzIDM0MC45NDgpIj4NCgkJPHJlY3QgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMSIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjAuMjgsMC41IDEuMjgsMC41IDEuMjgsMC41IAkJIi8+DQoJPC9nPg0KCTxnIGlkPSJSZWN0YW5nbGVfNjczNyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMDguODEzIDM0Mi45NDgpIj4NCgkJPHJlY3QgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMSIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjAuMjgsMC41IDEuMjgsMC41IDEuMjgsMC41IAkJIi8+DQoJPC9nPg0KCTxnIGlkPSJSZWN0YW5nbGVfNjczOCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMDUuODEzIDM0Mi45NDgpIj4NCgkJPHJlY3QgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMSIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjAuMjgsMC41IDEuMjgsMC41IDEuMjgsMC41IAkJIi8+DQoJPC9nPg0KCTxnIGlkPSJSZWN0YW5nbGVfNjczOSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyMDIuODEzIDM0Mi45NDgpIj4NCgkJPHJlY3QgY2xhc3M9InN0MCIgd2lkdGg9IjIiIGhlaWdodD0iMSIvPg0KCQk8cG9seWdvbiBjbGFzcz0ic3QxIiBwb2ludHM9IjAuMjgsMC41IDEuMjgsMC41IDEuMjgsMC41IAkJIi8+DQoJPC9nPg0KPC9nPg0KPHJlY3QgaWQ9IlJlY3RhbmdsZV82NzQwIiBjbGFzcz0ic3QwIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz4NCjwvc3ZnPg0K)}.formula-toolbar .function-icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojNTQ2NTdkO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEuNTU4IDEuNTg1KSI+PHBhdGggY2xhc3M9ImEiIGQ9Ik0tMjQwOS4zNjcsMjk0LjkxOWwtLjEzMS40ODNoLTEuMDdsLS44LDMuMmExOS4xNzEsMTkuMTcxLDAsMCwxLTEuMDc3LDMuMjc0LDUuNjUzLDUuNjUzLDAsMCwxLTEuNjU1LDIuMjU1LDIuMzIzLDIuMzIzLDAsMCwxLTEuMzQ4LjQ3NiwxLjEwNiwxLjEwNiwwLDAsMS0uNzQ3LS4yNjMuNTgxLjU4MSwwLDAsMS0uMjI3LS40NzYuNTM0LjUzNCwwLDAsMSwuMTg3LS40MDcuNjQ4LjY0OCwwLDAsMSwuNDU3LS4xNzIuNDc3LjQ3NywwLDAsMSwuMzM0LjEyNS4zNzguMzc4LDAsMCwxLC4xMzUuMjg1LjQuNCwwLDAsMS0uMTU0LjNxLS4xMTcuMS0uMTE3LjE1M2EuMTIuMTIsMCwwLDAsLjA1MS4xLjMzNi4zMzYsMCwwLDAsLjIuMDUxLDEuMzQ1LDEuMzQ1LDAsMCwwLC42NjMtLjIsMS45LDEuOSwwLDAsMCwuNjE5LS41ODksNC40ODcsNC40ODcsMCwwLDAsLjUxMy0xLjEzMnEuMS0uMzA4LjU0OS0yLjAyOWwxLjI3NS00Ljk1OGgtMS4yNzVsLjEtLjQ4M2EyLjg4OCwyLjg4OCwwLDAsMCwuODQ5LS4wODUsMS4wMjQsMS4wMjQsMCwwLDAsLjQ0My0uMzIyLDQuODM0LDQuODM0LDAsMCwwLC41MjQtLjg5LDcuMTg5LDcuMTg5LDAsMCwxLC44MjgtMS4zNjIsNCw0LDAsMCwxLDEuMTM4LS45NzgsMi4zNjUsMi4zNjUsMCwwLDEsMS4xMjUtLjMyNiwxLjM0NiwxLjM0NiwwLDAsMSwuODkzLjI4Mi44LjgsMCwwLDEsLjMzNy42MTIuNi42LDAsMCwxLS4xNjguNDMyLjU3MS41NzEsMCwwLDEtLjQzMi4xNzYuNTIyLjUyMiwwLDAsMS0uMzctLjEzMi40MTUuNDE1LDAsMCwxLS4xNDMtLjMxNS42MzMuNjMzLDAsMCwxLC4wOTUtLjI4OS42NDcuNjQ3LDAsMCwwLC4xLS4yMzEuMTg1LjE4NSwwLDAsMC0uMDY2LS4xNTQuNDUzLjQ1MywwLDAsMC0uMjc5LS4wNzMsMS4yOSwxLjI5LDAsMCwwLS44MjguMjkzLDMuMywzLjMsMCwwLDAtLjg3OCwxLjIxNnEtLjIuNDMyLS43MjUsMi4xNDZaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNDE2LjQyNyAtMjkwLjk1NikiLz48cGF0aCBjbGFzcz0iYSIgZD0iTS0yNDA3LjA0NSwyOTQuNzQzYTMuMDgyLDMuMDgyLDAsMCwxLC41NDIuNzYxLDEwLjE1NCwxMC4xNTQsMCwwLDEsLjQzMiwxLjM4NWwuNjQ1LS45NjdhNC4wNzgsNC4wNzgsMCwwLDEsLjYyMi0uNjcsMi41MjIsMi41MjIsMCwwLDEsLjY0NS0uNDM2Ljk5Mi45OTIsMCwwLDEsLjM4OC0uMDczLjcyNC43MjQsMCwwLDEsLjUuMTY4LjUzMi41MzIsMCwwLDEsLjE4Ni40MS41MTUuNTE1LDAsMCwxLS4xMDkuMzgxLjY4NS42ODUsMCwwLDEtLjQ2OS4xODMuOTQ0Ljk0NCwwLDAsMS0uMzMtLjA2NiwxLjgzNiwxLjgzNiwwLDAsMC0uNDYxLS4xMTcuNzA4LjcwOCwwLDAsMC0uNDE4LjIwNSw1Ljg0Miw1Ljg0MiwwLDAsMC0xLjA4NCwxLjQ3MmwuNiwyLjUyYTIuMjQyLDIuMjQyLDAsMCwwLC4yMzQuNjkyLjI2MS4yNjEsMCwwLDAsLjE5MS4xMTQuNjEuNjEsMCwwLDAsLjM1OS0uMTY5LDIuODU2LDIuODU2LDAsMCwwLC42ODgtLjg3OWwuMjU2LjEzMmE0LjU4OSw0LjU4OSwwLDAsMS0xLjE3MSwxLjQzNiwxLjE5MiwxLjE5MiwwLDAsMS0uNjgyLjMyMi43MjguNzI4LDAsMCwxLS42NTEtLjQ2MSwxNy45NzIsMTcuOTcyLDAsMCwxLS42MzgtMi40NjEsMTAuMzg4LDEwLjM4OCwwLDAsMS0xLjgzMSwyLjU1NiwxLjM4MiwxLjM4MiwwLDAsMS0uODY0LjM2Ni44LjgsMCwwLDEtLjUzNS0uMjEyLjU2LjU2LDAsMCwxLS4xNzUtLjQzMy41NDIuNTQyLDAsMCwxLC4xNjEtLjQuNTM1LjUzNSwwLDAsMSwuNC0uMTYyLjc3OC43NzgsMCwwLDEsLjUuMjM1LjU0My41NDMsMCwwLDAsLjI5My4xNjguNC40LDAsMCwwLC4yMjctLjExNyw1LjUzOSw1LjUzOSwwLDAsMCwuOTM4LTEuMiwxMS44NzksMTEuODc5LDAsMCwwLC43NzYtMS4zMzNxLS40NTQtMS43OC0uNDkxLTEuODgyYTEuMzY5LDEuMzY5LDAsMCwwLS40MzktLjY3NCwxLjM0NiwxLjM0NiwwLDAsMC0uOC0uMmMtLjExMywwLS4yNDIuMDA1LS4zODkuMDE1di0uMjY0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQxNi40MjcgLTI5MC45NTYpIi8+PC9nPjxyZWN0IGNsYXNzPSJiIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz48L3N2Zz4=)}
`],encapsulation:2})}}var Un;(function(r){r[r.Number=0]="Number",r[r.ColumnOperand=1]="ColumnOperand",r[r.Operator=2]="Operator",r[r.Cursor=3]="Cursor",r[r.Function=4]="Function"})(Un||(Un={}));class Wv{constructor(e){Object.assign(this,e)}}class yr{constructor(e){Object.assign(this,e)}}class Gu extends Fu{constructor(e,n,a){super(n,a),this._id=e}get id(){return this._id}checkVisitorAndVisitFormulaItem(e,n){return Ii.z.checkArgumentEmpty("visitor",e),n(e)}}class $u extends Gu{constructor(e,n,a){super(e,Ue.Operand,a),this.operandType=n}}class vr extends $u{constructor(e,n,a,i){super(a,kn.Const,i||vr._getSafeValue(e)),this.dataType=n,this.value=vr._getSafeValue(e),this.dataType=n??Vb.getResultDataType(e)}static _getSafeValue(e){return e!=null?String(e):""}accept(e){return this.checkVisitorAndVisitFormulaItem(e,n=>n.visitConstantOperand(this))}}class Vs extends Ji{constructor(e,n){super(Ue.Operator,n),this.operatorType=e}}class Md extends Vs{constructor(e){super(Ye.Point,e)}get id(){return"."}accept(e){return this.checkVisitorAndVisitDefinition(e,n=>n.visitPointOperatorDefinition(this))}}class Ku extends Vs{constructor(e){super(Ye.Comma,e)}get id(){return","}accept(e){return this.checkVisitorAndVisitDefinition(e,n=>n.visitCommaOperatorDefinition(this))}}class Ro{}class Ri{constructor(e,n,a){this._formulaDefinitionToItemConverter=n,this._formulaDefinitionsToItemsConverter=a,this._formulaItemDefinitions=e.getDefinitions()}_convertFormulaItemsToAnotherFormulaItems(e){const n=[];return e&&e.forEach(a=>{switch(a.type){case Ue.Operand:n.push(this._convertFormulaOperandToFormulaItem(a));break;case Ue.Operator:n.push(this._convertFormulaOperatorToFormulaItem(a));break;case Ue.Function:n.push(this._convertFormulaFunctionToFormulaItem(a));break}}),n}_convertFormulaOperandToFormulaItem(e){let n,a;switch(e.operandType){case kn.Const:n=Un.Number,a=e?.value;break;case kn.Column:n=Un.ColumnOperand;break;default:throw new Error(`not supporting operand type: ${e.operandType}`)}return new yr({id:e.id,type:n,value:a&&a.toString(),caption:e.caption})}_convertFormulaOperatorToFormulaItem(e){switch(e.operatorType){case Ye.Point:case Ye.Comma:return new yr({id:e.id,type:Un.Number,value:e.caption,caption:e.caption});case Ye.Arithmetic:case Ye.Parentheses:return new yr({id:e.id,type:Un.Operator,caption:e.caption});default:throw new Error(`The '${e.operatorType}' operator type is not supported.`)}}_convertFormulaFunctionToFormulaItem(e){return new yr({id:e.id,type:Un.Function,caption:e.caption})}_convertAnotherFormulaItemsToFormulaItems(e){const n=[];for(const a of e)switch(a.type){case Un.Operator:case Un.ColumnOperand:case Un.Function:const i=this._convertAnotherFormulaItemToFormulaItem(a);n.push(i);break;case Un.Number:const s=a.value;s==="."?n.push(this._createFormulaItemByDefinitionType(Md,"Point definition not found. Need provide it.")):s===","?n.push(this._createFormulaItemByDefinitionType(Ku,"Comma definition not found. Need provide it.")):n.push(this._createNumericConstantOperand(a));break}return n}_createFormulaItemByDefinitionType(e,n){const a=this._formulaItemDefinitions.find(i=>i instanceof e);if(a)return a.accept(this._formulaDefinitionToItemConverter);throw new Error(n)}_createNumericConstantOperand(e){return new vr(Number(e.value),X.r.Integer,e.id,e.caption)}_convertAnotherFormulaItemToFormulaItem(e){const n=e.id||e.caption;let a=this._formulaItemDefinitions.find(i=>i.id===n);if(a||(a=this._formulaItemDefinitions.find(i=>i.caption===e.caption)),!a)throw new Error(`Could not found formula item definition with '${e.id}' id or '${e.caption}' caption.`);return a.accept(this._formulaDefinitionToItemConverter)}convertFormulaToFormulaItems(e){const n=e&&e.formulaItems,a=this._convertFormulaItemsToAnotherFormulaItems(n),i=new yr({type:Un.Cursor}),s=e&&e.cursorPosition;return a.splice(s,0,i),a}convertFormulaItemsToFormula(e){e=e||[];const n=this._convertAnotherFormulaItemsToFormulaItems([...e]),a=e.findIndex(i=>i.type===Un.Cursor);return new Dt(this._formulaDefinitionsToItemsConverter,n,a)}static{this.\u0275fac=function(n){return new(n||Ri)(t.\u0275\u0275inject(Wt),t.\u0275\u0275inject(Ro),t.\u0275\u0275inject(V))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ri,factory:Ri.\u0275fac})}}class eo{constructor(){this.formulaClick=new t.EventEmitter}set caption(e){this._caption=e}get caption(){return this._caption||this.value}set index(e){this._index=e}get index(){return this._index}set value(e){this._value=e}get value(){return this._value}static{this.\u0275fac=function(n){return new(n||eo)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:eo,inputs:{caption:"caption",index:"index",value:"value"},outputs:{formulaClick:"formulaClick"}})}}class no extends eo{constructor(){super()}validateInput(e){return null}getFormulaItemType(){return Un.Cursor}static{this.\u0275fac=function(n){return new(n||no)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:no,selectors:[["ts-formula-cursor-item"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:0,consts:[[1,"formula-cursor"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"div",0)},styles:[`.formula-cursor,.formula-cursor-hidden{width:2px;height:21px;border-radius:2px;margin-left:-1px;margin-right:-1px;background-color:#84a3e3}.formula-input:focus .formula-cursor,.formula-input:focus .formula-cursor-hidden{animation:1s blink step-end infinite}.formula-cursor-hidden{background-color:transparent}@keyframes blink{0%{background-color:#84a3e3}50%{background-color:transparent}}
`],encapsulation:2})}}class Fs extends eo{constructor(){super()}getFormulaItemType(){return Un.Function}validateInput(e){return!1}handleItemClick(e){this.formulaClick.emit(e)}static{this.\u0275fac=function(n){return new(n||Fs)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Fs,selectors:[["ts-formula-function-item"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[1,"formula-function-item",3,"click"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"span",0),t.\u0275\u0275listener("click",function(s){return a.handleItemClick(s)}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a.caption))},styles:[".formula-function-item[_ngcontent-%COMP%]{padding:0 4px;color:#444;font-size:14px;font-family:Bpmonline Open Sans;font-weight:400}"]})}}class tr extends eo{constructor(){super()}getFormulaItemType(){return Un.Number}validateInput(e){return e.length===1&&e.match("[0-9.,]")!=null}handleItemClick(e){this.formulaClick.emit(e)}static{this.\u0275fac=function(n){return new(n||tr)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:tr,selectors:[["ts-formula-numeric-input-item"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[1,"formula-number-input-item",3,"click"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"span",0),t.\u0275\u0275listener("click",function(s){return a.handleItemClick(s)}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a.caption))},styles:[".formula-number-input-item[_ngcontent-%COMP%]{color:#444;font-size:14px;font-family:Bpmonline Open Sans;font-weight:400}"]})}}var dn=o(39371);class js extends eo{constructor(){super()}getFormulaItemType(){return Un.ColumnOperand}validateInput(e){return!1}handleItemClick(e){this.formulaClick.emit(e)}static{this.\u0275fac=function(n){return new(n||js)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:js,selectors:[["ts-formula-operand-item"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["matTooltipPosition","below","matTooltipShowDelay","800",1,"formula-operand-item-wrap",3,"click","matTooltip"],[1,"formula-operand-item"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275listener("click",function(s){return a.handleItemClick(s)}),t.\u0275\u0275elementStart(1,"span",1),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275property("matTooltip",a.caption),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.caption))},dependencies:[dn.MatTooltip],styles:[`.formula-operand-item-wrap{border-radius:20px;padding:0 16px;border:1px solid #b1b1b1;display:inline-block;margin:-1px 2px 4px}.formula-operand-item-wrap .formula-operand-item{font-size:14px;font-family:Bpmonline Open Sans;font-weight:400;color:#444;text-overflow:ellipsis;overflow:hidden;max-width:160px;white-space:nowrap;display:inline-block;margin-top:2px}.cdk-overlay-container .mat-mdc-tooltip{margin-top:4px;padding:10px;font-size:14px;line-height:19px;color:#444;background:#fff;word-break:break-word;box-shadow:#0000004d 0 0 .2em;border-radius:0;border-top:2px solid #22ac14;white-space:pre-line;text-overflow:clip}
`],encapsulation:2})}}class Bs extends eo{constructor(){super(),this._allowedOperatorsList=["+","-","/","*","(",")"]}_createFormulaOperatorFilterRegExp(e){let n="";return e.forEach(a=>n+=a),`[${n}]`}getFormulaItemType(){return Un.Operator}validateInput(e){const n=this._createFormulaOperatorFilterRegExp(this._allowedOperatorsList);return e.match(n)!=null}handleItemClick(e){this.formulaClick.emit(e)}static{this.\u0275fac=function(n){return new(n||Bs)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Bs,selectors:[["ts-formula-operator-item"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:1,consts:[[1,"formula-operator-item",3,"click"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"span",0),t.\u0275\u0275listener("click",function(s){return a.handleItemClick(s)}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a.caption))},styles:[".formula-operator-item[_ngcontent-%COMP%]{padding:0 4px;color:#444;font-size:14px;font-family:Bpmonline Open Sans;font-weight:400}"]})}}class Id{constructor(){this._formulaItems=[js,no,Bs,tr,Fs]}get FormulaItemInstance(){return this._instances?this._instances:(this._instances=[],this._formulaItems.forEach(e=>{const n=this._createFormulaItem(e);this._instances.push(n)}),this._instances)}_createFormulaItem(e){return new e}getFormulaItemType(e){let n=null;return this.FormulaItemInstance.forEach(a=>{a.validateInput(e)&&(n=a.getFormulaItemType())}),n}createComponent(e,n){const a=this.FormulaItemInstance.find(s=>s.getFormulaItemType()===e);return n.createComponent(a.constructor).instance}static{this.\u0275fac=function(n){return new(n||Id)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Id,factory:Id.\u0275fac,providedIn:"root"})}}function dy(r,e){}function py(r,e){r&1&&t.\u0275\u0275element(0,"div")}class Pi{set formulaData(e){e&&!y.isEqual(e,this._formulaData)&&(this._viewClear(),this._formulaData=e,this._generateComponents(),this.focusFormulaInputOnFormulaDataChange&&setTimeout(()=>{this._focusFormulaInput()},0))}get formulaData(){return this._formulaData}constructor(e){this._formulaItemFactory=e,this._formulaData=[],this.focusFormulaInputOnFormulaDataChange=!1,this.itemsChanged=new t.EventEmitter}_viewClear(){const e=this.container&&this.container.viewContainerRef;e&&e.clear()}_insertFormulaItem(e,n){this.formulaData.splice(e,0,n),this._generateComponents(),this.itemsChanged.emit(this.formulaData)}_removeFormulaItem(e){this.formulaData.splice(e,1),this._generateComponents(),this.itemsChanged.emit(this.formulaData)}_addCursor(e=-1){e=e===-1?this._formulaData.length:e,this._insertFormulaItem(e,new yr({type:Un.Cursor}))}_removeCursor(){let e=this._getCursorPosition();e===-1&&(e=this._formulaData.length),this._removeFormulaItem(e)}_removeCharBeforeCursor(){const e=this._getCursorPosition()-1;e>=0&&this._removeFormulaItem(e)}_removeCharAfterCursor(){const e=this._getCursorPosition()+1;e<this._formulaData.length&&this._removeFormulaItem(e)}_getCursorPosition(){return this._formulaData.findIndex(e=>e.type===Un.Cursor)}_moveCursorForward(){const e=this._getCursorPosition();e<this._formulaData.length&&this._moveCursorOnPosition(e+1)}_moveCursorBackward(){const e=this._getCursorPosition()-1;e>=0&&this._moveCursorOnPosition(e)}_moveCursorOnPosition(e){e>this._formulaData.length||(this._removeCursor(),this._addCursor(e))}_focusFormulaInput(){this.container&&this.container.viewContainerRef.element.nativeElement.parentElement.focus()}_getPositionOutsideItems(e){let n=0;const a=e.currentTarget.children[0].clientWidth;return e.offsetX>=a&&(n=this._formulaData.length),n}_addCursorIfNotExists(){let e=this._getCursorPosition();e===-1&&(e=this.formulaData.length,this._addCursor(e))}_addItemsFromTemplate(e){let n=this._getCursorPosition();this.formulaData.splice(n,0,...e.items),y.isNumber(e.cursorPosition)&&(n+=e.cursorPosition,this._moveCursorOnPosition(n))}_generateComponents(){this._viewClear(),this._formulaData.forEach((e,n)=>{this._generateComponent(n,e)})}_generateComponent(e,n){e===0&&this._viewClear();const a=this._formulaItemFactory.createComponent(n.type,this.container.viewContainerRef);a.caption=n.caption,a.value=n.value,a.formulaClick.subscribe(i=>{this.handleItemClick(i,e)})}ngOnDestroy(){this._viewClear()}handleClick(e){const n=this._getPositionOutsideItems(e);this._getCursorPosition()===-1?this._addCursor(n):this._moveCursorOnPosition(n),e.stopPropagation()}handleItemClick(e,n){const i=e.currentTarget.getBoundingClientRect(),s=e.clientX,b=i.left+i.width/2,D=this._getCursorPosition();let W=n;s<b?D!==-1&&D<n&&(W-=1):(D===-1||D>n)&&(W+=1),this._moveCursorOnPosition(W),e.stopPropagation()}handleKeyDown(e){const n=e.key;switch(n){case"Backspace":this._removeCharBeforeCursor();break;case"Delete":this._removeCharAfterCursor();break;case"ArrowLeft":this._moveCursorBackward();break;case"ArrowRight":this._moveCursorForward();break;default:const a=this._getCursorPosition(),i=this._formulaItemFactory.getFormulaItemType(n);Object.values(Un).includes(i)&&this._insertFormulaItem(a,new yr({type:i,caption:n,value:n}))}}addItem(e){this._addCursorIfNotExists(),y.isEmpty(e.template)||y.isEmpty(e.template.items)?this._insertFormulaItem(this._getCursorPosition(),e):this._addItemsFromTemplate(e.template),this._focusFormulaInput()}deletePreviousItem(){this._removeCharBeforeCursor()}static{this.\u0275fac=function(n){return new(n||Pi)(t.\u0275\u0275directiveInject(Id))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Pi,selectors:[["ts-formula-editor"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(Re,7),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.container=i.first)}},inputs:{formulaData:"formulaData",focusFormulaInputOnFormulaDataChange:"focusFormulaInputOnFormulaDataChange"},outputs:{itemsChanged:"itemsChanged"},decls:6,vars:1,consts:[["tabindex","0","dir","ltr",1,"formula-input",3,"click","keydown"],[1,"pre-formula-item"],["tsViewContainerRef",""],[4,"ngFor","ngForOf"],[1,"post-formula-item",3,"click"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275listener("click",function(s){return a.handleClick(s)})("keydown",function(s){return a.handleKeyDown(s)}),t.\u0275\u0275elementStart(1,"div",1),t.\u0275\u0275text(2,"="),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,dy,0,0,"ng-template",2)(4,py,1,0,"div",3),t.\u0275\u0275elementStart(5,"div",4),t.\u0275\u0275listener("click",function(s){return a.deletePreviousItem(),s.stopPropagation()}),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",a.formulaData))},dependencies:[_.NgForOf,Re,me.Dir],styles:[`.formula-input{-webkit-user-select:none;user-select:none;display:inline-flex;outline:none;flex-wrap:wrap;padding:0 .3em .2em;min-height:30px;border-bottom:1px solid #e7e7e7;width:100%;cursor:text}.pre-formula-item{font-size:14pt;width:20px;line-height:19px}.post-formula-item{margin-left:auto;-webkit-user-select:none;user-select:none;cursor:pointer;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIyLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxOCAxNiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTggMTY7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDpub25lO30KCS5zdDF7ZmlsbDojODE5NUIzO30KPC9zdHlsZT4KPGc+Cgk8Zz4KCQk8cmVjdCBjbGFzcz0ic3QwIiB3aWR0aD0iMTgiIGhlaWdodD0iMTYiLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xOCwxNUg1LjhMMC40LDhsNS40LTdIMThMMTgsMTV6IE02LjIsMTRIMTdsMC0xMkg2LjJMMS42LDhMNi4yLDE0eiIvPgoJPC9nPgoJPGc+CgkJPHJlY3QgeD0iMTAuNSIgeT0iMy44IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjcwNzEgLTAuNzA3MSAwLjcwNzEgMC43MDcxIC0yLjQzNSAxMC4xMjEzKSIgY2xhc3M9InN0MSIgd2lkdGg9IjEiIGhlaWdodD0iOC41Ii8+Cgk8L2c+Cgk8Zz4KCQk8cmVjdCB4PSI2LjgiIHk9IjcuNSIgdHJhbnNmb3JtPSJtYXRyaXgoMC43MDcxIC0wLjcwNzEgMC43MDcxIDAuNzA3MSAtMi40MzUgMTAuMTIxMykiIGNsYXNzPSJzdDEiIHdpZHRoPSI4LjUiIGhlaWdodD0iMSIvPgoJPC9nPgo8L2c+Cjwvc3ZnPgo=);width:18px;height:16px;margin-top:4px;margin-bottom:auto}
`],encapsulation:2})}}class er{constructor(e){this._formulaInputModelsConverter=e,this.formulaChanged=new t.EventEmitter}get formulaItems(){return this._formulaInputModelsConverter.convertFormulaToFormulaItems(this.formula)}onFormulaChanged(e){const n=this._formulaInputModelsConverter.convertFormulaItemsToFormula(e);this.formulaChanged.emit(n)}static{this.\u0275fac=function(n){return new(n||er)(t.\u0275\u0275directiveInject(Ri))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:er,selectors:[["ts-formula-input-editor"]],inputs:{formula:"formula"},outputs:{formulaChanged:"formulaChanged"},features:[t.\u0275\u0275ProvidersFeature([Ri])],decls:1,vars:2,consts:[[3,"itemsChanged","formulaData","focusFormulaInputOnFormulaDataChange"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"ts-formula-editor",0),t.\u0275\u0275listener("itemsChanged",function(s){return a.onFormulaChanged(s)}),t.\u0275\u0275elementEnd()),n&2&&t.\u0275\u0275property("formulaData",a.formulaItems)("focusFormulaInputOnFormulaDataChange",!0)},dependencies:[Pi],styles:[`ts-formula-editor{display:flex}ts-formula-editor .formula-input{padding:0 16px 3px}
`],encapsulation:2})}}class Nc{constructor(){this.formulaItems=[],this.pinnedFormulaItems=[],this.formulaChanged=new t.EventEmitter}_emitFormulaChanged(){this.formulaChanged.emit(this.formula)}onFormulaChanged(e){this.formula=e,this._emitFormulaChanged()}onFormulaItemSelected(e){this.formula.addItem(e),this._emitFormulaChanged()}static{this.\u0275fac=function(n){return new(n||Nc)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Nc,selectors:[["ts-advanced-formula-editor"]],inputs:{formula:"formula",formulaItems:"formulaItems",pinnedFormulaItems:"pinnedFormulaItems"},outputs:{formulaChanged:"formulaChanged"},decls:5,vars:3,consts:[[1,"editor"],[3,"formulaChanged","formula"],[1,"toolbar"],[3,"formulaItemSelected","formulaItemsDefinitions","pinnedFormulaItemsDefinitions"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div")(1,"div",0)(2,"ts-formula-input-editor",1),t.\u0275\u0275listener("formulaChanged",function(s){return a.onFormulaChanged(s)}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(3,"div",2)(4,"ts-formula-toolbar",3),t.\u0275\u0275listener("formulaItemSelected",function(s){return a.onFormulaItemSelected(s)}),t.\u0275\u0275elementEnd()()()),n&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("formula",a.formula),t.\u0275\u0275advance(2),t.\u0275\u0275property("formulaItemsDefinitions",a.formulaItems)("pinnedFormulaItemsDefinitions",a.pinnedFormulaItems))},dependencies:[Rc,er],styles:[".editor[_ngcontent-%COMP%]{padding-top:8px;border-top:1px solid #e7e7e7;border-left:1px solid #e7e7e7;border-right:1px solid #e7e7e7;background-color:#fff;overflow-y:auto;max-height:300px;display:flex;flex-direction:column-reverse}"]})}}var xd=o(57475);function No(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-drawer-container")(2,"mat-drawer",3,1)(4,"ts-formula-advanced-toolbar",4),t.\u0275\u0275listener("formulaItemSelected",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onFormulaItemSelected(i))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"mat-drawer-content",5)(6,"button",6),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275reference(3);return t.\u0275\u0275resetView(i.toggle())}),t.\u0275\u0275text(7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"ts-advanced-formula-editor",7),t.\u0275\u0275listener("formulaChanged",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onFormulaChanged(i))}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("mode","side"),t.\u0275\u0275advance(2),t.\u0275\u0275property("formulaItems",a.formulaItemDefinitions),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",n.opened?"<":">"," "),t.\u0275\u0275advance(),t.\u0275\u0275property("formula",a.formula)("formulaItems",a.formulaItemDefinitions)("pinnedFormulaItems",a.pinnedFormulaItemDefinitions)}}function Vc(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ts-advanced-formula-editor",7),t.\u0275\u0275listener("formulaChanged",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onFormulaChanged(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("formula",n.formula)("formulaItems",n.formulaItemDefinitions)("pinnedFormulaItems",n.pinnedFormulaItemDefinitions)}}class Ba{constructor(e,n,a,i,s,b,D,W){this._formulaValidator=n,this._expressionValidator=a,this._expressionFactoryMediator=i,this._expressionToFormulaConverter=s,this._formulaConverter=b,this._formulaDefinitionsToItemsConverter=D,this._dialogService=W,this._formulaCursorPosition=-1,this._formulaItemDefinitions=[],this._pinnedFormulaItemDefinitions=[],this.advancedFormulaToolbarVisible=!1,this.showFunctions=!0,this.expressionChanged=new t.EventEmitter,this.expressionValidated=new t.EventEmitter,this._formulaItemDefinitions=e.getDefinitions(),this._pinnedFormulaItemDefinitions=e.getPinnedDefinitions()}set expression(e){this._formula=e?this._initFormulaFromExpression(e):this._initEmptyFormula(),this._formula.cursorPosition=this._formulaCursorPosition}get formula(){return this._formula}get formulaItemDefinitions(){return this.showFunctions?this._formulaItemDefinitions:this._formulaItemDefinitions.filter(e=>e.type!==Ue.Function)}get pinnedFormulaItemDefinitions(){return this._pinnedFormulaItemDefinitions}_initEmptyFormula(){const e=this._createEmptyFormula();return this._validateFormulaItems(e.formulaItems),e}_initFormulaFromExpression(e){return e=this._getSafeExpression(e),this._validateExpression(e),this._createFormulaFromExpression(e)}_getSafeExpression(e){return e instanceof Os?e:this._expressionFactoryMediator.createExpression("expression",e)}_createEmptyFormula(){return new Dt(this._formulaDefinitionsToItemsConverter,[])}_createFormulaFromExpression(e){try{return this._expressionToFormulaConverter.toFormula(e)}catch(n){return this._dialogService.openInfoDialog(n.message),this._initEmptyFormula()}}_onFormulaChanged(e){if(this._formulaCursorPosition=e.cursorPosition,!this._validateFormulaItems(e.formulaItems).success)return;const i=this._formulaConverter.toExpression(e);this._validateExpression(i).success&&this.expressionChanged.emit(i)}_validateFormulaItems(e){const n=this._formulaValidator.validate(e);return this.expressionValidated.emit(n),n}_validateExpression(e){const n=this._expressionValidator.validate(e);return this.expressionValidated.emit(n),n}onFormulaChanged(e){this._onFormulaChanged(e)}onFormulaItemSelected(e){this.formula.addItem(e),this._onFormulaChanged(this.formula)}static{this.\u0275fac=function(n){return new(n||Ba)(t.\u0275\u0275directiveInject(Wt),t.\u0275\u0275directiveInject($),t.\u0275\u0275directiveInject(pt),t.\u0275\u0275directiveInject(zt),t.\u0275\u0275directiveInject(un),t.\u0275\u0275directiveInject(Ma),t.\u0275\u0275directiveInject(V),t.\u0275\u0275directiveInject(Kt.o))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ba,selectors:[["ts-formula-designer"]],inputs:{advancedFormulaToolbarVisible:"advancedFormulaToolbarVisible",showFunctions:"showFunctions",expression:"expression"},outputs:{expressionChanged:"expressionChanged",expressionValidated:"expressionValidated"},decls:3,vars:2,consts:[["elseBlock",""],["drawer",""],[4,"ngIf","ngIfElse"],[3,"mode"],[3,"formulaItemSelected","formulaItems"],[1,"drawer-content"],[1,"drawer-toggle-btn",3,"click"],[3,"formulaChanged","formula","formulaItems","pinnedFormulaItems"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,No,9,6,"ng-container",2)(1,Vc,1,3,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.advancedFormulaToolbarVisible)("ngIfElse",i)}},dependencies:[Oc,Nc,xd.MatDrawer,xd.MatDrawerContainer,xd.MatDrawerContent,_.NgIf],styles:[`:host mat-drawer-container{height:250px}.drawer-content{display:flex}.drawer-content .drawer-toggle-btn{height:100%;padding:0}ts-advanced-formula-editor{display:block}ts-advanced-formula-editor .formula-input{min-height:90px}
`],encapsulation:2})}}function uy(r,e){r&1&&t.\u0275\u0275element(0,"mat-icon",4)}function my(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span",5),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.linkCaption)}}class Fc{constructor(e,n){this.linkCaption="",this.linkUrl="",this.showIcon=!0,n.addSvgIconLiteral("info-icon",e.bypassSecurityTrustHtml(o(90651)))}static{this.\u0275fac=function(n){return new(n||Fc)(t.\u0275\u0275directiveInject(p.DomSanitizer),t.\u0275\u0275directiveInject(_t.MatIconRegistry))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Fc,selectors:[["ts-info-link"]],inputs:{linkCaption:"linkCaption",linkUrl:"linkUrl",showIcon:"showIcon"},decls:4,vars:3,consts:[[1,"info-link-wrap"],["target","_blank","rel","noopener",1,"info-link",3,"href"],["class","info-icon","svgIcon","info-icon",4,"ngIf"],["class","link-caption",4,"ngIf"],["svgIcon","info-icon",1,"info-icon"],[1,"link-caption"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"a",1),t.\u0275\u0275template(2,uy,1,0,"mat-icon",2)(3,my,2,1,"span",3),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("href",a.linkUrl,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.showIcon),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.linkCaption))},dependencies:[_.NgIf,_t.MatIcon],styles:[".info-link-wrap[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{display:flex;text-decoration:none;color:#648cdd;outline:none;overflow:hidden;font-size:13px;font-family:Open Sans Light,sans-serif;align-items:center}.info-link-wrap[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{margin:1px 8px 0}.info-link-wrap[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.info-link-wrap[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .link-caption[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}var za=o(17331);function gy(r,e){r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"ts-info-link",9),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementContainerEnd()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("linkCaption",t.\u0275\u0275pipeBind1(2,2,"localizableStrings.AcademyLinkTitle"))("linkUrl",t.\u0275\u0275pipeBind1(3,4,"localizableStrings.AcademyLinkUrl")))}class jc{constructor(e,n,a,i){this._dialogData=e,this._translateService=n,this._dialogRef=a,this._dialogService=i}isNumberDataValueTypes(e,n){return C.P.Number.includes(e)&&C.P.Number.includes(n)}isDateTimeDataValueTypes(e,n){return this._dialogData.canUseDateTimeFunctions&&C.P.DateTime.includes(e)&&C.P.DateTime.includes(n)}isValidDataValueTypes(e,n){return this.isNumberDataValueTypes(e,n)||this.isDateTimeDataValueTypes(e,n)}validate(e){const n=this._dialogData.dataValueType;if(this.isValidDataValueTypes(e.dataType,n))return S.createSuccess();{const s={code:"InvalidDataValueType",message:this._translateService.instant("localizableStrings.DataValueTypeValidationErrorMessage")};return S.createError([s])}}get canUseDateTimeFunctions(){return this._dialogData.canUseDateTimeFunctions}get expression(){return this._dialogData.formula}changedFormula(e){this._changedExpression=e}onFormulaValidated(e){this._lastValidationResult=e}onCancelled(){this._dialogRef.close(this.expression)}onSaved(){if(this._lastValidationResult.success){const e=this._changedExpression||this.expression,n=this.validate(e);if(n.success)this._dialogRef.close(e);else{const a=n.errors.map(i=>i.message).join(`
`);this._dialogService.openInfoDialog(a).subscribe()}}else{const e=this._lastValidationResult.errors.map(n=>n.message).join(`
`);this._dialogService.openInfoDialog(e).subscribe()}}static{this.\u0275fac=function(n){return new(n||jc)(t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef),t.\u0275\u0275directiveInject(Kt.o))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:jc,selectors:[["ts-value-picker-formula-dialog"]],decls:15,vars:12,consts:[[1,"formula-dialog-ct"],["mat-dialog-title","",1,"formula-dialog-title"],[1,"formula-title"],[4,"ngIf"],["mat-dialog-content","",1,"formula-dialog-content-ct"],[3,"expressionChanged","expressionValidated","expression","showFunctions"],["align","end",1,"formula-dialog-actions"],["mat-button","","mat-dialog-close","",1,"action-button","cancelBtn",3,"click"],["mat-flat-button","","color","accent",1,"action-button","selectBtn",3,"click"],[3,"linkCaption","linkUrl"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"span",2),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,gy,4,6,"ng-container",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",4)(7,"ts-formula-designer",5),t.\u0275\u0275listener("expressionChanged",function(s){return a.changedFormula(s)})("expressionValidated",function(s){return a.onFormulaValidated(s)}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"mat-dialog-actions",6)(9,"button",7),t.\u0275\u0275listener("click",function(){return a.onCancelled()}),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"button",8),t.\u0275\u0275listener("click",function(){return a.onSaved()}),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd()()()),n&2&&(t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,6,"FormulaValuePickerProvider.DialogTitleCaption")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.canUseDateTimeFunctions),t.\u0275\u0275advance(2),t.\u0275\u0275property("expression",a.expression)("showFunctions",a.canUseDateTimeFunctions),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(11,8,"FormulaValuePickerProvider.CancelButtonCaption")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(14,10,"FormulaValuePickerProvider.SelectButtonCaption")," "))},dependencies:[Ba,Ot.MatLegacyDialogClose,Ot.MatLegacyDialogTitle,Ot.MatLegacyDialogContent,Ot.MatLegacyDialogActions,nt.MatLegacyButton,_.NgIf,Fc,za.MatDialogClose,za.MatDialogTitle,za.MatDialogContent,za.MatDialogActions,f.TranslatePipe],styles:[`.formula-dialog-ct{width:47vw}.formula-dialog-ct .formula-dialog-title{display:flex;justify-content:space-between}.formula-dialog-ct .formula-dialog-title .formula-title{font-family:Open Sans Light,sans-serif}.formula-dialog-ct .formula-dialog-content-ct .caption{text-transform:none}
`],encapsulation:2})}}class ao{}class Vo extends ao{visitArithmeticOperator(e){return` ${e.caption} `}visitColumnOperand(e){return`[${e.caption}]`}visitCommaOperator(e){return e.caption}visitConstantOperand(e){return e.caption}visitFunctionFormulaItem(e){return e.caption}visitParenthesesOperator(e){return e.caption}visitPointOperator(e){return e.caption}visitRelationOperator(e){return e.caption}visitSysSettingOperand(e){return e.caption}visitSysVariableOperand(e){return e.caption}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Vo)))(a||Vo)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Vo,factory:Vo.\u0275fac})}}class zs extends Vu{constructor(e,n,a,i,s,b,D,W,ot){super(),this._expressionFactoryMediator=e,this._expressionToFormulaConverter=n,this._formulaItemDefinition=a,this._formulaDisplayValueVisitor=i,this._entitySchemaService=s,this._translateService=b,this._dialogService=D,W.addSvgIconLiteral("formula-source",ot.bypassSecurityTrustHtml(o(67302)))}static _sortByCaption(e,n){return e.caption.toLowerCase().localeCompare(n.caption.toLowerCase())}_isAllowedNumberType(e){return C.P.Number.includes(e)}_isAllowedDateTimeType(e){return this._canUseDateTimeFunctions&&C.P.DateTime.includes(e)}_isAllowedDataValueType(e){return this._isAllowedDateTimeType(e)||this._isAllowedNumberType(e)}_convertValueToExpression(e){return this._expressionFactoryMediator.createExpression("expression",e)}_configureFormulaItemDefinition(e){this._formulaItemDefinition.clearDefinitions(),this._formulaItemDefinition.addDefinitions([...e])}_getDisplayValue(e){if(!e)return"";try{const n=this._convertValueToExpression(e);return this._expressionToFormulaConverter.toFormula(n).formulaItems.map(i=>i.accept(this._formulaDisplayValueVisitor)).join("")}catch(n){return console.error(n),""}}_getValuePickerResult(e){return{value:e,source:this.getSourceName(),displayValue:this._getDisplayValue(e)}}_getColumnsDefinition(e){return this._entitySchemaService.getEntitySchemaByUId(e).pipe((0,h.map)(n=>n.entitySchema.columns.filter(a=>this._isAllowedDataValueType(a.dataValueType)).map(a=>new d(a.dataValueType,a.name,a.caption))),(0,h.map)(n=>n.sort(zs._sortByCaption)))}_getDialogResult(e,n){return this._dialogService.open(jc,{data:{formula:e,dataValueType:n,canUseDateTimeFunctions:this._canUseDateTimeFunctions},panelClass:["dialog-top-border","formula-dialog"]})}getSourceName(){return"FormulaValuePickerProvider"}getActionItems({dataValueType:e},n){const a=[];return this._canUseDateTimeFunctions=n.canUseDateTimeFunctions,this._isAllowedDataValueType(e)&&a.push({source:this.source,caption:this._translateService.instant("FormulaValuePickerProvider.ValueFromFieldCaption"),iconName:"formula-source"}),a}initValuePickerResult(e,n){const a=e&&e.entitySchemaUId;if(!a)throw new Error("Entity schema uId is required.");return this._getColumnsDefinition(a).pipe((0,h.map)(i=>(this._configureFormulaItemDefinition(i),this._getValuePickerResult(n))))}handleSelectAction(e,n){const a=e&&e.entitySchemaUId;if(!a)throw new Error("Entity schema uId is required.");const i=e&&e.dataValueType;return this._getColumnsDefinition(a).pipe((0,h.map)(s=>{this._configureFormulaItemDefinition(s)}),(0,h.mergeMap)(()=>{const s=n&&n.value;return this._getDialogResult(s,i)}),(0,h.map)(s=>({source:this.getSourceName(),value:s,displayValue:this._getDisplayValue(s)})))}static{this.\u0275fac=function(n){return new(n||zs)(t.\u0275\u0275inject(zt),t.\u0275\u0275inject(un),t.\u0275\u0275inject(Wt),t.\u0275\u0275inject(Vo),t.\u0275\u0275inject(Yi.e),t.\u0275\u0275inject(f.TranslateService),t.\u0275\u0275inject(Kt.o),t.\u0275\u0275inject(_t.MatIconRegistry),t.\u0275\u0275inject(p.DomSanitizer))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:zs,factory:zs.\u0275fac})}}class io{static{this.\u0275fac=function(n){return new(n||io)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:io})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,_t.MatIconModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(io,{declarations:[Fc],imports:[_.CommonModule,_t.MatIconModule],exports:[Fc]})})();var ro=o(99947);class ni{static{this.\u0275fac=function(n){return new(n||ni)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:ni})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[Cn,Ke],imports:[Ra.P,_.CommonModule,Ot.MatLegacyDialogModule,f.TranslateModule,Gt.MatLegacyTabsModule,nt.MatLegacyButtonModule,oe.MatLegacyCheckboxModule,ro.R,q.MatLegacyFormFieldModule,lt.MatLegacyInputModule,_t.MatIconModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(ni,{declarations:[Bt,Gn],imports:[Ra.P,_.CommonModule,Ot.MatLegacyDialogModule,f.TranslateModule,Gt.MatLegacyTabsModule,nt.MatLegacyButtonModule,oe.MatLegacyCheckboxModule,ro.R,q.MatLegacyFormFieldModule,lt.MatLegacyInputModule,_t.MatIconModule,qe]})})();class oo{static{this.\u0275fac=function(n){return new(n||oo)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:oo})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(oo,{imports:[_.CommonModule]})})();var In=o(31555),ie=o(55642),fe=o(5476),_e=o(34439),Rn=o(89199),Ce=o(50663),Le=o(48067),Je=o(93291),J=o(77592);class Nn{constructor(){this.ariaHidden=!1,this.role="button"}get ariaLabelAttr(){return this.ariaLabel||this.crtAccessibleAttributes||this.title}get titlelAttr(){if(this.title!=="")return this.title||this.crtAccessibleAttributes||this.ariaLabel}get tabIndexAttr(){return this.tabIndex??(this.ariaHidden?-1:0)}static{this.\u0275fac=function(n){return new(n||Nn)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Nn,selectors:[["","crtAccessibleAttributes",""]],hostVars:6,hostBindings:function(n,a){n&2&&t.\u0275\u0275attribute("aria-label",a.ariaLabelAttr)("title",a.titlelAttr)("tabindex",a.tabIndexAttr)("aria-hidden",a.ariaHidden)("role",a.role)("aria-controls",a.ariaControls)},inputs:{crtAccessibleAttributes:"crtAccessibleAttributes",title:"title",ariaLabel:"ariaLabel",tabIndex:"tabIndex",ariaHidden:"ariaHidden",role:"role",ariaControls:"ariaControls"},exportAs:["crtAccessibleAttributes"],standalone:!0})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Nn.prototype,"crtAccessibleAttributes",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Nn.prototype,"title",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Nn.prototype,"ariaLabel",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number)],Nn.prototype,"tabIndex",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Nn.prototype,"ariaHidden",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Nn.prototype,"role",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Nn.prototype,"ariaControls",void 0);var Vn=o(55801),E_=o(79017),T_=o(4147),Ft=o(34760),Qt=o(3671),$t=o(96677),$e=o(52793),pn=o(10098),Ub=o(17390),Sd=o(32625),Oi=o(16805),Zu=o(97343),wd=o(18046);const P_="";class Us{static{this._instanceOfKey="devkit_BaseValidator"}get isAsync(){return this.async}get validateFn(){return this.validate.bind(this)}static[Symbol.hasInstance](e){return e?.constructor?._instanceOfKey===Us._instanceOfKey}}var Gv=o(4930),hy=o(95639),O_=o(35738);function Hb(r){return r?function(e){(0,hy.zo)(r.type,"ValidatorTypeName");const n={...r,typeRef:e};(0,O_.UG)(n,e)}:e=>{}}let Ed=class extends Us{constructor(e){super(),this.injector=e}defaultValidationError(e){const n=this.injector?.get(f.TranslateService),a=e??{},i=n?.instant(this.i18nMessageKey,a);return{message:e?.message||i||""}}};Ed=(0,u.__decorate)([Hb(),(0,u.__metadata)("design:paramtypes",[t.Injector])],Ed);class _y extends Ed{constructor(){super(...arguments),this.i18nMessageKey="Validators.ColorPicker.Message",this.async=!1}_isValidHex(e){return new Ub.q(e).isValid&&e.startsWith("#")}_isEmpty(e){return e==null||e===""}validate(e,n){const a=e.value;return this._isEmpty(a)||a&&this._isValidHex(a)?null:{invalidHEXFormat:this.defaultValidationError(n)}}}var yn=o(58433),na=o(84137),Mr=o(58083),ai=o(80932);function Zn(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-base-input-width-holder",6),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("label",n.label)("minWidth",n.controlWidth)}}function Qu(r,e){r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader")}function Bc(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",18)(2,"span",19),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"mat-icon",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(n.errorMessages),t.\u0275\u0275advance(),t.\u0275\u0275property("crtTooltip",n.errors)}}function Td(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"color-github",23),t.\u0275\u0275listener("onChangeComplete",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onChangeColor(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("cdkTrapFocusAutoCapture",!0)("color",n.paletteSelectedColor)("colors",n.colors)("width",n.paletteWidth),t.\u0275\u0275attribute("id",n.githubPaletteId)}}function Wb(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"color-sketch",24),t.\u0275\u0275listener("onChangeComplete",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onChangeColor(i))})("keydown",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.extendedPickerKeydown(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("cdkTrapFocusAutoCapture",!0)("color",n.paletteSelectedColor)("presetColors",n.colors),t.\u0275\u0275attribute("id",n.sketchPaletteId)}}function Ir(r,e){if(r&1&&t.\u0275\u0275template(0,Td,1,5,"color-github",21)(1,Wb,1,4,"color-sketch",22),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",n.isBasicPicker),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isExtendedPicker)}}function Fo(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"label",8),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onLabelClick())}),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12,1),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onControlClick())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",13),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onControlClick())}),t.\u0275\u0275element(9,"mat-icon",14),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",15),t.\u0275\u0275template(11,Bc,5,2,"ng-container",16),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275template(12,Ir,2,2,"ng-template",17),t.\u0275\u0275listener("backdropClick",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.hidePalette())})("detach",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onDetachOverlay())})("attach",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onAttachOverlay())})}if(r&2){const n=t.\u0275\u0275reference(7),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.label),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("width",a.controlWidth,"px"),t.\u0275\u0275advance(3),t.\u0275\u0275styleProp("background-color",a.pickerBoxBackground),t.\u0275\u0275classProp("transparent-background",a.isTransparentColor),t.\u0275\u0275advance(2),t.\u0275\u0275property("crtAccessibleAttributes",a.getAriaLabel())("ariaControls",a.isBasicPicker?a.githubPaletteId:a.sketchPaletteId),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.invalid),t.\u0275\u0275advance(),t.\u0275\u0275property("cdkConnectedOverlayOrigin",n)("cdkConnectedOverlayOpen",a.isPaletteVisible)("cdkConnectedOverlayPositions",a.positions)("cdkConnectedOverlayScrollStrategy",a.scrollStrategyOptions.close())}}let ma=class _3 extends Sd.g{get readonly(){return!!this.control?.disabled}set control(e){super.control=e,this._setValidators()}get control(){return super.control}set colors(e){this._colors=this._mapColors(e)}get colors(){return this._colors}set selectedColor(e){this.control?.setValue(e)}get selectedColor(){return this.control?.value}get paletteSelectedColor(){return this._isTransparentColorValue(this.selectedColor)?this._transparentColor:this.selectedColor}get pickerBoxBackground(){return this.isTransparentColor?"":this.selectedColor}get isTransparentColor(){return this._isTransparentColorValue(this.selectedColor)||this.invalid}get isBasicPicker(){return this.pickerMode==="basic"}get isExtendedPicker(){return this.pickerMode==="extended"}get invalid(){return this.control.invalid}get errors(){return(0,Zu.OP)(this.control)}get errorMessages(){return this.errors.join(`
`)}get controlWidth(){return this.invalid?60:40}set pickerConfig(e){this._pickerConfig={...this._pickerConfig,...e}}constructor(e,n,a){super(e,null,n),this._injector=e,this._changeDetectorRef=n,this.scrollStrategyOptions=a,this._translateService=(0,t.inject)(f.TranslateService),this._transparentColor="transparent",this._transparentWhiteColor="#00000000",this._defaultColor=this._transparentColor,this._colors=[this._transparentColor,"#FFFFFF","#181818","#757575","#004FD6","#FFFE00","#0B8500","#0D2E4E","#FF4013","#FF6534","#FF8800","#FFAC07","#A6DE00","#00C853","#22AC14","#00BFA5","#FFD9D0","#FFE0D6","#FFE7CC","#FFEECD","#EDF9CC","#CCF4DC","#D2EED0","#CCF2ED","#009688","#F9307F","#B87CCF","#7848EE","#4F43C2","#0058EF","#03A9F4","#0091EA","#CCEAE7","#FED6E5","#F1E5F5","#E4DAFC","#DCD9F3","#CCDEFC","#CDEEFD","#CCE9FB"],this._defaultSimplePickerConfig={rowSize:8,closeAfterSelected:!0},this._pickerConfig=this._defaultSimplePickerConfig,this.githubPaletteId="color-github-id-"+(0,de.qv)(),this.sketchPaletteId="color-sketch-id-"+(0,de.qv)(),this.isPaletteVisible=!1,this.paletteWidth=116,this.isOverlayDetached=!0,this.positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetX:-8,offsetY:8},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetX:8,offsetY:8},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",offsetX:-8,offsetY:-8},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetX:8,offsetY:-8},{originX:"end",originY:"center",overlayX:"start",overlayY:"center"}],this.id=(0,de.qv)(),this.pickerMode="extended",this.selectedColorChange=new t.EventEmitter}_isTransparentColorValue(e){return!e||e?.toLowerCase()===this._transparentColor||e===P_}_getDefaultColor(){return this.colors.find(e=>e===this._defaultColor)}_getRandomColor(){const e=Math.floor(Math.random()*Math.floor(this.colors.length-1));return this.colors[e]}_formatColorValueIfNeed(e){return this._isTransparentColorValue(e)||e===this._transparentWhiteColor?P_:e}_mapColors(e){return e.map(n=>{switch(n.toUpperCase()){case P_:case this._transparentWhiteColor:case this._transparentColor.toUpperCase():return this._transparentColor;default:return n}})}_setValidators(){this.control?.addValidators(this._createValidator())}_createValidator(){return this.injector.get(wd.f).transform({instance:new _y(this.injector)})}_getColorValue(e){const n=new Ub.q(e);return this._hasAlpha(n)?n.toHex8String():n.toHexString().toUpperCase()}_hasAlpha(e){return e.getAlpha()!==1}isNeedHidePaletteOnChangeColor(e){const n=e.$event;return this._pickerConfig.closeAfterSelected&&this.isBasicPicker||this.isExtendedPicker&&n instanceof KeyboardEvent&&n.key===Ht.Key.Enter}showPalette(){!this.isOverlayDetached||this.colors.length===0||this.control.disabled||(this.initializePaletteWidth(),this.setPaletteVisible(!0))}initializeSelectedColor(){const e=this._getDefaultColor(),n=this._formatColorValueIfNeed(e??this._getRandomColor());this.control?.setValue(n,{emitEvent:!1})}initializePaletteWidth(){this.paletteWidth=this._pickerConfig.rowSize*29}setPaletteVisible(e){this.isPaletteVisible=e}hidePalette(){this.setPaletteVisible(!1)}ngOnInit(){this.selectedColor||this.initializeSelectedColor()}onControlClick(){this.showPalette()}onChangeColor(e){const n=this._getColorValue(e.color.rgb);this.selectedColor=this._formatColorValueIfNeed(n),this.selectedColorChange.emit(this.selectedColor),this.isNeedHidePaletteOnChangeColor(e)&&this.hidePalette()}onLabelClick(){this.showPalette()}onKeyDown(e){const n=e.key||e.code;["Enter"," "].includes(n)&&(e.preventDefault(),this.showPalette())}getColorPickerWrapClasses(){return{"crt-color-picker-wrap":!0,[`label-position-${this.displayLabelPosition}`]:!0}}onDetachOverlay(){this.isOverlayDetached=!0,this.setPaletteVisible(!1)}onAttachOverlay(){this.isOverlayDetached=!1}extendedPickerKeydown(e){e.target.localName==="input"&&e.key===Ht.Key.Enter&&this.hidePalette()}getAriaLabel(){return[this.label,this._translateService.instant("Components.ColorPicker.SelectedColor"),this.paletteSelectedColor,this.readonly?this._translateService.instant("Components.ColorPicker.Readonly"):!1].filter(Boolean).join(" ")}static{this.\u0275fac=function(n){return new(n||_3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(In.ScrollStrategyOptions))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:_3,selectors:[["crt-color-picker"]],hostVars:2,hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("keydown",function(s){return a.onKeyDown(s)}),n&2&&t.\u0275\u0275classProp("readonly",a.readonly)},inputs:{control:"control",id:"id",colors:"colors",selectedColor:"selectedColor",pickerMode:"pickerMode",pickerConfig:"pickerConfig"},outputs:{selectedColorChange:"selectedColorChange"},features:[t.\u0275\u0275ProvidersFeature([Oi.I]),t.\u0275\u0275InheritDefinitionFeature],decls:6,vars:5,consts:[["colorPicker",""],["overlayOrigin","cdkOverlayOrigin"],[3,"label","minWidth",4,"ngIf"],[1,"crt-base-input-container"],["crtResizable","",3,"resized","ngClass","crtResizableDisabled"],[4,"ngIf","ngIfElse"],[3,"label","minWidth"],[1,"crt-color-picker-label-container"],["crtTextOverflowTitle","",1,"crt-color-picker-label",3,"click"],[1,"crt-color-picker-control-baseline"],[1,"crt-color-picker-control-container"],[1,"crt-color-picker-control-box"],["cdkOverlayOrigin","",1,"crt-color-picker-box",3,"click"],["aria-haspopup","dialog",1,"crt-color-picker-choose-button",3,"click","crtAccessibleAttributes","ariaControls"],["svgIcon","color-picker-arrow"],[1,"crt-color-picker-tools-container"],[4,"ngIf"],["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","detach","attach","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayScrollStrategy"],[1,"crt-color-picker-tooltip"],[1,"cdk-visually-hidden"],["matSuffix","","svgIcon","info-icon",1,"crt-color-picker-invalid-icon",3,"crtTooltip"],["cdkTrapFocus","","triangle","hide","class","crt-color-picker-palette",3,"cdkTrapFocusAutoCapture","color","colors","width","onChangeComplete",4,"ngIf"],["cdkTrapFocus","","class","crt-color-picker-palette",3,"cdkTrapFocusAutoCapture","color","presetColors","onChangeComplete","keydown",4,"ngIf"],["cdkTrapFocus","","triangle","hide",1,"crt-color-picker-palette",3,"onChangeComplete","cdkTrapFocusAutoCapture","color","colors","width"],["cdkTrapFocus","",1,"crt-color-picker-palette",3,"onChangeComplete","keydown","cdkTrapFocusAutoCapture","color","presetColors"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275template(0,Zn,1,2,"crt-base-input-width-holder",2),t.\u0275\u0275elementStart(1,"div",3)(2,"div",4),t.\u0275\u0275listener("resized",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onResized(b))}),t.\u0275\u0275template(3,Qu,1,0,"crt-skeleton-loader",5)(4,Fo,13,14,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(n&2){const i=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngIf",a.displayLabelPosition==="auto"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",a.getColorPickerWrapClasses())("crtResizableDisabled",!a.isAutoLabelPosition||a.containerQueryMechanismAvailable),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loaderVisible)("ngIfElse",i)}},dependencies:[Ge.CdkTrapFocus,E_.GithubComponent,T_.SketchComponent,_.NgClass,_.NgIf,yn.W,Nn,q.MatLegacySuffix,_t.MatIcon,In.CdkConnectedOverlay,In.CdkOverlayOrigin,Le.C,na.d,Mr.q,ai.y],styles:['crt-placeholder[_ngcontent-%COMP%]{--crt-placeholder-background-color: var(--crt-palette-primary-contrast-500);--crt-placeholder-title-color: var(--crt-palette-foreground-500);--crt-placeholder-icon-color: var(--crt-palette-secondary-500);--crt-placeholder-subhead-color: var(--crt-palette-label-500)}crt-button[_ngcontent-%COMP%]{--crt-button-default-color: transparent;--crt-button-default-hover-color: var(--crt-palette-interaction-400);--crt-button-default-pressed-color: var(--crt-palette-interaction-900);--crt-button-default-disabled-color: transparent;--crt-button-default-contrast-color: var(--crt-palette-secondary-500);--crt-button-default-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-primary-color: var(--crt-palette-primary-500);--crt-button-primary-hover-color: var(--crt-palette-primary-800);--crt-button-primary-pressed-color: var(--crt-palette-primary-900);--crt-button-primary-disabled-color: var(--crt-palette-disabled-50);--crt-button-primary-contrast-color: var(--crt-palette-primary-contrast-500);--crt-button-primary-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-accent-color: var(--crt-palette-success-500);--crt-button-accent-hover-color: var(--crt-palette-success-800);--crt-button-accent-pressed-color: var(--crt-palette-success-900);--crt-button-accent-disabled-color: var(--crt-palette-disabled-50);--crt-button-accent-contrast-color: var(--crt-palette-success-contrast-500);--crt-button-accent-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-warning-color: var(--crt-palette-error-500);--crt-button-warning-hover-color: var(--crt-palette-error-800);--crt-button-warning-pressed-color: var(--crt-palette-error-900);--crt-button-warning-disabled-color: var(--crt-palette-disabled-50);--crt-button-warning-contrast-color: var(--crt-palette-error-contrast-500);--crt-button-warning-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-outline-color: var(--crt-palette-interaction-200);--crt-button-outline-hover-color: var(--crt-palette-interaction-400);--crt-button-outline-pressed-color: var(--crt-palette-interaction-900);--crt-button-outline-disabled-color: var(--crt-palette-disabled-50);--crt-button-outline-contrast-color: var(--crt-palette-secondary-500);--crt-button-outline-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-outline-border-color: var(--crt-palette-secondary-100);--crt-button-outline-hover-border-color: var(--crt-palette-secondary-100);--crt-button-outline-pressed-border-color: var(--crt-palette-secondary-100);--crt-button-outline-disabled-border-color: var(--crt-palette-disabled-100);--crt-button-outline-divider-color: var(--crt-palette-secondary-100)}crt-button[_ngcontent-%COMP%]   .crt-button--text[_ngcontent-%COMP%]{--crt-button-default-color: var(--crt-palette-secondary-500);--crt-button-default-hover-color: var(--crt-palette-secondary-A400);--crt-button-default-pressed-color: var(--crt-palette-secondary-A700);--crt-button-default-contrast-color: var(--crt-palette-secondary-500)}crt-checkbox[_ngcontent-%COMP%]{--crt-checkbox-background-color: var(--crt-palette-primary-500);--crt-checkbox-background-hover-color: var(--crt-palette-primary-900);--crt-checkbox-background-contrast-color: var(--crt-palette-primary-contrast-500);--crt-checkbox-background-disabled-color: var(--crt-palette-disabled-200);--crt-checkbox-background-disabled-hover-color: var(--crt-palette-disabled-500);--crt-checkbox-border-unchecked-color: var(--crt-palette-label-500);--crt-checkbox-border-unchecked-disabled-color: var(--crt-palette-disabled-200);--crt-checkbox-foreground-color: var(--crt-palette-label-500)}crt-autocomplete[_ngcontent-%COMP%]{--crt-autocomplete-opened-color: var(--crt-palette-secondary-A700);--crt-autocomplete-closed-color: var(--crt-palette-secondary-500);--crt-autocomplete-selection-window-color: var(--crt-palette-secondary-500);--crt-autocomplete-selection-window-focused-color: var(--crt-palette-secondary-A700)}.crt-base-edit-input[_ngcontent-%COMP%]{--crt-base-input-label-color: var(--crt-palette-label-500);--crt-base-input-foreground-color: var(--crt-palette-foreground-500);--crt-base-input-disabled-color: var(--crt-palette-disabled-500);--crt-base-input-readonly-color: var(--crt-palette-label-500);--crt-base-input-invalid-color: var(--crt-palette-error-500);--crt-base-input-tooltip-icon-color: var(--crt-palette-secondary-500);--crt-base-input-border-color: var(--crt-palette-border-500);--crt-base-input-border-focus-color: var(--crt-palette-primary-500)}body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-data-table[_ngcontent-%COMP%]{--crt-data-table-icon-color: var(--crt-palette-secondary-500);--crt-data-table-icon-hover-color: var(--crt-palette-secondary-A400);--crt-data-table-icon-active-color: var(--crt-palette-secondary-A700);--crt-data-table-invalid-color: var(--crt-palette-error-500);--crt-data-table-disabled-color: var(--crt-palette-label-500);--crt-data-table-background-color: var(--crt-palette-background-500);--crt-data-table-header-foreground-color: var(--crt-palette-label-500);--crt-data-table-drag-preview-background-color: var(--crt-palette-interaction-50);--crt-data-table-drag-placeholder-background-color: var(--crt-palette-interaction-500);--crt-data-table-cell-border-color: var(--crt-palette-border-500);--crt-data-table-cell-border-selected-color: var(--crt-palette-primary-500);--crt-data-table-cell-border-editing-color: var(--crt-palette-primary-500);--crt-data-table-cell-foreground-color: var(--crt-palette-foreground-500);--crt-data-table-cell-edited-icon-color: var(--crt-palette-foreground-100);--crt-data-table-row-background-active-color: var(--crt-palette-interaction-400);--crt-data-table-row-background-selected-color: var(--crt-palette-interaction-900);--crt-data-table-no-data-foreground-color: var(--crt-palette-label-500);--crt-data-table-numeration-foreground-color: var(--crt-palette-label-500)}.crt-dialog[_ngcontent-%COMP%]{--crt-dialog-border-radius: 0;--crt-dialog-title-foreground-color: var(--crt-palette-primary-500)}crt-expansion-panel-header[_ngcontent-%COMP%]{--crt-expansion-panel-header-title-color: var(--crt-palette-navigation-secondary-500);--crt-expansion-panel-header-expanded-toggle-icon-color: var(--crt-palette-navigation-primary-contrast-500);--crt-expansion-panel-header-expanded-toggle-icon-background-color: var(--crt-palette-navigation-primary-500);--crt-expansion-panel-header-expanded-toggle-icon-background-hover-color: var(--crt-palette-navigation-primary-900);--crt-expansion-panel-header-collapsed-toggle-icon-color: var(--crt-palette-disabled-contrast-500);--crt-expansion-panel-header-collapsed-toggle-icon-background-color: var(--crt-palette-disabled-200);--crt-expansion-panel-header-collapsed-toggle-icon-background-hover-color: var(--crt-palette-disabled-500)}crt-link[_ngcontent-%COMP%]{--crt-link-color: var(--crt-palette-link-500);--crt-link-hover-color: var(--crt-palette-link-800)}[dir=rtl][_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .crt-menu.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]   .menu-items-container[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-submenu-trigger.mat-menu-trigger[_ngcontent-%COMP%]   crt-menu-item[dir=rtl][_ngcontent-%COMP%]   .crt-menu-item[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .crt-menu.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]   .menu-items-container[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-submenu-trigger.mat-menu-trigger[_ngcontent-%COMP%]   crt-menu-item[dir=rtl][_ngcontent-%COMP%]   .crt-menu-clickable-item[_ngcontent-%COMP%]{padding:8px 40px 8px 24px}crt-navigation-panel[_ngcontent-%COMP%]{--navigation-panel-scrollbar-thumb-color: rgba(255, 255, 255, .5);--navigation-panel-scrollbar-track-color: rgba(255, 255, 255, .1)}crt-navigation-panel[_ngcontent-%COMP%]   crt-placeholder[_ngcontent-%COMP%]{--crt-placeholder-title-color: var(--crt-palette-background-A100);--crt-placeholder-icon-color: var(--crt-palette-background-A100);--crt-placeholder-subhead-color: var(--crt-palette-background-A100);--crt-placeholder-background-color: var(--crt-glass-color-dark-300)}body[screen-size-type=small][left-panel-collapsed=false][_ngcontent-%COMP%]   crt-navigation-panel[_ngcontent-%COMP%]   .navigation-groups-wrapper[_ngcontent-%COMP%]   crt-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .crt-button-inner-container[_ngcontent-%COMP%]   .btn-reversible-content[_ngcontent-%COMP%]{max-width:calc(100% - 24px)}.crt-base-edit-input-responsible[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{container-type:inline-size}@container (width <= 320px){[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-auto[_ngcontent-%COMP%]{min-height:52px;flex-direction:column}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-auto[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]{width:100%;display:flex;text-align:left}}@container (width > 320px){[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-auto[_ngcontent-%COMP%]{min-height:32px;flex-direction:row}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-auto[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]{text-align:right;width:136px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:9px 10px 4px 0}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-auto[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]   .crt-color-picker-label[_ngcontent-%COMP%]{display:block}}[_nghost-%COMP%]   .crt-color-picker-label[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]{padding-top:8px;align-items:baseline;display:flex;flex-direction:row;position:relative}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-color-picker-wrap.label-position-hidden[_ngcontent-%COMP%]{min-height:32px;flex-direction:row}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-left[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-color-picker-wrap.label-position-hidden[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]{text-align:right;width:136px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin:9px 10px 4px 0}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-left[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]   .crt-color-picker-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-color-picker-wrap.label-position-hidden[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]   .crt-color-picker-label[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-above[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]{width:100%;display:flex;text-align:left}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-hidden[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]{width:0;margin-inline-end:0}[_nghost-%COMP%]   .crt-color-picker-wrap.label-position-hidden[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]   .crt-color-picker-label[_ngcontent-%COMP%]{height:0;color:transparent}[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-baseline[_ngcontent-%COMP%]{position:relative;flex-shrink:0;height:16px}[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-baseline[_ngcontent-%COMP%]:before{content:"|";color:transparent;display:inline-block}[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-baseline[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:absolute;left:0;top:50%;transform:translateY(-50%)}[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-baseline[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-control-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-inline-end:4px}[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-baseline[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-control-box[_ngcontent-%COMP%]   .crt-color-picker-box[_ngcontent-%COMP%]{display:block;box-sizing:border-box;height:16px;width:16px;border-radius:4px;opacity:1;border:2px solid var(--crt-palette-label-500)}[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-baseline[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-control-box[_ngcontent-%COMP%]   .transparent-background[_ngcontent-%COMP%]{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAADFJREFUOE9jZGBgEGHAD97gk2YcNYBhmIQBgWSAP52AwoAQwJvQRg1gACckQoC2gQgAIF8IscwEtKYAAAAASUVORK5CYII=);background-size:10px}[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-baseline[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-control-box[_ngcontent-%COMP%]   .crt-color-picker-choose-button[_ngcontent-%COMP%]{height:16px;width:16px;margin-left:5px}[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-baseline[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-control-box[_ngcontent-%COMP%]   .crt-color-picker-choose-button[_ngcontent-%COMP%]:hover{cursor:pointer}[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-baseline[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-control-box[_ngcontent-%COMP%]   .crt-color-picker-choose-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:inherit;height:inherit}[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-tools-container[_ngcontent-%COMP%]   .crt-color-picker-tooltip[_ngcontent-%COMP%]{flex-shrink:0;width:16px;height:18px}[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-tools-container[_ngcontent-%COMP%]   .crt-color-picker-tooltip[_ngcontent-%COMP%]:not(:first-of-type){margin-inline-start:4px}[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-tools-container[_ngcontent-%COMP%]   .crt-color-picker-tooltip[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:inherit;height:inherit}@container (min-width: 320px){[dir=rtl][_nghost-%COMP%]   .crt-color-picker-wrap.label-position-auto[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]{text-align:left;margin:9px 0 4px 10px}[dir=rtl][_nghost-%COMP%]   .crt-color-picker-wrap.label-position-auto[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]   .crt-color-picker-label[_ngcontent-%COMP%]{text-align:left}}[dir=rtl][_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]{margin-left:10px;margin-right:0}[dir=rtl][_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-baseline[_ngcontent-%COMP%]{width:100%}[dir=rtl][_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]{left:auto;right:0}[dir=rtl][_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-choose-button[_ngcontent-%COMP%]{margin-left:0;margin-right:5px}[dir=rtl][_nghost-%COMP%]   .crt-color-picker-wrap.label-position-left[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]{text-align:left;margin:9px 0 4px 10px}[dir=rtl][_nghost-%COMP%]   .crt-color-picker-wrap.label-position-left[_ngcontent-%COMP%]   .crt-color-picker-label-container[_ngcontent-%COMP%]   .crt-color-picker-label[_ngcontent-%COMP%]{text-align:left}.readonly[_nghost-%COMP%]   .crt-color-picker-wrap[_ngcontent-%COMP%]   .crt-color-picker-control-baseline[_ngcontent-%COMP%]   .crt-color-picker-control-container[_ngcontent-%COMP%]   .crt-color-picker-control-box[_ngcontent-%COMP%]   .crt-color-picker-choose-button[_ngcontent-%COMP%]:hover{cursor:unset}.crt-color-picker-palette[_ngcontent-%COMP%]{z-index:2600}.crt-color-picker-palette[_ngcontent-%COMP%]     .sketch-picker{width:200px}.crt-color-picker-palette[_ngcontent-%COMP%]     .sketch-picker .sketch-hue{height:16px}.crt-color-picker-palette[_ngcontent-%COMP%]     .sketch-picker .sketch-hue .color-hue-pointer{height:14px}.crt-color-picker-palette[_ngcontent-%COMP%]     .sketch-picker .sketch-hue .color-hue-pointer .color-hue-slider{height:14px}.crt-color-picker-palette[_ngcontent-%COMP%]     .sketch-picker .sketch-alpha{height:16px}.crt-color-picker-palette[_ngcontent-%COMP%]     .sketch-picker .sketch-alpha .alpha-pointer{height:14px}.crt-color-picker-palette[_ngcontent-%COMP%]     .sketch-picker .sketch-alpha .alpha-pointer .alpha-slider{height:14px}.crt-color-picker-palette[_ngcontent-%COMP%]     .sketch-picker .sketch-color{height:16px;width:16px}.crt-color-picker-palette[_ngcontent-%COMP%]     .sketch-picker color-editable-input input{text-align:center;outline:none}.crt-color-picker-palette[_ngcontent-%COMP%]     .github-picker{box-sizing:content-box}.crt-color-picker-palette[_ngcontent-%COMP%]     .github-picker .github-swatch{padding:2px;box-sizing:content-box}.crt-color-picker-palette[_ngcontent-%COMP%]     .github-picker .github-swatch color-swatch .swatch, .crt-color-picker-palette[_ngcontent-%COMP%]     .github-picker .github-swatch color-swatch .grid{border-radius:4px}.crt-color-picker-palette[_ngcontent-%COMP%]     .github-picker .github-swatch color-swatch .swatch[title="#FFFFFF"]{box-shadow:#0000001a 0 0 0 1px inset}']})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",O.FormControl),(0,u.__metadata)("design:paramtypes",[O.FormControl])],ma.prototype,"control",null),(0,u.__decorate)([(0,J.k)({propertyBindable:!0}),(0,u.__metadata)("design:type",Object)],ma.prototype,"id",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],ma.prototype,"colors",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],ma.prototype,"selectedColor",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],ma.prototype,"pickerMode",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ma.prototype,"selectedColorChange",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],ma.prototype,"pickerConfig",null),ma=(0,u.__decorate)([(0,Qt.v)({type:"crt.ColorPicker",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:50,icon:o(9490),defaultPropertyValues:{label:"",labelPosition:"auto"},defaultLocalizableStrings:{label:"Components.ColorPicker.Caption"}},propertiesPanelComponentTypeName:"crt.ColorPickerPropertiesPanel",dataValueTypes:[X.r.Color],viewElementGroupType:pn.J.Inputs,typeCaption:"Components.ColorPicker.Caption"}),(0,u.__metadata)("design:paramtypes",[t.Injector,t.ChangeDetectorRef,In.ScrollStrategyOptions])],ma);let zc=class f3{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"color-picker-arrow",icon:o(51782)}])}static{this.\u0275fac=function(n){return new(n||f3)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:f3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[Ge.A11yModule,E_.ColorGithubModule,T_.ColorSketchModule,_.CommonModule,Je.V,fe.q,Ra.P,O.FormsModule,q.MatLegacyFormFieldModule,_t.MatIconModule,In.OverlayModule,O.ReactiveFormsModule,_e.S,Rn.N,f.TranslateModule,Vn.d]})}};zc=(0,u.__decorate)([(0,ie.g)({viewElements:[ma]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],zc),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(zc,{declarations:[ma],imports:[Ge.A11yModule,E_.ColorGithubModule,T_.ColorSketchModule,_.CommonModule,Je.V,fe.q,Nn,Ra.P,O.FormsModule,q.MatLegacyFormFieldModule,_t.MatIconModule,In.OverlayModule,O.ReactiveFormsModule,Le.C,_e.S,Rn.N,f.TranslateModule,Vn.d],exports:[ma]})}();var D_=o(36387),Di=o(44059),rt=o(58676);function v(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ng-lottie",1),t.\u0275\u0275listener("animationCreated",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onAnimationCreated(i))})("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onClick())}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("options",n.options)("width",n.width)("height",n.height)}}class M{set config(e){this._setConfig(e).then()}constructor(e,n){this._changeDetectorRef=e,this._ngZone=n,this.options=null,this.width="100px",this.height="100px"}_setConfig(e){var n=this;return(0,bt.A)(function*(){const a=yield e.animationData();n.options={animationData:a,loop:e.loop,autoplay:e.autoplay},n._changeDetectorRef.markForCheck()})()}onAnimationCreated(e){this._animationItem=e}onClick(){this._ngZone.runOutsideAngular(()=>{this._animationItem.stop(),this._animationItem.play()})}static{this.\u0275fac=function(n){return new(n||M)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.NgZone))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:M,selectors:[["crt-lottie"]],inputs:{width:"width",height:"height",config:"config"},decls:1,vars:1,consts:[["class","lottie-animation",3,"options","width","height","animationCreated","click",4,"ngIf"],[1,"lottie-animation",3,"animationCreated","click","options","width","height"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,v,1,3,"ng-lottie",0),n&2&&t.\u0275\u0275property("ngIf",a.options)},dependencies:[_.NgIf,rt.LottieComponent],styles:[".lottie-animation[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0})}}class R{static{this.\u0275fac=function(n){return new(n||R)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:R})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,rt.LottieModule.forRoot({player:()=>o.e(9730).then(o.t.bind(o,89730,23))})]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(R,{declarations:[M],imports:[_.CommonModule,rt.LottieModule],exports:[M]})})();var et=o(66823);function mt(r){return()=>o(34645)(`./${r}.json`)}var ht=o(65001),pe;(function(r){r.OnlyText="only-text",r.LeftIcon="left-icon",r.RightIcon="right-icon",r.OnlyIcon="only-icon"})(pe||(pe={}));var ue=o(68712);const xn=null,aa={type:"animation",width:"32px",height:"32px",autoplay:!0,loop:!0},jo="Components.Button.DefaultActionNotificationMessageText";var rn=o(30491),xr=o(67634),Pd=o(83248);function u9(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-icon",3),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("color",n.disabled?null:n.customColor),t.\u0275\u0275property("svgIcon",n.icon)("color",n.colorPalette)}}function m9(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span",4),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.caption," ")}}let ii=class b3 extends ue.K{get caption(){return this._caption}set caption(e){this._translateUtilsService?.isTranslateKey(e)?(this._caption=this._translateService.instant(e),console.warn(`You should pass already translated value to menu item. Please fix it for '${e}'.`)):this._caption=e}set iconColor(e){["primary","accent","warn","default"].includes(e)?(this.colorPalette=e,this.customColor=void 0):(this.colorPalette=void 0,this.customColor=e)}constructor(e){super(e),this.injector=e,this.clicked=new t.EventEmitter,this._translateService=(0,t.inject)(f.TranslateService),this._translateUtilsService=e.get(Pd.t,void 0,{optional:!0})}handleItemClick(e){this.disabled||this.clicked.next(e)}static{this.\u0275fac=function(n){return new(n||b3)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:b3,selectors:[["crt-menu-item"]],inputs:{caption:"caption",icon:"icon",iconColor:"iconColor",visible:"visible",disabled:"disabled",items:"items",handleItemClick:"handleItemClick"},outputs:{clicked:"clicked"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[["mat-flat-button","",1,"crt-menu-item",3,"click","disabled"],[3,"svgIcon","color",4,"ngIf"],["class","caption","crtTextOverflowTitle","",4,"ngIf"],[3,"svgIcon","color"],["crtTextOverflowTitle","",1,"caption"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"button",0),t.\u0275\u0275listener("click",function(s){return a.handleItemClick(s)}),t.\u0275\u0275template(1,u9,1,4,"mat-icon",1)(2,m9,2,1,"span",2),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("disabled",a.disabled),t.\u0275\u0275attribute("data-item-marker",a.caption||a.icon),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.icon),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption))},dependencies:[_.NgIf,_t.MatIcon,ai.y],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center}.crt-menu-item[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;border:none;background:none;outline:none;cursor:pointer;padding:8px 16px 8px 40px;position:relative;height:40px}.crt-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{min-width:16px;width:16px;min-height:16px;height:16px;margin-right:0;position:absolute;left:16px}.crt-menu-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],ii.prototype,"caption",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],ii.prototype,"icon",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],ii.prototype,"iconColor",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ii.prototype,"visible",void 0),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1,propertyName:et.R.Disabled}),(0,u.__metadata)("design:type",Boolean)],ii.prototype,"disabled",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],ii.prototype,"items",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ii.prototype,"clicked",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Function),(0,u.__metadata)("design:paramtypes",[Event]),(0,u.__metadata)("design:returntype",void 0)],ii.prototype,"handleItemClick",null),ii=(0,u.__decorate)([(0,Qt.v)({type:"crt.MenuItem",reuseStrategy:$t.B.Reuse}),(0,$e.f)({propertiesPanelComponentTypeName:"crt.MenuItemPropertiesPanel",typeCaption:"TypeCaptions.MenuItem",viewElementGroupType:pn.J.Components}),(0,u.__metadata)("design:paramtypes",[t.Injector])],ii);const Gb=r=>({$implicit:r});function g9(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",15),t.\u0275\u0275listener("keydown",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2).$implicit,b=t.\u0275\u0275nextContext().$implicit,D=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(D.onMenuActionItemKeydown(i,s,b))}),t.\u0275\u0275elementStart(2,"crt-menu-action-item",16),t.\u0275\u0275listener("itemSelected",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2).$implicit,s=t.\u0275\u0275nextContext().$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onItemSelected({code:i.code,data:s}))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("crtMenuItem",n)("disableRipple",!0),t.\u0275\u0275advance(),t.\u0275\u0275property("item",n)("data",a)}}function h9(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"crt-menu-divider-item",17),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("crtMenuItem",n)}}function _9(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"crt-menu-label-item",18),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("crtMenuItem",n)("item",n)}}function f9(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",20,2),t.\u0275\u0275listener("keydown",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275reference(2),b=t.\u0275\u0275nextContext(3).$implicit,D=t.\u0275\u0275nextContext().$implicit,W=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(W.onMenuActionItemKeydown(i,b,D,s))}),t.\u0275\u0275elementStart(3,"crt-menu-action-item",16),t.\u0275\u0275listener("itemSelected",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3).$implicit,s=t.\u0275\u0275nextContext().$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onItemSelected({code:i.code,data:s}))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"crt-menu",21,3),t.\u0275\u0275listener("itemSelected",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(5);return t.\u0275\u0275resetView(s.onItemSelected(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275reference(5),a=t.\u0275\u0275nextContext(3).$implicit,i=t.\u0275\u0275nextContext().$implicit,s=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("disableRipple",!0)("crtMenuItem",a)("crtMenuTriggerFor",n)("crtMenuTriggerData",t.\u0275\u0275pureFunction1(9,Gb,i))("crtMenuTriggerDisabled",a.disabled),t.\u0275\u0275advance(2),t.\u0275\u0275property("item",a)("data",i),t.\u0275\u0275advance(),t.\u0275\u0275property("menuItems",a.items)("panelClass",s.nestedMenuClasses)}}function b9(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,f9,6,11,"ng-container",19),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.items&&n.items.length>0)}}function C9(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0,13),t.\u0275\u0275template(1,g9,3,4,"ng-container",14)(2,h9,2,1,"ng-container",14)(3,_9,2,2,"ng-container",14)(4,b9,2,1,"ng-container",14),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("ngSwitch",n.type),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","action"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","divider"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","label"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","menu")}}function y9(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,C9,5,5,"ng-container",12),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.isItemVisible(n,a))}}function v9(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function M9(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",23),t.\u0275\u0275listener("keydown",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2).$implicit,b=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(b.onMenuItemKeydown(i,s))}),t.\u0275\u0275template(2,v9,1,0,"ng-container",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(2),i=t.\u0275\u0275reference(5);t.\u0275\u0275advance(),t.\u0275\u0275property("disableRipple",!0)("crtMenuViewElementItem",n),t.\u0275\u0275attribute("aria-disabled",a.isItemDisabled(n))("aria-current",n.selected),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(6,Gb,n))}}function I9(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function x9(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",25,2),t.\u0275\u0275listener("keydown",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275reference(2),b=t.\u0275\u0275nextContext(3).$implicit,D=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(D.onMenuItemKeydown(i,b,s))}),t.\u0275\u0275template(3,I9,1,0,"ng-container",24),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"crt-menu",26,3),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275reference(5),a=t.\u0275\u0275nextContext(3).$implicit,i=t.\u0275\u0275nextContext(2),s=t.\u0275\u0275reference(5);t.\u0275\u0275advance(),t.\u0275\u0275property("disableRipple",!0)("crtMenuTriggerFor",n)("crtMenuTriggerDisabled",i.isItemDisabled(a))("crtMenuViewElementItem",a),t.\u0275\u0275attribute("aria-disabled",i.isItemDisabled(a)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",s)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(9,Gb,a)),t.\u0275\u0275advance(),t.\u0275\u0275property("items",a.items)("panelClass",i.nestedMenuClasses)}}function S9(r,e){if(r&1&&t.\u0275\u0275template(0,x9,6,11,"ng-container",22),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(5),a=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("ngIf",(a==null||a.items==null?null:a.items.length)>0)("ngIfElse",n)}}function w9(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function E9(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",27),t.\u0275\u0275template(1,w9,1,0,"ng-container",24),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275nextContext(2);const a=t.\u0275\u0275reference(5);t.\u0275\u0275property("crtMenuViewElementItem",n),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(3,Gb,n))}}function T9(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,M9,3,8,"ng-container",22)(2,S9,1,2,"ng-template",null,4,t.\u0275\u0275templateRefExtractor)(4,E9,2,5,"ng-template",null,5,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.type==="crt.MenuItem"&&!(a.items!=null&&a.items.length))("ngIfElse",n)}}function P9(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,T9,6,2,"ng-container",19),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.isItemVisible(n,a))}}function O9(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,y9,2,1,"ng-container",10)(2,P9,2,1,"ng-container",11),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.menuItems)("ngForTrackBy",n.trackByIndex),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.items)}}function D9(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,29),r&2){const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("crtViewElement",n)("crtViewModel",a.context)}}function A9(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,30),r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("crtViewElement",n)}}function L9(r,e){if(r&1&&t.\u0275\u0275template(0,D9,1,2,"ng-container",28)(1,A9,1,1,"ng-template",null,6,t.\u0275\u0275templateRefExtractor),r&2){const n=t.\u0275\u0275reference(2),a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",a.context)("ngIfElse",n)}}const $v="nested-menu",k9="crt-menu-glassmorphism";class Ua{set menuItems(e){const n=this._menuItems.length===0&&e?.length>0;this._menuItems=Array.isArray(e)?e:[],n&&this.menu.focusFirstItem(this._focusOrigin)}get menuItems(){return this._menuItems}set items(e){const n=this._items.length===0&&e?.length>0;this._items=this._adjustItems(e),n&&this.menu.focusFirstItem(this._focusOrigin)}get items(){return this._items}set panelClass(e){this._panelClass=e,this._preparePanelClasses()}set useGlassmorphism(e){this._useGlassmorphism=e,this._preparePanelClasses()}get wrapClasses(){return this._wrapClasses}get nestedMenuClasses(){return this.wrapClasses?`${this.wrapClasses} ${$v}`:$v}constructor(e,n){this._overlayContainer=e,this.renderer=n,this._useGlassmorphism=!1,this._menuItems=[],this._items=[],this.xPosition="after",this.yPosition="below",this.stopOverlayClickPropagation=!1,this.itemSelected=new t.EventEmitter}_preparePanelClasses(){const e=" ",n=this._panelClass?.split(e)||[];this._useGlassmorphism&&n.push(k9),this._wrapClasses=n.join(e)}_adjustItems(e){return(e??[]).map(n=>({...n,name:n?.name||(0,de.qv)()}))}_handleItemClick(e,n){const a=this._getCrtMenuItemComponent(n);a instanceof ii&&a.handleItemClick(e)}_isActionButtonPressed(e){return e.code===Ht.Key.Enter||e.code==="Space"}_getCrtMenuItemComponent(e){return this.crtMenuItemComponents?.find(a=>a?.componentRef?.getPropertyValue("name")===e?.name)?.componentRef?.instance}ngOnInit(){this.stopOverlayClickPropagation&&this._overlayContainer&&(this._overlayClickUnlisten=this.renderer.listen(this._overlayContainer.getContainerElement(),"click",e=>{e.stopPropagation()}))}ngOnDestroy(){this._overlayClickUnlisten?.()}isItemVisible(e,n){const{visible:a}=e;if(typeof a=="boolean")return a;if(typeof a=="function")return a(n);if(typeof a=="string"&&n instanceof xr.o){const i=a.split(".")[1];return n.attributes[i]}return!0}isItemDisabled(e){const n=this._getCrtMenuItemComponent(e);return n instanceof ii&&n?.disabled||!1}onItemSelected(e){this.itemSelected.emit(e)}trackByIndex(e){return e}onMenuItemKeydown(e,n,a){!this._isActionButtonPressed(e)||this.isItemDisabled(n)||(a&&a?.openMenu(),(n?.clicked||n?.handleItemClick)&&(this._handleItemClick(e,n),this.menu.closed.emit("click")))}onMenuActionItemKeydown(e,n,a,i){!this._isActionButtonPressed(e)||n.disabled||(i&&i?.openMenu(),n?.handler&&(n.handler(a,e),this.menu.closed.emit("click")),this.onItemSelected({code:n.code,data:a}))}setFocusOrigin(e){this._focusOrigin=e}static{this.\u0275fac=function(n){return new(n||Ua)(t.\u0275\u0275directiveInject(In.OverlayContainer,8),t.\u0275\u0275directiveInject(t.Renderer2))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ua,selectors:[["crt-menu"]],viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(Q.MatLegacyMenu,7),t.\u0275\u0275viewQuery(rn.H,5)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.menu=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.crtMenuItemComponents=i)}},inputs:{menuItems:"menuItems",items:"items",context:"context",xPosition:"xPosition",yPosition:"yPosition",stopOverlayClickPropagation:"stopOverlayClickPropagation",panelClass:"panelClass",useGlassmorphism:"useGlassmorphism"},outputs:{itemSelected:"itemSelected"},decls:6,vars:5,consts:[["menu","matMenu"],["menuItem",""],["crtMenuTrigger","crtMenuTrigger"],["nestedMenu",""],["menu",""],["other",""],["withoutContext",""],[3,"xPosition","yPosition","overlapTrigger"],[1,"menu-items-container"],[4,"matMenuContent"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["mat-menu-item","",1,"crt-menu-item-container",3,"keydown","crtMenuItem","disableRipple"],[3,"itemSelected","item","data"],[3,"crtMenuItem"],[3,"crtMenuItem","item"],[4,"ngIf"],["mat-menu-item","",1,"crt-menu-item-container",3,"keydown","disableRipple","crtMenuItem","crtMenuTriggerFor","crtMenuTriggerData","crtMenuTriggerDisabled"],[3,"itemSelected","menuItems","panelClass"],[4,"ngIf","ngIfElse"],["mat-menu-item","",1,"crt-menu-item-container",3,"keydown","disableRipple","crtMenuViewElementItem"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-menu-item","",1,"crt-menu-item-container",3,"keydown","disableRipple","crtMenuTriggerFor","crtMenuTriggerDisabled","crtMenuViewElementItem"],[3,"items","panelClass"],[3,"crtMenuViewElementItem"],[3,"crtViewElement","crtViewModel",4,"ngIf","ngIfElse"],[3,"crtViewElement","crtViewModel"],[3,"crtViewElement"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"mat-menu",7,0)(2,"div",8),t.\u0275\u0275template(3,O9,3,3,"ng-container",9),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(4,L9,3,2,"ng-template",null,1,t.\u0275\u0275templateRefExtractor)),n&2&&(t.\u0275\u0275classMap("crt-menu "+a.wrapClasses||0),t.\u0275\u0275property("xPosition",a.xPosition)("yPosition",a.yPosition)("overlapTrigger",!1))},styles:[".menu-items-container[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{padding:0}.menu-items-container[_ngcontent-%COMP%]   .crt-menu-item-container[aria-disabled=true][_ngcontent-%COMP%]{pointer-events:none}"]})}}var Kv=o(32483);class ri extends Q.MatLegacyMenuTrigger{set crtMenuTriggerFor(e){this._menuComponent=e,this.menu=e?.menu}set crtMenuTriggerData(e){this.menuData=e}set crtMenuTriggerRestoreFocus(e){this.restoreFocus=e}constructor(e,n,a,i,s,b,D,W){super(e,n,a,i,s,b,D,W),this._elementRef=n,this._internalFocusMonitor=W,this._isCrtButton=this._elementRef.nativeElement.localName==="crt-button",this._isCrtButton&&this._subscribeToMenuToggle()}onClick(e){this._triggeredTarget=e.currentTarget,super._handleClick(e)}_subscribeToMenuToggle(){(0,m.merge)(this.menuClosed,this.menuOpened).pipe((0,m.tap)(()=>this._setButtonAttribute("aria-expanded",this.menuOpen?"true":"false")),(0,Kv.takeUntilDestroyed)()).subscribe()}_setButtonAttribute(e,n){this._elementRef.nativeElement.getElementsByClassName("crt-button")[0]?.setAttribute(e,n)}focus(e,n){if(!this._triggeredTarget)return super.focus(e,n);this._internalFocusMonitor&&e&&this._internalFocusMonitor.focusVia(this._triggeredTarget,e,n),this._triggeredTarget=null}_handleClick(e){this._isCrtButton||super._handleClick(e)}openMenu(){this.crtMenuTriggerDisabled||(this._menuComponent?.setFocusOrigin(this._openedBy),super.openMenu())}ngAfterViewInit(){this._isCrtButton&&(this._setButtonAttribute("aria-expanded",this.menuOpen?"true":"false"),this._setButtonAttribute("aria-haspopup","menu"))}static{this.\u0275fac=function(n){return new(n||ri)(t.\u0275\u0275directiveInject(In.Overlay),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(Q.MAT_LEGACY_MENU_SCROLL_STRATEGY),t.\u0275\u0275directiveInject(Q.MAT_LEGACY_MENU_PANEL,8),t.\u0275\u0275directiveInject(Q.MatLegacyMenuItem,10),t.\u0275\u0275directiveInject(me.Directionality,8),t.\u0275\u0275directiveInject(Ge.FocusMonitor))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:ri,selectors:[["","crtMenuTriggerFor",""]],hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("clicked",function(s){return a.onClick(s)})},inputs:{crtMenuTriggerDisabled:"crtMenuTriggerDisabled",crtMenuTriggerFor:"crtMenuTriggerFor",crtMenuTriggerData:"crtMenuTriggerData",crtMenuTriggerRestoreFocus:"crtMenuTriggerRestoreFocus"},exportAs:["crtMenuTrigger"],features:[t.\u0275\u0275InheritDefinitionFeature]})}}const R9=["buttonElement"],N9=["*"],Zv=r=>({$implicit:r});function V9(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",8),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function F9(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function j9(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",10,3),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onClick(i))})("focus",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onFocus(i))})("blur",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onBlur(i))}),t.\u0275\u0275elementStart(3,"span",11),t.\u0275\u0275template(4,F9,1,0,"ng-container",12),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(r&2){let n;const a=t.\u0275\u0275nextContext(2),i=t.\u0275\u0275reference(4);t.\u0275\u0275advance(),t.\u0275\u0275styleProp("text-transform",a.textTransform),t.\u0275\u0275classProp("icon-mode",a.isIconMode)("crt-button--text",a.displayType==="text")("crt-button--contained",a.displayType==="contained")("crt-button--disable-mat-button-extra-styles",a.disableMatButtonExtraStyles),t.\u0275\u0275property("color",a.colorThemePalette)("disabled",a.disabled)("disableRipple",a.disableRipple)("ngClass",a.classes),t.\u0275\u0275attribute("aria-label",a.ariaLabel||a.getTitle()||null)("aria-pressed",(n=a.pressed)!==null&&n!==void 0?n:null)("type",a.type)("tabIndex",a.tabIndex)("title",a.getTitle()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngTemplateOutlet",i)}}function B9(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function z9(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",13)(2,"button",14,3),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onClick(i))})("focus",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onFocus(i))})("blur",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onBlur(i))}),t.\u0275\u0275elementStart(4,"span",11),t.\u0275\u0275template(5,B9,1,0,"ng-container",12),t.\u0275\u0275element(6,"mat-divider",15),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"button",16),t.\u0275\u0275listener("click",function(i){return t.\u0275\u0275restoreView(n),i.preventDefault(),t.\u0275\u0275resetView(i.stopPropagation())})("menuOpened",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.onMenuOpened())})("menuClosed",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.onMenuClosed())}),t.\u0275\u0275elementStart(8,"span",11),t.\u0275\u0275element(9,"mat-icon",17),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(10,"crt-menu",18,5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275reference(11),a=t.\u0275\u0275nextContext(3),i=t.\u0275\u0275reference(4);t.\u0275\u0275advance(2),t.\u0275\u0275styleProp("text-transform",a.textTransform),t.\u0275\u0275classProp("crt-button--text",a.displayType==="text")("crt-button--contained",a.displayType==="contained")("icon-mode",a.isIconMode)("crt-button--disable-mat-button-extra-styles",a.disableMatButtonExtraStyles),t.\u0275\u0275property("color",a.colorThemePalette)("disabled",a.disabled)("disableRipple",a.disableRipple)("ngClass",a.classes),t.\u0275\u0275attribute("aria-label",a.ariaLabel||a.getTitle()||null)("type",a.type)("tabIndex",a.tabIndex)("title",a.getTitle()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngTemplateOutlet",i),t.\u0275\u0275advance(),t.\u0275\u0275property("vertical",!0),t.\u0275\u0275advance(),t.\u0275\u0275classProp("crt-button--text",a.displayType==="text")("crt-button--contained",a.displayType==="contained")("crt-button-menu-opened",a.isMenuOpened)("crt-button--disable-mat-button-extra-styles",a.disableMatButtonExtraStyles),t.\u0275\u0275property("ngClass",a.classes)("color",a.colorThemePalette)("disabled",a.menuDisabled)("disableRipple",a.disableRipple)("crtMenuTriggerFor",n)("crtMenuTriggerData",t.\u0275\u0275pureFunction1(38,Zv,a.menuItems)),t.\u0275\u0275attribute("aria-label",a.ariaLabel||a.caption||null),t.\u0275\u0275advance(3),t.\u0275\u0275property("items",a.menuItems)("panelClass",a.menuPanelClass)("useGlassmorphism",a.useGlassmorphism)}}function U9(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function H9(r,e){r&1&&t.\u0275\u0275element(0,"mat-icon",17)}function W9(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",19,3),t.\u0275\u0275listener("menuOpened",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.onMenuOpened())})("menuClosed",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.onMenuClosed())}),t.\u0275\u0275elementStart(2,"span",11),t.\u0275\u0275template(3,U9,1,0,"ng-container",12)(4,H9,1,0,"mat-icon",20),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(5,"crt-menu",18,5)}if(r&2){let n;const a=t.\u0275\u0275reference(6),i=t.\u0275\u0275nextContext(3),s=t.\u0275\u0275reference(4);t.\u0275\u0275styleProp("text-transform",i.textTransform),t.\u0275\u0275classProp("crt-button--text",i.displayType==="text")("crt-button--contained",i.displayType==="contained")("crt-button-menu-opened",i.isMenuOpened)("icon-mode",i.isIconMode)("crt-button--disable-mat-button-extra-styles",i.disableMatButtonExtraStyles),t.\u0275\u0275property("color",i.colorThemePalette)("disabled",i.menuDisabled)("disableRipple",i.disableRipple)("ngClass",i.classes)("crtMenuTriggerFor",a)("crtMenuTriggerData",t.\u0275\u0275pureFunction1(28,Zv,i.menuItems)),t.\u0275\u0275attribute("aria-label",i.ariaLabel||i.getTitle()||null)("aria-pressed",(n=i.pressed)!==null&&n!==void 0?n:null)("type",i.type)("tabIndex",i.tabIndex)("title",i.getTitle()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngTemplateOutlet",s),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.isMenuIconVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("items",i.menuItems)("panelClass",i.menuPanelClass)("useGlassmorphism",i.useGlassmorphism)}}function G9(r,e){if(r&1&&t.\u0275\u0275template(0,z9,12,40,"ng-container",9)(1,W9,7,30,"ng-template",null,4,t.\u0275\u0275templateRefExtractor),r&2){const n=t.\u0275\u0275reference(2),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",a.isDividerShown())("ngIfElse",n)}}function $9(r,e){if(r&1&&t.\u0275\u0275template(0,j9,5,20,"ng-container",9)(1,G9,3,2,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),r&2){const n=t.\u0275\u0275reference(2),a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",!(a.menuItems!=null&&a.menuItems.length))("ngIfElse",n)}}function K9(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",25),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.caption," ")}}function Z9(r,e){r&1&&t.\u0275\u0275projection(0)}function Q9(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,K9,3,1,"ng-container",9)(2,Z9,1,0,"ng-template",null,6,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function Y9(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-icon",26),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("svgIcon",n.icon)("ngClass",n.iconClasses)}}function J9(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-lottie",27),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("config",n.animationIconConfig)("width",n.animationIconConfig.width)("height",n.animationIconConfig.height)}}function X9(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span",21),t.\u0275\u0275template(1,Q9,4,2,"ng-container",22)(2,Y9,1,2,"mat-icon",23)(3,J9,1,3,"crt-lottie",24),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",n.contentAlignClasses),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isTextVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isIconVisible&&!n.isIconAnimated),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isIconVisible&&n.isIconAnimated&&n.animationIconConfig)}}let Jt=class C3 extends ue.K{get _buttonElement(){return this.buttonElementRef?.nativeElement}set icon(e){this._icon=e,this.isIconAnimated&&this._buildIconAnimationConfig()}get icon(){return this._icon}set size(e){!e||e===ht.Z.Default?this._size=ht.Z.Large:this._size=e}set iconSize(e){!e||e===ht.Z.Default?this._iconSize=ht.Z.Large:this._iconSize=e}set attributes(e){this._attributes=e,this._setAttributes()}get attributes(){return this._attributes}set type(e){e&&e!=="button"&&e!=="reset"&&e!=="submit"||(this._type=e)}get type(){return this._type}set disableRipple(e){this._disableRipple=e===!0}get disableRipple(){return this._disableRipple||this._displayType==="text"}set clickMode(e){this._clickMode=e||"default"}get clickMode(){return this._clickMode}get menuItems(){return this._menuItems}set menuItems(e){this._menuItems=e}get isIconVisible(){return!!this.icon&&this.iconPosition!==pe.OnlyText}get isTextVisible(){return!this.isIconMode&&this.iconPosition!==pe.OnlyIcon}get isMenuIconVisible(){return this.displayMenuIcon||this.isTextVisible}get iconClasses(){return this._getIconClasses()}get contentAlignClasses(){return this._getContentAlignClasses()}get menuDisabled(){return this.allowMenuOnDisabled?!1:this.disabled}get isIconAnimated(){return typeof this._icon=="string"?!1:!!(this._icon?.name||this._icon?.animationData)}constructor(e){super(e),this._isIconModeSizePx=40,this._type="button",this._size=ht.Z.Large,this._iconSize=ht.Z.Large,this._displayType="contained",this._disableRipple=!1,this._menuItems=[],this._clickMode="default",this.skeletonStyles={height:"36px",width:"120px"},this.isMenuOpened=!1,this.disableMatButtonExtraStyles=!1,this.caption="",this.iconPosition=pe.RightIcon,this.title="",this.isIconModeSizePx=this._isIconModeSizePx,this.contentAlign="center",this.displayMenuIcon=!1,this.useGlassmorphism=!1,this.clicked=new t.EventEmitter,this.focused=new t.EventEmitter,this.blurred=new t.EventEmitter,this._renderer=e.get(t.Renderer2),this.disableMatButtonExtraStyles=this.injector.get(ge.G,null)?.DisableMatButtonExtraStyles}set color(e){this.colorThemePalette=this._getColorTheme(e)}set displayType(e){this._displayType=e}get displayType(){return this._displayType||"contained"}onClick(e){e?.stopPropagation(),e?.preventDefault(),!this.disabled&&this.clickMode==="default"&&this.clicked.next(e)}onFocus(e){this.focused.next(e)}onBlur(e){this.blurred.next(e)}_buildIconAnimationConfig(){const{name:e,loop:n,autoplay:a,width:i,height:s,animationData:b}=this.icon;this.animationIconConfig={...aa,autoplay:typeof a=="boolean"?a:aa.autoplay,loop:typeof n=="boolean"?n:aa.loop,width:i||aa.width,height:s||aa.height,animationData:b||mt(e)}}_getColorTheme(e){if(e!=="default")return e}_getIconClasses(){const e=[];return this.switchClass(e,this._iconSize,[[ht.Z.Small,"button-icon-size-small"],[ht.Z.Medium,"button-icon-size-medium"],[ht.Z.Large,"button-icon-size-large"],[ht.Z.ExtraLarge,"button-icon-size-extra-large"]]),e}_getContentAlignClasses(){const e=[];return this.switchClass(e,this.contentAlign,[["start","button-content-align-start"],["center","button-content-align-center"],["end","button-content-align-end"]]),e}_setAttributes(){!this._attributes||!this._buttonElement||Object.entries(this._attributes).forEach(([e,n])=>{n==null?this._renderer.removeAttribute(this._buttonElement,e):this._renderer.setAttribute(this._buttonElement,e,n)})}getClasses(){const e=super.getClasses();return this.switchClass(e,this.iconPosition,[[pe.LeftIcon,"button-icon-position-left"],[pe.RightIcon,"button-icon-position-right"],[pe.OnlyIcon,"button-icon-position-only-icon"]]),this.switchClass(e,this._size,[[ht.Z.None,"button-size-none"],[ht.Z.Small,"button-size-small"],[ht.Z.Medium,"button-size-medium"],[ht.Z.Large,"button-size-large"],[ht.Z.ExtraLarge,"button-size-extra-large"]]),this.toggleClass(e,!!this.icon,"button-with-icon"),e}focus(){this._buttonElement?.focus()}onResized(e){}getTitle(){return this.title?this.title:this.isIconMode||this.iconPosition===pe.OnlyIcon?this.caption:null}isDividerShown(){return!!this.menuItems?.length&&this.clickMode==="default"&&this.isTextVisible}onMenuOpened(){this.isMenuOpened=!0}onMenuClosed(){this.isMenuOpened=!1}ngAfterViewInit(){this.autofocus&&this.focus(),this._setAttributes()}static{this.\u0275fac=function(n){return new(n||C3)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:C3,selectors:[["crt-button"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(R9,5,t.ElementRef),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.buttonElementRef=i.first)}},hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("click",function(s){return a.onClick(s)})("focus",function(s){return a.onFocus(s)})("blur",function(s){return a.onBlur(s)})},inputs:{disabled:"disabled",autofocus:"autofocus",caption:"caption",icon:"icon",size:"size",iconSize:"iconSize",iconPosition:"iconPosition",ariaLabel:"ariaLabel",attributes:"attributes",title:"title",textTransform:"textTransform",type:"type",disableRipple:"disableRipple",isIconModeSizePx:"isIconModeSizePx",allowMenuOnDisabled:"allowMenuOnDisabled",clickMode:"clickMode",contentAlign:"contentAlign",menuItems:"menuItems",displayMenuIcon:"displayMenuIcon",useGlassmorphism:"useGlassmorphism",menuPanelClass:"menuPanelClass",pressed:"pressed",color:"color",displayType:"displayType"},outputs:{clicked:"clicked",focused:"focused",blurred:"blurred"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:N9,decls:5,vars:2,consts:[["componentView",""],["defaultBtnContent",""],["btnWithMenu",""],["buttonElement",""],["btnWithMenuClickMode",""],["itemsMenu",""],["content",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],[4,"ngIf","ngIfElse"],["mat-flat-button","",1,"crt-button",3,"click","focus","blur","color","disabled","disableRipple","ngClass"],[1,"crt-button-inner-container"],[4,"ngTemplateOutlet"],[1,"crt-button-wrapper"],["mat-flat-button","",1,"crt-button","crt-button-with-menu","crt-menu-with-default-action",3,"click","focus","blur","color","disabled","disableRipple","ngClass"],[3,"vertical"],["mat-flat-button","",1,"crt-button","crt-button-menu-trigger-icon",3,"click","menuOpened","menuClosed","ngClass","color","disabled","disableRipple","crtMenuTriggerFor","crtMenuTriggerData"],["svgIcon","menu-arrow"],[3,"items","panelClass","useGlassmorphism"],["mat-flat-button","",1,"crt-button","crt-button-with-menu",3,"menuOpened","menuClosed","color","disabled","disableRipple","ngClass","crtMenuTriggerFor","crtMenuTriggerData"],["svgIcon","menu-arrow",4,"ngIf"],[1,"btn-reversible-content",3,"ngClass"],[4,"ngIf"],["matSuffix","",3,"svgIcon","ngClass",4,"ngIf"],[3,"config","width","height",4,"ngIf"],[1,"crt-button-caption"],["matSuffix","",3,"svgIcon","ngClass"],[3,"config","width","height"]],template:function(n,a){if(n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,V9,1,1,"crt-skeleton-loader",7)(1,$9,3,2,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)(3,X9,4,4,"ng-template",null,1,t.\u0275\u0275templateRefExtractor)),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.loading)("ngIfElse",i)}},dependencies:[D_.MatButton,_.NgClass,_.NgIf,_.NgTemplateOutlet,_t.MatIcon,yn.W,Di.MatDivider,Ua,ri,M],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:inline-block;height:-moz-fit-content;height:fit-content;width:-moz-fit-content;width:fit-content;max-width:100%}.crt-button[_ngcontent-%COMP%]{display:block;max-width:100%;min-width:0}.crt-button.button-size-none.mat-mdc-unelevated-button.mat-mdc-button-base[_ngcontent-%COMP%]{height:unset}.crt-button[_ngcontent-%COMP%]:focus-visible, .crt-button.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.crt-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;display:flex;min-width:8px;flex-shrink:0}.crt-button[_ngcontent-%COMP%]   .mat-icon.button-icon-size-small[_ngcontent-%COMP%]{height:8px}.crt-button[_ngcontent-%COMP%]   .mat-icon.button-icon-size-medium[_ngcontent-%COMP%]{height:12px}.crt-button[_ngcontent-%COMP%]   .mat-icon.button-icon-size-large[_ngcontent-%COMP%]{height:16px}.crt-button[_ngcontent-%COMP%]   .mat-icon.button-icon-size-extra-large[_ngcontent-%COMP%]{height:24px}.crt-button[_ngcontent-%COMP%]   .mat-icon.button-icon-size-small[_ngcontent-%COMP%]{width:8px}.crt-button[_ngcontent-%COMP%]   .mat-icon.button-icon-size-medium[_ngcontent-%COMP%]{width:12px}.crt-button[_ngcontent-%COMP%]   .mat-icon.button-icon-size-large[_ngcontent-%COMP%]{width:16px}.crt-button[_ngcontent-%COMP%]   .mat-icon.button-icon-size-extra-large[_ngcontent-%COMP%]{width:24px}.crt-button.icon-mode[_ngcontent-%COMP%]{width:100%;padding:0 4px}.crt-button.crt-button-with-menu.crt-button--contained[_ngcontent-%COMP%]{padding-inline-end:8px}.crt-button.crt-button-with-menu.crt-button--contained.crt-menu-with-default-action[_ngcontent-%COMP%]{padding:0;margin-inline-end:-2px}.crt-button.crt-button-with-menu.crt-button--contained.crt-menu-with-default-action[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin-inline-end:2px}.crt-button.crt-button-with-menu.crt-button--contained.crt-menu-with-default-action[_ngcontent-%COMP%]   .btn-reversible-content[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0;padding-inline-start:16px;padding-inline-end:8px}.crt-button.crt-button-with-menu.crt-button--contained[_ngcontent-%COMP%]:not(.button-icon-position-only-icon)   .btn-reversible-content[_ngcontent-%COMP%]{padding-inline-end:8px}.crt-button.crt-button-with-menu.crt-button--text.crt-menu-with-default-action[_ngcontent-%COMP%]{padding:0;margin-inline-end:-2px}.crt-button.crt-button-with-menu.crt-button--text.crt-menu-with-default-action[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{margin-inline-end:2px}.crt-button.crt-button-with-menu.crt-button--text.crt-menu-with-default-action[_ngcontent-%COMP%]   .btn-reversible-content[_ngcontent-%COMP%]{padding-inline-end:4px}.crt-button.crt-button-with-menu.crt-button--text[_ngcontent-%COMP%]:not(.button-icon-position-only-icon)   .btn-reversible-content[_ngcontent-%COMP%]{padding-inline-end:8px}.crt-button[_ngcontent-%COMP%]   .btn-reversible-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.crt-button[_ngcontent-%COMP%]   .btn-reversible-content.button-content-align-start[_ngcontent-%COMP%]{justify-content:start}.crt-button[_ngcontent-%COMP%]   .btn-reversible-content.button-content-align-center[_ngcontent-%COMP%]{justify-content:center}.crt-button[_ngcontent-%COMP%]   .btn-reversible-content.button-content-align-end[_ngcontent-%COMP%]{justify-content:end}.crt-button.crt-button--text[_ngcontent-%COMP%]{padding:0}.crt-button[_ngcontent-%COMP%]   .mat-divider[_ngcontent-%COMP%]{border-color:currentColor;border-width:1px;height:16px}.crt-button.button-size-small[_ngcontent-%COMP%]{line-height:18px}.crt-button.button-size-medium[_ngcontent-%COMP%]{line-height:24px}.crt-button.button-size-large[_ngcontent-%COMP%]{line-height:32px}.crt-button.button-size-extra-large[_ngcontent-%COMP%]{line-height:40px}.crt-button.button-size-small[_ngcontent-%COMP%]{height:18px}.crt-button.button-size-medium[_ngcontent-%COMP%]{height:24px}.crt-button.button-size-large[_ngcontent-%COMP%]{height:32px}.crt-button.button-size-extra-large[_ngcontent-%COMP%]{height:40px}.crt-button.button-size-small[_ngcontent-%COMP%]{font-size:10px}.crt-button.button-size-medium[_ngcontent-%COMP%]{font-size:12px}.crt-button.button-size-large[_ngcontent-%COMP%], .crt-button.button-size-extra-large[_ngcontent-%COMP%]{font-size:14px}.crt-button.crt-button--contained.button-size-small[_ngcontent-%COMP%]{padding:0 4px}.crt-button.crt-button--contained.button-size-medium[_ngcontent-%COMP%]{padding:0 12px}.crt-button.crt-button--contained.button-size-large[_ngcontent-%COMP%], .crt-button.crt-button--contained.button-size-extra-large[_ngcontent-%COMP%]{padding:0 16px}.crt-button.crt-button--contained.button-icon-position-only-icon.button-size-small[_ngcontent-%COMP%]{padding:0 5px}.crt-button.crt-button--contained.button-icon-position-only-icon.button-size-medium[_ngcontent-%COMP%]{padding:0 6px}.crt-button.crt-button--contained.button-icon-position-only-icon.button-size-large[_ngcontent-%COMP%], .crt-button.crt-button--contained.button-icon-position-only-icon.button-size-extra-large[_ngcontent-%COMP%]{padding:0 8px}.crt-button[_ngcontent-%COMP%]   .crt-button-caption[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.crt-button-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.crt-button-wrapper[_ngcontent-%COMP%]   .crt-button.crt-button--contained.crt-button-menu-trigger-icon[_ngcontent-%COMP%]{width:32px;padding:0 8px}.crt-button-wrapper[_ngcontent-%COMP%]   .crt-button.crt-button--text.crt-button-menu-trigger-icon[_ngcontent-%COMP%]{padding-inline-start:4px}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1,propertyName:et.R.Disabled}),(0,u.__metadata)("design:type",Boolean)],Jt.prototype,"disabled",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],Jt.prototype,"autofocus",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Jt.prototype,"caption",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],Jt.prototype,"icon",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Jt.prototype,"size",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Jt.prototype,"iconSize",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Jt.prototype,"iconPosition",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Jt.prototype,"ariaLabel",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],Jt.prototype,"attributes",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Jt.prototype,"title",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Jt.prototype,"textTransform",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Jt.prototype,"type",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Jt.prototype,"disableRipple",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number)],Jt.prototype,"isIconModeSizePx",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],Jt.prototype,"allowMenuOnDisabled",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Jt.prototype,"clickMode",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Jt.prototype,"contentAlign",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],Jt.prototype,"menuItems",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Jt.prototype,"displayMenuIcon",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Jt.prototype,"useGlassmorphism",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Jt.prototype,"menuPanelClass",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Jt.prototype,"clicked",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Jt.prototype,"focused",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Jt.prototype,"blurred",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],Jt.prototype,"pressed",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Jt.prototype,"color",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Jt.prototype,"displayType",null),Jt=(0,u.__decorate)([(0,Qt.v)({type:"crt.Button",reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:10,icon:o(19127),defaultPropertyValues:{caption:"",color:"default",disabled:!1},defaultLocalizableStrings:{caption:"Components.Button.Caption"}},propertiesPanelComponentTypeName:"crt.ButtonPropertiesPanel",collectionPropertyNames:["menuItems"],typeCaption:"Components.Button.Caption",viewElementGroupType:pn.J.Components}),(0,u.__metadata)("design:paramtypes",[t.Injector])],Jt);class Hn{constructor(e,n){this.el=e,this.render=n}set dataItemMarker(e){this.render.setAttribute(this.el.nativeElement,"data-item-marker",e)}static{this.\u0275fac=function(n){return new(n||Hn)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.Renderer2))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Hn,selectors:[["","tsDataItemMarker",""]],inputs:{dataItemMarker:[t.\u0275\u0275InputFlags.None,"tsDataItemMarker","dataItemMarker"]}})}}class tn{static{this.\u0275fac=function(n){return new(n||tn)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:tn})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(tn,{declarations:[Hn],exports:[Hn]})})();var Te=o(46352);let A_=class y3{static{this.\u0275fac=function(n){return new(n||y3)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:y3,selectors:[["crt-menu-divider"]],decls:1,vars:0,template:function(n,a){n&1&&t.\u0275\u0275element(0,"mat-divider")},dependencies:[Di.MatDivider],styles:["mat-divider[_ngcontent-%COMP%]{margin:8px 0}"]})}};A_=(0,u.__decorate)([(0,Qt.v)({type:"crt.MenuDivider",reuseStrategy:$t.B.Reuse})],A_);let Od=class v3{static{this.\u0275fac=function(n){return new(n||v3)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:v3,selectors:[["crt-menu-label"]],inputs:{caption:"caption"},decls:2,vars:2,consts:[["crtTextOverflowTitle","",1,"crt-menu-label",3,"title"]],template:function(n,a){if(n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),n&2){let i;t.\u0275\u0275property("title",(i=a.caption)!==null&&i!==void 0?i:""),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",a.caption,`
`)}},dependencies:[ai.y],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.crt-menu-label[_ngcontent-%COMP%]{font-family:var(--crt-caption-font-family);font-size:var(--crt-caption-font-size);line-height:var(--crt-caption-line-height);font-weight:var(--crt-caption-font-weight);letter-spacing:var(--crt-caption-letter-spacing);text-transform:var(--crt-caption-text-transform);-webkit-font-smoothing:antialiased;color:var(--crt-palette-label-500);padding:8px 24px 4px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Od.prototype,"caption",void 0),Od=(0,u.__decorate)([(0,Qt.v)({type:"crt.MenuLabel",reuseStrategy:$t.B.Reuse})],Od);class Dd{static{this.\u0275fac=function(n){return new(n||Dd)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Dd,inputs:{item:"item"}})}}function q9(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-icon",3),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("svgIcon",n.item.icon)}}function t8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span",4),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,n.item.caption))}}class Yu extends Dd{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Yu)))(a||Yu)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Yu,selectors:[["crt-menu-clickable-item"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[1,"crt-menu-clickable-item",3,"disabled"],[3,"svgIcon",4,"ngIf"],["crtTextOverflowTitle","",4,"ngIf"],[3,"svgIcon"],["crtTextOverflowTitle",""]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"button",0),t.\u0275\u0275template(1,q9,1,1,"mat-icon",1)(2,t8,3,3,"span",2),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("disabled",a.item==null?null:a.item.disabled),t.\u0275\u0275attribute("data-item-marker",(a.item==null?null:a.item.caption)||(a.item==null?null:a.item.icon)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.item==null?null:a.item.icon),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.item==null?null:a.item.caption))},dependencies:[_.NgIf,_t.MatIcon,ai.y,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center}.crt-menu-clickable-item[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;border:none;background:none;outline:none;cursor:pointer;padding:8px 16px 8px 40px;position:relative;height:40px}.crt-menu-clickable-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{min-width:16px;width:16px;min-height:16px;height:16px;margin-right:0;position:absolute;left:16px}.crt-menu-clickable-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.crt-menu-clickable-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--crt-menu-item-icon-color)}"]})}}class L_{static{this.\u0275fac=function(n){return new(n||L_)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:L_,selectors:[["crt-menu-extra-button"]],inputs:{itemConfig:"itemConfig"},decls:2,vars:3,consts:[["crtTooltip","","type","button",1,"crt-menu-extra-button",3,"click","tooltipConfig"],[1,"crt-menu-extra-button-icon",3,"svgIcon"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"button",0),t.\u0275\u0275listener("click",function(){return a.itemConfig.handler()}),t.\u0275\u0275element(1,"mat-icon",1),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("tooltipConfig",a.itemConfig.tooltip),t.\u0275\u0275attribute("aria-label",a.itemConfig.tooltip.tooltipConfig.value),t.\u0275\u0275advance(),t.\u0275\u0275property("svgIcon",a.itemConfig.icon))},dependencies:[_t.MatIcon,na.d],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{width:auto;height:100%;display:flex;align-items:center;justify-content:end}.crt-menu-extra-button[_ngcontent-%COMP%]{height:24px;width:32px;cursor:pointer;display:flex;align-items:center;justify-content:center;background-color:transparent;border:none;border-radius:4px;transition:background-color .2s ease,transform .1s ease}.crt-menu-extra-button[_ngcontent-%COMP%]:hover{background-color:var(--crt-menu-item-background-active-color)}.crt-menu-extra-button[_ngcontent-%COMP%]:active{transform:scale(.95);background-color:var(--crt-palette-primary-100)}.crt-menu-extra-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:0;height:16px;width:16px}"]})}}function e8(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-menu-extra-button",2),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("itemConfig",n.item.extraButtonConfig)}}class Ju extends Dd{constructor(){super(...arguments),this.itemSelected=new t.EventEmitter}onClick(e){this.item.handler&&this.item.handler(this.data,e),this.itemSelected.emit(this.item)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Ju)))(a||Ju)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ju,selectors:[["crt-menu-action-item"]],hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("click",function(s){return a.onClick(s)})},inputs:{data:"data"},outputs:{itemSelected:"itemSelected"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:2,consts:[[3,"item"],[3,"itemConfig",4,"ngIf"],[3,"itemConfig"]],template:function(n,a){n&1&&(t.\u0275\u0275element(0,"crt-menu-clickable-item",0),t.\u0275\u0275template(1,e8,1,1,"crt-menu-extra-button",1)),n&2&&(t.\u0275\u0275property("item",a.item),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.item==null?null:a.item.extraButtonConfig))},dependencies:[_.NgIf,Yu,L_],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center}"]})}}class Xu extends Dd{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Xu)))(a||Xu)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Xu,selectors:[["crt-menu-divider-item"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:0,template:function(n,a){n&1&&t.\u0275\u0275element(0,"mat-divider")},dependencies:[Di.MatDivider],styles:["mat-divider[_ngcontent-%COMP%]{margin:8px 0}"]})}}class qu extends Dd{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(qu)))(a||qu)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:qu,selectors:[["crt-menu-label-item"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[3,"caption"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-menu-label",0),n&2&&t.\u0275\u0275property("caption",a.item==null?null:a.item.caption)},dependencies:[Od],encapsulation:2,changeDetection:0})}}class tm{constructor(){this.crtMenuItem=""}get _ariaDisabled(){return this.item?.disabled===!0}get itemType(){return this.item?.type}static{this.\u0275fac=function(n){return new(n||tm)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:tm,selectors:[["","crtMenuItem",""]],hostVars:3,hostBindings:function(n,a){n&2&&t.\u0275\u0275attribute("aria-disabled",a._ariaDisabled)("crt-menu-item",a.crtMenuItem)("crt-menu-item-type",a.itemType)},inputs:{item:[t.\u0275\u0275InputFlags.None,"crtMenuItem","item"]}})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],tm.prototype,"item",void 0);class em{get itemName(){return this.item?.name||""}static{this.\u0275fac=function(n){return new(n||em)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:em,selectors:[["","crtMenuViewElementItem",""]],hostVars:1,hostBindings:function(n,a){n&2&&t.\u0275\u0275attribute("crt-menu-view-element-item",a.itemName)},inputs:{item:[t.\u0275\u0275InputFlags.None,"crtMenuViewElementItem","item"]}})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],em.prototype,"item",void 0);var Ad=o(6975);let vn=class M3{static{this.\u0275fac=function(n){return new(n||M3)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:M3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[Te.c,_.CommonModule,Di.MatDividerModule,_t.MatIconModule,Q.MatLegacyMenuModule,Ae,tn,Vn.d,f.TranslateModule,_e.S]})}};vn=(0,u.__decorate)([(0,ie.g)({viewElements:[A_,ii,Od]})],vn),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(vn,{declarations:[Ju,Yu,Ua,Xu,L_,qu,tm,em,ri,A_,ii,Od],imports:[Te.c,_.CommonModule,Di.MatDividerModule,_t.MatIconModule,Q.MatLegacyMenuModule,Ae,tn,Vn.d,f.TranslateModule,_e.S],exports:[Ua,ri,A_,ii,Od]})}(),t.\u0275\u0275setComponentScope(Ua,[Ad.aD,rn.H,_.NgForOf,_.NgIf,_.NgTemplateOutlet,_.NgSwitch,_.NgSwitchCase,Q.MatLegacyMenu,Q.MatLegacyMenuItem,Q.MatLegacyMenuContent,Ju,Ua,Xu,qu,tm,em,ri],[]);let re=class I3{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"menu-arrow",icon:o(67566)}])}static{this.\u0275fac=function(n){return new(n||I3)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:I3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[D_.MatButtonModule,_.CommonModule,_t.MatIconModule,fe.q,Di.MatDividerModule,vn,R]})}};re=(0,u.__decorate)([(0,ie.g)({viewElements:[Jt]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],re),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(re,{declarations:[Jt],imports:[D_.MatButtonModule,_.CommonModule,Le.C,_t.MatIconModule,fe.q,Di.MatDividerModule,vn,R],exports:[Jt]})}();var Sn=o(57274),Ld=o(50485);class kd{constructor(e){this._rightsService=e}transform(e,n){return e?this._rightsService.getCanExecuteOperation(n).pipe((0,h.map)(a=>e&&a)):(0,m.of)(!1)}static{this.\u0275fac=function(n){return new(n||kd)(t.\u0275\u0275directiveInject(Ld.f,16))}}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"checkOperationPermission",type:kd,pure:!0})}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:kd,factory:kd.\u0275fac,providedIn:"root"})}}class nm{static{this.\u0275fac=function(n){return new(n||nm)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:nm})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(nm,{declarations:[kd],exports:[kd]})})();var am=o(56558),Bo=o(70936),fy;(function(r){r.AddRecord="addRecord",r.GoToRecordList="goToRecordList",r.OpenLookupPage="openLookupPage"})(fy||(fy={}));const n8={code:fy.AddRecord,type:"crt.ComboboxSearchTextAction",icon:"combobox-add-new",caption:"ComboBox.AddNewRecord",clicked:{request:"crt.CreateRecordFromLookupRequest",params:{}}},on="#GenerateGUID#";var Ni=o(73723);const Qv=r=>({provide:O.NG_VALIDATORS,useExisting:r,multi:!0});class k_{get errors(){return this.getErrorMessages({...this.control?.errors,...this._parentControl?.errors})}get errorMessages(){return this.errors.join(`
`)}get invalid(){return this._isControlInvalid(this.control)||this._isControlInvalid(this._parentControl)}set parentControl(e){this._parentControl=e,this._reuseFeatureEnabled&&!!this.control&&(this.control.markAsUntouched(),this.control.markAsPristine())}get parentControl(){return this._parentControl}constructor(e,n){this.injector=n,this.control=e;const a=this.injector.get(ge.G,{},{optional:!0}),i=this.injector.get(E.ZP);this._reuseFeatureEnabled=(0,y.get)(i,"Terrasoft")?.isAngularHost&&a?.UseSchemaOutletReuseViewStrategy}_isControlInvalid(e){return e.invalid&&(e.dirty||e.touched)}getErrorMessages(e){return Object.values(e||{}).map(n=>n?.message).filter(Boolean)}validate(e){return this.control.errors}syncTouchedState(){if(this.control.touched&&this._parentControl){this._parentControl.markAsTouched();return}if(this._parentControl?.touched&&!this.control.touched){this.control.markAsTouched();return}this.control.touched&&!this._parentControl&&this.control.markAsUntouched()}static{this.\u0275fac=function(n){return new(n||k_)(t.\u0275\u0275directiveInject(O.FormControl),t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:k_,inputs:{parentControl:"parentControl"}})}}class Ia{static isLookupValue(e){return e!==null&&typeof e=="object"&&"value"in e&&"displayValue"in e}static isLookupValuesArray(e){return!(!(0,y.isArray)(e)||e.find(a=>!Ia.isLookupValue(a))||null)}static isNullableLookupValue(e){return Ia.isLookupValue(e)||Ia.isLookupValuesArray(e)||e===null}static isEmptyString(e){return e===""}static filterLookupItemsByDefault(e,n){const a=n.toLowerCase();return(0,m.of)(e.filter(i=>!!i.displayValue?.toLowerCase().includes(a)))}static sortFilteringItemsByDefault(e,n){const a=n.toLowerCase(),i=[...e.filter(s=>s.displayValue?.toLowerCase().indexOf(a)===0),...e.filter(s=>s.displayValue?.toLowerCase().indexOf(a)>0)];return(0,m.of)(i)}}class a8 extends Ed{constructor(){super(...arguments),this.i18nMessageKey="Validators.Autocomplete.Message",this.async=!1}validate(e,n){return Ia.isNullableLookupValue(e.value)||Ia.isEmptyString(e.value)||e.value===void 0?null:{invalidValueSyntax:this.defaultValidationError(n)}}}var i8=o(44040);class Uc{constructor(){this.validationErrors=new m.Subject}static{this.\u0275fac=function(n){return new(n||Uc)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Uc,factory:Uc.\u0275fac})}}var Rd=o(48416),Hc=o(26657),Hs=o(44545);class Nd{static{this.\u0275fac=function(n){return new(n||Nd)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Nd,selectors:[["crt-progress-bar"]],decls:2,vars:4,consts:[[1,"crt-progress-bar",3,"mode"]],template:function(n,a){n&1&&(t.\u0275\u0275element(0,"mat-progress-bar",0),t.\u0275\u0275pipe(1,"translate")),n&2&&(t.\u0275\u0275property("mode","indeterminate"),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(1,2,"ProgressBar.AriaLabel")))},dependencies:[Hs.MatProgressBar,f.TranslatePipe],styles:["[_nghost-%COMP%]{display:block}.crt-progress-bar.mat-mdc-progress-bar[_ngcontent-%COMP%]{--mdc-linear-progress-track-height: 2px;--mdc-linear-progress-active-indicator-height: 2px}"],changeDetection:0})}}var R_=o(80615);function r8(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-base-input-width-holder",5),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("label",n.label)("minWidth",16)}}function o8(r,e){r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader")}function s8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",9)(1,"span",10),t.\u0275\u0275element(2,"mat-icon",11),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("crtTooltip",n.tooltip)}}function c8(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-checkbox",6),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onChange(i))}),t.\u0275\u0275elementStart(1,"span",7),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(3,s8,3,1,"div",8)}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("crt-checkbox--inversed",n.inversed),t.\u0275\u0275property("formControl",n.control)("aria-label",n.ariaLabel||n.label||null)("indeterminate",n.indeterminate)("labelPosition",n.displayLabelPosition==="right"?"after":"before")("tabIndex",n.tabIndex),t.\u0275\u0275advance(),t.\u0275\u0275classProp("crt-checkbox-multiline-label",n.multilineLabel!==!1),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.label),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.tooltip)}}let xa=class x3 extends Sd.g{set value(e){this.control.setValue(e)}set readonly(e){this.disabled=e}set disabled(e){super.disabled=e}constructor(e,n,a){super(e,!1,n),this._changeDetectorRef=n,this._directionality=a,this.inversed=!1,this.valueChange=new t.EventEmitter}onChange(e){this.valueChange.emit(e.checked),e.source.focus()}static{this.\u0275fac=function(n){return new(n||x3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(me.Directionality))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:x3,selectors:[["crt-checkbox"]],inputs:{value:"value",inversed:"inversed",readonly:"readonly",disabled:"disabled",ariaLabel:"ariaLabel",indeterminate:"indeterminate",multilineLabel:"multilineLabel"},outputs:{valueChange:"valueChange"},features:[t.\u0275\u0275ProvidersFeature([Oi.I]),t.\u0275\u0275InheritDefinitionFeature],decls:6,vars:5,consts:[["checkbox",""],[3,"label","minWidth",4,"ngIf"],[1,"crt-base-input-container"],["crtResizable","",1,"crt-checkbox-container",3,"resized","ngClass","crtResizableDisabled"],[4,"ngIf","ngIfElse"],[3,"label","minWidth"],[1,"crt-checkbox",3,"change","formControl","aria-label","indeterminate","labelPosition","tabIndex"],["crtTextOverflowTitle","",1,"crt-checkbox-label"],["class","crt-checkbox-tooltip",4,"ngIf"],[1,"crt-checkbox-tooltip"],[1,"crt-checkbox-tooltip-icon-container"],["tabindex","0","matSuffix","","svgIcon","info-icon",1,"crt-checkbox-tooltip-icon","crt-input-icon",3,"crtTooltip"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275template(0,r8,1,2,"crt-base-input-width-holder",1),t.\u0275\u0275elementStart(1,"div",2)(2,"div",3),t.\u0275\u0275listener("resized",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onResized(b))}),t.\u0275\u0275template(3,o8,1,0,"crt-skeleton-loader",4)(4,c8,4,11,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(n&2){const i=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngIf",a.displayLabelPosition==="auto"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass","label-position-"+a.displayLabelPosition)("crtResizableDisabled",!a.isAutoLabelPosition||a.containerQueryMechanismAvailable),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loaderVisible)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgIf,ai.y,oe.MatLegacyCheckbox,O.NgControlStatus,O.FormControlDirective,Le.C,yn.W,_t.MatIcon,na.d,Mr.q],styles:['body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.crt-base-edit-input-responsible[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{container-type:inline-size}.crt-checkbox-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.crt-checkbox-container[_ngcontent-%COMP%]   .crt-checkbox-label[_ngcontent-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.crt-checkbox-tooltip[_ngcontent-%COMP%]{align-self:baseline;min-width:24px;position:relative}.crt-checkbox-tooltip[_ngcontent-%COMP%]   .crt-checkbox-tooltip-icon-container[_ngcontent-%COMP%]{display:inline-block;margin:9px 0 4px;position:relative}.crt-checkbox-tooltip[_ngcontent-%COMP%]   .crt-checkbox-tooltip-icon-container[_ngcontent-%COMP%]:before{content:"|";display:inline-block;vertical-align:baseline;width:0;color:transparent}.crt-checkbox-tooltip[_ngcontent-%COMP%]:before{content:"|";display:inline-block;vertical-align:baseline;width:0;color:transparent}.crt-checkbox-tooltip[_ngcontent-%COMP%]   .crt-checkbox-tooltip-icon[_ngcontent-%COMP%]{padding:2px;width:16px;height:16px;position:absolute;left:8px;top:50%;transform:translateY(-10px)}.crt-checkbox-tooltip[_ngcontent-%COMP%]   .crt-checkbox-tooltip-icon[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}'],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],xa.prototype,"value",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],xa.prototype,"inversed",void 0),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1,propertyName:et.R.Readonly}),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],xa.prototype,"readonly",null),(0,u.__decorate)([(0,J.k)({defaultValue:!1,propertyName:et.R.Disabled}),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],xa.prototype,"disabled",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],xa.prototype,"ariaLabel",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],xa.prototype,"indeterminate",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],xa.prototype,"multilineLabel",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],xa.prototype,"valueChange",void 0),xa=(0,u.__decorate)([(0,Qt.v)({type:"crt.Checkbox",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:50,icon:o(49100),defaultPropertyValues:{value:!0,disabled:!1,inversed:!1,label:"",ariaLabel:"",labelPosition:"auto",tooltip:""},defaultLocalizableStrings:{label:"Components.Checkbox.Caption",ariaLabel:"Components.Checkbox.Caption"}},designViewItemCommands:{update:"crt.CheckboxChangeViewItemCommand"},dataValueTypes:[X.r.Boolean],propertiesPanelComponentTypeName:"crt.CheckboxPropertiesPanelComponent",viewElementGroupType:pn.J.Inputs,typeCaption:"Components.Checkbox.Caption"}),(0,u.__metadata)("design:paramtypes",[t.Injector,t.ChangeDetectorRef,me.Directionality])],xa);class N_{get _autocomplete(){return this._autoCompleteTrigger.autocomplete}constructor(e,n){this._autoCompleteTrigger=e,this._elementRef=n,this._subscription=new m.Subscription}_subscribeOnKeydownEvent(e){return(0,m.fromEvent)(e,"keydown",{capture:!0}).subscribe(n=>{this._isNotAllowProcessKeydownEvent(n,e)||this._processKeydownEvent(n)})}_isNotAllowProcessKeydownEvent(e,n){return e.target!==n}_processKeydownEvent(e){const n=this._autoCompleteTrigger.activeOption;this.keydownFn?.(e,n)}onEnter(){if(!this._autocomplete.isOpen||this._autocomplete.options.filter(n=>!n.disabled).length===0)return;this._autocomplete.options.find(n=>!n.disabled).select()}ngOnInit(){const e=this._elementRef.nativeElement;this._subscription.add(this._subscribeOnKeydownEvent(e))}ngOnDestroy(){this._subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||N_)(t.\u0275\u0275directiveInject(c.MatLegacyAutocompleteTrigger),t.\u0275\u0275directiveInject(t.ElementRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:N_,selectors:[["input","crtInputAutocomplete",""]],hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("keydown.enter",function(){return a.onEnter()})},inputs:{keydownFn:"keydownFn"}})}}var je;(function(r){r.Auto="auto",r.Transparent="transparent",r.PrimaryContrast500="primary-contrast-500",r.Foreground500="foreground-500",r.Label500="label-500",r.BrandSecondary500="brand-secondary-500",r.Warning500="warn-500",r.Brand500="brand-500",r.NavigationPrimary500="navigation-primary-500",r.Primary500="primary-500"})(je||(je={}));class Sa extends ue.K{set caption(e){this._caption=e||e==0?`${e}`:""}get caption(){return this._caption}set labelType(e){this._labelType=e,this._initLabelTypeClass()}get labelType(){return this._labelType}get labelTypeClass(){return this._labelTypeClass}constructor(e){super(e),this._labelType="body",this.skeletonStyles={height:"20px"},this.labelStyle={},this._initLabelTypeClass()}_initLabelTypeClass(){let e=`mat-${this.labelType}`;this.labelType==="button"&&(e="mat-label-button"),this._labelTypeClass=e}getTooltip(){}static{this.\u0275fac=function(n){return new(n||Sa)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Sa,inputs:{caption:"caption",required:"required",labelType:"labelType",labelMargin:"labelMargin",labelFontSize:"labelFontSize",labelFontFamily:"labelFontFamily",labelHeight:"labelHeight",labelLineHeight:"labelLineHeight",labelLetterSpacing:"labelLetterSpacing",labelThickness:"labelThickness",labelEllipsis:"labelEllipsis",labelTextTransform:"labelTextTransform",labelColor:"labelColor",labelStyle:"labelStyle"},features:[t.\u0275\u0275InheritDefinitionFeature]})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Sa.prototype,"caption",null),(0,u.__decorate)([(0,J.k)({defaultValue:!1}),(0,u.__metadata)("design:type",Boolean)],Sa.prototype,"required",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Sa.prototype,"labelType",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Sa.prototype,"labelMargin",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Sa.prototype,"labelFontSize",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Sa.prototype,"labelFontFamily",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Sa.prototype,"labelHeight",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Sa.prototype,"labelLineHeight",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Sa.prototype,"labelLetterSpacing",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Sa.prototype,"labelThickness",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],Sa.prototype,"labelEllipsis",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Sa.prototype,"labelTextTransform",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Sa.prototype,"labelColor",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Sa.prototype,"labelStyle",void 0);const l8=["*"];function d8(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",3),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function p8(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function u8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"h1",8),t.\u0275\u0275template(1,p8,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function m8(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function g8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"h2",8),t.\u0275\u0275template(1,m8,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function h8(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function _8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"h3",8),t.\u0275\u0275template(1,h8,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function f8(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function b8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"h4",8),t.\u0275\u0275template(1,f8,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function C8(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function y8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"label",8),t.\u0275\u0275template(1,C8,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing)("color",a.labelColor),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function v8(r,e){r&1&&t.\u0275\u0275projection(0)}function M8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",4),t.\u0275\u0275elementContainerStart(1,5),t.\u0275\u0275template(2,u8,2,18,"h1",6)(3,g8,2,18,"h2",6)(4,_8,2,18,"h3",6)(5,b8,2,18,"h4",6)(6,y8,2,20,"label",7)(7,v8,1,0,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275classMap("crt-label "+n.labelThickness),t.\u0275\u0275styleProp("color",n.labelColor)("background-color",n.labelBackgroundColor)("text-align",n.labelTextAlign)("align-content",n.labelTextAlign)("justify-content",n.labelTextAlign)("margin",n.labelMargin)("text-transform",n.labelTextTransform),t.\u0275\u0275property("tooltipConfig",n.getTooltip()),t.\u0275\u0275attribute("required",n.required),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitch",n.headingLevel),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","h1"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","h2"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","h3"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","h4")}}let hn=class l0 extends Sa{constructor(){super(...arguments),this._headingLevel="label"}set headingLevel(e){this._headingLevel=e}get headingLevel(){return this._headingLevel}set labelElementType(e){this.headingLevel=e}get labelElementType(){return this.headingLevel}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(l0)))(a||l0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:l0,selectors:[["crt-label"]],inputs:{labelBackgroundColor:"labelBackgroundColor",labelTextAlign:"labelTextAlign",headingLevel:"headingLevel",labelElementType:"labelElementType"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:l8,decls:3,vars:2,consts:[["label_template",""],["content",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],["crtTooltip","",3,"tooltipConfig"],[3,"ngSwitch"],[3,"class","ellipsis","font-size","font-family","height","line-height","letter-spacing","ngStyle",4,"ngSwitchCase"],[3,"class","ellipsis","font-size","font-family","height","line-height","letter-spacing","ngStyle","color",4,"ngSwitchDefault"],[3,"ngStyle"],[4,"ngIf","ngIfElse"]],template:function(n,a){if(n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,d8,1,1,"crt-skeleton-loader",2)(1,M8,9,24,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.loading)("ngIfElse",i)}},dependencies:[_.NgIf,_.NgStyle,_.NgSwitch,_.NgSwitchCase,_.NgSwitchDefault,yn.W,na.d],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block}.crt-label.light[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:300}.crt-label.normal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:400}.crt-label.semibold[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:600}.crt-label.bold[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:700}.crt-label.default[_ngcontent-%COMP%]{font-weight:unset}.crt-label[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .crt-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .crt-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .crt-label[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .crt-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.crt-label[_ngcontent-%COMP%]   .ellipsis[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:block}.crt-label[_ngcontent-%COMP%]:first-child[required]{display:flex}.crt-label[_ngcontent-%COMP%]:first-child[required]:after{content:"\\a0*"}'],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],hn.prototype,"labelBackgroundColor",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],hn.prototype,"labelTextAlign",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],hn.prototype,"headingLevel",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],hn.prototype,"labelElementType",null),hn=(0,u.__decorate)([(0,Qt.v)({type:"crt.Label",reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:40,icon:o(3099),defaultPropertyValues:{caption:"",labelType:"headline-1",labelThickness:"default",labelEllipsis:!1,labelColor:je.Auto,labelBackgroundColor:"transparent",labelTextAlign:"start",headingLevel:"label"},defaultLocalizableStrings:{caption:"Components.Label.Caption"}},designViewItemCommands:{update:"crt.LabelChangeViewItemCommand"},propertiesPanelComponentTypeName:"crt.LabelPropertiesPanel",viewElementGroupType:pn.J.Components,typeCaption:"Components.Label.Caption",placeholderSize:{height:"20px"}})],hn);function I8(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-icon",5),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("svgIcon",n.icon)}}function x8(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",2),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.handleActionClick(i))}),t.\u0275\u0275template(2,I8,1,1,"mat-icon",3),t.\u0275\u0275element(3,"crt-label",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("disabled",n.disabled),t.\u0275\u0275attribute("data-item-marker",n.caption||n.icon),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.icon),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("caption",n.getTitle()),t.\u0275\u0275property("labelEllipsis",!0)}}function S8(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",6),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.handleActionClick(i))}),t.\u0275\u0275element(1,"mat-icon",7),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",n.disabled)("crtAccessibleAttributes",n.getTitle()),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("svgIcon",n.icon)}}let zo=class S3 extends ii{constructor(e,n){super(e),this.injector=e,this.translateService=n,this.iconPosition=pe.LeftIcon}get isDisabled(){return this.disabled}set details(e){this._details=e}get details(){return this._details}set title(e){this._title=e}get title(){return this._title}getTitle(){return this.title||this.caption||""}handleActionClick(e){this.clicked.next({detail:this.details})}static{this.\u0275fac=function(n){return new(n||S3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:S3,selectors:[["crt-combobox-action"]],hostVars:2,hostBindings:function(n,a){n&2&&t.\u0275\u0275classProp("disabled",a.isDisabled)},inputs:{iconPosition:"iconPosition",details:"details",title:"title"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["icon_button",""],[4,"ngIf","ngIfElse"],[1,"combobox-action-button","full-width",3,"click","disabled"],["class","combobox-icon",3,"svgIcon",4,"ngIf"],[1,"combobox-label",3,"caption","labelEllipsis"],[1,"combobox-icon",3,"svgIcon"],[1,"combobox-action-button",3,"click","disabled","crtAccessibleAttributes"],["matSuffix","",1,"combobox-icon",3,"svgIcon"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,x8,4,5,"ng-container",1)(1,S8,2,3,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.iconPosition==="left-icon")("ngIfElse",i)}},dependencies:[_.NgIf,q.MatLegacySuffix,_t.MatIcon,hn,Nn],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{cursor:pointer;display:flex;align-items:flex-end;width:100%;height:100%}[_nghost-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{width:16px;height:16px;min-width:16px;min-height:16px;padding:0 2px}[_nghost-%COMP%]   .combobox-action-button[_ngcontent-%COMP%]{padding-inline-start:8px;background:transparent;text-transform:none;border:none;cursor:pointer;padding:2px 0;height:20px}[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]{pointer-events:none;width:100%;display:flex;align-items:center;padding:8px 0}[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-bottom:0;padding-inline-start:16px}[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]   crt-label[_ngcontent-%COMP%]{cursor:pointer;max-width:calc(100% - 50px)}[dir=rtl][_nghost-%COMP%]   .combobox-icon[data-mat-icon-name=combobox-go-to-source][_ngcontent-%COMP%]{transform:rotateY(180deg)}.disabled[_nghost-%COMP%]{cursor:default}.disabled[_nghost-%COMP%]   .combobox-action-button[_ngcontent-%COMP%]{cursor:default}.disabled[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]   crt-label[_ngcontent-%COMP%]{cursor:default}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],zo.prototype,"iconPosition",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],zo.prototype,"details",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],zo.prototype,"title",null),zo=(0,u.__decorate)([(0,Qt.v)({type:"crt.ComboboxAction",reuseStrategy:$t.B.Reuse}),(0,$e.f)({viewElementGroupType:pn.J.Components}),(0,u.__metadata)("design:paramtypes",[t.Injector,f.TranslateService])],zo);class V_{constructor(e){this._autoComplete=e,this.thresholdPercent=.8,this.crtOptionsScroll=new t.EventEmitter,this._destroyed$=new m.Subject,this._closed$=new m.Subject,this._subscribe()}_subscribe(){this._subscribeAutoCompleteOpened(),this._subscribeAutoCompleteClosed()}_subscribeAutoCompleteOpened(){this._autoComplete.opened.pipe((0,h.delay)(0),(0,h.takeUntil)(this._destroyed$)).subscribe(()=>this._subscribeAutoCompleteScroll())}_subscribeAutoCompleteClosed(){this._autoComplete.closed.pipe((0,h.takeUntil)(this._destroyed$)).subscribe(()=>this._closed$.next())}_subscribeAutoCompleteScroll(){const e=this._autoComplete?.panel?.nativeElement;e&&(0,m.fromEvent)(e,"scroll").pipe((0,h.takeUntil)((0,m.merge)(this._destroyed$,this._closed$))).subscribe(n=>this._onScroll(n))}_onScroll(e){if(this.thresholdPercent===void 0)this.crtOptionsScroll.next({autoComplete:this._autoComplete,scrollEvent:e});else{const n=e.target,a=this.thresholdPercent*100*n.scrollHeight/100;n.scrollTop+n.clientHeight>a&&this.crtOptionsScroll.next({autoComplete:this._autoComplete,scrollEvent:e})}}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||V_)(t.\u0275\u0275directiveInject(c.MatLegacyAutocomplete))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:V_,selectors:[["mat-autocomplete","crtOptionsScroll",""]],inputs:{thresholdPercent:"thresholdPercent"},outputs:{crtOptionsScroll:"crtOptionsScroll"}})}}const Yv=["input"],w8=(r,e)=>({"crt-autocomplete-input":!0,hide:r,"chip-mode":e}),E8=r=>({"chip-wrap":!0,"chip-less-size":r}),T8=r=>({"link-wrap":!0,"link-less-size":r}),im=r=>({item:r}),P8=r=>({"crt-combobox-autocomplete-button-option":!0,"crt-combobox-autocomplete-button-option-active":r});function O8(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",24),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onDisplayElementWrapClick())}),t.\u0275\u0275elementStart(2,"crt-chip",25),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(3,E8,n.invalid||n.tooltip)),t.\u0275\u0275advance(),t.\u0275\u0275property("color",n.displayColor),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.control==null||n.control.value==null?null:n.control.value.displayValue," ")}}function D8(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-chip",25),t.\u0275\u0275elementContainer(2,27),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("color",a.displayColor),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",n)}}function A8(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,28),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("crtViewElement",n.linkViewConfig)}}function L8(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",26),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onDisplayElementWrapClick())})("dblclick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onDisplayElementWrapSelectContent(i))}),t.\u0275\u0275template(1,D8,3,2,"ng-container",18)(2,A8,1,1,"ng-template",null,6,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(3,T8,a.invalid||a.tooltip)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.displayColor)("ngIfElse",n)}}function k8(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",29),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("keydown.enter",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onClearIconEnterPressed(i))})("keydown.space",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onClearIconEnterPressed(i))})("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.clearValue(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("crtAccessibleAttributes",t.\u0275\u0275pipeBind1(1,1,"ComboBox.ClearValue")+" "+n.ariaLabel)}}function R8(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",30),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("keydown.enter",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onArrowIconEnterPressed(i))})("keydown.space",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onArrowIconEnterPressed(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(14);t.\u0275\u0275property("crtAccessibleAttributes",t.\u0275\u0275pipeBind1(1,2,"ComboBox.SelectValue")+" "+n.ariaLabel)("ngClass","combobox-expander "+(a.isOpen?"opened":"closed"))}}function N8(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",31),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("keydown.enter",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectionWindowIconEnterPressed(i))})("keydown.space",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSelectionWindowIconEnterPressed(i))})("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onSelectionWindowIconPressed())}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("focused-in",n.focusIn),t.\u0275\u0275property("crtAccessibleAttributes",t.\u0275\u0275pipeBind1(1,3,"ComboBox.SelectValue")+" "+n.ariaLabel)}}function V8(r,e){r&1&&(t.\u0275\u0275element(0,"mat-icon",32),t.\u0275\u0275pipe(1,"translate")),r&2&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"ComboBox.Readonly"))}function F8(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",33),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"crt-icon-tooltip",34),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.errorMessages),t.\u0275\u0275advance(),t.\u0275\u0275property("tooltip",n.errors!=null&&n.errors.length?n.errors:n.tooltip)("ariaLabel",n.ariaLabel)}}function j8(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-icon-tooltip",36),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("tooltip",n.tooltip)("ariaLabel",n.ariaLabel)}}function B8(r,e){if(r&1&&t.\u0275\u0275template(0,j8,1,2,"crt-icon-tooltip",35),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",n.tooltip)}}function z8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",39,7),t.\u0275\u0275elementContainer(2,40),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275reference(1),i=t.\u0275\u0275nextContext(2),s=t.\u0275\u0275reference(23);t.\u0275\u0275property("ngClass",i.getChoosedOptionClasses(n,a))("value",n),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",s)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(4,im,n))}}function U8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-optgroup",37),t.\u0275\u0275template(1,z8,3,6,"mat-option",38),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.selectedItems)("ngForTrackBy",n.itemTrackBy)}}function H8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",45,8),t.\u0275\u0275elementContainer(2,40),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275reference(1),i=t.\u0275\u0275nextContext(2),s=t.\u0275\u0275reference(21);t.\u0275\u0275property("ngClass",i.getOptionClasses(n,a))("value",n)("disabled",i.isDisabledItem(n)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",s)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(5,im,n))}}function W8(r,e){r&1&&(t.\u0275\u0275elementStart(0,"mat-option",46),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"ComboBox.NoData")," "))}function G8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-optgroup",41),t.\u0275\u0275template(1,H8,3,7,"mat-option",42),t.\u0275\u0275element(2,"mat-option",43),t.\u0275\u0275template(3,W8,3,3,"mat-option",44),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.items)("ngForTrackBy",n.itemTrackBy),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.isShowNoDataOption)}}function $8(r,e){r&1&&(t.\u0275\u0275elementStart(0,"mat-option",47),t.\u0275\u0275element(1,"crt-progress-bar"),t.\u0275\u0275elementEnd())}function K8(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"mat-option",50)(2,"div",51),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.applyProperCheckedStateToAllItems(i,!0))}),t.\u0275\u0275element(3,"crt-combobox-action",52),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"mat-option",50)(5,"div",51),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.applyProperCheckedStateToAllItems(i,!1))}),t.\u0275\u0275element(6,"crt-combobox-action",53),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("id",n.checkAllBottomOptionId),t.\u0275\u0275property("ngClass",n.getActionOptionClasses()),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(6,P8,n.checkedAllItemsCount>0))("title",n.checkAllBottomOptionTitle),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("id",n.clearAllBottomOptionId),t.\u0275\u0275property("ngClass",n.getActionOptionClasses())}}function Z8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",55),t.\u0275\u0275elementContainer(1,56),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275propertyInterpolate("id",n.name),t.\u0275\u0275property("ngClass",a.getActionOptionClasses())("disabled",n.disabled),t.\u0275\u0275advance(),t.\u0275\u0275property("crtViewElement",n)}}function Q8(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Z8,2,4,"mat-option",54),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.listActions)}}function Y8(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-optgroup",48)(1,"mat-option",49),t.\u0275\u0275listener("click",function(i){return t.\u0275\u0275restoreView(n),t.\u0275\u0275resetView(i.stopPropagation())}),t.\u0275\u0275template(2,K8,7,8,"ng-container",11)(3,Q8,2,1,"ng-container",11),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("id",n.stickyBottomOptionId),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.useMultiChoice),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.listActions==null?null:n.listActions.length)}}function J8(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-chip",25),t.\u0275\u0275elementContainer(2,40),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainer(3,40),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext().item;t.\u0275\u0275nextContext();const a=t.\u0275\u0275reference(23),i=t.\u0275\u0275reference(25);t.\u0275\u0275advance(),t.\u0275\u0275property("color",n.primaryColorValue),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(5,im,n)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(7,im,n))}}function X8(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementContainer(1,40)(2,40),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext().item;t.\u0275\u0275nextContext();const a=t.\u0275\u0275reference(23),i=t.\u0275\u0275reference(25);t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(4,im,n)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(6,im,n))}}function q8(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",57),t.\u0275\u0275template(1,J8,4,9,"ng-container",11)(2,X8,3,8,"ng-container",11),t.\u0275\u0275elementEnd()),r&2){const n=e.item;t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.primaryColorValue),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.primaryColorValue)}}function t7(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",51),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onMultiChoiceOptionContainerClicked(i))}),t.\u0275\u0275elementStart(2,"crt-checkbox",58),t.\u0275\u0275listener("valueChange",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext().item,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onItemChecked(i))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext().item,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("value",n.checked)("labelPosition","right")("label",a.extractDisplayValue(n))("multilineLabel",!1)}}function e7(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",59),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext().item,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.extractDisplayValue(n))}}function n7(r,e){if(r&1&&t.\u0275\u0275template(0,t7,3,4,"ng-container",11)(1,e7,3,1,"ng-container",11),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",n.useMultiChoice),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.useMultiChoice)}}function a7(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",60),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext().item,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.extractSecondaryDisplayValue(n))}}function i7(r,e){if(r&1&&t.\u0275\u0275template(0,a7,3,1,"ng-container",11),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",n.showSecondaryDisplayValue)}}class Ws extends k_{get isShowNoDataOption(){const e=this._isShowNoDataOption&&!this._loading;return e&&!this.useMultiChoice||e&&this.useMultiChoice&&(!!this._lastSearchValue||!this.selectedItems?.length)}get isHiddenMainOptionGroup(){return!(this._isShowNoDataOption&&this._loading)}get checkAllBottomOptionTitle(){const e=this.checkedAllItemsCount>0?` (${this.checkedAllItemsCount})`:"";return`${this._translate.instant("ComboBox.CheckAll")}${e}`}get isAutoCompletePanelOpened(){return this.autoCompleteTrigger?.autocomplete?.isOpen}set mode(e){const n=[am.q.List,am.q.SelectionWindow].includes(e),a=this._mode===e;!n||a||(this._mode=e,this._setControlValidators())}get mode(){return this._mode}get listActions(){return this._listActions}set listActions(e){this._applyListActions(e)}set autofocus(e){this._autofocus=e,e&&this.focus()}get autofocus(){return this._autofocus}set items(e){e=e||[],this.useMultiChoice&&this._prepareChoosingItems(e),this._items=e,this._isShowNoDataOption=this._items.length===0}get items(){return this._items}set loading(e){this._loading=!!e}get loading(){return this._loading}set showSecondaryDisplayValue(e){this._showSecondaryDisplayValue=e,this._updateAutocompleteClasses()}get showSecondaryDisplayValue(){return this._showSecondaryDisplayValue}get displayColor(){return this.control?.value?.primaryColorValue}get isChipDisplayMode(){return this._isSelectionWindowMode()?!!this.displayColor&&!this._focusIn:this.displayColor&&!this.isAutoCompletePanelOpened}get focusIn(){return this._focusIn}set useMultiChoice(e){this._useMultiChoice!==e&&(this._useMultiChoice=e,e&&this._prepareChoosingItems(this.items))}get useMultiChoice(){return this._useMultiChoice}get hasValue(){const e=this.control.value;return this.useMultiChoice&&Array.isArray(e)?!1:!!e}get stickyBottomOptionId(){return this._stickyBottomOptionId}get checkAllBottomOptionId(){return this._checkAllBottomOptionId}get clearAllBottomOptionId(){return this._clearAllBottomOptionId}constructor(e,n,a,i,s,b,D,W){super(new O.UntypedFormControl(null),W),this._crtControlStateAdapter=e,this._translate=n,this._lookupFormatPipe=a,this._comboboxValidationErrorsService=i,this._changeDetector=s,this._window=b,this._elementRef=D,this.injector=W,this._autocompleteTogglePanelDebounceTime=600,this._validationErrorDebounceTime=250,this._stickyBottomOptionId="stickyBottomOption",this._checkAllBottomOptionId="checkAllBottomOption",this._clearAllBottomOptionId="clearAllBottomOption",this._secondaryDisplayValueClass="crt-combobox-autocomplete-panel-with-secondary-display-value",this._matAutocompleteControl="matAutocompleteControl",this._touched$=new m.Subject,this._destroyed$=new m.Subject,this._allowOptionFocusVisibility=!1,this._items=[],this._lastOpenedTimeInMilliseconds=0,this._listActions=[],this._loading=!1,this._useMultiChoice=!1,this._focusIn=!1,this._showSecondaryDisplayValue=!1,this._lastActiveOptionState=null,this._hasFocus=!1,this._allowScrollToActiveOption=!1,this._previousErrors=null,this._handleFocus=E._d,this._changeHasFocusDebounce=(0,y.debounce)(ot=>this._changeHasFocus(ot),10),this._emitValidationErrorServiceDebounce=(0,y.debounce)(()=>this._emitValidationErrorService(),this._validationErrorDebounceTime),this.inputKeydownFn=this._onInputKeydown.bind(this),this.checkedAllItemsCount=0,this.isNeedActivateFirstOption=!0,this.focused=!1,this.selectedItems=[],this.lookupMode=am.q,this.allowToLoadIcons=!1,this.matAutocompleteClasses="crt-combobox-autocomplete-panel",this.id="",this.ariaLabel="",this.isAddAllowed=!1,this.showValueAsLink=!1,this.readonly=!1,this.disabled=!1,this.isRequired=!1,this.appearance="legacy",this.changed=new t.EventEmitter,this.addRecord=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.listOpened=new t.EventEmitter,this.listClosed=new t.EventEmitter,this.selectionWindowIconPressed=new t.EventEmitter,this.valueRestored=new t.EventEmitter,this.brandNewValueAdded=new t.EventEmitter,this.hasFocusChanged=new t.EventEmitter,this._disableFocusHandling=()=>this.autoCompleteTrigger._handleFocus=this._handleFocus,this._isAutocompletePanelDebounceTimeExpired=ot=>Date.now()-ot>this._autocompleteTogglePanelDebounceTime,this._globalScrollEventHandler=ot=>{const It=ot.target;this.autoCompleteTrigger.panelOpen&&It instanceof Element&&!(It.id?.includes("mat-autocomplete")||this._elementRef.nativeElement.contains(It))&&this.autoCompleteTrigger.closePanel()}}_applyListActions(e){this._listActions=e?.map(n=>({...n,details:{searchValue:this._lastSearchValue}}))||[]}_updateAutocompleteClasses(){const e=this.matAutocompleteClasses.split(" "),n=e.includes(this._secondaryDisplayValueClass);if(this._showSecondaryDisplayValue&&!n)e.push(this._secondaryDisplayValueClass);else if(!this._showSecondaryDisplayValue&&n){const a=e.indexOf(this._secondaryDisplayValueClass);a>-1&&e.splice(a,1)}this.matAutocompleteClasses=e.join(" ")}_subscribeOnValueChange(){this.control.valueChanges.pipe((0,h.tap)(()=>this._onTouched()),(0,h.tap)(e=>this._setParentControlValue(e)),(0,h.filter)(e=>Ia.isNullableLookupValue(e)),(0,h.takeUntil)(this._destroyed$)).subscribe({next:e=>{this._lastValidValue=e,this._lastSearchValue=null,this._applyListActions(this.listActions)}})}_subscribeOnSearchValueChanged(){this.control.valueChanges.pipe((0,h.filter)(e=>typeof e=="string"||e===null),(0,h.takeUntil)(this._destroyed$)).subscribe({next:e=>{this._lastSearchValue=e,this._prepareSelectedItems(),this._applyListActions(this.listActions)}})}_subscribeOnSearch(){this.control.valueChanges.pipe((0,h.tap)(()=>this._onTouched()),(0,h.filter)(e=>!Ia.isNullableLookupValue(e)),(0,h.map)(e=>Ia.isEmptyString(e)?null:e),(0,h.tap)(e=>this._onChange(e)),(0,h.debounceTime)(this.debounceTime),(0,h.filter)(()=>this.isAutoCompletePanelOpened),(0,h.takeUntil)(this._destroyed$)).subscribe({next:e=>{this.changed.emit(e),this._scrollTopWithClearActiveState()}})}_setParentControlValue(e){const n=Ia.isEmptyString(e);this.useMultiChoice&&n||(this.parentControl.markAsDirty(),this.parentControl.setValue(n?null:e))}_emitValidationErrorServiceIfChanged(){if(this.useMultiChoice)return;const e=this.control.errors;(0,y.isEqual)(this._previousErrors,e)||(this._previousErrors=e,this._emitValidationErrorServiceDebounce())}_emitValidationErrorService(){this._comboboxValidationErrorsService.validationErrors.next({errors:{...this.control.errors}})}_scrollToOptionElementIfNeed(e){this._isNotAllowScrollToOption(e.option?.id)||e.option._getHostElement().scrollIntoView({block:"center",behavior:"auto"})}_isNotAllowScrollToOption(e){return!e||this._listActionsOptionsIds.includes(e)||!this._allowScrollToActiveOption&&this.isAutoCompletePanelOpened}_restoreLastActiveOptionIfNeed(e){if(e.option){this._updateLastActiveOption(e.option);return}this._restoreLastActiveOption()}_restoreLastActiveOption(){const e=this._getLastActiveOptionIndex();e!==-1&&this.autoCompleteTrigger.autocomplete._keyManager.setActiveItem(e)}_getLastActiveOptionIndex(){return this._lastActiveOptionState?this.autoCompleteTrigger.autocomplete.options.toArray().findIndex(e=>this._lastActiveOptionState.sourceType==="id"?e.id===this._lastActiveOptionState.value:!e.disabled&&e.value?.value===this._lastActiveOptionState.value):-1}get _listActionsOptionsIds(){return[this._checkAllBottomOptionId,this._clearAllBottomOptionId,...this.listActions.map(e=>e.name)].filter(Boolean)}_isSelectionWindowMode(){return this.mode===am.q.SelectionWindow}_onInputKeydown(e,n){this._setAllowOptionFocusVisibilityByEvent(e),this.useMultiChoice&&this._processMultiChoiceInputKeydown(e,n)}_setAllowOptionFocusVisibilityByEvent(e){![Ht.Key.ArrowUp,Ht.Key.ArrowDown].map(a=>a.toString()).includes(e.key)||Ht.Key.Enter===e.key&&!this.isAutoCompletePanelOpened||(this._allowOptionFocusVisibility=!0,this._allowScrollToActiveOption=!0,this.isNeedActivateFirstOption=!this.isAutoCompletePanelOpened)}_processMultiChoiceInputKeydown(e,n){if(!(e.key!==Ht.Key.Enter||!n||!this.isAutoCompletePanelOpened)){if(e.stopPropagation(),!n.value){this._processSelectOptionByElementId(n.id);return}this._processCheckItemByItem(n.value)}}_processCheckItemByItem(e){this._allowScrollToActiveOption=!0,this.isNeedActivateFirstOption=!1,this._updateItemCheckedStatus(e);const n=this._getValidValueItems();this._addOrUpdateControlValueByChoosingItem(n,e),this._resetFilterIfNeed(),this._updateLastActiveOptionStateByItem(e),this.control.setValue(n),this.checkedAllItemsCount=0,this.focus()}_updateItemCheckedStatus(e){e.checked=!e.checked,this._synchronizeItemCheckedStatusWithItems(e)}_processSelectOptionByElementId(e){if(!this._listActionsOptionsIds.includes(e)){this._lastActiveOptionState=null;return}this.isNeedActivateFirstOption=!1,this._updateLastActiveOptionStateByElementId(e),this._stickyBottomActionClick(e)}_stickyBottomActionClick(e){this._window.document.querySelector(`#${e} button.combobox-action-button`)?.click()}_setActiveItemByLastActiveOptionState(){const e=this._getLastActiveOptionIndex();e!==-1&&this.autoCompleteTrigger.autocomplete._keyManager.setActiveItem(e)}_reestAllowOptionFocusVisibility(e){e&&e.pointerType!=="mouse"||(this._allowOptionFocusVisibility=!1)}_updateLastActiveOption(e){if(!e.value){this._updateLastActiveOptionStateByElementId(e.id);return}this._updateLastActiveOptionStateByItem(e.value)}_updateLastActiveOptionStateByItem(e){this._lastActiveOptionState={sourceType:"value",value:e.value}}_updateLastActiveOptionStateByElementId(e){this._lastActiveOptionState={sourceType:"id",value:e}}_isCurrentComponentClick(e){return this._elementRef?.nativeElement?.contains(e.relatedTarget)}_isMatAutocompleteClick(e){return this._getRelatedTargetClasses(e)?.includes("combobox")}_isNoDataMatAutocompleteClick(e){const n=this._getRelatedTargetClasses(e);return this._isMatAutocompleteClick(e)&&n?.includes("no-items")}_getRelatedTargetClasses(e){return e?.relatedTarget?.className}_restoreValueOnFocusout(e){if(!this._isCurrentComponentClick(e)&&!this._isMatAutocompleteClick(e)){this._restoreValidValue(this._lastValidValue),this.focused=!1;return}this._isNoDataMatAutocompleteClick(e)&&(this._restoreValidValue(null),this.focus())}_restoreValidValue(e,n=!1){const a=this.control?.errors;a&&"invalidValueSyntax"in a||n?(this.control.reset(e),this._applyListActions(this.listActions),this.valueRestored.emit()):this._lastValidValue=this.control.value}_setFocusedIfHasValue(e){this.focused=!e||typeof e=="string"}_prepareChoosingItems(e){if(!e)return;const n=this._getValidValueItems();e.forEach(a=>a.checked=!1),n.forEach(a=>{const i=e.find(s=>s.value===a.value);i&&(i.checked=!0)})}_registerGlobalScrollEventHandler(){this._window.addEventListener("scroll",this._globalScrollEventHandler,!0)}_removeGlobalScrollEventHandler(){this._window.removeEventListener("scroll",this._globalScrollEventHandler,!0)}_addOrUpdateControlValueByChoosingItem(e,n){if(n.checked)e.push({value:n.value,displayValue:n.displayValue});else{const a=e.findIndex(i=>i.value===n.value);a>=0&&e.splice(a,1)}}_resetFilterIfNeed(){this._lastSearchValue&&this._resetFilter()}_resetFilter(){this._lastSearchValue=null,this.textInput.nativeElement.value=null,this.changed.emit(null),this._prepareSelectedItems(),this._scrollTopWithClearActiveState()}_scrollTopWithClearActiveState(){this.autoCompleteTrigger.autocomplete._setScrollTop(0),this._clearActiveState()}_clearActiveState(){this.isNeedActivateFirstOption=!0,this._allowOptionFocusVisibility=!1,this._lastActiveOptionState=null}_isItemInSelectedItems(e){return!!this.selectedItems?.find(n=>n.value===e.value)}_prepareSelectedItems(){if(!this.useMultiChoice){this.selectedItems=[];return}const e=this._getValidValueItems();this.selectedItems=this._createSelectedItems(e)}_getValidValueItems(){let e=this.control?.value;return(!e||(0,y.isString)(e))&&(e=this._lastValidValue||[]),e||[]}_createSelectedItems(e){const n=this._lastSearchValue?.toLocaleLowerCase();return e.filter(a=>n?a.displayValue.toLocaleLowerCase().includes(n):!0).sort((a,i)=>a.displayValue.localeCompare(i.displayValue)).map(a=>({...a,checked:!0}))}_synchronizeItemCheckedStatusWithItems(e){const a=(this.items||[]).find(i=>i.value===e.value);a&&(a.checked=e.checked)}_updateItemsCheckedStatus(e){[this.items,this.selectedItems].forEach(n=>this._setItemsProperCheckedStatus(n,e))}_setItemsProperCheckedStatus(e,n){e?.forEach(a=>a.checked=n)}_getAllUniqueItems(){const e=this._getValidValueItems();return[...e,...this.items.filter(n=>!e.some(a=>a.value===n.value))]}_getOptionClasses(e,n){return{"crt-combobox-autocomplete-option":!0,"crt-combobox-autocomplete-option-selected":this.isSelected(e),"crt-combobox-autocomplete-option-active":n.active||this._isLastActiveOptionEqualsToItem(e),"crt-combobox-autocomplete-option-empty-value":!e.displayValue,"crt-combobox-autocomplete-option-chip":!!e.primaryColorValue,"crt-combobox-autocomplete-focus-visible":this._allowOptionFocusVisibility}}_isLastActiveOptionEqualsToItem(e){return!!this._lastActiveOptionState&&this._lastActiveOptionState.sourceType==="value"&&this._lastActiveOptionState.value===e.value}_setControlValidators(){const e={message:this._mode===am.q.List?this._translate.instant("Validators.Autocomplete.Message"):this._translate.instant("Validators.Autocomplete.SelectionWindowMessage")};this.control.clearValidators(),this.control.addValidators([this._crtControlStateAdapter.transform({instance:new a8(this.injector),params:e})])}_changeHasFocus(e){this._hasFocus!==e&&(this._hasFocus=e,this.hasFocusChanged.emit(e))}_getBaseAriaLabel(){return[this.ariaLabel,this.valueDetailsAriaLabel].filter(Boolean).join(" / ")}_appendReadonlyLabelIfNeed(e){return this.readonly?[e,"read only"].filter(Boolean).join(" "):e}itemTrackBy(e,n){return n.displayValue+n.primaryColorValue+n.checked}getOptionClasses(e,n){return{...this._getOptionClasses(e,n),"crt-combobox-autocomplete-option-hidden":this.useMultiChoice&&this._isItemInSelectedItems(e)}}getChoosedOptionClasses(e,n){return{...this._getOptionClasses(e,n),"crt-combobox-autocomplete-choosed-item":!0}}getActionOptionClasses(){return{"crt-combobox-autocomplete-inner-option":!0,"crt-combobox-autocomplete-focus-visible":this._allowOptionFocusVisibility}}getInputAriaLabel(){const e=this._getBaseAriaLabel();return this._appendReadonlyLabelIfNeed(e)}getAutocompleteAriaControl(){return this.id?this._matAutocompleteControl+this.id:this._matAutocompleteControl}isDisabledItem(e){return this.useMultiChoice&&this._isItemInSelectedItems(e)}ngOnInit(){this._subscribeOnValueChange(),this._subscribeOnSearch(),this._subscribeOnSearchValueChanged(),this._registerGlobalScrollEventHandler(),this._touched$.pipe((0,h.filter)(Boolean),(0,h.tap)(()=>this._changeDetector.detectChanges()),(0,h.take)(1)).subscribe()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this._touched$.next(!1),this._touched$.complete(),this.textInput=null,this.autoCompleteTrigger?.ngOnDestroy(),this._removeGlobalScrollEventHandler()}ngDoCheck(){this._touched$.next(this.control.touched),this._emitValidationErrorServiceIfChanged()}ngAfterViewInit(){setTimeout(()=>{this.allowToLoadIcons=!0,this._changeDetector.detectChanges()}),this._disableFocusHandling(),this.autoCompleteTrigger.autocomplete.optionSelected.pipe((0,h.takeUntil)(this._destroyed$)).subscribe(()=>(this._isSelectionWindowMode()&&requestAnimationFrame(()=>{this._focusIn=!1}),this.changed.emit(null))),this.autofocus&&this.focus()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){requestAnimationFrame(()=>{e&&this.control.disabled===!1&&this.control.disable({emitEvent:!1}),e===!1&&this.control.disabled&&this.control.enable({emitEvent:!1})})}writeValue(e){const n=e==="";!n&&typeof e=="string"||(this.useMultiChoice?(this.control.setValue(e,{emitEvent:!1}),this._lastValidValue=e,this._prepareChoosingItems(this.items)):(e=n?null:e,this._lastValidValue=e,e&&!this.items.some(i=>i.value===e.value)&&this.brandNewValueAdded.emit(),this.control.setValue(e,{emitEvent:!1})),this._isSelectionWindowMode()&&Ia.isLookupValue(this.control.value)&&requestAnimationFrame(()=>{this._focusIn=!1,this._changeDetector.detectChanges()}))}extractDisplayValue(e){return(0,y.isArray)(e)?null:this._lookupFormatPipe.transform(e)}extractSecondaryDisplayValue(e){return(0,y.isArray)(e)?"":e?.secondaryDisplayValue||""}togglePanel(){const e=this.isAutoCompletePanelOpened;if(this._isSelectionWindowMode()){e&&(this.autoCompleteTrigger.closePanel(),this.focused=!0,this._changeDetector.detectChanges());return}e?this._isAutocompletePanelDebounceTimeExpired(this._lastOpenedTimeInMilliseconds)&&this.autoCompleteTrigger.closePanel():this.autoCompleteTrigger.openPanel()}onOpened(){this._prepareSelectedItems(),this.focused=!0,this._lastOpenedTimeInMilliseconds=Date.now(),this.checkedAllItemsCount=0,this.listOpened.emit()}onClosed(){this._setFocusedIfHasValue(this.control.value),this.checkedAllItemsCount=0,this._clearActiveState(),this.autoCompleteTrigger.autocomplete._keyManager.setActiveItem(null),this.listClosed.emit()}onDisplayElementWrapClick(){this.readonly||(this.focus(),this.togglePanel())}onDisplayElementWrapSelectContent(e){if(!this.readonly)return;const n=window.getSelection(),a=document.createRange();a.selectNodeContents(e.currentTarget),n.removeAllRanges(),n.addRange(a)}isSelected(e){return Ia.isLookupValue(this.control.value)?e.value===this.control.value.value:!1}clearValue(e){e?.stopPropagation(),this.useMultiChoice?this._resetFilter():this._restoreValidValue(null,!0),this.focus()}getIsShowValueAsLink(){return this.showValueAsLink&&this.linkViewConfig&&Ia.isLookupValue(this.control.value)&&Ia.isLookupValue(this.parentControl.value)&&!this.focused}onOptionChanged(e){(this._listActionsOptionsIds.includes(e.option.id)||e.option.id===this._stickyBottomOptionId)&&(this.control.setErrors(null),e.option.id!==this._stickyBottomOptionId&&this._stickyBottomActionClick(e.option.id)),this._isSelectionWindowMode()&&(this._focusIn=!1,this._changeDetector.detectChanges())}onOptionActivated(e){this._scrollToOptionElementIfNeed(e),this._restoreLastActiveOptionIfNeed(e)}onScroll(){this.isNeedActivateFirstOption=!1,this._allowScrollToActiveOption=!1,this.paginationChange.emit()}validate(e){if(this.useMultiChoice)return null;const n=super.validate(e);return this.ngDoCheck(),this.syncTouchedState(),this._changeDetector.detectChanges(),n}get invalid(){return this.useMultiChoice?!1:super.invalid}focus(){this.textInput?.nativeElement.focus(),this._changeDetector.detectChanges()}onClearIconEnterPressed(e){e.preventDefault(),e.stopPropagation(),this.clearValue()}onArrowIconEnterPressed(e){e.preventDefault(),e.stopPropagation(),this._allowOptionFocusVisibility=!0,this.focus(),this.togglePanel()}onSelectionWindowIconEnterPressed(e){e.stopPropagation(),this.selectionWindowIconPressed.emit()}onSelectionWindowIconPressed(){this.selectionWindowIconPressed.emit()}onMultiChoiceOptionContainerClicked(e){e.stopPropagation(),this._reestAllowOptionFocusVisibility()}onItemChecked(e){this._processCheckItemByItem(e),this._setActiveItemByLastActiveOptionState()}applyProperCheckedStateToAllItems(e,n){e.stopPropagation(),this._reestAllowOptionFocusVisibility(e),this._updateItemsCheckedStatus(n);const a=n?this._getAllUniqueItems():[];this._resetFilterIfNeed(),this.control.setValue(a),this._prepareSelectedItems(),this.checkedAllItemsCount=a.length,this.focus(),this.autoCompleteTrigger.autocomplete._setScrollTop(0);const i=n?this.checkAllBottomOptionId:this.clearAllBottomOptionId;this._updateLastActiveOptionStateByElementId(i),this._setActiveItemByLastActiveOptionState()}restoreLastValidValue(){this._restoreValidValue(this._lastValidValue)}onFocusOut(e){this._restoreValueOnFocusout(e),this._focusIn=!1,!this._isCurrentComponentClick(e)&&!this._isMatAutocompleteClick(e)&&this._changeHasFocusDebounce(!1)}onFocusIn(){this._setFocusedIfHasValue(this.control.value),this._isSelectionWindowMode()&&(this._focusIn=!0),this._changeHasFocusDebounce(!0)}static{this.\u0275fac=function(n){return new(n||Ws)(t.\u0275\u0275directiveInject(wd.f),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(i8.e),t.\u0275\u0275directiveInject(Uc),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(E.ZP),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ws,selectors:[["crt-autocomplete"]],viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(Yv,5,c.MatLegacyAutocompleteTrigger),t.\u0275\u0275viewQuery(Yv,5)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.autoCompleteTrigger=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.textInput=i.first)}},hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("focusout",function(s){return a.onFocusOut(s)})("focusin",function(){return a.onFocusIn()})},inputs:{id:"id",ariaLabel:"ariaLabel",valueDetailsAriaLabel:"valueDetailsAriaLabel",placeholder:"placeholder",debounceTime:"debounceTime",initialConfig:"initialConfig",mode:"mode",isAddAllowed:"isAddAllowed",listActions:"listActions",showValueAsLink:"showValueAsLink",linkViewConfig:"linkViewConfig",readonly:"readonly",disabled:"disabled",autofocus:"autofocus",isRequired:"isRequired",appearance:"appearance",tooltip:"tooltip",items:"items",loading:"loading",showSecondaryDisplayValue:"showSecondaryDisplayValue",useMultiChoice:"useMultiChoice"},outputs:{changed:"changed",addRecord:"addRecord",paginationChange:"paginationChange",listOpened:"listOpened",listClosed:"listClosed",selectionWindowIconPressed:"selectionWindowIconPressed",valueRestored:"valueRestored",brandNewValueAdded:"brandNewValueAdded",hasFocusChanged:"hasFocusChanged"},features:[t.\u0275\u0275ProvidersFeature([{provide:O.NG_VALUE_ACCESSOR,useExisting:(0,t.forwardRef)(()=>Ws),multi:!0},Qv(Ws)]),t.\u0275\u0275InheritDefinitionFeature],decls:26,vars:35,consts:[["input",""],["tooltipIcon",""],["autocomplete","","auto","matAutocomplete"],["selectionDisplay",""],["optionTemplate",""],["secondaryDisplayValueTemplate",""],["linkTemplate",""],["selectedOption",""],["option",""],["floatLabel","never",1,"crt-autocomplete-input-control-container","crt-input-control-container",3,"click","appearance"],[1,"crt-autocomplete-input-control","crt-input-control"],[4,"ngIf"],["matInput","","crtInputAutocomplete","","crtTextOverflowTitle","","spellcheck","false",3,"id","ngClass","readonly","autocomplete","formControl","matAutocomplete","crtAriaRequired","placeholder","keydownFn"],[3,"ngClass","click","dblclick",4,"ngIf"],["matSuffix","","svgIcon","small-close","class","combobox-expander clear crt-input-icon",3,"crtAccessibleAttributes","keydown.enter","keydown.space","click",4,"ngIf"],["matSuffix","","svgIcon","caret-arrow","aria-haspopup","listbox","class","crt-input-icon",3,"crtAccessibleAttributes","ngClass","keydown.enter","keydown.space",4,"ngIf"],["matSuffix","","svgIcon","search","aria-haspopup","dialog","class","combobox-expander selection-window crt-input-icon",3,"crtAccessibleAttributes","focused-in","keydown.enter","keydown.space","click",4,"ngIf"],["matSuffix","","svgIcon","lock","class","readonly-icon crt-input-icon",3,"title",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"optionSelected","opened","closed","crtOptionsScroll","optionActivated","autoActiveFirstOption","displayWith","id"],["class","crt-combobox-autocomplete-choosed-items-group",4,"ngIf"],["class","crt-combobox-autocomplete-main-group",4,"ngIf"],["disabled","true","class","crt-combobox-autocomplete-loader",4,"ngIf"],["class","crt-combobox-autocomplete-sticky-group",4,"ngIf"],[3,"click","ngClass"],[3,"color"],[3,"click","dblclick","ngClass"],[3,"ngTemplateOutlet"],["crtViewModel","",3,"crtViewElement"],["matSuffix","","svgIcon","small-close",1,"combobox-expander","clear","crt-input-icon",3,"keydown.enter","keydown.space","click","crtAccessibleAttributes"],["matSuffix","","svgIcon","caret-arrow","aria-haspopup","listbox",1,"crt-input-icon",3,"keydown.enter","keydown.space","crtAccessibleAttributes","ngClass"],["matSuffix","","svgIcon","search","aria-haspopup","dialog",1,"combobox-expander","selection-window","crt-input-icon",3,"keydown.enter","keydown.space","click","crtAccessibleAttributes"],["matSuffix","","svgIcon","lock",1,"readonly-icon","crt-input-icon",3,"title"],[1,"cdk-visually-hidden"],["type","error",3,"tooltip","ariaLabel"],[3,"tooltip","ariaLabel",4,"ngIf"],[3,"tooltip","ariaLabel"],[1,"crt-combobox-autocomplete-choosed-items-group"],[3,"ngClass","value",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass","value"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"crt-combobox-autocomplete-main-group"],[3,"ngClass","value","disabled",4,"ngFor","ngForOf","ngForTrackBy"],["disabled","true",1,"crt-combobox-autocomplete-option","crt-combobox-autocomplete-option-hidden"],["disabled","true","class","crt-combobox-autocomplete-option no-items",4,"ngIf"],[3,"ngClass","value","disabled"],["disabled","true",1,"crt-combobox-autocomplete-option","no-items"],["disabled","true",1,"crt-combobox-autocomplete-loader"],[1,"crt-combobox-autocomplete-sticky-group"],["disabled","true","aria-hidden","true",1,"crt-combobox-autocomplete-option-group",3,"click","id"],[3,"id","ngClass"],[3,"click"],["icon","checkmark-icon",3,"ngClass","title"],["caption","ComboBox.ClearAll","icon","eraser-icon",1,"crt-combobox-autocomplete-button-option"],[3,"id","ngClass","disabled",4,"ngFor","ngForOf"],[3,"id","ngClass","disabled"],[3,"crtViewElement"],[1,"crt-autocomplete-item-wrap"],[1,"crt-autocomplete-option-checkbox",3,"valueChange","value","labelPosition","label","multilineLabel"],["crtTextOverflowTitle",""],["crtTextOverflowTitle","",1,"crt-autocomplete-item-secondary-display-value"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-form-field",9),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(!a.readonly&&a.togglePanel())}),t.\u0275\u0275elementStart(1,"div",10),t.\u0275\u0275template(2,O8,4,5,"ng-container",11),t.\u0275\u0275element(3,"input",12,0),t.\u0275\u0275template(5,L8,4,5,"div",13)(6,k8,2,3,"mat-icon",14)(7,R8,2,4,"mat-icon",15)(8,N8,2,5,"mat-icon",16)(9,V8,2,3,"mat-icon",17)(10,F8,4,3,"ng-container",18)(11,B8,1,1,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"mat-autocomplete",19,2),t.\u0275\u0275listener("optionSelected",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onOptionChanged(b))})("opened",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onOpened())})("closed",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onClosed())})("crtOptionsScroll",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onScroll())})("optionActivated",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onOptionActivated(b))}),t.\u0275\u0275template(16,U8,2,2,"mat-optgroup",20)(17,G8,4,3,"mat-optgroup",21)(18,$8,2,0,"mat-option",22)(19,Y8,4,3,"mat-optgroup",23),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(20,q8,3,2,"ng-template",null,3,t.\u0275\u0275templateRefExtractor)(22,n7,2,2,"ng-template",null,4,t.\u0275\u0275templateRefExtractor)(24,i7,1,1,"ng-template",null,5,t.\u0275\u0275templateRefExtractor)}if(n&2){const i=t.\u0275\u0275reference(12),s=t.\u0275\u0275reference(15);t.\u0275\u0275classProp("crt-input-control-container--invalid",a.invalid),t.\u0275\u0275property("appearance",a.appearance),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.getIsShowValueAsLink()&&a.isChipDisplayMode),t.\u0275\u0275advance(),t.\u0275\u0275property("id",a.id)("ngClass",t.\u0275\u0275pureFunction2(32,w8,a.getIsShowValueAsLink()||a.isChipDisplayMode,a.isChipDisplayMode))("readonly",a.readonly)("autocomplete","none")("formControl",a.control)("matAutocomplete",s)("crtAriaRequired",a.isRequired)("placeholder",a.placeholder)("keydownFn",a.inputKeydownFn),t.\u0275\u0275attribute("aria-label",a.getInputAriaLabel())("aria-controls",a.getAutocompleteAriaControl()),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.getIsShowValueAsLink()),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!a.readonly&&a.hasValue),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.allowToLoadIcons&&!a.readonly&&a.mode===a.lookupMode.List),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.allowToLoadIcons&&!a.readonly&&a.mode===a.lookupMode.SelectionWindow),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.allowToLoadIcons&&a.readonly&&!a.disabled),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.invalid)("ngIfElse",i),t.\u0275\u0275advance(3),t.\u0275\u0275classMap(a.matAutocompleteClasses),t.\u0275\u0275property("autoActiveFirstOption",a.isNeedActivateFirstOption)("displayWith",a.extractDisplayValue.bind(a))("id",a.getAutocompleteAriaControl()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.useMultiChoice),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isHiddenMainOptionGroup),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loading),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",(a.listActions==null?null:a.listActions.length)||a.useMultiChoice)}},dependencies:[_.NgClass,_.NgForOf,_.NgIf,_.NgTemplateOutlet,ai.y,O.DefaultValueAccessor,O.NgControlStatus,q.MatLegacyFormField,q.MatLegacySuffix,lt.MatLegacyInput,Tt.MatLegacyOption,Tt.MatLegacyOptgroup,c.MatLegacyAutocomplete,c.MatLegacyAutocompleteTrigger,_t.MatIcon,O.FormControlDirective,Rd.k,Ad.aD,rn.H,Hc.b,Nd,R_.j,xa,Nn,N_,zo,V_,f.TranslatePipe],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.crt-autocomplete-input-control-container .crt-autocomplete-input-control{display:flex;align-items:center;padding-inline-end:2px}.crt-autocomplete-input-control-container .crt-autocomplete-input-control .chip-wrap{max-width:70%;pointer-events:auto;cursor:text}.crt-autocomplete-input-control-container .crt-autocomplete-input-control .chip-wrap.chip-less-size{max-width:calc(100% - 56px)}.crt-autocomplete-input-control-container .crt-autocomplete-input-control .crt-autocomplete-input.hide{opacity:0}.crt-autocomplete-input-control-container .crt-autocomplete-input-control .crt-autocomplete-input.chip-mode{flex:1}.crt-autocomplete-input-control-container .crt-autocomplete-input-control .link-wrap{width:100%;max-width:calc(100% - 72px);position:absolute;top:0;pointer-events:auto;cursor:text}.crt-autocomplete-input-control-container .crt-autocomplete-input-control .link-wrap.link-less-size{max-width:calc(100% - 72px)}.crt-autocomplete-input-control-container .crt-autocomplete-input-control .link-wrap crt-link{display:inline-block;width:auto;max-width:100%}.crt-autocomplete-input-control-container .crt-autocomplete-input-control .link-wrap .crt-link:hover{text-decoration:underline}.crt-autocomplete-input-control-container .crt-autocomplete-input-control .link-wrap crt-chip{width:-moz-fit-content;width:fit-content}.crt-autocomplete-input-control-container .crt-autocomplete-input-control .link-wrap crt-chip crt-link{display:block}.crt-autocomplete-input-control-container .crt-autocomplete-input-control .combobox-expander{cursor:pointer;opacity:0}.crt-autocomplete-input-control-container .crt-autocomplete-input-control:not(:hover) .readonly-icon{display:none}.crt-autocomplete-input-control-container .crt-autocomplete-input-control:focus-within .combobox-expander,.crt-autocomplete-input-control-container .crt-autocomplete-input-control:hover .combobox-expander{opacity:1}.crt-autocomplete-item-wrap{display:flex;flex-direction:column;cursor:pointer}.crt-autocomplete-item-wrap crt-chip{max-width:-moz-fit-content;max-width:fit-content}.crt-autocomplete-item-wrap span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.crt-combobox-autocomplete-panel-with-secondary-display-value .crt-autocomplete-item-wrap crt-chip{margin-bottom:4px}.mat-autocomplete-panel.crt-combobox-autocomplete-panel{min-height:0;min-width:0;overflow:auto;box-shadow:var(--crt-palette-foreground-100) 0 2px 4px 0;margin-top:2px;border-radius:3px;border-width:1px;border-style:solid}.mat-autocomplete-panel.crt-combobox-autocomplete-panel.crt-combobox-autocomplete-panel-with-secondary-display-value{max-height:324px}.mat-autocomplete-panel.crt-combobox-autocomplete-panel.crt-combobox-autocomplete-panel-with-secondary-display-value .mat-optgroup.crt-combobox-autocomplete-sticky-group .mat-option.crt-combobox-autocomplete-option-group .crt-combobox-autocomplete-inner-option .combobox-action-button,.mat-autocomplete-panel.crt-combobox-autocomplete-panel.crt-combobox-autocomplete-panel-with-secondary-display-value .mat-optgroup.crt-combobox-autocomplete-main-group .mat-option.crt-combobox-autocomplete-option,.mat-autocomplete-panel.crt-combobox-autocomplete-panel.crt-combobox-autocomplete-panel-with-secondary-display-value .mat-optgroup.crt-combobox-autocomplete-choosed-items-group .mat-option.crt-combobox-autocomplete-option{height:54px}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .crt-combobox-autocomplete-option.no-items{text-align:center}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .crt-combobox-autocomplete-option.crt-combobox-autocomplete-option-hidden{display:none}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .crt-combobox-autocomplete-option.crt-combobox-autocomplete-option-chip span.mat-option-text{flex-grow:0}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-sticky-group .mat-option.crt-combobox-autocomplete-option-group{border-radius:4px;border-top-width:1px;border-top-style:solid;padding:0;height:auto;position:sticky;z-index:10;bottom:0}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-sticky-group .mat-option.crt-combobox-autocomplete-option-group>.mat-option-text .mat-option{height:40px}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-sticky-group .mat-option.crt-combobox-autocomplete-option-group .crt-combobox-autocomplete-inner-option{padding:0}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-sticky-group .mat-option.crt-combobox-autocomplete-option-group .crt-combobox-autocomplete-inner-option.mat-option .mat-icon{margin-right:8px}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-sticky-group .mat-option.crt-combobox-autocomplete-option-group .crt-combobox-autocomplete-inner-option .combobox-action-button{height:40px}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-sticky-group .crt-combobox-autocomplete-option{padding:0 16px}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-sticky-group .mat-optgroup-label,.mat-autocomplete-panel.crt-combobox-autocomplete-panel .crt-combobox-autocomplete-choosed-items-group .mat-optgroup-label,.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-main-group .mat-optgroup-label{display:none}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-main-group,.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-choosed-items-group{display:flex;flex-direction:column}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-main-group .mat-option.crt-combobox-autocomplete-option,.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-choosed-items-group .mat-option.crt-combobox-autocomplete-option{height:40px;padding:0 16px;border-radius:4px}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-main-group .mat-option.crt-combobox-autocomplete-option:has(.crt-autocomplete-option-checkbox),.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-choosed-items-group .mat-option.crt-combobox-autocomplete-option:has(.crt-autocomplete-option-checkbox){padding:unset}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-main-group .mat-option.crt-combobox-autocomplete-option .crt-autocomplete-option-checkbox,.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-choosed-items-group .mat-option.crt-combobox-autocomplete-option .crt-autocomplete-option-checkbox{display:block;height:40px;align-items:center}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-main-group .mat-option.crt-combobox-autocomplete-option .crt-autocomplete-option-checkbox .crt-base-input-container,.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-choosed-items-group .mat-option.crt-combobox-autocomplete-option .crt-autocomplete-option-checkbox .crt-base-input-container{flex:1}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-main-group .mat-option.crt-combobox-autocomplete-option .crt-autocomplete-option-checkbox .crt-base-input-container .crt-checkbox .mat-checkbox-layout,.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-optgroup.crt-combobox-autocomplete-choosed-items-group .mat-option.crt-combobox-autocomplete-option .crt-autocomplete-option-checkbox .crt-base-input-container .crt-checkbox .mat-checkbox-layout{padding:5px 16px}.mat-autocomplete-panel.crt-combobox-autocomplete-panel .mat-option.crt-combobox-autocomplete-loader{margin:2px 0;padding:3px 0;height:unset}
`],encapsulation:2,changeDetection:0})}}const r7=["*"],o7=r=>({"crt-input-required":r}),s7=r=>({$implicit:r});function c7(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-base-input-width-holder",14),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("label",n.label)("minWidth",180)}}function l7(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementContainer(1,18),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("crtViewElement",n)}}function d7(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,l7,2,1,"ng-container",17),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.controlActionButtons)}}function p7(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",15),t.\u0275\u0275template(2,d7,2,1,"ng-container",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(13);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.controlActions.length===1||!n.groupControlActions)("ngIfElse",a)}}function u7(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",19,1),t.\u0275\u0275listener("menuClosed",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275reference(1);return t.\u0275\u0275resetView(i.blur())})("click",function(i){return t.\u0275\u0275restoreView(n),i.preventDefault(),t.\u0275\u0275resetView(i.stopPropagation())}),t.\u0275\u0275element(3,"mat-icon",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"crt-menu",21,2)}if(r&2){const n=t.\u0275\u0275reference(2),a=t.\u0275\u0275reference(5),i=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("crt-toolbar-visible",n==null?null:n.menuOpen),t.\u0275\u0275property("crtMenuTriggerFor",a)("crtMenuTriggerData",t.\u0275\u0275pureFunction1(6,s7,i.controlActions))("disabled",i.getControlActionDisabled()),t.\u0275\u0275advance(4),t.\u0275\u0275property("items",i.controlActionButtons)}}function m7(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",22)(1,"crt-label",23),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("title",n.valueDetails),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.valueDetails," ")}}let ke=class w3 extends Sd.g{set disabled(e){super.disabled=e,this._setDisablePropertyToControlActions()}get disabled(){return this.control?.disabled}set value(e){const n=this.control;!n||JSON.stringify(n.value)===JSON.stringify(e)||!Ia.isNullableLookupValue(e)||n.setValue(e)}get groupControlActions(){return this._groupControlActions}set groupControlActions(e){this._groupControlActions=e,this._initControlActionButtons()}get controlActions(){return this._controlActions}set controlActions(e){this._controlActions=e,this._initControlActionButtons()}get controlActionButtons(){return this._controlActionButtons}get listActions(){return this._listActions}set listActions(e){this._listActions=e}set readonly(e){this._readOnly!==e&&(this._readOnly=e,this._setDisablePropertyToControlActions())}get readonly(){return this._readOnly}get isShowValueDetails(){return!(0,y.isEmpty)(this.valueDetails)&&!(0,y.isEmpty)(this.control?.value)&&!this.useMultiChoice}get isShownRequiredMark(){return this.required&&this.appearance!=="outline"}set useStaticFiltering(e){this._useStaticFiltering=e,this._setupItems()}set items(e){if(e===null){this._listItemsInitialized=!1,this._setItems([]);return}this._isViewModelCollection(e)?this._initializeDataItemsFromCollection(e):(Ia.isLookupValuesArray(e)&&this._setItems(e),this._viewModelCollection=null)}constructor(e,n,a){super(e,null,n),this._validationErrorService=a,this._items=[],this._readOnly=!1,this._useStaticFiltering=!1,this._filterValueSubject=new m.BehaviorSubject(""),this._localPaginationSubject=new m.BehaviorSubject(null),this._groupControlActions=!1,this._controlActions=[],this._listActions=[],this._controlActionButtons=[],this._listItemsInitialized=!1,this._localPaginationConfig={pageSize:50,visibleContentSize:0},this.items$=(0,m.of)([]),this.id=(0,de.qv)(),this.isAddAllowed=!1,this.isGoToSourceAllowed=!1,this.mode=am.q.List,this.showValueAsLink=!1,this.debounceTime=500,this.useMultiChoice=!1,this.showList=new t.EventEmitter,this.addRecord=new t.EventEmitter,this.goToSource=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.opened=new t.EventEmitter,this.closed=new t.EventEmitter,this.selectionWindowIconPressed=new t.EventEmitter,this.valueChange=new t.EventEmitter}_setDisablePropertyToControlActions(){const e=this.getControlActionDisabled();this.controlActionsElements?.forEach(n=>n.componentRef?.setPropertyValue("disabled",e))}_initControlActionButtons(){const e=this.getControlActionDisabled();this._controlActionButtons=this._controlActions?.map(n=>({...n,disabled:e,iconPosition:this.groupControlActions?pe.LeftIcon:pe.OnlyIcon}))||[]}_isViewModelCollection(e){return e instanceof Ni.A}_initializeDataItemsFromCollection(e){e!==this._viewModelCollection&&(this._listItemsInitialized=!1),this._viewModelCollection=e,this._itemsChangedSubscription?.unsubscribe(),this._itemsChangedSubscription=new m.Subscription,this._itemsChangedSubscription.add(e.changed.subscribe(()=>{this._updateItemsFromViewModelCollection(e)})),this._updateItemsFromViewModelCollection(e)}_updateItemsFromViewModelCollection(e){Promise.all((e??[]).map(function(){var n=(0,bt.A)(function*(a){return{value:yield a.value,displayValue:yield a.displayValue,primaryColorValue:(yield a.primaryColorValue)??"",primaryImageValue:(yield a.primaryImageValue)??"",secondaryDisplayValue:(yield a.secondaryDisplayValue)??""}});return function(a){return n.apply(this,arguments)}}())).then(n=>{this._setItems(n)})}_setItems(e){this._items=e,this._setupItems()}_setupItems(){this._useStaticFiltering?this._setupStaticDataManipulation():this.items$=(0,m.of)(this._items),this.detectChanges()}_setupStaticDataManipulation(){this._reInitializeLocalPaginationConfig();const e=(0,m.combineLatest)([(0,m.of)(this._items),this._setupStaticFilterSubject()]).pipe((0,h.switchMap)(([n,a])=>this._filterItems(n,a)));this.items$=(0,m.combineLatest)([e,this._localPaginationSubject]).pipe((0,h.switchMap)(([n])=>this._pageItems(n)))}_reInitializeLocalPaginationConfig(){this._localPaginationConfig.visibleContentSize=0}_setupStaticFilterSubject(){return this._filterValueSubject.pipe((0,h.distinctUntilChanged)())}_filterItems(e,n){if(!n)return(0,m.of)(e);const a=this.filteringFn?this.filteringFn:Ia.filterLookupItemsByDefault,i=this.sortFilteringFn?this.sortFilteringFn:Ia.sortFilteringItemsByDefault;return a(e,n).pipe((0,h.switchMap)(s=>i(s,n)))}_pageItems(e){if(e.length<=this._localPaginationConfig.pageSize)return(0,m.of)(e);let n=this._localPaginationConfig.visibleContentSize;n+=this._localPaginationConfig.pageSize,this._localPaginationConfig.visibleContentSize=n;const a=e.slice(0,n);return(0,m.of)(a)}_panelCloseAfterChangeFocus(e){this._isMatAutocompleteActionClick(e)&&(this.autocomplete.autoCompleteTrigger.closePanel(),this.autocomplete.focused=!1)}_isMatAutocompleteActionClick(e){const n=this._getRelatedTargetClasses(e);return n&&!n.includes("combobox")&&!this._isCurrentComponentClick(e)}_getRelatedTargetClasses(e){return e?.relatedTarget?.className}_isCurrentComponentClick(e){return this.elementRef?.nativeElement?.contains(e.relatedTarget)}_subscribeOnValidationErrors(){this._validationErrorService.validationErrors.pipe((0,h.takeUntil)(this.destroyed$)).subscribe(e=>{const n={...this.control?.errors,...e.errors};this.control?.setErrors((0,y.isEmpty)(n)?null:n,{emitEvent:!1})})}ngOnInit(){this._subscribeOnValidationErrors()}onAutocompleteValueRestored(){this.onChanged(null)}onChanged(e){this.valueChange.emit(this.control?.value),this._reInitializeLocalPaginationConfig(),this._filterValueSubject.next(e),!this._useStaticFiltering&&this.showList instanceof t.EventEmitter&&this.showList.emit({filterValue:e,viewElement:"crt.ComboBox"})}ngOnDestroy(){super.ngOnDestroy(),this._itemsChangedSubscription?.unsubscribe(),this._filterValueSubject.complete(),this._localPaginationSubject.complete()}onAddRecord(e){this.addRecord.emit(e)}goToSourceList(){this.goToSource.emit()}onPaginationChanged(){if(this.loading)return;this._localPaginationSubject.next();let e=this.control?.value;(0,y.isString)(e)||(e=""),this.paginationChange.emit({filterValue:e,viewElement:"crt.ComboBox"})}onListOpened(){this._listItemsInitialized||(this.showList.emit(null),this._listItemsInitialized=!0),this.opened.emit()}onListClosed(){this._reInitializeLocalPaginationConfig(),this.closed.emit()}onSelectionWindowIconPressed(){this.selectionWindowIconPressed.emit()}onBrandNewValueAdded(){this._listItemsInitialized=!1}getControlActionDisabled(){return!!(this.disabled||this.readonly)}getValueDetailsAriaLabel(){return this.isShowValueDetails?this.valueDetails:null}onFocusOut(e){this._panelCloseAfterChangeFocus(e)}onCopy(e){const n=window.getSelection()?.toString();n&&(e.preventDefault(),e.clipboardData?.setData("text/plain",n))}static{this.\u0275fac=function(n){return new(n||w3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(Uc))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:w3,selectors:[["crt-combobox"]],viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(Ws,7),t.\u0275\u0275viewQuery(rn.H,5)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.autocomplete=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.controlActionsElements=i)}},hostVars:1,hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("focusout",function(s){return a.onFocusOut(s)})("copy",function(s){return a.onCopy(s)}),n&2&&t.\u0275\u0275attribute("readonly",a.readonly)},inputs:{disabled:"disabled",value:"value",groupControlActions:"groupControlActions",isAddAllowed:"isAddAllowed",isGoToSourceAllowed:"isGoToSourceAllowed",mode:"mode",tooltipConfig:"tooltipConfig",controlActions:"controlActions",listActions:"listActions",showValueAsLink:"showValueAsLink",linkViewConfig:"linkViewConfig",readonly:"readonly",showSecondaryDisplayValue:"showSecondaryDisplayValue",autofocus:"autofocus",debounceTime:"debounceTime",useStaticFiltering:"useStaticFiltering",filteringFn:"filteringFn",sortFilteringFn:"sortFilteringFn",items:"items",useMultiChoice:"useMultiChoice",valueDetails:"valueDetails"},outputs:{showList:"showList",addRecord:"addRecord",goToSource:"goToSource",paginationChange:"paginationChange",opened:"opened",closed:"closed",selectionWindowIconPressed:"selectionWindowIconPressed",valueChange:"valueChange"},features:[t.\u0275\u0275ProvidersFeature([Uc]),t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:r7,decls:16,vars:34,consts:[["menu_actions",""],["button","","trigger","crtMenuTrigger"],["controlActionsMenu",""],[3,"label","minWidth",4,"ngIf"],[1,"crt-base-input-container"],["crtResizable","",1,"crt-input",3,"resized","ngClass","crtResizableDisabled"],[1,"crt-input-label-container"],["crtTextOverflowTitle","",1,"crt-input-label",3,"ngClass","for"],[1,"crt-combobox-container"],[1,"crt-combobox-field-container"],[3,"changed","addRecord","paginationChange","listOpened","listClosed","selectionWindowIconPressed","valueRestored","brandNewValueAdded","id","formControl","parentControl","items","readonly","disabled","autofocus","isRequired","isAddAllowed","showValueAsLink","linkViewConfig","debounceTime","ariaLabel","valueDetailsAriaLabel","placeholder","appearance","tooltip","listActions","loading","useMultiChoice","mode","showSecondaryDisplayValue"],[1,"crt-combobox-actions-container"],[4,"ngIf"],["class","crt-combobox-value-details-container",4,"ngIf"],[3,"label","minWidth"],[1,"control-actions-inline"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[3,"crtViewElement"],[1,"crt-toolbar","crt-row-toolbar",3,"menuClosed","click","crtMenuTriggerFor","crtMenuTriggerData","disabled"],["svgIcon","kebab",1,"menu-icon"],[3,"items"],[1,"crt-combobox-value-details-container"],["labelColor","var(--crt-palette-label-500)","labelType","caption","labelEllipsis","true","data-item-marker","ComboboxValueDetails",3,"title"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,c7,1,2,"crt-base-input-width-holder",3),t.\u0275\u0275elementStart(1,"div",4)(2,"div",5),t.\u0275\u0275listener("resized",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onResized(b))}),t.\u0275\u0275elementStart(3,"div",6)(4,"label",7),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"div",8)(7,"div",9)(8,"crt-autocomplete",10),t.\u0275\u0275pipe(9,"async"),t.\u0275\u0275listener("changed",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onChanged(b))})("addRecord",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onAddRecord(b))})("paginationChange",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onPaginationChanged())})("listOpened",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onListOpened())})("listClosed",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onListClosed())})("selectionWindowIconPressed",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onSelectionWindowIconPressed())})("valueRestored",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onAutocompleteValueRestored())})("brandNewValueAdded",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onBrandNewValueAdded())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",11),t.\u0275\u0275template(11,p7,3,2,"ng-container",12)(12,u7,6,8,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(14,m7,3,2,"div",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275projection(15),t.\u0275\u0275elementEnd()}n&2&&(t.\u0275\u0275property("ngIf",a.displayLabelPosition==="auto"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass","label-position-"+a.displayLabelPosition+" appearance-"+a.appearance)("crtResizableDisabled",!a.isAutoLabelPosition||a.containerQueryMechanismAvailable),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(32,o7,a.isShownRequiredMark))("for",a.inputId),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a.label),t.\u0275\u0275advance(3),t.\u0275\u0275property("id",a.inputId)("formControl",a.control)("parentControl",a.control)("items",t.\u0275\u0275pipeBind1(9,30,a.items$))("readonly",a.getControlActionDisabled())("disabled",a.disabled)("autofocus",a.autofocus)("isRequired",a.required)("isAddAllowed",a.isAddAllowed)("showValueAsLink",a.showValueAsLink)("linkViewConfig",a.linkViewConfig)("debounceTime",a.debounceTime)("ariaLabel",a.ariaLabel||a.label)("valueDetailsAriaLabel",a.getValueDetailsAriaLabel())("placeholder",a.placeholder)("appearance",a.appearance)("tooltip",a.tooltipConfig||a.tooltip)("listActions",a.listActions)("loading",a.loading)("useMultiChoice",a.useMultiChoice)("mode",a.mode)("showSecondaryDisplayValue",a.showSecondaryDisplayValue),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.controlActions==null?null:a.controlActions.length),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.isShowValueDetails))},dependencies:[_.NgClass,_.NgForOf,_.NgIf,ai.y,O.NgControlStatus,_t.MatIcon,O.FormControlDirective,Le.C,rn.H,Ua,ri,hn,Mr.q,Ws,_.AsyncPipe],styles:["[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;justify-content:space-between}[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]   .crt-input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-combobox-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]   .crt-combobox-container[_ngcontent-%COMP%]{min-width:0;width:100%}[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]   .crt-combobox-container[_ngcontent-%COMP%]   .crt-combobox-value-details-container[_ngcontent-%COMP%]{padding-top:4px;width:90%}[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]   .crt-combobox-container[_ngcontent-%COMP%]   .crt-combobox-value-details-container[_ngcontent-%COMP%]     crt-label .ellipsis{overflow:hidden;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:2;word-break:break-word;white-space:unset}[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]   .crt-combobox-container[_ngcontent-%COMP%]   .crt-combobox-field-container[_ngcontent-%COMP%]{display:flex;min-width:inherit;width:inherit}[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]   .crt-combobox-container[_ngcontent-%COMP%]   .crt-combobox-field-container[_ngcontent-%COMP%]   crt-autocomplete[_ngcontent-%COMP%]{min-width:inherit;width:inherit}[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-bottom:8px;padding-left:8px;width:16px;height:16px;min-width:16px;min-height:16px;cursor:pointer}[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]   .control-actions-inline[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-base-input-container[dir=rtl][_ngcontent-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-left:0;padding-right:8px}","body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{max-width:100%}.crt-base-edit-input-responsible[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{container-type:inline-size}@container (width <= 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}}@container (width > 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{width:0;min-width:0;margin:0}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{height:0;color:transparent}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]   .inner-tools-panel[_ngcontent-%COMP%]{opacity:1;display:inline-flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]:not(:hover)   .readonly-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;padding-inline-end:2px}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   textarea.mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;align-items:center;padding-inline-end:2px}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)({defaultValue:!1}),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],ke.prototype,"disabled",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],ke.prototype,"value",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],ke.prototype,"groupControlActions",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"isAddAllowed",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"isGoToSourceAllowed",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],ke.prototype,"mode",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Bo.I)],ke.prototype,"tooltipConfig",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],ke.prototype,"controlActions",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],ke.prototype,"listActions",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"showValueAsLink",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"linkViewConfig",void 0),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1,propertyName:et.R.Readonly}),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],ke.prototype,"readonly",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],ke.prototype,"showSecondaryDisplayValue",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],ke.prototype,"autofocus",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"debounceTime",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],ke.prototype,"useStaticFiltering",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Function)],ke.prototype,"filteringFn",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Function)],ke.prototype,"sortFilteringFn",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],ke.prototype,"items",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"useMultiChoice",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],ke.prototype,"valueDetails",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"showList",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"addRecord",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"goToSource",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"paginationChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"opened",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"closed",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"selectionWindowIconPressed",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ke.prototype,"valueChange",void 0),ke=(0,u.__decorate)([(0,Qt.v)({type:"crt.ComboBox",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:10,icon:o(7585),defaultPropertyValues:{label:"",ariaLabel:"",isAddAllowed:!0,showValueAsLink:!0,labelPosition:"auto",controlActions:[],listActions:[{...n8,name:"addRecord_"+on,defaultLocalizableStrings:{caption:"Components.Combobox.AddNewRecord"}}],tooltip:""},defaultLocalizableStrings:{label:"Components.Combobox.Caption",ariaLabel:"Components.Combobox.Caption"}},designViewItemCommands:{delete:"crt.RemoveComboBoxViewItemCommand"},dataValueTypes:[X.r.Lookup],propertiesPanelComponentTypeName:"crt.ComboboxPropertiesPanelComponent",collectionPropertyNames:["listActions","controlActions"],viewElementGroupType:pn.J.Inputs,typeCaption:"Components.Combobox.Caption"}),(0,u.__metadata)("design:paramtypes",[t.Injector,t.ChangeDetectorRef,Uc])],ke);function g7(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-icon",5),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("svgIcon",n.icon)}}function h7(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",2),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.handleActionClick(i))}),t.\u0275\u0275template(2,g7,1,1,"mat-icon",3),t.\u0275\u0275element(3,"crt-label",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("disabled",n.disabled),t.\u0275\u0275attribute("data-item-marker",n.caption||n.icon),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.icon),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("caption",n.getTitle()),t.\u0275\u0275property("labelEllipsis",!0)}}function _7(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",6),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.handleActionClick(i))}),t.\u0275\u0275element(1,"mat-icon",7),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",n.disabled)("crtAccessibleAttributes",n.getTitle()),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("svgIcon",n.icon)}}let rm=class E3 extends zo{constructor(e,n){super(e,n),this.injector=e,this.translateService=n}set details(e){super.details=e,this.applyDetails(e)}get details(){return super.details}applyDetails(e){this._searchValue=e?.searchValue||""}getTitle(){return this._searchValue?`${super.getTitle()} "${this._searchValue}"`:super.getTitle()}handleActionClick(e){super.handleActionClick(e),this.details={}}static{this.\u0275fac=function(n){return new(n||E3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:E3,selectors:[["crt-combobox-search-text-action"]],inputs:{details:"details"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["icon_button",""],[4,"ngIf","ngIfElse"],[1,"combobox-action-button","full-width",3,"click","disabled"],["class","combobox-icon",3,"svgIcon",4,"ngIf"],[1,"combobox-label",3,"caption","labelEllipsis"],[1,"combobox-icon",3,"svgIcon"],[1,"combobox-action-button",3,"click","disabled","crtAccessibleAttributes"],["matSuffix","",1,"combobox-icon",3,"svgIcon"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,h7,4,5,"ng-container",1)(1,_7,2,3,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.iconPosition==="left-icon")("ngIfElse",i)}},dependencies:[_.NgIf,q.MatLegacySuffix,_t.MatIcon,hn,Nn],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{cursor:pointer;display:flex;align-items:flex-end;width:100%;height:100%}[_nghost-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{width:16px;height:16px;min-width:16px;min-height:16px;padding:0 2px}[_nghost-%COMP%]   .combobox-action-button[_ngcontent-%COMP%]{padding-inline-start:8px;background:transparent;text-transform:none;border:none;cursor:pointer;padding:2px 0;height:20px}[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]{pointer-events:none;width:100%;display:flex;align-items:center;padding:8px 0}[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]   .combobox-icon[_ngcontent-%COMP%]{padding-bottom:0;padding-inline-start:16px}[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]   crt-label[_ngcontent-%COMP%]{cursor:pointer;max-width:calc(100% - 50px)}[dir=rtl][_nghost-%COMP%]   .combobox-icon[data-mat-icon-name=combobox-go-to-source][_ngcontent-%COMP%]{transform:rotateY(180deg)}.disabled[_nghost-%COMP%]{cursor:default}.disabled[_nghost-%COMP%]   .combobox-action-button[_ngcontent-%COMP%]{cursor:default}.disabled[_nghost-%COMP%]   .combobox-action-button.full-width[_ngcontent-%COMP%]   crt-label[_ngcontent-%COMP%]{cursor:default}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],rm.prototype,"details",null),rm=(0,u.__decorate)([(0,Qt.v)({type:"crt.ComboboxSearchTextAction",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector,f.TranslateService])],rm);var Uo=o(65288),He=o(58504),nr=o(41108),$b=o(56267),Ho=o(82517),Vd=o(11244);class f7{}class F_{constructor(e){this._sysSettingsService=e,this._dropdownPageSizeFeatureName="DropdownPageSize",this._defaultDropdownPageSize=50,this._dropdownMinimumPageSize=10}_getSystemPageSize(){return(0,m.lastValueFrom)(this._sysSettingsService.getByCode(this._dropdownPageSizeFeatureName).pipe((0,m.map)(e=>this._parseSystemPagingSize(e.value)),(0,m.catchError)(()=>(0,m.of)(this._defaultDropdownPageSize))))}_getValidPageSize(e){return e>=this._dropdownMinimumPageSize?e:this._dropdownMinimumPageSize}_parseSystemPagingSize(e){const n=parseInt(e);return n||this._defaultDropdownPageSize}getPageSize(){var e=this;return(0,bt.A)(function*(){const n=yield e._getSystemPageSize();return e._getValidPageSize(n)})()}static{this.\u0275fac=function(n){return new(n||F_)(t.\u0275\u0275inject(f7))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:F_,factory:F_.\u0275fac,providedIn:"root"})}}class om{set dataSchemaName(e){e!==this._dataSchemaName&&(this._dataSchemaName=e,this._initializeItemsModel(null),e&&this._initializeModel())}constructor(e){this._comboboxDropdownPageSizeService=e,this._changeDetectorRef=(0,t.inject)(t.ChangeDetectorRef),this._dropdownPageSize=50,this._hasNextPage=!0,this._destroyed$=new m.Subject,this.loading=!1,this.items=[],this.labelPosition="auto",this._initializeDropdownPageSize()}_initializeDropdownPageSize(){var e=this;return(0,bt.A)(function*(){e._dropdownPageSize=yield e._comboboxDropdownPageSizeService.getPageSize()})()}_initializeModel(){Vd.K.create(this._dataSchemaName).pipe((0,m.tap)(this._initializeItemsModel.bind(this)),(0,m.switchMap)(e=>e.getSchema()),(0,m.tap)(this._initializeModelColumnsName.bind(this))).subscribe()}_initializeItemsModel(e){this._model=e,this.items=e?null:[]}_initializeModelColumnsName(e){this._dataSchemaPrimaryColumnName=e.primaryAttributeName,this._dataSchemaPrimaryDisplayColumnName=e.primaryDisplayAttributeName}_createDataSourceAttributes(){return[this._dataSchemaPrimaryColumnName,this._dataSchemaPrimaryDisplayColumnName,this.secondaryDisplayValueConfig?.columnPath?this.secondaryDisplayValueConfig.columnPath:null].filter(Boolean)}_createDataSourceParameters(){const e=this.control?.value;return(0,y.isString)(e)?this.secondaryDisplayValueConfig?.show&&e?[{type:Uo.E.Filter,value:this._getFilterWithSecondaryDisplayValue(e)}]:[{type:Uo.E.PrimaryDisplayValueFilter,value:e,comparisonType:He.H.Contain}]:null}_getFilterWithSecondaryDisplayValue(e){const n=new nr.X($b.H.Or);return n.addSchemaColumnFilterWithParameter(He.H.Contain,this._dataSchemaPrimaryDisplayColumnName,e,`${this._dataSchemaPrimaryDisplayColumnName}_Filter`),n.addSchemaColumnFilterWithParameter(He.H.Contain,this.secondaryDisplayValueConfig.columnPath,e,`${this.secondaryDisplayValueConfig.columnPath}_Filter`),n}_createDataSourceLoadOptions(e){return{loadType:this._getDataSourceLoadType(e),sortingConfig:{columns:[{columnName:this._dataSchemaPrimaryDisplayColumnName,direction:"asc"}]},pagingConfig:{rowsOffset:e,rowCount:this._dropdownPageSize}}}_getDataSourceLoadType(e){return e!==0?Ho.I.LoadNext:this.items?.length?Ho.I.Reload:Ho.I.Load}_createItems(e){return e.map(n=>this._createItem(n))}_createItem(e){return{value:e[this._dataSchemaPrimaryColumnName],displayValue:e[this._dataSchemaPrimaryDisplayColumnName],secondaryDisplayValue:this.secondaryDisplayValueConfig?.columnPath?e[this.secondaryDisplayValueConfig.columnPath]:void 0}}_setItems(e,n){this.items=n?[...this.items,...e]:this._concatWithPredefinedItems(e),this._hasNextPage=e.length!==0}_concatWithPredefinedItems(e){return this._isHasPredefinedItems()?[...this.predefinedItems,...e]:e}_isHasPredefinedItems(){return!!this.predefinedItems?.length}_getItemsRowsOffSet(){const e=this.items.length;if(!this._isHasPredefinedItems())return e;let n=0;return this.predefinedItems.forEach(a=>{this.items.find(s=>s.value===a.value)&&n++}),n?e-n:e}loadItems(e=0){this._model&&(this.loading=!0,this._model.load({attributes:this._createDataSourceAttributes(),parameters:this._createDataSourceParameters(),options:this._createDataSourceLoadOptions(e)}).pipe((0,m.map)(n=>this._createItems(n)),(0,m.tap)(n=>this._setItems(n,e!==0)),(0,m.tap)(()=>{this.loading=!1,this._changeDetectorRef.detectChanges()}),(0,m.takeUntil)(this._destroyed$)).subscribe())}onPaginationChanged(){if(!this._hasNextPage)return;const e=this._getItemsRowsOffSet();this.loadItems(e)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||om)(t.\u0275\u0275directiveInject(F_))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:om,selectors:[["crt-combobox-model"]],inputs:{dataSchemaName:"dataSchemaName",control:"control",predefinedItems:"predefinedItems",placeholder:"placeholder",label:"label",labelPosition:"labelPosition",secondaryDisplayValueConfig:"secondaryDisplayValueConfig"},decls:1,vars:7,consts:[[3,"showList","paginationChange","control","items","loading","placeholder","label","labelPosition","showSecondaryDisplayValue"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"crt-combobox",0),t.\u0275\u0275listener("showList",function(){return a.loadItems()})("paginationChange",function(){return a.onPaginationChanged()}),t.\u0275\u0275elementEnd()),n&2&&t.\u0275\u0275property("control",a.control)("items",a.items)("loading",a.loading)("placeholder",a.placeholder)("label",a.label)("labelPosition",a.labelPosition)("showSecondaryDisplayValue",a.secondaryDisplayValueConfig==null?null:a.secondaryDisplayValueConfig.show)},dependencies:[ke],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})}}var so=o(4164);let by=class{_getActivityCategory(e){return e.find(n=>!(0,y.isEmpty)(n)&&(0,de.n7)(n.value))}_addActivityCategoryFilter(e,n){e.addSchemaColumnFilterWithParameter(He.H.Equal,"[ActivityCategoryResultEntry:ActivityResult].ActivityCategory",n.value,"ActivityCategoryFilter")}_addAllowedResultFilterIfNeed(e,n,a){const i=a.find(b=>b!==n);if((0,y.isEmpty)(i))return;const s=JSON.parse(i);e.addSchemaColumnInFilterWithParameters(He.H.Equal,"Id",s,"AllowedResultsFilter")}_addBusinessProcessOnlyFilterIfNeed(e,n,a){const i=a.find(s=>s!==n);(0,y.isEmpty)(i)&&e.addSchemaColumnFilterWithParameter(He.H.Equal,"BusinessProcessOnly",!1,"BusinessProcessOnlyFilter")}convert(e){const n=this._getActivityCategory(e);if(!n)return null;const a=new nr.X;return this._addActivityCategoryFilter(a,n),this._addAllowedResultFilterIfNeed(a,n,e),this._addBusinessProcessOnlyFilterIfNeed(a,n,e),a}};by=(0,u.__decorate)([(0,so.a)({type:"crt.ActivityResultsFilters"})],by);let ga=class T3{static{this.\u0275fac=function(n){return new(n||T3)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:T3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Vn.d,oe.MatLegacyCheckboxModule,O.FormsModule,O.ReactiveFormsModule,fe.q,_t.MatIconModule,_e.S,Rn.N]})}};ga=(0,u.__decorate)([(0,ie.g)({viewElements:[xa]})],ga),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(ga,{declarations:[xa],imports:[_.CommonModule,Vn.d,oe.MatLegacyCheckboxModule,O.FormsModule,O.ReactiveFormsModule,Le.C,fe.q,_t.MatIconModule,_e.S,Rn.N],exports:[xa]})}();var Ha=o(65269);let Ne=class P3{static{this.\u0275fac=function(n){return new(n||P3)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:P3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,fe.q,_e.S]})}};Ne=(0,u.__decorate)([(0,ie.g)({viewElements:[hn]})],Ne),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Ne,{declarations:[hn],imports:[_.CommonModule,fe.q,_e.S],exports:[hn]})}();var Mn=o(48629);class Wc{static{this.\u0275fac=function(n){return new(n||Wc)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Wc})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Hs.MatProgressBarModule,f.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Wc,{declarations:[Nd],imports:[_.CommonModule,Hs.MatProgressBarModule,f.TranslateModule],exports:[Nd]})})();let oi=class O3{static{this.\u0275fac=function(n){return new(n||O3)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:O3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Vn.d,O.FormsModule,lt.MatLegacyInputModule,jn.MatLegacySelectModule,c.MatLegacyAutocompleteModule,_t.MatIconModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,fe.q,Mn.U,Je.V,Te.c,nm,vn,Q.MatLegacyMenuModule,re,Ne,tn,_e.S,nt.MatLegacyButtonModule,Wc,Ha.a,ga,Rn.N,f.TranslateModule]})}};oi=(0,u.__decorate)([(0,ie.g)({viewElements:[ke,zo,rm],converters:[by]})],oi),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(oi,{declarations:[Ws,N_,ke,om,zo,rm,V_],imports:[_.CommonModule,Vn.d,O.FormsModule,lt.MatLegacyInputModule,jn.MatLegacySelectModule,c.MatLegacyAutocompleteModule,_t.MatIconModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,Le.C,fe.q,Mn.U,Je.V,Te.c,nm,vn,Q.MatLegacyMenuModule,re,Ne,tn,_e.S,nt.MatLegacyButtonModule,Wc,Ha.a,ga,Rn.N,Nn,f.TranslateModule],exports:[Ws,ke,om,zo,rm]})}();var b7=o(61886),C7=o(71432);class Wo{set format(e){this._format=e||{type:"number"},this._writeInputValue()}constructor(e,n){this._elementRef=e,this._numberFormatter=n,this._isFocused=!1,this._type="text",this.readonly=!1,this._nativeElement=this._elementRef.nativeElement}_getInputValue(){return this._nativeElement.value}_setInputValue(e){this._nativeElement.value=e}_parseValue(e){if(typeof e=="number")return[e,e.toString()];const n=this._numberFormatter.undoFormat(e?.toString(),this._format),a=parseFloat(n);return isNaN(a)?[null,""]:[a,a.toString()]}_writeInputValue(){const e=this._getInputValue();this._writeValue(e)}_writeValue(e){const[,n]=this._parseValue(e),a={...this._format,trimTrailingZeros:this._isFocused?!this.readonly:this._format.trimTrailingZeros},i=this._numberFormatter.format(n,a);if(i){const[s]=this._parseValue(i);this._setInputValue(i),this._setValueToFormControl(s)}else this._setInputValue(""),this._setValueToFormControl(null)}_setValueToFormControl(e){this._value!==e&&(this._value=e,this._changeFn&&this._changeFn(e))}registerOnChange(e){this._changeFn=e}registerOnTouched(e){this._touchedFn=e}writeValue(e){this._value=e,this._writeValue(this._value)}onFocus(){this._isFocused=!0,this._writeInputValue()}onBlur(){this._isFocused=!1,this._writeInputValue(),this._touchedFn()}onKeyUp(){const e=this._getInputValue(),[n]=this._parseValue(e);this._setValueToFormControl(n)}static{this.\u0275fac=function(n){return new(n||Wo)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(C7.K))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Wo,selectors:[["input","crtNumberControl",""]],hostVars:1,hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("focus",function(){return a.onFocus()})("blur",function(){return a.onBlur()})("keyup",function(){return a.onKeyUp()}),n&2&&t.\u0275\u0275attribute("type",a._type)},inputs:{format:"format",readonly:[t.\u0275\u0275InputFlags.None,"crtNumberControlReadonly","readonly"]},features:[t.\u0275\u0275ProvidersFeature([{provide:O.NG_VALUE_ACCESSOR,useExisting:(0,t.forwardRef)(()=>Wo),multi:!0},{provide:lt.MAT_LEGACY_INPUT_VALUE_ACCESSOR,useExisting:(0,t.forwardRef)(()=>Wo)}])]})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],Wo.prototype,"format",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Wo.prototype,"readonly",void 0);const y7=["numberinput"],v7=r=>({"crt-input-required":r});function M7(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-base-input-width-holder",7),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("label",n.label)("minWidth",180)}}function I7(r,e){r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader")}function x7(r,e){r&1&&(t.\u0275\u0275element(0,"mat-icon",14),t.\u0275\u0275pipe(1,"translate")),r&2&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"Input.Readonly"))}function S7(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",15),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"crt-icon-tooltip",16),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.errorMessages),t.\u0275\u0275advance(),t.\u0275\u0275property("tooltip",n.errors)("ariaLabel",n.label)}}function w7(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-icon-tooltip",18),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("tooltip",n.tooltip)("ariaLabel",n.label)}}function E7(r,e){if(r&1&&t.\u0275\u0275template(0,w7,1,2,"crt-icon-tooltip",17),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",n.tooltip)}}function T7(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",8)(1,"label",9),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(3,"mat-form-field",10)(4,"div",11)(5,"input",12,1),t.\u0275\u0275listener("blur",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onBlur(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,x7,2,3,"mat-icon",13)(8,S7,4,3,"ng-container",6)(9,E7,1,1,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275reference(10),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(17,v7,a.required))("for",a.inputId),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a.label),t.\u0275\u0275advance(),t.\u0275\u0275classProp("crt-input-control-container--invalid",a.invalid),t.\u0275\u0275advance(2),t.\u0275\u0275property("id",a.inputId)("crtNumberControlReadonly",a.readonly)("format",a.format)("formControl",a.control)("readonly",a.readonly)("autocomplete",a.autocomplete)("crtAriaRequired",a.required)("placeholder",a.placeholder),t.\u0275\u0275attribute("aria-label",a.getAriaLabel),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.readonly),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.invalid)("ngIfElse",n)}}const P7=[X.r.Integer,X.r.Float,X.r.FLOAT1,X.r.FLOAT2,X.r.FLOAT3,X.r.FLOAT4,X.r.FLOAT8,X.r.Money];let Gc=class D3 extends b7.S{get getAriaLabel(){return this.ariaLabel||this.label||this._translateService.instant("NumberInput.AriaLabel")}constructor(e,n){super(e,n),this._translateService=this.injector.get(f.TranslateService)}ngAfterViewInit(){super.ngAfterViewInit(),this.autofocus&&this.focus()}focus(){this.textInput.nativeElement.focus(),this.changeDetectorRef.detectChanges()}onBlur(e){this.blurred.emit(e)}static{this.\u0275fac=function(n){return new(n||D3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:D3,selectors:[["crt-number-input"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(y7,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.textInput=i.first)}},inputs:{format:"format"},features:[t.\u0275\u0275ProvidersFeature([Oi.I]),t.\u0275\u0275InheritDefinitionFeature],decls:6,vars:5,consts:[["input",""],["numberinput",""],["tooltipIcon",""],[3,"label","minWidth",4,"ngIf"],[1,"crt-base-input-container"],["crtResizable","",1,"crt-input",3,"resized","ngClass","crtResizableDisabled"],[4,"ngIf","ngIfElse"],[3,"label","minWidth"],[1,"crt-input-label-container"],["crtTextOverflowTitle","",1,"crt-input-label",3,"ngClass","for"],["floatLabel","never",1,"crt-input-control-container"],[1,"crt-input-control"],["matInput","","crtNumberControl","",3,"blur","id","crtNumberControlReadonly","format","formControl","readonly","autocomplete","crtAriaRequired","placeholder"],["matSuffix","","svgIcon","lock","class","readonly-icon crt-input-icon","aria-hidden","false","role","button",3,"title",4,"ngIf"],["matSuffix","","svgIcon","lock","aria-hidden","false","role","button",1,"readonly-icon","crt-input-icon",3,"title"],[1,"cdk-visually-hidden"],["type","error",3,"tooltip","ariaLabel"],[3,"tooltip","ariaLabel",4,"ngIf"],[3,"tooltip","ariaLabel"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275template(0,M7,1,2,"crt-base-input-width-holder",3),t.\u0275\u0275elementStart(1,"div",4)(2,"div",5),t.\u0275\u0275listener("resized",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onResized(b))}),t.\u0275\u0275template(3,I7,1,0,"crt-skeleton-loader",6)(4,T7,11,19,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(n&2){const i=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngIf",a.displayLabelPosition==="auto"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass","label-position-"+a.displayLabelPosition)("crtResizableDisabled",!a.isAutoLabelPosition||a.containerQueryMechanismAvailable),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loaderVisible)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgIf,O.DefaultValueAccessor,O.NgControlStatus,O.FormControlDirective,q.MatLegacyFormField,q.MatLegacySuffix,lt.MatLegacyInput,_t.MatIcon,Le.C,Wo,yn.W,Rd.k,Hc.b,Mr.q,ai.y,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{max-width:100%}.crt-base-edit-input-responsible[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{container-type:inline-size}@container (width <= 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}}@container (width > 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{width:0;min-width:0;margin:0}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{height:0;color:transparent}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]   .inner-tools-panel[_ngcontent-%COMP%]{opacity:1;display:inline-flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]:not(:hover)   .readonly-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;padding-inline-end:2px}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   textarea.mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;align-items:center;padding-inline-end:2px}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Gc.prototype,"format",void 0),Gc=(0,u.__decorate)([(0,Qt.v)({type:"crt.NumberInput",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:30,icon:o(48387),defaultPropertyValues:{label:"",control:"",readonly:!1,placeholder:"",labelPosition:"auto",tooltip:""},defaultLocalizableStrings:{label:"Components.NumberInput.Caption"}},dataValueTypes:P7,propertiesPanelComponentTypeName:"crt.InputPropertiesPanelComponent",viewElementGroupType:pn.J.Inputs,typeCaption:"Components.NumberInput.Caption"}),(0,u.__metadata)("design:paramtypes",[t.Injector,t.ChangeDetectorRef])],Gc);class sm{static{this.\u0275fac=function(n){return new(n||sm)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:sm})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(sm,{declarations:[Wo],exports:[Wo]})})();let Sr=class A3{static{this.\u0275fac=function(n){return new(n||A3)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:A3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,O.ReactiveFormsModule,lt.MatLegacyInputModule,_t.MatIconModule,sm,fe.q,Je.V,_e.S,Rn.N,Vn.d,f.TranslateModule]})}};Sr=(0,u.__decorate)([(0,ie.g)({viewElements:[Gc]})],Sr),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Sr,{declarations:[Gc],imports:[_.CommonModule,O.ReactiveFormsModule,lt.MatLegacyInputModule,_t.MatIconModule,Le.C,sm,fe.q,Je.V,_e.S,Rn.N,Vn.d,f.TranslateModule],exports:[Gc]})}();var Gs=o(50999);const O7="world-icon";var ar=o(19344);const D7=["*"],A7=r=>({"crt-input-required":r});function L7(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-base-input-width-holder",7),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("label",n.label)("minWidth",180)}}function k7(r,e){r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader")}function R7(r,e){r&1&&(t.\u0275\u0275element(0,"mat-icon",20),t.\u0275\u0275pipe(1,"translate")),r&2&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"Input.Readonly"))}function N7(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",21),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"crt-icon-tooltip",22),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.errorMessages),t.\u0275\u0275advance(),t.\u0275\u0275property("tooltip",n.errors)("ariaLabel",n.label)}}function V7(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-icon-tooltip",24),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("tooltip",n.tooltip)("ariaLabel",n.label)}}function F7(r,e){if(r&1&&t.\u0275\u0275template(0,V7,1,2,"crt-icon-tooltip",23),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",n.tooltip)}}function j7(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",25),t.\u0275\u0275projection(1),t.\u0275\u0275elementEnd())}function B7(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",8)(1,"label",9),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(3,"mat-form-field",10)(4,"div",11)(5,"button",12),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.openLink(i))}),t.\u0275\u0275element(7,"mat-icon",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",14)(9,"input",15,1),t.\u0275\u0275listener("blur",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onBlur())})("keyup",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onKeyUp(i))})("keydown",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onKeyDown(i))})("focus",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.enableEditMode())}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",16)(12,"a",17),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.stopEventPropagation(i))}),t.\u0275\u0275text(13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(14,R7,2,3,"mat-icon",18)(15,N7,4,3,"ng-container",6)(16,F7,1,1,"ng-template",null,2,t.\u0275\u0275templateRefExtractor)(18,j7,2,0,"div",19),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275reference(17),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(28,A7,a.isShownRequiredMark))("for",a.inputId),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a.label),t.\u0275\u0275advance(),t.\u0275\u0275classProp("crt-input-control-container--invalid",a.invalid),t.\u0275\u0275property("appearance",a.appearance)("ngClass","label-position-"+a.displayLabelPosition),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(6,26,"WebInput.LinkButtonHint")),t.\u0275\u0275property("ngClass",a.getClasses()),t.\u0275\u0275advance(2),t.\u0275\u0275property("svgIcon",a.icon),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",a.isEdit?a.getClasses():"crt-input-control-element-hidden"),t.\u0275\u0275advance(),t.\u0275\u0275property("id",a.inputId)("formControl",a.control)("value",a.control==null?null:a.control.value)("readonly",a.readonly)("autocomplete",a.autocomplete)("placeholder",a.placeholder)("crtAriaRequired",a.required),t.\u0275\u0275attribute("aria-label",a.ariaLabel||a.label),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",a.isEdit?"crt-input-control-element-hidden":a.getClasses()),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("href",a.getLink(),t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",a.control==null?null:a.control.value," "),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.readonly),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.invalid)("ngIfElse",n),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!a.readonly&&a.tools)}}let $c=class L3 extends ar.j{_isEncodedUri(e){return/%[0-9A-Fa-f]{2}/g.test(e)}_getEncodedUri(e){return this._isEncodedUri(e)?e:encodeURI(e)}get icon(){return this._icon||O7}set icon(e){this._icon=e,this.changeDetectorRef.detectChanges()}get isEdit(){return this._isEdit||this.control.invalid}constructor(e,n,a){super(e,n),this.changeDetectorRef=n,this._window=a}openLink(e){const n=this.getLink();n&&(this.stopEventPropagation(e),this._window.open(n,"_blank"))}getLink(){let e=this.control?.value;return(0,y.isEmpty)(e)?"":(e=e.trim(),this._getEncodedUri(e.startsWith("http://")||e.startsWith("https://")?e:`//${e}`))}enableEditMode(){this._isEdit=!0,this.changeDetectorRef.detectChanges(),this.control.updateValueAndValidity()}disableEditMode(){this._isEdit=!1,this.changeDetectorRef.detectChanges(),this.control.updateValueAndValidity()}stopEventPropagation(e){e.stopPropagation()}static{this.\u0275fac=function(n){return new(n||L3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(E.ZP))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:L3,selectors:[["crt-web-input"]],inputs:{icon:"icon"},features:[t.\u0275\u0275ProvidersFeature([Oi.I]),t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:D7,decls:6,vars:5,consts:[["input",""],["textinput",""],["tooltipIcon",""],[3,"label","minWidth",4,"ngIf"],[1,"crt-base-input-container"],["crtResizable","",1,"crt-input",3,"resized","focusout","ngClass","crtResizableDisabled"],[4,"ngIf","ngIfElse"],[3,"label","minWidth"],[1,"crt-input-label-container"],["data-qa","web-field-label","crtTextOverflowTitle","",1,"crt-input-label",3,"ngClass","for"],["floatLabel","never",1,"crt-input-control-container",3,"appearance","ngClass"],[1,"crt-input-control"],["alt","open link","mat-icon-button","","data-qa","web-field-link-button",1,"crt-input-control-web-link-button",3,"click","title","ngClass"],[3,"svgIcon"],[1,"crt-input-control-web-text",3,"ngClass"],["matInput","","data-qa","web-field-input",3,"blur","keyup","keydown","focus","id","formControl","value","readonly","autocomplete","placeholder","crtAriaRequired"],[1,"crt-input-control-web-link",3,"ngClass"],["target","_blank","data-qa","web-field-link-href",1,"crt-input-control-web-link-href",3,"click","href"],["data-qa","web-field-lock-tooltip","matSuffix","","svgIcon","lock","class","readonly-icon crt-input-icon",3,"title",4,"ngIf"],["class","inner-tools-panel","data-qa","web-input-tools",4,"ngIf"],["data-qa","web-field-lock-tooltip","matSuffix","","svgIcon","lock",1,"readonly-icon","crt-input-icon",3,"title"],[1,"cdk-visually-hidden"],["data-qa","web-field-error-tooltip","type","error",3,"tooltip","ariaLabel"],["data-qa","web-field-info-tooltip",3,"tooltip","ariaLabel",4,"ngIf"],["data-qa","web-field-info-tooltip",3,"tooltip","ariaLabel"],["data-qa","web-input-tools",1,"inner-tools-panel"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,L7,1,2,"crt-base-input-width-holder",3),t.\u0275\u0275elementStart(1,"div",4)(2,"div",5),t.\u0275\u0275listener("resized",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onResized(b))})("focusout",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.disableEditMode())}),t.\u0275\u0275template(3,k7,1,0,"crt-skeleton-loader",6)(4,B7,19,30,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(n&2){const i=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngIf",a.displayLabelPosition==="auto"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass","label-position-"+a.displayLabelPosition+" appearance-"+a.appearance+" "+a.getClasses())("crtResizableDisabled",!a.isAutoLabelPosition||a.containerQueryMechanismAvailable),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loaderVisible)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgIf,O.DefaultValueAccessor,O.NgControlStatus,q.MatLegacyFormField,q.MatLegacySuffix,lt.MatLegacyInput,_t.MatIcon,O.FormControlDirective,Le.C,yn.W,Rd.k,Hc.b,Mr.q,ai.y,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{max-width:100%}.crt-base-edit-input-responsible[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{container-type:inline-size}@container (width <= 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}}@container (width > 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{width:0;min-width:0;margin:0}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{height:0;color:transparent}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]   .inner-tools-panel[_ngcontent-%COMP%]{opacity:1;display:inline-flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]:not(:hover)   .readonly-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;padding-inline-end:2px}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   textarea.mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;align-items:center;padding-inline-end:2px}","body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{padding-bottom:0}[_nghost-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{pointer-events:auto!important}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]     .mat-form-field-empty.mat-form-field-label{padding-inline-start:25px;width:calc(100% - 88px)}[_nghost-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{padding-inline-start:26px;box-sizing:border-box}[_nghost-%COMP%]   .crt-input-control-element-hidden[_ngcontent-%COMP%]{width:0!important;overflow:hidden}[_nghost-%COMP%]   .crt-input-control-web-link-button[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-14px);border:none;background-color:inherit;height:24px;padding:2px 0;cursor:pointer}[_nghost-%COMP%]   .crt-input-control-web-link-button[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}[dir=rtl]   [_nghost-%COMP%]   .crt-input-control-web-link-button[_ngcontent-%COMP%]{left:auto;right:0}[_nghost-%COMP%]   .crt-input-control-web-link-button.crt-data-table-edit-web-cell[_ngcontent-%COMP%]{padding-bottom:4px}[_nghost-%COMP%]   .crt-input-control-web-link[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input-control-web-text[_ngcontent-%COMP%]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}[_nghost-%COMP%]   .crt-input-control-web-link-href[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input-control-web-text-href[_ngcontent-%COMP%]{color:var(--crt-palette-link-500);text-decoration:none;cursor:pointer}[_nghost-%COMP%]   .crt-input-control-web-link-href[_ngcontent-%COMP%]:focus-visible, [_nghost-%COMP%]   .crt-input-control-web-text-href[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}[_nghost-%COMP%]   .crt-input-control-web-link.crt-data-table-edit-web-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input-control-web-text.crt-data-table-edit-web-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input-control-web-link-button.crt-data-table-edit-web-cell[_ngcontent-%COMP%]{padding-inline-start:7px}[_nghost-%COMP%]   .crt-input.crt-data-table-edit-web-cell[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   .crt-input.crt-data-table-edit-web-cell[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:none}[dir=rtl][_nghost-%COMP%]   .crt-input-control-web-link-button[_ngcontent-%COMP%]{left:auto;right:0}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],$c.prototype,"icon",null),$c=(0,u.__decorate)([(0,Qt.v)({type:"crt.WebInput",formControlConfig:{relatesTo:"control"},contentSlots:["tools"],reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{groupType:Gs.h.Inputs,position:44,icon:o(67093),defaultPropertyValues:{label:"",control:"",labelPosition:"auto",placeholder:"",tooltip:"",needHandleSave:!1},defaultLocalizableStrings:{caption:"DataValueType.WebTextCaption",label:"DataValueType.WebTextCaption"}},dataValueTypes:[X.r.WEB_TEXT],propertiesPanelComponentTypeName:"crt.WebTextPropertiesPanel",viewElementGroupType:pn.J.Inputs,typeCaption:"DataValueType.WebTextCaption"}),(0,u.__metadata)("design:paramtypes",[t.Injector,t.ChangeDetectorRef,Window])],$c);let wr=class k3{constructor(e){this._materialIconsRegistrator=e,this._registerIcons()}_registerIcons(){const e=[{name:"world-icon",icon:o(55473)},{name:"whatsapp-web-icon",icon:o(55958)},{name:"youtube-web-icon",icon:o(32983)},{name:"android-web-icon",icon:o(37729)},{name:"apple-web-icon",icon:o(11590)},{name:"channel-telegram-web-icon",icon:o(95857)},{name:"chat-bubble-web-icon",icon:o(87521)},{name:"chat-feed-web-icon",icon:o(53139)},{name:"facebook-web-icon",icon:o(28276)},{name:"google-drive-web-icon",icon:o(69562)},{name:"google-meet-web-icon",icon:o(72569)},{name:"google-web-icon",icon:o(38591)},{name:"instagram-web-icon",icon:o(56106)},{name:"linkedin-web-icon",icon:o(3494)},{name:"link-web-icon",icon:o(31324)},{name:"messenger-web-icon",icon:o(1705)},{name:"microsoft-sharepoint-web-icon",icon:o(66052)},{name:"microsoft-teams-web-icon",icon:o(40809)},{name:"microsoft-web-icon",icon:o(10934)},{name:"picture-web-icon",icon:o(2748)},{name:"portal-chat-web-icon",icon:o(99081)},{name:"skype-web-icon",icon:o(45728)},{name:"team-web-icon",icon:o(70353)},{name:"twitter-web-icon",icon:o(53825)},{name:"viber-web-icon",icon:o(3100)},{name:"zoom-icon",icon:o(77700)},{name:"salesloft-icon",icon:o(37566)}];this._materialIconsRegistrator.addIcons(e)}static{this.\u0275fac=function(n){return new(n||k3)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:k3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,_t.MatIconModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,fe.q,Je.V,_e.S,Rn.N,f.TranslateModule,Vn.d]})}};wr=(0,u.__decorate)([(0,ie.g)({viewElements:[$c]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],wr),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(wr,{declarations:[$c],imports:[_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,_t.MatIconModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,Le.C,fe.q,Je.V,_e.S,Rn.N,f.TranslateModule,Vn.d],exports:[$c]})}();class Go{getLink(e){return(0,y.isEmpty)(e)?"":(e=e.trim(),`mailto:${e}`)}static{this.\u0275fac=function(n){return new(n||Go)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Go,factory:Go.\u0275fac})}}const z7=["*"],U7=r=>({"crt-input-required":r});function H7(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-base-input-width-holder",7),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("label",n.label)("minWidth",180)}}function W7(r,e){r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader")}function G7(r,e){r&1&&(t.\u0275\u0275element(0,"mat-icon",20),t.\u0275\u0275pipe(1,"translate")),r&2&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"Input.Readonly"))}function $7(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",21),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"crt-icon-tooltip",22),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.errorMessages),t.\u0275\u0275advance(),t.\u0275\u0275property("tooltip",n.errors)("ariaLabel",n.label)}}function K7(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-icon-tooltip",24),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("tooltip",n.tooltip)("ariaLabel",n.label)}}function Z7(r,e){if(r&1&&t.\u0275\u0275template(0,K7,1,2,"crt-icon-tooltip",23),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",n.tooltip)}}function Q7(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",25),t.\u0275\u0275projection(1),t.\u0275\u0275elementEnd())}function Y7(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",8)(1,"label",9),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(3,"mat-form-field",10)(4,"div",11)(5,"button",12),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.addEmail(i))}),t.\u0275\u0275element(7,"mat-icon",13),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",14)(9,"input",15,1),t.\u0275\u0275listener("blur",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onBlur())})("keyup",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onKeyUp(i))})("keydown",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onKeyDown(i))})("focus",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.enableEditMode())}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(11,"div",16)(12,"a",17),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.stopEventPropagation(i))}),t.\u0275\u0275text(13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(14,G7,2,3,"mat-icon",18)(15,$7,4,3,"ng-container",6)(16,Z7,1,1,"ng-template",null,2,t.\u0275\u0275templateRefExtractor)(18,Q7,2,0,"div",19),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275reference(17),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(27,U7,a.isShownRequiredMark))("for",a.inputId),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a.label),t.\u0275\u0275advance(),t.\u0275\u0275classProp("crt-input-control-container--invalid",a.invalid),t.\u0275\u0275property("appearance",a.appearance)("ngClass","label-position-"+a.displayLabelPosition),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(6,25,"EmailInput.AddEmailHint")),t.\u0275\u0275property("ngClass",a.getClasses()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",a.isEdit?a.getClasses():"crt-input-control-element-hidden"),t.\u0275\u0275advance(),t.\u0275\u0275property("id",a.inputId)("formControl",a.control)("value",a.control==null?null:a.control.value)("readonly",a.readonly)("placeholder",a.placeholder)("crtAriaRequired",a.required)("autocomplete",a.off),t.\u0275\u0275attribute("aria-label",a.ariaLabel||a.label),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",a.isEdit?"crt-input-control-element-hidden":a.getClasses()),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("href",a.getLink(),t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",a.control==null?null:a.control.value," "),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.readonly),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.invalid)("ngIfElse",n),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!a.readonly&&a.tools)}}let Kc=class R3 extends ar.j{get isEdit(){return this._isEdit}constructor(e,n,a,i){super(e,n),this.changeDetectorRef=n,this._window=a,this._emailInputService=i,this._translateService=this.injector.get(f.TranslateService),this._validationFn=this._createEmailPatternValidatorFn.bind(this),this.isFormatValidated=!0}_createEmailPatternValidatorFn(e){return O.Validators.pattern(E.GX)(e)!==null?this._createValidatorErrorsMessage("InvalidEmail","Validators.Email.Message"):null}_createValidatorErrorsMessage(e,n){return{[e]:{message:this._translateService.instant(`${n}`)}}}_setValidators(){this.isFormatValidated&&!this.control.hasValidator(this._validationFn)&&this.control.addValidators(this._validationFn)}addEmail(e){const n=this.getLink();n&&(this.stopEventPropagation(e),this._window.open(n,"_self"))}getLink(){return this._emailInputService.getLink(this.control?.value)}enableEditMode(){this._isEdit=!0,this.changeDetectorRef.detectChanges(),this.control.updateValueAndValidity()}disableEditMode(){this._isEdit=!1,this.changeDetectorRef.detectChanges(),this.control.updateValueAndValidity()}stopEventPropagation(e){e.stopPropagation()}ngOnChanges(){this._setValidators()}static{this.\u0275fac=function(n){return new(n||R3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(E.ZP),t.\u0275\u0275directiveInject(Go))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:R3,selectors:[["crt-email-input"]],inputs:{isFormatValidated:"isFormatValidated"},features:[t.\u0275\u0275ProvidersFeature([Oi.I]),t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature],ngContentSelectors:z7,decls:6,vars:5,consts:[["input",""],["textinput",""],["tooltipIcon",""],[3,"label","minWidth",4,"ngIf"],[1,"crt-base-input-container"],["crtResizable","",1,"crt-input",3,"resized","focusout","ngClass","crtResizableDisabled"],[4,"ngIf","ngIfElse"],[3,"label","minWidth"],[1,"crt-input-label-container"],["data-qa","email-field-label","crtTextOverflowTitle","",1,"crt-input-label",3,"ngClass","for"],["floatLabel","never",1,"crt-input-control-container",3,"appearance","ngClass"],[1,"crt-input-control"],["alt","add email","mat-icon-button","","data-qa","add-email-field-button",1,"crt-input-control-add-email-button",3,"click","title","ngClass"],["svgIcon","email-icon"],[1,"crt-input-control-email-text",3,"ngClass"],["matInput","","data-qa","email-field-input",3,"blur","keyup","keydown","focus","id","formControl","value","readonly","placeholder","crtAriaRequired","autocomplete"],[1,"crt-input-control-email-link",3,"ngClass"],["target","_blank","data-qa","email-link-field-href",1,"crt-input-control-email-link-href",3,"click","href"],["data-qa","email-field-lock-tooltip","matSuffix","","svgIcon","lock","class","readonly-icon crt-input-icon",3,"title",4,"ngIf"],["class","inner-tools-panel","data-qa","email-input-tools",4,"ngIf"],["data-qa","email-field-lock-tooltip","matSuffix","","svgIcon","lock",1,"readonly-icon","crt-input-icon",3,"title"],[1,"cdk-visually-hidden"],["data-qa","email-field-error-tooltip","type","error",3,"tooltip","ariaLabel"],["data-qa","email-field-info-tooltip",3,"tooltip","ariaLabel",4,"ngIf"],["data-qa","email-field-info-tooltip",3,"tooltip","ariaLabel"],["data-qa","email-input-tools",1,"inner-tools-panel"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,H7,1,2,"crt-base-input-width-holder",3),t.\u0275\u0275elementStart(1,"div",4)(2,"div",5),t.\u0275\u0275listener("resized",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onResized(b))})("focusout",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.disableEditMode())}),t.\u0275\u0275template(3,W7,1,0,"crt-skeleton-loader",6)(4,Y7,19,29,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(n&2){const i=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngIf",a.displayLabelPosition==="auto"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass","label-position-"+a.displayLabelPosition+" appearance-"+a.appearance+" "+a.getClasses())("crtResizableDisabled",!a.isAutoLabelPosition||a.containerQueryMechanismAvailable),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loaderVisible)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgIf,O.DefaultValueAccessor,O.NgControlStatus,q.MatLegacyFormField,q.MatLegacySuffix,lt.MatLegacyInput,_t.MatIcon,O.FormControlDirective,Le.C,yn.W,Rd.k,Hc.b,Mr.q,ai.y,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{max-width:100%}.crt-base-edit-input-responsible[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{container-type:inline-size}@container (width <= 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}}@container (width > 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{width:0;min-width:0;margin:0}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{height:0;color:transparent}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]   .inner-tools-panel[_ngcontent-%COMP%]{opacity:1;display:inline-flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]:not(:hover)   .readonly-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;padding-inline-end:2px}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   textarea.mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;align-items:center;padding-inline-end:2px}","body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{pointer-events:auto!important}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]     .mat-form-field-empty.mat-form-field-label{padding-inline-start:25px;width:calc(100% - 88px)}[_nghost-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{padding-inline-start:26px;box-sizing:border-box}[_nghost-%COMP%]   .crt-input-control-element-hidden[_ngcontent-%COMP%]{width:0!important;overflow:hidden}[_nghost-%COMP%]   .crt-input-control-add-email-button[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-14px);border:none;background-color:inherit;height:24px;padding:2px 0;cursor:pointer}[_nghost-%COMP%]   .crt-input-control-add-email-button[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}[dir=rtl]   [_nghost-%COMP%]   .crt-input-control-add-email-button[_ngcontent-%COMP%]{left:auto;right:0}[_nghost-%COMP%]   .crt-input-control-add-email-button.crt-data-table-edit-email-cell[_ngcontent-%COMP%]{padding-bottom:4px}[_nghost-%COMP%]   .crt-input-control-email-link[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input-control-email-text[_ngcontent-%COMP%]{width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}[_nghost-%COMP%]   .crt-input-control-email-link-href[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input-control-email-text-href[_ngcontent-%COMP%]{color:var(--crt-palette-link-500);text-decoration:none;cursor:pointer}[_nghost-%COMP%]   .crt-input-control-email-link-href[_ngcontent-%COMP%]:focus-visible, [_nghost-%COMP%]   .crt-input-control-email-text-href[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}[_nghost-%COMP%]   .crt-input-control-email-link.crt-data-table-edit-email-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input-control-email-text.crt-data-table-edit-email-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input-control-add-email-button.crt-data-table-edit-email-cell[_ngcontent-%COMP%]{padding-inline-start:7px}[_nghost-%COMP%]   .crt-input.crt-data-table-edit-email-cell[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]   .crt-input.crt-data-table-edit-email-cell[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:none}[dir=rtl][_nghost-%COMP%]   .crt-input-control-add-email-button[_ngcontent-%COMP%]{left:auto;right:0}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Kc.prototype,"isFormatValidated",void 0),Kc=(0,u.__decorate)([(0,Qt.v)({type:"crt.EmailInput",formControlConfig:{relatesTo:"control"},contentSlots:["tools"],reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{groupType:Gs.h.Inputs,position:43,icon:o(73635),defaultPropertyValues:{label:"",control:"",labelPosition:"auto",placeholder:"",tooltip:"",needHandleSave:!1},defaultLocalizableStrings:{caption:"DataValueType.EmailTextCaption",label:"DataValueType.EmailTextCaption"}},dataValueTypes:[X.r.EMAIL_TEXT],propertiesPanelComponentTypeName:"crt.PhoneTextPropertiesPanel",viewElementGroupType:pn.J.Inputs,typeCaption:"DataValueType.EmailTextShortenedCaption"}),(0,u.__metadata)("design:paramtypes",[t.Injector,t.ChangeDetectorRef,Window,Go])],Kc);let Er=class N3{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"email-icon",icon:o(2013)}])}static{this.\u0275fac=function(n){return new(n||N3)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:N3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[Go],imports:[_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,_t.MatIconModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,fe.q,Je.V,_e.S,Rn.N,f.TranslateModule,Vn.d]})}};Er=(0,u.__decorate)([(0,ie.g)({viewElements:[Kc]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],Er),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Er,{declarations:[Kc],imports:[_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,_t.MatIconModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,Le.C,fe.q,Je.V,_e.S,Rn.N,f.TranslateModule,Vn.d],exports:[Kc]})}();var Fd=o(59445),jd=o(92011),Bd=o(63193),Cy=o(90824),si;(function(r){r.Date="date",r.DateTime="datetime",r.Time="time"})(si||(si={}));var Kb=o(73147),Jv=o(42828);const J7=()=>{const r=(0,t.inject)(Kb.Q),e=(0,y.cloneDeep)(Jv.MAT_MOMENT_DATE_FORMATS);if(r){const n=new RegExp((0,y.escapeRegExp)(r.dateSeparator),"g");e.parse.dateInput=r.shortDatePattern.replace(n,""),e.display.dateInput=r.shortDatePattern}return e},X7=()=>{const r=(0,t.inject)(Kb.Q)?.shortTimePattern,e=J7(),n=(0,y.cloneDeep)(Cy.MAT_MOMENT_DATETIME_FORMATS);return r&&(n.parse.datetimeInput=`${e.parse.dateInput} ${r}`,n.parse.dateInput=e.parse.dateInput,n.parse.timeInput=r,n.display.datetimeInput=`${e.display.dateInput} ${r}`,n.display.dateInput=e.display.dateInput,n.display.timeInput=r),n};var q7=o(30046),cm=o.n(q7);class lm extends Jv.MomentDateAdapter{constructor(){super(...arguments),this._dateTimeFormatToken=(0,t.inject)(Kb.Q),this._userInfo=(0,t.inject)(Ze.oq)}getFirstDayOfWeek(){return this._dateTimeFormatToken?.firstDayOfWeek??0}today(){return super.today().utcOffset(this._userInfo.timeZoneOffsetHours??cm()().utcOffset())}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(lm)))(a||lm)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:lm,factory:lm.\u0275fac,providedIn:"root"})}}class Zc{constructor(){this.validationErrors=new m.Subject}static{this.\u0275fac=function(n){return new(n||Zc)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Zc,factory:Zc.\u0275fac})}}class j_{constructor(e){this._inputElementRef=e,this.openByIconClick=new t.EventEmitter,this._togglePicker=()=>{this.crtCyclicOpeningDatetimePicker.opened?this.crtCyclicOpeningDatetimePicker.close():(this.crtCyclicOpeningDatetimePicker.open(),this.openByIconClick.emit())},this._toggleByKeyDown=n=>{this._isToggleKeyboardEvent(n)&&(n.cancelBubble=!0,this._togglePicker())}}_isToggleKeyboardEvent(e){return e.key===Ht.Key.Enter||e.code==="Space"}ngAfterViewInit(){this._inputElementRef.nativeElement.addEventListener("click",this._togglePicker),this._inputElementRef.nativeElement.addEventListener("keydown",this._toggleByKeyDown)}static{this.\u0275fac=function(n){return new(n||j_)(t.\u0275\u0275directiveInject(t.ElementRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:j_,selectors:[["","crtCyclicOpeningDatetimePicker",""]],inputs:{crtCyclicOpeningDatetimePicker:"crtCyclicOpeningDatetimePicker"},outputs:{openByIconClick:"openByIconClick"}})}}class B_{constructor(e,n){this._inputElementRef=e,this._matDatetimepickerInput=n,this._parseDatetime=a=>{a.key.toLocaleLowerCase()===this.crtParseDatetimeKey.toLocaleLowerCase()&&this._matDatetimepickerInput._onBlur()}}ngAfterViewInit(){this._inputElementRef.nativeElement.addEventListener("keydown",this._parseDatetime)}static{this.\u0275fac=function(n){return new(n||B_)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(Bd.MatDatetimepickerInputDirective))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:B_,selectors:[["","crtParseDatetimeKey",""]],inputs:{crtParseDatetimeKey:"crtParseDatetimeKey"}})}}const tI=["dateTimeInput"],eI=["datetimePicker"];function nI(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",10),t.\u0275\u0275listener("openByIconClick",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onOpenByIconClick())})("blur",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onBlurIcon(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(10);t.\u0275\u0275property("svgIcon",n.pickerIconCode)("title",n.pickerIconTitle)("ngClass","calendar-expander crt-input-icon "+(a.opened?"opened":"closed"))("crtCyclicOpeningDatetimePicker",a),t.\u0275\u0275attribute("aria-label",n.pickerIconTitle)("aria-hidden",!1)}}function aI(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",11),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("blur",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onBlurIcon(i))}),t.\u0275\u0275elementEnd()}r&2&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"DateTimePicker.Readonly"))}function iI(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",12),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"crt-icon-tooltip",13),t.\u0275\u0275listener("focusout",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onBlurIcon(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.errorMessages),t.\u0275\u0275advance(),t.\u0275\u0275property("tooltip",n.errors)("ariaLabel",n.ariaLabel)}}function rI(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-icon-tooltip",15),t.\u0275\u0275listener("blur",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onBlurIcon(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("tooltip",n.tooltip)("ariaLabel",n.ariaLabel)}}function oI(r,e){if(r&1&&t.\u0275\u0275template(0,rI,1,2,"crt-icon-tooltip",14),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",n.tooltip)}}class Qc extends k_{get crtPickerInputClassName(){return`crt-picker-container-${this.id}`}set parentControl(e){this._valueChangesSubscription?.unsubscribe(),this._setLastValidValue(e.value),this.control=new O.FormControl(null),super.parentControl=e,this._subscribeOnValueChange()}get pickerIconCode(){switch(this.type){case si.Date:return"date";case si.Time:return"time";case si.DateTime:return"date-time"}}get pickerIconTitle(){return this._pickerIconTitles.find(e=>e.type===this.type)?.title||""}constructor(e,n,a,i){super(new O.FormControl(null),i),this._translateService=e,this._validationService=n,this._changeDetector=a,this.injector=i,this._destroyed$=new m.Subject,this._validationErrorDebounceTime=250,this._previousErrors=null,this._lastValidValue=null,this._changeValueDebounceTime=100,this._pickerWillBeOpen=!1,this._pickerIconTitles=[{type:si.DateTime,title:this._translateService.instant("DateTimePicker.DateTimePickerIconTitle")},{type:si.Date,title:this._translateService.instant("DateTimePicker.DatePickerIconTitle")},{type:si.Time,title:this._translateService.instant("DateTimePicker.TimePickerIconTitle")}],this._emitChangesWithDebounce=(0,y.debounce)(s=>this.changed.emit(s),this._changeValueDebounceTime),this._changeControlValueWithDebounce=(0,y.debounce)(s=>this._changeControlValueIfNeed(s),0),this._emitValidationErrorServiceDebounce=(0,y.debounce)(s=>this._emitValidationErrorService(s),this._validationErrorDebounceTime),this.allowToLoadIcons=!1,this.id="",this.ariaLabel="",this.readonly=!1,this.isRequired=!1,this.type=si.DateTime,this.multiYearSelector=!0,this.twelvehour=!1,this.startView="month",this.mode="auto",this.timeInterval=1,this.preventSameDateTimeSelection=!1,this.appearance="legacy",this.changed=new t.EventEmitter,this.isMobile=E.cn.isMobile}_changeControlValueIfNeed(e){this._isEqualControlValueDate(e)||(this.control.setValue(e,{emitEvent:!0}),this._isControlHasParseError(this.control.errors)||this._setLastValidValue(e))}_setLastValidValue(e){this._lastValidValue=e instanceof Date?cm()(e):null}_subscribeOnValueChange(){this._valueChangesSubscription=new m.Subscription,this._valueChangesSubscription.add(this.control.valueChanges.pipe((0,h.filter)(e=>e===null||e._isAMomentObject)).subscribe({next:e=>{this._onTouched();const n=e?.toDate()??null;this._onChange(n),this._isControlHasParseError(this.control.errors)||(this._emitChangesWithDebounce(n),e&&(this._lastValidValue=e))}})),this._valueChangesSubscription.add((0,m.merge)((0,m.of)(this.control.value),this.control.valueChanges).pipe((0,h.pairwise)()).subscribe({next:([e,n])=>{!e&&n&&this._changeDetector.detectChanges()}}))}_isControlHasParseError(e){return e&&"matDatepickerParse"in e}_isNotPickersChildRelatedTarget(e){const n=e.relatedTarget?.parentElement.classList;return!(n?.contains(this.crtPickerInputClassName)||n?.contains("mat-datetimepicker-content"))}_resetControlOnBlurEvent(e){this._isControlHasParseError(this.control.errors)&&this._isNotPickersChildRelatedTarget(e)&&this.control.reset(this._lastValidValue),this._isControlHasParseError(this.control.errors)||(this._lastValidValue=this.control.value)}_emitValidationErrorServiceIfChanged(){const e=this._prepareDateTimePickerErrors(this.control.errors);(0,y.isEqual)(this._previousErrors,e)||(this._previousErrors=e,this._emitValidationErrorServiceDebounce(e))}_prepareDateTimePickerErrors(e){return this._isControlHasParseError(e)&&(e.matDatepickerParse={...e.matDatepickerParse,message:this._translateService.instant(`Validators.${(0,y.capitalize)(this.type)}PickerSyntax.Message`)}),e}_emitValidationErrorService(e){this._validationService.validationErrors.next({errors:e})}_isEqualControlValueDate(e){return this.control.value===e?!0:cm()(this.control.value)?.toDate()?.getTime()===e?.getTime()}getErrorMessages(e){return super.getErrorMessages(this._prepareDateTimePickerErrors(e))}handleWindowScroll(){this.isMobile||this._dateTimePicker.close()}ngAfterViewInit(){setTimeout(()=>{this.allowToLoadIcons=!0,this.detectChanges()}),this.autofocus&&this.focus()}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){requestAnimationFrame(()=>{if(this.control.enabled&&e){this.control.disable();return}this.control.disabled&&!e&&this.control.enable()})}writeValue(e){typeof e=="object"&&this._changeControlValueWithDebounce(e)}focus(){this._dateTimeInput.nativeElement?.focus(),this.detectChanges()}onClosePicker(){this.focus()}onOpenPicker(){this.control.markAsUntouched(),this.detectChanges()}onBlurInput(e){(this._pickerWillBeOpen||this._dateTimePicker.opened)&&(this.control.markAsUntouched(),this._pickerWillBeOpen=!1),this._resetControlOnBlurEvent(e)}onBlurIcon(e){this._resetControlOnBlurEvent(e)}onOpenByIconClick(){this._pickerWillBeOpen=!0}onOpenPickerByKeyboard(e){e.key===Ht.Key.ArrowDown&&(e.preventDefault(),e.stopPropagation(),this._pickerWillBeOpen=!0,this._dateTimePicker.open())}ngDoCheck(){this._emitValidationErrorServiceIfChanged()}validate(e){const n=super.validate(e);return this.ngDoCheck(),this.syncTouchedState(),this.detectChanges(),n}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}onKeyDown(e){e.key===Ht.Key.Escape&&this._dateTimePicker.close()}detectChanges(){this._changeDetector.detectChanges()}static{this.\u0275fac=function(n){return new(n||Qc)(t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(Zc),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Qc,selectors:[["crt-picker"]],viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(tI,5),t.\u0275\u0275viewQuery(eI,5,Bd.MatDatetimepickerComponent)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a._dateTimeInput=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a._dateTimePicker=i.first)}},hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("scroll",function(s){return a.handleWindowScroll(s)},!1,t.\u0275\u0275resolveWindow)("keydown",function(s){return a.onKeyDown(s)})},inputs:{id:"id",ariaLabel:"ariaLabel",autofocus:"autofocus",placeholder:"placeholder",tooltip:"tooltip",readonly:"readonly",isRequired:"isRequired",type:"type",multiYearSelector:"multiYearSelector",twelvehour:"twelvehour",startView:"startView",mode:"mode",timeInterval:"timeInterval",preventSameDateTimeSelection:"preventSameDateTimeSelection",appearance:"appearance",parentControl:"parentControl"},outputs:{changed:"changed"},features:[t.\u0275\u0275ProvidersFeature([{provide:O.NG_VALUE_ACCESSOR,useExisting:(0,t.forwardRef)(()=>Qc),multi:!0},Qv(Qc)]),t.\u0275\u0275InheritDefinitionFeature],decls:15,vars:38,consts:[["dateTimeInput",""],["tooltipIcon",""],["datetimePicker",""],["floatLabel","never",1,"crt-picker-input-control-container","crt-input-control-container",3,"appearance"],[1,"crt-picker-input-control","crt-input-control"],["matInput","",3,"keydown","blur","id","readonly","formControl","placeholder","matDatetimepicker","crtAriaRequired","crtParseDatetimeKey"],["tabindex","0","matSuffix","","role","button","aria-hidden","false","aria-haspopup","dialog","role","button",3,"svgIcon","title","ngClass","crtCyclicOpeningDatetimePicker","openByIconClick","blur",4,"ngIf"],["matSuffix","","svgIcon","lock","class","readonly-icon crt-input-icon",3,"title","blur",4,"ngIf"],[4,"ngIf","ngIfElse"],["openOnFocus","false",3,"closed","opened","timeInterval","startView","type","disabled","multiYearSelector","twelvehour","mode","touchUi","preventSameDateTimeSelection","ariaNextMonthLabel","ariaPrevMonthLabel","ariaNextYearLabel","ariaPrevYearLabel"],["tabindex","0","matSuffix","","role","button","aria-hidden","false","aria-haspopup","dialog","role","button",3,"openByIconClick","blur","svgIcon","title","ngClass","crtCyclicOpeningDatetimePicker"],["matSuffix","","svgIcon","lock",1,"readonly-icon","crt-input-icon",3,"blur","title"],[1,"cdk-visually-hidden"],["type","error",3,"focusout","tooltip","ariaLabel"],[3,"tooltip","ariaLabel","blur",4,"ngIf"],[3,"blur","tooltip","ariaLabel"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-form-field",3)(1,"div",4)(2,"input",5,0),t.\u0275\u0275listener("keydown",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onOpenPickerByKeyboard(b))})("blur",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onBlurInput(b))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,nI,1,6,"mat-icon",6)(5,aI,2,3,"mat-icon",7)(6,iI,4,3,"ng-container",8)(7,oI,1,1,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"mat-datetimepicker",9,2),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275listener("closed",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onClosePicker())})("opened",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onOpenPicker())}),t.\u0275\u0275elementEnd()}if(n&2){const i=t.\u0275\u0275reference(8),s=t.\u0275\u0275reference(10);t.\u0275\u0275classProp("crt-input-control-container--invalid",a.invalid),t.\u0275\u0275property("appearance",a.appearance),t.\u0275\u0275advance(),t.\u0275\u0275classMap(a.crtPickerInputClassName),t.\u0275\u0275advance(),t.\u0275\u0275property("id",a.id)("readonly",a.readonly)("formControl",a.control)("placeholder",a.placeholder)("matDatetimepicker",s)("crtAriaRequired",a.isRequired)("crtParseDatetimeKey","enter"),t.\u0275\u0275attribute("aria-label",a.ariaLabel),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.allowToLoadIcons&&!a.readonly&&!a.control.disabled),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.allowToLoadIcons&&a.readonly),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.invalid)("ngIfElse",i),t.\u0275\u0275advance(3),t.\u0275\u0275property("timeInterval",a.timeInterval)("startView",a.startView)("type",a.type)("disabled",a.readonly)("multiYearSelector",a.multiYearSelector)("twelvehour",a.twelvehour)("mode",a.mode)("touchUi",a.isMobile)("preventSameDateTimeSelection",a.preventSameDateTimeSelection)("ariaNextMonthLabel",t.\u0275\u0275pipeBind1(11,30,"DateTimePicker.AriaNextMonthLabel"))("ariaPrevMonthLabel",t.\u0275\u0275pipeBind1(12,32,"DateTimePicker.AriaPrevMonthLabel"))("ariaNextYearLabel",t.\u0275\u0275pipeBind1(13,34,"DateTimePicker.AriaNextYearLabel"))("ariaPrevYearLabel",t.\u0275\u0275pipeBind1(14,36,"DateTimePicker.AriaPrevYearLabel"))}},dependencies:[_.NgClass,_.NgIf,O.DefaultValueAccessor,O.NgControlStatus,q.MatLegacyFormField,q.MatLegacySuffix,lt.MatLegacyInput,O.FormControlDirective,Bd.MatDatetimepickerComponent,Bd.MatDatetimepickerInputDirective,_t.MatIcon,Rd.k,Hc.b,j_,B_,f.TranslatePipe],styles:[`.crt-picker-input-control-container .crt-picker-input-control{display:flex;align-items:center;padding-inline-end:2px}.crt-picker-input-control-container .crt-picker-input-control .calendar-expander{cursor:pointer}.crt-picker-input-control-container .crt-picker-input-control .calendar-expander.closed{opacity:0}.crt-picker-input-control-container .crt-picker-input-control:focus-within .calendar-expander,.crt-picker-input-control-container .crt-picker-input-control:hover .calendar-expander{opacity:1}.crt-picker-input-control-container .crt-picker-input-control:not(:hover) .readonly-icon{display:none}.mat-datetimepicker-content .mat-datetimepicker-calendar .mat-datetimepicker-calendar-header .mat-datetimepicker-calendar-header-year mat-icon{visibility:hidden}.mat-datetimepicker-content .mat-datetimepicker-calendar .mat-datetimepicker-calendar-content{line-height:18px}.mat-datetimepicker-content .mat-datetimepicker-calendar .mat-datetimepicker-calendar-content .mat-datetimepicker-calendar-table .mat-datetimepicker-calendar-body-active .mat-datetimepicker-calendar-body-cell-content{border-width:1px;border-style:solid}[dir=rtl] .mat-datetimepicker-content .mat-datetimepicker-calendar .mat-datetimepicker-calendar-content .mat-datetimepicker-calendar-controls{flex-direction:row-reverse}
`],encapsulation:2,changeDetection:0})}}const sI=r=>({"crt-input-required":r});function cI(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-base-input-width-holder",4),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("label",n.label)("minWidth",180)}}function lI(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",5),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function dI(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",6),t.\u0275\u0275listener("resized",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onResized(i))}),t.\u0275\u0275elementStart(1,"div",7)(2,"label",8),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"crt-picker",9),t.\u0275\u0275listener("changed",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onChanged(i))}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass","label-position-"+n.displayLabelPosition)("crtResizableDisabled",!n.isAutoLabelPosition||n.containerQueryMechanismAvailable),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(22,sI,n.required))("for",n.inputId),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.label),t.\u0275\u0275advance(),t.\u0275\u0275property("id",n.inputId)("formControl",n.control)("parentControl",n.control)("type",n.pickerType)("multiYearSelector",n.multiYearSelector)("twelvehour",n.useTwelveHourFormat)("startView",n.startView)("mode",n.mode)("timeInterval",n.timeInterval)("preventSameDateTimeSelection",n.preventSameDateTimeSelection)("readonly",n.readonly)("isRequired",n.required)("ariaLabel",n.ariaLabel||n.label)("placeholder",n.placeholder)("appearance",n.appearance)("autofocus",n.autofocus)("tooltip",n.tooltip)}}let Wa=class V3 extends Sd.g{set useTwelveHourFormat(e){this._useTwelveHourFormat=e}get useTwelveHourFormat(){return this._dateTimeFormatToken?.shortTimePattern?.includes("h")??this._useTwelveHourFormat}set value(e){typeof e=="string"&&this.control?.setValue(e)}constructor(e,n,a,i){super(e,null,n),this._validationService=a,this._dateTimeFormatToken=i,this._useTwelveHourFormat=!1,this.pickerType=si.DateTime,this.multiYearSelector=!0,this.startView="month",this.mode="auto",this.timeInterval=1,this.preventSameDateTimeSelection=!1,this.readonly=!1}ngOnInit(){this._validationService.validationErrors.subscribe({next:e=>{const n={...this.control?.errors,...e.errors};this.control?.setErrors((0,y.isEmpty)(n)?null:n,{emitEvent:!1})}})}onChanged(e){this.control?.setValue(e)}static{this.\u0275fac=function(n){return new(n||V3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(Zc),t.\u0275\u0275directiveInject(Kb.Q))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:V3,selectors:[["crt-datetimepicker"]],hostVars:1,hostBindings:function(n,a){n&2&&t.\u0275\u0275attribute("readonly",a.readonly)},inputs:{pickerType:"pickerType",multiYearSelector:"multiYearSelector",useTwelveHourFormat:"useTwelveHourFormat",startView:"startView",mode:"mode",timeInterval:"timeInterval",preventSameDateTimeSelection:"preventSameDateTimeSelection",autofocus:"autofocus",value:"value",readonly:"readonly"},features:[t.\u0275\u0275ProvidersFeature([Oi.I,Zc,{provide:Fd.MAT_DATE_LOCALE,useFactory:Je.L,deps:[Ze.oq]},{provide:Bd.MAT_DATETIME_FORMATS,useFactory:X7},{provide:Fd.DateAdapter,useClass:lm}]),t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:3,consts:[["input",""],[3,"label","minWidth",4,"ngIf"],[1,"crt-base-input-container"],[3,"styles",4,"ngIf","ngIfElse"],[3,"label","minWidth"],[3,"styles"],["crtResizable","",1,"crt-input",3,"resized","ngClass","crtResizableDisabled"],[1,"crt-input-label-container"],["crtTextOverflowTitle","",1,"crt-input-label",3,"ngClass","for"],[3,"changed","id","formControl","parentControl","type","multiYearSelector","twelvehour","startView","mode","timeInterval","preventSameDateTimeSelection","readonly","isRequired","ariaLabel","placeholder","appearance","autofocus","tooltip"]],template:function(n,a){if(n&1&&(t.\u0275\u0275template(0,cI,1,2,"crt-base-input-width-holder",1),t.\u0275\u0275elementStart(1,"div",2),t.\u0275\u0275template(2,lI,1,1,"crt-skeleton-loader",3)(3,dI,5,24,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),n&2){const i=t.\u0275\u0275reference(4);t.\u0275\u0275property("ngIf",a.displayLabelPosition==="auto"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.loaderVisible)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgIf,O.NgControlStatus,O.FormControlDirective,Le.C,yn.W,Mr.q,ai.y,Qc],styles:["crt-placeholder[_ngcontent-%COMP%]{--crt-placeholder-background-color: var(--crt-palette-primary-contrast-500);--crt-placeholder-title-color: var(--crt-palette-foreground-500);--crt-placeholder-icon-color: var(--crt-palette-secondary-500);--crt-placeholder-subhead-color: var(--crt-palette-label-500)}crt-button[_ngcontent-%COMP%]{--crt-button-default-color: transparent;--crt-button-default-hover-color: var(--crt-palette-interaction-400);--crt-button-default-pressed-color: var(--crt-palette-interaction-900);--crt-button-default-disabled-color: transparent;--crt-button-default-contrast-color: var(--crt-palette-secondary-500);--crt-button-default-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-primary-color: var(--crt-palette-primary-500);--crt-button-primary-hover-color: var(--crt-palette-primary-800);--crt-button-primary-pressed-color: var(--crt-palette-primary-900);--crt-button-primary-disabled-color: var(--crt-palette-disabled-50);--crt-button-primary-contrast-color: var(--crt-palette-primary-contrast-500);--crt-button-primary-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-accent-color: var(--crt-palette-success-500);--crt-button-accent-hover-color: var(--crt-palette-success-800);--crt-button-accent-pressed-color: var(--crt-palette-success-900);--crt-button-accent-disabled-color: var(--crt-palette-disabled-50);--crt-button-accent-contrast-color: var(--crt-palette-success-contrast-500);--crt-button-accent-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-warning-color: var(--crt-palette-error-500);--crt-button-warning-hover-color: var(--crt-palette-error-800);--crt-button-warning-pressed-color: var(--crt-palette-error-900);--crt-button-warning-disabled-color: var(--crt-palette-disabled-50);--crt-button-warning-contrast-color: var(--crt-palette-error-contrast-500);--crt-button-warning-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-outline-color: var(--crt-palette-interaction-200);--crt-button-outline-hover-color: var(--crt-palette-interaction-400);--crt-button-outline-pressed-color: var(--crt-palette-interaction-900);--crt-button-outline-disabled-color: var(--crt-palette-disabled-50);--crt-button-outline-contrast-color: var(--crt-palette-secondary-500);--crt-button-outline-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-outline-border-color: var(--crt-palette-secondary-100);--crt-button-outline-hover-border-color: var(--crt-palette-secondary-100);--crt-button-outline-pressed-border-color: var(--crt-palette-secondary-100);--crt-button-outline-disabled-border-color: var(--crt-palette-disabled-100);--crt-button-outline-divider-color: var(--crt-palette-secondary-100)}crt-button[_ngcontent-%COMP%]   .crt-button--text[_ngcontent-%COMP%]{--crt-button-default-color: var(--crt-palette-secondary-500);--crt-button-default-hover-color: var(--crt-palette-secondary-A400);--crt-button-default-pressed-color: var(--crt-palette-secondary-A700);--crt-button-default-contrast-color: var(--crt-palette-secondary-500)}crt-checkbox[_ngcontent-%COMP%]{--crt-checkbox-background-color: var(--crt-palette-primary-500);--crt-checkbox-background-hover-color: var(--crt-palette-primary-900);--crt-checkbox-background-contrast-color: var(--crt-palette-primary-contrast-500);--crt-checkbox-background-disabled-color: var(--crt-palette-disabled-200);--crt-checkbox-background-disabled-hover-color: var(--crt-palette-disabled-500);--crt-checkbox-border-unchecked-color: var(--crt-palette-label-500);--crt-checkbox-border-unchecked-disabled-color: var(--crt-palette-disabled-200);--crt-checkbox-foreground-color: var(--crt-palette-label-500)}crt-autocomplete[_ngcontent-%COMP%]{--crt-autocomplete-opened-color: var(--crt-palette-secondary-A700);--crt-autocomplete-closed-color: var(--crt-palette-secondary-500);--crt-autocomplete-selection-window-color: var(--crt-palette-secondary-500);--crt-autocomplete-selection-window-focused-color: var(--crt-palette-secondary-A700)}.crt-base-edit-input[_ngcontent-%COMP%]{--crt-base-input-label-color: var(--crt-palette-label-500);--crt-base-input-foreground-color: var(--crt-palette-foreground-500);--crt-base-input-disabled-color: var(--crt-palette-disabled-500);--crt-base-input-readonly-color: var(--crt-palette-label-500);--crt-base-input-invalid-color: var(--crt-palette-error-500);--crt-base-input-tooltip-icon-color: var(--crt-palette-secondary-500);--crt-base-input-border-color: var(--crt-palette-border-500);--crt-base-input-border-focus-color: var(--crt-palette-primary-500)}body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-data-table[_ngcontent-%COMP%]{--crt-data-table-icon-color: var(--crt-palette-secondary-500);--crt-data-table-icon-hover-color: var(--crt-palette-secondary-A400);--crt-data-table-icon-active-color: var(--crt-palette-secondary-A700);--crt-data-table-invalid-color: var(--crt-palette-error-500);--crt-data-table-disabled-color: var(--crt-palette-label-500);--crt-data-table-background-color: var(--crt-palette-background-500);--crt-data-table-header-foreground-color: var(--crt-palette-label-500);--crt-data-table-drag-preview-background-color: var(--crt-palette-interaction-50);--crt-data-table-drag-placeholder-background-color: var(--crt-palette-interaction-500);--crt-data-table-cell-border-color: var(--crt-palette-border-500);--crt-data-table-cell-border-selected-color: var(--crt-palette-primary-500);--crt-data-table-cell-border-editing-color: var(--crt-palette-primary-500);--crt-data-table-cell-foreground-color: var(--crt-palette-foreground-500);--crt-data-table-cell-edited-icon-color: var(--crt-palette-foreground-100);--crt-data-table-row-background-active-color: var(--crt-palette-interaction-400);--crt-data-table-row-background-selected-color: var(--crt-palette-interaction-900);--crt-data-table-no-data-foreground-color: var(--crt-palette-label-500);--crt-data-table-numeration-foreground-color: var(--crt-palette-label-500)}.crt-dialog[_ngcontent-%COMP%]{--crt-dialog-border-radius: 0;--crt-dialog-title-foreground-color: var(--crt-palette-primary-500)}crt-expansion-panel-header[_ngcontent-%COMP%]{--crt-expansion-panel-header-title-color: var(--crt-palette-navigation-secondary-500);--crt-expansion-panel-header-expanded-toggle-icon-color: var(--crt-palette-navigation-primary-contrast-500);--crt-expansion-panel-header-expanded-toggle-icon-background-color: var(--crt-palette-navigation-primary-500);--crt-expansion-panel-header-expanded-toggle-icon-background-hover-color: var(--crt-palette-navigation-primary-900);--crt-expansion-panel-header-collapsed-toggle-icon-color: var(--crt-palette-disabled-contrast-500);--crt-expansion-panel-header-collapsed-toggle-icon-background-color: var(--crt-palette-disabled-200);--crt-expansion-panel-header-collapsed-toggle-icon-background-hover-color: var(--crt-palette-disabled-500)}crt-link[_ngcontent-%COMP%]{--crt-link-color: var(--crt-palette-link-500);--crt-link-hover-color: var(--crt-palette-link-800)}[dir=rtl][_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .crt-menu.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]   .menu-items-container[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-submenu-trigger.mat-menu-trigger[_ngcontent-%COMP%]   crt-menu-item[dir=rtl][_ngcontent-%COMP%]   .crt-menu-item[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .crt-menu.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]   .menu-items-container[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-submenu-trigger.mat-menu-trigger[_ngcontent-%COMP%]   crt-menu-item[dir=rtl][_ngcontent-%COMP%]   .crt-menu-clickable-item[_ngcontent-%COMP%]{padding:8px 40px 8px 24px}crt-navigation-panel[_ngcontent-%COMP%]{--navigation-panel-scrollbar-thumb-color: rgba(255, 255, 255, .5);--navigation-panel-scrollbar-track-color: rgba(255, 255, 255, .1)}crt-navigation-panel[_ngcontent-%COMP%]   crt-placeholder[_ngcontent-%COMP%]{--crt-placeholder-title-color: var(--crt-palette-background-A100);--crt-placeholder-icon-color: var(--crt-palette-background-A100);--crt-placeholder-subhead-color: var(--crt-palette-background-A100);--crt-placeholder-background-color: var(--crt-glass-color-dark-300)}body[screen-size-type=small][left-panel-collapsed=false][_ngcontent-%COMP%]   crt-navigation-panel[_ngcontent-%COMP%]   .navigation-groups-wrapper[_ngcontent-%COMP%]   crt-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .crt-button-inner-container[_ngcontent-%COMP%]   .btn-reversible-content[_ngcontent-%COMP%]{max-width:calc(100% - 24px)}[_nghost-%COMP%]   crt-picker[_ngcontent-%COMP%]{min-width:0;width:100%;display:flex;flex-direction:column;justify-content:flex-end;align-self:baseline}[_nghost-%COMP%]{max-width:100%}.crt-base-edit-input-responsible[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{container-type:inline-size}@container (width <= 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}}@container (width > 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{width:0;min-width:0;margin:0}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{height:0;color:transparent}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]   .inner-tools-panel[_ngcontent-%COMP%]{opacity:1;display:inline-flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]:not(:hover)   .readonly-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;padding-inline-end:2px}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   textarea.mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;align-items:center;padding-inline-end:2px}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Wa.prototype,"pickerType",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Wa.prototype,"multiYearSelector",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Wa.prototype,"useTwelveHourFormat",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Wa.prototype,"startView",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Wa.prototype,"mode",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Wa.prototype,"timeInterval",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Wa.prototype,"preventSameDateTimeSelection",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],Wa.prototype,"autofocus",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Wa.prototype,"value",null),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1,propertyName:et.R.Readonly}),(0,u.__metadata)("design:type",Object)],Wa.prototype,"readonly",void 0),Wa=(0,u.__decorate)([(0,Qt.v)({type:"crt.DateTimePicker",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:40,icon:o(3522),defaultPropertyValues:{label:"",placeholder:"",readonly:!1,labelPosition:"auto",tooltip:""},defaultLocalizableStrings:{label:"Components.DateTimePicker.Caption"}},dataValueTypes:[X.r.Date,X.r.Time,X.r.DateTime],propertiesPanelComponentTypeName:"crt.InputPropertiesPanelComponent",viewElementGroupType:pn.J.Inputs,typeCaption:"Components.DateTimePicker.Caption"}),(0,u.__metadata)("design:paramtypes",[t.Injector,t.ChangeDetectorRef,Zc,Object])],Wa);let zd=class F3{static{this.\u0275fac=function(n){return new(n||F3)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:F3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[Fd.MatCommonModule,_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,jd.MatDatepickerModule,Cy.MatMomentDatetimeModule,Bd.MatDatetimepickerModule,_t.MatIconModule,fe.q,Je.V,_e.S,Rn.N,f.TranslateModule,Vn.d]})}};zd=(0,u.__decorate)([(0,ie.g)({viewElements:[Wa]})],zd),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(zd,{declarations:[Qc,Wa,j_,B_],imports:[Fd.MatCommonModule,_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,jd.MatDatepickerModule,Cy.MatMomentDatetimeModule,Bd.MatDatetimepickerModule,Le.C,_t.MatIconModule,fe.q,Je.V,_e.S,Rn.N,f.TranslateModule,Vn.d],exports:[Qc,Wa]})}();class pI extends $u{constructor(e,n){super(e,kn.Column,n)}accept(e){return this.checkVisitorAndVisitFormulaItem(e,n=>n.visitColumnOperand(this))}}class uI extends Gu{constructor(e,n){super(e,Ue.Function,n)}accept(e){return this.checkVisitorAndVisitFormulaItem(e,n=>n.visitFunctionFormulaItem(this))}}class mI extends $u{constructor(e,n){super(e,kn.SysSetting,n)}accept(e){return this.checkVisitorAndVisitFormulaItem(e,n=>n.visitSysSettingOperand(this))}}class gI extends $u{constructor(e,n){super(e,kn.SysVariable,n)}accept(e){return this.checkVisitorAndVisitFormulaItem(e,n=>n.visitSysVariableOperand(this))}}class z_ extends Gu{constructor(e,n,a){super(e,Ue.Operator,a),this.operatorType=n}}class hI extends z_{constructor(e,n,a){super(e,Ye.Arithmetic,a),this.arithmeticOperatorType=n}accept(e){return this.checkVisitorAndVisitFormulaItem(e,n=>n.visitArithmeticOperator(this))}}class _I extends z_{constructor(e,n){super(e,Ye.Comma,n)}accept(e){return this.checkVisitorAndVisitFormulaItem(e,n=>n.visitCommaOperator(this))}}class fI extends z_{constructor(e,n,a){super(e,Ye.Parentheses,a),this.parenthesesType=n}accept(e){return this.checkVisitorAndVisitFormulaItem(e,n=>n.visitParenthesesOperator(this))}}class bI extends z_{constructor(e,n){super(e,Ye.Point,n)}accept(e){return this.checkVisitorAndVisitFormulaItem(e,n=>n.visitPointOperator(this))}}class CI extends z_{constructor(e,n,a){super(e,Ye.Relation,a),this.relationOperationType=n}accept(e){return this.checkVisitorAndVisitFormulaItem(e,n=>n.visitRelationOperator(this))}}class Yc extends Ro{_checkDefinitionIsDefined(e){Ii.z.checkArgumentEmpty("definition",e)}_createColumnOperand(e){return this._checkDefinitionIsDefined(e),new pI(e.id,e.caption)}visitFunctionDefinition(e){return this._checkDefinitionIsDefined(e),new uI(e.id,e.caption)}visitAggregationSubQueryOperandDefinition(e){return this._createColumnOperand(e)}visitColumnOperandDefinition(e){return this._createColumnOperand(e)}visitSubQueryOperandDefinition(e){return this._createColumnOperand(e)}visitSysSettingOperandDefinition(e){return this._checkDefinitionIsDefined(e),new mI(e.id,e.caption)}visitSysVariableOperandDefinition(e){return this._checkDefinitionIsDefined(e),new gI(e.id,e.caption)}visitArithmeticOperatorDefinition(e){return this._checkDefinitionIsDefined(e),new hI(e.id,e.arithmeticOperatorType,e.caption)}visitCommaOperatorDefinition(e){return this._checkDefinitionIsDefined(e),new _I(e.id,e.caption)}visitParenthesesOperatorDefinition(e){return this._checkDefinitionIsDefined(e),new fI(e.id,e.parenthesesType,e.caption)}visitPointOperatorDefinition(e){return this._checkDefinitionIsDefined(e),new bI(e.id,e.caption)}visitRelationOperatorDefinition(e){return this._checkDefinitionIsDefined(e),new CI(e.id,e.relationOperationType,e.caption)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Yc)))(a||Yc)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Yc,factory:Yc.\u0275fac,providedIn:"root"})}}var ia;(function(r){r.Opening="(",r.Closing=")"})(ia||(ia={}));class yy extends Vs{constructor(e,n){super(Ye.Parentheses,n||e),this.parenthesesType=e}get id(){return this.parenthesesType}accept(e){return this.checkVisitorAndVisitDefinition(e,n=>n.visitParenthesesOperatorDefinition(this))}}class dm{constructor(e,n){this._formulaItemDefinitionProvider=e,this._formulaDefinitionToItemConverter=n}get _formulaItemDefinitions(){return this._formulaItemDefinitionProvider.getDefinitions()}_getFormulaItemDefinition(e){return this._formulaItemDefinitions.find(n=>n.id===e)}_createFormulaOperandItems(e){return[this._createFormulaItemFromDefinition(e.definitionId)]}_createPointOperator(){const e=this._formulaItemDefinitions.find(n=>n instanceof Md);if(e)return e.accept(this._formulaDefinitionToItemConverter);throw new Error("Point definition not found. Need provide it.")}_createCommaOperator(){const e=this._formulaItemDefinitions.find(n=>n instanceof Ku);if(e)return e.accept(this._formulaDefinitionToItemConverter);throw new Error("Comma definition not found. Need provide it.")}_createParenthesesOperator(e){const n=this._formulaItemDefinitions.filter(a=>a instanceof yy).find(a=>a.parenthesesType===e);return this._createFormulaItemFromDefinition(n.id)}_createFormulaItemFromDefinition(e){const n=this._getFormulaItemDefinition(e);if(!n)throw new Error(`Definition with id '${e}' not found.`);return n.accept(this._formulaDefinitionToItemConverter)}visitFunctionExpression(e){const n=this._createCommaOperator(),a=this._createParenthesesOperator(ia.Opening),i=this._createParenthesesOperator(ia.Closing),{fnArgs:s,fnDefinitionId:b}=Wu(e),D=this._createFormulaItemFromDefinition(b),W=s.map(Pt=>Pt.accept(this)),ot=W.length-1,It=W.map((Pt,te)=>te===ot?Pt:Pt.concat(n)).reduce((Pt,te)=>Pt.concat(te),[]);return[D,a,...It,i]}visitAggregationSubQueryOperandExpression(e){return this._createFormulaOperandItems(e)}visitColumnOperandExpression(e){return this._createFormulaOperandItems(e)}visitConstOperandExpression(e){return e.definitionId?this._createFormulaOperandItems(e):String(e.value).split("").map(i=>i==="."?this._createPointOperator():new vr(Number(i)))}visitSubQueryOperandExpression(e){return this._createFormulaOperandItems(e)}visitSysSettingOperandExpression(e){return this._createFormulaOperandItems(e)}visitSysVariableOperandExpression(e){return this._createFormulaOperandItems(e)}visitArithmeticOperatorExpression(e){const n=e.leftExpression.accept(this),a=e.rightExpression.accept(this),i=this._createFormulaItemFromDefinition(e.definitionId);return[...n,i,...a]}visitParenthesesOperatorExpression(e){const n=this._createParenthesesOperator(ia.Opening),a=this._createParenthesesOperator(ia.Closing),i=e.expression.accept(this);return[n,...i,a]}visitRelationOperatorExpression(e){const n=e.leftExpression.accept(this),a=e.rightExpression.accept(this),i=this._createFormulaItemFromDefinition(e.definitionId);return[...n,i,...a]}visitTernaryOperatorExpression(e){throw new Error("Method not implemented.")}static{this.\u0275fac=function(n){return new(n||dm)(t.\u0275\u0275inject(Wt),t.\u0275\u0275inject(Ro))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:dm,factory:dm.\u0275fac})}}const Xv=new t.InjectionToken("Represents a string pattern of the translation key for validation error");class Ud{constructor(e,n){this.translateService=e,this.errorTranslationKeyPattern=n}getLocalizableErrorMessage(e){const n=jt.String.Format(this.errorTranslationKeyPattern,(0,y.upperFirst)(e.code)),a=this.translateService.instant(n),i=e.interpolateParams||[];return jt.String.Format(a,...i)}translateErrorMessage(e){e.message=this.getLocalizableErrorMessage(e)}static{this.\u0275fac=function(n){return new(n||Ud)(t.\u0275\u0275inject(f.TranslateService),t.\u0275\u0275inject(Xv))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ud,factory:Ud.\u0275fac,providedIn:"root"})}}class Zb{}const qv=new t.InjectionToken("Represents a collection of validators");class U_ extends Zb{constructor(e){super(),this._validators=e}validate(e){const a=this._validators.map(i=>i.validate(e)).map(i=>i.errors).reduce((i,s)=>i.concat(s),[]);return new S(a)}static{this.\u0275fac=function(n){return new(n||U_)(t.\u0275\u0275inject(qv))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:U_,factory:U_.\u0275fac})}}class pm extends U_{constructor(e,n){super(e),this._validationErrorTranslateService=n}validate(e){const n=super.validate(e);return n.errors.forEach(a=>{this._validationErrorTranslateService.translateErrorMessage(a)}),n}static{this.\u0275fac=function(n){return new(n||pm)(t.\u0275\u0275inject(qv),t.\u0275\u0275inject(Ud))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:pm,factory:pm.\u0275fac})}}class Vi{constructor(e){this.expressionFactoryMediator=e}getDataType(e){return this.getObjectField(e,"dataType")}getDefinitionId(e){return this.getObjectField(e,"definitionId")}getExpression(e,n,a){const i=this.getObjectField(e,n);return this.expressionFactoryMediator.createExpression(a||"expression",i)}getObjectField(e,n){return e[n]}getEnumValue(e,n){if(n==null||n==="")return null;const a=+n;if(!isNaN(a))return a;const i=Object.entries(e).find(([s])=>s.toLocaleLowerCase()===n.toString().toLocaleLowerCase()&&Object.prototype.hasOwnProperty.call(e,s));return i?i[1]:null}getEnumValueByObject(e,n,a){const i=this.getObjectField(n,a);return this.getEnumValue(e,i)}}class yI extends Vi{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(Ue,e,"type")){case Ue.Function:return this.expressionFactoryMediator.createExpression("functionExpression",e);case Ue.Operand:return this.expressionFactoryMediator.createExpression("operandExpression",e);case Ue.Operator:return this.expressionFactoryMediator.createExpression("operatorExpression",e);default:{const a=this.getObjectField(e,"type");throw new Error(`The '${a}' expression type is not supported.`)}}}}class t5 extends Os{constructor(e,n,a){super(Ue.Function,n),this.code=e,this.arguments=a}get definitionId(){return this.code}accept(e){return e&&e.visitFunctionExpression(this)}}class vI extends Vi{constructor(e){super(e)}createExpression(e){const n=this.getObjectField(e,"code"),a=this.getDataType(e),s=this.getObjectField(e,"arguments").map(b=>this.expressionFactoryMediator.createExpression("expression",b));return new t5(n,a,s)}}class MI extends Vi{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(kn,e,"operandType")){case kn.Column:return this.expressionFactoryMediator.createExpression("columnOperandExpression",e);case kn.Const:return this.expressionFactoryMediator.createExpression("constantOperandExpression",e);case kn.SysSetting:return this.expressionFactoryMediator.createExpression("sysSettingOperandExpression",e);case kn.SysVariable:return this.expressionFactoryMediator.createExpression("sysVariableOperandExpression",e);default:{const a=this.getObjectField(e,"operandType");throw new Error(`The '${a}' operand type is not supported.`)}}}}class II extends Vi{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(ua,e,"columnOperandType")){case ua.Aggregation:return this.expressionFactoryMediator.createExpression("aggregationSubQueryOperandExpression",e);case ua.SubQuery:return this.expressionFactoryMediator.createExpression("subQueryOperandExpression",e);case ua.SchemaColumn:default:return this.expressionFactoryMediator.createExpression("schemaColumnOperandExpression",e)}}}var xI=o(38772);function e5(r){return typeof r=="string"}function SI(r){const e=r.substring(1,r.length-1);return parseInt(e,10)}function Fi(r,e){return r.replace(/{[0-9]}/g,n=>{const a=SI(n);return e[a]?e[a].toString():""})}function Zz(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Qz(r){return r.charAt(0).toLowerCase()+r.slice(1)}function n5(r){let e=0;if(!e5(r)||r.length===0)return e;for(let n=0;n<r.length;n++)e=r.charCodeAt(n)+(e<<5)-e,e|=0;return e}function wI(r){return n5(JSON.stringify(r))}function Yz(r){return wI(r).toString(16)}function a5(r){const e=Ds(r),n=n5(r?.subFilters);return`${e}_${n}`}class vy extends fd{constructor(e,n,a){super(e,n),this.subFilters=a,this.columnOperandType=ua.SubQuery}get definitionId(){return a5(this)}accept(e){return e&&e.visitSubQueryOperandExpression(this)}}function EI(r){return`${a5(r)}_${r?.aggregationType}`}class i5 extends vy{constructor(e,n,a,i){super(e,n,i),this.aggregationType=a,this.columnOperandType=ua.Aggregation}get definitionId(){return EI(this)}accept(e){return e&&e.visitAggregationSubQueryOperandExpression(this)}}class TI extends Vi{constructor(e){super(e)}createExpression(e){const n=this.getDataType(e),a=this.getObjectField(e,"columnPath"),i=this.getObjectField(e,"subFilters"),s=this.getEnumValueByObject(xI.C,e,"aggregationType");return new i5(a,n,s,i)}}class PI extends Vi{constructor(e){super(e)}createExpression(e){const n=this.getObjectField(e,"columnPath"),a=this.getDataType(e);return new fd(n,a)}}class OI extends Vi{constructor(e){super(e)}createExpression(e){const n=this.getDataType(e),a=this.getObjectField(e,"columnPath"),i=this.getObjectField(e,"subFilters");return new vy(a,n,i)}}class DI extends Vi{constructor(e){super(e)}createExpression(e){const n=this.getObjectField(e,"value"),a=this.getDataType(e);return new Cd(n,a)}}class AI extends Tc{constructor(e,n){super(kn.SysSetting,n),this.code=e}get definitionId(){return this.code}accept(e){return e&&e.visitSysSettingOperandExpression(this)}}class LI extends Vi{constructor(e){super(e)}createExpression(e){const n=this.getObjectField(e,"code"),a=this.getDataType(e);return new AI(n,a)}}class kI extends Tc{constructor(e,n){super(kn.SysVariable,n),this.name=e}get definitionId(){return this.name}accept(e){return e&&e.visitSysVariableOperandExpression(this)}}class RI extends Vi{constructor(e){super(e)}createExpression(e){const n=this.getObjectField(e,"name"),a=this.getDataType(e);return new kI(n,a)}}class NI extends Vi{constructor(e){super(e)}createExpression(e){switch(this.getEnumValueByObject(Ye,e,"operatorType")){case Ye.Arithmetic:return this.expressionFactoryMediator.createExpression("arithmeticOperatorExpression",e);case Ye.Parentheses:return this.expressionFactoryMediator.createExpression("parenthesesOperatorExpression",e);case Ye.Relation:return this.expressionFactoryMediator.createExpression("relationOperatorExpression",e);case Ye.Ternary:return this.expressionFactoryMediator.createExpression("ternaryOperatorExpression",e);default:{const a=this.getObjectField(e,"operatorType");throw new Error(`The '${a}' operator type is not supported.`)}}}}class r5 extends Vi{constructor(e){super(e)}getLeftExpression(e){return this.getExpression(e,"leftExpression")}getRightExpression(e){return this.getExpression(e,"rightExpression")}}var ci;(function(r){r[r.Addition=0]="Addition",r[r.Subtraction=1]="Subtraction",r[r.Multiplication=2]="Multiplication",r[r.Division=3]="Division"})(ci||(ci={}));const VI=r=>{switch(r){case"*":return ci.Multiplication;case"/":return ci.Division;case"+":return ci.Addition;case"-":return ci.Subtraction;default:throw new Error(`arithmetic operator: ${r} not supporting`)}},My=r=>{switch(r){case ci.Addition:return"+";case ci.Subtraction:return"-";case ci.Multiplication:return"*";case ci.Division:return"/";default:throw new Error("Unsupported arithmetic operator type")}};class Iy extends Os{constructor(e,n){super(Ue.Operator,n),this.operatorType=e}}class o5 extends Iy{constructor(e,n,a,i){super(e,n),this.leftExpression=a,this.rightExpression=i}}class FI{static{this._supportedDataTypesPriority={[X.r.Integer]:0,[X.r.FLOAT1]:1,[X.r.Float]:2,[X.r.FLOAT2]:3,[X.r.Money]:4,[X.r.FLOAT3]:5,[X.r.FLOAT4]:6,[X.r.FLOAT8]:7}}static _isSupportedResultDataType(e,n){if(e==null||n==null)return!1;const a=this._supportedDataTypesPriority[e]!=null,i=this._supportedDataTypesPriority[n]!=null;return a&&i}static _getSupportedResultDataType(e,n){const a=this._supportedDataTypesPriority[e],i=this._supportedDataTypesPriority[n];return a>=i?e:n}static getResultDataType(e,n){const a=e?.dataType,i=n?.dataType;return this._isSupportedResultDataType(a,i)?this._getSupportedResultDataType(a,i):null}}class s5 extends o5{constructor(e,n,a){super(Ye.Arithmetic,FI.getResultDataType(n,a),n,a),this.arithmeticOperatorType=e}get definitionId(){return My(this.arithmeticOperatorType)}accept(e){return e&&e.visitArithmeticOperatorExpression(this)}}class jI extends r5{constructor(e){super(e)}createExpression(e){const n=this.getEnumValueByObject(ci,e,"arithmeticOperatorType"),a=this.getLeftExpression(e),i=this.getRightExpression(e);return new s5(n,a,i)}}class BI extends Vi{constructor(e){super(e)}getInnerExpression(e){return this.getExpression(e,"expression")}}class zI extends Iy{constructor(e,n){super(e,n?.dataType),this.expression=n}}class c5 extends zI{constructor(e){super(Ye.Parentheses,e)}get definitionId(){}accept(e){return e&&e.visitParenthesesOperatorExpression(this)}}class UI extends BI{constructor(e){super(e)}createExpression(e){const n=this.getInnerExpression(e);return new c5(n)}}var $s;(function(r){r[r.Equal=0]="Equal",r[r.NotEqual=1]="NotEqual",r[r.Less=2]="Less",r[r.LessOrEqual=3]="LessOrEqual",r[r.Greater=4]="Greater",r[r.GreaterOrEqual=5]="GreaterOrEqual"})($s||($s={}));const HI=r=>{switch(r){case $s.Equal:return"==";case $s.NotEqual:return"!=";case $s.Greater:return">";case $s.GreaterOrEqual:return">=";case $s.Less:return"<";case $s.LessOrEqual:return"<=";default:throw new Error("Unsupported relation operator type")}};class WI extends o5{constructor(e,n,a){super(Ye.Relation,X.r.Boolean,n,a),this.relationOperatorType=e}get definitionId(){return HI(this.relationOperatorType)}accept(e){return e&&e.visitRelationOperatorExpression(this)}}class GI extends r5{constructor(e){super(e)}createExpression(e){const n=this.getEnumValueByObject($s,e,"relationOperatorType"),a=this.getLeftExpression(e),i=this.getRightExpression(e);return new WI(n,a,i)}}class $I extends Iy{constructor(e,n,a){super(Ye.Ternary,n.dataType),this.condition=e,this.thenExpression=n,this.elseExpression=a}get definitionId(){return"ternary"}accept(e){return e&&e.visitTernaryOperatorExpression(this)}}class KI extends Vi{constructor(e){super(e)}createExpression(e){const n=this.getExpression(e,"condition","relationOperatorExpression"),a=this.getExpression(e,"thenExpression"),i=this.getExpression(e,"elseExpression");return new $I(n,a,i)}}class H_ extends zt{constructor(){super(),this._factories=new Map}registerFactory(e,n){this._factories.set(e,n)}createExpression(e,n){if(this._factories.has(e))return this._factories.get(e).createExpression(n);throw new Error(`Factory for the '${e}' expression is not registered.`)}static{this.\u0275fac=function(n){return new(n||H_)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:H_,factory:H_.\u0275fac,providedIn:"root"})}}class Hd{static{this.\u0275fac=function(n){return new(n||Hd)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Hd})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:zt,useFactory:()=>{const e=new H_;return e.registerFactory("expression",new yI(e)),e.registerFactory("functionExpression",new vI(e)),e.registerFactory("operandExpression",new MI(e)),e.registerFactory("columnOperandExpression",new II(e)),e.registerFactory("aggregationSubQueryOperandExpression",new TI(e)),e.registerFactory("schemaColumnOperandExpression",new PI(e)),e.registerFactory("subQueryOperandExpression",new OI(e)),e.registerFactory("constantOperandExpression",new DI(e)),e.registerFactory("sysSettingOperandExpression",new LI(e)),e.registerFactory("sysSettingOperandExpression",new RI(e)),e.registerFactory("operatorExpression",new NI(e)),e.registerFactory("arithmeticOperatorExpression",new jI(e)),e.registerFactory("parenthesesOperatorExpression",new UI(e)),e.registerFactory("relationOperatorExpression",new GI(e)),e.registerFactory("ternaryOperatorExpression",new KI(e)),e}}]})}}class xy{setNext(e){return this.next=e}transform(e){const n=this.internalTransform(e);return this.next?this.next.transform(n):n}}class ZI extends xy{constructor(e,n){super(),this._pointOperantorParser=e,this._constantOperandParser=n}_isNumberOrPoint(e){return this._isPointOperator(e)||e.accept(this._constantOperandParser).success}_isPointOperator(e){const{success:n}=e.accept(this._pointOperantorParser);return n}_createNumericConstant(e){const n=e.map(a=>a.caption).join("");return new vr(n)}internalTransform(e){const n=[];let a=[];if(e.forEach(i=>{if(this._isNumberOrPoint(i))a.push(i);else{if(a.length>0){const s=this._createNumericConstant(a);n.push(s),a=[]}n.push(i)}}),a.length>0){const i=this._createNumericConstant(a);n.push(i)}return n}}class Tr extends ao{visitFunctionFormulaItem(e){return{success:!1}}visitConstantOperand(e){return{success:!1}}visitColumnOperand(e){return{success:!1}}visitSysSettingOperand(e){return{success:!1}}visitSysVariableOperand(e){return{success:!1}}visitArithmeticOperator(e){return{success:!1}}visitCommaOperator(e){return{success:!1}}visitParenthesesOperator(e){return{success:!1}}visitPointOperator(e){return{success:!1}}visitRelationOperator(e){return{success:!1}}}class $o extends Tr{visitPointOperator(e){return{success:!0,formulaItem:e}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory($o)))(a||$o)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:$o,factory:$o.\u0275fac})}}class Jc extends Tr{visitConstantOperand(e){return{success:!0,formulaItem:e}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Jc)))(a||Jc)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Jc,factory:Jc.\u0275fac})}}class Ks extends Jc{constructor(){super(...arguments),this._numberDataTypes=[X.r.Integer,X.r.Float,X.r.Money,X.r.FLOAT1,X.r.FLOAT2,X.r.FLOAT3,X.r.FLOAT4,X.r.FLOAT8]}visitConstantOperand(e){return this._numberDataTypes.includes(e.dataType)?{success:!0,formulaItem:e}:{success:!1}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Ks)))(a||Ks)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ks,factory:Ks.\u0275fac})}}class W_ extends Ro{constructor(e,n){super(),this._formulaDefinitionToItemConversionVisitor=e,this._formulaItemDefinitionProvider=n}_getFormulaItem(e){return this._formulaItemDefinitionProvider.findWhere(e).accept(this._formulaDefinitionToItemConversionVisitor)}_visitDefinition(e){return[e.accept(this._formulaDefinitionToItemConversionVisitor)]}visitFunctionDefinition(e){const n=[this._formulaDefinitionToItemConversionVisitor.visitFunctionDefinition(e)],a=this._getFormulaItem({parenthesesType:ia.Opening});n.push(a);const i=e.parameterDefinitions.length-1;for(let b=0;b<i;b++){const D=this._getFormulaItem({operatorType:Ye.Comma});n.push(D)}const s=this._getFormulaItem({parenthesesType:ia.Closing});return n.push(s),n}visitAggregationSubQueryOperandDefinition(e){return this._visitDefinition(e)}visitColumnOperandDefinition(e){return this._visitDefinition(e)}visitSubQueryOperandDefinition(e){return this._visitDefinition(e)}visitSysSettingOperandDefinition(e){return this._visitDefinition(e)}visitSysVariableOperandDefinition(e){return this._visitDefinition(e)}visitArithmeticOperatorDefinition(e){return this._visitDefinition(e)}visitCommaOperatorDefinition(e){return this._visitDefinition(e)}visitParenthesesOperatorDefinition(e){return this._visitDefinition(e)}visitPointOperatorDefinition(e){return this._visitDefinition(e)}visitRelationOperatorDefinition(e){return this._visitDefinition(e)}static{this.\u0275fac=function(n){return new(n||W_)(t.\u0275\u0275inject(Yc),t.\u0275\u0275inject(Wt))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:W_,factory:W_.\u0275fac,providedIn:"root"})}}class Zs{constructor(e,n,a){this.code=e,this.itemIndex=n,this.item=a}get invalidItemIndex(){return(this.itemIndex||0)+1}get invalidItemCaption(){return this.item?.caption||""}get interpolateParams(){return[this.invalidItemIndex,this.invalidItemCaption]}}class QI extends Zs{constructor(e,n,a,i){super("unsupportedBinaryOperandDataType",e,n),this.leftOperandDataType=a,this.rightOperandDataType=i,this.message=`Position: ${this.itemIndex}. Unsupported operator '${this.invalidItemCaption}' between operand types '${this._leftOperandDataTypeName}' and '${this._rightOperandDataTypeName}'.`}get _leftOperandDataTypeName(){return X.r[this.leftOperandDataType]}get _rightOperandDataTypeName(){return X.r[this.rightOperandDataType]}get interpolateParams(){return[this.invalidItemIndex,this.invalidItemCaption,this._leftOperandDataTypeName,this._rightOperandDataTypeName]}}class l5 extends Zb{get formulaItems(){return this._formulaItems||[]}get currentItem(){return this.formulaItems[this.currentItemIndex]}get currentItemIndex(){return this._currentItemIndex??0}set currentItemIndex(e){this._currentItemIndex=e}constructor(e){super(),this._expressionToFormulaConverter=e}_validateExpression(e){return e?e.accept(this):S.createSuccess()}validateFunctionExpression(e){return S.createSuccess()}validateFunctionArgumentExpression(e,n,a){return this._validateExpression(n)}validateAggregationSubQueryOperandExpression(e){return S.createSuccess()}validateColumnOperandExpression(e){return S.createSuccess()}validateConstOperandExpression(e){return S.createSuccess()}validateSubQueryOperandExpression(e){return S.createSuccess()}validateArithmeticOperatorExpression(e){return S.createSuccess()}visitFunctionExpression(e){const n=this.validateFunctionExpression(e);this.currentItemIndex++,this.currentItemIndex++;const{fnArgs:a}=Wu(e),i=a.length,s=a.map((b,D)=>{const W=this.validateFunctionArgumentExpression(e,b,D);return D<i-1&&this.currentItemIndex++,W});return this.currentItemIndex++,S.unionResults(n,...s)}visitAggregationSubQueryOperandExpression(e){const n=this.validateAggregationSubQueryOperandExpression(e);return this.currentItemIndex++,n}visitColumnOperandExpression(e){const n=this.validateColumnOperandExpression(e);return this.currentItemIndex++,n}visitConstOperandExpression(e){const n=this.validateConstOperandExpression(e);return this.currentItemIndex+=String(e.value).length,n}visitSubQueryOperandExpression(e){const n=this.validateSubQueryOperandExpression(e);return this.currentItemIndex++,n}visitSysSettingOperandExpression(e){throw new Error("Method not implemented.")}visitSysVariableOperandExpression(e){throw new Error("Method not implemented.")}visitArithmeticOperatorExpression(e){const n=this._validateExpression(e.leftExpression),a=this.validateArithmeticOperatorExpression(e);this.currentItemIndex++;const i=this._validateExpression(e.rightExpression);return S.unionResults(n,a,i)}visitParenthesesOperatorExpression(e){this.currentItemIndex++;const n=this._validateExpression(e.expression);return this.currentItemIndex++,n}visitRelationOperatorExpression(e){throw new Error("Method not implemented.")}visitTernaryOperatorExpression(e){throw new Error("Method not implemented.")}validate(e){return e?(this._formulaItems=this._expressionToFormulaConverter.toFormula(e)?.formulaItems,this._currentItemIndex=0,e.accept(this)):S.createSuccess()}}class G_ extends l5{constructor(e){super(e)}validateArithmeticOperatorExpression(e){if(e.dataType!=null)return S.createSuccess();const n=e.leftExpression?.dataType,a=e.rightExpression?.dataType;return n==null||a==null?S.createSuccess():S.createError([new QI(this.currentItemIndex,this.currentItem,n,a)])}static{this.\u0275fac=function(n){return new(n||G_)(t.\u0275\u0275inject(un))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:G_,factory:G_.\u0275fac})}}class YI extends Zs{constructor(e,n,a,i){super("invalidFunctionArgumentsCount",e,n),this.actualArgumentsCount=a,this.expectedArgumentsCount=i,this.message=`Position: ${this.itemIndex}. Wrong number of arguments of the '${this.invalidItemCaption}' function. Expected ${this.expectedArgumentsCount} arguments, but got ${this.actualArgumentsCount} arguments.`}get interpolateParams(){return[this.invalidItemIndex,this.invalidItemCaption,this.actualArgumentsCount,this.expectedArgumentsCount]}}class d5 extends l5{constructor(e,n,a){super(e),this._formulaItemDefinitionProvider=n,this._formulaItemDefinitionConverter=a}getFunctionItem(e){return e&&e.accept(this._formulaItemDefinitionConverter)}getFunctionDefinition(e){const{fnDefinitionId:n}=Wu(e);return this._formulaItemDefinitionProvider.findWhere({id:n})}getParameterDefinition(e,n){return(e&&e.parameterDefinitions||[])[n]}validateFunctionExpression(e){const n=this.getFunctionDefinition(e);return n?this.validateFunctionExpressionByDefinition(e,n):S.createSuccess()}validateFunctionArgumentExpression(e,n,a){const i=this.getFunctionDefinition(e),s=i?this.validateFunctionArgumentExpressionByDefinition(n,a,i):S.createSuccess(),b=super.validateFunctionArgumentExpression(e,n,a);return S.unionResults(s,b)}validateFunctionExpressionByDefinition(e,n){return S.createSuccess()}validateFunctionArgumentExpressionByDefinition(e,n,a){return S.createSuccess()}}class $_ extends d5{constructor(e,n,a){super(e,n,a)}validateFunctionExpressionByDefinition(e,n){const{fnArgs:a}=Wu(e),i=a.length,s=n.parameterDefinitions.length;return i===s?S.createSuccess():S.createError([new YI(this.currentItemIndex,this.getFunctionItem(n),i,s)])}static{this.\u0275fac=function(n){return new(n||$_)(t.\u0275\u0275inject(un),t.\u0275\u0275inject(Wt),t.\u0275\u0275inject(Ro))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:$_,factory:$_.\u0275fac})}}class JI extends Zs{constructor(e,n,a,i,s){super("invalidFunctionArgumentDataType",e,n),this.argumentIndex=a,this.actualArgumentDataType=i,this.expectedArgumentDataTypes=s,this.message=`Position: ${this.itemIndex}. Invalid data type for argument ${this.argumentIndex} of the '${this.invalidItemCaption}' function. Expected one of '${this._expectedArgumentDataTypesName}' data types, but got '${this._actualArgumentDataTypeName}' data type.`}get _actualArgumentDataTypeName(){return X.r[this.actualArgumentDataType]}get _expectedArgumentDataTypesName(){return this.expectedArgumentDataTypes.map(e=>X.r[e]).join(", ")}get interpolateParams(){const e=(this.argumentIndex??0)+1;return[this.invalidItemIndex,e,this.invalidItemCaption,this._actualArgumentDataTypeName,this._expectedArgumentDataTypesName]}}class K_ extends d5{constructor(e,n,a){super(e,n,a)}validateFunctionArgumentExpressionByDefinition(e,n,a){const i=this.getParameterDefinition(a,n);if(!i)return S.createSuccess();const s=e.dataType,b=i.dataTypes;return b.includes(s)?S.createSuccess():S.createError([new JI(this.currentItemIndex,this.getFunctionItem(a),n,s,b)])}static{this.\u0275fac=function(n){return new(n||K_)(t.\u0275\u0275inject(un),t.\u0275\u0275inject(Wt),t.\u0275\u0275inject(Ro))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:K_,factory:K_.\u0275fac})}}class p5 extends Zs{constructor(e,n){super(e,n)}}class co extends Zs{constructor(e,n){super("unexpectedItem",e,n),this.message=`Position: ${this.itemIndex}. Unexpected formula item '${this.invalidItemCaption}'.`}}class Qb extends Zb{validate(e){if(!e)return S.createSuccess();try{this.validateFormulaItems(e)}catch(n){return S.createError([n])}return S.createSuccess()}}class u5 extends Qb{constructor(e){super(),this.formulaItemParser=e}get formulaItems(){return this._formulaItems}validateFormulaItems(e){this._formulaItems=e,this._formulaItems.forEach((n,a)=>{const{success:i,formulaItem:s}=n.accept(this.formulaItemParser);i&&this.validateFormulaItemNeighbors(s,a)})}}class Z_ extends u5{constructor(e,n){super(e),this._parenthesesParser=n}isParenthesesOperator(e,n){const{success:a,formulaItem:i}=e.accept(this._parenthesesParser);return a&&i.parenthesesType===n}}class XI extends Z_{constructor(e,n){super(e,n)}validateFormulaItemNeighbors(e,n){const a=n+1,i=this.formulaItems[a];if(!i)throw new p5("missingOpeningParentheses",a);if(!this.isParenthesesOperator(i,ia.Opening))throw new co(a,i)}}class qI{constructor(){this.code="notSupportedOnlyColumn",this.message="Formula expression cannot have one column."}}class tx extends Qb{constructor(e){super(),this._constantOperandParser=e}validateFormulaItems(e){if(e.length!==1)return;const n=e[e.length-1];if(!n)return;const a=n.type===Ue.Operand,{success:i}=n.accept(this._constantOperandParser);if(a&&!i)throw new qI}}class Q_ extends Z_{constructor(e,n,a){super(e,n),this._operatorParser=a}_isSupportedNextOperand(e,n){const{success:a,formulaItem:i}=n.accept(this.formulaItemParser);if(!a)return!1;const s=i.operandType===kn.Const;return e.operandType===kn.Const&&s}_isSupportedNextOperator(e,n){const{success:a,formulaItem:i}=n.accept(this._operatorParser);if(!a||this.isParenthesesOperator(n,ia.Opening))return!1;const b=e.operandType===kn.Const;return!(i.operatorType===Ye.Point)||b}validateFormulaItemNeighbors(e,n){const a=n+1,i=this.formulaItems[a];if(!i)return;const s=!this._isSupportedNextOperand(e,i),b=!this._isSupportedNextOperator(e,i);if(s&&b)throw new co(a,i)}static{this.\u0275fac=function(n){return new(n||Q_)(t.\u0275\u0275inject(Tr),t.\u0275\u0275inject(Tr),t.\u0275\u0275inject(Tr))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Q_,factory:Q_.\u0275fac})}}class Sy extends Qb{constructor(e,n){super(),this._pointOperatorParser=e,this._numericConstantOperandParser=n}isPointOperator(e){const{success:n}=e.accept(this._pointOperatorParser);return n}isNumericConstant(e){const{success:n}=e.accept(this._numericConstantOperandParser);return n}}class ex extends Sy{constructor(e,n){super(e,n)}validateFormulaItems(e){let n=!1,a=!1,i=!1;if(e.forEach((D,W)=>{const ot=this.isPointOperator(D),It=this.isNumericConstant(D);if(ot){if(n||!i)throw new co(W,D);n=!0}else if(It)a=n,i=i||!n;else{if(n&&!a)throw new co(W,D);n=!1,a=!1,i=!1}}),a||!n)return;const s=e.length-1,b=e[s];throw new co(s,b)}}class m5 extends Zs{constructor(e,n,a){super(e,n),this.maxSupportedNumerLength=a,this.message=this.code==="maxNumberLength"?`Position: ${this.itemIndex}. Maximum number length should not exceed ${this.maxSupportedNumerLength} digits.`:`Position: ${this.itemIndex}. Number precision should not exceed ${this.maxSupportedNumerLength} digits.`}get interpolateParams(){return[this.invalidItemIndex,this.maxSupportedNumerLength]}}class nx extends Sy{constructor(e,n,a,i){super(e,n),this.MAX_NUMBER_LENGTH=a,this.MAX_NUMBER_PRECISION_LENGTH=i}_createMaxNumberLenghtError(e){return new m5("maxNumberLength",e,this.MAX_NUMBER_LENGTH)}_createMaxNumberPrecisionLenghtError(e){return new m5("maxNumberPrecisionLength",e,this.MAX_NUMBER_PRECISION_LENGTH)}validateFormulaItems(e){let n=-1,a=!1,i=0,s=0;e.forEach((b,D)=>{if(this.isPointOperator(b)){a=!0;return}if(!this.isNumericConstant(b)){a=!1,i=0,s=0;return}if(i===0&&s===0&&(n=D),a){if(++i>this.MAX_NUMBER_PRECISION_LENGTH)throw this._createMaxNumberPrecisionLenghtError(n)}else if(++s>this.MAX_NUMBER_LENGTH)throw this._createMaxNumberLenghtError(n)})}}class ax extends co{constructor(e,n){super(e,n),this.code="unexpectedDecimalSeparator",this.message=`Position: ${this.invalidItemIndex}. Unexpected formula item '${this.invalidItemCaption}'. The decimal separator is a '.'.`}}var wa;(function(r){r[r.SimpleExpressionWaitsForOperand=0]="SimpleExpressionWaitsForOperand",r[r.FunctionDeclarationWaitsForOpeningParenthesis=1]="FunctionDeclarationWaitsForOpeningParenthesis",r[r.FunctionWaitsForOperand=2]="FunctionWaitsForOperand",r[r.FunctionWaitsForDelimiterOrOperand=3]="FunctionWaitsForDelimiterOrOperand"})(wa||(wa={}));class ix extends Sy{constructor(e,n,a,i,s){super(e,n),this.commaOperatorParser=a,this.functionParser=i,this.parenthesesParser=s}_processFormulaItem(e,{whenFunctionOperandDelimiter:n,whenFunctionDeclaration:a,whenOpeningParenthesis:i,whenClosingParenthesis:s,whenAnotherItem:b}){return this.isCommaOperator(e)?n():this.isFunction(e)?a():this.isParenthesesOperator(e,ia.Opening)?i():this.isParenthesesOperator(e,ia.Closing)?s():b()}_throwError(e){const n=e.previousValue&&this.isNumericConstant(e.previousValue),a=e.nextValue&&this.isNumericConstant(e.nextValue);throw n&&a?new ax(e.currentIndex,e.currentValue):new co(e.currentIndex,e.currentValue)}_processSimpleExpressionWaitsForOperandState(e,n){const a={whenFunctionOperandDelimiter:()=>{this._throwError(e)},whenFunctionDeclaration:()=>(n.push(wa.FunctionDeclarationWaitsForOpeningParenthesis),n),whenOpeningParenthesis:()=>(n.push(wa.SimpleExpressionWaitsForOperand),n),whenClosingParenthesis:()=>(n.length>1&&n.pop(),n),whenAnotherItem:()=>n};return this._processFormulaItem(e.currentValue,a)}_processFunctionDeclarationWaitsForOpeningParenthesisState(e,n){const a={whenFunctionOperandDelimiter:()=>n,whenFunctionDeclaration:()=>n,whenOpeningParenthesis:()=>(n[n.length-1]=wa.FunctionWaitsForDelimiterOrOperand,n),whenClosingParenthesis:()=>(n.pop(),n),whenAnotherItem:()=>(n.pop(),n)};return this._processFormulaItem(e.currentValue,a)}_processFunctionWaitsForOperandState(e,n){const a={whenFunctionOperandDelimiter:()=>{this._throwError(e)},whenFunctionDeclaration:()=>(n[n.length-1]=wa.FunctionWaitsForDelimiterOrOperand,n.push(wa.FunctionDeclarationWaitsForOpeningParenthesis),n),whenOpeningParenthesis:()=>(n[n.length-1]=wa.FunctionWaitsForDelimiterOrOperand,n.push(wa.SimpleExpressionWaitsForOperand),n),whenClosingParenthesis:()=>(n.pop(),n),whenAnotherItem:()=>(n[n.length-1]=wa.FunctionWaitsForDelimiterOrOperand,n)};return this._processFormulaItem(e.currentValue,a)}_processFunctionWaitsForDelimiterOrOperandState(e,n){const a={whenFunctionOperandDelimiter:()=>(n[n.length-1]=wa.FunctionWaitsForOperand,n),whenFunctionDeclaration:()=>(n.push(wa.FunctionDeclarationWaitsForOpeningParenthesis),n),whenOpeningParenthesis:()=>(n.push(wa.SimpleExpressionWaitsForOperand),n),whenClosingParenthesis:()=>(n.pop(),n),whenAnotherItem:()=>n};return this._processFormulaItem(e.currentValue,a)}_processSingleState(e,n){switch(n[n.length-1]){case wa.SimpleExpressionWaitsForOperand:return this._processSimpleExpressionWaitsForOperandState(e,n);case wa.FunctionDeclarationWaitsForOpeningParenthesis:return this._processFunctionDeclarationWaitsForOpeningParenthesisState(e,n);case wa.FunctionWaitsForOperand:return this._processFunctionWaitsForOperandState(e,n);case wa.FunctionWaitsForDelimiterOrOperand:return this._processFunctionWaitsForDelimiterOrOperandState(e,n);default:return null}}isCommaOperator(e){const{success:n}=e.accept(this.commaOperatorParser);return n}isFunction(e){const{success:n}=e.accept(this.functionParser);return n}isParenthesesOperator(e,n){const{success:a,formulaItem:i}=e.accept(this.parenthesesParser);return a&&i.parenthesesType===n}validateFormulaItems(e){const n=[wa.SimpleExpressionWaitsForOperand];e.reduce((a,i,s,b)=>this._processSingleState({currentValue:i,currentIndex:s,previousValue:b[s-1],nextValue:b[s+1]},a),n)}}class g5 extends Zs{constructor(e,n){super("missingOperand",e,n),this.message=`Position: ${this.itemIndex}. Missing operand near '${this.invalidItemCaption}'.`}}class h5 extends Z_{_checkIsOperandsExist(e,n){const a=this.formulaItems[n-1],i=this.formulaItems[n+1];if(!a||!i)throw new g5(n,e)}_validateNextOperand(e){const n=e+1,a=this.formulaItems[n],i=a.type===Ue.Operator,s=!this.isParenthesesOperator(a,ia.Opening);if(i&&s)throw new co(n,a)}validateFormulaItemNeighbors(e,n){this._checkIsOperandsExist(e,n),this._validateNextOperand(n)}}class rx extends Z_{constructor(e,n){super(e,n)}_checkIsOperandsExist(e,n){const a=this.formulaItems[n-1],i=this.formulaItems[n+1];if(!a||!i)throw new g5(n,e)}_validateNextOperand(e){const n=e+1,a=this.formulaItems[n],i=a.type===Ue.Operator,s=!this.isParenthesesOperator(a,ia.Opening);if(i&&s)throw new co(n,a)}validateFormulaItemNeighbors(e,n){this._checkIsOperandsExist(e,n),this._validateNextOperand(n)}}class ox extends Z_{constructor(e){super(e,e)}_validateOpeningParentheseNextItem(e,n){const i=this.formulaItems[n-2]?.type===Ue.Function,s=this.isParenthesesOperator(e,ia.Closing);if(i&&s)return;const b=e.type===Ue.Operator,D=!this.isParenthesesOperator(e,ia.Opening);if(b&&D)throw new co(n,e)}_validateClosingParentheseNextItem(e,n){const a=e.type!==Ue.Operator,i=this.isParenthesesOperator(e,ia.Opening);if(a||i)throw new co(n,e)}validateFormulaItemNeighbors(e,n){const a=n+1,i=this.formulaItems[a];i&&(e.parenthesesType===ia.Opening?this._validateOpeningParentheseNextItem(i,a):this._validateClosingParentheseNextItem(i,a))}}class sx extends Zs{constructor(e,n){super(e,n)}}class cx extends Qb{constructor(e){super(),this._parenthesesOperatorParser=e}validateFormulaItems(e){let n=0;if(e.forEach((a,i)=>{const{success:s,formulaItem:b}=a.accept(this._parenthesesOperatorParser);if(s)if(b.parenthesesType===ia.Opening)n++;else{if(n===0)throw new sx("unexpectedClosingParentheses",i);n--}}),n>0)throw new p5("missingClosingParentheses",e.length)}}class lx extends Zs{constructor(e,n){super("divisionByZero",e,n),this.message=`Position: ${this.itemIndex}. Unexpected division by zero.`}}class dx extends u5{constructor(e,n,a){super(e),this._pointOperatorParser=n,this._numericConstantOperandParser=a}_isNextFormulaItemsZero(e){let n=!1;for(let a=e;a<this.formulaItems.length;a++){const i=this.formulaItems[a];if(this._isPointOperator(i))continue;if(!this._isNumericConstant(i)||(n=this._isZeroNumericConstant(i),!n))break}return n}_isPointOperator(e){const{success:n}=e.accept(this._pointOperatorParser);return n}_isNumericConstant(e){const{success:n}=e.accept(this._numericConstantOperandParser);return n}_isZeroNumericConstant(e){const{success:n,formulaItem:a}=e.accept(this._numericConstantOperandParser);return n&&a.value===String(0)}validateFormulaItemNeighbors(e,n){const a=e.arithmeticOperatorType===ci.Division,i=this._isNextFormulaItemsZero(n+1);if(a&&i)throw new lx(n,e)}}class px{constructor(){this.code="required",this.message="Formula expression cannot be empty."}}class ux extends Zb{validate(e){return e&&e.length>0?S.createSuccess():S.createError([new px])}}class Wd extends Tr{visitFunctionFormulaItem(e){return{success:!0,formulaItem:e}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Wd)))(a||Wd)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Wd,factory:Wd.\u0275fac})}}class ir extends Tr{visitParenthesesOperator(e){return{success:!0,formulaItem:e}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(ir)))(a||ir)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ir,factory:ir.\u0275fac})}}class Gd extends Tr{visitArithmeticOperator(e){return{success:!0,formulaItem:e}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Gd)))(a||Gd)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Gd,factory:Gd.\u0275fac})}}class $d extends Tr{visitCommaOperator(e){return{success:!0,formulaItem:e}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory($d)))(a||$d)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:$d,factory:$d.\u0275fac})}}class um extends Tr{visitRelationOperator(e){return{success:!0,formulaItem:e}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(um)))(a||um)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:um,factory:um.\u0275fac})}}class mm extends Tr{_createSuccessParseResult(e){return{success:!0,formulaItem:e}}visitConstantOperand(e){return this._createSuccessParseResult(e)}visitColumnOperand(e){return this._createSuccessParseResult(e)}visitSysSettingOperand(e){return this._createSuccessParseResult(e)}visitSysVariableOperand(e){return this._createSuccessParseResult(e)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(mm)))(a||mm)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:mm,factory:mm.\u0275fac})}}class gm extends Tr{_createSuccessParseResult(e){return{success:!0,formulaItem:e}}visitArithmeticOperator(e){return this._createSuccessParseResult(e)}visitCommaOperator(e){return this._createSuccessParseResult(e)}visitParenthesesOperator(e){return this._createSuccessParseResult(e)}visitPointOperator(e){return this._createSuccessParseResult(e)}visitRelationOperator(e){return this._createSuccessParseResult(e)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(gm)))(a||gm)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:gm,factory:gm.\u0275fac})}}const mx=new ux,gx=new tx(new Jc),hx=new XI(new Wd,new ir),_x=new h5(new Gd,new ir),fx=new rx(new $d,new ir),Jz=new h5(new um,new ir),bx=new ox(new ir),Cx=new Q_(new mm,new ir,new gm),yx=new cx(new ir),vx=new dx(new Gd,new $o,new Jc),Mx=new ex(new $o,new Ks),Ix=(r,e)=>new nx(new $o,new Ks,r,e),xx=new ix(new $o,new Ks,new $d,new Wd,new ir);var Sx=o(19303);const _5="CONST",f5="COLUMN";class Ko extends ao{static _toStringFromOperator(e){return e.id}constructor(e){super(),this._formulaItemDefinitionProvider=e}toString(e){return e.accept(this)}visitArithmeticOperator(e){return Ko._toStringFromOperator(e)}visitColumnOperand(e){return`${f5}("${e.id}")`}visitCommaOperator(e){return Ko._toStringFromOperator(e)}visitConstantOperand(e){return`${_5}("${e.value}", "${e.dataType}")`}visitFunctionFormulaItem(e){return this._formulaItemDefinitionProvider.getById(e.id).code}visitParenthesesOperator(e){return Ko._toStringFromOperator(e)}visitPointOperator(e){return Ko._toStringFromOperator(e)}visitRelationOperator(e){throw new Error("method visitRelationOperator not implemented")}visitSysSettingOperand(e){throw new Error("method visitSysSettingOperand not implemented")}visitSysVariableOperand(e){throw new Error("method visitSysVariableOperand not implemented")}static{this.\u0275fac=function(n){return new(n||Ko)(t.\u0275\u0275inject(Wt))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ko,factory:Ko.\u0275fac})}}var Kd;(function(r){r.OperatorNode="OperatorNode",r.ConstantNode="ConstantNode",r.SymbolNode="SymbolNode",r.ParenthesisNode="ParenthesisNode",r.FunctionNode="FunctionNode"})(Kd||(Kd={}));class wx{_createAggregationSubQueryOperandExpression(e){return new i5(e.columnPath,e.dataType,e.aggregationType,e.subFilters)}_createColumnOperandExpression(e){return new fd(e.columnPath,e.dataType)}_createSubQueryOperandExpression(e){return new vy(e.columnPath,e.dataType,e.subFilters)}createFromDefinition(e){switch(e.columnType){case ua.Aggregation:return this._createAggregationSubQueryOperandExpression(e);case ua.SchemaColumn:return this._createColumnOperandExpression(e);case ua.SubQuery:return this._createSubQueryOperandExpression(e);default:throw new Error(`The '${e.columnType}' column type is not supported.`)}}}class hm{constructor(e){this._formulaItemDefinitionProvider=e}_fromConstant(e){const n=e.value;let a=X.r.Text;return typeof n=="number"&&(a=Number(n)===n&&n%1===0?X.r.Integer:X.r.Float),new Cd(`${e.value}`,a)}_fromOperator(e){const n=e.op,a=VI(n),i=e.args[0],s=e.args[1];if(!s)throw new Error(`operator: "${n} with only one node not supporting`);return new s5(a,this._fromMathjsNode(i),this._fromMathjsNode(s))}_fromSymbol(e){return new Cd(e.name,X.r.Text)}_fromParenthesis(e){return new c5(this._fromMathjsNode(e.content))}_fromFunction(e){if(e.name===f5)return this._fromColumnFunction(e);if(e.name===_5)return this._fromConstantFunction(e);const n=e.name,a=this._formulaItemDefinitionProvider.findWhere({code:n}),i=e.args.map(b=>this._fromMathjsNode(b)),s=ny(a,i);return new t5(s.fnCode,a.returnDefinition.dataType,s.fnArgs)}_fromColumnFunction(e){const a=e.args[0].value,i=this._formulaItemDefinitionProvider.getById(a);return new wx().createFromDefinition(i)}_fromConstantFunction(e){const n=e.args[0],a=e.args[1],i=n.value,s=parseInt(a.value.toString(),10);return new Cd(`${i}`,s)}_fromMathjsNode(e){switch(e.type){case Kd.OperatorNode:return this._fromOperator(e);case Kd.ConstantNode:return this._fromConstant(e);case Kd.SymbolNode:return this._fromSymbol(e);case Kd.ParenthesisNode:return this._fromParenthesis(e);case Kd.FunctionNode:return this._fromFunction(e);default:throw new Error(`Mathjs node:'${e}' not supported`)}}toExpression(e){const n=(0,Sx.parse)(e);return this._fromMathjsNode(n)}static{this.\u0275fac=function(n){return new(n||hm)(t.\u0275\u0275inject(Wt))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:hm,factory:hm.\u0275fac})}}class Y_ extends Ma{constructor(e,n,a){super(e),this._mathjsExpressionTextConverter=n,this._mathjsFormulaItemVisitor=a}toExpression(e){const a=this.pipeFormulaItems(e.formulaItems).map(i=>this._mathjsFormulaItemVisitor.toString(i)).join("");return this._mathjsExpressionTextConverter.toExpression(a)}static{this.\u0275fac=function(n){return new(n||Y_)(t.\u0275\u0275inject(xy),t.\u0275\u0275inject(hm),t.\u0275\u0275inject(Ko))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Y_,factory:Y_.\u0275fac})}}class _m{static{this.\u0275fac=function(n){return new(n||_m)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:_m})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,O.FormsModule,nt.MatLegacyButtonModule,mn.MatExpansionModule,q.MatLegacyFormFieldModule,_t.MatIconModule,lt.MatLegacyInputModule,Pc.MatListModule,Gt.MatLegacyTabsModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(_m,{declarations:[Oc],imports:[_.CommonModule,O.FormsModule,nt.MatLegacyButtonModule,mn.MatExpansionModule,q.MatLegacyFormFieldModule,_t.MatIconModule,lt.MatLegacyInputModule,Pc.MatListModule,Gt.MatLegacyTabsModule],exports:[Oc]})})();const Xz=[js,no,Bs,tr,Fs];class fm{static{this.\u0275fac=function(n){return new(n||fm)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:fm})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Ae,dn.MatTooltipModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(fm,{declarations:[js,no,Bs,tr,Fs,Pi],imports:[_.CommonModule,Ae,dn.MatTooltipModule],exports:[js,no,Bs,tr,Fs,Pi]})})();class bm{static{this.\u0275fac=function(n){return new(n||bm)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:bm})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[fm]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(bm,{declarations:[er],imports:[fm],exports:[er]})})();class Xc{static{this.\u0275fac=function(n){return new(n||Xc)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Xc})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[nt.MatLegacyButtonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Xc,{declarations:[Ns],imports:[nt.MatLegacyButtonModule],exports:[Ns]})})();class Cm{static{this.\u0275fac=function(n){return new(n||Cm)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Cm})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,nt.MatLegacyButtonModule,Q.MatLegacyMenuModule,Xc,f.TranslateModule.forChild()]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Cm,{declarations:[kc],imports:[_.CommonModule,nt.MatLegacyButtonModule,Q.MatLegacyMenuModule,Xc,f.TranslateModule],exports:[kc]})})();class ym{static{this.\u0275fac=function(n){return new(n||ym)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:ym})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Cm,Xc,f.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(ym,{declarations:[Rc],imports:[_.CommonModule,Cm,Xc,f.TranslateModule],exports:[Rc]})})();class vm{static{this.\u0275fac=function(n){return new(n||vm)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:vm})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[ym,bm]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(vm,{declarations:[Nc],imports:[ym,bm],exports:[Nc]})})();class Mm{static{this.\u0275fac=function(n){return new(n||Mm)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Mm})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[Kt.o,Ko,hm,un,{provide:Me,useClass:dm},{provide:Ro,useClass:Yc},{provide:Xv,useValue:"localizableStrings.Formula{0}"},{provide:Ct,useClass:G_,multi:!0},{provide:Ct,useClass:$_,multi:!0},{provide:Ct,useClass:K_,multi:!0},{provide:at,useValue:[mx,gx,hx,_x,fx,Cx,bx,yx,vx,Mx,xx,Ix(14,8)]},{provide:pt,useFactory:(e,n)=>new pm(e,n),deps:[Ct,Ud]},{provide:$,useFactory:(e,n)=>new pm(e,n),deps:[at,Ud]},{provide:Ma,useClass:Y_},{provide:V,useClass:W_},{provide:xy,useFactory:()=>new ZI(new $o,new Ks)}],imports:[Hd,_m,vm,Ot.MatLegacyDialogModule,xd.MatSidenavModule,_.CommonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Mm,{declarations:[Ba],imports:[Hd,_m,vm,Ot.MatLegacyDialogModule,xd.MatSidenavModule,_.CommonModule],exports:[Ba]})})();var b5=o(75034);class Qs{set toggleImageHandlers(e){this._handleAllImages(e),this._enableHandlers=e}constructor(e,n){this._elRef=e,this._ngZone=n,this._enableHandlers=!0,this._observer=new MutationObserver(a=>this._onMutation(a))}_onMutation(e){e.forEach(n=>{n.addedNodes.forEach(a=>{a instanceof HTMLImageElement?this._handleImage(a,this._enableHandlers):a instanceof HTMLElement&&a.querySelectorAll("img").forEach(i=>this._handleImage(i,this._enableHandlers))})})}_handleImage(e,n){if(this.ignoreImageClasses?.some(s=>e.classList.contains(s)))return;const i=e.parentElement.getAttribute("href")?.length>1;n?i||e.addEventListener("mousedown",this._showFullScreenImage):e.removeEventListener("mousedown",this._showFullScreenImage),e.style.cursor=n&&!i?"zoom-in":"default"}_observeChanges(){this._ngZone.runOutsideAngular(()=>{this._observer.observe(this._elRef.nativeElement,{childList:!0,subtree:!0,attributes:!1,characterData:!1})})}_showFullScreenImage(e){if(e.button===0){const a=e.target,i=document.createElement("div");i.classList.add("full-image-container"),i.style.backgroundImage="url('"+a.src+"')";let s=!1;const b=document.body.clientWidth*.8,D=document.body.clientHeight*.8,W=a.width>=b||a.height>=D,ot=a.naturalWidth>=b||a.naturalHeight>=D;(W||ot)&&(s=!0),i.style.backgroundSize=s?`${.8*100}%`:"auto",i.addEventListener("click",It=>{i.remove()}),document.body.addEventListener("keydown",It=>{It.key==="Escape"&&i.remove()},{once:!0}),document.body.appendChild(i),e.preventDefault(),e.stopImmediatePropagation()}}_handleAllImages(e){this._elRef?.nativeElement.querySelectorAll("img").forEach(n=>{this._handleImage(n,e)})}ngAfterViewInit(){this._handleAllImages(!0),this._observeChanges()}ngOnDestroy(){this._observer.disconnect()}static{this.\u0275fac=function(n){return new(n||Qs)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Qs,selectors:[["","crtFullSizeImage",""]],inputs:{ignoreImageClasses:"ignoreImageClasses",toggleImageHandlers:"toggleImageHandlers"}})}}class Pr{static{this.\u0275fac=function(n){return new(n||Pr)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Pr})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Pr,{declarations:[Qs],imports:[_.CommonModule],exports:[Qs]})})();class Ys{set activateListeners(e){e?this._addListenersToLinks():this._removeListenersFromLinks()}constructor(e,n){this.el=e,this.renderer=n,this._unsubscribeFunctions=[]}_handleClick(e,n){const a=n.getAttribute("href");if(a){const i=a.indexOf("#");if(i!==-1){const s=a.slice(i+1),b=this.el.nativeElement.querySelector(`#${s}`);if(b){e.preventDefault(),e.stopImmediatePropagation(),b.scrollIntoView({behavior:"smooth",block:"start"});return}}}}_addEvents(e){const n=this.renderer.listen(e,"click",s=>this._handleClick(s,e)),a=this.renderer.listen(e,"touchstart",s=>this._handleClick(s,e)),i=this.renderer.listen(e,"keydown.enter",s=>this._handleClick(s,e));this._unsubscribeFunctions.push(n,a,i)}_addListenersToLinks(){this.el.nativeElement.querySelectorAll("a").forEach(n=>{this._addEvents(n)})}_removeListenersFromLinks(){this._unsubscribeFunctions.forEach(e=>e()),this._unsubscribeFunctions=[]}ngAfterViewInit(){this._addListenersToLinks()}ngOnDestroy(){this._removeListenersFromLinks()}static{this.\u0275fac=function(n){return new(n||Ys)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.Renderer2))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Ys,selectors:[["","crtAnchorScrollHandler",""]],inputs:{activateListeners:[t.\u0275\u0275InputFlags.None,"crtAnchorScrollHandler","activateListeners"]},standalone:!0})}}class Ex{open(e,n){return(0,m.of)({})}}class Tx{open(e){return(0,m.of)({})}}class Zd{constructor(e,n){this.dialog=e,this.data=n}static{this.\u0275fac=function(n){return new(n||Zd)(t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef),t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA,8))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Zd})}}const Px=[[["","content",""]],[["","actions",""]],[["","title",""]]],Ox=["[content]","[actions]","[title]"];function Dx(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",6),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275attribute("title",n.title),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,n.title))}}function Ax(r,e){r&1&&t.\u0275\u0275projection(0,2)}function Lx(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",7),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onCloseButtonClick())}),t.\u0275\u0275elementEnd()}r&2&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"Dialog.Close"))}class qc extends Zd{constructor(){super(...arguments),this.displayCloseButton=!1}onCloseButtonClick(){var e=this;return(0,bt.A)(function*(){(!e.canCloseFn||(yield e.canCloseFn()))&&e.dialog.close()})()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(qc)))(a||qc)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:qc,selectors:[["crt-dialog"]],inputs:{title:"title",displayCloseButton:"displayCloseButton",canCloseFn:"canCloseFn"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Ox,decls:9,vars:3,consts:[["content",""],["mat-dialog-title","",1,"crt-dialog-title"],["class","title",4,"ngIf","ngIfElse"],["size","medium","icon","close-button-icon","iconPosition","only-icon","class","crt-dialog-close-button",3,"title","clicked",4,"ngIf"],["mat-dialog-content","",1,"crt-dialog-content"],["mat-dialog-actions","",1,"crt-dialog-actions"],[1,"title"],["size","medium","icon","close-button-icon","iconPosition","only-icon",1,"crt-dialog-close-button",3,"clicked","title"]],template:function(n,a){if(n&1&&(t.\u0275\u0275projectionDef(Px),t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,Dx,3,4,"div",2)(2,Ax,1,0,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)(4,Lx,2,3,"crt-button",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",4),t.\u0275\u0275projection(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",5),t.\u0275\u0275projection(8,1),t.\u0275\u0275elementEnd()),n&2){const i=t.\u0275\u0275reference(3);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.title)("ngIfElse",i),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.displayCloseButton)}},dependencies:[_.NgIf,Jt,Ot.MatLegacyDialogTitle,Ot.MatLegacyDialogContent,Ot.MatLegacyDialogActions,f.TranslatePipe],styles:["[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.crt-dialog-title[_ngcontent-%COMP%]{display:flex}.crt-dialog-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin-bottom:16px}.crt-dialog-title[_ngcontent-%COMP%]   .crt-dialog-close-button[_ngcontent-%COMP%]{margin-inline-start:auto}.crt-dialog-content[_ngcontent-%COMP%]{flex:1}.crt-dialog-actions[_ngcontent-%COMP%]{justify-content:end}"],changeDetection:0})}}var Im=o(29423),Or;(function(r){r.Block="block",r.PlainText="plain-text",r.Divider="divider"})(Or||(Or={}));const J_=r=>({item:r});function kx(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementContainer(1,8),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit;t.\u0275\u0275nextContext();const a=t.\u0275\u0275reference(13);t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,J_,n))}}function Rx(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-button",9),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("clicked",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onActionSelected(i.key))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("size",n.config.size)("shape",n.config.shape||a.defaultActionShape)("color",n.config.color)("title",n.config.title)("caption",t.\u0275\u0275pipeBind1(2,15,n.config.caption))("displayType",n.config.displayType)("ariaLabel",n.config.ariaLabel)("textTransform",n.config.textTransform)("disabled",n.config.disabled)("disableRipple",n.config.disableRipple)("icon",n.config.icon)("iconPosition",n.config.iconPosition)("menuItems",n.config.menuItems)("loading",n.config.loading)("clickMode",n.config.clickMode||"default")}}function Nx(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-divider"),r&2){const n=e.item;t.\u0275\u0275classMap(n.classes)}}function Vx(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span",10),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2){const n=e.item;t.\u0275\u0275property("ngClass",n.classes),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,2,n.message))}}function Fx(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275elementContainer(1,8),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275nextContext(3);const a=t.\u0275\u0275reference(13);t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,J_,n))}}function jx(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",16),t.\u0275\u0275template(2,Fx,2,4,"div",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext().item;t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.content)}}function Bx(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",11)(1,"div",12),t.\u0275\u0275element(2,"mat-icon",13),t.\u0275\u0275elementStart(3,"span",14),t.\u0275\u0275text(4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(6,jx,3,1,"ng-container",15),t.\u0275\u0275elementEnd()),r&2){const n=e.item;t.\u0275\u0275property("ngClass",n.classes),t.\u0275\u0275advance(2),t.\u0275\u0275property("svgIcon",n.icon),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(5,4,n.title)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(n.content==null?null:n.content.length)>0)}}function zx(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,8),r&2){const n=t.\u0275\u0275nextContext().item;t.\u0275\u0275nextContext();const a=t.\u0275\u0275reference(9);t.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,J_,n))}}function Ux(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,8),r&2){const n=t.\u0275\u0275nextContext().item;t.\u0275\u0275nextContext();const a=t.\u0275\u0275reference(7);t.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,J_,n))}}function Hx(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,8),r&2){const n=t.\u0275\u0275nextContext().item;t.\u0275\u0275nextContext();const a=t.\u0275\u0275reference(11);t.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,J_,n))}}function Wx(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0,17),t.\u0275\u0275template(1,zx,1,4,"ng-container",18)(2,Ux,1,4,"ng-container",18)(3,Hx,1,4,"ng-container",18),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.item,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngSwitch",n.type),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.detailedDialogContentType.PlainText),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.detailedDialogContentType.Divider),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.detailedDialogContentType.Block)}}class Qd extends Zd{constructor(e,n,a){super(e,n),this.detailedDialogContentType=Or,this.messageContent=this._adjustContent(n),this.defaultActionShape=a?"rounded":"default"}_adjustContent(e){const n=e?.message;return typeof n=="string"?[{type:Or.PlainText,message:n}]:n??[]}onActionSelected(e){this.dialog.close(e)}static{this.\u0275fac=function(n){return new(n||Qd)(t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef),t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA,8),t.\u0275\u0275directiveInject(Im.w,8))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Qd,selectors:[["crt-message-dialog"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:14,vars:5,consts:[["divider",""],["plainText",""],["block",""],["content",""],[3,"title"],[1,"crt-dialog-message-content",3,"id"],[4,"ngFor","ngForOf"],["actions",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"clicked","size","shape","color","title","caption","displayType","ariaLabel","textTransform","disabled","disableRipple","icon","iconPosition","menuItems","loading","clickMode"],[3,"ngClass"],[1,"crt-dialog-message-content-block",3,"ngClass"],[1,"crt-dialog-message-content-block-title"],[1,"crt-dialog-message-content-block-title-icon",3,"svgIcon"],[1,"crt-dialog-message-content-block-title-label"],[4,"ngIf"],[1,"crt-dialog-message-content-block-content"],[3,"ngSwitch"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngSwitchCase"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"crt-dialog",4),t.\u0275\u0275elementContainerStart(1,3),t.\u0275\u0275elementStart(2,"div",5),t.\u0275\u0275template(3,kx,2,4,"ng-container",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(4,7),t.\u0275\u0275template(5,Rx,3,17,"ng-container",6),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,Nx,1,2,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)(8,Vx,3,4,"ng-template",null,1,t.\u0275\u0275templateRefExtractor)(10,Bx,7,6,"ng-template",null,2,t.\u0275\u0275templateRefExtractor)(12,Wx,4,4,"ng-template",null,3,t.\u0275\u0275templateRefExtractor)),n&2&&(t.\u0275\u0275property("title",a.data==null?null:a.data.title),t.\u0275\u0275advance(2),t.\u0275\u0275property("id",a.data==null?null:a.data.messageContentId),t.\u0275\u0275attribute("data-item-marker","message"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.messageContent),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.data==null?null:a.data.actions))},dependencies:[_.NgClass,_.NgForOf,_.NgIf,_.NgTemplateOutlet,_.NgSwitch,_.NgSwitchCase,Jt,Di.MatDivider,_t.MatIcon,qc,f.TranslatePipe],styles:[".crt-dialog-message-content[_ngcontent-%COMP%]{display:flex;align-items:stretch;flex-flow:column;justify-content:flex-start;gap:16px;margin-bottom:20px;padding-bottom:4px;white-space:pre-line;max-height:70vh;overflow-y:auto;word-break:break-word}.crt-dialog-message-content-block[_ngcontent-%COMP%]{display:flex;align-items:stretch;flex-flow:column;justify-content:flex-start;padding:12px 16px 16px;border-radius:8px}.crt-dialog-message-content-block[_ngcontent-%COMP%]   .crt-dialog-message-content-block-title[_ngcontent-%COMP%]{display:flex;align-items:stretch;flex-flow:row;justify-content:flex-start;gap:8px}.crt-dialog-message-content-block[_ngcontent-%COMP%]   .crt-dialog-message-content-block-title-icon[_ngcontent-%COMP%]{height:16px;width:16px}"],changeDetection:0})}}const Gx=new t.InjectionToken("Modal overlay background component ID");class C5{constructor(e){this._sysSettingsService=e}_getSysSettingValues(e){return Object.keys(e).reduce((n,a)=>(n[a]=e[a].value,n),{})}_getResultFromResponse(e){if(!e.success){const s=e.errorInfo?.message??"Unknown";throw new Error("Error while receiving system settings: "+s)}const n={...this._sysSettingsSnapshot,...e.values};this._sysSettingsSnapshot=n;const a=this._getSysSettingValues(n),i=this.mapSysSettingValues(a);return this._cachedResult=i,i}_buildResultObservable(){const e=this.getSysSettingCodes();return(0,m.merge)((0,m.of)(e),this._sysSettingsService.sysSettingsChanged$).pipe((0,m.mergeMap)(n=>{const a=e.filter(s=>n.includes(s));return this._sysSettingsSnapshot===void 0||this._cachedResult===void 0||a.length!==0?this._sysSettingsService.getByCodes(a).pipe((0,m.map)(s=>this._getResultFromResponse(s))):(0,m.of)(this._cachedResult)}),(0,m.shareReplay)({refCount:!1}))}getConfig(){return this._cache$||(this._cache$=this._buildResultObservable()),this._cache$}}var Zo=o(41314),$x=o(19350);const y5="crt-images-cache";var tl;(function(r){r.Color="Color",r.Image="Image",r.AccessibleColor="AccessibleColor"})(tl||(tl={}));const Kx="#FFFFFF",Zx="#0D2E4E";var Yb=o(74975);let Js=class d0 extends Yb.S{constructor(e,n){super(),this.httpClient=e,this._sysSettingsInfo=new Map,this._sysSettingsValuesCache=new Map,this._sysSettingsChanged$=new m.Subject,this.sysSettingsChanged$=this._sysSettingsChanged$.asObservable(),this._serviceGetSysSettingsEndpoint=`${n}/QuerySysSettings`,this._serviceSaveSysSettingsEndpoint=`${n}/PostSysSettingsValues`,this._servicePreloadSysSettingsEndpoint=`${n}/PreloadSysSettings`}_removeNotActualSettingsValues(e){e.forEach(([n,a])=>{this._getIsSysSettingCached(n)&&this._getCacheableSysSetting(n).dataValueType===X.r.Lookup&&this._sysSettingsValuesCache.delete(n)})}_getSysSettingsRequestAfterUpdate(e){const n=e.filter(a=>!this._sysSettingsInfo.has(a[0]));return n.length===0?(0,m.of)(null):this.getByCodes(n.map(a=>a[0]))}_updateCache(e,n){const a=Object.entries(e??{}).filter(i=>n.saveResult[i[0]]);return a.filter(([i,s])=>this._sysSettingsInfo.has(i)).filter(([i,s])=>this._getIsSysSettingCacheable(i)).forEach(([i,s])=>{this._sysSettingsValuesCache.set(i,{value:s})}),this._getSysSettingsRequestAfterUpdate(a).pipe((0,h.map)(()=>n),(0,h.tap)(()=>{this._removeNotActualSettingsValues(a)}),(0,h.tap)(()=>{if(a.length>0){const i=a.map(s=>s[0]);this._sysSettingsChanged$.next(i)}}))}_getIsSysSettingCacheable(e){return this._sysSettingsInfo.get(e)?.isCacheable??!1}_getIsSysSettingCached(e){return this._getIsSysSettingCacheable(e)&&this._sysSettingsValuesCache.has(e)}_getCacheableSysSetting(e){const n=this._sysSettingsInfo.get(e);if(n&&n.isCacheable){const a=this._sysSettingsValuesCache.get(e);return{code:n.code,dataValueType:n.dataValueType,id:n.id,isCacheable:n.isCacheable,name:n.name,value:a.value,displayValue:a.displayValue}}return null}_setSysSettingInfo(e){this._sysSettingsInfo.set(e.code,{code:e.code,dataValueType:e.dataValueType,id:e.id,isCacheable:e.isCacheable,name:e.name})}_setSysSettingDetails(e){this._setSysSettingInfo(e),e?.isCacheable&&this._sysSettingsValuesCache.set(e.code,{displayValue:e.displayValue,value:e.value})}_requestSysSettings(e){return this.httpClient.post(this._serviceGetSysSettingsEndpoint,{sysSettingsNameCollection:e}).pipe((0,h.share)(),(0,h.tap)(n=>{e.forEach(a=>{const i=n.values[a];i&&this._setSysSettingDetails(i)})}))}_getResponseWithCachedSysSettings(e,n){return n.filter(i=>this._getIsSysSettingCached(i)).map(i=>this._getCacheableSysSetting(i)).forEach(i=>{e.values[i.code]=i}),e}_createEmptySysSettingDetailByCode(e){return{code:e,value:null,isCacheable:!0}}_updateNotFoundSettingDetails(e){return e.notFoundSettings?.forEach(n=>{const a=this._createEmptySysSettingDetailByCode(n);this._setSysSettingDetails(a),e.values[n]=a}),e}getByCodes(e){if(!e||e.length===0)return(0,m.of)({success:!0,values:{}});const n=e.filter(a=>!this._getIsSysSettingCached(a));return n.length===0?(0,m.of)(this._getResponseWithCachedSysSettings({success:!0,values:{}},e)):this._requestSysSettings(n).pipe((0,h.map)(a=>this._getResponseWithCachedSysSettings(a,e)),(0,h.map)(a=>this._updateNotFoundSettingDetails(a)))}getByCode(e){return this.getByCodes([e]).pipe((0,h.map)(n=>n.values[e]))}getValueByCode(e,n){return this.getByCode(e).pipe((0,h.map)(a=>{const i=a?.value;return!(i==null||i==="")||n===void 0?i:n}),(0,m.catchError)(()=>(0,m.of)(n)))}updateMany(e,n=!1){const a={};return e.forEach(i=>a[i.code]=i.value),this.httpClient.post(this._serviceSaveSysSettingsEndpoint,{sysSettingsValues:a,isPersonal:n}).pipe((0,h.mergeMap)(i=>this._updateCache(a,i)),(0,h.share)())}update(e,n=!1){return this.updateMany([e],n)}preload(){if(this._preloadedSysSettings$)return this._preloadedSysSettings$;const e=new l.HttpHeaders().set("Content-Type","application/json; charset=utf-8");return this._preloadedSysSettings$=this.httpClient.post(this._servicePreloadSysSettingsEndpoint,{},{headers:e}).pipe((0,h.tap)(n=>{Object.values(n.values).forEach(a=>{a.isCacheable=!0,this._setSysSettingDetails(a)})}),(0,h.map)(()=>Object.fromEntries(this._sysSettingsValuesCache.entries())),(0,m.shareReplay)({bufferSize:1,refCount:!1})),this._preloadedSysSettings$}static{this.\u0275fac=function(n){return new(n||d0)(t.\u0275\u0275inject(l.HttpClient),t.\u0275\u0275inject(Yr))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:d0,factory:d0.\u0275fac,providedIn:"root"})}};Js=(0,u.__decorate)([(0,E.op)({requestType:"crt.SysSettingsService"}),(0,u.__metadata)("design:paramtypes",[l.HttpClient,String])],Js);var Qx=o(49820);class lo extends C5{constructor(e,n,a,i,s){super(e),this._applicationRef=n,this._document=a,this._featureValues=i,this._cacheManager=s,this._reducingBlurQuality=50,this._contentDisplayed$=new m.ReplaySubject(1),this.contentDisplayed=!1}static isImageMode(e,n=!0){const{mode:a,color:i}=e;return a?a===tl.Image:i?!1:e.imageId||e.imageUrl?!0:n}static getBackgroundMode(e){switch(!0){case(lo.isImageMode(e,!1)&&!(0,y.isEmpty)(e?.imageUrl)):return tl.Image;case e.mode===tl.AccessibleColor:return tl.AccessibleColor;default:return tl.Color}}static getImageStyle(e){return e?.imageUrl?{"background-image":`url(${e.imageUrl})`}:{}}static getColorStyle(e){return{"background-color":e.color||Kx}}static getAccessibleColorStyle(e){return{"background-color":e.accessibleColor||Zx}}createBlurredVersion(e,n){var a=this;return(0,bt.A)(function*(){const i=yield a._cacheManager.get(y5),s=!a._featureValues?.DisableBackgroundOptimization,b=s&&(yield i.get(e.src));if(b)return Promise.resolve(b);s||(a._reducingBlurQuality=1);const D=a._document.createElement("canvas");D.width=e.naturalWidth/a._reducingBlurQuality,D.height=e.naturalHeight/a._reducingBlurQuality,D.getContext("2d").drawImage(e,0,0,D.width,D.height),$x.canvasRGBA(D,0,0,D.width,D.height,n/a._reducingBlurQuality);const ot=D.toDataURL();return s&&(yield i.set(e.src,ot)),ot})()}_getDefaultImage(){return o(95339)}getSysSettingCodes(){return["CrtBackgroundConfig","UseAccessibleDesktopColor"]}mapSysSettingValues(e){const n=e.CrtBackgroundConfig,a=e.UseAccessibleDesktopColor,i=n?JSON.parse(n):{};return{imageUrl:i.imageId?(0,Zo.Mc)(i.imageId):this._getDefaultImage(),color:i?.color,accessibleColor:i?.accessibleColor,mode:a?tl.AccessibleColor:i?.mode}}setContentDisplayed(){this._contentDisplayed$.next(),this.contentDisplayed=!0}waitContentDisplayed$(){return this._contentDisplayed$.pipe((0,h.switchMap)(()=>this._applicationRef.isStable),(0,h.filter)(Boolean),(0,m.map)(()=>{}),(0,h.take)(1))}static{this.\u0275fac=function(n){return new(n||lo)(t.\u0275\u0275inject(Js),t.\u0275\u0275inject(t.ApplicationRef),t.\u0275\u0275inject(_.DOCUMENT),t.\u0275\u0275inject(ge.G,8),t.\u0275\u0275inject(Qx.G))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:lo,factory:lo.\u0275fac,providedIn:"root"})}}class Yd{constructor(e,n,a,i){this.dialog=e,this._document=n,this._modalOverlayBackgroundComponentId=a,this._appBackgroundService=i}_getOverlayBackground(){const e=this._modalOverlayBackgroundComponentId;return e&&this._document.getElementById(e)}_useBackgroundOverlay(e){return!e.backdropClass&&this._getOverlayBackground()!=null}_getOverlayBackdropElement(e){return e._ref.overlayRef.backdropElement}_waitContentDisplayed(){return this._appBackgroundService.waitContentDisplayed$().pipe((0,h.take)(1))}_addBackgroundOverlay(e){var n=this;return(0,bt.A)(function*(){n._appBackgroundService.contentDisplayed||(yield(0,m.lastValueFrom)(n._waitContentDisplayed()));const i=n._getOverlayBackground().cloneNode(!0);n._getOverlayBackdropElement(e).appendChild(i)})()}hideModal(e){this._getOverlayBackdropElement(e)?.classList?.add("cdk-overlay-empty-backdrop-hidden"),e.addPanelClass("modal-container-hidden")}restoreModal(e){this._getOverlayBackdropElement(e)?.classList?.remove("cdk-overlay-empty-backdrop-hidden"),e.removePanelClass("modal-container-hidden")}open(e,n={}){const a=this._useBackgroundOverlay(n);a&&(n.backdropClass="cdk-overlay-empty-backdrop");const i=this.dialog.open(e,n);return a&&this._addBackgroundOverlay(i).then(),i}static{this.\u0275fac=function(n){return new(n||Yd)(t.\u0275\u0275inject(Ot.MatLegacyDialog),t.\u0275\u0275inject(_.DOCUMENT),t.\u0275\u0275inject(Gx,8),t.\u0275\u0275inject(lo))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Yd,factory:Yd.\u0275fac})}}let Jd=class p0{constructor(e,n,a){this.document=e,this._ngZone=n,this._modalProvider=a}_stopEventPropagation(e,n){e.afterOpened().pipe((0,h.takeUntil)(n)).subscribe(a=>{const s=this.document.getElementsByClassName("cdk-overlay-container")[0];s&&s.addEventListener("click",function(b){b.stopImmediatePropagation()})})}_createDialogConfig(e){const{panelClass:n}=e||{},a=Array.isArray(n)?n:[n];return{...e,panelClass:["crt-dialog",...a]}}open(e,n){return this._ngZone.run(()=>{const a=this._createDialogConfig(n),i=this._modalProvider.open(e,a),s=i.afterClosed();return this._stopEventPropagation(i,s),s})}openDialog(e){const n={panelClass:["crt-message-dialog"],data:{title:e.title,message:e.message,actions:e.actions}};return(0,m.lastValueFrom)(this.open(Qd,n))}static{this.\u0275fac=function(n){return new(n||p0)(t.\u0275\u0275inject(_.DOCUMENT),t.\u0275\u0275inject(t.NgZone),t.\u0275\u0275inject(Yd))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:p0,factory:p0.\u0275fac})}};Jd=(0,u.__decorate)([(0,E.op)({requestType:"crt.DialogService"}),(0,u.__metadata)("design:paramtypes",[Document,t.NgZone,Yd])],Jd);const po={OK:{key:"OK",config:{color:"default",caption:"Dialog.Ok"}},YES:{key:"YES",config:{color:"primary",caption:"Dialog.Yes"}},NO:{key:"NO",config:{color:"default",caption:"Dialog.No"}},SAVE:{key:"SAVE",config:{color:"primary",caption:"Dialog.Save"}},DO_NOT_SAVE:{key:"DO_NOT_SAVE",config:{color:"default",caption:"Dialog.DoNotSave"}},CANCEL:{key:"CANCEL",config:{color:"default",caption:"Dialog.Cancel"}},DELETE:{key:"DELETE",config:{color:"primary",caption:"Dialog.Delete"}}},Yx=new Map([["info","crt-dialog-info"],["error","crt-dialog-error"],["success","crt-dialog-success"],["none",""]]);class ji{constructor(e,n){this._dialogProvider=e,this._translateService=n,this._notificationMessage=this._translateService.instant("Dialog.Notification")}_normalizeConfig(e){return typeof e=="string"?{data:{message:e}}:e}_open(e,n){const a=this._normalizeConfig(n),{data:i,panelClass:s,ariaLabel:b,ariaDescribedBy:D}=a,W=Array.isArray(s)?s:[s],ot=Yx.get(e),It=(0,de.qv)(),Pt={...a,data:{...i,actions:i?.actions??[po.OK],messageContentId:It},ariaLabel:b||i?.title||this._notificationMessage,ariaDescribedBy:D||It,panelClass:["crt-message-dialog",ot,...W]};return this._dialogProvider.open(Qd,Pt)}open(e){return this._open(e?.type||"info",(0,y.omit)(e,"type"))}info(e){return this._open("info",e)}error(e){return this._open("error",e)}success(e){return this._open("success",e)}confirmation(e){const n=this._normalizeConfig(e),a=n.data?.approveAction||po.YES,i=n.data?.rejectAction||po.NO,s={...n,data:{...(0,y.omit)(n.data,["approveAction","rejectAction"]),actions:[i,a]}};return this.open(s).pipe((0,m.map)(b=>b===a.key))}static{this.\u0275fac=function(n){return new(n||ji)(t.\u0275\u0275inject(Jd),t.\u0275\u0275inject(f.TranslateService))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ji,factory:ji.\u0275fac})}}class li{static{this.\u0275fac=function(n){return new(n||li)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:li})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[Jd,ji,Yd,{provide:Ex,useClass:Jd},{provide:Tx,useClass:ji},{provide:Ge.FocusTrapFactory,useClass:Ge.ConfigurableFocusTrapFactory}],imports:[_.CommonModule,re,Ot.MatLegacyDialogModule,f.TranslateModule,Di.MatDividerModule,_t.MatIconModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(li,{declarations:[qc,Qd],imports:[_.CommonModule,re,Ot.MatLegacyDialogModule,f.TranslateModule,Di.MatDividerModule,_t.MatIconModule],exports:[qc,Qd]})})();var Xs=o(60499),Jx=o(4579),Qo=o(15810),v5=o(34096),wy=o(51746);class xm{constructor(e){this.parent=e,this.inputs={},this.outputs={},this.directives=[],this.attributes={},this.content=[]}}class Jb{}var Sm=o(29982),Xx=o(69635),_n=o(52439),Ey=o(65576);const M5={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Xb;const qx=new Uint8Array(16);function tS(){if(!Xb&&(Xb=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Xb))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xb(qx)}const Ga=[];for(let r=0;r<256;++r)Ga.push((r+256).toString(16).slice(1));function I5(r,e=0){return Ga[r[e+0]]+Ga[r[e+1]]+Ga[r[e+2]]+Ga[r[e+3]]+"-"+Ga[r[e+4]]+Ga[r[e+5]]+"-"+Ga[r[e+6]]+Ga[r[e+7]]+"-"+Ga[r[e+8]]+Ga[r[e+9]]+"-"+Ga[r[e+10]]+Ga[r[e+11]]+Ga[r[e+12]]+Ga[r[e+13]]+Ga[r[e+14]]+Ga[r[e+15]]}function tU(r,e=0){const n=I5(r,e);if(!validate(n))throw TypeError("Stringified UUID is invalid");return n}const eU=null;function eS(r,e,n){if(M5.randomUUID&&!e&&!r)return M5.randomUUID();r=r||{};const a=r.random||(r.rng||tS)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=a[i];return e}return I5(a)}const x5=eS;var S5=o(77038),$a=o(6103),nS=o(51536),aS=o(27019),w5=o(14446),E5=o(41500),wm=o(26852);class Em{constructor(){this.viewAttached$=new m.BehaviorSubject(!0)}static{this.\u0275fac=function(n){return new(n||Em)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Em,factory:Em.\u0275fac})}}class T5{constructor(e,n){this.injector=e,this.componentPartsFactory=n,this._loadingAttributeName="loading",this._visibleAttributeName="visible",this.initDependencies(),this._specialPropertiesList=[{property:"type",createComponentPart:()=>{}},{property:"layoutConfig",createComponentPart:this._componentPartsCreatorUtils.createLayoutConfigComponentParts.bind(this)}]}_createViewElementConfigProviderComponentParts(e,n){n.directives.push({selector:"crtViewElementConfig",values:[{value:e,pipes:[],propertyKey:this._componentPartsCreatorUtils.getContextPropertyName("viewElementConfig",n)}]})}_createDataItemMarkerComponentParts(e,n){n.attributes["data-item-marker"]={value:e.dataItemMarker||n.id}}_validateRenderStrategyConfig(e){const{renderStrategy:n,placeholderSize:a}=e;n===Sm.D.OnViewport&&!a&&console.warn("The property placeholderSize must be specified for the OnViewport strategy to work correctly")}createLoadingComponentParts(e,n){Object.keys(e).some(i=>i===this._loadingAttributeName)?this._createInputComponentParts(this._loadingAttributeName,e[this._loadingAttributeName],e,n):this._createDefaultLoadingPropertyBinding(e,n)}_createDefaultLoadingPropertyBinding(e,n){const a=(0,y.chain)(e).entries().filter(([s,b])=>this.isInputBinding(s,b,e)&&(0,_n.qG)(b)).value();let i=(0,m.of)(!1);if(a.length){const s=a.map(([b,D])=>(0,nS.f6)(D));i=this._createLoadingPropertyValueFromContextEvent(s)}n.inputs[this._loadingAttributeName]={propertyKey:this._componentPartsCreatorUtils.getContextPropertyName(this._loadingAttributeName,n),pipes:[{name:"crtAsync",arguments:[]}],value:i}}_createLoadingPropertyValueFromContextEvent(e){const n=this.injector.get(t.NgZone);return(0,aS.n)(this._bindingContext).viewModel$.pipe((0,h.switchMap)(a=>{if(!a)return(0,m.of)(!1);let i=[];const s=a.events$.pipe((0,h.filter)(D=>D.type===Ey.n.StartLoadModelAttributes),(0,h.map)(D=>D),(0,h.filter)(D=>{const W=Object.keys(D.payload);return e.some(ot=>W.includes(ot))}),(0,h.tap)(D=>{i=Object.keys(D.payload)}),(0,h.map)(()=>!0)),b=a.events$.pipe((0,h.filter)(D=>D.type===Ey.n.FinishLoadModelAttributes),(0,h.map)(D=>D),(0,h.filter)(D=>{const W=Object.keys(D.payload);return i.every(ot=>W.includes(ot))}),(0,h.map)(()=>!1),(0,h.tap)(()=>i=[]));return(0,m.merge)(s,b).pipe((0,E.BV)(n))}))}_createContentPropertyComponentParts(e,n,a,i,s){const b=this.getViewElementSlotDefinition(a,e);for(const D of n){const W=this.componentPartsFactory.create(this.injector,D);let ot=W.create(D,i,s);b.lazy&&(ot=this.createLazyContentComponentParts(ot)),this.featureValues.UseSchemaOutletReuseViewStrategy&&this.isAngularHost&&!this.featureValues.DisableComponentPartsCreatorAddContentProperty?W.addContentProperty(e,ot,a):this.addContentProperty(e,ot,a),i.content.push(ot)}b.input&&this._createInputComponentParts(e,n,a,i)}_isConstant(e){const n=typeof e;return n==="string"&&!(0,_n.qG)(e)||n==="number"||n==="boolean"||n==="bigint"}_getBindingPipeConfig(e,n,a){return[{name:"crtBinding",arguments:[{value:e,propertyKey:this._componentPartsCreatorUtils.getContextPropertyName(e+"|propertyName",a)},{value:n,propertyKey:this._componentPartsCreatorUtils.getContextPropertyName(e+"|viewElementConfig",a)}]}]}_createInputComponentParts(e,n,a,i){i.inputs[e]={propertyKey:this._componentPartsCreatorUtils.getContextPropertyName(e,i),value:n},(this.featureValues.DisableDoNotUseBindingPipeForConstant||!this._isConstant(n))&&(i.inputs[e].pipes=this._getBindingPipeConfig(e,a,i))}_createControlInputComponentParts(e,n,a,i){const s={selector:"crtIf",variableName:"control",useAsterisk:!0,values:[{value:n,propertyKey:this._componentPartsCreatorUtils.getContextPropertyName(e,i),pipes:[{name:"crtBinding",arguments:[{value:e,propertyKey:this._componentPartsCreatorUtils.getContextPropertyName(e+"|propertyName",i)},{value:a,propertyKey:this._componentPartsCreatorUtils.getContextPropertyName(e+"|viewElementConfig",i)}]}]}],additionalInputs:[]};this._componentPartsCreatorUtils.addCrtIfDirectiveAdditionalInputs(s,a),i.directives.push(s),i.inputs[e]={value:"control"}}_createInputWithValidationComponentParts(e,n,a,i){const b=this.injector.get(E5.a).evaluate(n,this._bindingContext).pipe((0,h.share)()),D=b.pipe((0,h.pluck)("value"),(0,h.distinctUntilChanged)());i.inputs[e]={propertyKey:this._componentPartsCreatorUtils.getContextPropertyName(e,i),value:D,pipes:[{name:"crtAsync",arguments:[]}]};const W=(0,$a.Xb)(e),ot=b.pipe((0,h.pluck)("validationInfo"),(0,h.distinctUntilChanged)());i.inputs[W]={propertyKey:this._componentPartsCreatorUtils.getContextPropertyName(W,i),value:ot,pipes:[{name:"crtAsync",arguments:[]}]}}_createOutputComponentParts(e,n,a){a.outputs[e]={propertyKey:this._componentPartsCreatorUtils.getContextPropertyName(e,a),fn:(i,s)=>{i.processOutputEvent(n,s)}}}_createTwoWayBindingComponentParts(e,n,a,i){(0,$a.Yk)(a.type,e)?this._createInputWithValidationComponentParts(e,n,a,i):this._createInputComponentParts(e,n,a,i);const s=n.slice(1),b=(0,$a.Lu)(e),D={action:"changeAttributeValue",attributePath:s};this._createOutputComponentParts(b,D,i);const W={action:"markControlAsTouched",attributePath:s};this._createOutputComponentParts("focusout",W,i)}_createSpecialPropertyComponentParts(e,n,a){return this._specialPropertiesList.find(s=>s.property===e)?.createComponentPart(e,n,a)}initDependencies(){this.bindingExpressionInterpreter=this.injector.get(w5.a),this._bindingContext=this.injector.get(wm.I),this.featureValues=this.injector.get(ge.G),this.isAngularHost=this.injector.get(Xx.x),this._componentPartsCreatorUtils=this.injector.get(S5.r),this._viewElementTypeResolver=this.injector.get(Qo.i)}createLazyContentComponentParts(e){throw Error("View element type does not support lazy content projection.")}isSpecialPropertyBinding(e,n){return!!this._specialPropertiesList.find(a=>a.property===e)}isContentPropertyBinding(e,n,a){return!!this.getViewElementSlotDefinition(a,e)}getViewElementSlotDefinition(e,n){const i=this._viewElementTypeResolver.getViewElementRegistryItem(e.type)?.contentSlots?.find(s=>(typeof s=="string"?s:s.name)===n);return typeof i=="string"?{name:i,input:!1,lazy:!1}:i}isInputBinding(e,n,a){return(0,$a.bZ)(a.type,e)}isControlBinding(e,n,a){return this._viewElementTypeResolver.getFormControlRelatesAttribute(a.type)===e}isInputWithValidationBinding(e,n,a){return this.isInputBinding(e,n,a)&&(0,_n.EK)(n)&&(0,$a.Yk)(a.type,e)}isOutputBinding(e,n,a){return(0,$a.MM)(a.type,e)}isTwoWayBinding(e,n,a){const i=(0,$a.Lu)(e);return(0,$a.bZ)(a.type,e)&&(0,$a.MM)(a.type,i)&&!(i in a)&&(0,_n.qG)(n)?(0,_n.EK)(n)?!0:(console.warn(`Cannot use two way binding for '${e}' property of '${a.name}' view element. Expression '${n}' should not have converters, properties etc.`),!1):!1}_processViewElementConfigProperty(e,n,a,i,s){if(this.isContentPropertyBinding(e,n,a)&&Array.isArray(n))this._createContentPropertyComponentParts(e,n,a,i,s);else if(this.isSpecialPropertyBinding(e,n))this._createSpecialPropertyComponentParts(e,n,i);else if(this.isTwoWayBinding(e,n,a))this._createTwoWayBindingComponentParts(e,n,a,i);else if(this.isOutputBinding(e,n,a)){const D={action:"processRequest",requests:Array.isArray(n)?n:[n]};this._createOutputComponentParts(e,D,i)}else this.isInputWithValidationBinding(e,n,a)?this._createInputWithValidationComponentParts(e,n,a,i):this.isControlBinding(e,n,a)?this._createControlInputComponentParts(e,n,a,i):this.isInputBinding(e,n,a)&&this._createInputComponentParts(e,n,a,i)}addIsAttachedConditionInCrtIf(e){const n={propertyKey:this._componentPartsCreatorUtils.getContextPropertyName("isViewAttached",e),value:this.injector.get(Em).viewAttached$.asObservable(),pipes:[{name:"crtAsync"}]},a=e.directives.find(({selector:i})=>i==="crtIf");a?a.values.push(n):e.directives.push({selector:"crtIf",useAsterisk:!0,values:[n]})}create(e,n,a){const i=new xm(n),s=this.getViewElementInfo(e);i.selector=s.selector,i.name=e.name??x5(),i.id=e.id||i.name,i.type=e.type,i.renderStrategy=s.renderStrategy,i.placeholderSize=e.placeholderSize||s.placeholderSize,this._validateRenderStrategyConfig(i);const b=this._componentPartsCreatorUtils.getViewElementEntries(e);for(const[W,ot]of b)W!==this._visibleAttributeName&&this._processViewElementConfigProperty(W,ot,e,i,a);this.createLoadingComponentParts(e,i),a?.useDataItemMarker&&this._createDataItemMarkerComponentParts(e,i),this._createViewElementConfigProviderComponentParts(e,i);const D=b.find(([W])=>W===this._visibleAttributeName);return D?.[0]?this._componentPartsCreatorUtils.createVisibleComponentPartsWrapper(this._visibleAttributeName,D[1],i,e):i}}class Ty extends T5{_getComponentMirror(e){return(0,t.reflectComponentType)(e)}_getSelector(e){const n=this._resolver.getViewElementTypeByRegistryItem(e);return this._getComponentMirror(n).selector}initDependencies(){super.initDependencies(),this._resolver=this.injector.get(Qo.i)}createLazyContentComponentParts(e){const n=new xm;n.selector="ng-template",n.content.push(e);const a=e.directives.find(i=>i.selector==="crtIf");return a&&n.directives.push({selector:"crtIf",values:a.values,useAsterisk:!0}),n.attributes.name={value:e.name},n}getViewElementInfo(e){const n=this._resolver.getViewElementRegistryItem(e.type);return{selector:this._getSelector(n),placeholderSize:"placeholderSize"in n?n.placeholderSize:null,renderStrategy:n.renderStrategy||Sm.D.Default}}addContentProperty(e,n){n.attributes.slot={value:e},n.slot=e,n.attributes["#"+e]={value:""}}}class iS{constructor(e){this._injector=e,this._componentPartsCreatorUtils=this._injector.get(S5.r)}create(e,n,a){const i=new xm(n);return i.selector="crt-view-element-placeholder",i.name=e.name??x5(),i.inputs.caption={value:e.type,propertyKey:this._componentPartsCreatorUtils.getContextPropertyName("caption",i),pipes:[]},"layoutConfig"in e&&this._componentPartsCreatorUtils.createLayoutConfigComponentParts("layoutConfig",e.layoutConfig,i),"visible"in e?this._componentPartsCreatorUtils.createVisibleComponentPartsWrapper("visible",e.visible,i,e):i}addContentProperty(e,n,a){}}class rS extends T5{addContentProperty(e,n,a){this._resolver.getViewElementRegistryItem(a.type)?.contentSlots?.length>1&&(n.attributes[e]={value:""}),n.slot=e,n.attributes["#"+e]={value:""}}initDependencies(){super.initDependencies(),this._resolver=this.injector.get(Qo.i)}getViewElementInfo(e){const n=this._resolver.getSelector(e.type),a=this._resolver.getViewElementRegistryItem(e.type);let i;return this.featureValues["Runtime.WebComponent.DisableOnViewportStrategy"]?i=Sm.D.Default:i=a.renderStrategy??Sm.D.Default,{selector:n,placeholderSize:"placeholderSize"in a?a.placeholderSize:null,renderStrategy:i}}createLoadingComponentParts(e,n){this._resolver.getViewElementRegistryItem(e.type).inputs?.loading&&super.createLoadingComponentParts(e,n)}create(e,n,a){const i=super.create(e,n,a);return this.addIsAttachedConditionInCrtIf(i),i}}class Xd extends Jb{getAngularComponentPartsCreator(e,n){return new Ty(n,this)}create(e,n){const a=e.get(Qo.i);if(!n.type)throw new Error('"Type" property of view config can not be empty');return a.canResolve(n.type)?a.getSelector(n.type)?new rS(e,this):this.getAngularComponentPartsCreator(n,e):(console.warn(`View element with type "${n.type}" not found`),new iS(e))}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Xd)))(a||Xd)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Xd,factory:Xd.\u0275fac})}}var oS=o(40129);const Py=new t.InjectionToken("BINDING_ACTIVATOR");var Oy=o(12841);class X_{static{this.\u0275fac=function(n){return new(n||X_)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:X_,selectors:[["crt-view-element-container"]],inputs:{viewElementConfig:"viewElementConfig"},decls:1,vars:1,consts:[[3,"crtViewElement"]],template:function(n,a){n&1&&t.\u0275\u0275elementContainer(0,0),n&2&&t.\u0275\u0275property("crtViewElement",a.viewElementConfig)},dependencies:[rn.H],encapsulation:2})}}const qb=new t.InjectionToken("PRESERVED_CONTENT_BINDING_ACTIVATOR");class P5{constructor(){this.active$=new m.BehaviorSubject(!0)}}class q_{constructor(e,n){this._containerRef=e,this._template=n,this._subscription=new m.Subscription,this._crtAttachIf$=new m.Subject,this._bindingActivator=(0,t.inject)(qb,{optional:!0})??new P5,this._subscription=(0,m.combineLatest)([this._bindingActivator.active$,this._crtAttachIf$]).subscribe(([a,i])=>this._changeVisibilityByAttachDetachStrategy(a,i))}_changeVisibilityByAttachDetachStrategy(e,n){if(n){if(e){if(!this._viewRef){this._viewRef=this._containerRef.createEmbeddedView(this._template);return}this._containerRef.insert(this._viewRef)}}else{const a=this._containerRef.indexOf(this._viewRef);a>=0&&this._containerRef.detach(a)}}ngOnChanges(e){this._crtAttachIf$.next(this.crtAttachIf)}ngOnDestroy(){this._subscription.unsubscribe(),this._viewRef?.destroy()}static{this.\u0275fac=function(n){return new(n||q_)(t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(t.TemplateRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:q_,selectors:[["","crtAttachIf",""]],inputs:{crtAttachIf:"crtAttachIf"},features:[t.\u0275\u0275NgOnChangesFeature]})}}var tC;(function(r){r.HIDE="hide",r.DESTROY="destroy"})(tC||(tC={}));const Dy="crt-hide-visible",t1="_instanceId",eC="_instanceCache";class e1{constructor(e,n,a){this._view=e,this._template=n,this._featureValues=a,this._context={$implicit:null},this.visibilityStrategyMode=tC.DESTROY}_changeVisibilityByDestroyStrategy(){this.crtIf?this._ref||(this._ref=this._view.createEmbeddedView(this._template,this._context)):(this._view.clear(),this._ref=null)}_canUseHideStrategy(){return this.visibilityStrategyMode===tC.HIDE&&this._featureValues.UseHideVisibilityStrategy}_changeVisibilityByHideStrategy(){if(this.crtIf){if(this._ref){this._getRootNode().classList.remove(Dy);return}this._ref=this._view.createEmbeddedView(this._template,this._context);return}this._ref&&this._getRootNode().classList.add(Dy)}_getRootNode(){return this._ref.rootNodes[0]}ngOnChanges(e){this._context.$implicit=this.crtIf,this._canUseHideStrategy()?this._changeVisibilityByHideStrategy():this._changeVisibilityByDestroyStrategy()}ngOnDestroy(){this._ref?.destroy()}static{this.\u0275fac=function(n){return new(n||e1)(t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(t.TemplateRef),t.\u0275\u0275directiveInject(ge.G))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:e1,selectors:[["","crtIf",""]],inputs:{crtIf:"crtIf",visibilityStrategyMode:[t.\u0275\u0275InputFlags.None,"crtIfVisibilityStrategyMode","visibilityStrategyMode"]},features:[t.\u0275\u0275NgOnChangesFeature]})}}class Tm extends _.NgForOf{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Tm)))(a||Tm)}})()}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Tm,selectors:[["","crtNgFor",""]],features:[t.\u0275\u0275InheritDefinitionFeature]})}}const sS=new t.InjectionToken("CrtNavigationLock");var Ay;(function(r){r[r.Error=0]="Error",r[r.Debugger=1]="Debugger",r[r.Info=2]="Info"})(Ay||(Ay={}));class n1{get dataServiceUri(){return this._dataServiceUri||(this._dataServiceUri=this._injector.get(Yr)),this._dataServiceUri}constructor(e,n){this._httpClient=e,this._injector=n}_createClientLogMessage(e,n){return{message:e,messageType:n,loggerName:"Client"}}_sendData(e){return this._httpClient.post(this.dataServiceUri+"/PostClientLog",{LogItems:[e]})}logError(e){const n=this._createClientLogMessage(e.message,Ay.Error);return this._sendData(n)}logMessage(e,n,a){const i={message:e,messageType:n,loggerName:a};return this._sendData(i)}publishMessage(e){return this._sendData(e)}static{this.\u0275fac=function(n){return new(n||n1)(t.\u0275\u0275inject(l.HttpClient),t.\u0275\u0275inject(t.Injector))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:n1,factory:n1.\u0275fac,providedIn:"root"})}}var O5=o(10086),cS=o(56746),lS=o(19868);class a1{constructor(e){this._injector=e,this._requestBindingConfigInterpreter=this._injector.get(O5.N),this._crtNavigationLock=this._injector.get(sS),this._clientLogService=this._injector.get(n1)}_sendRequest(e,n){var a=this;return(0,bt.A)(function*(){const s={...yield(0,m.lastValueFrom)(a._requestBindingConfigInterpreter.evaluate(e,{...a._bindingContext,initialEvent:n})),$initialEvent:n};return s.$context?.executeRequest(s)??null})()}_sendRequests(e,n){var a=this;return this._crtNavigationLock.wait((0,bt.A)(function*(){let i=null,s=!1;for(const b of n)if(!(s&&b.skipOnError===!0))try{i=yield a._sendRequest(b,e)}catch(D){s=!0,yield(0,m.lastValueFrom)(a._clientLogService.logError(D)),console.error(D)}return i}))}processOutputEvent(e,n){if(this._bindingContext=this._injector.get(wm.I),e.action==="processRequest")this._sendRequests(n,e.requests);else if(e.action==="changeAttributeValue"){const i=n instanceof CustomEvent?n.detail:n;(0,cS.o)(e.attributePath,i,this._bindingContext)}else e.action==="markControlAsTouched"&&(0,lS.p)(e.attributePath,this._bindingContext)}static{this.\u0275fac=function(n){return new(n||a1)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:a1,selectors:[["","crtOutputBinding",""]],exportAs:["crtOutputBinding"],features:[t.\u0275\u0275ProvidersFeature([O5.N])]})}}var nC=o(35894);class Pm{static{this.\u0275fac=function(n){return new(n||Pm)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Pm,selectors:[["","crtViewElementConfig",""]],inputs:{crtViewElementConfig:"crtViewElementConfig"},features:[t.\u0275\u0275ProvidersFeature([{provide:nC.s,useFactory:e=>(0,y.cloneDeep)(e.crtViewElementConfig),deps:[[Pm,new t.Self]]}])]})}}class i1{constructor(e,n){this.changeDetectorRef=e,this.containerRef=n,this.init=new t.EventEmitter}ngOnInit(){this.init.emit(this)}static{this.\u0275fac=function(n){return new(n||i1)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.ViewContainerRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:i1,selectors:[["","crtViewInit",""]],outputs:{init:"init"}})}}class Om extends _.AsyncPipe{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Om)))(a||Om)}})()}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"crtAsync",type:Om,pure:!1})}}const dS=new t.InjectionToken("CRT_SCHEMA_BINDING_CACHE");var pS=o(84157);class r1{constructor(e,n,a,i,s){this._injector=e,this._changeDetector=n,this._bindingExpressionInterpreter=a,this._attributeFormControlExpressionInterpreter=i,this._ngZone=s,this._cache=this._injector.get(dS,null),this._bindingActivator=this._injector.get(Py,null),this._preservedContentBindingActivator=this._injector.get(qb,null),this._viewElementTypeResolver=this._injector.get(Qo.i),this._subscribeToActivator()}_subscribeToActivator(){this._bindingActivator&&(this._bindingActivatorSubscription=(0,m.combineLatest)([this._bindingActivator.active$,this._preservedContentBindingActivator?.active$??(0,m.of)(!0)]).pipe((0,h.map)(([e,n])=>e&&n),(0,h.distinctUntilChanged)(),(0,m.tap)(e=>{e&&this._stream$&&!this._subscription&&(this._subscription=this._stream$.subscribe()),e||(this._subscription?.unsubscribe(),this._subscription=null)})).subscribe())}_isControlProperty(e,n){const a=this._viewElementTypeResolver.getFormControlRelatesAttribute(n.type);return e===a}_getInterpreter(e){return e?this._attributeFormControlExpressionInterpreter:this._bindingExpressionInterpreter}_restoreValueFromCache(e,n,a){if(this._cache&&n.name){const i=this._cache.get(e)?.get(n.name)?.get(a);typeof i<"u"&&(this._result=i)}}_canApplyValueFromCache(e,n,a){return!!(n.name&&this._cache&&typeof this._cache.get(e)?.get(n.name)?.get(a)<"u")}_saveToCache(e,n,a){if(!(!this._cache||!this._viewModelRef?.deref())&&e.name){const i=this._cache.get(this._viewModelRef.deref())||new Map,s=i.get(e.name)||new Map;this._cache.set(this._viewModelRef.deref(),i),i.set(e.name,s),s.set(n,a)}}transform(e,n,a){if(e!==this._oldValue){this._subscription?.unsubscribe(),this._oldValue=e,this._result=null,this._stream$=null;const i=this._isControlProperty(n,a);if(!(0,_n.qG)(e))this._result=i?new O.FormControl(e):e;else{this._bindingContext=this._injector.get(wm.I);const s=this._bindingContext.viewModel$.pipe((0,m.tap)(W=>{const ot=this._canApplyValueFromCache(W,a,n),It=(this._viewModelRef?.deref()||null)!==W,te=this._viewElementTypeResolver.getViewElementInputs(a.type)[n];(!ot&&It&&this._result instanceof Ni.A||te?.reuseStrategy?.resetValue)&&(this._result=null),this._viewModelRef=W?new WeakRef(W):null,this._restoreValueFromCache(W,a,n)})),D=this._getInterpreter(i).evaluate(e,this._bindingContext).pipe((0,E.BV)(this._ngZone),(0,m.tap)(W=>{this._result!==W&&(this._result=W,this._saveToCache(a,n,W),this._changeDetector.markForCheck())}));this._stream$=(0,m.merge)(s,D),this._subscription=this._stream$.subscribe()}}return this._result}ngOnDestroy(){this._subscription?.unsubscribe(),this._bindingActivatorSubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||r1)(t.\u0275\u0275directiveInject(t.Injector,16),t.\u0275\u0275directiveInject(t.ChangeDetectorRef,16),t.\u0275\u0275directiveInject(w5.a,16),t.\u0275\u0275directiveInject(pS.r,16),t.\u0275\u0275directiveInject(t.NgZone,16))}}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"crtBinding",type:r1,pure:!1})}}const Ly=new t.InjectionToken("CRT_JIT_MODULES");class uS extends Error{constructor(e,n){super(`Validation error. Cannot create ${e} with name ${n}. Incorrect format`)}}const mS=/^([#a-zA-Z_]+)([\w_.-]+)/gm;function aC(r,e){const n=e.match(mS);if(!(n?.length&&n[0]===e))throw new uS(r,e)}class qd{constructor(){this._featureValues=(0,t.inject)(ge.G)}create(e){const{attributes:n,content:a,directivesContent:i,inputs:s,outputs:b,parts:D}=e,{id:W,name:ot="root",selector:It}=D,Pt=this._featureValues.DisableRemoveDuplicateIDs?ot:W||ot;return`
			<${It} id="${Pt}" crtViewInit (init)="refs['${ot}'] = $event"
				${s.join(" ")} ${i} ${b.join(" ")} ${n.join(" ")}
			>
				${a.join(" ")}
			</${It}>
		`}static{this.\u0275fac=function(n){return new(n||qd)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:qd,factory:qd.\u0275fac})}}class tp extends qd{_getPlaceholderTemplate(e,n){const a=n?.placeholderSize?.height;return`<div ${e.join(" ")} data-qa="${n?.selector}-placeholder"
					style="height: ${a}; background-color: transparent;">
				</div>`}create(e){const{attributes:n,parts:a}=e,i=super.create(e),s=this._getPlaceholderTemplate(n,a);return`
				<ng-container slot="${a.slot}">
					@defer (on viewport) {
						${i}
					} @placeholder {
						${s}
					}
				</ng-container>
			`}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(tp)))(a||tp)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:tp,factory:tp.\u0275fac})}}class o1{constructor(){this._disableOnViewportRenderFeatureName="Runtime.DisableOnViewportRender",this._featureValues=(0,t.inject)(ge.G),this._injector=(0,t.inject)(t.Injector)}create(e){return!this._featureValues[this._disableOnViewportRenderFeatureName]&&e===Sm.D.OnViewport?this._injector.get(tp):this._injector.get(qd)}static{this.\u0275fac=function(n){return new(n||o1)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:o1,factory:o1.\u0275fac,providedIn:"root"})}}class Dm{static{this.\u0275fac=function(n){return new(n||Dm)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Dm})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Te.c,_.CommonModule,Te.c]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Dm,{declarations:[Om,r1,a1,e1,Pm,X_,i1,Tm,q_],imports:[_.CommonModule,Te.c],exports:[_.CommonModule,Te.c,e1,r1,a1,Pm,Om,X_,i1,Tm,q_]})})();class Am{constructor(e,n,a,i){this._injector=n,this._ngZone=a,this._componentTemplateFactory=i,this._featureValues=this._injector.get(ge.G),this._modules=Am._flatModulesArrays(e)}static _flatModulesArrays(e){const n=e.flat(),a=n.filter((i,s)=>n.indexOf(i)!==s);if(a.length>0){const i=a.map(s=>s.name).join(", ");throw new Error(`There are module duplicates in "${Ly}" token: ${i}`)}return n}_getInputExpression(e,n,a){let i;const s=n.value;return this._featureValues.DisableDoNotUseBindingPipeForConstant?i=e?`"context['${e}']${a}"`:`"${s}${a}"`:e?i=n.pipes||typeof s=="string"?`"context['${e}']${a}"`:`'${s}'`:i=`"${s}${a}"`,i}_createInputDefinitions(e,n){const a=[];for(const[i,s]of Object.entries(e.inputs)){aC("input",i);const b=s.propertyKey;b&&(n[b]=s.value);let D="";for(const It of s.pipes||[]){D+=` | ${It.name}`;for(const Pt of It.arguments||[])n[Pt.propertyKey]=Pt.value,D+=`:context['${Pt.propertyKey}']`}const W=this._getInputExpression(b,s,D),ot=`[${i}]=${W}`;a.push(ot)}return a}_createAttributeDefinitions(e,n){const a=[];for(const[i,s]of Object.entries(e.attributes))aC("attribute",i),s.value?a.push(`${i}="${s.value}"`):a.push(`${i}`);return a}_createOutputDefinitions(e,n){const a=[],i="ref";Object.entries(e.outputs).length>0&&a.push(`crtOutputBinding #${i}="crtOutputBinding"`);for(const[s,b]of Object.entries(e.outputs)){aC("output",s);const D=b.propertyKey;n[D]=b.fn,a.push(`(${s})="context['${D}'](${i}, $event)"`)}return a}_createDirectiveDefinitions(e,n){const a=[],i=[];for(const s of e.directives){const b=s.useAsterisk?`*${s.selector}`:`[${s.selector}]`,D=[];for(const It of s.values){const Pt=It.propertyKey;let te=`context['${Pt}']`;for(const Se of It.pipes||[]){te+=` | ${Se.name}`;for(const On of Se.arguments||[])n[On.propertyKey]=On.value,te+=`:context['${On.propertyKey}']`}(0,m.isObservable)(It.value)?n[Pt]=It.value.pipe((0,E.BV)(this._ngZone)):n[Pt]=It.value,D.push(te)}const{variableName:W}=s;let ot="";s.additionalInputs?.length>0&&(s.useAsterisk?ot=this._getAdditionalStructuredDirectiveInputs(s.additionalInputs):i.push(s.additionalInputs.map(It=>`[${It.propertyKey}]='${It.value}'`).join(";"))),s.rawValue&&D.push(s.rawValue),a.push(`${b}="${D.map(It=>`(${It})`).join(" && ")}${W?";let "+W:""+ot}"`)}return{directives:a,directiveInputs:i}}_getAdditionalStructuredDirectiveInputs(e){return`; ${e.map(a=>`${a.propertyKey}: '${a.value}'`).join("; ")};`}_createContentDefinitions(e,n){const a=[],i=e.content;for(const s of i){const{componentContext:b,componentTemplate:D}=this.createTemplateAndContext(s);a.push(D),Object.assign(n,b)}return a}_isHostModule(e){return oS.g.get(e)?.source==="host"}createTemplateAndContext(e){aC("selector",e.selector);const n={},a=this._createInputDefinitions(e,n),i=this._createAttributeDefinitions(e,n),s=this._createOutputDefinitions(e,n),{directives:b,directiveInputs:D}=this._createDirectiveDefinitions(e,n),W=this._createContentDefinitions(e,n),ot=`${b.join(" ")} ${D.join(" ")}`;return{componentTemplate:this._componentTemplateFactory.create(e.renderStrategy).create({parts:e,inputs:a,outputs:s,content:W,attributes:i,directivesContent:ot}),componentContext:n}}create(e,n,a){const i=this._injector,b=i.get(Oy.m).map(ot=>({provide:Oy.m,useValue:ot,multi:!0})),D=(a??[]).filter(ot=>this._isHostModule(ot));return{componentType:(0,t.Component)({selector:e,template:n,host:{class:"flex-full-height fullscreen-class"},styles:[`
				:host > .stretch {
					flex-grow: 1;
				}
				.${Dy} {
					display: none;
				}
			`],changeDetection:t.ChangeDetectionStrategy.OnPush,imports:[Dm,...this._modules,...D],standalone:!0,providers:[...b,{provide:Py,useValue:{active$:new m.BehaviorSubject(!0)}}]})(class{constructor(){this._bindingActivator=(0,t.inject)(Py),this.ownChangeDetectorRef=(0,t.inject)(t.ChangeDetectorRef),this.injector=i,this.refs={}}activate(){this.ownChangeDetectorRef.reattach(),this._bindingActivator.active$.next(!0)}deactivate(){this.ownChangeDetectorRef.detach(),this._bindingActivator.active$.next(!1)}updateViewElementInput(ot,It,Pt){this.context={...this.context,[ot+":"+It]:Pt},this.refs[ot]?.changeDetectorRef?.detectChanges(),this.refs[ot]?.changeDetectorRef?.markForCheck()}})}}static{this.\u0275fac=function(n){return new(n||Am)(t.\u0275\u0275inject(Ly),t.\u0275\u0275inject(t.Injector),t.\u0275\u0275inject(t.NgZone),t.\u0275\u0275inject(o1))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Am,factory:Am.\u0275fac,providedIn:"root"})}}var gS=o(25409),D5=o(70372);class s1{constructor(e){this._schemaChangeListenerService=e,this._componentInfoCache=new Map,this._destroyed$=new m.Subject,this._schemaChangeListenerService.schemaChanged$.pipe((0,h.takeUntil)(this._destroyed$)).subscribe(n=>{n.schemaType===gS.L.ClientUnitSchema&&this._componentInfoCache.delete(n.name)})}get(e){return this._componentInfoCache.get(e)}set(e,n){this._componentInfoCache.set(e,n)}has(e){return this._componentInfoCache.has(e)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||s1)(t.\u0275\u0275inject(D5.l2))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:s1,factory:s1.\u0275fac,providedIn:"root"})}}var c1=o(67020);class el{constructor(e,n,a,i,s,b,D){this.injector=e,this._featureService=n,this.containerRef=a,this._componentCreator=i,this._componentPartsFactory=s,this._componentStorage=b,this._measurePerformanceService=D,this._featureValues=(0,t.inject)(ge.G),this._changeDetectorRef=(0,t.inject)(t.ChangeDetectorRef),this._schemaAnalysisUtils=(0,t.inject)(v5.d),this._viewElementTypeResolver=(0,t.inject)(Qo.i),this.autoLoadLazyModules=!0}_getContentProperties(e){return this._viewElementTypeResolver.getViewElementRegistryItem(e.type)?.contentSlots?.map(n=>typeof n=="string"?n:n.name)||[]}_getInputProperties(e){const n=this._viewElementTypeResolver.getViewElementRegistryItem(e.type),a=n?.inputs||{};return n.contentSlots&&n.contentSlots.forEach(i=>{typeof i=="object"&&i.input&&(a[i.name]={})}),a}_getOutputProperties(e){return this._viewElementTypeResolver.getViewElementRegistryItem(e.type)?.outputs||{}}_getOutputPropertiesValues(e){const n=this._getOutputProperties(e);return(0,y.pick)(e,Object.keys(n))}_isViewConfigsDifferent(e,n){return e.name!==n.name||e.type!==n.type||this._isOutputPropertiesChanged(e,n)||this._isInputOrContentPropertiesLengthChanged(e,n)}_isInputOrContentPropertiesLengthChanged(e,n){const a=[...Object.keys(this._getInputProperties(e)),...Object.keys(this._getContentProperties(e))],i=[...Object.keys(this._getInputProperties(n)),...Object.keys(this._getContentProperties(n))];return!(0,y.isEqual)(new Set(a),new Set(i))}_isOutputPropertiesChanged(e,n){const a=this._getOutputPropertiesValues(e),i=this._getOutputPropertiesValues(n);return!(0,y.isEqual)(a,i)}_getComponentParts(e){const n=new xm;n.selector="ng-container";for(const a of(0,y.cloneDeep)(this.viewConfig)){const s=this._componentPartsFactory.create(this.injector,a).create(a,null,{useDataItemMarker:e});n.content.push(s)}return n}_updateViewElementInputs(e,n){for(let a=0;a<e.length;a++){const i=n[a],s=e[a];for(const D of Object.keys(this._getInputProperties(i)))(0,y.isEqual)(i[D],s[D])||this.componentInstance.updateViewElementInput(i.name,D,i[D]);const b=this._getContentProperties(i);for(const D of b)this._updateViewElementInputs(s[D]||[],i[D]||[])}}_loadLazyModules(e){var n=this;return(0,bt.A)(function*(){const a=yield Promise.all(Array.from(e,s=>s.loadAndBootstrap())),i=(0,Jx._)(a);n.modules=i})()}_getLazyModuleRefs(){const e=this._schemaAnalysisUtils.getUsedViewElements(this.viewConfig),n=new Set;return e.forEach(a=>{const i=this._viewElementTypeResolver.getViewElementRegistryItem(a);i?.lazy&&n.add(i.lazyModuleRef)}),n}_processView(e,n){this.needCreateView(e,n)?(this.resetPreviousView(),this.createView()):this.updateView(e,n)}createComponent(e,n){let a;const i=this._measurePerformanceService.measure("ViewGenerator.getComponentParts",()=>this._getComponentParts(e)),{componentContext:s,componentTemplate:b}=this._measurePerformanceService.measure("ViewGenerator.createTemplateAndContext",()=>this._componentCreator.createTemplateAndContext(i));!n&&this.selector&&this._componentStorage.has(this.selector)?a=this._componentStorage.get(this.selector):(a=this._measurePerformanceService.measure(`ViewGenerator.createComponent.${this.selector}`,()=>this._componentCreator.create(this.selector,b,this.modules)),!n&&this.selector&&this._componentStorage.set(this.selector,a));const D=this._measurePerformanceService.measure(`ViewGenerator.createComponentRef.${this.selector}`,()=>this.containerRef.createComponent(a.componentType,{index:0,injector:this.injector,environmentInjector:this.injector.get(t.EnvironmentInjector)}));return D.instance.context=s,D}needCreateView(e,n){if(this._featureValues.DisableUpdateWithoutSchemaReload||e.length!==n.length||!this.componentInstance)return!0;for(let a=0;a<e.length;a++){const i=e[a],s=n[a];if(this._isViewConfigsDifferent(i,s))return!0;const b=this._getContentProperties(i);for(const D of b)if(this.needCreateView(i[D]||[],s[D]||[]))return!0}return!1}updateView(e,n){this._measurePerformanceService.measure("ViewGenerator.updateView",()=>{this._updateViewElementInputs(e,n),this.componentInstance.changeDetectorRef.detectChanges()})}resetPreviousView(){this.containerRef.clear()}createView(){const e=this._measurePerformanceService.measure(`ViewGenerator.createComponent.${this.selector}`,()=>this.createComponent(this._featureValues.UseViewElementDataItemMarker,this._featureValues.DisableComponentCacheFeature));return e.instance.changeDetectorRef=e.changeDetectorRef,this.componentInstance=e.instance,e}ngOnChanges(e){const n=e.viewConfig?.currentValue||[],a=e.viewConfig?.previousValue||[];if(n&&!(0,y.isEqual)(a,n)){if(this.autoLoadLazyModules){const i=this._getLazyModuleRefs();if(i.size>0){this._loadLazyModules(i).then(()=>{this._processView(a,n),this._changeDetectorRef.markForCheck()});return}}this._processView(a,n)}}static{this.\u0275fac=function(n){return new(n||el)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(A.wf),t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(Am),t.\u0275\u0275directiveInject(Jb),t.\u0275\u0275directiveInject(s1),t.\u0275\u0275directiveInject(c1.g))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:el,selectors:[["","crtViewGenerator",""]],inputs:{viewConfig:"viewConfig",selector:"selector",modules:"modules",autoLoadLazyModules:"autoLoadLazyModules"},features:[t.\u0275\u0275ProvidersFeature([...wy.v,{provide:Jb,useClass:Xd}]),t.\u0275\u0275NgOnChangesFeature]})}}class l1{constructor(){this._componentRefCache=new Map,this._viewConfigCache=new Map,this._instanceIdsCache=new Map,this._featureValues=(0,t.inject)(ge.G),this._enforceDetectChangesOnDestroyingViewFeatureState=this._featureValues.ShellEnforceDetectChangesOnDestroyingView}invalidateInstance(e){const n=[],a=Array.from(this._componentRefCache.keys());for(const[i,s]of this._instanceIdsCache.entries())s.delete(e),this._enforceDetectChangesOnDestroyingViewFeatureState&&i.instance.ownChangeDetectorRef.detectChanges(),!s.size&&a.indexOf(i)<a.length-1&&n.push(i);n.forEach(i=>{this._componentRefCache.delete(i),this._viewConfigCache.delete(i),this._instanceIdsCache.delete(i),i.destroy()})}saveView(e,n,a){const i=this._componentRefCache.get(e)||new Set;i.add(n),this._componentRefCache.set(e,i),this._viewConfigCache.set(e,a)}saveInstanceId(e,n){const a=this._instanceIdsCache.get(e)||new Set;a.add(n),this._instanceIdsCache.set(e,a)}getInstanceIds(e){return this._instanceIdsCache.get(e)}getView(e){for(const[n,a]of this._componentRefCache.entries())if(a.has(e))return n}getViewConfig(e){return this._viewConfigCache.get(e)}ngOnDestroy(){for(const e of this._componentRefCache.keys())e.destroy();this._componentRefCache.clear(),this._viewConfigCache.clear(),this._instanceIdsCache.clear()}static{this.\u0275fac=function(n){return new(n||l1)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:l1,factory:l1.\u0275fac})}}class ep extends el{constructor(){super(...arguments),this._cacheService=(0,t.inject)(l1),this._viewModel$=new m.ReplaySubject(1),this._bindingContext={viewModel$:this._viewModel$.asObservable()}}_restoreView(e){this.resetPreviousView(),this._componentRef=e,this.componentInstance=this._componentRef.instance,this._viewModel$.next(this.viewModel),this.componentInstance.activate(),this.containerRef.insert(e.hostView,0)}_createOrUpdateViewWithoutCaching(e){if("instanceId"in e){this.resetPreviousView(),this._componentRef=this.createView(),this._componentRef.instance.context[t1]=this.instanceId,this._componentRef.instance.context[eC]=[this.instanceId];return}const n=this.viewConfig||[],a=e.viewConfig?.previousValue||[];"viewConfigId"in e&&(this.needCreateView(a,n)?(this.resetPreviousView(),this._componentRef.destroy(),this._componentRef=this.createView(),this._componentRef.instance.context[t1]=this.instanceId,this._componentRef.instance.context[eC]=[this.instanceId]):this.updateView(a,n))}_tryRestoreAndUpdateView(e){const n=this.viewConfig||[],a=e.viewConfig?.previousValue||[],i=this._cacheService.getView(this.viewConfigId),b=this._cacheService.getViewConfig(i)||a;return this.needCreateView(b,n)||(i&&this._restoreView(i),!this._componentRef)?!1:(this._componentRef.instance.context[t1]=this.instanceId,this.updateView(b,n),!0)}_createOrUpdateView(e){("instanceId"in e||"viewConfigId"in e)&&(this._tryRestoreAndUpdateView(e)||(this.resetPreviousView(),this._componentRef=this.createView(),this._cacheService.invalidateInstance(this.instanceId),this._componentRef.instance.context[t1]=this.instanceId),this._cacheService.saveView(this._componentRef,this.viewConfigId,this.viewConfig),this._cacheService.saveInstanceId(this._componentRef,this.instanceId),this._componentRef.instance.context[eC]=this._cacheService.getInstanceIds(this._componentRef))}_resetPreviousViewWithoutCaching(e){const n="skipCache"in e?e.skipCache.previousValue:this.skipCache;"instanceId"in e&&n&&(this.resetPreviousView(),this._componentRef.destroy(),this._componentRef=null)}resetPreviousView(){if(this.componentInstance?.deactivate(),this._componentRef){const e=this.containerRef.indexOf(this._componentRef.hostView);this.containerRef.detach(e)}}createView(){return this._viewModel$.next(this.viewModel),super.createView()}ngOnChanges(e){if(this._resetPreviousViewWithoutCaching(e),this.skipCache){this._createOrUpdateViewWithoutCaching(e);return}this._createOrUpdateView(e)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(ep)))(a||ep)}})()}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:ep,selectors:[["","crtReusableViewGenerator",""]],inputs:{instanceId:"instanceId",viewModel:"viewModel",viewConfigId:"viewConfigId",skipCache:"skipCache"},features:[t.\u0275\u0275ProvidersFeature([{provide:wm.I,useFactory:e=>e._bindingContext,deps:[(0,t.forwardRef)(()=>ep)]},...wy.v]),t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature]})}}class hS extends Ty{addContentProperty(e,n){super.addContentProperty(e,n),this.featureValues.UseSchemaOutletReuseViewStrategy&&this.isAngularHost&&(this.featureValues.DisableComponentPartsRerenderCache||(n.content[0].content[0].attributes["#"+e]={value:""}))}create(e,n,a){const i=super.create(e,n,a);if(this.featureValues.UseSchemaOutletReuseViewStrategy&&this.isAngularHost)if(this.featureValues.DisableComponentPartsRerenderCache)this.addIsAttachedConditionInCrtIf(i);else{const s=new xm(n);s.selector="ng-template",s.attributes.crtNgFor={value:""},s.attributes["let-instanceId"]={value:""},s.inputs.ngForOf={value:`context['${eC}']`};const b=new xm(s);return s.content=[b],b.selector="ng-container",b.directives.push({selector:"crtAttachIf",values:[],useAsterisk:!0,rawValue:`context['${t1}'] === instanceId`}),b.content=[i],s}return i}}class Lm extends Xd{getAngularComponentPartsCreator(e,n){return n.get(Qo.i).getViewElementRegistryItem(e.type)?.reuseStrategy===$t.B.Rerender?new hS(n,this):new Ty(n,this)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Lm)))(a||Lm)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Lm,factory:Lm.\u0275fac})}}class uo{static forRoot(e){return{ngModule:uo,providers:[{provide:Ly,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||uo)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:uo})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:Jb,useClass:Lm},qd,tp],imports:[_.CommonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(uo,{declarations:[el,ep],imports:[_.CommonModule],exports:[el,ep]})})();class qs{constructor(e){this._sanitizer=e}transform(e,n){switch(n){case"html":return this._sanitizer.bypassSecurityTrustHtml(e);case"style":return this._sanitizer.bypassSecurityTrustStyle(e);case"script":return this._sanitizer.bypassSecurityTrustScript(e);case"url":return this._sanitizer.bypassSecurityTrustUrl(e);case"resourceUrl":return this._sanitizer.bypassSecurityTrustResourceUrl(e);default:return this._sanitizer.bypassSecurityTrustHtml(e)}}static{this.\u0275fac=function(n){return new(n||qs)(t.\u0275\u0275directiveInject(p.DomSanitizer,16))}}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"bypassSecurityTrust",type:qs,pure:!0})}}class Bi{static{this.\u0275fac=function(n){return new(n||Bi)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Bi})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Bi,{declarations:[qs],exports:[qs]})})();var km=o(8144);const _S=["*"];let Rm=class j3 extends km.Mm{constructor(e){super(e),this.injector=e,this.tools=[]}static{this.\u0275fac=function(n){return new(n||j3)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:j3,selectors:[["crt-tab"]],inputs:{tools:"tools"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:_S,decls:2,vars:1,consts:[[1,"crt-tab"]],template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275projection(1),t.\u0275\u0275elementEnd()),n&2&&t.\u0275\u0275attribute("id",a.id)},styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-tab{display:flex;flex-direction:column;min-height:0;min-width:0;flex-grow:1}crt-tab>.crt-tab{overflow:auto;display:flex;flex-direction:column;height:100%;position:relative}crt-tab>.crt-tab>.stretch{flex-grow:1}crt-tab.stretch>.crt-tab{flex-grow:1}
`],encapsulation:2,changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],Rm.prototype,"tools",void 0),Rm=(0,u.__decorate)([(0,Qt.v)({type:"crt.TabContainer",contentSlots:["items"],reuseStrategy:$t.B.Reuse}),(0,$e.f)({propertiesPanelComponentTypeName:"crt.TabItemPropertiesPanel",viewElementGroupType:pn.J.LayoutElements,typeCaption:"TypeCaptions.TabContainer",collectionPropertyNames:["items","tools"],designControlConfig:{selfSelect:!1}}),(0,u.__metadata)("design:paramtypes",[t.Injector])],Rm);const fS=new Map([[je.PrimaryContrast500,"var(--crt-palette-background-500)"],[je.Foreground500,"var(--crt-palette-foreground-500)"],[je.Label500,"var(--crt-palette-label-500)"],[je.BrandSecondary500,"var(--crt-palette-secondary-500)"],[je.Warning500,"var(--crt-palette-error-500)"],[je.Brand500,"var(--crt-palette-navigation-primary-500)"],[je.NavigationPrimary500,"var(--crt-palette-navigation-primary-500)"],[je.Primary500,"var(--crt-palette-primary-500)"]]);function Nm(r){return Object.values(je).includes(r)&&r!==je.Transparent?fS.get(r):r}function bS(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",4)(1,"div",5),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.selectTab(i))}),t.\u0275\u0275elementEnd()()}}function CS(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",10),t.\u0275\u0275element(1,"img",11),t.\u0275\u0275pipe(2,"bypassSecurityTrust"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("title",n.hint||""),t.\u0275\u0275advance(),t.\u0275\u0275property("src",t.\u0275\u0275pipeBind2(2,3,n.icon,"resourceUrl"),t.\u0275\u0275sanitizeUrl)("alt",n.hint)}}function yS(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",12),t.\u0275\u0275element(1,"mat-icon",13),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("title",n.hint||""),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("color",n.titleColorValue),t.\u0275\u0275property("svgIcon",n.icon||"contact-icon")}}function vS(r,e){r&1&&t.\u0275\u0275element(0,"div",14)}function MS(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0,6),t.\u0275\u0275template(1,CS,3,6,"div",7)(2,yS,2,4,"div",8)(3,vS,1,0,"div",9),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngSwitch",n.iconSource),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","url"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.caption&&n.iconPosition!=="only-icon")}}function IS(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-label",15),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("caption",n.caption)("labelColor",n.titleColorValue)("title",n.caption&&n.caption.toUpperCase())}}function xS(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",4)(1,"div",16),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.selectTab(i))}),t.\u0275\u0275elementEnd()()}}let di=class u0 extends ue.K{constructor(){super(...arguments),this._selectedTitleColor=je.Auto,this._titleColor=je.Auto,this._partsVisible=!1,this._selected=!1,this.selectedChange=new t.EventEmitter}set selectedTitleColor(e){this._selectedTitleColor=e,this._initTabTitleColors()}set titleColor(e){this._titleColor=e,this._initTabTitleColors()}set selected(e){this._selected=e,this._actualizeProperties()}get selected(){return this._selected}get partsVisible(){return this._partsVisible}set styleType(e){this._styleType=e,this._actualizeProperties()}get styleType(){return this._styleType}get titleColorValue(){return this.selected?this._selectedTitleColorValue:this._titleColorValue}_initTabTitleColors(){this._selectedTitleColorValue=this._selectedTitleColor!==je.Auto?Nm(this._selectedTitleColor):null,this._titleColorValue=this._titleColor!==je.Auto?Nm(this._titleColor):null}_actualizeProperties(){this._partsVisible=this.styleType==="fullyColored"&&this.selected,this.detectChanges()}ngOnInit(){this._initTabTitleColors(),this._actualizeProperties()}selectTab(e){e.stopPropagation(),this.selectedChange.emit()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(u0)))(a||u0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:u0,selectors:[["crt-tab-panel-header-item"]],inputs:{selectedTitleColor:"selectedTitleColor",titleColor:"titleColor",caption:"caption",hint:"hint",iconSource:"iconSource",iconPosition:"iconPosition",icon:"icon",selected:"selected",styleType:"styleType"},outputs:{selectedChange:"selectedChange"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:5,consts:[["class","tab-header-part-wrap",4,"ngIf"],[1,"tab-header",3,"title"],[3,"ngSwitch",4,"ngIf"],["class","tab-label","data-qa","tab-label","labelType","headline-4","labelEllipsis","true",3,"caption","labelColor","title",4,"ngIf"],[1,"tab-header-part-wrap"],[1,"pre-tab-header","tab-header-part",3,"click"],[3,"ngSwitch"],["class","tab-icon url",3,"title",4,"ngSwitchCase"],["class","tab-icon system",3,"title",4,"ngSwitchDefault"],["class","tab-icon-space",4,"ngIf"],[1,"tab-icon","url",3,"title"],[3,"src","alt"],[1,"tab-icon","system",3,"title"],[3,"svgIcon"],[1,"tab-icon-space"],["data-qa","tab-label","labelType","headline-4","labelEllipsis","true",1,"tab-label",3,"caption","labelColor","title"],[1,"post-tab-header","tab-header-part",3,"click"]],template:function(n,a){n&1&&(t.\u0275\u0275template(0,bS,2,0,"div",0),t.\u0275\u0275elementStart(1,"div",1),t.\u0275\u0275template(2,MS,4,3,"ng-container",2)(3,IS,1,3,"crt-label",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,xS,2,0,"div",0)),n&2&&(t.\u0275\u0275property("ngIf",a.partsVisible),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("title",a.hint),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.iconPosition!=="only-text"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.iconPosition!=="only-icon"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.partsVisible))},dependencies:[_.NgIf,_.NgSwitch,_.NgSwitchCase,_.NgSwitchDefault,_t.MatIcon,hn,qs],styles:[`crt-tab-panel-header-item{display:flex;flex-direction:row;max-width:280px}
`],encapsulation:2,changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],di.prototype,"selectedTitleColor",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],di.prototype,"titleColor",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],di.prototype,"caption",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],di.prototype,"hint",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],di.prototype,"iconSource",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],di.prototype,"iconPosition",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],di.prototype,"icon",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],di.prototype,"selected",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],di.prototype,"styleType",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],di.prototype,"selectedChange",void 0),di=(0,u.__decorate)([(0,Qt.v)({type:"crt.TabPanelHeaderItem",reuseStrategy:$t.B.Reuse})],di);const SS=["tabs"],wS=["tabGroup"];function ES(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function TS(r,e){if(r&1&&t.\u0275\u0275template(0,ES,1,0,"ng-container",5),r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("ngTemplateOutlet",n)}}function PS(r,e){r&1&&(t.\u0275\u0275elementStart(0,"mat-tab",3),t.\u0275\u0275template(1,TS,1,1,"ng-template",4),t.\u0275\u0275elementEnd())}let np=class m0 extends ue.K{constructor(){super(...arguments),this._itemsSubscription=new m.Subscription,this._changesSubscription=new m.Subscription,this._tabsSubscription=new m.Subscription,this._tabItems=[],this._selectedTab=null,this._selectedTabIndex=-1,this.selectedTabIndexChange=new t.EventEmitter}set selectedTabIndex(e){this._selectedTabIndex=e,this.changeDetectorRef.markForCheck()}get selectedTabIndex(){return this._selectedTabIndex}_checkSelectedTabIndex(){const e=this._tabItems;if(this._tabItems=this.items.map(a=>a.id),this.selectedTabIndex===-1)return;let n=this._tabItems.indexOf(this._selectedTab);if(n===-1){n=this.selectedTabIndex;const i=e.slice(this.selectedTabIndex).filter(s=>this._tabItems.includes(s));i.length>0?n=this._tabItems.indexOf(i[0]):n=this.selectedTabIndex>this._tabItems.length-1?this._tabItems.length-1:n}this.selectedTabIndex=n,this._tabGroup&&this._tabGroup.selectedIndex!==this.selectedTabIndex&&(this._tabGroup.selectedIndex=this.selectedTabIndex),this.detectChanges(),this.selectedChange(n,!0)}_onItemsChange(){this._checkSelectedTabIndex(),this._itemsSubscription.unsubscribe(),this._itemsSubscription=new m.Subscription,this.items.forEach((e,n)=>{this._itemsSubscription.add(e.selectedChange.subscribe(()=>{this.selectedChange(n)}))})}ngAfterContentInit(){this._tabItems=this.items.map(n=>n.id);const e=this.items.changes.subscribe(()=>this._onItemsChange());this._changesSubscription.add(e),this._tabsSubscription.add(this.tabs.changes.subscribe(()=>this.changeDetectorRef.detectChanges()))}selectedChange(e,n=!0){this.items.forEach((a,i)=>{a.selected=e===i}),n&&this.selectedTabIndexChange.emit(e),this._selectedTab=this._tabItems[e]}ngOnChanges(e){typeof e.selectedTabIndex<"u"&&this.selectedChange(this.selectedTabIndex,!1)}ngOnDestroy(){this._itemsSubscription.unsubscribe(),this._tabsSubscription.unsubscribe(),this._changesSubscription.unsubscribe()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(m0)))(a||m0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:m0,selectors:[["crt-tab-panel-header"]],contentQueries:function(n,a,i){if(n&1&&(t.\u0275\u0275contentQuery(i,SS,4,t.TemplateRef),t.\u0275\u0275contentQuery(i,di,4)),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.tabs=s),t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.items=s)}},viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(wS,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a._tabGroup=i.first)}},inputs:{selectedTabIndex:"selectedTabIndex"},features:[t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature],decls:3,vars:3,consts:[["tabGroup",""],["data-qa","tabs","animationDuration","0ms",1,"tab-group",3,"selectedIndexChange","selectedIndex","disableRipple"],["data-qa","tab",4,"ngFor","ngForOf"],["data-qa","tab"],["mat-tab-label",""],[4,"ngTemplateOutlet"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-tab-group",1,0),t.\u0275\u0275listener("selectedIndexChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.selectedChange(b,!0))}),t.\u0275\u0275template(2,PS,2,0,"mat-tab",2),t.\u0275\u0275elementEnd()}n&2&&(t.\u0275\u0275property("selectedIndex",a.selectedTabIndex)("disableRipple",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.tabs))},dependencies:[_.NgForOf,_.NgTemplateOutlet,Xs.MatTabLabel,Xs.MatTab,Xs.MatTabGroup],encapsulation:2,changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number),(0,u.__metadata)("design:paramtypes",[Number])],np.prototype,"selectedTabIndex",null),np=(0,u.__decorate)([(0,Qt.v)({type:"crt.TabPanelHeader",contentSlots:[{name:"tabs",lazy:!0,input:!1}],reuseStrategy:$t.B.Reuse})],np);var OS=o(26828),ky=o.n(OS);class Vm{constructor(e){this.tpl=e}static{this.\u0275fac=function(n){return new(n||Vm)(t.\u0275\u0275directiveInject(t.TemplateRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Vm,selectors:[["ng-template","name",""]],inputs:{name:"name"},exportAs:["name"]})}}const DS=["tools"],AS=[[["","slot","items"]],[["","slot","tools"]]],LS=["[slot='items']","[slot='tools']"];function kS(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",7),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.hide())}),t.\u0275\u0275elementEnd()}r&2&&t.\u0275\u0275property("icon","close-button-icon")("title",t.\u0275\u0275pipeBind1(1,2,"TabPanel.CloseTabHint"))}function RS(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",4)(2,"div",5),t.\u0275\u0275projection(3,1),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,kS,2,4,"crt-button",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275styleProp("background",n.background),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.allowToggleClose)}}let Yo=class B3 extends km.Mm{constructor(e){super(e),this._backgroundColor=je.PrimaryContrast500,this._isToggleTabHeaderVisible=!0,this.allowToggleClose=!0,this.closeContainer=new t.EventEmitter,this._bindingActivator=e.get(qb)}set backgroundColor(e){this._backgroundColor=e||je.PrimaryContrast500,this._initBackground()}get background(){return this._background}get isToggleTabHeaderVisible(){return this._isToggleTabHeaderVisible&&this.tools.length>0}set isToggleTabHeaderVisible(e){this._isToggleTabHeaderVisible=e}get element(){return this.elementRef?.nativeElement}_initBackground(){this._background=Nm(this._backgroundColor)}getClasses(){const e=super.getClasses();return(0,y.isEmpty)(this.padding)&&e.push("default-padding"),e}ngOnInit(){this._initBackground()}activate(){this._bindingActivator.active$.next(!0)}deactivate(){this._bindingActivator.active$.next(!1)}hide(){this.closeContainer.emit()}static{this.\u0275fac=function(n){return new(n||B3)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:B3,selectors:[["crt-toggle-container-item"]],contentQueries:function(n,a,i){if(n&1&&t.\u0275\u0275contentQuery(i,DS,4),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.tools=s)}},inputs:{allowToggleClose:"allowToggleClose",backgroundColor:"backgroundColor",isToggleTabHeaderVisible:"isToggleTabHeaderVisible"},outputs:{closeContainer:"closeContainer"},features:[t.\u0275\u0275ProvidersFeature([{provide:qb,useClass:P5}]),t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:LS,decls:5,vars:5,consts:[[4,"ngIf"],[1,"tab-body","flex-full-height",3,"ngClass"],[1,"crt-toggle-container-item"],[1,"crt-toggle-container-item-content"],[1,"toggle-container-header"],[1,"toggle-container-item-tools"],["class","close-button","size","medium","iconPosition","only-icon",3,"icon","title","clicked",4,"ngIf"],["size","medium","iconPosition","only-icon",1,"close-button",3,"clicked","icon","title"]],template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(AS),t.\u0275\u0275template(0,RS,5,3,"ng-container",0),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3),t.\u0275\u0275projection(4),t.\u0275\u0275elementEnd()()()),n&2&&(t.\u0275\u0275property("ngIf",a.isToggleTabHeaderVisible),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("background",a.background),t.\u0275\u0275property("ngClass",a.classes),t.\u0275\u0275advance(),t.\u0275\u0275attribute("id",a.id))},dependencies:[_.NgClass,_.NgIf,Jt,f.TranslatePipe],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-tab-panel,crt-tab-panel-container,crt-toggle-container,crt-designer-tab-panel{display:flex;flex-direction:column;min-height:0;min-width:0;overflow:auto;position:relative}crt-tab-panel .crt-tab-panel,crt-tab-panel-container .crt-tab-panel,crt-toggle-container .crt-tab-panel,crt-designer-tab-panel .crt-tab-panel{overflow:hidden;box-sizing:border-box;border-radius:8px;-webkit-border-radius:8px}crt-tab-panel.stretch .crt-tab-panel,crt-tab-panel.stretch .crt-toggle-container,crt-tab-panel-container.stretch .crt-tab-panel,crt-tab-panel-container.stretch .crt-toggle-container,crt-toggle-container.stretch .crt-tab-panel,crt-toggle-container.stretch .crt-toggle-container,crt-designer-tab-panel.stretch .crt-tab-panel,crt-designer-tab-panel.stretch .crt-toggle-container{flex-grow:1}crt-tab-panel.stretch .crt-tab-panel .tab-body,crt-tab-panel.stretch .crt-toggle-container .tab-body,crt-tab-panel-container.stretch .crt-tab-panel .tab-body,crt-tab-panel-container.stretch .crt-toggle-container .tab-body,crt-toggle-container.stretch .crt-tab-panel .tab-body,crt-toggle-container.stretch .crt-toggle-container .tab-body,crt-designer-tab-panel.stretch .crt-tab-panel .tab-body,crt-designer-tab-panel.stretch .crt-toggle-container .tab-body{min-height:0;min-width:0;overflow:auto}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header{padding-left:8px;padding-right:8px;box-sizing:border-box;height:40px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover{padding-bottom:0;border-bottom-width:2px;border-bottom-style:solid;background-color:transparent}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination{min-width:24px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.38}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron{border-width:1px 1px 0 0;height:6px;width:6px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar{display:none}crt-tab-panel .crt-tab-panel .mdc-tab,crt-tab-panel .crt-tab-panel .mat-mdc-tab,crt-tab-panel .crt-tab-panel .mdc-tab--active,crt-tab-panel crt-toggle-container-item .mdc-tab,crt-tab-panel crt-toggle-container-item .mat-mdc-tab,crt-tab-panel crt-toggle-container-item .mdc-tab--active,crt-tab-panel-container .crt-tab-panel .mdc-tab,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab,crt-tab-panel-container .crt-tab-panel .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item .mdc-tab,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active,crt-toggle-container .crt-tab-panel .mdc-tab,crt-toggle-container .crt-tab-panel .mat-mdc-tab,crt-toggle-container .crt-tab-panel .mdc-tab--active,crt-toggle-container crt-toggle-container-item .mdc-tab,crt-toggle-container crt-toggle-container-item .mat-mdc-tab,crt-toggle-container crt-toggle-container-item .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel .mdc-tab,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item .mdc-tab,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active{min-width:0;max-width:280px;height:36px;box-sizing:border-box;padding:0 0 2px;margin:0 12px;flex-grow:0}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before{background:unset}crt-tab-panel .crt-tab-panel .mdc-tab:first-of-type,crt-tab-panel .crt-tab-panel .mat-mdc-tab:first-of-type,crt-tab-panel .crt-tab-panel .mdc-tab--active:first-of-type,crt-tab-panel crt-toggle-container-item .mdc-tab:first-of-type,crt-tab-panel crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-tab-panel crt-toggle-container-item .mdc-tab--active:first-of-type,crt-tab-panel-container .crt-tab-panel .mdc-tab:first-of-type,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab:first-of-type,crt-tab-panel-container .crt-tab-panel .mdc-tab--active:first-of-type,crt-tab-panel-container crt-toggle-container-item .mdc-tab:first-of-type,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active:first-of-type,crt-toggle-container .crt-tab-panel .mdc-tab:first-of-type,crt-toggle-container .crt-tab-panel .mat-mdc-tab:first-of-type,crt-toggle-container .crt-tab-panel .mdc-tab--active:first-of-type,crt-toggle-container crt-toggle-container-item .mdc-tab:first-of-type,crt-toggle-container crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-toggle-container crt-toggle-container-item .mdc-tab--active:first-of-type,crt-designer-tab-panel .crt-tab-panel .mdc-tab:first-of-type,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab:first-of-type,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active:first-of-type,crt-designer-tab-panel crt-toggle-container-item .mdc-tab:first-of-type,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active:first-of-type{padding-left:0}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content{justify-content:left;overflow:hidden;padding:2px 0 0}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header{display:flex;align-items:center;overflow:hidden;padding:16px 4px 14px}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content{align-items:center}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon{display:flex;align-items:center;width:16px;height:100%;pointer-events:none}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img{width:16px;height:16px}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space{display:block;width:8px}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label{overflow:hidden;pointer-events:none}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label{border-width:0}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper{height:100%;min-height:0}crt-tab-panel .crt-tab-panel>.mat-mdc-tab-group,crt-tab-panel crt-toggle-container-item>.mat-mdc-tab-group,crt-tab-panel-container .crt-tab-panel>.mat-mdc-tab-group,crt-tab-panel-container crt-toggle-container-item>.mat-mdc-tab-group,crt-toggle-container .crt-tab-panel>.mat-mdc-tab-group,crt-toggle-container crt-toggle-container-item>.mat-mdc-tab-group,crt-designer-tab-panel .crt-tab-panel>.mat-mdc-tab-group,crt-designer-tab-panel crt-toggle-container-item>.mat-mdc-tab-group{height:100%;width:100%}crt-tab-panel .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-toggle-container .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:0}crt-tab-panel .crt-tab-panel .tab-body,crt-tab-panel crt-toggle-container-item .tab-body,crt-tab-panel-container .crt-tab-panel .tab-body,crt-tab-panel-container crt-toggle-container-item .tab-body,crt-toggle-container .crt-tab-panel .tab-body,crt-toggle-container crt-toggle-container-item .tab-body,crt-designer-tab-panel .crt-tab-panel .tab-body,crt-designer-tab-panel crt-toggle-container-item .tab-body{height:calc(100% + 2px);box-sizing:content-box}crt-tab-panel .crt-tab-panel .tab-body.default-padding,crt-tab-panel crt-toggle-container-item .tab-body.default-padding,crt-tab-panel-container .crt-tab-panel .tab-body.default-padding,crt-tab-panel-container crt-toggle-container-item .tab-body.default-padding,crt-toggle-container .crt-tab-panel .tab-body.default-padding,crt-toggle-container crt-toggle-container-item .tab-body.default-padding,crt-designer-tab-panel .crt-tab-panel .tab-body.default-padding,crt-designer-tab-panel crt-toggle-container-item .tab-body.default-padding{padding:5px 24px}crt-tab-panel .crt-tab-panel .tab-body>.stretch,crt-tab-panel crt-toggle-container-item .tab-body>.stretch,crt-tab-panel-container .crt-tab-panel .tab-body>.stretch,crt-tab-panel-container crt-toggle-container-item .tab-body>.stretch,crt-toggle-container .crt-tab-panel .tab-body>.stretch,crt-toggle-container crt-toggle-container-item .tab-body>.stretch,crt-designer-tab-panel .crt-tab-panel .tab-body>.stretch,crt-designer-tab-panel crt-toggle-container-item .tab-body>.stretch{flex-grow:1}crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header{border-top-width:3px;border-top-style:solid}crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active{height:36px}crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header{margin-bottom:4px}crt-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header{box-sizing:border-box;border-top-width:3px;border-top-style:solid;border-top-left-radius:8px;border-top-right-radius:8px}crt-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header{margin-bottom:4px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header{padding:0;border-bottom:none;box-sizing:border-box}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab{padding:0;height:40px;box-sizing:border-box;border:unset;background-color:transparent}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover{border:none}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content{height:40px;box-sizing:border-box}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active{margin:0;padding:0;border-bottom:none}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content{padding:0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap{height:40px;width:8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part{width:100%;height:100%}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header{border-radius:0 0 8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header{border-radius:0 0 0 8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header{margin-top:3px;padding:8px 16px;height:37px;box-sizing:border-box;border-radius:5px 5px 0 0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before{padding:0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron{margin-left:8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after{padding:0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{margin-left:-8px}crt-tab-panel .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header{display:none}crt-tab-panel .crt-tab-panel.mode-toggle .tab-container-header,crt-tab-panel crt-toggle-container-item.mode-toggle .tab-container-header,crt-tab-panel-container .crt-tab-panel.mode-toggle .tab-container-header,crt-tab-panel-container crt-toggle-container-item.mode-toggle .tab-container-header,crt-toggle-container .crt-tab-panel.mode-toggle .tab-container-header,crt-toggle-container crt-toggle-container-item.mode-toggle .tab-container-header,crt-designer-tab-panel .crt-tab-panel.mode-toggle .tab-container-header,crt-designer-tab-panel crt-toggle-container-item.mode-toggle .tab-container-header{padding:12px 24px}crt-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper,crt-tab-panel-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-tab-panel-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper,crt-toggle-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-toggle-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper,crt-designer-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-designer-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper{height:100%}crt-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-tab-panel-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-tab-panel-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-toggle-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-toggle-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-designer-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-designer-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content{display:flex;flex-direction:column}crt-tab-panel .crt-tab-panel .tab-container-header,crt-tab-panel .crt-tab-panel .toggle-container-header,crt-tab-panel crt-toggle-container-item .tab-container-header,crt-tab-panel crt-toggle-container-item .toggle-container-header,crt-tab-panel-container .crt-tab-panel .tab-container-header,crt-tab-panel-container .crt-tab-panel .toggle-container-header,crt-tab-panel-container crt-toggle-container-item .tab-container-header,crt-tab-panel-container crt-toggle-container-item .toggle-container-header,crt-toggle-container .crt-tab-panel .tab-container-header,crt-toggle-container .crt-tab-panel .toggle-container-header,crt-toggle-container crt-toggle-container-item .tab-container-header,crt-toggle-container crt-toggle-container-item .toggle-container-header,crt-designer-tab-panel .crt-tab-panel .tab-container-header,crt-designer-tab-panel .crt-tab-panel .toggle-container-header,crt-designer-tab-panel crt-toggle-container-item .tab-container-header,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header{display:flex;justify-content:space-between;padding:8px 0;align-items:center}crt-tab-panel .crt-tab-panel .tab-container-header .tab-tools,crt-tab-panel .crt-tab-panel .toggle-container-header .tab-tools,crt-tab-panel crt-toggle-container-item .tab-container-header .tab-tools,crt-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools,crt-tab-panel-container .crt-tab-panel .tab-container-header .tab-tools,crt-tab-panel-container .crt-tab-panel .toggle-container-header .tab-tools,crt-tab-panel-container crt-toggle-container-item .tab-container-header .tab-tools,crt-tab-panel-container crt-toggle-container-item .toggle-container-header .tab-tools,crt-toggle-container .crt-tab-panel .tab-container-header .tab-tools,crt-toggle-container .crt-tab-panel .toggle-container-header .tab-tools,crt-toggle-container crt-toggle-container-item .tab-container-header .tab-tools,crt-toggle-container crt-toggle-container-item .toggle-container-header .tab-tools,crt-designer-tab-panel .crt-tab-panel .tab-container-header .tab-tools,crt-designer-tab-panel .crt-tab-panel .toggle-container-header .tab-tools,crt-designer-tab-panel crt-toggle-container-item .tab-container-header .tab-tools,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools{width:100%}crt-tab-panel .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-tab-panel .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-tab-panel crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools>ng-component,crt-tab-panel-container .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-tab-panel-container .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-tab-panel-container crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-tab-panel-container crt-toggle-container-item .toggle-container-header .tab-tools>ng-component,crt-toggle-container .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-toggle-container .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-toggle-container crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-toggle-container crt-toggle-container-item .toggle-container-header .tab-tools>ng-component,crt-designer-tab-panel .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-designer-tab-panel .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-designer-tab-panel crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools>ng-component{display:flex;flex-direction:column}crt-tab-panel .crt-tab-panel .tab-container-header .close-button,crt-tab-panel .crt-tab-panel .toggle-container-header .close-button,crt-tab-panel crt-toggle-container-item .tab-container-header .close-button,crt-tab-panel crt-toggle-container-item .toggle-container-header .close-button,crt-tab-panel-container .crt-tab-panel .tab-container-header .close-button,crt-tab-panel-container .crt-tab-panel .toggle-container-header .close-button,crt-tab-panel-container crt-toggle-container-item .tab-container-header .close-button,crt-tab-panel-container crt-toggle-container-item .toggle-container-header .close-button,crt-toggle-container .crt-tab-panel .tab-container-header .close-button,crt-toggle-container .crt-tab-panel .toggle-container-header .close-button,crt-toggle-container crt-toggle-container-item .tab-container-header .close-button,crt-toggle-container crt-toggle-container-item .toggle-container-header .close-button,crt-designer-tab-panel .crt-tab-panel .tab-container-header .close-button,crt-designer-tab-panel .crt-tab-panel .toggle-container-header .close-button,crt-designer-tab-panel crt-toggle-container-item .tab-container-header .close-button,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header .close-button{margin-left:auto}crt-tab-panel .crt-tab-panel .toggle-container-header,crt-tab-panel crt-toggle-container-item .toggle-container-header,crt-tab-panel-container .crt-tab-panel .toggle-container-header,crt-tab-panel-container crt-toggle-container-item .toggle-container-header,crt-toggle-container .crt-tab-panel .toggle-container-header,crt-toggle-container crt-toggle-container-item .toggle-container-header,crt-designer-tab-panel .crt-tab-panel .toggle-container-header,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header{padding:12px 24px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper{overflow:initial}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow:initial;width:100%}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content{overflow:initial}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header{border-radius:0 0 0 8px}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header{border-radius:0 0 8px}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron{margin-left:0}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{margin-left:8px}crt-tab-panel[dir=rtl] .tab-container-header .close-button,crt-tab-panel-container[dir=rtl] .tab-container-header .close-button,crt-toggle-container[dir=rtl] .tab-container-header .close-button,crt-designer-tab-panel[dir=rtl] .tab-container-header .close-button{margin-right:auto;margin-left:0}
`,`crt-toggle-container-item{display:flex;flex-direction:column;height:100%}crt-toggle-container-item.hide{display:none}crt-toggle-container-item>.tab-body>.crt-toggle-container-item{height:100%;padding-bottom:5px;display:flex;flex-direction:column;flex-grow:1;min-height:auto;min-width:auto;overflow:visible}crt-toggle-container-item>.tab-body>.crt-toggle-container-item>.crt-toggle-container-item-content{height:100%;display:flex;flex-direction:column;overflow:auto}crt-toggle-container-item>.tab-body>.crt-toggle-container-item>.crt-toggle-container-item-content>.stretch{flex-grow:1}crt-toggle-container-item>.toggle-container-header{padding:12px 24px}crt-toggle-container-item>.toggle-container-header>.toggle-container-item-tools{width:100%}.sliding-animation crt-toggle-container-item{width:100%;position:relative;transition:transform .25s ease;z-index:1;top:0;display:block}.sliding-animation crt-toggle-container-item.selected{z-index:2;transform:translate(0)}.sliding-animation crt-toggle-container-item.sliding{position:absolute}.sliding-animation crt-toggle-container-item.hidden{display:none}.sliding-animation crt-toggle-container-item.next-tab{transform:translate(100%)}.sliding-animation crt-toggle-container-item.previous-tab{transform:translate(-100%)}crt-tab-panel-header+crt-toggle-container>.crt-toggle-container crt-toggle-container-item{height:calc(100% - 40px)}crt-tab-panel-header+crt-toggle-container>.crt-toggle-container crt-toggle-container-item crt-toggle-container-item{height:inherit}crt-tab-panel-header+crt-toggle-container>.crt-toggle-container crt-toggle-container-item>.tab-body>.crt-toggle-container-item{height:calc(100% - 40px)}
`],encapsulation:2})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Yo.prototype,"allowToggleClose",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Yo.prototype,"closeContainer",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Yo.prototype,"backgroundColor",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Yo.prototype,"isToggleTabHeaderVisible",null),Yo=(0,u.__decorate)([(0,Qt.v)({type:"crt.ToggleContainerItem",contentSlots:["items","tools"],reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector])],Yo);const NS=["container"];function VS(r,e){r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"div",null,0),t.\u0275\u0275elementContainerEnd())}let rr=class z3 extends km.Mm{get selectedTabIndex(){return this._selectedTabIndex$.value}set selectedTabIndex(e){this._previousSelectedTabIndex=this._selectedTabIndex$.value,this._selectedTabIndex$.next(e)}get _useBingingActivator(){return this._featureValues?.UseSchemaOutletReuseViewStrategy&&this._featureValues?.UseReuseViewStrategyBindingActivator}constructor(e){super(e),this._subscription=new m.Subscription,this._rendered=new Map,this._slidingAnimationDuration=250,this._animationSubscriptions=[],this._isAnimationInProgress=!1,this._firstOpen=!0,this._animationFinished=new t.EventEmitter,this._updateView=new m.Subject,this._selectedTabIndex$=new m.BehaviorSubject(-1),this.selectedTab=null,this.preserveContent=!0,this.slidingAnimation=!1,this.selectedTabIndexChange=new t.EventEmitter,this.selectedTabChange=new t.EventEmitter,this._featureValues=this.injector.get(ge.G)}_renderItem(e,n){if(n!==this.selectedTabIndex)return;const a=this.templateDirectives.get(n),i=e.createEmbeddedView(a.tpl);this._rendered.set(a.tpl,i),this.detectChanges(),this.slidingAnimation&&!this._firstOpen&&this._getHtmlElementByIndex(n).classList.add("hidden")}_changeItemVisibility(e,n,a){const i=this._featureValues.UseSchemaOutletReuseViewStrategy&&this._featureValues.UseReuseViewStrategyBindingActivator;e===this.selectedTabIndex?n.rootNodes.filter(s=>!(s instanceof Comment)).forEach(s=>{s.classList.remove("hide"),i&&this.itemsCollection.find(b=>b.element===s).activate()}):n.rootNodes.filter(s=>!(s instanceof Comment)).forEach(s=>{s.classList.add("hide"),i&&this.itemsCollection.find(b=>b.element===s).deactivate()})}_scheduleSlidingAnimation(){if(this._firstOpen){this._toggleSelectedContainer(),this._firstOpen=!1;return}if(!this._isAnimationInProgress){this._startSlidingAnimation();return}this._animationFinished.pipe((0,m.take)(1),(0,m.delay)(10)).subscribe(e=>{this._startSlidingAnimation()})}_toggleSelectedContainer(){if(this.selectedTabIndex||this.selectedTabIndex===0){const e=this._getHtmlElementByIndex(this.selectedTabIndex);e&&(e.classList.add("selected"),this._useBingingActivator&&this.itemsCollection.find(n=>n.element===e)?.activate())}}_startSlidingAnimation(){this._isAnimationInProgress=!0;const e=this.selectedTabIndex;if(e===null)this._finishSlidingAnimationClasses(e);else{const n=this._animateSliding(e).subscribe(a=>{this._finishSlidingAnimationClasses(e),this._isAnimationInProgress=!1,this._animationFinished.emit()});this._animationSubscriptions.push(n)}}_animateSliding(e){if(this._setSlidingClassesForNotActiveElements(e),e||e===0){const n=this._getHtmlElementByIndex(e);if(n)return this._animateSelectedTabSliding(n,e)}}_setSlidingClassesForNotActiveElements(e){for(let n=0;n<this.containers.length;n++){const a=this._getHtmlElementByIndex(n);!a||n===e||(n<e&&(a.classList.remove("next-tab"),a.classList.remove("selected")),n>e&&(a.classList.remove("previous-tab"),a.classList.remove("selected")),this._useBingingActivator&&this.itemsCollection.find(i=>i.element===a)?.deactivate())}}_animateSelectedTabSliding(e,n){return this._setSelectedItemPosition(e,n).pipe((0,m.switchMap)(()=>this._renderSelectedItem(e)),(0,m.switchMap)(()=>this._animateSelectedItem(e)))}_setSelectedItemPosition(e,n){if(!e.classList.contains("previous-tab")&&!e.classList.contains("next-tab")){const i=this._getCurrentPositionClass(n);e.classList.add(i)}return(0,m.timer)(0)}_renderSelectedItem(e){return e.classList.remove("hidden"),e.classList.add("sliding"),(0,m.timer)(10)}_animateSelectedItem(e){return e.classList.remove("previous-tab"),e.classList.remove("next-tab"),e.classList.add("selected"),this._useBingingActivator&&this.itemsCollection.find(n=>n.element===e)?.activate(),(0,m.timer)(this._slidingAnimationDuration)}_getCurrentPositionClass(e){let n=e>this._previousSelectedTabIndex?"next-tab":"previous-tab";return this.isRtl()&&(n=e>this._previousSelectedTabIndex?"previous-tab":"next-tab"),n}_finishSlidingAnimationClasses(e){this._finishSelectedItemClasses(e);for(let n=0;n<this.containers.length;n++){const a=this._getHtmlElementByIndex(n);if(a){if(!e&&e!==0){a.classList.add("hidden");continue}if(n<e){const i=this.isRtl()?"next-tab":"previous-tab";a.classList.add(i),a.classList.add("hidden")}if(n>e){const i=this.isRtl()?"previous-tab":"next-tab";a.classList.add(i),a.classList.add("hidden")}}}}_finishSelectedItemClasses(e){if(e||e===0){const n=this._getHtmlElementByIndex(e);n&&n.classList.remove("sliding")}}_getHtmlElementByIndex(e){const n=this._rendered.get(this.templateDirectives.get(e)?.tpl);return n?n.rootNodes.filter(a=>!(a instanceof Comment)).pop():null}_destroyRenderedItem(e){this._rendered.get(e)?.destroy(),this._rendered.delete(e)}_applySelectedTab(){if(!this.selectedTab)return;let e;this.templateDirectives?.filter(n=>n.name).length>0?e=this.templateDirectives.map(n=>n.name).findIndex(n=>n===this.selectedTab?.value):e=this.items.findIndex(n=>n.name===this.selectedTab?.value),this.selectedTabIndex!==e&&(this.selectedTabIndex=e,this.selectedTabIndexChange.emit(e),this.selectedTabChange.emit(this.selectedTab))}getClasses(){return[...super.getClasses(),"crt-toggle-container"]}ngOnChanges(e){e.selectedTab&&this._applySelectedTab()}ngAfterContentInit(){this.templateDirectives.changes.subscribe(()=>{this._applySelectedTab(),this.detectChanges(),this._updateView.next()}),this.itemsCollection.changes.pipe((0,m.startWith)(this.itemsCollection)).subscribe(e=>{this.itemsCollection.forEach(n=>{this._subscription.add(n.closeContainer.subscribe(()=>{this.selectedTabIndexChange.emit(-1),this.selectedTabChange.emit(null)}))})})}ngAfterViewInit(){(0,y.merge)(this._selectedTabIndex$.asObservable()).subscribe(()=>{this._updateView.next()}),this._updateView.asObservable().pipe((0,m.debounceTime)(0)).subscribe(()=>{this.showItem()})}ngOnDestroy(){super.ngOnDestroy(),this._rendered.clear(),this._animationSubscriptions.forEach(e=>{e.unsubscribe(),e=null})}showItem(){(this.selectedTabIndex===-1||this.selectedTabIndex>=this.containers.length)&&(this.selectedTabIndex=0,this.selectedTabChange.emit(null)),this.containers.forEach((e,n)=>{const a=this.templateDirectives.get(n)?.tpl;if(!a)return;const i=this._rendered.get(a);if(!i){this._renderItem(e,n);return}if(this.preserveContent){this.slidingAnimation||this._changeItemVisibility(n,i);return}n!==this.selectedTabIndex&&this._destroyRenderedItem(a)}),this.slidingAnimation&&this._scheduleSlidingAnimation()}static{this.\u0275fac=function(n){return new(n||z3)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:z3,selectors:[["crt-toggle-container"]],contentQueries:function(n,a,i){if(n&1&&(t.\u0275\u0275contentQuery(i,Yo,4),t.\u0275\u0275contentQuery(i,Vm,4)),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.itemsCollection=s),t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.templateDirectives=s)}},viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(NS,5,t.ViewContainerRef),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.containers=i)}},hostVars:2,hostBindings:function(n,a){n&2&&t.\u0275\u0275classProp("sliding-animation",a.slidingAnimation)},inputs:{selectedTabIndex:"selectedTabIndex",selectedTab:"selectedTab",items:"items",preserveContent:"preserveContent",slidingAnimation:"slidingAnimation"},outputs:{selectedTabIndexChange:"selectedTabIndexChange",selectedTabChange:"selectedTabChange"},features:[t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature],decls:2,vars:4,consts:[["container",""],[4,"ngFor","ngForOf"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,VS,3,0,"ng-container",1),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275classMap(a.classes),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.templateDirectives))},dependencies:[_.NgForOf],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-tab-panel,crt-tab-panel-container,crt-toggle-container,crt-designer-tab-panel{display:flex;flex-direction:column;min-height:0;min-width:0;overflow:auto;position:relative}crt-tab-panel .crt-tab-panel,crt-tab-panel-container .crt-tab-panel,crt-toggle-container .crt-tab-panel,crt-designer-tab-panel .crt-tab-panel{overflow:hidden;box-sizing:border-box;border-radius:8px;-webkit-border-radius:8px}crt-tab-panel.stretch .crt-tab-panel,crt-tab-panel.stretch .crt-toggle-container,crt-tab-panel-container.stretch .crt-tab-panel,crt-tab-panel-container.stretch .crt-toggle-container,crt-toggle-container.stretch .crt-tab-panel,crt-toggle-container.stretch .crt-toggle-container,crt-designer-tab-panel.stretch .crt-tab-panel,crt-designer-tab-panel.stretch .crt-toggle-container{flex-grow:1}crt-tab-panel.stretch .crt-tab-panel .tab-body,crt-tab-panel.stretch .crt-toggle-container .tab-body,crt-tab-panel-container.stretch .crt-tab-panel .tab-body,crt-tab-panel-container.stretch .crt-toggle-container .tab-body,crt-toggle-container.stretch .crt-tab-panel .tab-body,crt-toggle-container.stretch .crt-toggle-container .tab-body,crt-designer-tab-panel.stretch .crt-tab-panel .tab-body,crt-designer-tab-panel.stretch .crt-toggle-container .tab-body{min-height:0;min-width:0;overflow:auto}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header{padding-left:8px;padding-right:8px;box-sizing:border-box;height:40px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover{padding-bottom:0;border-bottom-width:2px;border-bottom-style:solid;background-color:transparent}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination{min-width:24px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.38}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron{border-width:1px 1px 0 0;height:6px;width:6px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar{display:none}crt-tab-panel .crt-tab-panel .mdc-tab,crt-tab-panel .crt-tab-panel .mat-mdc-tab,crt-tab-panel .crt-tab-panel .mdc-tab--active,crt-tab-panel crt-toggle-container-item .mdc-tab,crt-tab-panel crt-toggle-container-item .mat-mdc-tab,crt-tab-panel crt-toggle-container-item .mdc-tab--active,crt-tab-panel-container .crt-tab-panel .mdc-tab,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab,crt-tab-panel-container .crt-tab-panel .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item .mdc-tab,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active,crt-toggle-container .crt-tab-panel .mdc-tab,crt-toggle-container .crt-tab-panel .mat-mdc-tab,crt-toggle-container .crt-tab-panel .mdc-tab--active,crt-toggle-container crt-toggle-container-item .mdc-tab,crt-toggle-container crt-toggle-container-item .mat-mdc-tab,crt-toggle-container crt-toggle-container-item .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel .mdc-tab,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item .mdc-tab,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active{min-width:0;max-width:280px;height:36px;box-sizing:border-box;padding:0 0 2px;margin:0 12px;flex-grow:0}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before{background:unset}crt-tab-panel .crt-tab-panel .mdc-tab:first-of-type,crt-tab-panel .crt-tab-panel .mat-mdc-tab:first-of-type,crt-tab-panel .crt-tab-panel .mdc-tab--active:first-of-type,crt-tab-panel crt-toggle-container-item .mdc-tab:first-of-type,crt-tab-panel crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-tab-panel crt-toggle-container-item .mdc-tab--active:first-of-type,crt-tab-panel-container .crt-tab-panel .mdc-tab:first-of-type,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab:first-of-type,crt-tab-panel-container .crt-tab-panel .mdc-tab--active:first-of-type,crt-tab-panel-container crt-toggle-container-item .mdc-tab:first-of-type,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active:first-of-type,crt-toggle-container .crt-tab-panel .mdc-tab:first-of-type,crt-toggle-container .crt-tab-panel .mat-mdc-tab:first-of-type,crt-toggle-container .crt-tab-panel .mdc-tab--active:first-of-type,crt-toggle-container crt-toggle-container-item .mdc-tab:first-of-type,crt-toggle-container crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-toggle-container crt-toggle-container-item .mdc-tab--active:first-of-type,crt-designer-tab-panel .crt-tab-panel .mdc-tab:first-of-type,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab:first-of-type,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active:first-of-type,crt-designer-tab-panel crt-toggle-container-item .mdc-tab:first-of-type,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active:first-of-type{padding-left:0}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content{justify-content:left;overflow:hidden;padding:2px 0 0}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header{display:flex;align-items:center;overflow:hidden;padding:16px 4px 14px}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content{align-items:center}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon{display:flex;align-items:center;width:16px;height:100%;pointer-events:none}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img{width:16px;height:16px}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space{display:block;width:8px}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label{overflow:hidden;pointer-events:none}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label{border-width:0}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper{height:100%;min-height:0}crt-tab-panel .crt-tab-panel>.mat-mdc-tab-group,crt-tab-panel crt-toggle-container-item>.mat-mdc-tab-group,crt-tab-panel-container .crt-tab-panel>.mat-mdc-tab-group,crt-tab-panel-container crt-toggle-container-item>.mat-mdc-tab-group,crt-toggle-container .crt-tab-panel>.mat-mdc-tab-group,crt-toggle-container crt-toggle-container-item>.mat-mdc-tab-group,crt-designer-tab-panel .crt-tab-panel>.mat-mdc-tab-group,crt-designer-tab-panel crt-toggle-container-item>.mat-mdc-tab-group{height:100%;width:100%}crt-tab-panel .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-toggle-container .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:0}crt-tab-panel .crt-tab-panel .tab-body,crt-tab-panel crt-toggle-container-item .tab-body,crt-tab-panel-container .crt-tab-panel .tab-body,crt-tab-panel-container crt-toggle-container-item .tab-body,crt-toggle-container .crt-tab-panel .tab-body,crt-toggle-container crt-toggle-container-item .tab-body,crt-designer-tab-panel .crt-tab-panel .tab-body,crt-designer-tab-panel crt-toggle-container-item .tab-body{height:calc(100% + 2px);box-sizing:content-box}crt-tab-panel .crt-tab-panel .tab-body.default-padding,crt-tab-panel crt-toggle-container-item .tab-body.default-padding,crt-tab-panel-container .crt-tab-panel .tab-body.default-padding,crt-tab-panel-container crt-toggle-container-item .tab-body.default-padding,crt-toggle-container .crt-tab-panel .tab-body.default-padding,crt-toggle-container crt-toggle-container-item .tab-body.default-padding,crt-designer-tab-panel .crt-tab-panel .tab-body.default-padding,crt-designer-tab-panel crt-toggle-container-item .tab-body.default-padding{padding:5px 24px}crt-tab-panel .crt-tab-panel .tab-body>.stretch,crt-tab-panel crt-toggle-container-item .tab-body>.stretch,crt-tab-panel-container .crt-tab-panel .tab-body>.stretch,crt-tab-panel-container crt-toggle-container-item .tab-body>.stretch,crt-toggle-container .crt-tab-panel .tab-body>.stretch,crt-toggle-container crt-toggle-container-item .tab-body>.stretch,crt-designer-tab-panel .crt-tab-panel .tab-body>.stretch,crt-designer-tab-panel crt-toggle-container-item .tab-body>.stretch{flex-grow:1}crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header{border-top-width:3px;border-top-style:solid}crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active{height:36px}crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header{margin-bottom:4px}crt-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header{box-sizing:border-box;border-top-width:3px;border-top-style:solid;border-top-left-radius:8px;border-top-right-radius:8px}crt-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header{margin-bottom:4px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header{padding:0;border-bottom:none;box-sizing:border-box}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab{padding:0;height:40px;box-sizing:border-box;border:unset;background-color:transparent}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover{border:none}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content{height:40px;box-sizing:border-box}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active{margin:0;padding:0;border-bottom:none}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content{padding:0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap{height:40px;width:8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part{width:100%;height:100%}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header{border-radius:0 0 8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header{border-radius:0 0 0 8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header{margin-top:3px;padding:8px 16px;height:37px;box-sizing:border-box;border-radius:5px 5px 0 0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before{padding:0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron{margin-left:8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after{padding:0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{margin-left:-8px}crt-tab-panel .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header{display:none}crt-tab-panel .crt-tab-panel.mode-toggle .tab-container-header,crt-tab-panel crt-toggle-container-item.mode-toggle .tab-container-header,crt-tab-panel-container .crt-tab-panel.mode-toggle .tab-container-header,crt-tab-panel-container crt-toggle-container-item.mode-toggle .tab-container-header,crt-toggle-container .crt-tab-panel.mode-toggle .tab-container-header,crt-toggle-container crt-toggle-container-item.mode-toggle .tab-container-header,crt-designer-tab-panel .crt-tab-panel.mode-toggle .tab-container-header,crt-designer-tab-panel crt-toggle-container-item.mode-toggle .tab-container-header{padding:12px 24px}crt-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper,crt-tab-panel-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-tab-panel-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper,crt-toggle-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-toggle-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper,crt-designer-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-designer-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper{height:100%}crt-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-tab-panel-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-tab-panel-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-toggle-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-toggle-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-designer-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-designer-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content{display:flex;flex-direction:column}crt-tab-panel .crt-tab-panel .tab-container-header,crt-tab-panel .crt-tab-panel .toggle-container-header,crt-tab-panel crt-toggle-container-item .tab-container-header,crt-tab-panel crt-toggle-container-item .toggle-container-header,crt-tab-panel-container .crt-tab-panel .tab-container-header,crt-tab-panel-container .crt-tab-panel .toggle-container-header,crt-tab-panel-container crt-toggle-container-item .tab-container-header,crt-tab-panel-container crt-toggle-container-item .toggle-container-header,crt-toggle-container .crt-tab-panel .tab-container-header,crt-toggle-container .crt-tab-panel .toggle-container-header,crt-toggle-container crt-toggle-container-item .tab-container-header,crt-toggle-container crt-toggle-container-item .toggle-container-header,crt-designer-tab-panel .crt-tab-panel .tab-container-header,crt-designer-tab-panel .crt-tab-panel .toggle-container-header,crt-designer-tab-panel crt-toggle-container-item .tab-container-header,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header{display:flex;justify-content:space-between;padding:8px 0;align-items:center}crt-tab-panel .crt-tab-panel .tab-container-header .tab-tools,crt-tab-panel .crt-tab-panel .toggle-container-header .tab-tools,crt-tab-panel crt-toggle-container-item .tab-container-header .tab-tools,crt-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools,crt-tab-panel-container .crt-tab-panel .tab-container-header .tab-tools,crt-tab-panel-container .crt-tab-panel .toggle-container-header .tab-tools,crt-tab-panel-container crt-toggle-container-item .tab-container-header .tab-tools,crt-tab-panel-container crt-toggle-container-item .toggle-container-header .tab-tools,crt-toggle-container .crt-tab-panel .tab-container-header .tab-tools,crt-toggle-container .crt-tab-panel .toggle-container-header .tab-tools,crt-toggle-container crt-toggle-container-item .tab-container-header .tab-tools,crt-toggle-container crt-toggle-container-item .toggle-container-header .tab-tools,crt-designer-tab-panel .crt-tab-panel .tab-container-header .tab-tools,crt-designer-tab-panel .crt-tab-panel .toggle-container-header .tab-tools,crt-designer-tab-panel crt-toggle-container-item .tab-container-header .tab-tools,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools{width:100%}crt-tab-panel .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-tab-panel .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-tab-panel crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools>ng-component,crt-tab-panel-container .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-tab-panel-container .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-tab-panel-container crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-tab-panel-container crt-toggle-container-item .toggle-container-header .tab-tools>ng-component,crt-toggle-container .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-toggle-container .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-toggle-container crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-toggle-container crt-toggle-container-item .toggle-container-header .tab-tools>ng-component,crt-designer-tab-panel .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-designer-tab-panel .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-designer-tab-panel crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools>ng-component{display:flex;flex-direction:column}crt-tab-panel .crt-tab-panel .tab-container-header .close-button,crt-tab-panel .crt-tab-panel .toggle-container-header .close-button,crt-tab-panel crt-toggle-container-item .tab-container-header .close-button,crt-tab-panel crt-toggle-container-item .toggle-container-header .close-button,crt-tab-panel-container .crt-tab-panel .tab-container-header .close-button,crt-tab-panel-container .crt-tab-panel .toggle-container-header .close-button,crt-tab-panel-container crt-toggle-container-item .tab-container-header .close-button,crt-tab-panel-container crt-toggle-container-item .toggle-container-header .close-button,crt-toggle-container .crt-tab-panel .tab-container-header .close-button,crt-toggle-container .crt-tab-panel .toggle-container-header .close-button,crt-toggle-container crt-toggle-container-item .tab-container-header .close-button,crt-toggle-container crt-toggle-container-item .toggle-container-header .close-button,crt-designer-tab-panel .crt-tab-panel .tab-container-header .close-button,crt-designer-tab-panel .crt-tab-panel .toggle-container-header .close-button,crt-designer-tab-panel crt-toggle-container-item .tab-container-header .close-button,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header .close-button{margin-left:auto}crt-tab-panel .crt-tab-panel .toggle-container-header,crt-tab-panel crt-toggle-container-item .toggle-container-header,crt-tab-panel-container .crt-tab-panel .toggle-container-header,crt-tab-panel-container crt-toggle-container-item .toggle-container-header,crt-toggle-container .crt-tab-panel .toggle-container-header,crt-toggle-container crt-toggle-container-item .toggle-container-header,crt-designer-tab-panel .crt-tab-panel .toggle-container-header,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header{padding:12px 24px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper{overflow:initial}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow:initial;width:100%}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content{overflow:initial}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header{border-radius:0 0 0 8px}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header{border-radius:0 0 8px}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron{margin-left:0}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{margin-left:8px}crt-tab-panel[dir=rtl] .tab-container-header .close-button,crt-tab-panel-container[dir=rtl] .tab-container-header .close-button,crt-toggle-container[dir=rtl] .tab-container-header .close-button,crt-designer-tab-panel[dir=rtl] .tab-container-header .close-button{margin-right:auto;margin-left:0}
`,`:host,crt-toggle-container{border-radius:8px;height:inherit}:host.sliding-animation,crt-toggle-container.sliding-animation{overflow:hidden;height:100%}:host.sliding-animation .crt-toggle-container,crt-toggle-container.sliding-animation .crt-toggle-container{overflow:hidden}:host>.crt-toggle-container,crt-toggle-container>.crt-toggle-container{height:inherit;overflow:auto;border-radius:8px}
`],encapsulation:2,changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number),(0,u.__metadata)("design:paramtypes",[Number])],rr.prototype,"selectedTabIndex",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],rr.prototype,"selectedTab",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],rr.prototype,"items",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],rr.prototype,"preserveContent",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],rr.prototype,"slidingAnimation",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],rr.prototype,"selectedTabIndexChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],rr.prototype,"selectedTabChange",void 0),rr=(0,u.__decorate)([(0,Qt.v)({type:"crt.ToggleContainer",contentSlots:[{name:"items",lazy:!0,input:!0}],reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector])],rr);const FS=["*"];function jS(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",2),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function BS(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275projection(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(n.styleClasses)}}let mo=class U3 extends ue.K{constructor(e,n){super(e),this.elementRef=n,this._underlineColor=je.Auto,this._headerBackgroundColor=je.Auto,this.notFoundTabIndex=-1,this._styleType="default",this.selectedTabIndexChange=new t.EventEmitter,this.selectedTabChange=new t.EventEmitter,this._getSelectedTabInfo=()=>({index:this.notFoundTabIndex,tab:null}),this._window=e.get(E.ZP)}get styleClasses(){return this._styleClasses}get styleType(){return this._styleType}set styleType(e){this._styleType=e,this._initStyleClasses()}get underlineSelectedTabColor(){return this._underlineColor}set underlineSelectedTabColor(e){this._underlineColor=e,this._initStyleClasses()}get headerBackgroundColor(){return this._headerBackgroundColor}set headerBackgroundColor(e){this._headerBackgroundColor=e,this._initStyleClasses()}get selectedTabItem(){return this._getSelectedTabInfo().tab??null}set selectedTabIndex(e){this.selectedTabIndex!==e&&this.setTabSelectedInternal(e,!1)}get selectedTabIndex(){return this._getSelectedTabInfo().index??this.notFoundTabIndex}get selectedTab(){return this.selectedTabItem?{value:this.selectedTabItem.name,displayValue:this.selectedTabItem.caption,primaryImageValue:this.selectedTabItem.iconSource}:null}set selectedTab(e){if(e?.value!==this.selectedTab?.value){const a=e?this._getItems()?.findIndex(i=>i.name===e.value):this.notFoundTabIndex;this.setTabSelectedInternal(a)}}_getStyleTypeClass(){switch(this.styleType){case"default":return"style-default";case"partiallyColored":return"style-partially-colored";case"fullyColored":return"style-fully-colored";default:return"style-default"}}_extendWithStyles(e){this.styleType!=="fullyColored"&&this.underlineSelectedTabColor!==je.Auto&&e.push(`underline-${this.underlineSelectedTabColor}`),this.styleType!=="default"&&this.headerBackgroundColor!==je.Auto&&e.push(`header-${this.headerBackgroundColor}`)}_initStyleClasses(){const e=["crt-tab-panel",this._getStyleTypeClass(),...this.classes];this._extendWithStyles(e),this._styleClasses=e.join(" ")}_getItems(){return Array.from(this.body.items)}_updateTabHeaderPagination(){this._window.dispatchEvent(new Event("resize"))}setTabSelectedInternal(e=this.notFoundTabIndex,n=!0){const a=e;let i;this._getSelectedTabInfo=()=>({tab:i,index:a}),this.body.selectedTabIndex=a,this.header.selectedTabIndex=a,this.body.templateDirectives?.length&&n&&this.selectedTabIndexChange.emit(a)}ngAfterViewInit(){this._resizeObserver=new(ky())(()=>{this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(()=>this._updateTabHeaderPagination(),0)}),this._resizeObserver.observe(this.elementRef.nativeElement)}ngAfterContentInit(){this.header?.selectedTabIndexChange.subscribe(e=>{this.setTabSelectedInternal(e)}),this.selectedTabIndex<=this.notFoundTabIndex&&this.setTabSelectedInternal(0)}ngOnInit(){this._initStyleClasses()}onTabClose(){this.setTabSelectedInternal(this.notFoundTabIndex),this.selectedTabChange.emit(this.selectedTab)}static{this.\u0275fac=function(n){return new(n||U3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ElementRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:U3,selectors:[["crt-tab-panel-container"]],contentQueries:function(n,a,i){if(n&1&&(t.\u0275\u0275contentQuery(i,np,7),t.\u0275\u0275contentQuery(i,rr,7)),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.header=s.first),t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.body=s.first)}},inputs:{styleType:"styleType",underlineSelectedTabColor:"underlineSelectedTabColor",headerBackgroundColor:"headerBackgroundColor",selectedTabIndex:"selectedTabIndex",selectedTab:"selectedTab"},outputs:{selectedTabIndexChange:"selectedTabIndexChange",selectedTabChange:"selectedTabChange"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:FS,decls:3,vars:2,consts:[["tabs_template",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"]],template:function(n,a){if(n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,jS,1,1,"crt-skeleton-loader",1)(1,BS,2,3,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.loading)("ngIfElse",i)}},dependencies:[_.NgIf,yn.W],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-tab-panel,crt-tab-panel-container,crt-toggle-container,crt-designer-tab-panel{display:flex;flex-direction:column;min-height:0;min-width:0;overflow:auto;position:relative}crt-tab-panel .crt-tab-panel,crt-tab-panel-container .crt-tab-panel,crt-toggle-container .crt-tab-panel,crt-designer-tab-panel .crt-tab-panel{overflow:hidden;box-sizing:border-box;border-radius:8px;-webkit-border-radius:8px}crt-tab-panel.stretch .crt-tab-panel,crt-tab-panel.stretch .crt-toggle-container,crt-tab-panel-container.stretch .crt-tab-panel,crt-tab-panel-container.stretch .crt-toggle-container,crt-toggle-container.stretch .crt-tab-panel,crt-toggle-container.stretch .crt-toggle-container,crt-designer-tab-panel.stretch .crt-tab-panel,crt-designer-tab-panel.stretch .crt-toggle-container{flex-grow:1}crt-tab-panel.stretch .crt-tab-panel .tab-body,crt-tab-panel.stretch .crt-toggle-container .tab-body,crt-tab-panel-container.stretch .crt-tab-panel .tab-body,crt-tab-panel-container.stretch .crt-toggle-container .tab-body,crt-toggle-container.stretch .crt-tab-panel .tab-body,crt-toggle-container.stretch .crt-toggle-container .tab-body,crt-designer-tab-panel.stretch .crt-tab-panel .tab-body,crt-designer-tab-panel.stretch .crt-toggle-container .tab-body{min-height:0;min-width:0;overflow:auto}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header{padding-left:8px;padding-right:8px;box-sizing:border-box;height:40px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover{padding-bottom:0;border-bottom-width:2px;border-bottom-style:solid;background-color:transparent}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination{min-width:24px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.38}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron{border-width:1px 1px 0 0;height:6px;width:6px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar{display:none}crt-tab-panel .crt-tab-panel .mdc-tab,crt-tab-panel .crt-tab-panel .mat-mdc-tab,crt-tab-panel .crt-tab-panel .mdc-tab--active,crt-tab-panel crt-toggle-container-item .mdc-tab,crt-tab-panel crt-toggle-container-item .mat-mdc-tab,crt-tab-panel crt-toggle-container-item .mdc-tab--active,crt-tab-panel-container .crt-tab-panel .mdc-tab,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab,crt-tab-panel-container .crt-tab-panel .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item .mdc-tab,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active,crt-toggle-container .crt-tab-panel .mdc-tab,crt-toggle-container .crt-tab-panel .mat-mdc-tab,crt-toggle-container .crt-tab-panel .mdc-tab--active,crt-toggle-container crt-toggle-container-item .mdc-tab,crt-toggle-container crt-toggle-container-item .mat-mdc-tab,crt-toggle-container crt-toggle-container-item .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel .mdc-tab,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item .mdc-tab,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active{min-width:0;max-width:280px;height:36px;box-sizing:border-box;padding:0 0 2px;margin:0 12px;flex-grow:0}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before{background:unset}crt-tab-panel .crt-tab-panel .mdc-tab:first-of-type,crt-tab-panel .crt-tab-panel .mat-mdc-tab:first-of-type,crt-tab-panel .crt-tab-panel .mdc-tab--active:first-of-type,crt-tab-panel crt-toggle-container-item .mdc-tab:first-of-type,crt-tab-panel crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-tab-panel crt-toggle-container-item .mdc-tab--active:first-of-type,crt-tab-panel-container .crt-tab-panel .mdc-tab:first-of-type,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab:first-of-type,crt-tab-panel-container .crt-tab-panel .mdc-tab--active:first-of-type,crt-tab-panel-container crt-toggle-container-item .mdc-tab:first-of-type,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active:first-of-type,crt-toggle-container .crt-tab-panel .mdc-tab:first-of-type,crt-toggle-container .crt-tab-panel .mat-mdc-tab:first-of-type,crt-toggle-container .crt-tab-panel .mdc-tab--active:first-of-type,crt-toggle-container crt-toggle-container-item .mdc-tab:first-of-type,crt-toggle-container crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-toggle-container crt-toggle-container-item .mdc-tab--active:first-of-type,crt-designer-tab-panel .crt-tab-panel .mdc-tab:first-of-type,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab:first-of-type,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active:first-of-type,crt-designer-tab-panel crt-toggle-container-item .mdc-tab:first-of-type,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active:first-of-type{padding-left:0}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content{justify-content:left;overflow:hidden;padding:2px 0 0}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header{display:flex;align-items:center;overflow:hidden;padding:16px 4px 14px}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content{align-items:center}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon{display:flex;align-items:center;width:16px;height:100%;pointer-events:none}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img{width:16px;height:16px}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space{display:block;width:8px}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label{overflow:hidden;pointer-events:none}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label{border-width:0}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper{height:100%;min-height:0}crt-tab-panel .crt-tab-panel>.mat-mdc-tab-group,crt-tab-panel crt-toggle-container-item>.mat-mdc-tab-group,crt-tab-panel-container .crt-tab-panel>.mat-mdc-tab-group,crt-tab-panel-container crt-toggle-container-item>.mat-mdc-tab-group,crt-toggle-container .crt-tab-panel>.mat-mdc-tab-group,crt-toggle-container crt-toggle-container-item>.mat-mdc-tab-group,crt-designer-tab-panel .crt-tab-panel>.mat-mdc-tab-group,crt-designer-tab-panel crt-toggle-container-item>.mat-mdc-tab-group{height:100%;width:100%}crt-tab-panel .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-toggle-container .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:0}crt-tab-panel .crt-tab-panel .tab-body,crt-tab-panel crt-toggle-container-item .tab-body,crt-tab-panel-container .crt-tab-panel .tab-body,crt-tab-panel-container crt-toggle-container-item .tab-body,crt-toggle-container .crt-tab-panel .tab-body,crt-toggle-container crt-toggle-container-item .tab-body,crt-designer-tab-panel .crt-tab-panel .tab-body,crt-designer-tab-panel crt-toggle-container-item .tab-body{height:calc(100% + 2px);box-sizing:content-box}crt-tab-panel .crt-tab-panel .tab-body.default-padding,crt-tab-panel crt-toggle-container-item .tab-body.default-padding,crt-tab-panel-container .crt-tab-panel .tab-body.default-padding,crt-tab-panel-container crt-toggle-container-item .tab-body.default-padding,crt-toggle-container .crt-tab-panel .tab-body.default-padding,crt-toggle-container crt-toggle-container-item .tab-body.default-padding,crt-designer-tab-panel .crt-tab-panel .tab-body.default-padding,crt-designer-tab-panel crt-toggle-container-item .tab-body.default-padding{padding:5px 24px}crt-tab-panel .crt-tab-panel .tab-body>.stretch,crt-tab-panel crt-toggle-container-item .tab-body>.stretch,crt-tab-panel-container .crt-tab-panel .tab-body>.stretch,crt-tab-panel-container crt-toggle-container-item .tab-body>.stretch,crt-toggle-container .crt-tab-panel .tab-body>.stretch,crt-toggle-container crt-toggle-container-item .tab-body>.stretch,crt-designer-tab-panel .crt-tab-panel .tab-body>.stretch,crt-designer-tab-panel crt-toggle-container-item .tab-body>.stretch{flex-grow:1}crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header{border-top-width:3px;border-top-style:solid}crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active{height:36px}crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header{margin-bottom:4px}crt-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header{box-sizing:border-box;border-top-width:3px;border-top-style:solid;border-top-left-radius:8px;border-top-right-radius:8px}crt-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header{margin-bottom:4px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header{padding:0;border-bottom:none;box-sizing:border-box}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab{padding:0;height:40px;box-sizing:border-box;border:unset;background-color:transparent}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover{border:none}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content{height:40px;box-sizing:border-box}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active{margin:0;padding:0;border-bottom:none}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content{padding:0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap{height:40px;width:8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part{width:100%;height:100%}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header{border-radius:0 0 8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header{border-radius:0 0 0 8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header{margin-top:3px;padding:8px 16px;height:37px;box-sizing:border-box;border-radius:5px 5px 0 0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before{padding:0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron{margin-left:8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after{padding:0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{margin-left:-8px}crt-tab-panel .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header{display:none}crt-tab-panel .crt-tab-panel.mode-toggle .tab-container-header,crt-tab-panel crt-toggle-container-item.mode-toggle .tab-container-header,crt-tab-panel-container .crt-tab-panel.mode-toggle .tab-container-header,crt-tab-panel-container crt-toggle-container-item.mode-toggle .tab-container-header,crt-toggle-container .crt-tab-panel.mode-toggle .tab-container-header,crt-toggle-container crt-toggle-container-item.mode-toggle .tab-container-header,crt-designer-tab-panel .crt-tab-panel.mode-toggle .tab-container-header,crt-designer-tab-panel crt-toggle-container-item.mode-toggle .tab-container-header{padding:12px 24px}crt-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper,crt-tab-panel-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-tab-panel-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper,crt-toggle-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-toggle-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper,crt-designer-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-designer-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper{height:100%}crt-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-tab-panel-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-tab-panel-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-toggle-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-toggle-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-designer-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-designer-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content{display:flex;flex-direction:column}crt-tab-panel .crt-tab-panel .tab-container-header,crt-tab-panel .crt-tab-panel .toggle-container-header,crt-tab-panel crt-toggle-container-item .tab-container-header,crt-tab-panel crt-toggle-container-item .toggle-container-header,crt-tab-panel-container .crt-tab-panel .tab-container-header,crt-tab-panel-container .crt-tab-panel .toggle-container-header,crt-tab-panel-container crt-toggle-container-item .tab-container-header,crt-tab-panel-container crt-toggle-container-item .toggle-container-header,crt-toggle-container .crt-tab-panel .tab-container-header,crt-toggle-container .crt-tab-panel .toggle-container-header,crt-toggle-container crt-toggle-container-item .tab-container-header,crt-toggle-container crt-toggle-container-item .toggle-container-header,crt-designer-tab-panel .crt-tab-panel .tab-container-header,crt-designer-tab-panel .crt-tab-panel .toggle-container-header,crt-designer-tab-panel crt-toggle-container-item .tab-container-header,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header{display:flex;justify-content:space-between;padding:8px 0;align-items:center}crt-tab-panel .crt-tab-panel .tab-container-header .tab-tools,crt-tab-panel .crt-tab-panel .toggle-container-header .tab-tools,crt-tab-panel crt-toggle-container-item .tab-container-header .tab-tools,crt-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools,crt-tab-panel-container .crt-tab-panel .tab-container-header .tab-tools,crt-tab-panel-container .crt-tab-panel .toggle-container-header .tab-tools,crt-tab-panel-container crt-toggle-container-item .tab-container-header .tab-tools,crt-tab-panel-container crt-toggle-container-item .toggle-container-header .tab-tools,crt-toggle-container .crt-tab-panel .tab-container-header .tab-tools,crt-toggle-container .crt-tab-panel .toggle-container-header .tab-tools,crt-toggle-container crt-toggle-container-item .tab-container-header .tab-tools,crt-toggle-container crt-toggle-container-item .toggle-container-header .tab-tools,crt-designer-tab-panel .crt-tab-panel .tab-container-header .tab-tools,crt-designer-tab-panel .crt-tab-panel .toggle-container-header .tab-tools,crt-designer-tab-panel crt-toggle-container-item .tab-container-header .tab-tools,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools{width:100%}crt-tab-panel .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-tab-panel .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-tab-panel crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools>ng-component,crt-tab-panel-container .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-tab-panel-container .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-tab-panel-container crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-tab-panel-container crt-toggle-container-item .toggle-container-header .tab-tools>ng-component,crt-toggle-container .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-toggle-container .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-toggle-container crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-toggle-container crt-toggle-container-item .toggle-container-header .tab-tools>ng-component,crt-designer-tab-panel .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-designer-tab-panel .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-designer-tab-panel crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools>ng-component{display:flex;flex-direction:column}crt-tab-panel .crt-tab-panel .tab-container-header .close-button,crt-tab-panel .crt-tab-panel .toggle-container-header .close-button,crt-tab-panel crt-toggle-container-item .tab-container-header .close-button,crt-tab-panel crt-toggle-container-item .toggle-container-header .close-button,crt-tab-panel-container .crt-tab-panel .tab-container-header .close-button,crt-tab-panel-container .crt-tab-panel .toggle-container-header .close-button,crt-tab-panel-container crt-toggle-container-item .tab-container-header .close-button,crt-tab-panel-container crt-toggle-container-item .toggle-container-header .close-button,crt-toggle-container .crt-tab-panel .tab-container-header .close-button,crt-toggle-container .crt-tab-panel .toggle-container-header .close-button,crt-toggle-container crt-toggle-container-item .tab-container-header .close-button,crt-toggle-container crt-toggle-container-item .toggle-container-header .close-button,crt-designer-tab-panel .crt-tab-panel .tab-container-header .close-button,crt-designer-tab-panel .crt-tab-panel .toggle-container-header .close-button,crt-designer-tab-panel crt-toggle-container-item .tab-container-header .close-button,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header .close-button{margin-left:auto}crt-tab-panel .crt-tab-panel .toggle-container-header,crt-tab-panel crt-toggle-container-item .toggle-container-header,crt-tab-panel-container .crt-tab-panel .toggle-container-header,crt-tab-panel-container crt-toggle-container-item .toggle-container-header,crt-toggle-container .crt-tab-panel .toggle-container-header,crt-toggle-container crt-toggle-container-item .toggle-container-header,crt-designer-tab-panel .crt-tab-panel .toggle-container-header,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header{padding:12px 24px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper{overflow:initial}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow:initial;width:100%}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content{overflow:initial}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header{border-radius:0 0 0 8px}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header{border-radius:0 0 8px}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron{margin-left:0}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{margin-left:8px}crt-tab-panel[dir=rtl] .tab-container-header .close-button,crt-tab-panel-container[dir=rtl] .tab-container-header .close-button,crt-toggle-container[dir=rtl] .tab-container-header .close-button,crt-designer-tab-panel[dir=rtl] .tab-container-header .close-button{margin-right:auto;margin-left:0}
`,`crt-tab-panel-container{height:100%;flex-grow:1}crt-tab-panel-container>.crt-tab-panel{height:100%}crt-tab-panel-container>.crt-tab-panel>crt-toggle-container>.crt-toggle-container{border-radius:0}
`],encapsulation:2,changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],mo.prototype,"styleType",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],mo.prototype,"underlineSelectedTabColor",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],mo.prototype,"headerBackgroundColor",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],mo.prototype,"selectedTabIndexChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],mo.prototype,"selectedTabChange",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number),(0,u.__metadata)("design:paramtypes",[Number])],mo.prototype,"selectedTabIndex",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],mo.prototype,"selectedTab",null),mo=(0,u.__decorate)([(0,Qt.v)({type:"crt.TabPanel",contentSlots:["items"],reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector,t.ElementRef])],mo);var Ry=o(48059);class iC{static getTabContainerConfig(e){return{name:e,type:"crt.TabContainer",items:[{name:"GridContainer_"+on,type:"crt.GridContainer",items:[],rows:"minmax(32px, max-content)",columns:["minmax(32px, 1fr)","minmax(32px, 1fr)"],gap:{columnGap:"large",rowGap:0}}]}}static getToggleContainerConfig(e,n){return{name:e,type:"crt.TabContainer",tools:[{name:"FlexContainer_"+on,type:"crt.FlexContainer",direction:"row",alignItems:"center",items:[{defaultLocalizableStrings:{caption:n},name:"Label_"+on,type:"crt.Label",caption:"",labelType:"headline-3",labelThickness:"default",labelEllipsis:!1,labelColor:"#0D2E4E",labelBackgroundColor:"transparent",labelTextAlign:"start"}]}],items:[{name:"FlexContainer_"+on,type:"crt.FlexContainer",items:[],direction:"column"}]}}static getTabConfig(e,n,a,i,s){return{caption:n,icon:i,iconPosition:s,name:e,type:"crt.TabContainer",items:a}}}const zS=r=>[r];function US(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",3),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function HS(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"div",14),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2).index,b=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(b.selectTab(i,s-1))}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext(2).index;t.\u0275\u0275classMap("tab-header-part-wrap "+(n===0?"first-tab":""))}}function WS(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275element(1,"img",20),t.\u0275\u0275pipe(2,"bypassSecurityTrust"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("title",n.hint||""),t.\u0275\u0275advance(),t.\u0275\u0275property("src",t.\u0275\u0275pipeBind2(2,3,n.icon,"resourceUrl"),t.\u0275\u0275sanitizeUrl)("alt",n.hint)}}function GS(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",21),t.\u0275\u0275element(1,"mat-icon",22),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(3),a=n.$implicit,i=n.index,s=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("title",a.hint||""),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("color",a.selected||s.selectedTabIndex===-1&&i===0?s.selectedTitleColor:s.titleColor),t.\u0275\u0275property("svgIcon",a.icon||"contact-icon")}}function $S(r,e){r&1&&t.\u0275\u0275element(0,"div",23)}function KS(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0,15),t.\u0275\u0275template(1,WS,3,6,"div",16)(2,GS,2,4,"div",17)(3,$S,1,0,"div",18),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("ngSwitch",n.iconSource),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","url"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.caption&&n.iconPosition!=="only-icon")}}function ZS(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-label",24),r&2){const n=t.\u0275\u0275nextContext(2),a=n.$implicit,i=n.index,s=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("caption",a.caption)("labelColor",a.selected||s.selectedTabIndex===-1&&i===0?s.selectedTitleColor:s.titleColor)("title",a.caption&&a.caption.toUpperCase())}}function QS(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",25)(1,"div",26),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2).index,b=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(b.selectTab(i,s+1))}),t.\u0275\u0275elementEnd()()}}function YS(r,e){if(r&1&&(t.\u0275\u0275template(0,HS,2,3,"div",9),t.\u0275\u0275elementStart(1,"div",10),t.\u0275\u0275template(2,KS,4,3,"ng-container",11)(3,ZS,1,3,"crt-label",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,QS,2,0,"div",13)),r&2){const n=t.\u0275\u0275nextContext(),a=n.$implicit,i=n.index,s=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",s.styleType==="fullyColored"&&(a.selected||s.selectedTabIndex===-1&&i===0)),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("title",a.hint),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.iconPosition!=="only-text"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.iconPosition!=="only-icon"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",s.styleType==="fullyColored"&&(a.selected||s.selectedTabIndex===-1&&i===0))}}function JS(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",34),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(6);return t.\u0275\u0275resetView(i.onTabClose())}),t.\u0275\u0275elementEnd()}r&2&&t.\u0275\u0275property("icon","close-button-icon")("title",t.\u0275\u0275pipeBind1(1,2,"TabPanel.CloseTabHint"))}function XS(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",30)(2,"div",31),t.\u0275\u0275elementContainer(3,32),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,JS,2,4,"crt-button",33),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275styleProp("background",a.bodyBackground),t.\u0275\u0275advance(2),t.\u0275\u0275property("viewConfig",n.tools),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.allowToggleClose)}}function qS(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,36),r&2){const n=t.\u0275\u0275nextContext(4).$implicit;t.\u0275\u0275property("crtViewElement",n)}}function tw(r,e){if(r&1&&t.\u0275\u0275template(0,qS,1,1,"ng-container",35),r&2){const n=t.\u0275\u0275nextContext(3).$implicit;t.\u0275\u0275property("ngIf",n.selected)}}function ew(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,XS,5,4,"ng-container",27),t.\u0275\u0275elementStart(2,"div",28),t.\u0275\u0275elementContainer(3,29),t.\u0275\u0275template(4,tw,1,1,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.showTabContainerHeader()),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("background",a.bodyBackground),t.\u0275\u0275advance(),t.\u0275\u0275property("viewConfig",t.\u0275\u0275pureFunction1(5,zS,n))("selector",n.name)}}function nw(r,e){if(r&1&&t.\u0275\u0275template(0,ew,6,7,"ng-container",27),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngIf",n.showTabViewModelContent)}}function aw(r,e){r&1&&(t.\u0275\u0275elementStart(0,"mat-tab",6),t.\u0275\u0275template(1,YS,5,5,"ng-template",7)(2,nw,1,1,"ng-template",8),t.\u0275\u0275elementEnd())}function iw(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"mat-tab-group",4),t.\u0275\u0275twoWayListener("selectedIndexChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275twoWayBindingSet(s.selectedTabIndex,i)||(s.selectedTabIndex=i),t.\u0275\u0275resetView(i)}),t.\u0275\u0275template(2,aw,3,0,"mat-tab",5),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(n.styleClasses),t.\u0275\u0275property("@.disabled",n.isToggleMode()),t.\u0275\u0275advance(),t.\u0275\u0275twoWayProperty("selectedIndex",n.selectedTabIndex),t.\u0275\u0275property("disableRipple",!0),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.visibleTabs)("ngForTrackBy",n.trackByNgFor)}}const Ny={stretch:!0};let Qn=class H3 extends ue.K{constructor(e,n,a){super(e),this.sanitizer=n,this.elementRef=a,this._subscriptions=new m.Subscription,this._isToggleTabHeaderVisible=!0,this._underlineColor=je.Auto,this._styleType="default",this._bodyBackgroundColor=je.PrimaryContrast500,this._selectedTabTitleColor=je.Auto,this._titleColor=je.Auto,this._headerBackgroundColor=je.Auto,this._items=[],this._mode="tab",this.notFoundTabIndex=-1,this.skeletonStyles={height:"60px"},this.showTabViewModelContent=!0,this.allowToggleClose=!0,this._stretch=Ny.stretch,this.fitContent=!0,this.selectedTabIndexChange=new t.EventEmitter,this.selectedTabChange=new t.EventEmitter,this._getSelectedTabInfo=()=>({index:this.notFoundTabIndex,tab:null}),this._featureService=e.get(A.wf),this._renderer=e.get(t.Renderer2),this._window=e.get(E.ZP)}get selectedTabItem(){return this._getSelectedTabInfo().tab??null}get selectedTabIndex(){return this._getSelectedTabInfo().index??this.notFoundTabIndex}set selectedTabIndex(e){const n=this.selectedTabIndex!==e,a=e===this.notFoundTabIndex;(n||a)&&this.setTabSelectedInternal(e)}get selectedTab(){return this.selectedTabItem?{value:this.selectedTabItem.name,displayValue:this.selectedTabItem.caption,primaryImageValue:this.selectedTabItem.iconSource}:null}set selectedTab(e){if(e?.value!==this.selectedTab?.value){const a=e?this.getItems()?.findIndex(i=>i.name===e.value):this.notFoundTabIndex;this.setTabSelectedInternal(a)}}get styleClasses(){return this._styleClasses}get styleType(){return this._styleType}set styleType(e){this._styleType=e,this._initStyleClasses()}set bodyBackgroundColor(e){this._bodyBackgroundColor=e,this._initBodyBackground()}get bodyBackground(){return this._bodyBackground}set selectedTabTitleColor(e){this._selectedTabTitleColor=e,this._initSelectedTabTitleColor()}get titleColor(){return this._titleColorValue}get headerBackgroundColor(){return this._headerBackgroundColor}set headerBackgroundColor(e){this._headerBackgroundColor=e,this._initStyleClasses()}get visibleTabs(){return this._items?.filter(e=>e.visible!==!1)}get items(){return this._items}set items(e){this._items=e}get mode(){return this._mode}set mode(e){this._mode=e,this._initStyleClasses()}set tabTitleColor(e){this._titleColor=e,this._initTabTitleColor()}get underlineSelectedTabColor(){return this._underlineColor}set underlineSelectedTabColor(e){this._underlineColor=e,this._initStyleClasses()}get selectedTitleColor(){return this._selectedTabTitleColorValue}get isToggleTabHeaderVisible(){return this._isToggleTabHeaderVisible}set isToggleTabHeaderVisible(e){this._isToggleTabHeaderVisible=e}set stretch(e){this._stretch=e??Ny.stretch}get stretch(){return this._stretch}_getStyleTypeClass(){switch(this.styleType){case"default":return"style-default";case"partiallyColored":return"style-partially-colored";case"fullyColored":return"style-fully-colored";default:return"style-default"}}_initStyleClasses(){const e=["crt-tab-panel",this._getStyleTypeClass(),...this.classes];this._extendWithStyles(e),this.isToggleMode()?e.push("mode-toggle"):e.push("mode-tab"),this._styleClasses=e.join(" ")}_extendWithStyles(e){this.styleType!=="fullyColored"&&this.underlineSelectedTabColor!==je.Auto&&e.push(`underline-${this.underlineSelectedTabColor}`),this.styleType!=="default"&&this.headerBackgroundColor!==je.Auto&&e.push(`header-${this.headerBackgroundColor}`)}_initBodyBackground(){this._bodyBackground=Nm(this._bodyBackgroundColor)}_initSelectedTabTitleColor(){this._selectedTabTitleColorValue=this._selectedTabTitleColor!==je.Auto?Nm(this._selectedTabTitleColor):null}_initTabTitleColor(){this._titleColorValue=this._titleColor!==je.Auto?Nm(this._titleColor):null}_emptyItems(){return(0,y.isEmpty)(this.getItems())}getItems(){return this.items}getValidTabIndex(e){return this._emptyItems()?this.notFoundTabIndex:(e>this.getItems().length-1&&(e=0),this.isToggleMode()||(e=e<0?0:e),e)}setTabSelectedInternal(e=this.notFoundTabIndex){const n=this.getValidTabIndex(e);let a;this._emptyItems()||(this.getItems().forEach((i,s)=>{i.selected=!1,n===s&&(i.selected=!0,a=i),this.postSetTabSelectedAction(i)}),this._getSelectedTabInfo=()=>({tab:a,index:n}),this.selectedTabIndexChange.emit(n),this.detectChanges())}postSetTabSelectedAction(e){}selectDefaultTab(){this.setTabSelectedInternal(0)}_updateTabHeaderPagination(){this._window.dispatchEvent(new Event("resize"))}ngAfterViewInit(){this._resizeObserver=new(ky())(()=>{this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(()=>this._updateTabHeaderPagination(),0)}),this._resizeObserver.observe(this.elementRef.nativeElement)}ngOnInit(){this._initStyleClasses(),this._initBodyBackground(),this._initSelectedTabTitleColor(),this._initTabTitleColor(),this.selectDefaultTab()}trackByNgFor(e,n){return`${e}_${n.name}`}selectTab(e,n){e?.stopPropagation();const a=this.selectedTabIndex===n,i=n<0||n>=this.getItems().length;a||i||this.setTabSelectedInternal(n)}onTabClose(){this.setTabSelectedInternal(this.notFoundTabIndex),this.selectedTabChange.emit(this.selectedTab)}isToggleMode(){return this.mode==="toggle"}ngOnDestroy(){super.ngOnDestroy(),this._resizeObserver&&this._resizeObserver.disconnect(),this._subscriptions.unsubscribe()}showTabContainerHeader(){return this.isToggleMode()&&this.isToggleTabHeaderVisible}static{this.\u0275fac=function(n){return new(n||H3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(p.DomSanitizer),t.\u0275\u0275directiveInject(t.ElementRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:H3,selectors:[["crt-tab-panel"]],hostVars:4,hostBindings:function(n,a){n&2&&t.\u0275\u0275classProp("stretch",a._stretch)("fit-content",a.fitContent)},inputs:{showTabViewModelContent:"showTabViewModelContent",allowToggleClose:"allowToggleClose",fitContent:"fitContent",selectedTabIndex:"selectedTabIndex",selectedTab:"selectedTab",styleType:"styleType",bodyBackgroundColor:"bodyBackgroundColor",selectedTabTitleColor:"selectedTabTitleColor",headerBackgroundColor:"headerBackgroundColor",items:"items",mode:"mode",tabTitleColor:"tabTitleColor",underlineSelectedTabColor:"underlineSelectedTabColor",isToggleTabHeaderVisible:"isToggleTabHeaderVisible",stretch:"stretch"},outputs:{selectedTabIndexChange:"selectedTabIndexChange",selectedTabChange:"selectedTabChange"},features:[t.\u0275\u0275ProvidersFeature([{provide:Ry.ANIMATION_MODULE_TYPE,useValue:"NoopAnimations"}]),t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["tabs_template",""],["viewElementDirective",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],["data-qa","tabs","animationDuration","0ms",1,"tab-group",3,"selectedIndexChange","selectedIndex","disableRipple"],["data-qa","tab",4,"ngFor","ngForOf","ngForTrackBy"],["data-qa","tab"],["mat-tab-label",""],["matTabContent",""],[3,"class",4,"ngIf"],[1,"tab-header",3,"title"],[3,"ngSwitch",4,"ngIf"],["class","tab-label","data-qa","tab-label","labelType","headline-4","labelEllipsis","true",3,"caption","labelColor","title",4,"ngIf"],["class","tab-header-part-wrap",4,"ngIf"],[1,"pre-tab-header","tab-header-part",3,"click"],[3,"ngSwitch"],["class","tab-icon url",3,"title",4,"ngSwitchCase"],["class","tab-icon system",3,"title",4,"ngSwitchDefault"],["class","tab-icon-space",4,"ngIf"],[1,"tab-icon","url",3,"title"],[3,"src","alt"],[1,"tab-icon","system",3,"title"],[3,"svgIcon"],[1,"tab-icon-space"],["data-qa","tab-label","labelType","headline-4","labelEllipsis","true",1,"tab-label",3,"caption","labelColor","title"],[1,"tab-header-part-wrap"],[1,"post-tab-header","tab-header-part",3,"click"],[4,"ngIf"],[1,"tab-body","default-padding","flex-full-height"],["crtViewGenerator","",3,"viewConfig","selector"],[1,"tab-container-header"],[1,"tab-tools"],["crtViewGenerator","",3,"viewConfig"],["class","close-button","size","medium","iconPosition","only-icon",3,"icon","title","clicked",4,"ngIf"],["size","medium","iconPosition","only-icon",1,"close-button",3,"clicked","icon","title"],[3,"crtViewElement",4,"ngIf"],[3,"crtViewElement"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,US,1,1,"crt-skeleton-loader",2)(1,iw,3,8,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.loading)("ngIfElse",i)}},dependencies:[_.NgForOf,_.NgIf,_.NgSwitch,_.NgSwitchCase,_.NgSwitchDefault,rn.H,yn.W,Xs.MatTabContent,Xs.MatTabLabel,Xs.MatTab,Xs.MatTabGroup,_t.MatIcon,hn,el,Jt,qs,f.TranslatePipe],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-tab-panel,crt-tab-panel-container,crt-toggle-container,crt-designer-tab-panel{display:flex;flex-direction:column;min-height:0;min-width:0;overflow:auto;position:relative}crt-tab-panel .crt-tab-panel,crt-tab-panel-container .crt-tab-panel,crt-toggle-container .crt-tab-panel,crt-designer-tab-panel .crt-tab-panel{overflow:hidden;box-sizing:border-box;border-radius:8px;-webkit-border-radius:8px}crt-tab-panel.stretch .crt-tab-panel,crt-tab-panel.stretch .crt-toggle-container,crt-tab-panel-container.stretch .crt-tab-panel,crt-tab-panel-container.stretch .crt-toggle-container,crt-toggle-container.stretch .crt-tab-panel,crt-toggle-container.stretch .crt-toggle-container,crt-designer-tab-panel.stretch .crt-tab-panel,crt-designer-tab-panel.stretch .crt-toggle-container{flex-grow:1}crt-tab-panel.stretch .crt-tab-panel .tab-body,crt-tab-panel.stretch .crt-toggle-container .tab-body,crt-tab-panel-container.stretch .crt-tab-panel .tab-body,crt-tab-panel-container.stretch .crt-toggle-container .tab-body,crt-toggle-container.stretch .crt-tab-panel .tab-body,crt-toggle-container.stretch .crt-toggle-container .tab-body,crt-designer-tab-panel.stretch .crt-tab-panel .tab-body,crt-designer-tab-panel.stretch .crt-toggle-container .tab-body{min-height:0;min-width:0;overflow:auto}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header{padding-left:8px;padding-right:8px;box-sizing:border-box;height:40px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mdc-tab:not(.mdc-tab--active):hover{padding-bottom:0;border-bottom-width:2px;border-bottom-style:solid;background-color:transparent}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination{min-width:24px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.38}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron{border-width:1px 1px 0 0;height:6px;width:6px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar,crt-toggle-container .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-header .mat-ink-bar,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-header .mat-ink-bar{display:none}crt-tab-panel .crt-tab-panel .mdc-tab,crt-tab-panel .crt-tab-panel .mat-mdc-tab,crt-tab-panel .crt-tab-panel .mdc-tab--active,crt-tab-panel crt-toggle-container-item .mdc-tab,crt-tab-panel crt-toggle-container-item .mat-mdc-tab,crt-tab-panel crt-toggle-container-item .mdc-tab--active,crt-tab-panel-container .crt-tab-panel .mdc-tab,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab,crt-tab-panel-container .crt-tab-panel .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item .mdc-tab,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active,crt-toggle-container .crt-tab-panel .mdc-tab,crt-toggle-container .crt-tab-panel .mat-mdc-tab,crt-toggle-container .crt-tab-panel .mdc-tab--active,crt-toggle-container crt-toggle-container-item .mdc-tab,crt-toggle-container crt-toggle-container-item .mat-mdc-tab,crt-toggle-container crt-toggle-container-item .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel .mdc-tab,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item .mdc-tab,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active{min-width:0;max-width:280px;height:36px;box-sizing:border-box;padding:0 0 2px;margin:0 12px;flex-grow:0}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__ripple:before,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__ripple:before,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__ripple:before{background:unset}crt-tab-panel .crt-tab-panel .mdc-tab:first-of-type,crt-tab-panel .crt-tab-panel .mat-mdc-tab:first-of-type,crt-tab-panel .crt-tab-panel .mdc-tab--active:first-of-type,crt-tab-panel crt-toggle-container-item .mdc-tab:first-of-type,crt-tab-panel crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-tab-panel crt-toggle-container-item .mdc-tab--active:first-of-type,crt-tab-panel-container .crt-tab-panel .mdc-tab:first-of-type,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab:first-of-type,crt-tab-panel-container .crt-tab-panel .mdc-tab--active:first-of-type,crt-tab-panel-container crt-toggle-container-item .mdc-tab:first-of-type,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active:first-of-type,crt-toggle-container .crt-tab-panel .mdc-tab:first-of-type,crt-toggle-container .crt-tab-panel .mat-mdc-tab:first-of-type,crt-toggle-container .crt-tab-panel .mdc-tab--active:first-of-type,crt-toggle-container crt-toggle-container-item .mdc-tab:first-of-type,crt-toggle-container crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-toggle-container crt-toggle-container-item .mdc-tab--active:first-of-type,crt-designer-tab-panel .crt-tab-panel .mdc-tab:first-of-type,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab:first-of-type,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active:first-of-type,crt-designer-tab-panel crt-toggle-container-item .mdc-tab:first-of-type,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab:first-of-type,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active:first-of-type{padding-left:0}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content{justify-content:left;overflow:hidden;padding:2px 0 0}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header{display:flex;align-items:center;overflow:hidden;padding:16px 4px 14px}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-header-content,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content-wrap,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-header-content{align-items:center}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon{display:flex;align-items:center;width:16px;height:100%;pointer-events:none}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon.url img,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.system mat-icon,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon.url img{width:16px;height:16px}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-icon-space,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-icon-space{display:block;width:8px}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label{overflow:hidden;pointer-events:none}crt-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-tab-panel-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-toggle-container crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel .crt-tab-panel .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab .mdc-tab__content .tab-header .tab-label .crt-label,crt-designer-tab-panel crt-toggle-container-item .mdc-tab--active .mdc-tab__content .tab-header .tab-label .crt-label{border-width:0}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper{height:100%;min-height:0}crt-tab-panel .crt-tab-panel>.mat-mdc-tab-group,crt-tab-panel crt-toggle-container-item>.mat-mdc-tab-group,crt-tab-panel-container .crt-tab-panel>.mat-mdc-tab-group,crt-tab-panel-container crt-toggle-container-item>.mat-mdc-tab-group,crt-toggle-container .crt-tab-panel>.mat-mdc-tab-group,crt-toggle-container crt-toggle-container-item>.mat-mdc-tab-group,crt-designer-tab-panel .crt-tab-panel>.mat-mdc-tab-group,crt-designer-tab-panel crt-toggle-container-item>.mat-mdc-tab-group{height:100%;width:100%}crt-tab-panel .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-toggle-container .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:0}crt-tab-panel .crt-tab-panel .tab-body,crt-tab-panel crt-toggle-container-item .tab-body,crt-tab-panel-container .crt-tab-panel .tab-body,crt-tab-panel-container crt-toggle-container-item .tab-body,crt-toggle-container .crt-tab-panel .tab-body,crt-toggle-container crt-toggle-container-item .tab-body,crt-designer-tab-panel .crt-tab-panel .tab-body,crt-designer-tab-panel crt-toggle-container-item .tab-body{height:calc(100% + 2px);box-sizing:content-box}crt-tab-panel .crt-tab-panel .tab-body.default-padding,crt-tab-panel crt-toggle-container-item .tab-body.default-padding,crt-tab-panel-container .crt-tab-panel .tab-body.default-padding,crt-tab-panel-container crt-toggle-container-item .tab-body.default-padding,crt-toggle-container .crt-tab-panel .tab-body.default-padding,crt-toggle-container crt-toggle-container-item .tab-body.default-padding,crt-designer-tab-panel .crt-tab-panel .tab-body.default-padding,crt-designer-tab-panel crt-toggle-container-item .tab-body.default-padding{padding:5px 24px}crt-tab-panel .crt-tab-panel .tab-body>.stretch,crt-tab-panel crt-toggle-container-item .tab-body>.stretch,crt-tab-panel-container .crt-tab-panel .tab-body>.stretch,crt-tab-panel-container crt-toggle-container-item .tab-body>.stretch,crt-toggle-container .crt-tab-panel .tab-body>.stretch,crt-toggle-container crt-toggle-container-item .tab-body>.stretch,crt-designer-tab-panel .crt-tab-panel .tab-body>.stretch,crt-designer-tab-panel crt-toggle-container-item .tab-body>.stretch{flex-grow:1}crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header{border-top-width:3px;border-top-style:solid}crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active{height:36px}crt-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-default>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header{margin-bottom:4px}crt-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header{box-sizing:border-box;border-top-width:3px;border-top-style:solid;border-top-left-radius:8px;border-top-right-radius:8px}crt-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-tab-panel-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-toggle-container crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel .crt-tab-panel.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>.tab-group>.mat-mdc-tab-header .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-partially-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .tab-header{margin-bottom:4px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header{padding:0;border-bottom:none;box-sizing:border-box}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab{padding:0;height:40px;box-sizing:border-box;border:unset;background-color:transparent}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab:hover,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab:hover{border:none}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab .mdc-tab__content{height:40px;box-sizing:border-box}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active{margin:0;padding:0;border-bottom:none}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content{padding:0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap{height:40px;width:8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part{width:100%;height:100%}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header{border-radius:0 0 8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header{border-radius:0 0 0 8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header{margin-top:3px;padding:8px 16px;height:37px;box-sizing:border-box;border-radius:5px 5px 0 0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before{padding:0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron{margin-left:8px}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after{padding:0}crt-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel .crt-tab-panel.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel crt-toggle-container-item.style-fully-colored>crt-tab-panel-header>.tab-group>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{margin-left:-8px}crt-tab-panel .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-tab-panel crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-tab-panel-container .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-tab-panel-container crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-toggle-container .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-toggle-container crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-designer-tab-panel .crt-tab-panel.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header,crt-designer-tab-panel crt-toggle-container-item.mode-toggle>.mat-mdc-tab-group>.mat-mdc-tab-header{display:none}crt-tab-panel .crt-tab-panel.mode-toggle .tab-container-header,crt-tab-panel crt-toggle-container-item.mode-toggle .tab-container-header,crt-tab-panel-container .crt-tab-panel.mode-toggle .tab-container-header,crt-tab-panel-container crt-toggle-container-item.mode-toggle .tab-container-header,crt-toggle-container .crt-tab-panel.mode-toggle .tab-container-header,crt-toggle-container crt-toggle-container-item.mode-toggle .tab-container-header,crt-designer-tab-panel .crt-tab-panel.mode-toggle .tab-container-header,crt-designer-tab-panel crt-toggle-container-item.mode-toggle .tab-container-header{padding:12px 24px}crt-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper,crt-tab-panel-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-tab-panel-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper,crt-toggle-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-toggle-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper,crt-designer-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper,crt-designer-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper{height:100%}crt-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-tab-panel-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-tab-panel-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-toggle-container .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-toggle-container crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-designer-tab-panel .crt-tab-panel.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content,crt-designer-tab-panel crt-toggle-container-item.mode-toggle .mat-mdc-tab-body-wrapper .mat-mdc-tab-body-content{display:flex;flex-direction:column}crt-tab-panel .crt-tab-panel .tab-container-header,crt-tab-panel .crt-tab-panel .toggle-container-header,crt-tab-panel crt-toggle-container-item .tab-container-header,crt-tab-panel crt-toggle-container-item .toggle-container-header,crt-tab-panel-container .crt-tab-panel .tab-container-header,crt-tab-panel-container .crt-tab-panel .toggle-container-header,crt-tab-panel-container crt-toggle-container-item .tab-container-header,crt-tab-panel-container crt-toggle-container-item .toggle-container-header,crt-toggle-container .crt-tab-panel .tab-container-header,crt-toggle-container .crt-tab-panel .toggle-container-header,crt-toggle-container crt-toggle-container-item .tab-container-header,crt-toggle-container crt-toggle-container-item .toggle-container-header,crt-designer-tab-panel .crt-tab-panel .tab-container-header,crt-designer-tab-panel .crt-tab-panel .toggle-container-header,crt-designer-tab-panel crt-toggle-container-item .tab-container-header,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header{display:flex;justify-content:space-between;padding:8px 0;align-items:center}crt-tab-panel .crt-tab-panel .tab-container-header .tab-tools,crt-tab-panel .crt-tab-panel .toggle-container-header .tab-tools,crt-tab-panel crt-toggle-container-item .tab-container-header .tab-tools,crt-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools,crt-tab-panel-container .crt-tab-panel .tab-container-header .tab-tools,crt-tab-panel-container .crt-tab-panel .toggle-container-header .tab-tools,crt-tab-panel-container crt-toggle-container-item .tab-container-header .tab-tools,crt-tab-panel-container crt-toggle-container-item .toggle-container-header .tab-tools,crt-toggle-container .crt-tab-panel .tab-container-header .tab-tools,crt-toggle-container .crt-tab-panel .toggle-container-header .tab-tools,crt-toggle-container crt-toggle-container-item .tab-container-header .tab-tools,crt-toggle-container crt-toggle-container-item .toggle-container-header .tab-tools,crt-designer-tab-panel .crt-tab-panel .tab-container-header .tab-tools,crt-designer-tab-panel .crt-tab-panel .toggle-container-header .tab-tools,crt-designer-tab-panel crt-toggle-container-item .tab-container-header .tab-tools,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools{width:100%}crt-tab-panel .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-tab-panel .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-tab-panel crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools>ng-component,crt-tab-panel-container .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-tab-panel-container .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-tab-panel-container crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-tab-panel-container crt-toggle-container-item .toggle-container-header .tab-tools>ng-component,crt-toggle-container .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-toggle-container .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-toggle-container crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-toggle-container crt-toggle-container-item .toggle-container-header .tab-tools>ng-component,crt-designer-tab-panel .crt-tab-panel .tab-container-header .tab-tools>ng-component,crt-designer-tab-panel .crt-tab-panel .toggle-container-header .tab-tools>ng-component,crt-designer-tab-panel crt-toggle-container-item .tab-container-header .tab-tools>ng-component,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header .tab-tools>ng-component{display:flex;flex-direction:column}crt-tab-panel .crt-tab-panel .tab-container-header .close-button,crt-tab-panel .crt-tab-panel .toggle-container-header .close-button,crt-tab-panel crt-toggle-container-item .tab-container-header .close-button,crt-tab-panel crt-toggle-container-item .toggle-container-header .close-button,crt-tab-panel-container .crt-tab-panel .tab-container-header .close-button,crt-tab-panel-container .crt-tab-panel .toggle-container-header .close-button,crt-tab-panel-container crt-toggle-container-item .tab-container-header .close-button,crt-tab-panel-container crt-toggle-container-item .toggle-container-header .close-button,crt-toggle-container .crt-tab-panel .tab-container-header .close-button,crt-toggle-container .crt-tab-panel .toggle-container-header .close-button,crt-toggle-container crt-toggle-container-item .tab-container-header .close-button,crt-toggle-container crt-toggle-container-item .toggle-container-header .close-button,crt-designer-tab-panel .crt-tab-panel .tab-container-header .close-button,crt-designer-tab-panel .crt-tab-panel .toggle-container-header .close-button,crt-designer-tab-panel crt-toggle-container-item .tab-container-header .close-button,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header .close-button{margin-left:auto}crt-tab-panel .crt-tab-panel .toggle-container-header,crt-tab-panel crt-toggle-container-item .toggle-container-header,crt-tab-panel-container .crt-tab-panel .toggle-container-header,crt-tab-panel-container crt-toggle-container-item .toggle-container-header,crt-toggle-container .crt-tab-panel .toggle-container-header,crt-toggle-container crt-toggle-container-item .toggle-container-header,crt-designer-tab-panel .crt-tab-panel .toggle-container-header,crt-designer-tab-panel crt-toggle-container-item .toggle-container-header{padding:12px 24px}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper{overflow:initial}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow:initial;width:100%}crt-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-tab-panel-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-tab-panel-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-toggle-container .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-toggle-container crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-designer-tab-panel .crt-tab-panel .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content,crt-designer-tab-panel crt-toggle-container-item .mat-mdc-tab-body-wrapper .mat-mdc-tab-body.mat-mdc-tab-body-active .mat-mdc-tab-body-content{overflow:initial}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.pre-tab-header{border-radius:0 0 0 8px}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mdc-tab--active .mdc-tab__content .tab-header-part-wrap .tab-header-part.post-tab-header{border-radius:0 0 8px}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron{margin-left:0}crt-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-tab-panel-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-toggle-container[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron,crt-designer-tab-panel[dir=rtl] .crt-tab-panel.style-fully-colored .mat-mdc-tab-header .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{margin-left:8px}crt-tab-panel[dir=rtl] .tab-container-header .close-button,crt-tab-panel-container[dir=rtl] .tab-container-header .close-button,crt-toggle-container[dir=rtl] .tab-container-header .close-button,crt-designer-tab-panel[dir=rtl] .tab-container-header .close-button{margin-right:auto;margin-left:0}
`],encapsulation:2,changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Qn.prototype,"showTabViewModelContent",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Qn.prototype,"allowToggleClose",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Qn.prototype,"fitContent",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Qn.prototype,"selectedTabIndexChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Qn.prototype,"selectedTabChange",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number),(0,u.__metadata)("design:paramtypes",[Number])],Qn.prototype,"selectedTabIndex",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],Qn.prototype,"selectedTab",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Qn.prototype,"styleType",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Qn.prototype,"bodyBackgroundColor",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Qn.prototype,"selectedTabTitleColor",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Qn.prototype,"headerBackgroundColor",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],Qn.prototype,"items",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Qn.prototype,"mode",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Qn.prototype,"tabTitleColor",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Qn.prototype,"underlineSelectedTabColor",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Qn.prototype,"isToggleTabHeaderVisible",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Qn.prototype,"stretch",null),Qn=(0,u.__decorate)([(0,Qt.v)({type:"crt.TabPanel",reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:[{position:20,icon:o(2550),caption:"Components.TabPanel.Caption",defaultPropertyValues:{items:[{defaultLocalizableStrings:{caption:"Components.TabPanel.DefaultTab1Name"},...iC.getTabContainerConfig("TabContainer_"+on)},{defaultLocalizableStrings:{caption:"Components.TabPanel.DefaultTab2Name"},...iC.getTabContainerConfig("TabContainer_"+on)}],mode:"tab",styleType:"default",bodyBackgroundColor:je.PrimaryContrast500,tabTitleColor:je.Auto,selectedTabTitleColor:je.Auto,headerBackgroundColor:je.Auto,underlineSelectedTabColor:je.Auto,fitContent:!0}},{position:30,icon:o(71462),caption:"Components.TogglePanel.Caption",hint:"Components.TogglePanel.Hint",defaultPropertyValues:{items:[{defaultLocalizableStrings:{caption:"Components.TabPanel.DefaultTab1Name"},...iC.getToggleContainerConfig("TabContainer_"+on,"Components.TabPanel.DefaultLabel1Name")},{defaultLocalizableStrings:{caption:"Components.TabPanel.DefaultTab2Name"},...iC.getToggleContainerConfig("TabContainer_"+on,"Components.TabPanel.DefaultLabel2Name")}],mode:"toggle",fitContent:!0}}],designControlConfig:{allowDesignContent:!0,defaultValues:Ny},designViewItemCommands:{delete:"crt.RemoveTabPanelViewItemCommand",copy:"crt.CopyTabPanelViewItemCommand"},propertiesPanelComponentTypeName:"crt.TabPanelPropertiesPanel",viewElementGroupType:pn.J.LayoutElements,typeCaption:"Components.TabPanel.Caption"}),(0,u.__metadata)("design:paramtypes",[t.Injector,p.DomSanitizer,t.ElementRef])],Qn);let Dr=class W3{static{this.\u0275fac=function(n){return new(n||W3)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:W3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Te.c,fe.q,Xs.MatTabsModule,_t.MatIconModule,Ne,uo,Bi,re,f.TranslateModule]})}};Dr=(0,u.__decorate)([(0,ie.g)({viewElements:[Rm,di,np,Yo,rr]})],Dr),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Dr,{declarations:[di,np,Yo,rr,mo,Qn,Rm,Vm],imports:[_.CommonModule,Te.c,Le.C,fe.q,Xs.MatTabsModule,_t.MatIconModule,Ne,uo,Bi,re,f.TranslateModule],exports:[di,Yo,np,rr,mo,Qn,Rm,Vm]})}();var nl=o(50069);const rw=["*",[["","slot","items"]]],ow=["*","[slot='items']"];function sw(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",6),t.\u0275\u0275element(1,"mat-icon",7),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275styleProp("width",n.iconConfig.width)("height",n.iconConfig.height)("color",n.iconConfig.color)("padding",n.iconConfig.padding),t.\u0275\u0275property("crtTooltip",n.iconConfig.tooltip)("svgIcon",n.iconConfig.icon)}}function cw(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",8),t.\u0275\u0275element(1,"crt-lottie",9),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("config",n.animationConfig)("width",n.animationConfig.width)("height",n.animationConfig.height)}}function lw(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",10),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,n.title))}}function dw(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",11),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(2,1,n.subhead))}}let zi=class G3{get animationConfig(){return this._image}get iconConfig(){return this._image}get withCustomSize(){return this._image?.type==="icon"?!!(this._image.height||this._image.width):this._image?.type==="animation"?!!(this._image?.height||this._image?.width):!1}set image(e){this._imageConfigChanging$.next(),this._image=this._normalizeImage(e)}get image(){return this._image}constructor(){this._destroyed$=new m.Subject,this._imageConfigChanging$=new m.Subject,this._defaultIconConfig={type:"icon",width:"100px",height:"100px",padding:"25px"},this._defaultAnimationConfig={type:"animation",width:"100px",height:"100px",name:"raccoon",autoplay:!0,loop:!1},this._image={},this.title="Placeholder.Default.Title",this.subhead="Placeholder.Default.Subhead",this.image=this._defaultAnimationConfig}_normalizeImage(e){if(!e||(0,y.isEmpty)(e))return{};if(e.type==="icon")return{...this._defaultIconConfig,...e};const n=e,a="name"in n&&!("animationData"in n);return e?.type==="animation"&&a?{...this._defaultAnimationConfig,...e,animationData:mt(e.name)}:{...this._defaultAnimationConfig,...e}}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||G3)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:G3,selectors:[["crt-placeholder"]],inputs:{loading:"loading",title:"title",subhead:"subhead",image:"image"},ngContentSelectors:ow,decls:8,vars:7,consts:[[1,"crt-placeholder"],[3,"ngSwitch"],["class","crt-placeholder__icon",4,"ngSwitchCase"],["class","crt-placeholder__animation",4,"ngSwitchCase"],["class","crt-placeholder__title",4,"ngIf"],["class","crt-placeholder__subhead",4,"ngIf"],[1,"crt-placeholder__icon"],["crtTooltip","",1,"icon",3,"crtTooltip","svgIcon"],[1,"crt-placeholder__animation"],[3,"config","width","height"],[1,"crt-placeholder__title"],[1,"crt-placeholder__subhead"]],template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(rw),t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275elementContainerStart(1,1),t.\u0275\u0275template(2,sw,2,10,"div",2)(3,cw,2,3,"div",3),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(4,lw,3,3,"div",4)(5,dw,3,3,"div",5),t.\u0275\u0275projection(6),t.\u0275\u0275projection(7,1),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275classProp("crt-placeholder\u2013with-custom-size",a.withCustomSize),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitch",a.image.type),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","icon"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","animation"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.title),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.subhead))},dependencies:[_.NgIf,_.NgSwitch,_.NgSwitchCase,_t.MatIcon,na.d,M,f.TranslatePipe],styles:['@charset "UTF-8";.crt-placeholder[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center;border-radius:8px;flex-direction:column;padding:0 24px;box-sizing:border-box;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.crt-placeholder[_ngcontent-%COMP%]:not(.crt-placeholder\\2013with-custom-size)   .icon[_ngcontent-%COMP%]{height:100%;max-height:50px;width:56px}.crt-placeholder__icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{align-self:center;overflow:hidden;box-sizing:border-box;display:flex;align-items:center;justify-content:center}@supports (background: -webkit-named-image(i)){.crt-placeholder__icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:block}}.crt-placeholder__animation[_ngcontent-%COMP%] + div[_ngcontent-%COMP%], .crt-placeholder__icon[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:8px}.crt-placeholder__title[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-top:16px}.crt-placeholder__title[_ngcontent-%COMP%], .crt-placeholder__subhead[_ngcontent-%COMP%]{white-space:pre-wrap;text-align:center}@supports (background: -webkit-named-image(i)){.crt-placeholder[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:initial;height:initial}}'],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],zi.prototype,"loading",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],zi.prototype,"title",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],zi.prototype,"subhead",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],zi.prototype,"image",null),zi=(0,u.__decorate)([(0,Qt.v)({type:"crt.Placeholder",reuseStrategy:$t.B.Reuse,contentSlots:["items"]}),(0,u.__metadata)("design:paramtypes",[])],zi);let ra=class $3{constructor(e){this._iconRegistry=e,this._iconRegistry.addIcons([{name:"empty-search-result",icon:o(95063)}])}static{this.\u0275fac=function(n){return new(n||$3)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:$3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,_t.MatIconModule,_e.S,R,f.TranslateModule]})}};ra=(0,u.__decorate)([(0,ie.g)({viewElements:[zi]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],ra),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(ra,{declarations:[zi],imports:[_.CommonModule,_t.MatIconModule,_e.S,R,f.TranslateModule],exports:[zi]})}();var pw=o(45999);function A5(r){return function(e){const n=(0,O_.Yc)(e),a={...r,typeRef:e,inputs:n};(0,pw.o)(a),(0,O_.OF)(a,e)}}var Fm;(function(r){r.Call="Call",r.Email="Email",r.Feed="Feed",r.Task="Task"})(Fm||(Fm={}));const L5=()=>[];function uw(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",2),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function mw(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",6),t.\u0275\u0275element(1,"mat-icon",11)(2,"div",12)(3,"mat-icon",23),t.\u0275\u0275elementEnd())}function gw(r,e){r&1&&t.\u0275\u0275element(0,"mat-icon",24)}function hw(r,e){r&1&&t.\u0275\u0275element(0,"mat-icon",25)}function _w(r,e){r&1&&t.\u0275\u0275element(0,"mat-icon",26)}function fw(r,e){r&1&&t.\u0275\u0275element(0,"mat-icon",27)}function bw(r,e){r&1&&t.\u0275\u0275element(0,"mat-icon",28)}function Cw(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",29)(1,"div"),t.\u0275\u0275element(2,"mat-icon",30),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",31),t.\u0275\u0275element(4,"mat-icon",32),t.\u0275\u0275elementEnd()())}function yw(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",3),t.\u0275\u0275listener("resized",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onResized(i))}),t.\u0275\u0275elementStart(1,"div",4)(2,"div",5)(3,"div",6),t.\u0275\u0275element(4,"mat-icon",7)(5,"div",8)(6,"mat-icon",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,mw,4,0,"div",10),t.\u0275\u0275elementStart(8,"div",6),t.\u0275\u0275element(9,"mat-icon",11)(10,"div",12)(11,"mat-icon",13),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(12,"div",14),t.\u0275\u0275template(13,gw,1,0,"mat-icon",15)(14,hw,1,0,"mat-icon",16)(15,_w,1,0,"mat-icon",17)(16,fw,1,0,"mat-icon",18)(17,bw,1,0,"mat-icon",19),t.\u0275\u0275elementEnd()(),t.\u0275\u0275element(18,"hr",20),t.\u0275\u0275elementStart(19,"div",21),t.\u0275\u0275template(20,Cw,5,0,"div",22),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(7),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pureFunction0(7,L5).constructor(n.dashboardSize)),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngIf",n.dashboardSize===2),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isActionAllowed("Call")),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isActionAllowed("Email")),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isActionAllowed("Feed")),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isActionAllowed("Task")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pureFunction0(8,L5).constructor(n.dashboardSize))}}const k5=()=>[Fm.Call,Fm.Email,Fm.Feed,Fm.Task];var d1;(function(r){r[r.Small=1]="Small",r[r.Large=2]="Large"})(d1||(d1={}));let or=class g0 extends ue.K{constructor(){super(...arguments),this._allowedActions=k5(),this.dashboardSize=d1.Small,this.fitContent=!0}set allowedActions(e){this._allowedActions=e}get allowedActions(){return this._allowedActions}onResized(e){this.dashboardSize=e?.width>550?d1.Large:d1.Small}isActionAllowed(e){return this.allowedActions.includes(e)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(g0)))(a||g0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:g0,selectors:[["crt-action-dashboard-7x-dt"]],hostVars:2,hostBindings:function(n,a){n&2&&t.\u0275\u0275classProp("fit-content",a.fitContent)},inputs:{title:"title",dataSourceName:"dataSourceName",entitySchemaName:"entitySchemaName",primaryColumnValue:"primaryColumnValue",primaryDisplayColumnValue:"primaryDisplayColumnValue",allowedActions:"allowedActions",fitContent:"fitContent"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["actions_dashboard_7x_template",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],["crtResizable","",1,"designer-action-dashboard-wrap",3,"resized"],[1,"designer-action-dashboard-header"],[1,"designer-action-dashboard-dcm"],[1,"dcm-arrow"],["svgIcon","action-dashboard-dcm-arrow-start",1,"icon"],[1,"green-arrow-body"],["svgIcon","action-dashboard-dcm-arrow-green-end",1,"icon"],["class","dcm-arrow",4,"ngFor","ngForOf"],["svgIcon","action-dashboard-dcm-arrow-gray-start",1,"icon"],[1,"gray-arrow-body"],["svgIcon","action-dashboard-dcm-arrow-end",1,"icon"],[1,"designer-action-dashboard-actions"],["class","action action-description","svgIcon","action-dashboard-before-actions",4,"ngIf"],["class","action","svgIcon","action-dashboard-call",4,"ngIf"],["class","action","svgIcon","action-dashboard-email",4,"ngIf"],["class","action","svgIcon","action-dashboard-feed",4,"ngIf"],["class","action","svgIcon","action-dashboard-task",4,"ngIf"],[1,"designer-action-dashboard-line"],[1,"designer-action-dashboard-items"],["class","dashboard-item",4,"ngFor","ngForOf"],["svgIcon","action-dashboard-dcm-arrow-gray-end",1,"icon"],["svgIcon","action-dashboard-before-actions",1,"action","action-description"],["svgIcon","action-dashboard-call",1,"action"],["svgIcon","action-dashboard-email",1,"action"],["svgIcon","action-dashboard-feed",1,"action"],["svgIcon","action-dashboard-task",1,"action"],[1,"dashboard-item"],["svgIcon","action-dashboard-item-text",1,"item","description"],[1,"flag"],["svgIcon","action-dashboard-item-flag",1,"item"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,uw,1,1,"crt-skeleton-loader",1)(1,yw,21,9,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.loading)("ngIfElse",i)}},dependencies:[_.NgForOf,_.NgIf,_t.MatIcon,Le.C,yn.W],styles:[`crt-action-dashboard-7x-dt mat-icon{min-height:16px;max-height:16px;height:max-content;width:-moz-fit-content;width:fit-content}crt-action-dashboard-7x-dt #SectionActionDashboardContainer{width:calc(100% - 28px)}crt-action-dashboard-7x-dt .crt-placeholder{display:none;background-color:#f4f5f7}crt-action-dashboard-7x-dt .designer-action-dashboard-wrap{display:block;box-sizing:border-box;overflow:hidden;background:#fff;width:100%;background:#f4f5f7 0% 0% no-repeat padding-box;border:1px solid #e6e6e6;border-radius:8px}crt-action-dashboard-7x-dt .designer-action-dashboard-header{margin:16px}crt-action-dashboard-7x-dt .designer-action-dashboard-dcm{height:16px;width:100%;opacity:1;display:flex}crt-action-dashboard-7x-dt .designer-action-dashboard-dcm .dcm-arrow{width:100%;display:flex}crt-action-dashboard-7x-dt .designer-action-dashboard-dcm .dcm-arrow .icon{min-width:8px;max-width:8px}crt-action-dashboard-7x-dt .designer-action-dashboard-dcm .green-arrow-body{width:100%;background-color:#22ac14}crt-action-dashboard-7x-dt .designer-action-dashboard-dcm .gray-arrow-body{width:100%;background-color:#cacaca;opacity:.4}crt-action-dashboard-7x-dt .designer-action-dashboard-actions{display:flex;margin-top:16px}crt-action-dashboard-7x-dt .designer-action-dashboard-actions .action{margin-right:24px}crt-action-dashboard-7x-dt .designer-action-dashboard-actions .action-description{width:max-content}crt-action-dashboard-7x-dt .designer-action-dashboard-line{margin:0 16px;border-style:none;background-color:#cbcbcb;height:1px}crt-action-dashboard-7x-dt .designer-action-dashboard-items{display:flex;margin:16px 0 16px 16px}crt-action-dashboard-7x-dt .dashboard-item{display:grid;grid-template-columns:1fr 40px;background:#fff 0% 0% no-repeat padding-box;border:1px solid #e6e6e6;border-radius:4px;width:100%;height:100px;margin-right:16px}crt-action-dashboard-7x-dt .dashboard-item .item.description{margin:23px 0 0 16px;height:auto;width:auto;max-height:56px;max-width:200px}crt-action-dashboard-7x-dt .dashboard-item .flag{margin:0 16px 23px 0;align-self:self-end;justify-self:right;width:16px;height:16px}
`],encapsulation:2})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],or.prototype,"title",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],or.prototype,"dataSourceName",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],or.prototype,"entitySchemaName",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],or.prototype,"primaryColumnValue",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],or.prototype,"primaryDisplayColumnValue",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],or.prototype,"allowedActions",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],or.prototype,"fitContent",void 0),or=(0,u.__decorate)([A5({type:"crt.DesignTimeActionDashboard",overrideType:"crt.ActionDashboard",placeholderSize:{height:"215px"}}),(0,Qt.v)({type:"crt.ActionDashboard",selector:"crt-action-dashboard-7x",reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{requiredFeatures:{EnableActionDashboardDesignerItem:!0},position:65,hint:"Components.ActionDashboard.Hint",icon:o(52030),defaultPropertyValues:{allowedActions:k5(),fitContent:!0},defaultLocalizableStrings:{title:"Components.ActionDashboard.Caption"}},propertiesPanelComponentTypeName:"crt.ActionDashboardPropertiesPanel",clientSchemaDeps:["ActionDashboardComponent"],typeCaption:"Components.ActionDashboard.Caption",viewElementGroupType:pn.J.Components})],or);let al=class K3{constructor(e){this._materialIconsRegistrator=e;const n=[{name:"action-dashboard",icon:o(52030)},{name:"action-dashboard-before-actions",icon:o(78064)},{name:"action-dashboard-call",icon:o(6395)},{name:"action-dashboard-dcm-arrow-end",icon:o(82429)},{name:"action-dashboard-dcm-arrow-gray-end",icon:o(2867)},{name:"action-dashboard-dcm-arrow-gray-start",icon:o(25064)},{name:"action-dashboard-dcm-arrow-green-end",icon:o(71191)},{name:"action-dashboard-dcm-arrow-start",icon:o(3190)},{name:"action-dashboard-email",icon:o(81869)},{name:"action-dashboard-feed",icon:o(90135)},{name:"action-dashboard-item-flag",icon:o(73681)},{name:"action-dashboard-item-text",icon:o(84262)},{name:"action-dashboard-task",icon:o(39508)}];this._materialIconsRegistrator.addIcons(n)}static{this.\u0275fac=function(n){return new(n||K3)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:K3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,_t.MatIconModule,Te.c,fe.q,ra]})}};al=(0,u.__decorate)([(0,ie.g)({viewElements:[or],designTimeViewElements:[or]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],al),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(al,{declarations:[or],imports:[_.CommonModule,_t.MatIconModule,Te.c,Le.C,fe.q,ra],exports:[or]})}();var go=o(54157);class ap{constructor(e){this._injector=e,this._translationPrefix="SmartDateTimeFormat"}_getTranslationTemplate(e,n){const a=new Date;if(a.setDate(a.getDate()),a.toDateString()===e.toDateString())return n.instant(`${this._translationPrefix}.TodayAt`);const i=new Date;if(i.setDate(i.getDate()-1),i.toDateString()===e.toDateString())return n.instant(`${this._translationPrefix}.YesterdayAt`);const s=new Date;return s.setDate(s.getDate()-2),s.toDateString()===e.toDateString()?n.instant(`${this._translationPrefix}.DayBeforeYesterdayAt`):null}_canBeDate(e){return typeof e=="string"||typeof e=="number"||e instanceof Date}transform(e){if(this._canBeDate(e)){const n=new Date(e),a=this._injector.get(go.V),i=this._injector.get(f.TranslateService),s=this._getTranslationTemplate(n,i),b={dataType:X.r.Time};if(s)return jt.String.format(s,a.transform(n,b));{const D=i.instant(`${this._translationPrefix}.At`);return`${a.transform(n)} ${D} ${a.transform(n,b)}`}}return""}static{this.\u0275fac=function(n){return new(n||ap)(t.\u0275\u0275directiveInject(t.Injector,16))}}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"smartDateTimeFormat",type:ap,pure:!0})}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ap,factory:ap.\u0275fac,providedIn:"root"})}}class ho{constructor(e){this._translateService=e,this._minutesInHour=60,this._hoursInDay=24,this._daysInMonth=30,this._milisecondsInMinute=6e4,this._milisecondsInHour=this._milisecondsInMinute*this._minutesInHour,this._milisecondsInDay=this._milisecondsInHour*this._hoursInDay,this._milisecondsInMonth=this._milisecondsInDay*this._daysInMonth,this._translationPrefix="TimerDateTimeFormat",this._monthAbbreviation=this._translateService.instant(`${this._translationPrefix}.MonthAbbreviation`),this._daysAbbreviation=this._translateService.instant(`${this._translationPrefix}.DaysAbbreviation`),this._hoursAbbreviation=this._translateService.instant(`${this._translationPrefix}.HoursAbbreviation`),this._minutesAbbreviation=this._translateService.instant(`${this._translationPrefix}.MinutesAbbreviation`)}_getDisplayValue(e){const n=Math.floor(e/this._milisecondsInMinute),a=Math.floor(e/this._milisecondsInHour),i=Math.floor(e/this._milisecondsInDay),s=Math.floor(e/this._milisecondsInMonth),b="{0}{1} {2}{3}";if(s>0){const W=i%this._daysInMonth;return jt.String.format(b,s,this._monthAbbreviation,W,this._daysAbbreviation)}if(i>0){const W=a%this._hoursInDay;return jt.String.format(b,i,this._daysAbbreviation,W,this._hoursAbbreviation)}const D=n%this._minutesInHour;return jt.String.format(b,a,this._hoursAbbreviation,D,this._minutesAbbreviation)}transform(e){return e?this._getDisplayValue(e):""}static{this.\u0275fac=function(n){return new(n||ho)(t.\u0275\u0275directiveInject(f.TranslateService,16))}}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"timerDateTimeFormat",type:ho,pure:!0})}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ho,factory:ho.\u0275fac,providedIn:"root"})}}class Ea{static{this.\u0275fac=function(n){return new(n||Ea)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Ea})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Ea,{declarations:[go.V,ap,ho],exports:[go.V,ap,ho]})})();class jm{constructor(){this._elementRef=(0,t.inject)(t.ElementRef)}focus(){this._elementRef.nativeElement.focus()}static{this.\u0275fac=function(n){return new(n||jm)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:jm,selectors:[["","crtA11yListItem",""]]})}}const R5=r=>({"crt-input-required":r}),vw=()=>[];function Mw(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",7),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.selectResult(null))})("keydown.enter",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.selectResult(null))})("keydown.space",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.selectResult(null))}),t.\u0275\u0275element(2,"mat-icon",8),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275attribute("aria-label",n.activityResultControl==null||n.activityResultControl.value==null?null:n.activityResultControl.value.displayValue)("aria-selected",!0),t.\u0275\u0275advance(),t.\u0275\u0275classMap(n.getIconClass(n.activityResultControl==null?null:n.activityResultControl.value)),t.\u0275\u0275propertyInterpolate("svgIcon",n.getIcon(n.activityResultControl==null?null:n.activityResultControl.value)),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1("",n.activityResultControl==null||n.activityResultControl.value==null?null:n.activityResultControl.value.displayValue," ")}}function Iw(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",7),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.selectResult(i))})("keydown.enter",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.selectResult(i))})("keydown.space",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.selectResult(i))}),t.\u0275\u0275element(2,"mat-icon",8),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275attribute("aria-label",n.displayValue)("aria-selected",n.value===(a.activityResultControl==null||a.activityResultControl.value==null?null:a.activityResultControl.value.value)),t.\u0275\u0275advance(),t.\u0275\u0275classMap(a.getIconClass(n)),t.\u0275\u0275propertyInterpolate("svgIcon",a.getIcon(n)),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1("",n.displayValue," ")}}function xw(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",2)(2,"div",3)(3,"label",4),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(5,Mw,4,7,"ng-container",5)(6,Iw,4,7,"ng-container",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,R5,n.required)),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.label),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.activityResultControl==null?null:n.activityResultControl.value),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.activityResultControl!=null&&n.activityResultControl.value?t.\u0275\u0275pureFunction0(6,vw):n.resultsList)}}function Sw(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",9)(1,"div",3)(2,"label",10),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"div",11),t.\u0275\u0275element(5,"mat-icon",12),t.\u0275\u0275text(6,"Completed "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",11),t.\u0275\u0275element(8,"mat-icon",13),t.\u0275\u0275text(9,"Awaiting decision "),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"div",11),t.\u0275\u0275element(11,"mat-icon",14),t.\u0275\u0275text(12,"Canceled "),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(2,R5,n.required)),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.label)}}let tc=class Z3 extends ue.K{set allowedResults(e){(0,y.isEmpty)(e)||(this._allowedResults=JSON.parse(e),this._updateResultsList())}set activityCategory(e){this._loadResultsList(e)}get activityResultControl(){return this._activityResult}set activityResultControl(e){this._activityResult=e,this._calculateRequired()}constructor(e,n){super(e),this.isDesignTime=n,this._positiveCategoryId="1D2E48F2-C5FD-417D-9551-30E71F35DF3D",this._negativeCategoryId="4DB33CBC-BA7C-4103-9887-6B39B8D36B77",this._possibleResults=[],this._allowedResults=[],this.resultsList=[],this.required=!1,this.label="",this._queryExecutor=e.get(An.w)}onKeydown(e){this._keyManager.onKeydown(e)}_calculateRequired(){const e=this._activityResult?.validator,n=e&&e(new O.FormControl(null));this.required=!!n?.required,this.changeDetectorRef.detectChanges()}_updateResultsList(){this.resultsList=this._allowedResults.length>0?this._possibleResults.filter(e=>this._allowedResults.includes(e.value)):this._possibleResults.filter(e=>!e.businessProcessOnly),this.changeDetectorRef.detectChanges(),this._setKeyManager()}_loadResultsList(e){if((0,y.isEmpty)(e))return;const n=new qa.s("ActivityResult");n.addSchemaColumn("Id"),n.addSchemaColumn("Name").withOrdering(ti.Z.Asc,1),n.addSchemaColumn("Category").withOrdering(ti.Z.Desc,0),n.addSchemaColumn("BusinessProcessOnly"),n.filters.addSchemaColumnFilterWithParameter(He.H.Equal,"[ActivityCategoryResultEntry:ActivityResult].ActivityCategory",e),this._queryExecutor.executeSelectQuery(n).subscribe(a=>{this._possibleResults=[],a.forEach(i=>{this._possibleResults.push({value:i.Id,displayValue:i.Name,category:i.Category.value,businessProcessOnly:i.BusinessProcessOnly})}),this._updateResultsList()})}_setKeyManager(){this._keyManager=new Ge.FocusKeyManager(this.elements).withWrap(),this._keyManager.setFirstItemActive()}getIconClass(e){switch(e?.category?.toLowerCase()){case this._positiveCategoryId.toLowerCase():return"resuts-container-item-positive";case this._negativeCategoryId.toLowerCase():return"resuts-container-item-negative";default:return"resuts-container-item-neutral"}}getIcon(e){switch(e?.category?.toLowerCase()){case this._positiveCategoryId.toLowerCase():return"positive-result-icon";case this._negativeCategoryId.toLowerCase():return"negative-result-icon";default:return"neutral-result-icon"}}selectResult(e){this.activityResultControl?.setValue(e),this.changeDetectorRef.detectChanges(),this._setKeyManager()}static{this.\u0275fac=function(n){return new(n||Z3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(Im.w,8))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Z3,selectors:[["crt-allowed-results"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(jm,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.elements=i)}},hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("keydown",function(s){return a.onKeydown(s)})},inputs:{label:"label",allowedResults:"allowedResults",activityCategory:"activityCategory",activityResultControl:"activityResultControl"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["results_plug",""],[4,"ngIf","ngIfElse"],["role","listbox","aria-labelledby","allowed-results-label",1,"resuts-container"],[1,"crt-input-label-container"],["id","allowed-results-label",1,"crt-input-label",3,"ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],["role","option","tabindex","0",1,"resuts-container-item",3,"click","keydown.enter","keydown.space","crtA11yListItem"],[3,"svgIcon"],[1,"resuts-container"],[1,"crt-input-label",3,"ngClass"],[1,"resuts-container-item"],["svgIcon","positive-result-icon",1,"resuts-container-item-positive"],["svgIcon","neutral-result-icon",1,"resuts-container-item-neutral"],["svgIcon","negative-result-icon",1,"resuts-container-item-negative"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,xw,7,7,"ng-container",1)(1,Sw,13,4,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",!a.isDesignTime)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgForOf,_.NgIf,_t.MatIcon,jm],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.resuts-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.resuts-container[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}.resuts-container[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px;margin-bottom:4px}.resuts-container[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label.crt-input-required[_ngcontent-%COMP%]:after{color:var(--crt-palette-error-500)}.resuts-container-item[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;font-family:var(--crt-body-2-font-family);font-size:var(--crt-body-2-font-size);line-height:var(--crt-body-2-line-height);font-weight:var(--crt-body-2-font-weight);letter-spacing:var(--crt-body-2-letter-spacing);text-transform:var(--crt-body-2-text-transform);-webkit-font-smoothing:antialiased}.resuts-container-item[_ngcontent-%COMP%]:hover{color:var(--crt-palette-link-500)}.resuts-container-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:15px;height:15px;margin-inline-end:10px}.resuts-container-item-positive[_ngcontent-%COMP%]{color:var(--crt-palette-success-500)}.resuts-container-item-negative[_ngcontent-%COMP%]{color:var(--crt-palette-error-500)}.resuts-container-item-neutral[_ngcontent-%COMP%]{color:var(--crt-palette-foreground-300)}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],tc.prototype,"label",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],tc.prototype,"allowedResults",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],tc.prototype,"activityCategory",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",O.FormControl),(0,u.__metadata)("design:paramtypes",[O.FormControl])],tc.prototype,"activityResultControl",null),tc=(0,u.__decorate)([(0,Qt.v)({type:"crt.AllowedResults",formControlConfig:{relatesTo:"activityResultControl"},reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:200,icon:o(99924),requiredFeatures:{ShowDesignerDemoItems:!0},addCommandTypeName:"crt.AddAllowedResultsCommand"},propertiesPanelComponentTypeName:"crt.AllowedResultsPropertiesPanel",viewElementGroupType:pn.J.Components,typeCaption:"AllowedResults.Caption",placeholderSize:{height:"88px"}}),(0,u.__metadata)("design:paramtypes",[t.Injector,Boolean])],tc);var da=o(41287),Fn=o(844);let Vy=class extends da.l{constructor(e){super(),this._queryExecutor=e,this._completeStatusCode="Finished"}_getStatus(){var e=this;return(0,bt.A)(function*(){const n=new qa.s("ActivityStatus");return n.addSchemaColumn("Id"),n.addSchemaColumn("Name"),n.filters.addSchemaColumnFilterWithParameter(He.H.Equal,"Code",e._completeStatusCode),(0,m.lastValueFrom)(e._queryExecutor.executeSelectQuery(n).pipe((0,h.map)(a=>{const i=a[0];return i?{value:i.Id,displayValue:i.Name}:null})))})()}handle(e){var n=this;return(0,bt.A)(function*(){e.attributeName==="Result"&&(e.$context.Status=yield n._getStatus()),yield n.next?.handle(e)})()}};Vy=(0,u.__decorate)([(0,Fn.l)({type:"crt.UpdateActivityStatusHandler",requestType:"crt.HandleViewModelAttributeChangeRequest",scopes:["CrtActivityMiniPage"]}),(0,u.__metadata)("design:paramtypes",[An.w])],Vy);let Fy=class extends da.l{constructor(e){super(),this._liveAnnouncementService=e}handle(e){var n=this;return(0,bt.A)(function*(){e.$context.attributes.Result&&n._liveAnnouncementService.announce("AllowedResults.TaskCompleted"),yield n.next?.handle(e)})()}};Fy=(0,u.__decorate)([(0,Fn.l)({type:"crt.SaveActivityStatusHandler",requestType:"crt.SaveRecordRequest",scopes:["CrtActivityMiniPage"]}),(0,u.__metadata)("design:paramtypes",[E.DW])],Fy);let il=class Q3{static{this.\u0275fac=function(n){return new(n||Q3)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Q3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[fe.q,_.CommonModule,Bi,Ea,_t.MatIconModule,_e.S,re,f.TranslateModule]})}};il=(0,u.__decorate)([(0,ie.g)({viewElements:[tc],requestHandlers:[Vy,Fy]})],il),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(il,{declarations:[jm,tc],imports:[fe.q,_.CommonModule,Bi,Ea,_t.MatIconModule,_e.S,re,f.TranslateModule],exports:[tc]})}();var N5=o(72051),V5=o(41483),F5=o(30293);function ww(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",6)(1,"img",7),t.\u0275\u0275listener("load",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275reference(3),b=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(b.onImageLoaded(i.target,s))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(2,"img",8,0),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("src",n.imageUrl,t.\u0275\u0275sanitizeUrl)}}function Ew(r,e){if(r&1&&t.\u0275\u0275element(0,"div",9),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275styleMap(n.colorStyle)}}function Tw(r,e){if(r&1&&t.\u0275\u0275element(0,"div",9),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275styleMap(n.accessibleColorStyle)}}function Pw(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275template(1,ww,4,1,"div",3)(2,Ew,1,2,"div",4)(3,Tw,1,2,"div",4),t.\u0275\u0275element(4,"div",5),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",n.classes),t.\u0275\u0275attribute("data-qa",n.backgroundConfigStr),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.mode==="Image"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.mode==="Color"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.mode==="AccessibleColor")}}let p1=class Y3 extends ue.K{get mode(){return lo.getBackgroundMode(this._backgroundConfig)}get imageUrl(){return this._backgroundConfig?.imageUrl||""}get colorStyle(){return this._backgroundConfig?lo.getColorStyle(this._backgroundConfig):{}}get accessibleColorStyle(){return this._backgroundConfig?lo.getAccessibleColorStyle(this._backgroundConfig):{}}get backgroundConfigStr(){return JSON.stringify(this._backgroundConfig)||""}constructor(e,n){super(e),this.injector=e,this._appBackgroundService=n,this._subscription=new m.Subscription,this._blurRadius=100}onImageLoaded(e,n){var a=this;return(0,bt.A)(function*(){n.setAttribute("src",yield a._appBackgroundService.createBlurredVersion(e,a._blurRadius))})()}setClasses(e){const n=e||[];super.setClasses(n)}ngOnInit(){const e=this._appBackgroundService.getConfig().subscribe(n=>{this._backgroundConfig=n,this.changeDetectorRef.detectChanges()});this._subscription.add(e)}ngOnDestroy(){this._subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||Y3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(lo))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Y3,selectors:[["crt-app-background"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["blurredImage",""],["class","app-background",3,"ngClass",4,"ngIf"],[1,"app-background",3,"ngClass"],["class","background image-container",4,"ngIf"],["class","background color",3,"style",4,"ngIf"],[1,"gradient"],[1,"background","image-container"],["fetchpriority","high","alt","Background image",1,"image","main",3,"load","src"],["alt","Blurred background image",1,"image","glassmorphism"],[1,"background","color"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,Pw,5,5,"div",1),n&2&&t.\u0275\u0275property("ngIf",a.backgroundConfigStr)},dependencies:[_.NgClass,_.NgIf],styles:[`.app-background{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-10}.app-background .background{position:relative;width:100%;height:100%}.app-background .background .image{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}.app-background .background .image.glassmorphism{backdrop-filter:none;-webkit-backdrop-filter:none;visibility:hidden;opacity:0;transition:visibility 1s,opacity .1s linear}.app-background .gradient{position:absolute;top:0;left:0;width:100%;height:100%;visibility:hidden;opacity:0;transition:visibility 1s,opacity .1s linear}.app-background.app-background-gradient .gradient,.app-background.app-background-glassmorphism .background .glassmorphism{visibility:visible;opacity:1;transition:visibility 1s,opacity .1s linear}.app-background:not(.app-background-glassmorphism) .image.main{transform:scale(1.05);transition:transform ease-in-out 5s}.app-background:not(.app-background-glassmorphism).app-background-gradient .image.main{transform:scale(1)}body[center-container-expanded=true] .app-background.app-background-gradient .gradient{visibility:hidden;opacity:0;transition:visibility 1s,opacity .1s linear}
`],encapsulation:2,changeDetection:0})}};p1=(0,u.__decorate)([(0,Qt.v)({type:"crt.AppBackground",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector,lo])],p1);let rl=class J3{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"paint-brush",icon:o(23346)}])}static{this.\u0275fac=function(n){return new(n||J3)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:J3})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:N5.P,useValue:{name:y5,type:V5.P.PersistentAndMemory,options:{tableName:F5.w.Images}},multi:!0}],imports:[_.CommonModule,Te.c]})}};rl=(0,u.__decorate)([(0,ie.g)({viewElements:[p1]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],rl),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(rl,{declarations:[p1],imports:[_.CommonModule,Te.c],exports:[p1]})}();var _o=o(6503),ip=o(78748);class Bm extends ip.w{constructor(e,n){super(),this._copyClipboardService=e,this._notifyService=n}copyToBuffer(e){var n=this;return(0,bt.A)(function*(){yield n._copyClipboardService.copyToBuffer(e),yield n._notifyService.show({message:"CopyClipboard.Copied"})})()}static{this.\u0275fac=function(n){return new(n||Bm)(t.\u0275\u0275inject(ip.w),t.\u0275\u0275inject(_o.F))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Bm,factory:Bm.\u0275fac,providedIn:"root"})}}const j5=new t.InjectionToken("A copy clipboard factory"),B5={provide:ip.w,useFactory:(r,e,n)=>new Bm(e.create(r),n),deps:[E.kW,j5,_o.F]};var Ow=o(45179),Dw=o(171),jy=o(33707),z5=o(78693),u1=o(5704),zm=o(29025),Um=o(53163);class Aw{}const By=new t.InjectionToken("ContextService");var Lw=o(47424);class Hm{get contextService(){return this._contextService===void 0&&(this._contextService=this._injector.get(By,null)),this._contextService}constructor(e,n,a){this._modelGenerator=e,this._window=n,this._injector=a,this._schemaName="AcademyUrlData"}_createAcademyHelpUrlDataItem(e){return{configurationVersion:e.ConfigurationVersion,contextHelpCode:e.Code,contextHelpId:e.ContextHelpId,enableContextHelp:e.EnableContextHelp,lmsUrl:e.LMSUrl,productEdition:e.ProductEdition,useLmsDocumentation:e.UseLmsDocumentation}}_getSchemaColumns(){return["ContextHelpId","EnableContextHelp","Code","ProductEdition","ConfigurationVersion","UseLmsDocumentation","LMSUrl"]}_createDataSourceParameters(e){return[{type:Uo.E.Filter,value:this._getContextHelpCodeFilter(e)}]}_getContextHelpCodeFilter(e){return new u1.x(He.H.Equal,new zm.g({columnPath:"Code"}),new Um.J({value:e}))}_getAcademyHelpUrlData(e){return this._modelGenerator.generateOne({type:"crt.EntityDataSource",config:{entitySchemaName:this._schemaName}},"").pipe((0,h.switchMap)(n=>n.load({attributes:this._getSchemaColumns(),parameters:e})),(0,h.map)(n=>n.length===1?this._createAcademyHelpUrlDataItem(n[0]):null))}_buildUrl(e){let n="#";return e&&(n=e.useLmsDocumentation?this._getLmsDocumentationUrl(e):jt.String.empty),n}_getLmsDocumentationUrl(e){const n=[],a=e.productEdition;a&&n.push("product="+encodeURIComponent(a));const i=e.configurationVersion;i&&n.push("ver="+encodeURIComponent(i));const s=e.enableContextHelp,b=e.contextHelpId;return s&&b&&n.push("id="+encodeURIComponent(b)),`${e.lmsUrl}?${n.join("&")}`}getAcademyHelpUrl(e){if(e===jt.String.empty)return(0,m.of)(jt.String.empty);const n=this._createDataSourceParameters(e);return this._getAcademyHelpUrlData(n).pipe((0,h.map)(a=>a?this._buildUrl(a):jt.String.empty))}openContextHelp(){const e=this.contextService;if(!e)throw new Error(`${By.toString()} was not provided`);const n=e.getContextCode();this.getAcademyHelpUrl(n).subscribe(a=>{this._window.open(a)})}static{this.\u0275fac=function(n){return new(n||Hm)(t.\u0275\u0275inject(Lw.n),t.\u0275\u0275inject(E.ZP),t.\u0275\u0275inject(t.Injector))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Hm,factory:Hm.\u0275fac,providedIn:"root"})}}class rp{constructor(e,n,a,i){this._dialogService=e,this._translateService=n,this._academyHelpUrlService=a,this._domSanitizer=i,this._codeErrorDataSchema={columns:[new Ow.X({name:"errorTypeIcon",formatter:(s,b)=>b.warning?z5.G.Warning:z5.G.Error}),{name:"fileName",caption:this._translateService.instant("ErrorListDialogService.FileNameColumn"),valueType:X.r.Text},{name:"errorText",caption:this._translateService.instant("ErrorListDialogService.ErrorTextColumn"),valueType:X.r.Text},{name:"errorNumber",caption:this._translateService.instant("ErrorListDialogService.ErrorNumberColumn"),valueType:X.r.Text},{name:"line",caption:this._translateService.instant("ErrorListDialogService.LineColumn"),valueType:X.r.Text}]},this._savePackagePropertiesErrorDataSchema={columns:[new Dw.$({name:"itemType",caption:this._translateService.instant("ErrorListDialogService.ItemTypeColumn"),formatter:(s,b)=>this._getTypeIconName(b.itemType)},""),{name:"itemName",caption:this._translateService.instant("ErrorListDialogService.ItemNameColumn"),valueType:X.r.Text},{name:"message",caption:this._translateService.instant("ErrorListDialogService.DescriptionColumn"),valueType:X.r.Text},{name:"packageName",caption:this._translateService.instant("ErrorListDialogService.PackageNameColumn"),valueType:X.r.Text}]},this._codeValidationErrorDataSchema={columns:[{name:"source",caption:this._translateService.instant("ErrorListDialogService.SourceColumn"),valueType:X.r.Text},{name:"reference",caption:this._translateService.instant("ErrorListDialogService.ReferenceColumn"),valueType:X.r.Text},{name:"package",caption:this._translateService.instant("ErrorListDialogService.PackageColumn"),valueType:X.r.Text}]}}_getCompilationErrorsDialogData(e){return{title:this._translateService.instant("ErrorListDialogService.CodeErrorListDialogCaption"),dataSchema:this._codeErrorDataSchema,data:e,sortColumn:"fileName"}}_getPackagePropertiesErrorDialogData(e){return{title:this._translateService.instant("ErrorListDialogService.PackagePropertiesErrorDialogCaption"),additionalText:this._translateService.instant("ErrorListDialogService.PackagePropertiesErrorMessage"),dataSchema:this._savePackagePropertiesErrorDataSchema,data:e,sortColumn:"itemType"}}_getValidationErrorsDialogData(e,n){return{title:this._translateService.instant("ErrorListDialogService.CodeValidationErrorListDialogCaption"),dataSchema:this._codeValidationErrorDataSchema,data:n,sortColumn:"source",additionalText:e,helpLinkUrl:this._getHelpLinkUrl()}}_getTypeIconName(e){switch(e){case"Schema":return"workspace-item-entity-schema";case"Assembly":return"workspace-item-assembly";case"SqlScript":return"workspace-item-sql-script";case"SchemaData":return"workspace-item-schema-data";case"Package":return"workspace-item-package";default:return""}}_getHelpLinkUrl(){return{url:this._domSanitizer.bypassSecurityTrustUrl(this._academyUrl),caption:this._translateService.instant("ErrorListDialogService.AcademyHelpUrlCaption")}}_getAcademyHelpUrl(){return this._academyHelpUrlService.getAcademyHelpUrl("PackageHierarchyLoops")}showCompilationErrors(e){return this._dialogService.open(jy.C,{data:this._getCompilationErrorsDialogData(e),panelClass:"compilation-error-dialog",disableClose:!0})}showValidationErrors(e,n,a=[]){return this._getAcademyHelpUrl().pipe((0,h.switchMap)(i=>(this._academyUrl=i,this._dialogService.open(jy.C,{data:this._getValidationErrorsDialogData(e,n),panelClass:["validation-error-dialog",...a],disableClose:!0}))))}showSavePackagePropertiesErrors(e){return this._dialogService.open(jy.C,{data:this._getPackagePropertiesErrorDialogData(e),panelClass:"save-package-properties-error-dialog",disableClose:!0})}static{this.\u0275fac=function(n){return new(n||rp)(t.\u0275\u0275inject(Kt.o),t.\u0275\u0275inject(f.TranslateService),t.\u0275\u0275inject(Hm),t.\u0275\u0275inject(p.DomSanitizer))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:rp,factory:rp.\u0275fac})}}var op=o(13443);class kw extends op.x{constructor(){super(...arguments),this._accumulatedErrorResponses=[]}_accumulateError(e){const n=(0,y.cloneDeep)(e);this._accumulatedErrorResponses.push(n)}_stopAccumulatingErrors(){this._accumulatedErrorResponses=[]}get accumulatedErrorResponses(){return this._accumulatedErrorResponses}processUnsuccessfulResponse(e){if(this._accumulateErrors&&this.canAccumulate(e)){this._accumulateError(e),this.processAccumulatedResponse(e);return}this.processSeparatedResponse(e)}handleRequestWithAccumulation(e,n){let a=!1;return this._accumulateErrors||(this._accumulateErrors=!0,a=!0),this.handleRequest(e,n).pipe((0,h.tap)(()=>{a&&(this.showAccumulatedErrors(),this._stopAccumulatingErrors())}),(0,h.catchError)(i=>{throw this._stopAccumulatingErrors(),i}))}}class Wm extends kw{constructor(e,n){super(),this._dialogService=e,this._errorListDialogService=n,this._subscription=new m.Subscription}_showValidationErrors(e,n){this._subscription.add(this._errorListDialogService.showValidationErrors(e,n).subscribe())}processAccumulatedResponse(e){const n=e;n.success=!0,delete n.errorInfo,delete n.validationErrors}canAccumulate(e){return e?.errorInfo?.errorCode==="AutoAddPackageDependenciesValidateException"}showAccumulatedErrors(){const e=(0,y.cloneDeep)(this.accumulatedErrorResponses),n=e.shift();if(e.forEach(a=>{const i=a,s=n.validationErrors??[],b=i.validationErrors,D=s.some(W=>b?.find(ot=>(0,y.isEqual)(ot,W)));!(0,y.isEmpty)(b)&&!D&&(n.validationErrors=[...s,...b])}),n){const a=n.errorInfo?.message;this._showValidationErrors(a,n.validationErrors)}}processSeparatedResponse(e){const{validationErrors:n,errorInfo:a}=e||{};n?.length>0?this._showValidationErrors(a.message,n):a&&a.message&&this.processErrorMessage(a.message)}processErrorMessage(e){this._dialogService.openErrorDialog(e)}ngOnDestroy(){this._subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||Wm)(t.\u0275\u0275inject(Kt.o),t.\u0275\u0275inject(rp))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Wm,factory:Wm.\u0275fac})}}var m1=o(22457),g1=o(59888),zy=o(97842);const Rw=()=>["auto","1fr","auto"],Nw=()=>["minmax(max-content, 32px)"];function Vw(r,e){r&1&&t.\u0275\u0275element(0,"crt-quick-run-process-button")}function Fw(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-quick-add-menu-button",11),t.\u0275\u0275listener("clicked",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onCreateRecord(i))}),t.\u0275\u0275elementEnd()}}function jw(r,e){r&1&&t.\u0275\u0275element(0,"crt-global-search",12),r&2&&t.\u0275\u0275property("tsDataItemMarker","AppToolbarGlobalSearch")}function Bw(r,e){r&1&&t.\u0275\u0275element(0,"crt-configuration-errors-button")}function zw(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-communication-indicator",13),t.\u0275\u0275listener("clicked",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onCommunicationIndicatorClicked(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=e.$implicit;t.\u0275\u0275property("communicationItemInfo",n)}}function Uw(r,e){r&1&&t.\u0275\u0275element(0,"crt-operator-state",14),r&2&&t.\u0275\u0275property("useGlassmorphism",!0)}function Hw(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-right-panel-buttons",15),t.\u0275\u0275listener("buttonClicked",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onRightPanelButtonClicked(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("notificationsPanelHasNewNotifications",n.notificationsPanelHasNewNotifications)("communicationsPanelHasNewMessages",n.communicationsPanelHasNewMessages)("currentRightPanelTab",n.currentRightPanelTab)("showLegacySidebarsButton",n.showLegacySidebarsButton)}}function Ww(r,e){r&1&&t.\u0275\u0275element(0,"crt-help-menu-button")}function Gw(r,e){r&1&&t.\u0275\u0275element(0,"crt-settings-button")}function $w(r,e){r&1&&t.\u0275\u0275element(0,"crt-workspace-explorer-button")}let oa=class X3 extends ue.K{get isShownOperatorState(){return this._featureValues.ContactCenterBeta}constructor(e,n,a,i,s,b){super(e),this._userInfo=n,this._rightsService=a,this._restHandler=i,this._applicationInfoService=s,this._featureValues=b,this._canOpenSystemDesignerOperationCode="CanOpenSystemDesigner",this.settingsButtonVisible$=(0,m.of)(this._userInfo.isSSP).pipe((0,m.switchMap)(D=>D?(0,m.of)(!1):this._getCanExecuteOperation(this._canOpenSystemDesignerOperationCode))),this.workspaceExplorerButtonVisible$=this._getIsWorkspaceExplorerButtonVisible(),this.configurationErrorsButtonVisible$=this._getIsConfigurationErrorsButtonVisible(),this.rightPanelButtonClicked=new t.EventEmitter,this.runProcessButtonVisible=!0,this.showLegacySidebarsButton=!1,this.navigationPanelVisible=!1,this.quickAddMenuButtonVisible=!0,this.globalSearchVisible=!0,this.rightPanelButtonsVisible=!0,this.helpMenuButtonVisible=!0,this.navigationPanelVisibleChange=new t.EventEmitter,this.communicationItemsInfo=[],this.communicationIndicatorClicked=new t.EventEmitter,this.createRecord=new t.EventEmitter}_getIsWorkspaceExplorerButtonVisible(){return this._featureValues.HideAppToolbarDevButton?(0,m.of)(!1):(0,t.isDevMode)()?(0,m.of)(!0):this._applicationInfoService.loadSysValues().pipe((0,m.map)(e=>e?.coreVersion==="0.0.0.0"),(0,m.switchMap)(e=>e?this._getCanExecuteOperation("CanManageSolution"):(0,m.of)(!1)))}_getIsConfigurationErrorsButtonVisible(){return this._featureValues.ReportInvalidConfigurationState?this._getCanExecuteOperation("CanManageSolution"):(0,m.of)(!1)}_getCanExecuteOperation(e){return this._restHandler.handleRequest(this._rightsService.getCanExecuteOperation(e),{skipBodyMask:!0})}onNavigationPanelVisibleChange(){this.navigationPanelVisibleChange.emit(!this.navigationPanelVisible)}onCreateRecord(e){this.createRecord.emit(e)}onRightPanelButtonClicked(e){this.rightPanelButtonClicked.emit(e)}onCommunicationIndicatorClicked(e){this.communicationIndicatorClicked.emit(e)}static{this.\u0275fac=function(n){return new(n||X3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(Ze.oq),t.\u0275\u0275directiveInject(Ld.f),t.\u0275\u0275directiveInject(m1.D),t.\u0275\u0275directiveInject(g1.my),t.\u0275\u0275directiveInject(ge.G))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:X3,selectors:[["crt-app-toolbar"]],inputs:{runProcessButtonVisible:"runProcessButtonVisible",notificationsPanelHasNewNotifications:"notificationsPanelHasNewNotifications",communicationsPanelHasNewMessages:"communicationsPanelHasNewMessages",showLegacySidebarsButton:"showLegacySidebarsButton",navigationPanelVisible:"navigationPanelVisible",quickAddMenuButtonVisible:"quickAddMenuButtonVisible",globalSearchVisible:"globalSearchVisible",rightPanelButtonsVisible:"rightPanelButtonsVisible",helpMenuButtonVisible:"helpMenuButtonVisible",currentRightPanelTab:"currentRightPanelTab",communicationItemsInfo:"communicationItemsInfo"},outputs:{rightPanelButtonClicked:"rightPanelButtonClicked",navigationPanelVisibleChange:"navigationPanelVisibleChange",communicationIndicatorClicked:"communicationIndicatorClicked",createRecord:"createRecord"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:21,vars:21,consts:[[3,"columns","rows"],["direction","row","wrap","nowrap","alignItems","center","gap","medium"],[3,"visibleChange","navigationPanelVisible"],[1,"logo"],[4,"ngIf"],[3,"clicked",4,"ngIf"],["role","search",3,"tsDataItemMarker",4,"ngIf"],["alignItems","center","gap","medium","wrap","nowrap",1,"right-buttons-container"],[3,"communicationItemInfo","clicked",4,"ngFor","ngForOf"],[3,"useGlassmorphism",4,"ngIf"],["class","right-panel-buttons",3,"notificationsPanelHasNewNotifications","communicationsPanelHasNewMessages","currentRightPanelTab","showLegacySidebarsButton","buttonClicked",4,"ngIf"],[3,"clicked"],["role","search",3,"tsDataItemMarker"],[3,"clicked","communicationItemInfo"],[3,"useGlassmorphism"],[1,"right-panel-buttons",3,"buttonClicked","notificationsPanelHasNewNotifications","communicationsPanelHasNewMessages","currentRightPanelTab","showLegacySidebarsButton"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"crt-grid",0)(1,"crt-flex",1)(2,"crt-navigation-panel-button",2),t.\u0275\u0275listener("visibleChange",function(){return a.onNavigationPanelVisibleChange()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"crt-toolbar-logo",3),t.\u0275\u0275template(4,Vw,1,0,"crt-quick-run-process-button",4)(5,Fw,1,0,"crt-quick-add-menu-button",5)(6,jw,1,1,"crt-global-search",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(7,"div"),t.\u0275\u0275elementStart(8,"crt-flex",7),t.\u0275\u0275template(9,Bw,1,0,"crt-configuration-errors-button",4),t.\u0275\u0275pipe(10,"async"),t.\u0275\u0275template(11,zw,1,1,"crt-communication-indicator",8),t.\u0275\u0275element(12,"crt-license-indicator"),t.\u0275\u0275template(13,Uw,1,1,"crt-operator-state",9)(14,Hw,1,4,"crt-right-panel-buttons",10)(15,Ww,1,0,"crt-help-menu-button",4)(16,Gw,1,0,"crt-settings-button",4),t.\u0275\u0275pipe(17,"async"),t.\u0275\u0275template(18,$w,1,0,"crt-workspace-explorer-button",4),t.\u0275\u0275pipe(19,"async"),t.\u0275\u0275element(20,"crt-user-profile-button"),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275property("columns",t.\u0275\u0275pureFunction0(19,Rw))("rows",t.\u0275\u0275pureFunction0(20,Nw)),t.\u0275\u0275advance(2),t.\u0275\u0275property("navigationPanelVisible",a.navigationPanelVisible),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.runProcessButtonVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.quickAddMenuButtonVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.globalSearchVisible),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(10,13,a.configurationErrorsButtonVisible$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.communicationItemsInfo),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isShownOperatorState),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.rightPanelButtonsVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.helpMenuButtonVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(17,15,a.settingsButtonVisible$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(19,17,a.workspaceExplorerButtonVisible$)))},styles:["[_nghost-%COMP%]{display:block;padding:8px 8px 8px 16px;width:100%}[_nghost-%COMP%]   .navigation-toggle[_ngcontent-%COMP%]{--crt-button-default-contrast-color: var(--crt-palette-navigation-primary-A100);--crt-button-default-color: rgba(255, 255, 255, .05);--crt-button-default-hover-color: rgba(255, 255, 255, .1)}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{min-width:-moz-fit-content;min-width:fit-content}[_nghost-%COMP%]   crt-global-search[_ngcontent-%COMP%]{width:218px}[_nghost-%COMP%]   crt-user-profile-button[_ngcontent-%COMP%]{display:inline-flex}[_nghost-%COMP%]   .right-buttons-container[_ngcontent-%COMP%]{overflow-x:auto}[dir=rtl][_nghost-%COMP%]{padding:8px 16px 8px 8px}"],changeDetection:0})}};(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],oa.prototype,"rightPanelButtonClicked",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],oa.prototype,"runProcessButtonVisible",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],oa.prototype,"notificationsPanelHasNewNotifications",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],oa.prototype,"communicationsPanelHasNewMessages",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],oa.prototype,"showLegacySidebarsButton",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],oa.prototype,"navigationPanelVisible",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],oa.prototype,"quickAddMenuButtonVisible",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],oa.prototype,"globalSearchVisible",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],oa.prototype,"rightPanelButtonsVisible",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],oa.prototype,"helpMenuButtonVisible",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],oa.prototype,"currentRightPanelTab",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],oa.prototype,"navigationPanelVisibleChange",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],oa.prototype,"communicationItemsInfo",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],oa.prototype,"communicationIndicatorClicked",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],oa.prototype,"createRecord",void 0),oa=(0,u.__decorate)([(0,Qt.v)({type:"crt.AppToolbar",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector,Ze.oq,Ld.f,m1.D,g1.my,zy.x])],oa);class Jo{constructor(e,n){this._changeDetectorRef=e,this._translateService=n,this._destroyed$=new m.Subject,this._initialized=!1,this._displayStyle="",this._hidden=!1,this.destroyed$=this._destroyed$.asObservable(),this.title=this.getTitle()}set hidden(e){this._hidden=e,this._actualizeDisplayStyle()}get hidden(){return this._hidden}get initialized(){return this._initialized}get displayStyle(){return this._displayStyle}_actualizeDisplayStyle(){this._displayStyle=this._initialized&&!this._hidden?"":"none"}markForCheck(){this._changeDetectorRef.markForCheck()}translate(e){return this._translateService.instant(e)}initialize(){return(0,m.of)()}ngOnInit(){this.initialize().pipe((0,m.takeUntil)(this.destroyed$)).subscribe(()=>{this._initialized=!0,this._actualizeDisplayStyle(),this.markForCheck()})}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||Jo)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Jo,hostVars:2,hostBindings:function(n,a){n&2&&t.\u0275\u0275styleProp("display",a.displayStyle)}})}}var Ar=o(70941),Uy;(function(r){r.Blank="_blank",r.Self="_self"})(Uy||(Uy={}));var Hy=o(40269),Xo;(function(r){r.Edit="edit",r.Add="add",r.Copy="copy"})(Xo||(Xo={}));var Kw=o(29241),Gm;(function(r){r.Auto="auto",r.PreferFreedomUI="freedom-ui"})(Gm||(Gm={}));var Wy;(function(r){r.Dashboard="Dashboard",r.Page="Page",r.Desktop="Desktop",r.MiniPage="MiniPage",r.Sidebar="Sidebar",r.DashboardPage="DashboardPage",r.MobilePage="MobilePage"})(Wy||(Wy={}));var Gy=o(23710);class U5{static initialize(){Gy.config({disableDefaultAlphabetLength:!0,disableDefaultIdLength:!0,idLength:7}),Gy.characters("0123456789abcdefghijklmnopqrstuvwxyz")}static generateUnique(e,n="",a="_"){const i=new RegExp(`^${n}`);return n+e.replace(i,"")+a+Gy.generate()}}U5.initialize();class ol{static getSchemaRequire(e){return new Promise(n=>{Terrasoft.require([e],a=>n(a))})}static isSchemaInheritedFrom(e,n){var a=this;return(0,bt.A)(function*(){let i=Terrasoft.configuration.Structures[n];i||(yield a.getSchemaRequire(n),i=Terrasoft.configuration.Structures[n]);const s=i?.structureParent;return s?s===e||a.isSchemaInheritedFrom(e,s):!1})()}}class se{static{this._angularSchemaType=9}static get angularSchemaType(){return se._angularSchemaType}static{this._angularModules=["PageSchemaViewModule","CardSchemaViewModule","HomePage","Desktop","SectionSchemaViewModule"]}static _getTypeColumnName(e,n){return se.getEntityStructure(e,n??Gm.Auto)?.pages.find(s=>s.typeColumnName)?.typeColumnName}static _getTypeColumnValue(e){return(0,bt.A)(function*(){const{entityName:n,typeColumnValue:a}=e;if(a)return a;const i=se._getTypeColumnName(n,e.uiTypePriority),s=se.getRecordLookupValue(e.recordId);return!i||!s?null:(yield(yield Hy.K.create(n)).load({attributes:[i],parameters:[{type:Uo.E.Filter,value:new u1.x(He.H.Equal,new zm.g({columnPath:"Id"}),new Um.J({value:s}))}]}))?.[0]?.[i]?.value})()}static _getModuleStructureBySectionSchema(e){return Object.values(Terrasoft.configuration.ModuleStructure).find(n=>n.sectionSchema===e)}static _getSectionModuleName(e){return se._getModuleStructureBySectionSchema(e)?.sectionModule}static _getSectionEditPageModuleName(e){return Object.values(Terrasoft.configuration.ModuleStructure).find(a=>a.cardSchema===e||a.pages?.some(i=>i.cardSchema===e))?.cardModule}static _getModuleName(e){return(0,bt.A)(function*(){const n=se._getSectionModuleName(e)??se._getSectionEditPageModuleName(e);if(n)return n;if(yield ol.isSchemaInheritedFrom("BasePageV2",e))return"CardModuleV2";switch(!0){case(yield ol.isSchemaInheritedFrom("BaseHomePage",e)):return"HomePage";case(yield ol.isSchemaInheritedFrom("BaseIntroPageSchema",e)):return"IntroPage";case(yield ol.isSchemaInheritedFrom("BaseSectionV2",e)):return"SectionModuleV2";default:return"PageSchemaViewModule"}})()}static _getTypedPage(e,n){if(!n||n.length<=1)return;if(e.entityPageName){const i=n.find(s=>s.cardSchema===e.entityPageName);if(i)return i}let a=e.typeColumnValue;if(!a&&e.entityName){const s=se.getEntityStructure(e.entityName,e.uiTypePriority)?.attribute;if(s){const b=e.defaultValues?.find(D=>D.attributeName===s);a=b?.value?.value||b?.value}}if(a)return n.find(i=>i.UId===a)}static _getDefaultPages(e){return e?.filter(n=>se._isDefaultPage(n))}static _getNotTypedAddPage(e){return e?.find(n=>se._isAddPage(n)&&!n.UId)}static _getTypedAddPage(e){return e?.find(n=>se._isAddPage(n)&&n.UId)}static _getTypedDefaultPage(e){return e?.find(n=>se._isDefaultPage(n)&&n.UId)}static _getNotTypedDefaultPage(e){return e?.find(n=>se._isDefaultPage(n)&&!n.UId)}static _isDefaultPage(e){return e.isDefault||!e.actions}static _isAddPage(e){return e.actions?.add}static _getDefaultPage(e){const n=se.getEntityStructure(e.entityName,e.uiTypePriority);if(!n)return;const a=se._getDefaultPages(n.pages),s=se._getTypedPage(e,a)||se._getNotTypedDefaultPage(a);return!s&&n.pages?.length?(console.warn("Default page not found and random page is given instead. Please, check passed options."),n.pages[0]):s}static _getAddPage(e){const a=se.getEntityStructure(e.entityName,e.uiTypePriority)?.pages,i=se.getPagesForAddAction(a);if(i?.length<=1)return i?.[0];const s=se._getTypedPage(e,i);if(s)return s;const b=se._getNotTypedAddPage(a),D=se._getNotTypedDefaultPage(a);let W=b||D;return W||(console.warn("Add or default page not found and random page is given instead. Please, check options."),console.warn(e),W=a?.[0]),W}static _getEditPage(e){return se._getDefaultPage(e)}static _getGroupedTypedPages(e){const n={};for(const a of e){const{UId:i}=a;i&&(n[i]=n[i]??[],n[i].push(a))}return n}static _getModuleConfig(e){return Object.values(Terrasoft.configuration.ModuleStructure).find(n=>n.cardSchema===e||n.sectionSchema===e||n.pages?.some(a=>a.cardSchema===e))}static getPagesForAddAction(e){if((0,y.isEmpty)(e))return[];const n=se._getGroupedTypedPages(e),a=se._getNotTypedAddPage(e),i=se._getNotTypedDefaultPage(e),s=Object.values(n).map(D=>{const W=se._getTypedAddPage(D);if(W)return W;const ot=se._getTypedDefaultPage(D);return ot&&a?{...a,...(0,y.pick)(ot,["caption","captionLcz","UId"])}:a||ot||i});if(!(0,y.isEmpty)(s))return s;const b=a||i;return b?[b]:[]}static getCardSchemaName(e){return e?.cardSchema??e?.cardSchemaName}static getEntityStructure(e,n=Gm.Auto){if(!e)return;let a;return n===Gm.PreferFreedomUI&&(a=Object.values(Terrasoft.configuration.EntityStructure).find(i=>i.page8X&&i.entitySchemaName===e)),a??Terrasoft.ModuleUtils.getEntityStructureByName(e)}static getRecordLookupValue(e){return typeof e=="string"?e:e?.value}static getPageForActionAsync(e){return(0,bt.A)(function*(){const a={typeColumnValue:yield se._getTypeColumnValue(e),...e};return se.getPageForAction(a)})()}static getPageForAction(e){let n;return e.action===Xo.Add?n=se._getAddPage(e):n=se._getEditPage(e),n||(n=se._getDefaultPage(e)),n}static getPageSchemaNameForAction(e){return(0,bt.A)(function*(){if(e.entityPageName)return e.entityPageName;const n=yield se.getPageForActionAsync(e);return se.getCardSchemaName(n)})()}static isAngularSchema(e){return(0,bt.A)(function*(){return yield ol.getSchemaRequire(e),(yield ol.getSchemaRequire(e+"Structure")).type===se._angularSchemaType})()}static generateChainModuleId(e){return U5.generateUnique(e+"_chain")}static getValuePairs(e){return e&&e.map(n=>{let a,i;const s=n.value;return s?.value?(i=s.value,a=s.displayValue):i=s,{name:n.attributeName,value:i,displayValue:a}})}static getModuleName(e,n){return(0,bt.A)(function*(){if(!e&&!n)throw new Kw.h("schemaName");return e&&!n&&(n=yield se._getModuleName(e)),n})()}static getEditPageModuleName(e,n=Gm.Auto){return se.getEntityStructure(e,n)?.cardModuleName}static hasEntityEditPage(e){return(0,bt.A)(function*(){return!!(yield se.getPageForActionAsync(e))})()}static isSectionEditPage(e){return!!se._getSectionEditPageModuleName(e)}static isAngularListPage(e){return(0,bt.A)(function*(){return(yield se.isAngularSchema(e))?ol.isSchemaInheritedFrom("BaseGridSectionTemplate",e):!1})()}static isAngularRouting(e){return se._angularModules.includes(e)}static getSectionEntityName(e){return se._getModuleStructureBySectionSchema(e)?.entitySchemaName}static getPageEntitySchemaName(e){const n=this._getModuleConfig(e);return n?.entitySchemaName?n.entitySchemaName:Object.values(Terrasoft.configuration.EntityStructure).find(i=>i.pages?.some(s=>s.cardSchema===e))?.entitySchemaName}static getEntityPageStructure(e){return Object.values(Terrasoft.configuration.EntityStructure).find(a=>a.pages.find(i=>i.cardSchema===e))?.pages?.find(a=>a.cardSchema===e)}static isMiniPage(e){const n=se.getEntityPageStructure(e);if(n){const a=n.schemaGroup===Wy.MiniPage;return Promise.resolve(a)}return ol.isSchemaInheritedFrom("BaseMiniPageTemplate",e)}static getSysModuleId(e){return(se._getModuleConfig(e)||Object.values(Terrasoft.configuration.ModuleStructure).find(a=>a.sectionModule===e))?.moduleId}}class sl{static{this._moduleAliases={CardSchemaViewModule:"Card",PageSchemaViewModule:"Page",SectionSchemaViewModule:"Section"}}static getModuleNameByAlias(e){const n=this._moduleAliases;return Object.keys(n).find(a=>n[a]===e)}static replaceModuleNameByAlias(e){const n=e.split("/");return n[0]=this._moduleAliases[n[0]]||n[0],n.join("/")}static{this.\u0275fac=function(n){return new(n||sl)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:sl,factory:sl.\u0275fac,providedIn:"root"})}}const Zw="\\[(.+)\\]";class rC{static _parseChildRoutes(e,n){const a=[],i=e.match(Zw);if(i?.length>0){const s=i[1],[b,D]=this._getChildRoutesIndexes(s),W=b>=0&&D>0;let ot=s,It;W&&(It=s.substring(b,D+1),ot=s.replace(It,"")),ot.split(",").forEach((Pt,te)=>{const Se=this._getChildSegmentByPath(Pt);if(Se.contextName=`${n}_${Se.target}${te}`,W){const On=s.indexOf(Pt);s.at(On+Pt.length)==="["&&(Se.children=this._parseChildRoutes(It,Se.contextName))}a.push(Se)})}return a}static _getChildRoutesIndexes(e){const n=[],a=[],i=[];for(let s=0;s<e.length;s++){const b=e.charAt(s);if(b==="[")n.push(s);else if(b==="]"){const D=n.pop();a.push(D),i.push(s)}}return[a.at(-1),i.at(-1)]}static _getRootSegmentByPath(e){if(!e)return{recordId:void 0,contextName:"root",action:void 0,schemaName:void 0,moduleName:void 0};const n=e.split("/");let a,i,s,b;return n.length===5&&n[0]==="SectionModuleV2"?[a,,i,s,b]=n:[a,i,s,b]=n,{moduleName:sl.getModuleNameByAlias(a)||a,schemaName:i,action:s,recordId:b,contextName:"root"}}static _getChildSegmentByPath(e){const n=e.split("=");let a,i;n[1]?(i=n[0],a=n[1]):a=n[0];const[s,b,D]=a.split("/");return{schemaName:s,action:b,recordId:D,target:i}}static parse(e){const a=new URL(e).hash.split("#")[1];return rC.parseLocation(a)}static parseLocation(e){const n=e?.indexOf("[");let a,i="";n>=0?(a=e.substring(0,n),i=e.substring(n)):a=e;const s=this._getRootSegmentByPath(a);let b=[];return i&&(b=this._parseChildRoutes(i,s.contextName)),{root:s,children:b}}static getQueryParams(e){const n=e.lastIndexOf("?"),a={};return n<0||e.substring(n+1).split("&").forEach(s=>{const b=s.split("=");a[b[0]]=b[1]}),a}}class ec extends Yb.S{constructor(e){super(),this.window=e,this.state$=new m.Subject,this._indexHistoryStates()}_indexHistoryStates(){const e=()=>{const n=this.getState();if(!n||!("historyIndex"in n)){let a;this.previousState?a=this.previousState?.historyIndex+1:a=this.window.history.length-1;const i={...n,historyIndex:a};this.window.history.replaceState(i,"indexState")}};e(),this.window.addEventListener("popstate",e,!0),this._popstateSubscription=new m.Subscription(()=>this.window.removeEventListener("popstate",e))}replaceAliasWithModuleName(e){const n=e.split("/");return n[0]=sl.getModuleNameByAlias(n[0])||n[0],n.join("/")}onPopState(e){}prepareExternalUrl(e){}getBaseHref(){return`${this.window.Terrasoft.workspaceBaseUrl}/Shell`}getRoute(e){const a={...rC.parse(this.window.location.href),state:e};return this._applyChildStateToChildSegment(a.children,e.children),a}_applyChildStateToChildSegment(e,n){!e||!n||e.forEach((a,i)=>{const s=n[i];a.parameters=s.parameters,a.defaultValues=s.modelInitConfigs?.[0]?.defaultValues,a.children&&this._applyChildStateToChildSegment(a.children,s.children)})}ngOnDestroy(){this._popstateSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||ec)(t.\u0275\u0275inject(E.ZP))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ec,factory:ec.\u0275fac,providedIn:"root"})}}const H5=new t.InjectionToken("ShellModuleAliasesFactory");function W5(r,e){return r?.moduleName===e?.moduleName&&r?.schemaName===e?.schemaName&&r?.action===e?.action&&r?.recordId===e?.recordId&&r?.contextName===e?.contextName}function G5(r,e){if(!(r?.length===e?.length))return!1;for(let a=0;a<r?.length;a++){const i=W5(r[a],e[a]),s=G5(r[a].children,e[a].children),b=r[a].target===e[a].target;if(!(i&&s?b:!1))return!1}return!0}function $5(r,e,n,a){let i=[];return(0,y.isEmpty)(n)||n.forEach(s=>{const b=a===r,D=s.target===e;if(b&&D)i.push(s);else{const ot=$5(r,e,s?.children,s.contextName);i=[...i,...ot]}}),i}function K5(r){const e=(0,y.omit)(r,"historyIndex","children","navigationId");return e.modelInitConfigs=e.modelInitConfigs?.map(n=>(0,y.omit)(n,"name")),e}function Qw(r,e){return(0,y.isEqual)(K5(r),K5(e))}function $y(r){const e=r.children||[];return(0,y.isEmpty)(e)?r:$y(e[0])}const Yw="ChainModuleStub",nU="navigation",aU="ExecutionZones",iU={Modal:"modal"},$m={ClassicUI:"7x",FreedomUI:"8x"};var Ui;(function(r){r.Push="push",r.Replace="replace"})(Ui||(Ui={}));var pi;(function(r){r.Back="back",r.Forward="forward",r.ExecuteTransition="executeTransition",r.Go="go"})(pi||(pi={}));var Ky=o(47765),Jw=o(48370),Xw=o(33656),qw=o(92141);class Km{static{this._backEvent={type:pi.Back}}_addToBucket(e,n){let a=e[n.type];a||(a=[],e[n.type]=a),a.push(n)}_eventBucketsReducer(e,n){return n.type===pi.Go&&n.delta===-1?this._addToBucket(e,Km._backEvent):this._addToBucket(e,n),e}_prepareForwardEvents(e,n){let a=[];const i=[];for(const s of e)(s.config.mode===Ui.Push?i:a).push(s);return a.length===0&&n&&i.length>0&&(i[0].config.mode=Ui.Replace),a.length>0&&(a=[a[a.length-1]]),[...a,...i]}normalize(e){const n=e.reduce(this._eventBucketsReducer.bind(this),{}),a=n[pi.Go],i=n[pi.Forward];if(a||i)return[...a||[],...i||[]];const s=n[pi.Back],b=n[pi.ExecuteTransition];return s&&!b?[s[0]]:this._prepareForwardEvents(b,!!s)}static{this.\u0275fac=function(n){return new(n||Km)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Km,factory:Km.\u0275fac,providedIn:"root"})}}const tE="navigation";class h1{constructor(e,n,a,i){this._zoneService=e,this._normalizer=n,this._logger=a,this._applicationInfo=i,this._queue=[],this._state=Ky.n.Idle,this.navigationEventsReady$=new t.EventEmitter(!1);const s=e.register(tE,Jw._.ExecutionTracking);this._stateChangeSubscription=s.onStateChange$.subscribe(this._onStateChange.bind(this))}_onStateChange(e){this._state!==e&&(this._state=e,e===Ky.n.Idle&&this._execQueue())}_execQueue(){if(!this._queue.length||this._state===Ky.n.Busy)return;const e=this._normalizer.normalize(this._queue);this._applicationInfo.isDebugEnabled&&this._logger.log(`Executing ${this._queue.length} events as ${e.length}`,this._queue,{sourceEvents:this._queue,normalizedEvents:e}),this._queue=[],this.navigationEventsReady$.next(e)}_push(e){this._queue.push(e),this._execQueue()}pushTransition(e){this._push({type:pi.ExecuteTransition,config:e})}push(e,n){this._push({type:e,delta:n})}ngOnDestroy(){this._stateChangeSubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||h1)(t.\u0275\u0275inject(Xw.p),t.\u0275\u0275inject(Km),t.\u0275\u0275inject(E.gP),t.\u0275\u0275inject(qw.z))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:h1,factory:h1.\u0275fac,providedIn:"root"})}}class Zm{constructor(e,n,a,i){this._locationStrategy=e,this._navigationQueue=n,this._moduleAliasesFeatureFactory=a,this._featureValues=i,this._handlerChain=Ar.t.instance,this._onNavigationEventsReadySubscription=this._navigationQueue.navigationEventsReady$.pipe((0,m.switchMap)(s=>this._handleNavigationEvents(s))).subscribe(),this._moduleAliasesFeatureFactory().then(s=>this._moduleAliasesFeatureEnabled=s)}_handleNavigationBack(){if(this._featureValues.EnableNavigationToDesktopBeforeQuit&&!this._locationStrategy.previousState){this._locationStrategy.pushState({moduleName:"Desktop"},"","Desktop");return}this._locationStrategy.back()}_handleNavigationEvent(e){switch(e.type){case pi.Back:this._handleNavigationBack();break;case pi.Forward:this._locationStrategy.forward();break;case pi.Go:this._locationStrategy.go(e.delta);break}}_handleNavigationEvents(e){var n=this;return(0,bt.A)(function*(){const a=e.length-1;for(let i=0;i<e.length;i++){const s=e[i];if(s.type===pi.ExecuteTransition){const b=i<a;yield n._executeTransition(s.config,b)}else n._handleNavigationEvent(s)}})()}_changeHistoryStateUsing8xRouting({mode:e,state:n,pageTitle:a,location:i}){if(a=a??"",e===Ui.Replace)return this.replaceState(n,a,i);if(e===Ui.Push)return this.pushState(n,a,i)}_changeHistoryStateUsing7xRouting({mode:e,state:n,location:a},i){var s=this;return(0,bt.A)(function*(){const b=e===Ui.Replace?"ReplaceHistoryState":"PushHistoryState";yield s._handlerChain.process({type:"crt.7XRequest",$context:null,action:b,hash:a,stateObj:n,silent:n?.silent??i})})()}_changeHistoryState(e,n,a){var i=this;return(0,bt.A)(function*(){n?i._changeHistoryStateUsing8xRouting(e):yield i._changeHistoryStateUsing7xRouting(e,a)})()}_load7xModule({state:e,moduleConfig:n}){var a=this;return(0,bt.A)(function*(){const i=e.initConfig,b=se.isAngularRouting(e.moduleName)?Yw:e.moduleName,D={renderTo:"centerPanel",id:n?.moduleId??e?.moduleId,keepAlive:n?.keepAlive??!0,instanceConfig:i,replaceLastModuleInChain:e.replaceLastModuleInChain};yield a._handlerChain.process({type:"crt.7XRequest",$context:null,action:"LoadModule",moduleName:b,moduleParams:D})})()}_executeTransition(e,n){var a=this;return(0,bt.A)(function*(){const i=e.state,s=i.children?.length>0,b=se.isAngularRouting(i.moduleName)||s,D=!!i.isInChain;n&&(i.silent=!0,i.moduleId=e.moduleConfig?.moduleId??i?.moduleId),yield a._changeHistoryState(e,b,D),!n&&D&&!s&&(yield a._load7xModule(e))})()}_getProcessedHash(e){return this._moduleAliasesFeatureEnabled?sl.replaceModuleNameByAlias(e):e}executeTransition(e){this._navigationQueue.pushTransition(e)}pushState(e,n,a){const i=this._getProcessedHash(a);this._locationStrategy.pushState(e,n,i)}replaceState(e,n,a){const i=this._getProcessedHash(a);this._locationStrategy.replaceState(e,n,i)}go(e){this._navigationQueue.push(pi.Go,e)}back(){this._navigationQueue.push(pi.Back)}forward(){this._navigationQueue.push(pi.Forward)}ngOnDestroy(){this._onNavigationEventsReadySubscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||Zm)(t.\u0275\u0275inject(ec),t.\u0275\u0275inject(h1),t.\u0275\u0275inject(H5),t.\u0275\u0275inject(ge.G))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Zm,factory:Zm.\u0275fac,providedIn:"root"})}}var Ai;(function(r){r.Entity="entity",r.Schema="schema",r.Module="module"})(Ai||(Ai={}));const eE=new t.InjectionToken("Navigation guard");var Z5=o(83836),nE=o(94933);class Zy extends nE.I{constructor(){super(...arguments),this.requestType="crt.RightsService"}}(0,u.__decorate)([(0,Z5.D)(),(0,u.__metadata)("design:type",Function)],Zy.prototype,"getCanExecuteOperation",void 0),(0,u.__decorate)([(0,Z5.D)(),(0,u.__metadata)("design:type",Function)],Zy.prototype,"getCanExecuteOperations",void 0);var Q5=o(94950);class _1{constructor(e,n,a){this._rightsService=e,this._featureService=n,this._navigationGuards=a}_getNavigationOptionType(e){const n=e.operationType||"",i=new URLSearchParams(n.replace("?","")).get("type");return Object.values(Ai).find(s=>s.toLowerCase()===i?.toLowerCase())}_getIsNeedRedirectByNavigationModule(e){var n=this;return(0,bt.A)(function*(){return!(yield n._featureService.getFeatureState("DisableProcessCrtNavigationModuleLink"))&&e==="CrtNavigation"})()}_redirectByPathInfo(e){var n=this;return(0,bt.A)(function*(){const a=e.schemaName;if(!a)return Promise.resolve(!1);const i=n._getNavigationOptionType(e);if(!i||i===Ai.Entity)return Promise.resolve(!1);const s=yield n._getNewTransitionConfig(i,a);return se.isAngularRouting(s.state.moduleName)?Promise.resolve(s):Promise.resolve(!0)})()}_getNewTransitionConfig(e,n){return(0,bt.A)(function*(){const a={state:{},path:""};if(e===Ai.Module)a.state.moduleName=n,a.path=n;else if(e===Ai.Schema){const i=yield se.getModuleName(n);a.state.moduleName=i,a.state.schemaName=n,a.path=`${i}/${n}`}return a})()}canActivate(e){var n=this;return(0,bt.A)(function*(){if(yield n._getIsNeedRedirectByNavigationModule(e.moduleName))return n._redirectByPathInfo(e);if(!(yield n._featureService.getFeatureState("EnablePageOpeningRestrictions"))||(yield n._rightsService.getCanExecuteOperation("CanBypassPageOpeningRestrictions")))return Promise.resolve(!0);for(const s of n._navigationGuards){const b=yield s.canActivate(e);if(b!==!0)return Promise.resolve(b)}return Promise.resolve(!0)})()}static{this.\u0275fac=function(n){return new(n||_1)(t.\u0275\u0275inject(Zy),t.\u0275\u0275inject(Q5.w),t.\u0275\u0275inject(eE))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:_1,factory:_1.\u0275fac,providedIn:"root"})}}class sp{constructor(e,n,a,i,s){var b=this;this._location=e,this._moduleAliasesFeatureFactory=n,this._historyService=a,this._navigationGuardsService=i,this._featureValues=s,this._popState$=(0,m.fromEvent)(window,"popstate"),this._navigateStart$=new m.Subject,this._navigateEnd$=new m.Subject,this._prevRoute={},this._currentRoute={},this.navigateStart$=this._navigateStart$.asObservable(),this.navigateEnd$=this._navigateEnd$.asObservable(),this.historyState$=(0,m.merge)((0,m.of)(this._location.getState()),this._location.state$.pipe((0,h.mergeMap)(()=>(0,m.of)(this._location.getState()))),this._popState$.pipe((0,h.mergeMap)(()=>(0,m.of)(this._location.getState())))).pipe((0,h.switchMap)(function(){var D=(0,bt.A)(function*(W){const ot=yield b._navigationGuardsService.canActivate(b.getActiveRouteInfo());let It=W;if(ot===!1)throw new Error("Navigation prevented.");if(ot!==void 0&&typeof ot!="boolean"){const Pt=b._location.path();b._featureValues.DisableShellDelayedReplaceState?b._historyService.replaceState(ot.state,ot.title||"",ot.path||Pt):yield b._delayedReplaceState(ot.state,ot.title||"",ot.path||Pt),It=ot.state}return It});return function(W){return D.apply(this,arguments)}}()),(0,h.tap)(D=>{if(this._moduleAliasesFeatureEnabled){const W=this._location.path();this._shouldReplaceModuleNameByAlias(W)&&this._historyService.replaceState(D,"",W)}}),(0,h.share)()),this.location$=(0,m.merge)((0,m.of)(new URL(window.location.href)),this._location.state$.pipe((0,h.mergeMap)(()=>(0,m.of)(new URL(window.location.href)))),this._popState$.pipe((0,h.mergeMap)(()=>(0,m.of)(new URL(window.location.href))))),this.crtRoute$=this.historyState$.pipe((0,m.map)(D=>this._location.getRoute(D)),(0,h.tap)(D=>{this._prevRoute=this._currentRoute,this._currentRoute=D}),(0,m.filter)(D=>!(0,y.isEqual)(this._prevRoute,D)),(0,m.shareReplay)({bufferSize:1,refCount:!1})),this._moduleAliasesFeatureFactory().then(D=>this._moduleAliasesFeatureEnabled=D)}_delayedReplaceState(e,n,a){var i=this;return(0,bt.A)(function*(){yield new Promise(s=>{setTimeout(()=>{i._historyService.replaceState(e,n,a),s()},0)})})()}_shouldReplaceModuleNameByAlias(e){return sl.replaceModuleNameByAlias(e)!==e}_filterChildrenRoute(e,n){const a=!W5(e,this._prevRoute.root),i=!Qw(n,this._prevRoute.state);return a||i}onNavigateStart(){this._navigateStart$.next()}onNavigateEnd(){this._navigateEnd$.next()}getNavigation$(e){return this.crtRoute$.pipe((0,m.filter)(n=>{if(e)throw new Error("Not implemented yet");return!(0,y.isEmpty)(n.state?.children)||!(0,y.isEmpty)(this._prevRoute.state?.children)?this._filterChildrenRoute(n.root,n.state):!0}))}getChildNavigation$(e,n){return this.crtRoute$.pipe((0,m.filter)(a=>!G5(a.children,this._prevRoute.children)),(0,m.map)(a=>$5(e,n,a.children,a.root.contextName)))}getActiveRouteInfo(){const e=this._location.getActivePathInfo(),n=this._location.getState(),a={moduleName:n&&n.moduleName||e.moduleName,schemaName:n&&n.schemaName||e.schemaName,operationType:e.operationType||n.operation,recordId:e.recordId};return n&&n.isInChain&&(a.isInChain=!0),a}static{this.\u0275fac=function(n){return new(n||sp)(t.\u0275\u0275inject(ec),t.\u0275\u0275inject(H5),t.\u0275\u0275inject(Zm),t.\u0275\u0275inject(_1),t.\u0275\u0275inject(ge.G))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:sp,factory:sp.\u0275fac,providedIn:"root"})}}class f1{constructor(e,n,a,i){this._window=e,this._locationStrategy=n,this._router=a,this._featureValues=i,this._destroyed$=new m.Subject,this._refreshCacheHash$=this._observeRefreshCacheHash(),this._historyStateChanged$=this._observe8xHistoryStateChanged()}_sendRefreshCacheHashRequestIfNeeded(){var e=this;return(0,bt.A)(function*(){(e._featureValues.DisableRefreshCacheHash8xFilter||(yield e._is8xNavigation()))&&(yield Ar.t.instance.process({type:"crt.7XRequest",action:"RefreshCacheHash",$context:null}))})()}_observeRefreshCacheHash(){return this._router.navigateEnd$.pipe((0,h.tap)(()=>this._sendRefreshCacheHashRequestIfNeeded().catch(console.error)),(0,m.takeUntil)(this._destroyed$))}_send8xHistoryStateChangedRequestIfNeeded(e){var n=this;return(0,bt.A)(function*(){(yield n._isHistoryStateChanged(e))&&(yield Ar.t.instance.process({type:"crt.7XRequest",action:"8xHistoryStateChanged",$context:null,back:n._isBack(e)}))})()}_observe8xHistoryStateChanged(){return(0,m.fromEvent)(this._window,"popstate").pipe((0,h.tap)(({state:e})=>this._send8xHistoryStateChangedRequestIfNeeded(e).catch(console.error)),(0,m.map)(()=>{}),(0,m.takeUntil)(this._destroyed$))}_is8xNavigation(){var e=this;return(0,bt.A)(function*(){const n=e._locationStrategy.getState();if(n?.schemaName)return yield se.isAngularSchema(n.schemaName);const a=e._getActivePathInfo();if(a.schemaName)return yield se.isAngularSchema(a.schemaName);const i=n?.moduleName??a.moduleName;return se.isAngularRouting(i)})()}_getActivePathInfo(){return this._locationStrategy.getActivePathInfo()}_isHistoryStateChanged(e){var n=this;return(0,bt.A)(function*(){const a=n._getActivePathInfo(),i=e?.schemaName??a.schemaName;if(!(i&&!(yield se.isAngularSchema(i)))){const ot=e?.moduleName??a.moduleName;if(!(ot&&!i&&!se.isAngularRouting(ot))&&!e?.isInChain)return!1}const D=n._locationStrategy.previousState?.moduleId===e?.moduleId;return!n._wasChildrenRouting()||!D})()}_wasChildrenRouting(){return this._locationStrategy.previousState?.children?.length>0}_isBack(e){return e?.historyIndex<this._locationStrategy.previousState?.historyIndex}init(){this._refreshCacheHash$.subscribe(),this._historyStateChanged$.subscribe()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||f1)(t.\u0275\u0275inject(E.ZP),t.\u0275\u0275inject(ec),t.\u0275\u0275inject(sp),t.\u0275\u0275inject(ge.G))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:f1,factory:f1.\u0275fac,providedIn:"root"})}}const Qy=new t.InjectionToken("CHILD_HISTORY_STATE_BUILDERS"),Y5=new t.InjectionToken("ENTITY_CHILD_HISTORY_STATE_BUILDERS",{factory:()=>{const r=(0,t.inject)(Qy,{optional:!0})||[],e=(0,t.inject)(Y5)||[];return r.concat(e)}}),J5=new t.InjectionToken("SCHEMA_CHILD_HISTORY_STATE_BUILDERS",{factory:()=>{const r=(0,t.inject)(Qy,{optional:!0})||[],e=(0,t.inject)(J5)||[];return r.concat(e)}});class aE{static _applyRecordId(e,n,a){return e&&e!==Xo.Add?n+"/"+a:n}static _getLocationByUrlSegment(e){const n=[e.moduleName,e.schemaName,e.action].filter(a=>a&&a!=="undefined").join("/");return this._applyRecordId(e.action,n,e.recordId)}static _getPrevRootLocation(e){const n=rC.parseLocation(e);return this._getLocationByUrlSegment(n.root)}static _getRootLocationSegment(e){return{schemaName:e.schemaName,moduleName:e.moduleName,action:e.modelInitConfigs?.[0]?.action,recordId:e.modelInitConfigs?.[0]?.recordId}}static _getRootLocation(e,n){let a;const i=this._getChildrenState(n),{prevLocation:s,isInChain:b}=e;if(s&&(b||!(0,y.isEmpty)(i)))a=this._getPrevRootLocation(s);else{const D=this._getRootLocationSegment(e);a=this._getLocationByUrlSegment(D)}return a}static _getChildrenState(e){return e.children||[]}static _getChildLocationSegment(e){return{schemaName:e.schemaName,action:e.modelInitConfigs?.[0]?.action,recordId:e.modelInitConfigs?.[0]?.recordId}}static _getChildrenLocation(e){let n="";if((0,y.isEmpty)(e))return n;const a=[...e].sort((s,b)=>s.target.localeCompare(b.target));let i="";return a.forEach(s=>{i===s.target?n+=",":(n+=`${s.target}=`,i=s.target);const b=this._getChildLocationSegment(s);n+=this._getLocationByUrlSegment(b);const D=this._getChildrenLocation(s.children);n=n.concat(`${D}`)}),`[${n}]`}static getLocationByState(e,n){const a=this._getRootLocation(e,n),i=this._getChildrenState(n),s=this._getChildrenLocation(i);return a+s}}class cp{constructor(e){this.injector=e,this.locationStrategy=e.get(ec),this._childHistoryStateBuilders=this.getChildHistoryStateBuilders()||[]}_getChildHistoryStates(e){return Promise.all(this._childHistoryStateBuilders.map(n=>n.getState(e)))}_getPrevChildHistoryStates(e){return e}_getState(e,n){var a=this;return(0,bt.A)(function*(){let i=yield a._getChildHistoryStates(n);i=i.filter(W=>!(0,y.isEmpty)(W));let s;(0,y.isEmpty)(i)?s=a.getRootState(e,n):s=yield a._applyChildrenHistoryStates(e,i);const b=a._getPrevChildHistoryStates(e.prevState);return!(0,y.isEmpty)(b?.children)&&(0,y.isEmpty)(i)&&(s.keepAlive=!0),s})()}_applyChildrenHistoryStates(e,n){const a=(0,y.cloneDeep)(e.prevState)??{},i=$y(a);return this._setChildrenState(i,n),a}_setChildrenState(e,n){e.children=n}_getLocation(e,n){return aE.getLocationByState(e,n)}_getSchemaUIType(e){return(0,bt.A)(function*(){if(e.schemaName)return(yield se.isAngularSchema(e.schemaName))?$m.FreedomUI:$m.ClassicUI})()}getChildHistoryStateBuilders(){return(0,t.inject)(Qy,{optional:!0})}getModelInitConfigs(e){return[]}getSchemaName(e,n){return Promise.resolve("")}getStateModuleId(e){return""}getModuleName(e,n){const a=e.schemaUIType===$m.ClassicUI?n.state?.moduleName:"";return Promise.resolve(a)}getRootState(e,n){const a={...(0,y.cloneDeep)(n?.state??{})};if(a.isInChain=e.isInChain,a.moduleName=e.moduleName,e.isInChain||(a.moduleId=this.getStateModuleId(e)),e.schemaUIType===$m.ClassicUI){const i=e.modelInitConfigs?.[0];a.operation=i?.action,a.primaryColumnValue=i?.recordId,a.valuePairs=se.getValuePairs(i?.defaultValues),a.isSeparateMode=!0,a.isInChain&&(a.schemaName=e?.schemaName)}else a.schemaName=e.schemaName,a.modelInitConfigs=e.modelInitConfigs;return a}getModuleConfig({isInChain:e,moduleName:n,prevState:a}){return e?{moduleId:(a?.moduleId??"")+se.generateChainModuleId(n)}:null}getCommonTransitionInfo(e){var n=this;return(0,bt.A)(function*(){const a=n.locationStrategy.getState(),i={};return i.schemaName=yield n.getSchemaName(i,e),i.schemaUIType=yield n._getSchemaUIType(i),i.navigationState=e.state,i.isInChain=i.navigationState?.isInChain??a?.isInChain,i.modelInitConfigs=n.getModelInitConfigs(e),i.prevState=a,i.prevLocation=n.locationStrategy.path(),i.moduleName=yield n.getModuleName(i,e),i})()}getTransitionConfig(e){var n=this;return(0,bt.A)(function*(){const a=yield n.getCommonTransitionInfo(e);if(!a)return null;const i=yield n._getState(a,e),s=n._getLocation(a,i),b=n.getModuleConfig(a);return{mode:e.mode,location:s,state:i,pageTitle:"",moduleConfig:b}})()}buildUrlWithoutState(e){var n=this;return(0,bt.A)(function*(){const a=yield n.getCommonTransitionInfo(e),i=n._getLocation(a,{});return n.locationStrategy.getRelativePath(i)})()}static{this.\u0275fac=function(n){return new(n||cp)(t.\u0275\u0275inject(t.Injector))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:cp,factory:cp.\u0275fac})}}class Qm extends cp{getChildHistoryStateBuilders(){return(0,t.inject)(Y5)}getSchemaName(e,n){return(0,bt.A)(function*(){const a=yield se.getPageForActionAsync(n.options);return e.page=a,se.getCardSchemaName(a)||n.options.entityPageName})()}getModuleName(e,n){var a=()=>super.getModuleName,i=this;return(0,bt.A)(function*(){const s=yield a().call(i,e,n);if(s)return s;const b=e.page?.cardModuleName;if(b)return b;const{uiTypePriority:D,entityName:W}=n.options;return se.getEditPageModuleName(W,D)||e.schemaName&&se.getModuleName(e.schemaName)})()}getCommonTransitionInfo(e){var n=()=>super.getCommonTransitionInfo,a=this;return(0,bt.A)(function*(){const i=yield n().call(a,e);return i.moduleName?(i?.schemaUIType===$m.ClassicUI&&e.options.action!==Xo.Edit&&(i.isInChain=!0),i):null})()}getModelInitConfigs(e){const{action:n,defaultValues:a,recordId:i}=e.options;if(!n)return null;const s=a?.filter(D=>D.value),b={action:n};return n===Xo.Add?b.defaultValues=s:b.recordId=se.getRecordLookupValue(i),[b]}getStateModuleId(e){const n=e.modelInitConfigs?.[0];return[e.moduleName,n?.recordId,e.schemaName].filter(Boolean).join("_")}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Qm)))(a||Qm)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Qm,factory:Qm.\u0275fac})}}class Ym extends cp{getModuleConfig({navigationState:e}){return{keepAlive:e?.keepAlive??!0}}getRootState(e,n){const a=n.options,i={...n?.state??{}};return i.moduleId=a.moduleId,i.moduleName=a.moduleName,i.parameters=a.parameters,i.initConfig=a.initConfig,i.silent??=!1,i}getModuleName(e,n){const a=e.isInChain?e.prevLocation:n.options?.moduleName;return Promise.resolve(a)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Ym)))(a||Ym)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ym,factory:Ym.\u0275fac})}}class Jm extends cp{_getTransitionConfigWithoutSchemaName(e){const n={...(0,y.cloneDeep)(e?.state??{})};return this.locationStrategy.getState()?.isInChain&&(n.isInChain??=!0),n.moduleId=`${n.moduleName}_`,{mode:e.mode,location:n.moduleName,state:n}}getChildHistoryStateBuilders(){return(0,t.inject)(J5)}getSchemaName(e,n){const{schemaName:a}=n.options;return Promise.resolve(a)}getModuleName(e,n){var a=()=>super.getModuleName,i=this;return(0,bt.A)(function*(){return(yield a().call(i,e,n))||se.getModuleName(e.schemaName)})()}getRootState(e,n){const a=super.getRootState(e,n),{parameters:i}=n.options;return e.schemaUIType===$m.FreedomUI&&i&&(a.parameters=i),a}getModelInitConfigs(e){return e.options.modelInitConfigs}getStateModuleId(e){return[e.moduleName,e.schemaName].filter(Boolean).join("_")}getTransitionConfig(e){if(!e.options.schemaName){const n=this._getTransitionConfigWithoutSchemaName(e);return Promise.resolve(n)}return super.getTransitionConfig(e)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Jm)))(a||Jm)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Jm,factory:Jm.\u0275fac})}}class fo{constructor(){this._entityTransitionConfigBuilder=(0,t.inject)(Qm),this._schemaTransitionConfigBuilder=(0,t.inject)(Jm),this._moduleTransitionConfigBuilder=(0,t.inject)(Ym),this._navigationEventNotifier=(0,t.inject)(f1),this._router=(0,t.inject)(sp),this._historyService=(0,t.inject)(Zm),this._translateService=(0,t.inject)(f.TranslateService),this._entitySchemaService=(0,t.inject)(Yi.e),this.locationStrategy=(0,t.inject)(ec),this.window=(0,t.inject)(E.ZP),this.handlerChain=Ar.t.instance,this._navigationEventNotifier.init()}_translate(e){return this._translateService.instant(`Navigation.${e}`)}_getEntityNavigationConfig(e){return{mode:e?.mode??Ui.Push,state:e?.state??{},options:e.options}}_getEntityTransitionConfig(e){const n=this._getEntityNavigationConfig(e);return this._entityTransitionConfigBuilder.getTransitionConfig(n)}_getSchemaNavigationConfig(e){return{mode:e?.mode??Ui.Push,state:e?.state??{},options:e.options}}_getSchemaTransitionConfig(e){const n=this._getSchemaNavigationConfig(e);return this._schemaTransitionConfigBuilder.getTransitionConfig(n)}_getModuleNavigationConfig(e){return{mode:e?.mode??Ui.Push,state:e?.state??{},options:e.options}}_getModuleTransitionConfig(e){const n=this._getModuleNavigationConfig(e);return this._moduleTransitionConfigBuilder.getTransitionConfig(n)}_showEntityNavigationError(e){console.error(this._translate("DoesntHaveAddPageMessage"));const n=e.options.entityName;this._entitySchemaService.getEntitySchemaByName(n).pipe((0,h.map)(a=>a.entitySchema?.uId),(0,m.take)(1)).subscribe(a=>{if(a){const i=this._translate("GoToEntityDesignerMessage"),D=`${(0,x.cI)()}ClientApp/#/EntitySchemaDesigner/${a}?callbackAction=RelatedPage`,W=jt.String.format(i,D);console.info(W)}})}executeTransition(e){return this._historyService.executeTransition(e),Promise.resolve()}back(){this._historyService.back()}getState(){return this.locationStrategy.getState()}getCurrentState(){const e=this.getState();return $y(e)??e}navigate(e){var n=this;return(0,bt.A)(function*(){n._router.onNavigateStart();let a;switch(e.options.type){case Ai.Schema:a=yield n._getSchemaTransitionConfig(e);break;case Ai.Entity:if(a=yield n._getEntityTransitionConfig(e),!a){n._router.onNavigateEnd(),n._showEntityNavigationError(e);return}break;case Ai.Module:a=yield n._getModuleTransitionConfig(e);break}yield n.executeTransition(a)})()}navigateToClientApp(e,n=Uy.Blank){const a=(0,x.cI)(),i=(0,x.uJ)(a,"ClientApp","#",e);this.window.open(i,n)}getActiveRouteInfo(){return this._router.getActiveRouteInfo()}static{this.\u0275fac=function(n){return new(n||fo)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:fo,factory:fo.\u0275fac,providedIn:"root"})}}class b1{constructor(e,n,a,i,s,b){this._sysSettingsService=e,this._translateService=n,this._restHandler=a,this._navigationService=i,this._applicationInfoService=s,this._window=b}_createProductInfo(e){return{productEdition:e.ProductEdition.value||"",productName:e.ProductName.value||"",customerId:e.CustomerId.value||"",screenSize:this._getScreenSize(),primaryCulture:e.PrimaryCulture.value&&e.PrimaryCulture.displayValue||"",supportEmail:e.SupportEmailDef.value||""}}_getScreenSize(){const e=this._window.document.body.getBoundingClientRect();return`${e.width}x${e.height}`}_getDefaultPageCaption(e){return`${e.moduleName}_${e.schemaName}`}_getPageCaption(){const e=this._navigationService.getActiveRouteInfo(),n=e.schemaName;return n?Vd.K.create("VwSysSchemaInfo").pipe((0,m.switchMap)(a=>a.load({attributes:["Caption"],parameters:[{type:Uo.E.Filter,value:new u1.x(He.H.Equal,new zm.g({columnPath:"Name"}),new Um.J({value:n}))}],options:{pagingConfig:{rowsOffset:0,rowCount:1}}})),(0,m.map)(a=>a.length>0?a[0].Caption:this._getDefaultPageCaption(e))):(0,m.of)(e.moduleName)}_getEmailBody(e,n,a){const i=`mailto:${e.supportEmail}`,s=jt.String.format("subject={0} {1} {2}",this._translateService.instant("AppToolbar.Help.SupportSubject"),e.productName,e.productEdition),b=this._translateService.instant("AppToolbar.Help.EmailBodyTemplate"),D=jt.String.format(b,(0,x.gd)(),e.customerId,e.productName,a,e.screenSize,e.primaryCulture,n);return jt.String.format("{0}?{1}&{2}",i,s,D)}getSendEmailUrl(){const e=["ProductName","ProductEdition","PrimaryCulture","CustomerId","SupportEmailDef"];return(0,m.forkJoin)(this._restHandler.handleRequests([this._sysSettingsService.getByCodes(e),this._getPageCaption(),this._applicationInfoService.getCoreVersion()],{skipBodyMask:!0})).pipe((0,m.map)(([n,a,i])=>{const s=this._createProductInfo(n.values);return this._getEmailBody(s,a,i)}))}static{this.\u0275fac=function(n){return new(n||b1)(t.\u0275\u0275inject(Js),t.\u0275\u0275inject(f.TranslateService),t.\u0275\u0275inject(m1.D),t.\u0275\u0275inject(fo),t.\u0275\u0275inject(g1.my),t.\u0275\u0275inject(E.ZP))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:b1,factory:b1.\u0275fac,providedIn:"root"})}}class C1{showAddMiniPage(e,n,a){return(0,bt.A)(function*(){const s={type:"crt.7XRequest",action:n||"OpenMiniPage",$context:{},payload:{entitySchemaName:e,operation:"add",isFixed:!0,showDelay:0,valuePairs:a}};return yield Ar.t.instance.process(s)})()}static{this.\u0275fac=function(n){return new(n||C1)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:C1,factory:C1.\u0275fac,providedIn:"root"})}}class y1 extends Jo{get menuItems(){return this._menuItems}constructor(e,n,a,i,s,b,D,W,ot){super(e,n),this._window=a,this._helpMenuService=i,this._notifyService=s,this._miniPageService=b,this._academyService=D,this._copyClipboardService=W,this._applicationInfoService=ot,this._userInfo=(0,t.inject)(Ze.oq),this._initMenuItems()}_initMenuItems(){this._applicationInfoService.getCoreVersion().pipe((0,h.take)(1)).subscribe(e=>{this._menuItems=this._getMenuItems(e)})}_getMenuItems(e){let n=[{type:"crt.MenuItem",caption:this.translate("AppToolbar.Help.MenuItems.OnlineHelp"),icon:"online-help",handleItemClick:()=>this._goToOnlineHelp()},{type:"crt.MenuItem",caption:this.translate("AppToolbar.Help.MenuItems.NeedHelp"),icon:"email-button-icon",handleItemClick:()=>this._openMailClient()},{type:"crt.MenuItem",caption:this.translate("AppToolbar.Help.MenuItems.ReleaseNotes"),icon:"release-notes",handleItemClick:()=>this._goToReleaseNotes()},{type:"crt.MenuItem",caption:this.translate("AppToolbar.Help.MenuItems.ExternalAccess"),icon:"external-access",dataItemMarker:"external-access",handleItemClick:()=>this._grantAccessToSupport()},{type:"crt.MenuDivider"},{type:"crt.MenuItem",caption:e,icon:"version-icon",handleItemClick:()=>this._copyVersionToBuffer(e)}];return this._userInfo.isSSP&&(n=this._filterSSPMenuItems(n)),n}_goToOnlineHelp(){this._academyService.openContextHelp()}_goToReleaseNotes(){const e=this.translate("AppToolbar.Help.ReleaseNotesUrl");this._window.open(e,"_blank")}_openMailClient(){this._helpMenuService.getSendEmailUrl().pipe((0,h.take)(1)).subscribe(e=>{this._window.open(e,"_self")})}_grantAccessToSupport(){var e=this;return(0,bt.A)(function*(){(yield e._miniPageService.showAddMiniPage("ExternalAccess","",[]))?.success&&(yield e._notifyService.info({message:"AppToolbar.Help.AccessGrantedMessage"}))})()}_copyVersionToBuffer(e){return this._copyClipboardService.copyTextToBuffer(e)}_filterSSPMenuItems(e){return e.filter(n=>n.dataItemMarker!=="external-access")}getTitle(){return this.translate("AppToolbar.Help.Title")}static{this.\u0275fac=function(n){return new(n||y1)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(E.ZP),t.\u0275\u0275directiveInject(b1),t.\u0275\u0275directiveInject(_o.F),t.\u0275\u0275directiveInject(C1),t.\u0275\u0275directiveInject(Hm),t.\u0275\u0275directiveInject(ip.w),t.\u0275\u0275directiveInject(g1.my))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:y1,selectors:[["crt-help-menu-button"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:4,consts:[["icon","help-menu","iconPosition","only-icon","clickMode","menu","size","extra-large","iconSize","extra-large",3,"menuItems","useGlassmorphism","title","ariaLabel"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-button",0),n&2&&t.\u0275\u0275property("menuItems",a.menuItems)("useGlassmorphism",!0)("title",a.title)("ariaLabel",a.title)},dependencies:[Jt],styles:["[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{--crt-button-default-contrast-color: var(--crt-palette-navigation-primary-A100);--crt-button-default-hover-color: rgba(255, 255, 255, .2);--crt-button-default-pressed-color: rgba(255, 255, 255, .3)}"],changeDetection:0})}}class lp{set navigationPanelVisible(e){this.currentButton=e?this.buttonConfig[0]:null}constructor(e){this._translateService=e,this.currentButton=null,this.buttonConfig=[{value:"btn-menu",displayValue:"",tooltipTitle:this._getTooltipTitle(),icon:"bento-space-icon",iconPosition:pe.OnlyIcon}],this.visibleChange=new t.EventEmitter}_getTooltipTitle(){return this._translateService.instant("AppToolbar.NavigationPanelButton.Title")}onNavigationPanelVisibleChange(){this.visibleChange.emit()}static{this.\u0275fac=function(n){return new(n||lp)(t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:lp,selectors:[["crt-navigation-panel-button"]],inputs:{navigationPanelVisible:"navigationPanelVisible"},outputs:{visibleChange:"visibleChange"},decls:1,vars:7,consts:[["data-item-marker","navigationPanelButton",3,"valueChange","items","value","size","iconSize","shape","gap","contentAlign"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"crt-button-toggle-group",0),t.\u0275\u0275listener("valueChange",function(){return a.onNavigationPanelVisibleChange()}),t.\u0275\u0275elementEnd()),n&2&&t.\u0275\u0275property("items",a.buttonConfig)("value",a.currentButton)("size","extra-large")("iconSize","extra-large")("shape","default")("gap","large")("contentAlign","center")},encapsulation:2})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],lp.prototype,"navigationPanelVisible",null);var iE=o(57014);class v1{constructor(e,n){this._userInfo=e,this._restErrorHandler=n}_loadItems(){return Vd.K.create("QuickAddItem").pipe((0,m.switchMap)(e=>e.load({attributes:["EntitySchemaName"],parameters:[{type:Uo.E.Filter,value:new u1.x(He.H.Equal,new zm.g({columnPath:"QuickAddMenuSettings.[SysAdminUnitInRole:SysAdminUnitRoleId:SysAdminUnit].SysAdminUnit"}),new Um.J({value:this._userInfo.id}))}],options:{sortingConfig:{columns:[{columnName:"Position",direction:"asc"}]}}})),(0,m.map)(e=>e.map(n=>n.EntitySchemaName)))}_loadEntityCaptions(e){return Vd.K.create("VwWorkspaceObjects").pipe((0,m.switchMap)(n=>n.load({attributes:["Name","Caption"],parameters:[{type:Uo.E.Filter,value:new iE.f(He.H.Equal,new zm.g({columnPath:"Name"}),e.map(a=>new Um.J({value:a})))}]})),(0,m.map)(n=>e.reduce((a,i)=>{const s=n.find(b=>b.Name===i);return a[i]=s&&s.Caption,a},{})))}_mapQuickAddMenuItems(e,n){return e.map(a=>{const i=se.getEntityStructure(a);return{caption:n[a]??a,entitySchemaName:a,typeColumnName:i?.attribute,nestedItems:i&&this._getNestedItems(i)}})}_getNestedItems(e){const n=e?.pages||[],a=se.getPagesForAddAction(n);if(!(a?.length<=1))return a.map(i=>({caption:i.captionLcz,entitySchemaName:e.entitySchemaName,pageSchemaName:i.cardSchemaName,typeColumnValue:i.UId}))}getItems(){return this._restErrorHandler.handleRequest(this._loadItems()).pipe((0,m.switchMap)(e=>e.length===0?(0,m.of)({entitySchemaNames:e,entityCaptions:{}}):this._restErrorHandler.handleRequest(this._loadEntityCaptions(e)).pipe((0,m.map)(n=>({entitySchemaNames:e,entityCaptions:n}))))).pipe((0,m.map)(({entitySchemaNames:e,entityCaptions:n})=>e.length>0?this._mapQuickAddMenuItems(e,n):[]))}static{this.\u0275fac=function(n){return new(n||v1)(t.\u0275\u0275inject(Ze.oq),t.\u0275\u0275inject(op.x))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:v1,factory:v1.\u0275fac,providedIn:"root"})}}const rE=r=>({$implicit:r});class M1 extends Jo{get menuItems(){return this._menuItems}constructor(e,n,a,i){super(e,n),this._restHandler=a,this._quickAddMenuService=i,this._menuItems=[],this._initializedMenuItems=!1,this.clicked=new t.EventEmitter}_menuItemClick(e){this.clicked.emit(e)}_createQuickAddMenuItem(e,n,a,i,s){const b=a&&a.length>0;return{type:"crt.MenuItem",caption:e,items:a,handleItemClick:b?E._d:()=>this._menuItemClick({entityName:n,entityPageName:i,defaultValues:s})}}_setMenuItems(e){this._menuItems=e.length?e.map(n=>this._getMenuItem(n)):[this._getNoItemLabel()]}_getMenuItem(e){const n=e.entitySchemaName,a=e.nestedItems?e.nestedItems.map(i=>{const s=this._getDefaultValues(i,e.typeColumnName);return this._createQuickAddMenuItem(i.caption,n,null,i.pageSchemaName,s)}):void 0;return this._createQuickAddMenuItem(e.caption,n,a)}_getDefaultValues(e,n){return n?[{attributeName:n,value:e.typeColumnValue}]:[]}_getNoItemLabel(){return{type:"crt.Label",caption:this.translate("AppToolbar.New.NoItemTitle"),labelMargin:"8px 24px 10px 40px",labelColor:"var(--crt-palette-label-500)",labelBackgroundColor:"transparent"}}_setupMenuItems(){return this._restHandler.handleRequest(this._quickAddMenuService.getItems(),{skipBodyMask:!0}).pipe((0,m.tap)(e=>this._setMenuItems(e)),(0,m.map)(()=>{this._initializedMenuItems=!0,this.markForCheck()}))}getTitle(){return this.translate("AppToolbar.New.Title")}onClicked(){this._initializedMenuItems||this._setupMenuItems().subscribe()}static{this.\u0275fac=function(n){return new(n||M1)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(m1.D),t.\u0275\u0275directiveInject(v1))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:M1,selectors:[["crt-quick-add-menu-button"]],outputs:{clicked:"clicked"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:4,vars:8,consts:[["trigger","crtMenuTrigger"],["itemActionsMenu",""],["icon","add-button-icon","iconPosition","only-icon",3,"clicked","title","ariaLabel","crtMenuTriggerFor","crtMenuTriggerData"],[3,"useGlassmorphism","items"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",2,0),t.\u0275\u0275listener("clicked",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onClicked())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(2,"crt-menu",3,1)}if(n&2){const i=t.\u0275\u0275reference(3);t.\u0275\u0275property("title",a.title)("ariaLabel",a.title)("crtMenuTriggerFor",i)("crtMenuTriggerData",t.\u0275\u0275pureFunction1(6,rE,a.menuItems)),t.\u0275\u0275advance(2),t.\u0275\u0275property("useGlassmorphism",!0)("items",a.menuItems)}},dependencies:[Jt,Ua,ri],styles:["[_nghost-%COMP%]{--button-border-radius: 50%}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{--crt-button-default-contrast-color: var(--crt-palette-navigation-primary-A100);--crt-button-default-color: rgba(255, 255, 255, .1);--crt-button-default-hover-color: rgba(255, 255, 255, .2);--crt-button-default-pressed-color: rgba(255, 255, 255, .3)}"],changeDetection:0})}}function oE(r){switch(r){case"asc":return ti.Z.Asc;case"desc":return ti.Z.Desc;default:return ti.Z.None}}function rU(r){switch(r){case OrderDirection.Asc:return"asc";case OrderDirection.Desc:return"desc";default:return"none"}}var Yy=o(16397);let Jy=class h0{constructor(e){this.httpClient=e,this.serviceEndpoint="ServiceModel/ProcessEngineService.svc/"}_executePost(e,n){const a=this.serviceEndpoint+n;return this.httpClient.post(a,e)}_getRequestSortingColumns(e){return e?Object.entries(e).map(([a,i],s)=>({path:a,direction:oE(i),position:s})):[]}createProcessParameterValues(e){const n=[];return e&&Object.entries(e).forEach(([a,i])=>{let s=i;(0,y.isDate)(i)&&(s=(0,Yy.q)(i)),n.push({name:a,value:s})}),n}executeProcessByName(e,n,a){const i={schemaName:e,parameterValues:this.createProcessParameterValues(n),resultParameterNames:a};return this._executePost(i,"RunProcess")}executeProcessForMatchingRecords(e){const n={schemaName:e.processName,inputParameterName:e.inputParameterName,entitySchemaName:e.entitySchemaName,filterConfig:JSON.stringify(e.filterConfig),isSupportMultiplePageOpening:!1,sortingColumns:this._getRequestSortingColumns(e.sortingColumns)};return this._executePost(n,"RunProcessForMatchingRecords")}completeExecuting(e,n){const a={processElementUId:e,parameterValues:this.createProcessParameterValues(n)};return this._executePost(a,"CompleteExecuting")}changeToAppropriateDcmInstance(e,n,a){const i={currentStageId:e,entitySchemaName:n,recordId:a};return this._executePost(i,"ChangeToAppropriateDcmInstance")}static{this.\u0275fac=function(n){return new(n||h0)(t.\u0275\u0275inject(l.HttpClient))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:h0,factory:h0.\u0275fac,providedIn:"root"})}};Jy=(0,u.__decorate)([(0,E.op)({requestType:"crt.ProcessEngineService"}),(0,u.__metadata)("design:paramtypes",[l.HttpClient])],Jy);class I1{constructor(e,n,a){this._processEngineService=e,this._userInfo=n,this._featureService=a}_createQuickRunProcessItem(e){return{name:e.Name,caption:e.Caption}}_addProcessSchemaExecuteRightsByFeature(e){return this._featureService.getFeatureState("UseProcessSchemaExecuteRights").pipe((0,m.map)(n=>{if(!n)return;const a="[VwSysProcessSchemaUserRight:SysSchema:SysSchemaId].Id",i=new nr.X;i.addSchemaColumnFilterWithParameter(He.H.Equal,"SysAdminUnit",this._userInfo.id),e.addExistsFilter(a,i)}))}_createDisplayRunProcessQuickRunProcessFilterGroup(){const e=new nr.X;return e.addExistsFilter("[RunButtonProcessList:SysSchemaUId:UId].Id"),e.addSchemaColumnFilterWithParameter(He.H.Equal,"IsActiveVersion",!0),e.addSchemaColumnFilterWithParameter(He.H.Equal,"Enabled",!0),this._addProcessSchemaExecuteRightsByFeature(e).pipe((0,m.map)(()=>e))}getFavoriteItems(){return(0,m.forkJoin)([Vd.K.create("VwProcessLib"),this._createDisplayRunProcessQuickRunProcessFilterGroup()]).pipe((0,m.switchMap)(([e,n])=>e.load({attributes:["Caption","Name"],parameters:[{type:Uo.E.Filter,value:n}],options:{sortingConfig:{columns:[{columnName:"Caption",direction:"asc"}]}}})),(0,m.map)(e=>e.map(n=>this._createQuickRunProcessItem(n))))}runProcess(e){return this._processEngineService.executeProcessByName(e)}static{this.\u0275fac=function(n){return new(n||I1)(t.\u0275\u0275inject(Jy),t.\u0275\u0275inject(Ze.oq),t.\u0275\u0275inject(A.wf))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:I1,factory:I1.\u0275fac,providedIn:"root"})}}const sE=r=>({$implicit:r});class x1 extends Jo{get menuItems(){return this._menuItems}constructor(e,n,a,i,s,b,D){super(e,n),this._restHandler=a,this._quickRunProcessService=i,this._rightsService=s,this._dialogService=b,this._navigationService=D,this._manageProcessDesignOperationName="CanManageProcessDesign",this._initializedMenuItems=!1,this._menuTitleItem={type:"crt.Label",caption:this.translate("AppToolbar.QuickRunProcess.Title"),labelColor:"var(--crt-palette-label-500)",labelMargin:"6px 16px 11px 16px",labelBackgroundColor:"transparent"},this._hasNoFavoriteProcessTitle={type:"crt.MenuItem",caption:this.translate("AppToolbar.QuickRunProcess.NotConfiguredQuickProcessesMessage"),handleItemClick:()=>this._navigateToProcessLibrary()},this._menuItems=[]}_navigateToProcessLibrary(){this._restHandler.handleRequest(this._rightsService.getCanExecuteOperation(this._manageProcessDesignOperationName)).pipe((0,m.filter)(e=>e?!0:(this._dialogService.openOperationPermissionsErrorDialog(this._manageProcessDesignOperationName),!1)),(0,m.switchMap)(()=>(0,m.from)(this._navigationService.navigate({options:{type:Ai.Schema,schemaName:"VwProcessLibSection"}}))),(0,m.takeUntil)(this.destroyed$)).subscribe()}_runProcess(e){this._restHandler.handleRequest(this._quickRunProcessService.runProcess(e),{successMessage:this.translate("AppToolbar.QuickRunProcess.SuccessMessage")}).pipe((0,m.takeUntil)(this.destroyed$)).subscribe()}_createRunProcessMenuItem(e){return{type:"crt.MenuItem",caption:e.caption,handleItemClick:()=>this._runProcess(e.name)}}_setMenuItems(e){const n=e.map(i=>this._createRunProcessMenuItem(i)),a=n.length>0?n:[this._hasNoFavoriteProcessTitle];this._menuItems=[this._menuTitleItem,...a]}_setupMenuItems(){return this._restHandler.handleRequest(this._quickRunProcessService.getFavoriteItems(),{skipBodyMask:!0}).pipe((0,m.tap)(e=>this._setMenuItems(e)),(0,m.map)(()=>{this._initializedMenuItems=!0,this.markForCheck()}))}getTitle(){return this.translate("AppToolbar.QuickRunProcess.Title")}onClicked(){this._initializedMenuItems||this._setupMenuItems().subscribe()}static{this.\u0275fac=function(n){return new(n||x1)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(m1.D),t.\u0275\u0275directiveInject(I1),t.\u0275\u0275directiveInject(Ld.f),t.\u0275\u0275directiveInject(Kt.o),t.\u0275\u0275directiveInject(fo))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:x1,selectors:[["crt-quick-run-process-button"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:4,vars:8,consts:[["trigger","crtMenuTrigger"],["itemActionsMenu",""],["icon","quick-run-process","iconPosition","only-icon",3,"clicked","title","ariaLabel","crtMenuTriggerFor","crtMenuTriggerData"],[3,"useGlassmorphism","items"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",2,0),t.\u0275\u0275listener("clicked",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onClicked())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(2,"crt-menu",3,1)}if(n&2){const i=t.\u0275\u0275reference(3);t.\u0275\u0275property("title",a.title)("ariaLabel",a.title)("crtMenuTriggerFor",i)("crtMenuTriggerData",t.\u0275\u0275pureFunction1(6,sE,a.menuItems)),t.\u0275\u0275advance(2),t.\u0275\u0275property("useGlassmorphism",!0)("items",a.menuItems)}},dependencies:[Jt,Ua,ri],styles:["[_nghost-%COMP%]{--button-border-radius: 50%}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{--crt-button-default-contrast-color: var(--crt-palette-navigation-primary-A100);--crt-button-default-color: rgba(255, 255, 255, .1);--crt-button-default-hover-color: rgba(255, 255, 255, .2);--crt-button-default-pressed-color: rgba(255, 255, 255, .3)}"],changeDetection:0})}}const oU="RightPanelSelectedTab",sU="RightPanelSetSelectedTabEvent",cU="RightPanelSelectedTabSubscription",lU="RightPanelListenerSubscription",dU="RightPanelResetCounterListener",pU="RightPanelResetCounter",uU="RightPanelContactChatSubscription",mU="RightPanelContactChat",gU="RightPanelTabIsInitialized",cE="NotificationsPanel",hU="NotificationsPanelItemsTabPanel_SelectedItem",_U="NotificationsPanelItemsTabPanel_Items",fU="NotificationsPanelModel",bU="NotificationsPanelHasNewNotifications",lE="CommunicationPanel",CU="CommunicationsPanelItemsTabPanel_SelectedItem",yU="CommunicationsPanelModel",vU="CommunicationsPanelItemsTabPanel_Items",MU="CommunicationsPanelHasNewMessages",IU="CurrentCommunicationsInfo",xU="ActiveCommunicationsInfo",SU="CtiTab",wU="CurrentCallChangedListener",EU="CurrentCallChanged",TU="OBSWTab",PU="CurrentConsultationChangedListener",OU="CurrentConsultationChanged",DU="RefreshActiveCommunicationsInfoListener",AU="RefreshActiveCommunicationsInfo",LU="right-panel-call-timer",kU="right-panel-consultation-timer",RU="ChatsTab",NU="DisableRightPanelsPreprocessing",X5="SidebarExtensions",VU="SidebarContainerWrapper",Xy="LegacySidePanel",FU="LegacySidePanelItemsTabPanel_Items",jU="LegacySidePanelItemsTabPanel_SelectedItem",BU="SidebarOpenedState",zU="SidebarOpenedState_Subscription",UU=null,q5=424+"px",dE="804px",WU="SidebarWidthStates",GU="SidebarWidthStates_Subscription";class S1{constructor(e){this._httpClient=e,this.serviceEndpoint="/ServiceModel/SidebarService.svc/",this.getItemsMethodName="GetItems"}getItems(){const e=`${this.serviceEndpoint}${this.getItemsMethodName}`;return this._httpClient.post(e,null)}static{this.\u0275fac=function(n){return new(n||S1)(t.\u0275\u0275inject(l.HttpClient))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:S1,factory:S1.\u0275fac,providedIn:"root"})}}class Xm{constructor(e,n){this._sidebarService=e,this._translateService=n,this._additionalProperties={CtiTab:{containerClasses:["ts-cti-container"]},ChatsTab:{containerId:"OmniChatModule_WrapContainer"},FeedsTab:{containerClasses:["ts-feed-container"]}}}_translateInstant(e){return this._translateService.instant(`Sidebar.${e}`)}_createLeafSidebarDefinitionBase(e){return{code:e.code,title:e.title,icon:e.icon,schemaName:e.schemaName,index:e.index,autoHideNotificationMark:e.autoHideNotificationMark,allowSizeAdjustment:e.allowSizeAdjustment}}_createNestedSidebarDefinition(e){return{...this._createLeafSidebarDefinitionBase(e),...this._additionalProperties[e.code]}}_createStandaloneSidebarDefinition(e){return{...this._createLeafSidebarDefinitionBase(e),type:"standalone"}}_sortSidebarsByIndexAndCode(e,n){return e.index-n.index||e.code.localeCompare(n.code)}_fillCustomSidebarToSidebarGroupDefinition(e,n){const a=e.filter(i=>i.groupCode===n.code).map(i=>this._createNestedSidebarDefinition(i));return n.nestedSidebars=[...n.nestedSidebars,...a].sort((i,s)=>this._sortSidebarsByIndexAndCode(i,s)),n}_mapResponseItemsToDefinitions(e){const n=e.filter(a=>a.groupCode===null).map(a=>this._createStandaloneSidebarDefinition(a));return[this._fillCustomSidebarToSidebarGroupDefinition(e,{type:"group",code:lE,outerContainerClasses:["communication-panel-item-container"],nestedSidebarsContainerClasses:["communications-panel-items-tab-panel"],nestedSidebars:[],title:this._translateInstant("PredefinedSidebarGroups.CommunicationPanel"),icon:"tools-icon",index:9e3}),this._fillCustomSidebarToSidebarGroupDefinition(e,{type:"group",code:cE,outerContainerClasses:["ts-notifications-container","communication-panel-item-container"],nestedSidebarsContainerClasses:["notifications-panel-items-tab-panel"],nestedSidebars:[],title:this._translateInstant("PredefinedSidebarGroups.NotificationsPanel"),icon:"notifications-icon",index:1e4}),...n]}getSidebarsConfig(){return this._cachedSidebarsConfig$=this._cachedSidebarsConfig$??this._sidebarService.getItems().pipe((0,m.catchError)(()=>(0,m.of)({success:!1,items:[]})),(0,m.map)(e=>({rootSidebars:this._mapResponseItemsToDefinitions(e.items).filter(s=>s.type==="standalone"||s.type==="group"&&s.nestedSidebars.length).sort((s,b)=>this._sortSidebarsByIndexAndCode(s,b))})),(0,m.shareReplay)({bufferSize:1,refCount:!1})),this._cachedSidebarsConfig$}static{this.\u0275fac=function(n){return new(n||Xm)(t.\u0275\u0275inject(S1),t.\u0275\u0275inject(f.TranslateService))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Xm,factory:Xm.\u0275fac,providedIn:"root"})}}var sr;(function(r){r.Narrow="narrow",r.Expanded="expanded",r.Fullscreen="fullscreen",r.ResetFullscreen="resetFullscreen"})(sr||(sr={}));function pE(r,e){return e.rootSidebars.find(n=>n.code===r)}function uE(r,e){return e.nestedSidebars.find(n=>n.code===r)}function w1(r,e){const n=e.rootSidebars.find(i=>i.code?.toLowerCase()===r.toLowerCase()&&i.type!=="group");if(n)return{leafSidebar:n,group:null};const a=e.rootSidebars.filter(i=>i.type==="group").flatMap(i=>i.nestedSidebars.map(s=>({group:i,nestedSidebar:s}))).find(i=>i.nestedSidebar.code?.toLowerCase()===r.toLowerCase());return a?{leafSidebar:a.nestedSidebar,group:a.group}:void 0}class E1 extends Yb.S{constructor(e,n){super(),this.sysSettingsService=e,this.userInfo=n,this._enabled=!1,this._initialized=!1}_initializeDataLayer(){const e=window;e.dataLayer&&(this._dataLayer=e.dataLayer)}_initializeScripts(e){e&&(e=e.replace(/'/g,'"'),this._appendChildScriptTag(document.head,"script",this._getHtmlTagContent("script",e)),this._appendChildScriptTag(document.body,"noscript",this._getHtmlTagContent("noscript",e)))}_getHtmlTagContent(e,n){if(!n||!e)return"";const a=new RegExp("<"+e+"[\\s\\S]*?>[\\s\\S]*?<\\/"+e+">","gi"),i=n.match(a);if(i&&i.length===1){const s=i[0],b=new RegExp("<(\\/|)"+e+"(.*?|)>","gi");return s.replace(b,"").trim()}else return""}_appendChildScriptTag(e,n,a){if(!e||!n||!a)return;const i=document.createElement(n);i.appendChild(document.createTextNode(a)),e.appendChild(i)}_initializeDefaultVariables(e){const n=this.userInfo,a={productName:e.ProductName,productEdition:e.ProductEdition,primaryCulture:{displayValue:n.cultureInfo.sysCultureName,value:n.cultureInfo.sysCultureId},customerId:e.CustomerId,version:e.ConfigurationVersion,userId:n.id,userType:this._getUserType(),accessType:n.accessType};this._pushVariables(a)}_getUserType(){return this.userInfo.isSSP?"External":"Employee"}_pushVariables(e){try{this._dataLayer.push(e)}catch(n){console.log(n.message)}}_initializeGoogleTagManager(e){e.UseGoogleTagManager&&(this._initializeScripts(e.GoogleTagManagerScript),this._initializeDataLayer(),this._enabled=!!this._dataLayer,this._enabled&&this._initializeDefaultVariables(e))}_executeInitialization(){const e=["UseGoogleTagManager","GoogleTagManagerScript","ProductName","ProductEdition","ConfigurationVersion","CustomerId"],n=this.sysSettingsService.getByCodes(e);return n.pipe((0,h.take)(1)).subscribe(a=>{const i=a&&a.success&&a.values&&(0,y.mapValues)(a.values||{},s=>s.value);i&&this._initializeGoogleTagManager(i),this._initialized=!0}),n.pipe((0,h.map)(()=>{}))}_resetCustomData(e){const n={};for(const a of Object.keys(e))n[a]=void 0;this._pushVariables(n)}initialize(){return this._initialized?(0,m.of)(void 0):(this._initializationObservable$||(this._initializationObservable$=this._executeInitialization()),this._initializationObservable$)}track(e){this._enabled&&(this._pushVariables(Object.assign(e,{description:JSON.stringify(e.description),event:e?.event||"bpmonlineInfo",virtualUrl:location.href})),this._resetCustomData(e))}static{this.\u0275fac=function(n){return new(n||E1)(t.\u0275\u0275inject(Js),t.\u0275\u0275inject(Ze.oq))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:E1,factory:E1.\u0275fac,providedIn:"root"})}}class T1{get sidebarWidthStates(){return this._sidebarWidthStates}get sidebarWidthChanged$(){return this._sidebarWidthChanged$.asObservable()}get leftPanelStateChanged$(){return this._leftPanelStateChanged$.asObservable()}constructor(e,n,a){this._sidebarsConfigProvider=e,this._screenSizeService=n,this._googleTagManager=a,this._moduleName="Shell",this._schemaName="Sidebar",this._standalonePaneName="Standalone panel",this._openActionName="Open",this._openPanelDescription="Panel_Open",this._defaultWidth=q5,this._maxPercentForHideLeftPanel=80,this._minPercentForCollapsedLeftPanel=60,this._notificationMarks={rootSidebars$:new m.BehaviorSubject({}),nestedSidebars$:new m.BehaviorSubject({}),nestedSidebarsSnapshot:{}},this._opened={rootSidebar$:new m.BehaviorSubject(null),nestedSidebars$:new m.BehaviorSubject({}),leafSidebar$:new m.BehaviorSubject(null),snapshot$:new m.BehaviorSubject({leafSidebar:null,nestedSidebars:{}})},this._sidebarWidthStates={},this._sidebarWidthChanged$=new m.Subject,this._leftPanelStateChanged$=new m.Subject,this.notificationMarks={rootSidebars$:this._notificationMarks.rootSidebars$.asObservable(),nestedSidebars$:this._notificationMarks.nestedSidebars$.asObservable()},this.opened={rootSidebar$:this._opened.rootSidebar$.asObservable(),nestedSidebars$:this._opened.nestedSidebars$.asObservable(),leafSidebar$:this._opened.leafSidebar$.asObservable(),snapshot$:this._opened.snapshot$.asObservable()}}_getSidebarsConfig(){return(0,m.firstValueFrom)(this._sidebarsConfigProvider.getSidebarsConfig())}_updateNestedNotificationMarksSnapshot(e,n,a){const i=e.code,s=n.code;let b=this._notificationMarks.nestedSidebarsSnapshot[s];b||(b={},this._notificationMarks.nestedSidebarsSnapshot[s]=b),b[i]=a}_shouldSkipNotificationMark(e,n){const{markState:a,leafSidebarInfo:i}=e;return i.leafSidebar.code===n&&i.leafSidebar.autoHideNotificationMark&&a.visible}_autoHideNotificationMark(e){var n=this;return(0,bt.A)(function*(){e.autoHideNotificationMark&&(yield n.setLeafNotificationMarks({[e.code]:{visible:!1}}))})()}_isNotificationMarkStateChanged(e,n){return(e?.visible??!1)!==n.visible}_emitNestedSidebarsNotificationMarks(e){const n=this._notificationMarks.nestedSidebars$.getValue();let a=!1;for(const i of e){const s=i.leafSidebarInfo.leafSidebar;this._updateNestedNotificationMarksSnapshot(s,i.leafSidebarInfo.group,i.markState),a||=this._isNotificationMarkStateChanged(n[s.code],i.markState),n[s.code]=i.markState}a&&this._notificationMarks.nestedSidebars$.next(n)}_setSidebarGroupsNotificationMarks(e){let n=!1;for(const[a,i]of Object.entries(this._notificationMarks.nestedSidebarsSnapshot)){const b={visible:Object.values(i).some(D=>D.visible)};n||=this._isNotificationMarkStateChanged(e[a],b),e[a]=b}return n}_setStandaloneSidebarsNotificationMarks(e,n){let a=!1;for(const i of e){const s=i.leafSidebarInfo.leafSidebar;a||=this._isNotificationMarkStateChanged(n[s.code],i.markState),n[s.code]=i.markState}return a}_emitRootSidebarsNotificationMarks(e){const n=this._notificationMarks.rootSidebars$.getValue(),a=this._setSidebarGroupsNotificationMarks(n),i=this._setStandaloneSidebarsNotificationMarks(e,n);(a||i)&&this._notificationMarks.rootSidebars$.next(n)}_emitIfChanged(e,n){return e.getValue()===n?!1:(e.next(n),!0)}_getLeafSidebarOpenedState(e){return e.nestedSidebar??e.rootSidebar}_emitOpenedSidebar(e){this._emitIfChanged(this._opened.rootSidebar$,e.rootSidebar);const n=this._getLeafSidebarOpenedState(e);if(this._opened.leafSidebar$.next(n),e.nestedSidebar){const a=this._opened.nestedSidebars$.getValue(),i=e.rootSidebar;a[i]!==e.nestedSidebar&&this._opened.nestedSidebars$.next({...a,[i]:e.nestedSidebar})}this._opened.snapshot$.next({leafSidebar:n,nestedSidebars:this._opened.nestedSidebars$.getValue()})}_setSidebarWidthStates(e,n){n===this._defaultWidth?delete this._sidebarWidthStates[e]:this._sidebarWidthStates[e]=n,this._sidebarWidthStates={...this._sidebarWidthStates};const a=this._getSidebarWidth(n);this._sidebarWidthChanged$.next({code:e,width:a})}_getSidebarWidth(e){switch(e){case sr.Narrow:return q5;case sr.Expanded:return dE;case sr.Fullscreen:return this._screenSizeService.currentScreenSize+"px";default:return e}}_openSidebarInGroup(e,n){var a=this;return(0,bt.A)(function*(){a._emitOpenedSidebar({rootSidebar:e.code,nestedSidebar:n.code}),yield a._autoHideNotificationMark(n)})()}_openSidebarGroup(e){var n=this;return(0,bt.A)(function*(){const a=e.code,i=n._opened.nestedSidebars$.getValue()[a];let s;if(i&&(s=uE(i,e),s||console.warn(`It is not possible to open nested sidebar with code "${i}" because it does not belong to the specified group with code "${a}"`)),s||(s=e.nestedSidebars[0]),!s){console.warn(`It is not possible to open sidebar group with code "${a}" because it does not contain any nested sidebars`);return}yield n._openSidebarInGroup(e,s)})()}_openStandaloneSidebar(e){var n=this;return(0,bt.A)(function*(){n._emitOpenedSidebar({rootSidebar:e.code,nestedSidebar:null}),yield n._autoHideNotificationMark(e)})()}_openLeafSidebarInternal(e){var n=this;return(0,bt.A)(function*(){if(n._opened.leafSidebar$.getValue()===e)return!1;const a=yield n._getSidebarsConfig(),i=w1(e,a);return i?(i.group?yield n._openSidebarInGroup(i.group,i.leafSidebar):yield n._openStandaloneSidebar(i.leafSidebar),!0):(console.warn(`Leaf sidebar with code "${e}" does not exist and can not be opened`),!1)})()}_getWidthPercentFromScreenSize(e){const n=this._getSidebarWidth(e),a=this._screenSizeService.currentScreenSize;return+n.replace("px","")/a*100}_calculateLeftPanelState(e){const n=e<this._maxPercentForHideLeftPanel;return{isCollapsed:e>this._minPercentForCollapsedLeftPanel,isVisible:n}}_setLeftPanelState(e,n){const a=this._getWidthPercentFromScreenSize(e);if(n&&a<this._maxPercentForHideLeftPanel||this._screenSizeService.currentScreenSizeType===E.am.Small)return;const i=this._calculateLeftPanelState(a);this._leftPanelStateChanged$.next(i)}_getPreviousSidebarWidth(){const e=this._previousSidebarWidth??sr.Narrow;return this._getWidthPercentFromScreenSize(e)<this._maxPercentForHideLeftPanel?e:sr.Narrow}_getGMTAdjustDescription(e){switch(e){case sr.Expanded:case sr.Narrow:case sr.Fullscreen:return`Adjust_${e}_Button`;default:return"Adjust_Drug-n-Drop"}}_sendGTMData(e,n,a,i){const s={action:n,source:i,description:a,moduleName:this._moduleName,schemaName:this._schemaName,primaryColumnValue:e};this._googleTagManager.track(s)}_sendGTMAction(e,n,a){var i=this;return(0,bt.A)(function*(){const s=yield i._getSidebarsConfig(),b=w1(e,s);let D=e;b&&(D=b?.group?.title??i._standalonePaneName),i._sendGTMData(e,n,a,D)})()}setLeafNotificationMarks(e){var n=this;return(0,bt.A)(function*(){const a=yield n._getSidebarsConfig(),i=n._opened.leafSidebar$.getValue(),s=Object.entries(e).map(([W,ot])=>({markState:ot,leafSidebarInfo:w1(W,a)})).filter(W=>W.leafSidebarInfo&&!n._shouldSkipNotificationMark(W,i)),b=s.filter(W=>W.leafSidebarInfo.group!==null),D=s.filter(W=>W.leafSidebarInfo.group===null);n._emitNestedSidebarsNotificationMarks(b),n._emitRootSidebarsNotificationMarks(D)})()}openLeafSidebar(e){var n=this;return(0,bt.A)(function*(){yield n._openLeafSidebarInternal(e),yield n._sendGTMAction(e,n._openActionName,n._openPanelDescription)})()}openRootSidebar(e){var n=this;return(0,bt.A)(function*(){if(n._opened.rootSidebar$.getValue()===e)return;const a=yield n._getSidebarsConfig(),i=pE(e,a);if(!i){console.warn(`Root sidebar with code "${e}" does not exist and can not be opened`);return}i.type==="group"?yield n._openSidebarGroup(i):yield n._openStandaloneSidebar(i),yield n._sendGTMAction(e,n._openActionName,n._openPanelDescription)})()}loadOpenedSidebarSnapshot(e){var n=this;return(0,bt.A)(function*(){n._opened.nestedSidebars$.next(e.nestedSidebars);const a=e.leafSidebar;a&&(yield n._openLeafSidebarInternal(a))||n._opened.snapshot$.next(e)})()}closeSidebar(){this._emitOpenedSidebar({rootSidebar:null,nestedSidebar:null})}initSidebarWidthStates(e){e&&(this._sidebarWidthStates={...e})}isSidebarStandalone(e){var n=this;return(0,bt.A)(function*(){const a=yield n._getSidebarsConfig();return!w1(e,a)?.group})()}isSizeAdjustmentAllowed(e){var n=this;return(0,bt.A)(function*(){const a=yield n._getSidebarsConfig(),i=w1(e,a),s=yield n.isSidebarStandalone(e);return!!i?.leafSidebar.allowSizeAdjustment&&s})()}getOpenedSidebarWidth(){const e=this._opened.rootSidebar$.getValue();if(!e)return this._defaultWidth;const n=this._sidebarWidthStates[e]??this._defaultWidth;return this._getSidebarWidth(n)}changeSidebarWidth(e,n){var a=this;return(0,bt.A)(function*(){const i=a._sidebarWidthStates[n];a._previousSidebarWidth=i;const s=a._opened.rootSidebar$.getValue()===n;if(i===e||!s)return;a._setSidebarWidthStates(n,e),(e===sr.Narrow||e===sr.Expanded||e===sr.Fullscreen)&&a._setLeftPanelState(e);const b=a._getGMTAdjustDescription(e);yield a._sendGTMAction(n,"Adjust",b)})()}changeOpenedSidebarWidth(e){var n=this;return(0,bt.A)(function*(){const a=n._opened.rootSidebar$.getValue();a&&(yield n.changeSidebarWidth(e,a))})()}changeLeftPanelStateByOpenedSidebarWidth(e,n){this._opened.rootSidebar$.getValue()&&this._setLeftPanelState(e,n)}resetFullscreenWidthForOpenedSidebar(){const e=this.getOpenedSidebarWidth();if(this._getWidthPercentFromScreenSize(e)>this._maxPercentForHideLeftPanel){const a=this._getPreviousSidebarWidth();this.changeOpenedSidebarWidth(a)}}static{this.\u0275fac=function(n){return new(n||T1)(t.\u0275\u0275inject(Xm),t.\u0275\u0275inject(E.DA),t.\u0275\u0275inject(E1))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:T1,factory:T1.\u0275fac,providedIn:"root"})}}class cl{constructor(e,n,a,i,s){this._changeDetectorRef=e,this._featureValues=n,this._translateService=a,this._sidebarsConfigProvider=i,this._sidebarStateService=s,this._currentRightPanelTab$=new m.BehaviorSubject(null),this._communicationsPanelHasNewMessages$=new m.BehaviorSubject(!1),this._notificationsPanelHasNewNotifications$=new m.BehaviorSubject(!1),this._lastOpenedRootSidebar=null,this._showLegacySidebarsButton$=new m.BehaviorSubject(!1),this.buttonToggleGroupBadgeConfig={color:"warn",offset:-9},this.rootSidebarsToggleValues$=this._featureValues[X5]?(0,m.combineLatest)([this._sidebarsConfigProvider.getSidebarsConfig(),this._sidebarStateService.notificationMarks.rootSidebars$,this._showLegacySidebarsButton$]).pipe((0,m.map)(([b,D,W])=>{const ot=this._appendLegacySidebarsButtonIfNeeded(b.rootSidebars,W);return this._getRootSidebarsToggleConfig(ot,D)}),(0,m.tap)(()=>this._scheduleChangeDetection()),(0,m.share)()):(0,m.combineLatest)([this._communicationsPanelHasNewMessages$,this._notificationsPanelHasNewNotifications$]).pipe((0,m.map)(([b,D])=>this._buildLegacyModeRootSidebarsToggleConfig(b,D))),this.openedRootSidebarToggleValue$=this._currentRightPanelTab$.asObservable(),this.buttonClicked=new t.EventEmitter}set showLegacySidebarsButton(e){this._showLegacySidebarsButton$.next(e)}set notificationsPanelHasNewNotifications(e){this._notificationsPanelHasNewNotifications$.next(e)}set communicationsPanelHasNewMessages(e){this._communicationsPanelHasNewMessages$.next(e)}set currentRightPanelTab(e){e!==this._currentRightPanelTab$.getValue()&&this._currentRightPanelTab$.next(e)}static _getLegacyModeIconName(e,n){return e?`${n}-has-new`:n}_scheduleChangeDetection(){setTimeout(()=>this._changeDetectorRef.detectChanges(),0)}_translate(e){return this._translateService.instant(e)}_getRootSidebarsToggleConfig(e,n){return e.map(a=>({value:a.code,displayValue:"",tooltipTitle:a.title,icon:a.icon,iconPosition:pe.OnlyIcon,badge:{visible:n[a.code]?.visible??!1}}))}_appendLegacySidebarsButtonIfNeeded(e,n){return n?[{type:"group",code:Xy,title:this._translateService.instant("AppToolbar.LegacySidePanelButton.Title"),icon:"legacy-side-panel-icon",nestedSidebars:[],index:0},...e]:e}_buildLegacyModeRootSidebarsToggleConfig(e,n){return[{value:"CommunicationPanel",displayValue:"",tooltipTitle:this._translate("AppToolbar.CommunicationPanelButton.Title"),icon:cl._getLegacyModeIconName(e,"tools-icon"),iconPosition:pe.OnlyIcon},{value:"NotificationsPanel",displayValue:"",tooltipTitle:this._translate("AppToolbar.NotificationsPanelButton.Title"),icon:cl._getLegacyModeIconName(n,"notifications-icon"),iconPosition:pe.OnlyIcon}]}_handleRootSidebarToggleClick(e){var n=this;return(0,bt.A)(function*(){const a=e?.value??null;if(a===Xy){n._sidebarStateService.closeSidebar(),n.buttonClicked.emit(e),n._lastOpenedRootSidebar=a;return}a?yield n._sidebarStateService.openRootSidebar(a):(n._sidebarStateService.closeSidebar(),n._lastOpenedRootSidebar===Xy&&n.buttonClicked.emit(null)),n._lastOpenedRootSidebar=a})()}onButtonClicked(e){this._featureValues[X5]?this._handleRootSidebarToggleClick(e).then():this.buttonClicked.emit(e)}static{this.\u0275fac=function(n){return new(n||cl)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(ge.G),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(Xm),t.\u0275\u0275directiveInject(T1))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:cl,selectors:[["crt-right-panel-buttons"]],inputs:{showLegacySidebarsButton:"showLegacySidebarsButton",notificationsPanelHasNewNotifications:"notificationsPanelHasNewNotifications",communicationsPanelHasNewMessages:"communicationsPanelHasNewMessages",currentRightPanelTab:"currentRightPanelTab"},outputs:{buttonClicked:"buttonClicked"},decls:4,vars:7,consts:[[1,"right-panel-buttons-wrapper"],["size","extra-large","iconSize","extra-large","shape","default","gap","large","contentAlign","center",3,"valueChange","items","value","badgeConfig"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"crt-button-toggle-group",1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275listener("valueChange",function(s){return a.onButtonClicked(s)}),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("items",t.\u0275\u0275pipeBind1(2,3,a.rootSidebarsToggleValues$))("value",t.\u0275\u0275pipeBind1(3,5,a.openedRootSidebarToggleValue$))("badgeConfig",a.buttonToggleGroupBadgeConfig))},styles:["[_nghost-%COMP%]{justify-content:center;display:flex;align-items:center}"]})}}class P1 extends Jo{constructor(e,n,a){super(e,n),this._navigationService=a}getTitle(){return this.translate("AppToolbar.Settings.Title")}goToSystemDesigner(){var e=this;return(0,bt.A)(function*(){yield e._navigationService.navigate({mode:Ui.Push,options:{type:Ai.Schema,schemaName:"SystemDesigner"},state:{isInChain:!1,keepAlive:!1}})})()}static{this.\u0275fac=function(n){return new(n||P1)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(fo))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:P1,selectors:[["crt-settings-button"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["icon","settings-menu","iconPosition","only-icon","size","extra-large","iconSize","extra-large",3,"clicked","title","ariaLabel"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"crt-button",0),t.\u0275\u0275listener("clicked",function(){return a.goToSystemDesigner()}),t.\u0275\u0275elementEnd()),n&2&&t.\u0275\u0275property("title",a.title)("ariaLabel",a.title)},dependencies:[Jt],styles:["[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{--crt-button-default-contrast-color: var(--crt-palette-navigation-primary-A100);--crt-button-default-hover-color: rgba(255, 255, 255, .2);--crt-button-default-pressed-color: rgba(255, 255, 255, .3)}"],changeDetection:0})}}class O1 extends C5{constructor(e,n){super(e),this._domSanitizer=n,this._logoSysSettingCode="CrtAppToolbarLogo",this._underlayColorSysSettingCode="CrtAppToolbarLogoUnderlayColor",this._defaultUnderlayColor="transparent"}_getLogoUrl(e){if(!e)return this._domSanitizer.bypassSecurityTrustResourceUrl(o(31463));const n=(0,de.qv)();return`img/terrasoft.axd?s=nui-binary-syssetting&r=${this._logoSysSettingCode}&source_hash=${n}`}getSysSettingCodes(){return[this._logoSysSettingCode,this._underlayColorSysSettingCode]}mapSysSettingValues(e){const n=e[this._logoSysSettingCode],a=e[this._underlayColorSysSettingCode];return{imageUrl:this._getLogoUrl(n),underlayColor:a||this._defaultUnderlayColor}}static{this.\u0275fac=function(n){return new(n||O1)(t.\u0275\u0275inject(Js),t.\u0275\u0275inject(p.DomSanitizer))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:O1,factory:O1.\u0275fac,providedIn:"root"})}}var mE=o(64751);function gE(){return function(r,e){Reflect.defineMetadata(mE.BC+e.toString(),{},r.constructor)}}var hE=o(527);class nc{get availableColors(){return["linear-gradient(226.56deg, #E92170 2.58%, #9C1548 100%)","linear-gradient(223.63deg, #E23911 0%, #A11818 102.51%)","linear-gradient(265.43deg, #118F45 0.43%, #085C2B 92.69%)","linear-gradient(226.04deg, #078A7E 3.14%, #084C45 94.22%)","linear-gradient(224.97deg, #057ADD 5.35%, #274D8F 100%)","linear-gradient(220.79deg, #A758C5 2.27%, #841189 95.92%)","linear-gradient(143.25deg, #7848EE 1.25%, #512DA8 101.21%)","linear-gradient(223.46deg, #0058EF -4.85%, #0042B5 103.03%)","linear-gradient(143.8deg, #4F43C2 6.59%, #282261 95.27%)","linear-gradient(223.63deg, #06427C 0%, #0D2E4E 102.51%)"]}constructor(e){this.window=e,this.STORAGE_KEY="freedomContactColor",this._currentIndex=0,this._currentIndex=this._getIndexFromStorage()}_getIndexStorageKey(){return`${this.STORAGE_KEY}_index`}_getStorageKey(e){return`${this.STORAGE_KEY}_${e}`}_saveIndexToStorage(){this.window.localStorage.setItem(this._getIndexStorageKey(),this._currentIndex.toString())}_saveToStorage(e,n){this.window.localStorage.setItem(this._getStorageKey(e),n)}_removeFromStorage(e){this.window.localStorage.removeItem(this._getStorageKey(e))}_getIndexFromStorage(){const e=this.window.localStorage?.getItem(this._getIndexStorageKey());return e?Number(e):0}_getFromStorage(e){let n=this.window.localStorage.getItem(this._getStorageKey(e));return n&&!this.availableColors.some(a=>a===n)&&(this._removeFromStorage(e),n=""),n}getNextColor(e){let n=this._getFromStorage(e)||"";return n.indexOf("#")===-1&&(this._currentIndex>=this.availableColors.length&&(this._currentIndex=0),n=this.availableColors[this._currentIndex],this._currentIndex++,this._saveIndexToStorage(),this._saveToStorage(e,n)),n}static{this.\u0275fac=function(n){return new(n||nc)(t.\u0275\u0275inject(E.ZP))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:nc,factory:nc.\u0275fac,providedIn:"root"})}}class ac{getInitials(e,n){if(!e||e==="")return"";const a=n||(i=>i.substr(0,1).toUpperCase());return e.trim().split(" ",2).map(a).join("")}static{this.\u0275fac=function(n){return new(n||ac)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ac,factory:ac.\u0275fac,providedIn:"root"})}}var oC;(function(r){r.Abbreviation="abbreviation",r.Icon="icon"})(oC||(oC={}));const _E=()=>({height:"52px"});function fE(r,e){r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",5),r&2&&t.\u0275\u0275property("styles",t.\u0275\u0275pureFunction0(1,_E))}function bE(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",11)(1,"crt-button",12),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n),t.\u0275\u0275nextContext(2);const i=t.\u0275\u0275reference(5);return t.\u0275\u0275resetView(i.click())})("blurred",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onActionBlured(i))})("focused",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onActionFocused(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"crt-button",13),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.clearValue())})("blurred",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onActionBlured(i))})("focused",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onActionFocused(i))}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngStyle",n.imageStyles),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(2,3,"ImageInput.Change")),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(4,5,"ImageInput.Clear"))}}function CE(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"img",9),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275template(3,bE,5,7,"div",10),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("alt",n.alt||n.label+t.\u0275\u0275pipeBind1(2,4,"ImageInput.Alt")),t.\u0275\u0275property("src",n.src,t.\u0275\u0275sanitizeUrl)("ngStyle",n.imageStyles),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.readonly)}}function yE(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",15),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"span",16),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275styleProp("background",n.abbreviationBackgroundColor),t.\u0275\u0275property("ngStyle",n.imageStyles),t.\u0275\u0275attribute("aria-label",n.alt||(n.abbreviation?n.abbreviation:"")+t.\u0275\u0275pipeBind1(2,5,"ImageInput.AltAbbreviation")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(n.abbreviation)}}function vE(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",15),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275element(2,"mat-icon",17),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngStyle",n.imageStyles),t.\u0275\u0275attribute("aria-label",n.alt||n.label+t.\u0275\u0275pipeBind1(1,4,"ImageInput.AltIcon")),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("svgIcon",n.placeholder),t.\u0275\u0275property("ariaLabel",t.\u0275\u0275pipeBind1(3,6,"ImageInput.ImagePlaceholderIcon"))}}function ME(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",18)(1,"crt-button",19),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n),t.\u0275\u0275nextContext(2);const i=t.\u0275\u0275reference(5);return t.\u0275\u0275resetView(i.click())})("blurred",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onActionBlured(i))})("focused",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onActionFocused(i))}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("ngStyle",n.imageStyles),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(2,2,"ImageInput.Upload"))}}function IE(r,e){if(r&1&&t.\u0275\u0275template(0,yE,5,7,"ng-container",7)(1,vE,4,8,"ng-template",null,3,t.\u0275\u0275templateRefExtractor)(3,ME,3,4,"div",14),r&2){const n=t.\u0275\u0275reference(2),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",a.placeholderMode==="abbreviation")("ngIfElse",n),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!a.readonly)}}function xE(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",6),t.\u0275\u0275listener("blur",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onBlur(i))}),t.\u0275\u0275template(1,CE,4,6,"ng-container",7)(2,IE,4,3,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(4,"input",8,2),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.resetFileInput(i.target))})("change",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.upload(i.target.files))}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",a.wrapClasses)("ngStyle",a.imageWrapStyles)("crtTooltip",a.tooltip),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.src)("ngIfElse",n)}}let Pn=class q3 extends ar.j{get invalid(){return!!(super.invalid||this.valueValidationInfo&&!this.valueValidationInfo.valid&&this.valueValidationInfo.touched)}set borderRadius(e){this._borderRadius=e,this._initClasses(),this._initStyles()}get borderRadius(){return this._borderRadius}set size(e){this._size=e,this._initClasses()}get size(){return this._size}set positioning(e){this._positioning=e,this._initStyles()}get positioning(){return this._positioning}set customWidth(e){this._customWidth=e,this._initClasses(),this._initStyles()}get customWidth(){return this._customWidth}set customHeight(e){this._customHeight=e,this._initClasses(),this._initStyles()}get customHeight(){return this._customHeight}set customBorderWidth(e){this._customBorderWidth=e,this._initStyles()}get customBorderWidth(){return this._customBorderWidth}set placeholder(e){this._imagePlaceholder=e,this.setAbbreviation(),this.setAbbreviationBackgroundColor()}get placeholder(){return this._imagePlaceholder||this._defaultImagePlaceholder}set isFocused(e){this._isFocused=e}get isFocused(){return this._isFocused}set value(e){super.value=e,this._initImageSrc()}get src(){return this._src||(this._initImageSrc(),this._initStyles()),this._src}get wrapClasses(){return this._wrapClasses}constructor(e,n,a,i,s){super(e,n),this._sanitizer=a,this._contactColorService=i,this._initialsService=s,this._size=ht.Z.Large,this._borderRadius=ht.Z.Medium,this._positioning="cover",this._isFocused=!1,this._defaultImagePlaceholder="image-placeholder",this._imagePlaceholder=this._defaultImagePlaceholder,this.imageSelected=new t.EventEmitter,this.imageClear=new t.EventEmitter}ngOnInit(){super.ngOnInit(),this._initClasses(),this._initStyles(),this.setAbbreviationBackgroundColor()}get imageStyles(){return this._imageStyles}get imageActionsStyles(){return this._imageActionsStyles}get imageWrapStyles(){return this._imageWrapStyles}_isCustomSize(){return!!(this.customHeight&&this.customWidth)}_initImageSrc(){const e=this.control?.value,n=typeof e!="string";this._src=n?e:this._sanitizer.sanitize(t.SecurityContext.URL,e)}_initClasses(){const e={"crt-image-input":!0,"image-readonly":this.readonly,"image-invalid":this.invalid};this._isCustomSize()||[ht.Z.ExtraSmall,ht.Z.Small,ht.Z.Medium,ht.Z.Large,ht.Z.ExtraLarge].forEach(n=>{e[`image-size-${n}`]=this.size===n}),typeof this.borderRadius=="string"&&(0,ht.p)(this.borderRadius)&&this.borderRadius!==ht.Z.None&&[ht.Z.ExtraSmall,ht.Z.Small,ht.Z.Medium,ht.Z.Large,ht.Z.ExtraLarge].forEach(n=>{e[`image-border-radius-${n}`]=this.borderRadius===n}),this._wrapClasses=e}_getBorderRadiusStyles(){const e={};return this.borderRadius&&((0,ht.p)(this.borderRadius)||(e.borderRadius=this.borderRadius),(0,hE.E)(this.borderRadius)&&(e.borderRadius=`${this.borderRadius}px`)),e}_getPositioningStyles(){return{"object-fit":this.positioning||"cover"}}_getCustomDimensions(){return this._isCustomSize()?{height:this.customHeight,width:this.customWidth}:{}}_getBorderWidth(){return{"border-width":this.customBorderWidth||0}}_initStyles(){this._imageWrapStyles={...this._getCustomDimensions()},this._imageStyles={...this._getBorderRadiusStyles(),...this._getPositioningStyles(),...this._getBorderWidth()}}_getInitials(){return this.size===ht.Z.ExtraSmall?this._initialsService.getInitials(this.placeholder).charAt(0):this._initialsService.getInitials(this.placeholder)}resetFileInput(e){e.value=""}clearValue(){this.isFocused=!1,this.imageClear.emit()}upload(e){if(this.isFocused=!1,e.length===0)return;const n=e[0];this.imageSelected.emit({file:n,maxFileSize:this.maxFileSize})}onBlur(){this.isFocused=!1}onActionBlured(){this.isFocused=!1}onActionFocused(){this.isFocused=!0}setAbbreviation(){this.abbreviation=this.placeholderMode===oC.Abbreviation&&this.placeholder&&this.placeholder!==this._defaultImagePlaceholder?this._getInitials():""}setAbbreviationBackgroundColor(){this.abbreviationBackgroundColor=this.placeholderMode===oC.Abbreviation&&this.abbreviation?this._contactColorService.getNextColor(this.colorId??this.abbreviation):"var(--crt-placeholder-abbreviation-default-background-color)"}static{this.\u0275fac=function(n){return new(n||q3)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(p.DomSanitizer),t.\u0275\u0275directiveInject(nc),t.\u0275\u0275directiveInject(ac))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:q3,selectors:[["crt-image-input"]],hostVars:4,hostBindings:function(n,a){n&2&&t.\u0275\u0275classProp("crt-image-input-focused",a.isFocused)("image-readonly-wrap",a.readonly)},inputs:{valueValidationInfo:"valueValidationInfo",alt:"alt",borderRadius:"borderRadius",size:"size",placeholderMode:"placeholderMode",colorId:"colorId",positioning:"positioning",customWidth:"customWidth",customHeight:"customHeight",customBorderWidth:"customBorderWidth",maxFileSize:"maxFileSize",placeholder:"placeholder",isFocused:"isFocused",value:"value"},outputs:{imageSelected:"imageSelected",imageClear:"imageClear"},features:[t.\u0275\u0275ProvidersFeature([Oi.I]),t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["input",""],["empty_image",""],["fileUpload",""],["icon",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],[3,"blur","ngClass","ngStyle","crtTooltip"],[4,"ngIf","ngIfElse"],["type","file","accept","image/*","data-qa","imageUpload",2,"display","none",3,"click","change"],["role","img","tabindex","0",1,"crt-image",3,"src","alt","ngStyle"],["class","image-input-actions",3,"ngStyle",4,"ngIf"],[1,"image-input-actions",3,"ngStyle"],["icon","image-update","iconPosition","only-icon","displayType","text","size","small",3,"clicked","blurred","focused","title"],["icon","image-clear","iconPosition","only-icon","size","small",3,"clicked","blurred","focused","title"],["class","image-input-actions actions-vertical",3,"ngStyle",4,"ngIf"],["role","img","tabindex","0",1,"placeholder-wrap",3,"ngStyle"],[1,"placeholder-abbreviation","no-photo"],["matSuffix","","aria-hidden","false","role","button",1,"image-placeholder",3,"svgIcon","ariaLabel"],[1,"image-input-actions","actions-vertical",3,"ngStyle"],["icon","image-upload","iconPosition","only-icon","size","small",3,"clicked","blurred","focused","title"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,fE,1,2,"crt-skeleton-loader",4)(1,xE,6,5,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.loaderVisible)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgIf,_.NgStyle,q.MatLegacySuffix,_t.MatIcon,yn.W,Jt,na.d,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]   .placeholder-abbreviation[_ngcontent-%COMP%]{width:32px;height:32px}[_nghost-%COMP%]   .placeholder-abbreviation.no-photo[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;justify-content:center;min-width:32px;min-height:32px;color:var(--crt-palette-background-500)}[_nghost-%COMP%]   .crt-image-input[_ngcontent-%COMP%]{position:relative;min-width:16px;min-height:16px;width:100%;border-style:none}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]{height:16px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{height:8px}[_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]{height:32px}[_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{height:16px}[_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]{height:48px}[_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{height:24px}[_nghost-%COMP%]   .crt-image-input.image-size-large[_ngcontent-%COMP%]{height:80px}[_nghost-%COMP%]   .crt-image-input.image-size-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{height:40px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-large[_ngcontent-%COMP%]{height:120px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{height:60px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]{width:16px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{width:8px}[_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]{width:32px}[_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{width:16px}[_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]{width:48px}[_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{width:24px}[_nghost-%COMP%]   .crt-image-input.image-size-large[_ngcontent-%COMP%]{width:80px}[_nghost-%COMP%]   .crt-image-input.image-size-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{width:40px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-large[_ngcontent-%COMP%]{width:120px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{width:60px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]{max-width:16px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{max-width:8px}[_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]{max-width:32px}[_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{max-width:16px}[_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]{max-width:48px}[_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{max-width:24px}[_nghost-%COMP%]   .crt-image-input.image-size-large[_ngcontent-%COMP%]{max-width:80px}[_nghost-%COMP%]   .crt-image-input.image-size-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{max-width:40px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-large[_ngcontent-%COMP%]{max-width:120px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{max-width:60px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]{max-height:16px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{max-height:8px}[_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]{max-height:32px}[_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{max-height:16px}[_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]{max-height:48px}[_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{max-height:24px}[_nghost-%COMP%]   .crt-image-input.image-size-large[_ngcontent-%COMP%]{max-height:80px}[_nghost-%COMP%]   .crt-image-input.image-size-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{max-height:40px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-large[_ngcontent-%COMP%]{max-height:120px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{max-height:60px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]{min-width:16px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{min-width:8px}[_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]{min-width:32px}[_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{min-width:16px}[_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]{min-width:48px}[_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{min-width:24px}[_nghost-%COMP%]   .crt-image-input.image-size-large[_ngcontent-%COMP%]{min-width:80px}[_nghost-%COMP%]   .crt-image-input.image-size-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{min-width:40px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-large[_ngcontent-%COMP%]{min-width:120px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{min-width:60px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]{min-height:16px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{min-height:8px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .placeholder-abbreviation.no-photo[_ngcontent-%COMP%]{font-family:var(--crt-overline-font-family);font-size:var(--crt-overline-font-size);line-height:var(--crt-overline-line-height);font-weight:var(--crt-overline-font-weight);letter-spacing:var(--crt-overline-letter-spacing);text-transform:var(--crt-overline-text-transform);-webkit-font-smoothing:antialiased}[_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]{min-height:32px}[_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{min-height:16px}[_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .placeholder-abbreviation.no-photo[_ngcontent-%COMP%]{font-family:var(--crt-headline-5-font-family);font-size:var(--crt-headline-5-font-size);line-height:var(--crt-headline-5-line-height);font-weight:var(--crt-headline-5-font-weight);letter-spacing:var(--crt-headline-5-letter-spacing);text-transform:var(--crt-headline-5-text-transform);-webkit-font-smoothing:antialiased}[_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]{min-height:48px}[_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{min-height:24px}[_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .placeholder-abbreviation.no-photo[_ngcontent-%COMP%]{font-family:var(--crt-headline-4-font-family);font-size:var(--crt-headline-4-font-size);line-height:var(--crt-headline-4-line-height);font-weight:var(--crt-headline-4-font-weight);letter-spacing:var(--crt-headline-4-letter-spacing);text-transform:var(--crt-headline-4-text-transform);-webkit-font-smoothing:antialiased}[_nghost-%COMP%]   .crt-image-input.image-size-large[_ngcontent-%COMP%]{min-height:80px}[_nghost-%COMP%]   .crt-image-input.image-size-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{min-height:40px}[_nghost-%COMP%]   .crt-image-input.image-size-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .placeholder-abbreviation.no-photo[_ngcontent-%COMP%]{font-family:var(--crt-headline-3-font-family);font-size:var(--crt-headline-3-font-size);line-height:var(--crt-headline-3-line-height);font-weight:var(--crt-headline-3-font-weight);letter-spacing:var(--crt-headline-3-letter-spacing);text-transform:var(--crt-headline-3-text-transform);-webkit-font-smoothing:antialiased}[_nghost-%COMP%]   .crt-image-input.image-size-extra-large[_ngcontent-%COMP%]{min-height:120px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .image-placeholder[_ngcontent-%COMP%]{min-height:60px}[_nghost-%COMP%]   .crt-image-input.image-size-extra-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]   .placeholder-abbreviation.no-photo[_ngcontent-%COMP%]{font-family:var(--crt-headline-1-font-family);font-size:var(--crt-headline-1-font-size);line-height:var(--crt-headline-1-line-height);font-weight:var(--crt-headline-1-font-weight);letter-spacing:var(--crt-headline-1-letter-spacing);text-transform:var(--crt-headline-1-text-transform);-webkit-font-smoothing:antialiased}[_nghost-%COMP%]   .crt-image-input.image-border-radius-extra-small[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input.image-border-radius-small[_ngcontent-%COMP%]{border-radius:4px}[_nghost-%COMP%]   .crt-image-input.image-border-radius-extra-small[_ngcontent-%COMP%]   .crt-image[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input.image-border-radius-extra-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input.image-border-radius-extra-small[_ngcontent-%COMP%]   .image-input-actions[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input.image-border-radius-small[_ngcontent-%COMP%]   .crt-image[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input.image-border-radius-small[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input.image-border-radius-small[_ngcontent-%COMP%]   .image-input-actions[_ngcontent-%COMP%]{border-radius:4px}[_nghost-%COMP%]   .crt-image-input.image-border-radius-medium[_ngcontent-%COMP%]{border-radius:8px}[_nghost-%COMP%]   .crt-image-input.image-border-radius-medium[_ngcontent-%COMP%]   .crt-image[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input.image-border-radius-medium[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input.image-border-radius-medium[_ngcontent-%COMP%]   .image-input-actions[_ngcontent-%COMP%]{border-radius:8px}[_nghost-%COMP%]   .crt-image-input.image-border-radius-large[_ngcontent-%COMP%]{border-radius:16px}[_nghost-%COMP%]   .crt-image-input.image-border-radius-large[_ngcontent-%COMP%]   .crt-image[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input.image-border-radius-large[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input.image-border-radius-large[_ngcontent-%COMP%]   .image-input-actions[_ngcontent-%COMP%]{border-radius:16px}[_nghost-%COMP%]   .crt-image-input[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input[_ngcontent-%COMP%]   .image-input-actions[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;box-sizing:border-box;border-style:solid}[_nghost-%COMP%]   .crt-image-input[_ngcontent-%COMP%]   .placeholder-wrap[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .crt-image-input[_ngcontent-%COMP%]   .crt-image[_ngcontent-%COMP%]{width:100%;height:100%;display:block;box-sizing:border-box;border-style:solid;padding:2px}[_nghost-%COMP%]   .crt-image-input[_ngcontent-%COMP%]   .crt-image[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none}[_nghost-%COMP%]   .crt-image-input.image-size-extra-small[_ngcontent-%COMP%]   .image-input-actions[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input.image-size-small[_ngcontent-%COMP%]   .image-input-actions[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input.image-size-medium[_ngcontent-%COMP%]   .image-input-actions[_ngcontent-%COMP%]{gap:2px}[_nghost-%COMP%]   .image-input-actions[_ngcontent-%COMP%]{opacity:0;flex-direction:row;gap:8px}[_nghost-%COMP%]   .image-input-actions.actions-vertical[_ngcontent-%COMP%]{flex-direction:column}[_nghost-%COMP%]   .image-input-actions[_ngcontent-%COMP%]   .image-action-icon[_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer}.crt-image-input-focused[_nghost-%COMP%]   .image-input-actions[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-image-input[_ngcontent-%COMP%]:hover   .image-input-actions[_ngcontent-%COMP%]{opacity:1}"]})}};(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Pn.prototype,"imageSelected",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Pn.prototype,"imageClear",void 0),(0,u.__decorate)([(0,J.k)(),gE(),(0,u.__metadata)("design:type",Object)],Pn.prototype,"valueValidationInfo",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Pn.prototype,"alt",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],Pn.prototype,"borderRadius",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Pn.prototype,"size",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Pn.prototype,"placeholderMode",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Pn.prototype,"colorId",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Pn.prototype,"positioning",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Pn.prototype,"customWidth",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Pn.prototype,"customHeight",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Pn.prototype,"customBorderWidth",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number)],Pn.prototype,"maxFileSize",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Pn.prototype,"placeholder",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Pn.prototype,"isFocused",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],Pn.prototype,"value",null),Pn=(0,u.__decorate)([(0,Qt.v)({type:"crt.ImageInput",reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:50,icon:o(70285),defaultPropertyValues:{label:"",value:"",readonly:!1,placeholder:"",labelPosition:"auto",size:ht.Z.Large,borderRadius:ht.Z.Medium,positioning:"cover"},defaultLocalizableStrings:{label:"Components.ImageInput.Caption",ariaLabel:"Components.ImageInput.Caption"}},propertiesPanelComponentTypeName:"crt.ImageInputPropertiesPanelComponent",dataValueTypes:[X.r.IMAGELOOKUP],viewElementGroupType:pn.J.Inputs,typeCaption:"Components.ImageInput.Caption"}),(0,u.__metadata)("design:paramtypes",[t.Injector,t.ChangeDetectorRef,p.DomSanitizer,nc,ac])],Pn);class D1{constructor(e,n,a,i){this._navigationService=e,this._elementRef=n,this._appToolbarLogoConfigService=a,this._restErrorHandler=i;const{imageUrl$:s,backgroundColor$:b}=this._getImageConfig();this.imageUrl$=s,this.underlayColor$=b}_getImageConfig(){const e=this._restErrorHandler.handleRequest(this._appToolbarLogoConfigService.getConfig()).pipe((0,m.share)());return{imageUrl$:e.pipe((0,m.map)(n=>n.imageUrl)),backgroundColor$:e.pipe((0,m.map)(n=>n.underlayColor))}}_onNavigateToDesktopClicked(){this._navigationService.navigate({options:{type:Ai.Schema},state:{moduleName:"Desktop",modelInitConfigs:[{action:void 0}]}})}_subscribeNavigateToDesktopClicked(){this._elementRef.nativeElement.addEventListener("click",e=>{e.stopPropagation(),this._onNavigateToDesktopClicked()},{capture:!0})}ngOnInit(){this._subscribeNavigateToDesktopClicked()}static{this.\u0275fac=function(n){return new(n||D1)(t.\u0275\u0275directiveInject(fo),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(O1),t.\u0275\u0275directiveInject(op.x))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:D1,selectors:[["crt-toolbar-logo"]],decls:6,vars:13,consts:[[1,"toolbar-logo-image-wrapper"],["readonly","true","customHeight","32px","customWidth","auto","borderRadius","none",3,"value","title","alt"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275pipe(1,"async"),t.\u0275\u0275element(2,"crt-image-input",1),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275styleProp("background-color",t.\u0275\u0275pipeBind1(1,5,a.underlayColor$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("value",t.\u0275\u0275pipeBind1(3,7,a.imageUrl$))("title",t.\u0275\u0275pipeBind1(4,9,"AppToolbar.Logo.Title"))("alt",t.\u0275\u0275pipeBind1(5,11,"AppToolbar.Logo.Title")))},dependencies:[Pn,_.AsyncPipe,f.TranslatePipe],styles:[".toolbar-logo-image-wrapper[_ngcontent-%COMP%]{border-radius:4px;cursor:pointer}"],changeDetection:0})}}class A1{constructor(e){this._httpClient=e,this._serviceEndpoint="rest/MainMenuService/"}logout(){const e=this._serviceEndpoint+"Logout";return this._httpClient.post(e,{}).pipe((0,h.map)(n=>({redirectLocation:n.RedirectLocation})))}static{this.\u0275fac=function(n){return new(n||A1)(t.\u0275\u0275inject(l.HttpClient))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:A1,factory:A1.\u0275fac,providedIn:"root"})}}class qm{constructor(e){this._httpClient=e,this._serviceUrl="/rest/SspUserManagementService/"}getExternalOrganization(){const e=this._serviceUrl+"GetSspAccountInfo";return this._httpClient.post(e,{}).pipe((0,m.map)(n=>n?.GetSspAccountInfoResult?.SspAccountId),(0,m.catchError)(()=>(0,m.of)(de.To)))}static{this.\u0275fac=function(n){return new(n||qm)(t.\u0275\u0275inject(l.HttpClient))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:qm,factory:qm.\u0275fac})}}function SE(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"img",6),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("src",n.getPhotoUrl(),t.\u0275\u0275sanitizeUrl)}}function wE(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span",7),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("background",n.getColor()),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.getInitials())}}class L1 extends Jo{constructor(e,n,a,i,s,b,D,W,ot){super(e,n),this._mainMenuService=a,this._navigationService=i,this._window=s,this._contactColorService=b,this._initialsService=D,this._userInfo=W,this._externalOrganizationService=ot,this._menuItems=[{caption:this.translate("AppToolbar.UserProfile.MenuItems.Profile"),icon:"person-button-icon",handleItemClick:()=>this._goToUserProfile(),type:"crt.MenuItem"},{caption:this.translate("AppToolbar.UserProfile.MenuItems.Logout"),icon:"go-out-icon",handleItemClick:()=>this._goToLogout(),type:"crt.MenuItem"}],this.contact={displayValue:this._userInfo.contactName,value:this._userInfo.contactId,primaryImageValue:this._userInfo.photoId}}_goToUserProfile(){var e=this;return(0,bt.A)(function*(){yield e._navigationService.navigate({mode:Ui.Push,options:{type:Ai.Schema,schemaName:"SysUserProfilePage"}})})()}_replaceWindowLocation(e){this._window.location.replace(e)}_logout(e){let a=(0,x.cI)()+"?simpleLogin";e&&e.redirectLocation&&(a=e.redirectLocation),this._replaceWindowLocation(a)}_goToLogout(){this._mainMenuService.logout().pipe((0,m.takeUntil)(this.destroyed$)).subscribe(e=>this._logout(e))}_goToExternalOrganization(e){var n=this;return(0,bt.A)(function*(){yield n._navigationService.navigate({mode:Ui.Push,options:{type:Ai.Entity,action:Xo.Edit,entityPageName:"SspAccountProfilePage",entityName:"Account",recordId:e}})})()}_initializeExternalOrganizationMenuItem(){return this._externalOrganizationService.getExternalOrganization().pipe((0,m.map)(e=>{if(!(0,de.gZ)(e)){const n={caption:this.translate("AppToolbar.UserProfile.MenuItems.OrganizationProfile"),icon:"organization-profile",handleItemClick:()=>this._goToExternalOrganization(e),type:"crt.MenuItem"};this._menuItems.splice(1,0,n),this._menuItems=[...this._menuItems]}}))}getTitle(){return this.translate("AppToolbar.UserProfile.Title")}initialize(){return this._userInfo.isSSP?this._initializeExternalOrganizationMenuItem():(0,m.of)()}getColor(){return this._contactColorService.getNextColor(this.contact.value)}hasPhoto(){return this.contact.primaryImageValue&&!(0,de.gZ)(this.contact.primaryImageValue)}getPhotoUrl(){return this.hasPhoto()?(0,Zo.Mc)(this.contact.primaryImageValue):""}getInitials(){return this.contact?this._initialsService.getInitials(this.contact.displayValue):""}get menuItems(){return this._menuItems}static{this.\u0275fac=function(n){return new(n||L1)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(A1),t.\u0275\u0275directiveInject(fo),t.\u0275\u0275directiveInject(E.ZP),t.\u0275\u0275directiveInject(nc),t.\u0275\u0275directiveInject(ac),t.\u0275\u0275directiveInject(Ze.oq),t.\u0275\u0275directiveInject(qm))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:L1,selectors:[["crt-user-profile-button"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:7,vars:6,consts:[["noPhoto",""],["menu",""],["size","medium","displayType","text","role","none",1,"user-profile-button","double-border",3,"crtMenuTriggerFor","title"],[4,"ngIf","ngIfElse"],[1,"menuItem"],[3,"items","useGlassmorphism"],["alt","Contact photo",1,"contact-photo",3,"src"],[1,"contact-photo","no-photo"]],template:function(n,a){if(n&1&&(t.\u0275\u0275elementStart(0,"crt-button",2),t.\u0275\u0275template(1,SE,2,1,"ng-container",3)(2,wE,2,3,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",4),t.\u0275\u0275element(5,"crt-menu",5,1),t.\u0275\u0275elementEnd()),n&2){const i=t.\u0275\u0275reference(3),s=t.\u0275\u0275reference(6);t.\u0275\u0275property("crtMenuTriggerFor",s)("title",a.title),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.hasPhoto())("ngIfElse",i),t.\u0275\u0275advance(4),t.\u0275\u0275property("items",a.menuItems)("useGlassmorphism",!0)}},dependencies:[_.NgIf,Jt,Ua,ri],styles:['body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{--button-border-radius: 50%}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{--crt-button-default-contrast-color: var(--crt-palette-navigation-primary-A100);--crt-button-default-hover-color: rgba(255, 255, 255, .1);cursor:pointer}.user-profile-button[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}.user-profile-button[_ngcontent-%COMP%]     .crt-button:focus-visible, .user-profile-button[_ngcontent-%COMP%]     .crt-button.cdk-keyboard-focused{box-shadow:none}.user-profile-button[_ngcontent-%COMP%]     .crt-button:focus-visible:after, .user-profile-button[_ngcontent-%COMP%]     .crt-button.cdk-keyboard-focused:after{content:"";position:absolute;inset:-4px;border-radius:50%;box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none}.user-profile-button[_ngcontent-%COMP%]   .contact-photo[_ngcontent-%COMP%]{border-radius:50%;width:24px;height:24px}.user-profile-button[_ngcontent-%COMP%]   .contact-photo.no-photo[_ngcontent-%COMP%]{font-family:var(--crt-headline-5-font-family);font-size:var(--crt-headline-5-font-size);line-height:var(--crt-headline-5-line-height);font-weight:var(--crt-headline-5-font-weight);letter-spacing:var(--crt-headline-5-letter-spacing);text-transform:var(--crt-headline-5-text-transform);-webkit-font-smoothing:antialiased;text-align:center;line-height:24px;display:inline-block;min-width:24px;min-height:24px;color:#fff}.double-border[_ngcontent-%COMP%]{position:relative;border:1px solid #0d2e4e;border-radius:50%}.double-border[_ngcontent-%COMP%]:before, .double-border[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;border-radius:50%}.double-border[_ngcontent-%COMP%]:before{border:1px solid #e7e7e7;z-index:1}.double-border[_ngcontent-%COMP%]:after{border:1px solid #0d2e4e;z-index:0}'],changeDetection:0})}}class k1 extends Jo{constructor(e,n,a){super(e,n),this._window=a}getTitle(){return this.translate("AppToolbar.WorkspaceExplorer.Title")}goToWorkspaceExplorer(){this._window.open((0,x.uJ)((0,x.cI)(),"dev"),"WorkspaceExplorer")}static{this.\u0275fac=function(n){return new(n||k1)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(E.ZP))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:k1,selectors:[["crt-workspace-explorer-button"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:2,consts:[["size","extra-large","textTransform","none",3,"clicked","title","ariaLabel"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"crt-button",0),t.\u0275\u0275listener("clicked",function(){return a.goToWorkspaceExplorer()}),t.\u0275\u0275text(1,"/dev"),t.\u0275\u0275elementEnd()),n&2&&t.\u0275\u0275property("title",a.title)("ariaLabel",a.title)},dependencies:[Jt],styles:["[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{--crt-button-default-contrast-color: var(--crt-palette-navigation-primary-A100);--crt-button-default-hover-color: rgba(255, 255, 255, .2);--crt-button-default-pressed-color: rgba(255, 255, 255, .3)}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]     button{padding:0 10px!important}"],changeDetection:0})}}var dp;(function(r){r.FromDate="timer-from-date",r.CountdownToDate="countdown-to-specific-date",r.Stopwatch="stopwatch"})(dp||(dp={}));class pp{constructor(e){this._userInfo=e}_getCurrentDateWithProfileTimezone(){const e=new Date;return cm()().add(this._userInfo.timeZoneOffsetHours,"hours").add(e.getTimezoneOffset(),"minutes")}calculateDateDiff(e){return e?this._getCurrentDateWithProfileTimezone().diff(e):0}static{this.\u0275fac=function(n){return new(n||pp)(t.\u0275\u0275inject(Ze.oq))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:pp,factory:pp.\u0275fac,providedIn:"root"})}}class R1{getCaptionColor(e,n){return n.positiveTextColor}static{this.\u0275fac=function(n){return new(n||R1)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:R1,factory:R1.\u0275fac,providedIn:"root"})}}var $U=7,EE=365.2425,TE=Math.pow(10,8)*24*60*60*1e3,t6=6e4,KU=36e5,PE=1e3,ZU=-TE,QU=60,YU=3,JU=12,XU=4,OE=3600,qU=60,e6=OE*24,tH=e6*7,DE=e6*EE,AE=DE/12,eH=AE*3;class tg{constructor(){this._maxMinutesValue=999,this._maxMinutesTemplate="...",this._maxValueForNormalization=10}_getDisplayValue(e){const n=Math.floor(e/t6);if(n>this._maxMinutesValue)return this._maxMinutesTemplate;const a=Math.floor((e-n*t6)/PE),i=[""];return this._addNormalizedTemplatePart(n,i),this._addTemplatePart(i,"{0}:"),this._addNormalizedTemplatePart(a,i),this._addTemplatePart(i,"{1}"),jt.String.format(i.join(""),n,a)}_addTemplatePart(e,n){e.push(n)}_addNormalizedTemplatePart(e,n){e<this._maxValueForNormalization&&n.push("0")}transform(e){return e<0?"":this._getDisplayValue(e)}static{this.\u0275fac=function(n){return new(n||tg)}}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"stopwatchDateTimeFormat",type:tg,pure:!0})}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:tg,factory:tg.\u0275fac,providedIn:"root"})}}class N1{constructor(e){this._secondsTimerDateTimeFormat=e}format(e){return this._secondsTimerDateTimeFormat.transform(e)}static{this.\u0275fac=function(n){return new(n||N1)(t.\u0275\u0275inject(tg))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:N1,factory:N1.\u0275fac,providedIn:"root"})}}class V1{constructor(e,n,a){this._timerDiffFromNowCalculator=e,this._stopwatchColorProvider=n,this._stopwatchValueFormatter=a}getDiffCalculator(){return this._timerDiffFromNowCalculator}getTimerColorProvider(){return this._stopwatchColorProvider}getValueFormatter(){return this._stopwatchValueFormatter}static{this.\u0275fac=function(n){return new(n||V1)(t.\u0275\u0275inject(pp),t.\u0275\u0275inject(R1),t.\u0275\u0275inject(N1))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:V1,factory:V1.\u0275fac,providedIn:"root"})}}class F1{getCaptionColor(e,n){return!e||!n.showNegativeValue?n.positiveTextColor:e>0?n.negativeTextColor:n.positiveTextColor}static{this.\u0275fac=function(n){return new(n||F1)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:F1,factory:F1.\u0275fac,providedIn:"root"})}}class j1{constructor(e,n){this._timerDatePipe=e,this._translateService=n}_getTextValueByMacros(e,n){return e&&e.includes(n)?e.replace(n,"{0}"):null}_getCaptionTplWithoutNegativeValues(e,n){const a=this._getTextValueByMacros(n.positiveTextValue,n.timerMacros);return a||(e>0?this._translateService.instant("Timer.timeIsUpTpl"):this._translateService.instant("Timer.timeLeftTpl"))}_getCaptionTplWithNegativeValues(e,n){return e>0?this._getTextValueByMacros(n.negativeTextValue,n.timerMacros)??this._translateService.instant("Timer.overdueTpl"):this._getTextValueByMacros(n.positiveTextValue,n.timerMacros)??this._translateService.instant("Timer.timeLeftTpl")}format(e,n){let a=this._timerDatePipe.transform(Math.abs(e));(0,y.isEmpty)(a)&&(a=this._translateService.instant("Timer.dateNotSet"));const i=n.showNegativeValue?this._getCaptionTplWithNegativeValues(e,n):this._getCaptionTplWithoutNegativeValues(e,n);return jt.String.format(i,a)}static{this.\u0275fac=function(n){return new(n||j1)(t.\u0275\u0275inject(ho),t.\u0275\u0275inject(f.TranslateService))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:j1,factory:j1.\u0275fac,providedIn:"root"})}}class B1{constructor(e,n,a){this._timerDiffFromNowCalculator=e,this._timerCountdownToDateColorProvider=n,this._timerDiffFromNowValueFormatter=a}getDiffCalculator(){return this._timerDiffFromNowCalculator}getTimerColorProvider(){return this._timerCountdownToDateColorProvider}getValueFormatter(){return this._timerDiffFromNowValueFormatter}static{this.\u0275fac=function(n){return new(n||B1)(t.\u0275\u0275inject(pp),t.\u0275\u0275inject(F1),t.\u0275\u0275inject(j1))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:B1,factory:B1.\u0275fac,providedIn:"root"})}}class z1{getCaptionColor(e,n){return!e||!n.showNegativeValue||e>0?n.positiveTextColor:n.negativeTextColor}static{this.\u0275fac=function(n){return new(n||z1)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:z1,factory:z1.\u0275fac,providedIn:"root"})}}class U1{constructor(e,n){this._timerDatePipe=e,this._translateService=n}_getTextValueByMacros(e,n){return e&&e.includes(n)?e.replace(n,"{0}"):null}_getCaptionTplWithoutNegativeValues(e,n){const a=this._getTextValueByMacros(n.positiveTextValue,n.timerMacros);return a||(!e||e>0?this._translateService.instant("Timer.timePassedTpl"):this._translateService.instant("Timer.waitingForStartDateTpl"))}_getCaptionTplWithNegativeValues(e,n){return!e||e>0?this._getTextValueByMacros(n.positiveTextValue,n.timerMacros)??this._translateService.instant("Timer.timePassedTpl"):this._getTextValueByMacros(n.negativeTextValue,n.timerMacros)??this._translateService.instant("Timer.timeBeforeCountStartTpl")}format(e,n){let a=this._timerDatePipe.transform(Math.abs(e));(0,y.isEmpty)(a)&&(a=this._translateService.instant("Timer.dateNotSet"));const i=n.showNegativeValue?this._getCaptionTplWithNegativeValues(e,n):this._getCaptionTplWithoutNegativeValues(e,n);return jt.String.format(i,a)}static{this.\u0275fac=function(n){return new(n||U1)(t.\u0275\u0275inject(ho),t.\u0275\u0275inject(f.TranslateService))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:U1,factory:U1.\u0275fac,providedIn:"root"})}}class H1{constructor(e,n,a){this._timerDiffFromNowCalculator=e,this._timerFromDateColorProvider=n,this._timerDiffFromDateValueFormatter=a}getDiffCalculator(){return this._timerDiffFromNowCalculator}getTimerColorProvider(){return this._timerFromDateColorProvider}getValueFormatter(){return this._timerDiffFromDateValueFormatter}static{this.\u0275fac=function(n){return new(n||H1)(t.\u0275\u0275inject(pp),t.\u0275\u0275inject(z1),t.\u0275\u0275inject(U1))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:H1,factory:H1.\u0275fac,providedIn:"root"})}}class eg{constructor(e){this._injector=e}createFactory(e){return e===dp.Stopwatch?this._injector.get(V1):e===dp.FromDate?this._injector.get(H1):this._injector.get(B1)}static{this.\u0275fac=function(n){return new(n||eg)(t.\u0275\u0275inject(t.Injector))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:eg,factory:eg.\u0275fac,providedIn:"root"})}}const LE=["*"];function kE(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",3),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function RE(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function NE(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"h1",8),t.\u0275\u0275template(1,RE,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function VE(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function FE(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"h2",8),t.\u0275\u0275template(1,VE,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function jE(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function BE(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"h3",8),t.\u0275\u0275template(1,jE,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function zE(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function UE(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"h4",8),t.\u0275\u0275template(1,zE,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function HE(r,e){r&1&&t.\u0275\u0275element(0,"mat-icon",11)}function WE(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function GE(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"label",8),t.\u0275\u0275template(1,HE,1,0,"mat-icon",10)(2,WE,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass+" timer-label"),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing)("color",a.labelColor),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.timerType!=="stopwatch"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function $E(r,e){r&1&&t.\u0275\u0275projection(0)}function KE(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",4),t.\u0275\u0275elementContainerStart(1,5),t.\u0275\u0275template(2,NE,2,18,"h1",6)(3,FE,2,18,"h2",6)(4,BE,2,18,"h3",6)(5,UE,2,18,"h4",6)(6,GE,3,21,"label",7)(7,$E,1,0,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275classMap("crt-label "+n.labelThickness),t.\u0275\u0275styleProp("color",n.labelColor)("background-color",n.labelBackgroundColor)("text-align",n.labelTextAlign)("align-content",n.labelTextAlign)("justify-content",n.labelTextAlign)("margin",n.labelMargin)("text-transform",n.labelTextTransform),t.\u0275\u0275property("tooltipConfig",n.getTooltip()),t.\u0275\u0275attribute("required",n.required),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitch",n.headingLevel),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","h1"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","h2"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","h3"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","h4")}}let cr=class t4 extends hn{set timerType(e){this._timerType=e;const n=this._factoryCreator.createFactory(this._timerType);this._timerDiffCalculator=n.getDiffCalculator(),this._valueFormatter=n.getValueFormatter(),this._colorProvider=n.getTimerColorProvider(),this._calculateDateDiff(),this._setProperties()}get timerType(){return this._timerType}get positiveTextColor(){return this._positiveTextColorValue}set positiveTextColor(e){this._positiveTextColorValue=e,this.labelColor=e}constructor(e,n,a,i){super(i),this._timerDatePipe=e,this._translateService=n,this._factoryCreator=a,this._timerMacros="[#timer#]"}set control(e){this._timerValue=e,this._calculateDateDiff(),this._setProperties()}_calculateDateDiff(){this._dateDiff=this._timerDiffCalculator.calculateDateDiff(this._timerValue)}_setProperties(){this._setCaption(),this._setColor()}_setCaption(){this.caption=this._valueFormatter.format(this._dateDiff,{showNegativeValue:this.showNegativeCountDownValue,negativeTextValue:this.negativeTextValue,positiveTextValue:this.positiveTextValue,timerMacros:this._timerMacros})}_setColor(){this.labelColor=this._colorProvider.getCaptionColor(this._dateDiff,{showNegativeValue:this.showNegativeCountDownValue,negativeTextColor:this.negativeTextColor,positiveTextColor:this.positiveTextColor})}ngOnInit(){this._timerType===dp.Stopwatch&&(this._timerTickSubscription=(0,m.timer)(0,1e3).subscribe(()=>{this._calculateDateDiff(),this._setProperties(),this.detectChanges()}))}ngOnChanges(e){!e.showNegativeCountDownValue&&!e.timerType||this._setProperties()}ngOnDestroy(){this._timerTickSubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||t4)(t.\u0275\u0275directiveInject(ho),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(eg),t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:t4,selectors:[["crt-timer"]],inputs:{timerType:"timerType",showNegativeCountDownValue:"showNegativeCountDownValue",negativeTextColor:"negativeTextColor",positiveTextColor:"positiveTextColor",positiveTextValue:"positiveTextValue",negativeTextValue:"negativeTextValue",control:"control"},features:[t.\u0275\u0275ProvidersFeature([Oi.I]),t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature],ngContentSelectors:LE,decls:3,vars:2,consts:[["label_template",""],["content",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],["crtTooltip","",3,"tooltipConfig"],[3,"ngSwitch"],[3,"class","ellipsis","font-size","font-family","height","line-height","letter-spacing","ngStyle",4,"ngSwitchCase"],[3,"class","ellipsis","font-size","font-family","height","line-height","letter-spacing","ngStyle","color",4,"ngSwitchDefault"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["class","timer-clock-icon","svgIcon","timer-clock-icon",4,"ngIf"],["svgIcon","timer-clock-icon",1,"timer-clock-icon"]],template:function(n,a){if(n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,kE,1,1,"crt-skeleton-loader",2)(1,KE,9,24,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.loaderVisible)("ngIfElse",i)}},dependencies:[yn.W,_.NgIf,_.NgStyle,_.NgSwitch,_.NgSwitchCase,_.NgSwitchDefault,_t.MatIcon,na.d],styles:[`@charset "UTF-8";:host{display:block}.crt-label.light>*{font-weight:300}.crt-label.normal>*{font-weight:400}.crt-label.semibold>*{font-weight:600}.crt-label.bold>*{font-weight:700}.crt-label.default{font-weight:unset}.crt-label h1,.crt-label h2,.crt-label h3,.crt-label h4,.crt-label label{margin:0}.crt-label .ellipsis{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:block}.crt-label:first-child[required]{display:flex}.crt-label:first-child[required]:after{content:"\\a0*"}
`,`.timer-label{display:inline-flex}.timer-label .timer-clock-icon{display:flex;align-self:center;margin-top:0;margin-inline-end:2px;height:.99em;width:.99em;min-width:.99em}
`],encapsulation:2})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],cr.prototype,"timerType",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],cr.prototype,"showNegativeCountDownValue",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],cr.prototype,"negativeTextColor",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],cr.prototype,"positiveTextColor",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],cr.prototype,"positiveTextValue",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],cr.prototype,"negativeTextValue",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],cr.prototype,"control",null),cr=(0,u.__decorate)([(0,Qt.v)({type:"crt.Timer",reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:270,icon:o(60306),defaultPropertyValues:{caption:"Timer",labelType:"body",labelThickness:"normal",labelEllipsis:!1,labelColor:"#0B8500",labelBackgroundColor:"transparent",labelTextAlign:"start",timerType:dp.FromDate,showNegativeCountDownValue:!0,negativeTextColor:"#D2310D",positiveTextColor:"#0B8500",positiveTextValue:"",negativeTextValue:""},defaultLocalizableStrings:{caption:"DataValueType.TimerCaption",label:"DataValueType.TimerCaption"}},propertiesPanelComponentTypeName:"crt.TimerPropertiesPanel",viewElementGroupType:pn.J.Components,typeCaption:"DataValueType.TimerCaption",dataValueTypes:[X.r.Date,X.r.Time,X.r.DateTime],placeholderSize:{height:"20px"}}),(0,u.__metadata)("design:paramtypes",[ho,f.TranslateService,eg,t.Injector])],cr);function ZE(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",1),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onButtonClicked())}),t.\u0275\u0275element(1,"crt-timer",2)(2,"mat-icon",3),t.\u0275\u0275elementStart(3,"div",4),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("icon",n.communicationItemInfo.primaryImageValue)("iconPosition","left-icon")("useGlassmorphism",!0)("size","medium")("iconSize","extra-large")("tsDataItemMarker",n.communicationItemInfo.displayValue),t.\u0275\u0275advance(),t.\u0275\u0275property("timerType",n.timerType)("control",n.communicationItemInfo.communicationStartedOn)("tsDataItemMarker","communication-timer-data-marker"),t.\u0275\u0275advance(),t.\u0275\u0275property("svgIcon","timer-icon"),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.communicationItemInfo.displayValue)}}class W1{constructor(){this.clicked=new t.EventEmitter,this.timerType=dp.Stopwatch}onButtonClicked(){this.clicked.emit(this.communicationItemInfo)}static{this.\u0275fac=function(n){return new(n||W1)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:W1,selectors:[["crt-communication-indicator"]],inputs:{communicationItemInfo:"communicationItemInfo"},outputs:{clicked:"clicked"},decls:1,vars:1,consts:[[3,"icon","iconPosition","useGlassmorphism","size","iconSize","tsDataItemMarker","clicked",4,"ngIf"],[3,"clicked","icon","iconPosition","useGlassmorphism","size","iconSize","tsDataItemMarker"],[1,"communication-timer",3,"timerType","control","tsDataItemMarker"],[1,"timer-icon",3,"svgIcon"],[1,"communication-indicator-displayValue"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,ZE,5,11,"crt-button",0),n&2&&t.\u0275\u0275property("ngIf",a.communicationItemInfo)},dependencies:[_.NgIf,Jt,Hn,_t.MatIcon,cr],styles:["[_nghost-%COMP%]{--button-border-radius: 12px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{--crt-button-default-contrast-color: var(--crt-palette-navigation-primary-A100);--crt-button-default-color: rgba(255, 255, 255, .1);--crt-button-default-hover-color: rgba(255, 255, 255, .1);--crt-button-default-pressed-color: rgba(255, 255, 255, .1)}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]   .timer-icon[_ngcontent-%COMP%]{width:14px;height:14px;margin-left:4px}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]   .communication-indicator-displayValue[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;max-width:193px}"]})}}var ll=o(80775);class G1{constructor(e){this._httpClient=e,this._serviceUrl="api/ConfigurationStatus/"}getConfigurationStatusReport(){const e=this._serviceUrl+"GetConfigurationStatusReport";return this._httpClient.get(e)}getLastCompilationResult(){const e=this._serviceUrl+"GetLastCompilationResult";return this._httpClient.get(e)}static{this.\u0275fac=function(n){return new(n||G1)(t.\u0275\u0275inject(l.HttpClient))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:G1,factory:G1.\u0275fac,providedIn:"root"})}}function QE(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",2,0),t.\u0275\u0275listener("clicked",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275reference(1);return t.\u0275\u0275resetView(s.show(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("icon","license-warning")("iconPosition","left-icon")("useGlassmorphism",!0)("size","medium")("title",n.title)("ariaLabel",n.title)("caption",n.title)("iconSize","large")("tooltipConfig",n.tooltipConfig)}}class $1 extends Jo{constructor(e,n,a){super(e,n),this.confStatusService=a,this.tooltipConfig=new Bo.I({showEvent:"click",tooltipConfig:{value:""},preferredPositions:[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}],componentType:ll.x})}_updateTooltipConfig(e){if(!e||e.length===0)return;let n="";const a=(0,x.uJ)((0,x.cI)(),"dev"),i=this.translate("AppToolbar.ConfigurationErrorsButton.WorkspaceExplorerTemplate"),s="{0}<br/>";e.forEach(b=>{n+=jt.String.format(s,b)}),n+=jt.String.format(i,a),this.tooltipConfig={...this.tooltipConfig,tooltipConfig:{value:n}}}_setHiddenProperty(){return this.hidden=!0,this.confStatusService.getConfigurationStatusReport().pipe((0,m.tap)(e=>{this._updateTooltipConfig(e.errorMessages)}),(0,m.map)(e=>{this.hidden=!e||e.isValid}),(0,m.catchError)(()=>(this.hidden=!0,(0,m.of)(void 0))))}getTitle(){return this.translate("AppToolbar.ConfigurationErrorsButton.Title")}initialize(){return this._setHiddenProperty()}static{this.\u0275fac=function(n){return new(n||$1)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(G1))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:$1,selectors:[["crt-configuration-errors-button"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["tooltip","crtTooltip"],["crtTooltip","",3,"icon","iconPosition","useGlassmorphism","size","title","ariaLabel","caption","iconSize","tooltipConfig","clicked",4,"ngIf"],["crtTooltip","",3,"clicked","icon","iconPosition","useGlassmorphism","size","title","ariaLabel","caption","iconSize","tooltipConfig"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,QE,2,9,"crt-button",1),n&2&&t.\u0275\u0275property("ngIf",!a.hidden)},dependencies:[_.NgIf,Jt,na.d],styles:["[_nghost-%COMP%]{--button-border-radius: 24px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{--crt-button-default-contrast-color: var(--crt-palette-navigation-primary-A100);--crt-button-default-color: rgba(210, 49, 13, 1);--crt-button-default-hover-color: rgba(182, 19, 3, 1);--crt-button-default-pressed-color: rgba(210, 49, 13, 1)}"],changeDetection:0})}}const YE=new t.InjectionToken("CRT_UNAVAILABLE_LICENSE");var qy=o(5240),t2=o(66486);let e2=class Rb extends t2.t{constructor(){super(...arguments),this._destroyed$=new m.Subject,this._messageChannelService=(0,t.inject)(qy.A),this.serviceEndpoint="ServiceModel/LicenseService.svc",this.getLicenseOperationStatuses=e=>this._getLicenseOperationStatuses(e,"GetLicOperationStatuses","GetLicOperationStatusesResult"),this.getExplicitLicenseOperationStatuses=e=>this._getLicenseOperationStatuses(e,"GetExplicitLicOperationStatuses","GetExplicitLicOperationStatusesResult"),this.loadLicenseOperationStatuses=e=>this._getLicenseOperationStatuses(e,"GetExplicitLicOperationStatuses","GetExplicitLicOperationStatusesResult")}_getLicenseOperationStatuses(e,n,a){return e?.length?this.executePostRequestWithCache(n,{licOperationCodes:e}).pipe((0,m.map)(i=>i?.[a]),(0,m.map)(i=>i?.success?i.licOperationStatuses.reduce((s,b)=>(s[b.Key]=b.Value,s),{}):{})):(0,m.of)({})}listenUnavailableLicenseInfo(){return this._messageChannelService.messageEvent$.pipe((0,m.filter)(e=>e.header.sender==="UnavailableLicenseEventNotifier"),(0,m.map)(e=>e.body),(0,m.takeUntil)(this._destroyed$))}getUnavailableLicenseInfo(){const e=this.serviceEndpoint+"/GetUnavailableLicOperations";return this.httpClient.post(e,null).pipe((0,m.map)(n=>n&&n.success?n.unavailableLicOperationsInfo:null),(0,h.catchError)(()=>(0,m.of)(null)))}ngOnDestroy(){this._destroyed$.next()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Rb)))(a||Rb)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Rb,factory:Rb.\u0275fac,providedIn:"root"})}};e2=(0,u.__decorate)([(0,E.op)({requestType:"crt.LicenseService"})],e2);function JE(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",2,0),t.\u0275\u0275listener("clicked",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275reference(1);return t.\u0275\u0275resetView(s.show(i))}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("icon","license-warning")("iconPosition","left-icon")("useGlassmorphism",!0)("size","medium")("iconSize","extra-large")("tsDataItemMarker","license-indicator")("tooltipConfig",n.tooltipConfig),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,8,"LicenseIndicator.Title"),`
`)}}class K1{constructor(){this.unavailableLicenseInfo=(0,t.inject)(YE),this.licenseService=(0,t.inject)(e2),this.changeDetectorRef=(0,t.inject)(t.ChangeDetectorRef),this.tooltipConfig=new Bo.I({showEvent:"click",tooltipConfig:{value:this.unavailableLicenseInfo?.userMessage},preferredPositions:[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}],componentType:ll.x})}_updateTooltipConfig(e){this.tooltipConfig={...this.tooltipConfig,tooltipConfig:{value:e}}}isMessageExists(){return this.unavailableLicenseInfo?.userMessage&&this.unavailableLicenseInfo?.userMessage!==""}ngOnInit(){this._unavailableLicenseInfoSubscription=this.licenseService.listenUnavailableLicenseInfo().subscribe(e=>{this.unavailableLicenseInfo=e,this._updateTooltipConfig(e?.userMessage??""),this.changeDetectorRef.detectChanges()})}ngOnDestroy(){this._unavailableLicenseInfoSubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||K1)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:K1,selectors:[["crt-license-indicator"]],decls:1,vars:1,consts:[["tooltip","crtTooltip"],["crtTooltip","","tabIndex","0",3,"icon","iconPosition","useGlassmorphism","size","iconSize","tsDataItemMarker","tooltipConfig","clicked",4,"ngIf"],["crtTooltip","","tabIndex","0",3,"clicked","icon","iconPosition","useGlassmorphism","size","iconSize","tsDataItemMarker","tooltipConfig"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,JE,4,10,"crt-button",1),n&2&&t.\u0275\u0275property("ngIf",a.isMessageExists())},dependencies:[_.NgIf,Jt,Hn,na.d,f.TranslatePipe],styles:["[_nghost-%COMP%]{--button-border-radius: 12px;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{--crt-button-default-contrast-color: var(--crt-palette-navigation-primary-A100);--crt-button-default-color: rgba(255, 255, 255, .1);--crt-button-default-hover-color: rgba(255, 255, 255, .1);--crt-button-default-pressed-color: rgba(255, 255, 255, .1)}"],changeDetection:0})}}class Z1 extends Aw{constructor(e,n){super(),this._navigationService=e,this._window=n}getContextCode(){const e=this._navigationService.getActiveRouteInfo();return(0,y.get)(this._window,"Terrasoft.moduleName")||e.schemaName||e.moduleName}static{this.\u0275fac=function(n){return new(n||Z1)(t.\u0275\u0275inject(fo),t.\u0275\u0275inject(E.ZP))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Z1,factory:Z1.\u0275fac})}}var up=o(73686),XE=o(78809);class mp extends Sd.g{set items(e){this._items=e,this.itemsChanged()}get items(){return this._items}set value(e){this._value!==e&&(this._value=e)}get value(){return this._value}constructor(e,n){super(e,null,n),this.valueChange=new t.EventEmitter}itemsChanged(){}static{this.\u0275fac=function(n){return new(n||mp)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:mp,inputs:{items:"items",value:"value"},outputs:{valueChange:"valueChange"},features:[t.\u0275\u0275InheritDefinitionFeature]})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],mp.prototype,"items",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],mp.prototype,"value",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],mp.prototype,"valueChange",void 0);class qE{_getSelectedValue(e,n){let a;return e?.value&&n&&(a=n.find(i=>i.value===e.value)),a??{}}_updateItemBindings(e,n){const{value:a,displayValue:i,icon:s,iconPosition:b}=this._getSelectedValue(e.value,e.items),D=this._getUpdatedMenuItems(n,a);Object.entries({value:a,displayValue:i,icon:s,iconPosition:b,menuItems:D}).forEach(([ot,It])=>n.setPropertyValue(ot,It))}_getUpdatedMenuItems(e,n){return(e.getPropertyValue("menuItems")||[]).map(i=>({...i,selected:n===i.value}))}getViewElementItems(e){const{size:n,iconSize:a,contentAlign:i,value:s,items:b}=e,{value:D,displayValue:W,icon:ot,iconPosition:It}=this._getSelectedValue(s,b);return[{type:"crt.ButtonToggleGroupItem",size:n,iconSize:a,contentAlign:i,menuButtonsMode:!0,displayValue:W,value:D,icon:ot,iconPosition:It,pressed:null,clickMode:"menu",displayMenuIcon:!0,shape:"default",menuItems:b?.map(Pt=>({...Pt,type:"crt.MenuItem",caption:Pt.displayValue,selected:D===Pt.value,handleItemClick:()=>{e.handleToggleItemClickQueue([Pt])}}))}]}setItemsOnValueChanged(e){const n=e.viewElementDirectives?.get(0)?.componentRef;e.viewElementItems?.length&&n?this._updateItemBindings(e,n):e.itemsChanged()}setPressedToggleGroupItem(e,n){}}class tT{getViewElementItems(e){const{size:n,iconSize:a,contentAlign:i,innerToggleBadgeConfig:s,menuButtonsMode:b}=e;return e.items?.map(D=>({...D,type:"crt.ButtonToggleGroupItem",size:n,iconSize:a,contentAlign:i,badgeConfig:s,menuButtonsMode:b}))}setItemsOnValueChanged(e){}setPressedToggleGroupItem(e,n){e.componentRef?.setPropertyValue("pressed",n)}}function n6(){return{dropdown:new qE,button:new tT}}const a6=new t.InjectionToken("VIEW_MODE_STRATEGY_MAP",{factory:n6}),eT=["btnToggleGroup"];function nT(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",3),t.\u0275\u0275elementContainer(1,4),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit,a=e.index,i=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("before-selected",i.isItemBeforeSelected(n.value))("selected",i.isItemSelected(n.value))("after-selected",i.isItemFirstAfterSelected(n.value)),t.\u0275\u0275property("tsDataItemMarker",n.tooltipTitle),t.\u0275\u0275attribute("data-qa","button-toggle-"+a),t.\u0275\u0275advance(),t.\u0275\u0275property("crtViewElement",n)}}const i6={gap:ht.Z.Small};let ha=class e4 extends mp{set badgeConfig(e){e&&(this.innerToggleBadgeConfig={...e,offset:e.offset??this._defBadgeOffset},this.detectChanges())}set direction(e){const n=this._btnToggleGroup?.nativeElement;if(this._direction=e,!n){this._isDirectionInitialized=!1;return}this._changeDirection()}set gap(e){e??=i6.gap,this._gap=e,this.setGap(e)}set contentAlign(e){this._contentAlign=e}get contentAlign(){return this._contentAlign??"start"}get isGapInitialized(){return this._isGapInitialized}set isGapInitialized(e){this._isGapInitialized=e}set disabled(e){super.disabled=e}set value(e){super.value=e,this._setSelectedToggleGroupItem(),this._viewModeStrategy.setItemsOnValueChanged(this)}get value(){return super.value}set toggleViewMode(e){this._toggleViewMode=e,this._viewModeStrategy=this._viewModeStrategyMap[e],this.viewElementItems=this._viewModeStrategy.getViewElementItems(this)}get toggleViewMode(){return this._toggleViewMode}constructor(e,n){super(e,n),this._toggleItemClick$=new m.Subject,this._debounceTime=250,this._isGapInitialized=!1,this._gap=i6.gap,this._direction=void 0,this._isDirectionInitialized=!1,this._defBadgeOffset=-4,this._itemsSubscription=new m.Subscription,this._changesSubscription=new m.Subscription,this._toggleViewMode="button",this.innerToggleBadgeConfig={color:"primary",offset:this._defBadgeOffset},this.menuButtonsMode=!1,this.size=ht.Z.Medium,this.iconSize=ht.Z.Large,this.allowUntoggle=!0,this.fitContent=!0,this._viewModeStrategyMap=this.injector.get(a6),this._viewModeStrategy=this._viewModeStrategyMap[this._toggleViewMode],this._renderer=this.injector.get(t.Renderer2),this._subscribeToggleItemClick()}_changeDirection(){this._direction==="column"?this._renderer.addClass(this._btnToggleGroup?.nativeElement,"column-direction"):this._renderer.removeClass(this._btnToggleGroup?.nativeElement,"column-direction"),this._isDirectionInitialized=!0}_removeGapStyles(e){this._renderer.removeStyle(e,"gap");for(const n of Object.values(ht.Z)){const a=`gap-${n.toLowerCase()}`;this._renderer.removeClass(e,a)}}_subscribeToggleItemClick(){this._toggleItemClick$.pipe((0,h.buffer)(this._toggleItemClick$.pipe((0,h.debounceTime)(this._debounceTime))),(0,h.takeUntil)(this.destroyed$)).subscribe(e=>{this.handleToggleItemClickQueue(e)})}_getItemPositions(e){const n=this.items.findIndex(i=>i.value===this.value.value),a=this.items.findIndex(i=>i.value===e);return{selectedIndex:n,currentItemIndex:a}}_onItemsChange(e){this._itemsSubscription.unsubscribe(),this._itemsSubscription=new m.Subscription,e.forEach((n,a)=>{this._itemsSubscription.add(n.viewElementShow.pipe((0,h.startWith)(n)).subscribe(i=>{this.onViewElementDirectiveShow(i,a)}))})}_setSelectedToggleGroupItem(){this.viewElementDirectives?.forEach((e,n)=>{this.setPressedToggleGroupItem(e,n)})}onViewElementDirectiveShow(e,n){this._itemsSubscription.add(e.componentRef?.on("toggleItemClicked",()=>{this.onToggleItemClick(this.items[n])}))}setPressedToggleGroupItem(e,n){this._viewModeStrategy.setPressedToggleGroupItem(e,this.isItemSelected(this.items?.[n]?.value))}setGap(e){const n="gap",a=this._btnToggleGroup?.nativeElement;if(a){if(this._removeGapStyles(a),typeof e=="number")this._renderer.setStyle(a,n,`${e}px`);else if((0,ht.p)(e)){const i=`${n}-${e.toLowerCase()}`;this._renderer.addClass(a,i)}else{const i=`${n}-${ht.Z.None}`;this._renderer.addClass(a,i)}this.isGapInitialized=!0}}handleToggleItemClickQueue(e){if(!e)return;if(e.length<2){const i=this.value?.value===e[0]?.value&&this.allowUntoggle;this.value=i?null:e[0]}else this.value=e[0];this.detectChanges(),this.valueChange.emit(this.value)}itemsChanged(){this.viewElementItems=this._viewModeStrategy.getViewElementItems(this),this.detectChanges()}getIconPosition(e){return e??pe.LeftIcon}onToggleItemClick(e){this._toggleItemClick$.next(e)}isItemSelected(e){return this.value?.value===e}isItemBeforeSelected(e){if(!this.value)return!1;const n=this._getItemPositions(e);return n.currentItemIndex<n.selectedIndex}isItemFirstAfterSelected(e){if(!this.value)return!1;const n=this._getItemPositions(e);return n.currentItemIndex===n.selectedIndex+1}ngAfterViewInit(){super.ngAfterViewInit(),this.isGapInitialized||this.setGap(this._gap),this._isDirectionInitialized||this._changeDirection(),this.itemsChanged(),this._changesSubscription.add(this.viewElementDirectives.changes.pipe((0,h.startWith)(this.viewElementDirectives)).subscribe(e=>{this._onItemsChange(e)}))}ngOnDestroy(){this._itemsSubscription.unsubscribe(),this._changesSubscription.unsubscribe(),super.ngOnDestroy()}static{this.\u0275fac=function(n){return new(n||e4)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:e4,selectors:[["crt-button-toggle-group"]],viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(eT,7),t.\u0275\u0275viewQuery(rn.H,5)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a._btnToggleGroup=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.viewElementDirectives=i)}},hostVars:2,hostBindings:function(n,a){n&2&&t.\u0275\u0275classProp("fit-content",a.fitContent)},inputs:{menuButtonsMode:"menuButtonsMode",size:"size",iconSize:"iconSize",allowUntoggle:"allowUntoggle",badgeConfig:"badgeConfig",direction:"direction",gap:"gap",fitContent:"fitContent",contentAlign:"contentAlign",disabled:"disabled",value:"value",toggleViewMode:"toggleViewMode"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:1,consts:[["btnToggleGroup",""],[1,"button-toggle-group"],["class","button-toggle",3,"tsDataItemMarker","before-selected","selected","after-selected",4,"ngFor","ngForOf"],[1,"button-toggle",3,"tsDataItemMarker"],[3,"crtViewElement"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",1,0),t.\u0275\u0275template(2,nT,2,9,"div",2),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.viewElementItems))},dependencies:[_.NgForOf,rn.H,Hn],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}:host{max-height:100%;max-width:100%;width:100%;height:100%;min-height:0;min-width:0;overflow:auto}@supports (background: -webkit-named-image(i)){:host{height:initial}}:host.fit-content{min-height:auto;min-width:auto;overflow:visible}.button-toggle-group{display:flex;max-width:100%;max-height:100%;overflow:auto}.button-toggle-group.column-direction{flex-direction:column;min-width:0}.button-toggle-group.column-direction crt-badge,.button-toggle-group.column-direction crt-button{width:100%;display:flex;align-items:stretch;flex-direction:column}.button-toggle-group.gap-none{gap:0}.button-toggle-group.gap-small{gap:4px}.button-toggle-group.gap-medium{gap:8px}.button-toggle-group.gap-large{gap:16px}
`],encapsulation:2,changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ha.prototype,"menuButtonsMode",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],ha.prototype,"size",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],ha.prototype,"iconSize",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ha.prototype,"allowUntoggle",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],ha.prototype,"badgeConfig",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],ha.prototype,"direction",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],ha.prototype,"gap",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ha.prototype,"fitContent",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],ha.prototype,"contentAlign",null),(0,u.__decorate)([(0,J.k)({defaultValue:!1,propertyName:et.R.Disabled}),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],ha.prototype,"disabled",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],ha.prototype,"value",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],ha.prototype,"toggleViewMode",null),ha=(0,u.__decorate)([(0,Qt.v)({type:"crt.ButtonToggleGroup",reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:null,viewElementGroupType:null,designControlConfig:{allowDesignContent:!0,selfSelect:!0},designViewItemCommands:{delete:"crt.RemoveButtonToggleGroupViewItemCommand"}}),(0,u.__metadata)("design:paramtypes",[t.Injector,t.ChangeDetectorRef])],ha);var n2=o(96259);class gp extends n2.MatBadge{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(gp)))(a||gp)}})()}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:gp,selectors:[["","crtMatBadge",""]],exportAs:["crtMatBadge"],standalone:!0,features:[t.\u0275\u0275InheritDefinitionFeature]})}}const aT=["*"];let ic=class n4{constructor(e,n,a){this._element=e,this._directionality=n,this._matBadge=a,this._size=8,this._emptyContentPlaceholder="\u200B",this._additionalOffset=0,this._totalOffset=this._calculateTotalOffset(),a.content=this._emptyContentPlaceholder}set offset(e){e&&(this._additionalOffset=e,this._totalOffset=this._calculateTotalOffset())}set color(e){e&&(this._matBadge.color=e)}set enabled(e){this._matBadge.hidden=!e}_calculateTotalOffset(){return-this._size/2-this._additionalOffset}_isRtl(){return this._directionality.value==="rtl"}_applyTotalOffset(){const e=this._element.nativeElement.querySelector(".mat-badge-content"),n=`${this._totalOffset}px`;e.style.top=n,this._isRtl()?e.style.left=n:e.style.right=n}ngAfterViewChecked(){this._applyTotalOffset()}static{this.\u0275fac=function(n){return new(n||n4)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(me.Directionality),t.\u0275\u0275directiveInject(gp))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:n4,selectors:[["crt-badge"]],inputs:{offset:"offset",color:"color",enabled:"enabled"},features:[t.\u0275\u0275HostDirectivesFeature([gp])],ngContentSelectors:aT,decls:1,vars:0,template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275projection(0))},styles:[`crt-badge{display:inline-block}crt-badge.mat-badge-medium .mat-badge-content{width:8px;height:8px;line-height:8px}
`],encapsulation:2,changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number),(0,u.__metadata)("design:paramtypes",[Number])],ic.prototype,"offset",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],ic.prototype,"color",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],ic.prototype,"enabled",null),ic=(0,u.__decorate)([(0,Qt.v)({type:"crt.Badge",reuseStrategy:$t.B.Reuse,contentSlots:["items"]}),(0,u.__metadata)("design:paramtypes",[t.ElementRef,me.Directionality,gp])],ic);function iT(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"crt-badge",2),t.\u0275\u0275elementContainer(1,3),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(2);t.\u0275\u0275property("color",n.badgeConfig==null?null:n.badgeConfig.color)("offset",n.badgeConfig==null?null:n.badgeConfig.offset),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a)}}function rT(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",4),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onToggleItemClick())}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("background-color",n.backgroundColor)("color",n.color),t.\u0275\u0275property("color",n.color)("shape",n.getShape())("title",n.getTitle(n.tooltipTitle))("caption",n.displayValue)("disableRipple",!0)("icon",n.icon)("ariaLabel",n.getTitle(n.ariaLabel))("iconPosition",n.getIconPosition())("size",n.size)("iconSize",n.iconSize)("contentAlign",n.contentAlign)("menuItems",n.menuItems)("disabled",n.disabled)("pressed",n.pressed)("displayMenuIcon",n.displayMenuIcon)("allowMenuOnDisabled",!0)("clickMode",n.menuButtonsMode&&(n.menuItems!=null&&n.menuItems.length)?"menu":"default"),t.\u0275\u0275attribute("data-item-marker",n.displayValue)}}let wn=class a4 extends ue.K{set contentAlign(e){this._contentAlign=e}get contentAlign(){return this._contentAlign??"start"}constructor(e){super(e),this.injector=e,this._translationKey="ButtonToggleGroup.ButtonToggleGroupItem",this.iconSize=ht.Z.Large,this.size=ht.Z.Medium,this.displayMenuIcon=!1,this.menuButtonsMode=!1,this.pressed=!1,this.color="default",this.toggleItemClicked=new t.EventEmitter,this.visible=!0,this._translateService=this.injector.get(f.TranslateService)}_getTranslation(e){return this._translateService.instant(`${this._translationKey}.${e}`)}getTitle(e){if(!e)return;if(!this.badge?.visible)return e;const n=this.tooltipNotificationsPostfix??this._getTranslation("NotificationsPostfix");return`${e} ${n}`}getShape(){return this.shape??"rounded"}getIconPosition(){return this.iconPosition??pe.LeftIcon}onToggleItemClick(){this.toggleItemClicked.emit({value:this.value,displayValue:this.displayValue})}static{this.\u0275fac=function(n){return new(n||a4)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:a4,selectors:[["crt-button-toggle-group-item"]],inputs:{tooltipTitle:"tooltipTitle",tooltipNotificationsPostfix:"tooltipNotificationsPostfix",value:"value",displayValue:"displayValue",icon:"icon",iconPosition:"iconPosition",iconSize:"iconSize",size:"size",ariaLabel:"ariaLabel",displayMenuIcon:"displayMenuIcon",contentAlign:"contentAlign",menuItems:"menuItems",menuButtonsMode:"menuButtonsMode",disabled:"disabled",pressed:"pressed",backgroundColor:"backgroundColor",color:"color",badge:"badge",badgeConfig:"badgeConfig",visible:"visible"},outputs:{toggleItemClicked:"toggleItemClicked"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["button",""],[3,"color","offset",4,"ngIf","ngIfElse"],[3,"color","offset"],[3,"ngTemplateOutlet"],[3,"clicked","color","shape","title","caption","disableRipple","icon","ariaLabel","iconPosition","size","iconSize","contentAlign","menuItems","disabled","pressed","displayMenuIcon","allowMenuOnDisabled","clickMode"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,iT,2,3,"crt-badge",1)(1,rT,1,22,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.badge==null?null:a.badge.visible)("ngIfElse",i)}},dependencies:[_.NgIf,_.NgTemplateOutlet,ic,Jt],encapsulation:2,changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],wn.prototype,"tooltipTitle",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],wn.prototype,"tooltipNotificationsPostfix",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],wn.prototype,"value",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],wn.prototype,"displayValue",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],wn.prototype,"icon",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],wn.prototype,"iconPosition",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],wn.prototype,"iconSize",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],wn.prototype,"size",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],wn.prototype,"ariaLabel",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],wn.prototype,"displayMenuIcon",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],wn.prototype,"contentAlign",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],wn.prototype,"menuItems",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],wn.prototype,"menuButtonsMode",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],wn.prototype,"disabled",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],wn.prototype,"pressed",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],wn.prototype,"backgroundColor",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],wn.prototype,"color",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],wn.prototype,"badge",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],wn.prototype,"toggleItemClicked",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],wn.prototype,"badgeConfig",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],wn.prototype,"visible",void 0),wn=(0,u.__decorate)([(0,Qt.v)({type:"crt.ButtonToggleGroupItem",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector])],wn);let qo=class i4{static{this.\u0275fac=function(n){return new(n||i4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:i4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,n2.MatBadgeModule]})}};qo=(0,u.__decorate)([(0,ie.g)({viewElements:[ic]})],qo),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(qo,{declarations:[ic],imports:[_.CommonModule,n2.MatBadgeModule],exports:[ic]})}();let ts=class r4{static{this.\u0275fac=function(n){return new(n||r4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:r4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:a6,useFactory:n6},v5.d,up.u,XE.J],imports:[_.CommonModule,qo,re,_e.S,Te.c,tn]})}};ts=(0,u.__decorate)([(0,ie.g)({viewElements:[ha,wn]})],ts),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(ts,{declarations:[ha,wn],imports:[_.CommonModule,qo,re,_e.S,Te.c,tn],exports:[ha,wn]})}();var Qe=o(95567);const oT=["columnsGroupsSelectMenuTrigger"],sT=r=>({"search-filter-columns-groups-disabled":r}),cT=r=>({"groups-select-menu-opened":r}),lT=(r,e)=>({name:r,caption:e}),dT=r=>({column:r,columnsGroup:null}),r6=(r,e)=>({column:r,columnsGroup:e}),pT=r=>({"selected-column-item":r});function uT(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,10),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngTemplateOutlet",n)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(5,dT,t.\u0275\u0275pureFunction2(2,lT,a.allOptionValue,a.translate("AllOption"))))}}function mT(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,10),r&2){const n=e.$implicit;t.\u0275\u0275nextContext(2);const a=t.\u0275\u0275reference(6),i=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",t.\u0275\u0275pureFunction2(2,r6,n,i.singleColumnsGroup))}}function gT(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,mT,1,5,"ng-container",11),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.singleColumnsGroup.columns)}}function hT(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275listener("click",function(i){return t.\u0275\u0275restoreView(n),t.\u0275\u0275resetView(i.stopPropagation())}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.group.caption," ")}}function _T(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,10),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275nextContext(2);const i=t.\u0275\u0275reference(6);t.\u0275\u0275property("ngTemplateOutlet",i)("ngTemplateOutletContext",t.\u0275\u0275pureFunction2(2,r6,n,a))}}function fT(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,hT,2,1,"div",13)(2,_T,1,5,"ng-container",11),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.columns.length>0),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.columns)}}function bT(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,fT,3,2,"ng-container",12),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.allColumnsGroups)}}function CT(r,e){r&1&&t.\u0275\u0275element(0,"mat-icon",19)}function yT(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",15),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n),s=i.column,b=i.columnsGroup,D=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(D.onSelectionChange(s.name,b))}),t.\u0275\u0275elementStart(1,"div",16)(2,"span",17),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,CT,1,0,"mat-icon",18),t.\u0275\u0275elementEnd()()}if(r&2){const n=e.column,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,pT,a.isColumnSelected(n.name)))("disableRipple",!0),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(n.caption),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isColumnSelected(n.name))}}function vT(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275listener("click",function(i){return t.\u0275\u0275restoreView(n),t.\u0275\u0275resetView(i.stopPropagation())}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(2,uT,1,7,"ng-container",8)(3,gT,2,1,"ng-container",9)(4,bT,2,1,"ng-container",9)(5,yT,5,6,"ng-template",null,2,t.\u0275\u0275templateRefExtractor)}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.translate("SelectMenuLabel")),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.showAllOption),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.showSingleGroup),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.showMultipleGroups)}}const a2="46834c9d-af67-4cd4-b3cf-c5b6894c920b";class ng{get disableSelectOptions(){return this._getColumnsCountOfAllColumnsGroups()<=1}get showAllOption(){return(this._columnsGroupsConfig?.showAllOption||!1)&&(this.showMultipleGroups||this.showSingleGroup&&this.singleColumnsGroup.columns.length>1)}get allOptionValue(){return a2}get showMultipleGroups(){return this.allColumnsGroups.length>1}get showSingleGroup(){return this.allColumnsGroups.length===1}get allColumnsGroups(){return this._columnsGroupsConfig?.columnsGroups.filter(e=>e.columns.length>0)||[]}get singleColumnsGroup(){return this.allColumnsGroups.slice().shift()}get triggerIcon(){return this._isVirtualAllOption(this.selectedColumnName)?"filter-column-icon":"filter-column-notification-icon"}set columnsGroupsConfig(e){this._columnsGroupsConfig=e,this._setupSelectedColumnValue()}set filteredColumn(e){this._filteredColumn=e,this._setupSelectedColumnValue()}constructor(e){this._injector=e,this._translatePrefix="SearchFilter.ColumnsGroups",this._translateService=this._injector.get(f.TranslateService),this.changeSelectedColumnsGroups=new t.EventEmitter}_getColumnsCountOfAllColumnsGroups(){let e=0;return this._columnsGroupsConfig?.columnsGroups.forEach(n=>{e+=n.columns.length}),e}_setupSelectedColumnValue(){if(!(0,y.isEmpty)(this._filteredColumn)&&this._isColumnExistsAtColumnsGroups(this._filteredColumn)){this.selectedColumnName=this._filteredColumn;return}if(this.showAllOption){this.selectedColumnName=a2;return}if(!(0,y.isEmpty)(this._columnsGroupsConfig?.primaryColumnName)&&this._isColumnExistsAtColumnsGroups(this._columnsGroupsConfig.primaryColumnName)){this.selectedColumnName=this._columnsGroupsConfig.primaryColumnName;return}this.selectedColumnName=this._columnsGroupsConfig?.columnsGroups.find(e=>e.columns.length>0)?.columns.slice().shift()?.name}_isColumnExistsAtColumnsGroups(e){return this._columnsGroupsConfig?.columnsGroups.some(n=>n.columns.some(a=>a.name===e))}_emitChangeSelectedColumnsGroupsForAll(){this.changeSelectedColumnsGroups.emit(this._columnsGroupsConfig?.columnsGroups||[])}_emitChangeSelectedColumnsGroups(e,n){n?.group?this.changeSelectedColumnsGroups.emit([this._createSelectedColumnsGroupByLabelGroup(n.group.caption,e)]):this.changeSelectedColumnsGroups.emit([this._createSelectedColumnsGroupBySingleGroup(e)])}_createSelectedColumnsGroupByLabelGroup(e,n){const a=this._columnsGroupsConfig?.columnsGroups.find(i=>i.group.caption===e)?.group.name||"";return this._createSearchFilteredColumnsGroup(a,n)}_createSelectedColumnsGroupBySingleGroup(e){const n=this.singleColumnsGroup?.group.name||"";return this._createSearchFilteredColumnsGroup(n,e)}_createSearchFilteredColumnsGroup(e,n){return{group:{caption:e,name:e},columns:[{caption:n,name:n}]}}_isNotNeedEmitChangeSelectedColumnsGroups(e){return this._filteredColumn===e}_isVirtualAllOption(e){return e===a2}ngOnInit(){this._setupSelectedColumnValue()}onSelectionChange(e,n){if(!this._isNotNeedEmitChangeSelectedColumnsGroups(e)){if(this._filteredColumn=e,this.selectedColumnName=e,this._isVirtualAllOption(e)){this._emitChangeSelectedColumnsGroupsForAll();return}this._emitChangeSelectedColumnsGroups(e,n)}}translate(e){return this._translateService.instant(`${this._translatePrefix}.${e}`)}isColumnSelected(e){return this.selectedColumnName===e}onTriggerIconKeyUp(e){[Ht.Key.Enter,"Space","NumpadEnter"].includes(e.code)&&this.columnsGroupSelectMenuTrigger.toggleMenu()}onMenuClosed(){this.isMenuOpened=!1}onMenuOpened(){this.isMenuOpened=!0}static{this.\u0275fac=function(n){return new(n||ng)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:ng,selectors:[["crt-search-filter-columns-groups"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(oT,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.columnsGroupSelectMenuTrigger=i.first)}},inputs:{disabled:"disabled",columnsGroupsConfig:"columnsGroupsConfig",filteredColumn:"filteredColumn"},outputs:{changeSelectedColumnsGroups:"changeSelectedColumnsGroups"},decls:8,vars:15,consts:[["columnsGroupsSelectMenuTrigger","matMenuTrigger"],["columnsGroupsSelectMenu","matMenu"],["columnTemplate",""],[1,"search-filter-columns-groups-wrapper",3,"ngClass"],["role","button","aria-hidden","false",1,"columns-groups-trigger-icon",3,"keyup","menuOpened","menuClosed","ngClass","svgIcon","matMenuTriggerFor","tabindex","title"],["yPosition","below","xPosition","after","classList","crt-search-filter-columns-groups-menu-panel"],["matMenuContent",""],[1,"content-label",3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["class","group-label",3,"click",4,"ngIf"],[1,"group-label",3,"click"],["mat-menu-item","",1,"crt-search-filter-column-item",3,"click","ngClass","disableRipple"],[1,"crt-search-filter-column-item-content"],["crtTextOverflowTitle","",1,"crt-search-filter-column-item-text"],["class","crt-search-filter-column-item-checked-icon","svgIcon","checkmark-icon","aria-hidden","true",4,"ngIf"],["svgIcon","checkmark-icon","aria-hidden","true",1,"crt-search-filter-column-item-checked-icon"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",3)(1,"mat-icon",4,0),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275listener("keyup",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onTriggerIconKeyUp(b))})("menuOpened",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onMenuOpened())})("menuClosed",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onMenuClosed())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-menu",5,1),t.\u0275\u0275template(7,vT,7,4,"ng-template",6),t.\u0275\u0275elementEnd()()}if(n&2){const i=t.\u0275\u0275reference(6);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(11,sT,a.disabled)),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(3,7,"SearchFilter.ColumnsGroups.Title")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(13,cT,a.isMenuOpened))("svgIcon",a.triggerIcon)("matMenuTriggerFor",i)("tabindex",a.disabled?-1:0),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(4,9,"SearchFilter.ColumnsGroups.Title"))}},dependencies:[_.NgClass,_.NgForOf,_.NgIf,_.NgTemplateOutlet,ai.y,_t.MatIcon,Q.MatLegacyMenu,Q.MatLegacyMenuItem,Q.MatLegacyMenuTrigger,Q.MatLegacyMenuContent,f.TranslatePipe],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.search-filter-columns-groups-wrapper.search-filter-columns-groups-disabled .columns-groups-trigger-icon{pointer-events:none;cursor:default}.search-filter-columns-groups-wrapper .columns-groups-trigger-icon{width:16px;height:16px;cursor:pointer;display:flex}.search-filter-columns-groups-wrapper .columns-groups-trigger-icon:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.cdk-overlay-pane .mat-menu-panel.crt-search-filter-columns-groups-menu-panel{width:240px;margin-top:8px;padding:8px;border-style:solid;border-width:1px;border-radius:4px;box-sizing:border-box}.cdk-overlay-pane .mat-menu-panel.crt-search-filter-columns-groups-menu-panel .mat-menu-content .content-label,.cdk-overlay-pane .mat-menu-panel.crt-search-filter-columns-groups-menu-panel .mat-menu-content .group-label{margin:8px 16px 0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.cdk-overlay-pane .mat-menu-panel.crt-search-filter-columns-groups-menu-panel .mat-menu-content .mat-menu-item.crt-search-filter-column-item{display:block;height:40px;padding-inline-start:40px;margin-top:0;margin-inline-end:auto;border-radius:4px}.cdk-overlay-pane .mat-menu-panel.crt-search-filter-columns-groups-menu-panel .mat-menu-content .mat-menu-item.crt-search-filter-column-item .crt-search-filter-column-item-content{display:flex;align-items:center}.cdk-overlay-pane .mat-menu-panel.crt-search-filter-columns-groups-menu-panel .mat-menu-content .mat-menu-item.crt-search-filter-column-item .crt-search-filter-column-item-text{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-inline-end:auto}.cdk-overlay-pane .mat-menu-panel.crt-search-filter-columns-groups-menu-panel .mat-menu-content .mat-menu-item.crt-search-filter-column-item .crt-search-filter-column-item-checked-icon{width:16px;height:16px;flex-shrink:0;margin:0}
`],encapsulation:2,changeDetection:0})}}const MT=["searchInput"],IT=(r,e)=>({"crt-search-disabled":r,"crt-search-columns-menu-open":e}),xT=r=>({"crt-clear-icon":!0,"crt-search-element-margin":!0,"crt-search-element-hidden":r}),ST=r=>({"crt-search-element-margin":!0,"crt-search-element-hidden":r}),wT=r=>({"crt-search-filter-columns-groups":!0,"crt-search-element-margin":!0,"crt-search-filter-columns-groups-visible":r});function ET(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-icon-tooltip",12),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("tabIndex",n.getTabIndex())("ngClass",t.\u0275\u0275pureFunction1(3,ST,!n.isElementVisible))("tooltip",n.tooltip)}}function TT(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-search-filter-columns-groups",13),t.\u0275\u0275listener("changeSelectedColumnsGroups",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onChangeSelectedColumnsGroups(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(4,wT,n.isElementVisible))("columnsGroupsConfig",n.columnsGroupsConfig)("filteredColumn",n.filteredColumnName)("disabled",n.disabled)}}function PT(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"input",8,0),t.\u0275\u0275listener("keyup",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSearchFilterValueChange(i.target.value))})("keydown.enter",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onEnterKeyPressed(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-icon",9),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onClear())})("keyup.enter",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onClear())})("keyup.space",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onClear())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,ET,1,5,"crt-icon-tooltip",10)(7,TT,1,6,"crt-search-filter-columns-groups",11),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("@minifyAnimateInput",void 0),t.\u0275\u0275advance(),t.\u0275\u0275property("placeholder",n.placeholder)("value",n.searchFilterValue)("disabled",n.disabled),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(4,10,"SearchFilter.ClearIconTitle")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(14,xT,!n.isElementVisible))("tabindex",n.getTabIndex()),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(5,12,"SearchFilter.ClearIconTitle")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.isTooltipDefined),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.showColumnsGroups)}}let Yn=class _0 extends ue.K{constructor(){super(...arguments),this._translatePrefix="Components.SearchFilter",this._valueChangeDebounceTime=300,this._translateService=(0,t.inject)(f.TranslateService),this._featureValues=(0,t.inject)(ge.G),this._searchFilterValue="",this._valueChangedEmittedValue="",this._isViewInitialized=!1,this._iconOnly=!1,this._minifySearch=!1,this.filteredColumnName="",this._debounceFilterValueChange=(0,y.debounce)(e=>{(this.instant||this._isNeedEmitEmptyValue(e))&&this._emitValueChange(e)},this._valueChangeDebounceTime),this.animationsDisabled=!0,this.placeholder=null,this.instant=!1,this.valueChange=new t.EventEmitter,this.selectedColumnsGroupsChange=new t.EventEmitter,this.minifySearchChange=new t.EventEmitter}get _tooltipPreferredPositions(){return[{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetX:0,offsetY:0},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetX:0,offsetY:0}]}get searchFilterValue(){return this._searchFilterValue}get isTooltipDefined(){return!(0,y.isEmpty)(this.tooltip)}get showColumnsGroups(){return this._columnsGroupsConfig?.columnsGroups.some(e=>e.columns.length>0)||!1}get isElementVisible(){return!this._isNotNeedEmitValueChange(this.searchFilterValue)}get isWCAGSupportEnabled(){return this._featureValues.isSearchWCAGSupportingEnabled}set input(e){this._inputControl=e,this._inputControl&&this._iconOnly&&!this._minifySearch&&this._focusInput()}set minifySearch(e){this._minifySearch=e,this._isViewInitialized&&this.changeDetectorRef.detectChanges()}get minifySearch(){return this._minifySearch}set selectedColumnsGroups(e){this._selectedColumnsGroups=e}get selectedColumnsGroups(){return this._selectedColumnsGroups}set value(e){this._searchFilterValue!==e&&(this._searchFilterValue=e,this._valueChangedEmittedValue=e)}set iconOnly(e){this._iconOnly=e,this.minifySearch=this._iconOnly,this.minifySearchChange.emit(this.minifySearch)}get iconOnly(){return this._iconOnly}set columnsGroupsConfig(e){this._columnsGroupsConfig=e,this._setupSelectedColumnsGroups()}get columnsGroupsConfig(){return this._columnsGroupsConfig}set filteredColumn(e){this.filteredColumnName=e,this._setupSelectedColumnsGroups()}_setupSelectedColumnsGroups(){if(!(0,y.isEmpty)(this.filteredColumnName)){const e=this._getColumnsGroupByColumnName(this.filteredColumnName);if(e){this._setSelectedColumnsGroups([this._createSingleColumnsGroup(e,this.filteredColumnName)]);return}}if(this._columnsGroupsConfig?.showAllOption){this._setSelectedColumnsGroups(this._columnsGroupsConfig?.columnsGroups||[]);return}if(!(0,y.isEmpty)(this._columnsGroupsConfig?.primaryColumnName)){const e=this._getColumnsGroupByColumnName(this._columnsGroupsConfig.primaryColumnName);if(e){this._setSelectedColumnsGroups([this._createSingleColumnsGroup(e,this._columnsGroupsConfig.primaryColumnName)]);return}}this._setSelectedColumnsGroups([this._getFirstColumnsGroupWithOneColumn()].filter(Boolean))}_getColumnsGroupByColumnName(e){return this._columnsGroupsConfig?.columnsGroups.find(n=>n.columns.some(a=>a.name===e))}_getFirstColumnsGroupWithOneColumn(){const e=this._columnsGroupsConfig?.columnsGroups.find(a=>a.columns.length>0),n=e?.columns.slice().shift()?.name;return e&&!(0,y.isEmpty)(n)?this._createSingleColumnsGroup(e,n):void 0}_createSingleColumnsGroup(e,n){return{group:e.group,columns:[e.columns.find(a=>a.name===n)].filter(Boolean)}}_emitValueChange(e){this._isNotNeedEmitValueChange(e)||(this._valueChangedEmittedValue=e,this.valueChange.emit({value:e,columnsGroups:this._getSelectedColumnsGroups()}))}_setSelectedColumnsGroups(e){this.selectedColumnsGroups=e,this.selectedColumnsGroupsChange.emit(e)}_getSelectedColumnsGroups(){return(0,y.isEmpty)(this.selectedColumnsGroups)?this._columnsGroupsConfig?.columnsGroups||[]:this.selectedColumnsGroups||[]}_setSearchFilterPlaceholder(){this.placeholder===null&&(this.placeholder=this._translate("Placeholder"))}_translate(e){return this._translateService.instant(`${this._translatePrefix}.${e}`)}_isNotNeedEmitValueChange(e){return!e&&!this._valueChangedEmittedValue}_isNeedEmitEmptyValue(e){return(0,y.isEmpty)(e)&&!(0,y.isEmpty)(this._valueChangedEmittedValue)}_focusInput(){setTimeout(()=>{this._inputControl?.nativeElement.focus()})}handleFinishLoadViewModelAttributes(){this.animationsDisabled=!1}getTooltipConfig(e){return{hideEvent:"mouseleave",preferredPositions:this._tooltipPreferredPositions,showEvent:"mouseenter",tooltipConfig:{value:e},componentType:ll.x}}ngOnInit(){this._setSearchFilterPlaceholder()}onSearchFilterValueChange(e){e!==this._searchFilterValue&&(this._searchFilterValue=e,this.changeDetectorRef.detectChanges(),this._debounceFilterValueChange(e))}onSearchIconClick(){this.iconOnly&&(this.searchFilterValue===""||this.minifySearch)&&(this.minifySearch=!this._minifySearch,this.minifySearchChange.emit(this.minifySearch));let e;this._minifySearch?e=this._searchFilterValue="":e=this.searchFilterValue,this._emitValueChange(e)}onEnterKeyPressed(e){this._emitValueChange(e.target.value),e.stopPropagation(),e.preventDefault()}onClear(){this._searchFilterValue="",this._emitValueChange(this._searchFilterValue),this._focusInput()}onChangeSelectedColumnsGroups(e){this._setSelectedColumnsGroups(e),this._focusInput()}onSearchFilterFocusOut(e){if(this.searchFilterValue)return;!this.elementRef?.nativeElement?.contains(e.relatedTarget)&&!e.relatedTarget?.classList?.contains("crt-search-filter-columns-groups-option")&&this._emitValueChange("")}ngAfterViewInit(){this._isViewInitialized=!0}getTabIndex(){return this.disabled?-1:0}getSearchIconTabIndex(){return this.minifySearch?this.getTabIndex():-1}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(_0)))(a||_0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:_0,selectors:[["crt-search-filter"]],viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(MT,5),t.\u0275\u0275viewQuery(ng,5)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.input=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.columnsGroups=i.first)}},hostVars:6,hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("focusout",function(s){return a.onSearchFilterFocusOut(s)}),n&2&&(t.\u0275\u0275syntheticHostProperty("@.disabled",a.animationsDisabled)("@minifyAnimateHost",a.minifySearch),t.\u0275\u0275classProp("crt-search-filter-wcag-supporting",a.isWCAGSupportEnabled)("minify-search",a.minifySearch))},inputs:{minifySearch:"minifySearch",selectedColumnsGroups:"selectedColumnsGroups",value:"value",placeholder:"placeholder",disabled:"disabled",iconOnly:"iconOnly",instant:"instant",tooltip:"tooltip",columnsGroupsConfig:"columnsGroupsConfig",filteredColumn:"filteredColumn"},outputs:{valueChange:"valueChange",selectedColumnsGroupsChange:"selectedColumnsGroupsChange",minifySearchChange:"minifySearchChange"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:6,vars:8,consts:[["searchInput",""],[1,"crt-search-container",3,"ngClass"],[1,"crt-search-input-container"],["svgIcon","search",1,"crt-search-icon",3,"click","keyup.enter","crtAccessibleAttributes","tabIndex"],["class","crt-search-minify-container",4,"ngIf"],[1,"crt-search-input-underline"],[1,"crt-search-underline-ripple"],[1,"crt-search-minify-container"],["matInput","","crtTextOverflowTitle","","type","text","spellcheck","false","autocomplete","off",3,"keyup","keydown.enter","placeholder","value","disabled"],["svgIcon","small-close","role","button","aria-hidden","false",3,"click","keyup.enter","keyup.space","title","ngClass","tabindex"],["icon","tooltip",3,"tabIndex","ngClass","tooltip",4,"ngIf"],[3,"ngClass","columnsGroupsConfig","filteredColumn","disabled","changeSelectedColumnsGroups",4,"ngIf"],["icon","tooltip",3,"tabIndex","ngClass","tooltip"],[3,"changeSelectedColumnsGroups","ngClass","columnsGroupsConfig","filteredColumn","disabled"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"mat-icon",3),t.\u0275\u0275listener("click",function(){return a.onSearchIconClick()})("keyup.enter",function(){return a.onSearchIconClick()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,PT,8,16,"div",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",5),t.\u0275\u0275element(5,"span",6),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(5,IT,a.disabled,a.columnsGroups==null?null:a.columnsGroups.isMenuOpened)),t.\u0275\u0275advance(2),t.\u0275\u0275property("crtAccessibleAttributes",a.placeholder)("tabIndex",a.getSearchIconTabIndex()),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!a.minifySearch),t.\u0275\u0275advance(),t.\u0275\u0275property("@minifyAnimateUnderline",void 0))},dependencies:[Nn,_.NgClass,_.NgIf,ai.y,_t.MatIcon,Hc.b,lt.MatLegacyInput,ng,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{--crt-search-icons-size: 16px;--crt-search-component-height: 32px;--crt-search-component-max-width: 204px;--crt-search-component-min-width: 150px;--crt-search-mat-icons-end-margin: 4px;--crt-search-mat-icons-last-element-end-margin: 1.5px;max-width:var(--crt-search-component-max-width);min-width:var(--crt-search-component-min-width);display:block;flex:1;min-height:var(--crt-search-component-height);padding:0 3px}.crt-search-filter-wcag-supporting[_nghost-%COMP%]{--crt-search-component-height: 28px}.minify-search[_nghost-%COMP%]{--crt-search-component-min-width: initial}[_nghost-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:flex;cursor:pointer;width:var(--crt-search-icons-size);height:var(--crt-search-icons-size);min-width:var(--crt-search-icons-size);min-height:var(--crt-search-icons-size)}[_nghost-%COMP%]   mat-icon[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]{min-height:inherit}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]   .crt-search-input-container[_ngcontent-%COMP%]{display:flex;min-height:calc(var(--crt-search-component-height) - 1px);min-width:16px;box-sizing:border-box;align-items:center}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]   .crt-search-input-container[_ngcontent-%COMP%]   .crt-search-icon[_ngcontent-%COMP%]{margin-inline-end:var(--crt-search-mat-icons-end-margin)}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]   .crt-search-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;background:none;padding:2px 0;text-overflow:ellipsis;width:100%}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]   .crt-search-input-container[_ngcontent-%COMP%]   .crt-search-element-margin[_ngcontent-%COMP%]{margin-inline-end:var(--crt-search-mat-icons-end-margin)}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]   .crt-search-input-container[_ngcontent-%COMP%]   .crt-search-element-margin[_ngcontent-%COMP%]:last-child{margin-inline-end:var(--crt-search-mat-icons-last-element-end-margin)}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]   .crt-search-input-container[_ngcontent-%COMP%]   .crt-search-element-hidden[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]   .crt-search-input-container[_ngcontent-%COMP%]   .crt-search-filter-columns-groups[_ngcontent-%COMP%]{display:flex;cursor:pointer;width:var(--crt-search-icons-size);height:var(--crt-search-icons-size);min-width:var(--crt-search-icons-size);min-height:var(--crt-search-icons-size);visibility:hidden}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]   .crt-search-input-container[_ngcontent-%COMP%]   .crt-search-filter-columns-groups[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]   .crt-search-input-container[_ngcontent-%COMP%]   .crt-search-filter-columns-groups.crt-search-filter-columns-groups-visible[_ngcontent-%COMP%]{visibility:unset}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]   .crt-search-input-underline[_ngcontent-%COMP%]{position:relative;border-bottom:1px solid;background:none;bottom:2px;visibility:hidden}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]   .crt-search-input-underline[_ngcontent-%COMP%]   .crt-search-underline-ripple[_ngcontent-%COMP%]{height:1px;position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(.5);opacity:0;transition:background-color .3s cubic-bezier(.55,0,.55,.2)}[_nghost-%COMP%]   .crt-search-container.crt-search-disabled[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{cursor:default;pointer-events:none}[_nghost-%COMP%]   .crt-search-container.crt-search-disabled[_ngcontent-%COMP%]   .crt-search-input-container[_ngcontent-%COMP%]   .crt-search-minify-container[_ngcontent-%COMP%]   .crt-search-filter-columns-groups[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .crt-search-container.crt-search-disabled[_ngcontent-%COMP%]   .crt-search-input-underline[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]:focus-within   .crt-search-input-underline[_ngcontent-%COMP%]   .crt-search-underline-ripple[_ngcontent-%COMP%]{opacity:1;transform:none;transition:transform .3s cubic-bezier(.25,.8,.25,1),opacity .1s cubic-bezier(.25,.8,.25,1),background-color .3s cubic-bezier(.25,.8,.25,1)}[_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]:hover   .crt-search-input-container[_ngcontent-%COMP%]   .crt-search-minify-container[_ngcontent-%COMP%]   .crt-search-filter-columns-groups[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-search-container[_ngcontent-%COMP%]:focus-within   .crt-search-input-container[_ngcontent-%COMP%]   .crt-search-minify-container[_ngcontent-%COMP%]   .crt-search-filter-columns-groups[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-search-container.crt-search-columns-menu-open[_ngcontent-%COMP%]   .crt-search-input-container[_ngcontent-%COMP%]   .crt-search-minify-container[_ngcontent-%COMP%]   .crt-search-filter-columns-groups[_ngcontent-%COMP%]{visibility:unset}[_nghost-%COMP%]:not(.minify-search)   .crt-search-container[_ngcontent-%COMP%]:not(.crt-search-disabled):hover   .crt-search-input-underline[_ngcontent-%COMP%], [_nghost-%COMP%]:not(.minify-search)   .crt-search-container[_ngcontent-%COMP%]:not(.crt-search-disabled):focus-within   .crt-search-input-underline[_ngcontent-%COMP%], [_nghost-%COMP%]:not(.minify-search)   .crt-search-container[_ngcontent-%COMP%]:not(.crt-search-disabled).crt-search-columns-menu-open   .crt-search-input-underline[_ngcontent-%COMP%]{visibility:visible}[_nghost-%COMP%]   .crt-search-minify-container[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;margin-inline-start:4px;flex:1}"],data:{animation:[(0,Qe.trigger)("minifyAnimateHost",[(0,Qe.state)("true",(0,Qe.style)({maxWidth:"18px"})),(0,Qe.state)("false",(0,Qe.style)({maxWidth:"*"})),(0,Qe.transition)("true => false",(0,Qe.animate)("300ms 100ms")),(0,Qe.transition)("false => true",(0,Qe.animate)("300ms"))]),(0,Qe.trigger)("minifyAnimateInput",[(0,Qe.transition)(":leave",[(0,Qe.animate)("300ms",(0,Qe.style)({width:0}))])]),(0,Qe.trigger)("minifyAnimateUnderline",[(0,Qe.transition)(":enter",[(0,Qe.sequence)([(0,Qe.style)({width:0}),(0,Qe.animate)("100ms",(0,Qe.style)({width:"16px"})),(0,Qe.style)({width:"*"})])]),(0,Qe.transition)(":leave",[(0,Qe.sequence)([(0,Qe.animate)("300ms",(0,Qe.style)({width:"16px"})),(0,Qe.animate)("100ms",(0,Qe.style)({width:0}))])])])]},changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Yn.prototype,"minifySearch",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],Yn.prototype,"selectedColumnsGroups",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Yn.prototype,"value",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Yn.prototype,"placeholder",void 0),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1,propertyName:et.R.Disabled}),(0,u.__metadata)("design:type",Boolean)],Yn.prototype,"disabled",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Yn.prototype,"iconOnly",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Yn.prototype,"instant",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Yn.prototype,"tooltip",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],Yn.prototype,"columnsGroupsConfig",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Yn.prototype,"filteredColumn",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Yn.prototype,"valueChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Yn.prototype,"selectedColumnsGroupsChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Yn.prototype,"minifySearchChange",void 0),Yn=(0,u.__decorate)([(0,Qt.v)({type:"crt.SearchFilter",reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:160,icon:o(63849),defaultPropertyValues:{placeholder:""},defaultLocalizableStrings:{placeholder:"Components.SearchFilter.Placeholder"}},designViewItemCommands:{create:"crt.AddFilterViewItemCommand",update:"crt.ChangeFilterViewItemCommand",delete:"crt.RemoveFilterViewItemCommand",copy:"crt.CopyFilterViewItemCommand"},propertiesPanelComponentTypeName:"crt.SearchFilterPropertiesPanel",viewElementGroupType:pn.J.Components,typeCaption:"Components.SearchFilter.Caption",placeholderSize:{height:"32px"}})],Yn);class ag{constructor(e,n){this._navigationService=e,this._translateService=n,this.placeholder=this._translateService.instant("GlobalSearch.PlaceholderCaption")}search(e){if(!e?.value)return;const a=this._navigationService.getActiveRouteInfo().schemaName,i=se.getPageEntitySchemaName(a);this._navigationService.navigate({state:{SearchParams:{query:e.value,sectionEntityName:i,currentPage:a},moduleName:"GlobalSearchModule",isInChain:!1},mode:Ui.Push,options:{schemaName:"GlobalSearchResultPage",type:Ai.Schema}})}static{this.\u0275fac=function(n){return new(n||ag)(t.\u0275\u0275directiveInject(fo),t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:ag,selectors:[["crt-global-search"]],inputs:{placeholder:"placeholder"},decls:1,vars:2,consts:[[3,"valueChange","placeholder","instant"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"crt-search-filter",0),t.\u0275\u0275listener("valueChange",function(s){return a.search(s)}),t.\u0275\u0275elementEnd()),n&2&&t.\u0275\u0275property("placeholder",a.placeholder)("instant",!1)},dependencies:[Yn]})}}var OT=o(71260),ig=o(73335);const o6=[X.r.Integer,X.r.Float,X.r.FLOAT1,X.r.FLOAT2,X.r.FLOAT3,X.r.FLOAT4,X.r.FLOAT8,X.r.Money],DT=[...o6,X.r.Lookup,X.r.Text,X.r.LONG_TEXT,X.r.MAXSIZE_TEXT,X.r.MEDIUM_TEXT,X.r.SHORT_TEXT,X.r.PHONE_TEXT,X.r.WEB_TEXT,X.r.EMAIL_TEXT,X.r.RICH_TEXT];function AT(r){return r.attributeType!==ig.D.AggregationAttribute&&r.usageType!==ig.O.None}function LT(r){return!!r&&DT.includes(r.dataValueType)&&AT(r)}function i2(r){return o6.includes(r)}var kT=o(88980),s6=o(16319),Q1=o(65967);class hp{constructor(){this._dataSchemaRepository=(0,t.inject)(s6.J),this._numberFormatUtility=(0,t.inject)(OT.B4),this._sysSettingsService=(0,t.inject)(Js),this._fakeValueFilterKey="FakeValue",this._stringColumnComparisonType=He.H.Contain}_addSchemaColumn(e,n,a){var i=this;return(0,bt.A)(function*(){const s=i._getDataSchemaAttribute(a.attributes,a.dataSchema,n);i._isAllowedSearchColumn(s,a.value)&&e.addSchemaColumnFilterWithParameter(i._getSearchColumnFilterComparisonType(s),yield i._getSearchColumnFilterPath(s),i._getSearchColumnFilterValue(s,a.value))})()}_getDataSchemaAttribute(e,n,a){const i=typeof a=="string"?a:this._getAttributeNameByColumn(e,a);return this._findAttributeInDataSchema(n,i)}_getAttributeNameByColumn(e,n){const a=e[n.code]??{};return(0,Q1.o)(a)?a?.modelConfig?.path?.split(".").slice(1).join(".")??"":""}_findAttributeInDataSchema(e,n){return e.attributes?.find(a=>a.name===n)}_isAllowedSearchColumn(e,n){return LT(e)&&this._isSearchTextValueValidForColumnType(e.dataValueType,n)}_isSearchTextValueValidForColumnType(e,n){return i2(e)?this._isSearchTextValidForNumberColumn(e,n):!0}_isSearchTextValidForNumberColumn(e,n){const a=Number(this._replaceDecimalSeparator(n));return Number.isFinite(a)&&(this._isFloatColumnType(e)||this._isValueValidForIntegerColumn(a))&&this._isValueValidForNumberColumnLimits(e,a)}_isFloatColumnType(e){return e!==X.r.Integer}_isValueValidForIntegerColumn(e){return!(e%1!==0)}_isValueValidForNumberColumnLimits(e,n){const a=(0,kT.B)(e);return n<=a.maxValue&&n>=a.minValue}_getSearchColumnFilterComparisonType(e){return i2(e.dataValueType)?He.H.Equal:this._stringColumnComparisonType}_getSearchColumnFilterPath(e){return this._isLookupTypeSearchColumn(e.dataValueType)?this._getPrimaryDisplayColumnReferenceSchemaPath(e):Promise.resolve(e.path)}_isLookupTypeSearchColumn(e){return e===X.r.Lookup}_getPrimaryDisplayColumnReferenceSchemaPath(e){var n=this;return(0,bt.A)(function*(){const a=yield(0,m.firstValueFrom)(n._getEntitySchemaByName(e.referenceSchemaName));if(!a)return e.path;const i=a.primaryDisplayAttributeName;return`${e.path}.${i}`})()}_getEntitySchemaByName(e){return this._dataSchemaRepository.get(e)}_getSearchColumnFilterValue(e,n){return i2(e.dataValueType)?this._getSearchNumberColumnFilterValue(n):n}_getSearchNumberColumnFilterValue(e){return Number(this._replaceDecimalSeparator(e)).toString()}_replaceDecimalSeparator(e){const n=this._numberFormatUtility.getNumberFormatInfo().decimalSeparator;return e.replace(n,".")}_addSchemaColumnFakeValueIfNeed(e){!e||e.filters.size!==0||e.addSchemaColumnFilterWithParameter(He.H.Equal,"Id",de.To,this._fakeValueFilterKey)}_getStringColumnComparisonType(){return this._sysSettingsService.getByCode("StringColumnSearchComparisonType").pipe((0,m.map)(e=>e?.value===0?He.H.Start_with:He.H.Contain))}_getSchemaColumnData(e,n,a){const i=e.getAttributeViewModelConfig(n),s=e.getBoundDataSchemaByAttributePath(n);return{attributes:i,dataSchema:s,value:a}}buildFilter(e,n,a,i){var s=this;return(0,bt.A)(function*(){if((0,y.isEmpty)(n)||(0,y.isEmpty)(a))return null;const b=new nr.X($b.H.Or),D=s._getSchemaColumnData(e,i,n);s._stringColumnComparisonType=yield(0,m.lastValueFrom)(s._getStringColumnComparisonType());for(const W of a)yield s._addSchemaColumn(b,W,D);return s._addSchemaColumnFakeValueIfNeed(b),b})()}static{this.\u0275fac=function(n){return new(n||hp)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:hp,factory:hp.\u0275fac})}}function RT(r,e){return e.map(n=>({group:n.group.name,columns:n.columns.map(a=>a.name)})).find(n=>n.group===r)?.columns||[]}let r2=class{constructor(e){this._searchFilterBuilder=e}convert([e,n],a,i){if((0,y.isEmpty)(e)||(0,y.isEmpty)(n))return null;const s=RT(i,n);return this._searchFilterBuilder.buildFilter(a,e,s,i)}};r2=(0,u.__decorate)([(0,so.a)({type:"crt.SearchFilterAttributeConverter"}),(0,u.__metadata)("design:paramtypes",[hp])],r2);class rg extends t2.t{constructor(e){super(),this._userInfo=e,this.serviceEndpoint=(this._userInfo.isSSP?"ssp/":"")+"rest/SearchFilterQueryAnalyzerService"}_createErrorResponse(e){return{success:!1,errorInfo:{message:e},isNeedOptimization:!0}}_catchErrorResponse(e){const n=e.error?.errorInfo?.message??e.message,a=this._createErrorResponse(n);return(0,m.of)(a)}analyze(e,n){return this.executePostRequestWithCache("Analyze",{schemaName:e,columns:n}).pipe((0,h.catchError)(a=>this._catchErrorResponse(a)))}static{this.\u0275fac=function(n){return new(n||rg)(t.\u0275\u0275inject(Ze.oq))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:rg,factory:rg.\u0275fac})}}let o2=class{constructor(e,n){this._featureService=e,this._searchFilterQueryAnalyzerService=n}_getTargets(e){return JSON.parse(decodeURIComponent(e))}_getIsSearchFilterQueryAnalyzerEnabled(){return this._featureService.getFeatureState("SearchFilterQueryAnalyzerEnabled")}_getIsNeedShowAllOptionForTargets(e,n){var a=this;return(0,bt.A)(function*(){if(!(yield a._getIsSearchFilterQueryAnalyzerEnabled()))return!0;for(const s of n)if(yield a._getIsNeedOptimization(e,s.viewAttribute.name,s.columnsModel.columns))return!1;return!0})()}_getIsNeedOptimization(e,n,a){var i=this;return(0,bt.A)(function*(){if(yield i._isCollectionAttributeHasFixedFilter(e,n))return!1;const s=e.getBoundDataSchemaByAttributePath(n)?.name,b=a.map(W=>W.path);return(0,y.isEmpty)(s)||a.length===0?!1:(yield(0,m.firstValueFrom)(i._searchFilterQueryAnalyzerService.analyze(s,b))).isNeedOptimization})()}_isCollectionAttributeHasFixedFilter(e,n){var a=this;return(0,bt.A)(function*(){const i=e.getBoundDataSourceNameByAttributePath(n)||"",s=yield e.getDataSourceLoadParameters(i);let b=!1;return(0,y.each)(s.parameters,D=>(b=a._isParameterHasFilter(D),!b)),b})()}_isParameterHasFilter(e){return!(0,y.isEmpty)(e.relationsConfigs)}convert(e,n,a){var i=this;return(0,bt.A)(function*(){if((0,y.isEmpty)(a))return;const s=i._getTargets(a);if((0,y.isEmpty)(s))return;const b=n;return{showAllOption:yield i._getIsNeedShowAllOptionForTargets(b,s),columnsGroups:s.map(W=>({group:W.viewAttribute,columns:W.columnsModel.columns})),primaryColumnName:s.slice().shift()?.columnsModel.primaryDisplayName}})()}};o2=(0,u.__decorate)([(0,so.a)({type:"crt.SearchFilterColumnsGroupsConfigConverter"}),(0,u.__metadata)("design:paramtypes",[Q5.w,rg])],o2);let s2=class{constructor(e){this._searchFilterBuilder=e}_getListConfigColumns(e,n){var a=this;return(0,bt.A)(function*(){return(yield e[n])?.columns?.map(s=>a._mapPathToColumnName(s.path)).filter(Boolean)||[]})()}_mapPathToColumnName(e){return e?.replace(/\./g,"")}convert(e,n,a,i){var s=this;return(0,bt.A)(function*(){if((0,y.isEmpty)(e))return null;const b=yield s._getListConfigColumns(n,i);return(0,y.isEmpty)(b)?null:s._searchFilterBuilder.buildFilter(n,e,b,a)})()}};s2=(0,u.__decorate)([(0,so.a)({type:"crt.WidgetSearchFilterAttributeConverter"}),(0,u.__metadata)("design:paramtypes",[hp])],s2);let ui=class o4{static{this.\u0275fac=function(n){return new(n||o4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:o4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[hp,rg],imports:[_.CommonModule,Vn.d,_t.MatIconModule,_e.S,Q.MatLegacyMenuModule,lt.MatLegacyInputModule,f.TranslateModule]})}};ui=(0,u.__decorate)([(0,ie.g)({viewElements:[Yn],converters:[r2,o2,s2]})],ui),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(ui,{declarations:[Yn,ng],imports:[Nn,_.CommonModule,Vn.d,_t.MatIconModule,_e.S,Q.MatLegacyMenuModule,lt.MatLegacyInputModule,f.TranslateModule],exports:[Yn]})}();class es{static{this.\u0275fac=function(n){return new(n||es)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:es})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[ui,tn]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(es,{declarations:[ag],imports:[ui,tn],exports:[ag]})})();let mi=class s4{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"image-placeholder",icon:o(88574)},{name:"image-input-delete",icon:o(59047)},{name:"image-input-attach",icon:o(39416)}])}static{this.\u0275fac=function(n){return new(n||s4)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:s4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,_t.MatIconModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,dn.MatTooltipModule,fe.q,Sn.u,Je.V,re,_e.S,Te.c,f.TranslateModule]})}};mi=(0,u.__decorate)([(0,ie.g)({viewElements:[Pn]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],mi),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(mi,{declarations:[Pn],imports:[_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,_t.MatIconModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,Le.C,dn.MatTooltipModule,fe.q,Sn.u,Je.V,re,_e.S,Te.c,f.TranslateModule],exports:[Pn]})}();const sC="operator-state-green",cC="operator-state-red",c6="operator-state-grey";class og{constructor(e,n,a,i,s){this.queryExecutor=e,this.httpClient=n,this.messageChannelService=a,this._sysSettingsService=i,this._customEventService=s,this._serviceUrl="/rest/OmnichannelOperatorService/",this._ctiPositiveIconId="b77cf972-fbc4-4bc3-b72d-c0f113c97089",this._ctiNegativeIconId="6c6884c8-52ee-41d0-89d7-f25483e3afe6",this._chatOperatorStatesCache=[],this._ctiAgentStatesCache=[]}_getCtiAgentStatesQuery(e){const n=new qa.s("SysMsgUserState");return n.addSchemaColumn("Id"),n.addSchemaColumn("Name"),n.addSchemaColumn("Code"),n.addSchemaColumn("IsDisplayOnly"),n.addSchemaColumn("Icon"),n.addSchemaColumn("[SysMsgUserStateReason:SysMsgUserState].Code","StateReasonCode"),n.addSchemaColumn("[SysMsgUserStateReason:SysMsgUserState].Name","StateReasonName"),n.filters.addSchemaColumnFilterWithParameter(He.H.Equal,"[SysMsgUserStateInLib:SysMsgUserState].SysMsgLib",e),n}_getChatIcon(e){return e?sC:cC}_mapCtiAgentState(e){return{value:e.Id,code:e.Code,displayValue:e.Name,displayOnly:e.IsDisplayOnly,reasonCode:e.StateReasonCode,reasonName:e.StateReasonName,icon:this._getCtiIcon(e.Icon?.value)}}_getCtiIcon(e){switch(e?.toLowerCase()||""){case this._ctiPositiveIconId:return sC;case this._ctiNegativeIconId:return cC;default:return c6}}getChatOperatorStates(){if(this._chatOperatorStatesCache.length>0)return(0,m.of)(this._chatOperatorStatesCache);const e=new qa.s("OperatorState");return e.addSchemaColumn("Id"),e.addSchemaColumn("Name"),e.addSchemaColumn("Code"),e.addSchemaColumn("OperatorAvailable"),this.queryExecutor.executeSelectQuery(e).pipe((0,h.map)(n=>n.map(a=>({value:a.Id,code:a.Code,displayValue:a.Name,icon:this._getChatIcon(a.OperatorAvailable)}))),(0,h.tap)(n=>this._chatOperatorStatesCache=n))}getCtiAgentStates(){return this._ctiAgentStatesCache.length>0?(0,m.of)(this._ctiAgentStatesCache):this._sysSettingsService.getByCode("SysMsgLib").pipe((0,h.switchMap)(e=>{const n=this._getCtiAgentStatesQuery(e.value);return this.queryExecutor.executeSelectQuery(n).pipe((0,h.map)(a=>a.map(i=>this._mapCtiAgentState(i))))}),(0,h.tap)(e=>this._ctiAgentStatesCache=e))}getChatOperatorState(){const e=this._serviceUrl+"GetCurrentState";return this.httpClient.post(e,null).pipe((0,h.map)(n=>n.CurrentStateCode))}changeChatOperatorState(e){const n=this._serviceUrl+"ChangeState";return this.httpClient.post(n,{newState:e})}changeCtiAgentState(e){const n={type:"crt.7XRequest",action:"HandleCtiAgentStateChange",$context:{},payload:{agentState:e.code,agentStateReasonCode:e.reasonCode}};return(0,m.of)(Ar.t.instance.process(n))}subscribeChatOperatorStateChange(){return this.messageChannelService.messageEvent$.pipe((0,h.filter)(e=>["OperatorStateChanged"].includes(e?.header?.sender)),(0,h.map)(e=>e.body))}subscribeCtiAgentStateChange(){return this._customEventService.subscribe("CtiModelEvents").pipe((0,h.filter)(e=>e[0]==="agentStateChanged"),(0,h.map)(e=>{const n=e[1];return{stateCode:n.userState,reasonCode:n.userStateReasonCode}}))}static{this.\u0275fac=function(n){return new(n||og)(t.\u0275\u0275inject(An.w),t.\u0275\u0275inject(l.HttpClient),t.\u0275\u0275inject(qy.A),t.\u0275\u0275inject(Js),t.\u0275\u0275inject(E.Dj))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:og,factory:og.\u0275fac,providedIn:"root"})}}const NT=r=>({glassmorphism:r});function VT(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"crt-button",1),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("useGlassmorphism",n.useGlassmorphism)("size","medium")("icon",n.getBtnIcon())("iconPosition","left-icon")("menuItems",n.operatorStatesMenuItems)("ngClass",t.\u0275\u0275pureFunction1(7,NT,n.useGlassmorphism)),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.getBtnCaption(),`
`)}}let _p=class c4 extends ue.K{get currentOperatorState(){return this._currentOperatorState}get currentCtiAgentState(){return this._currentCtiAgentState}get operatorStatesMenuItems(){return this._operatorStatesMenuItems}constructor(e,n,a){super(e),this.operatorStatusService=n,this._translateService=a,this._subscriptions=new m.Subscription,this.useGlassmorphism=!1}_onChatOperatorStateChange(e){const n=this._chatOperatorStates?.find(a=>a.code===e.StateCode);n&&(this._currentOperatorState=n,this.changeDetectorRef.detectChanges())}_onCtiAgentStateChange(e,n){const a=this._ctiAgentStates.find(i=>n?i.code===e&&i.reasonCode===n:i.code===e);this._currentCtiAgentState=a,this._ctiAgentStateMenuItems||this._setStatesMenu(),this.changeDetectorRef.detectChanges()}_setStatesMenu(){const e=this._getChatOperatorStateMenuItems(),n=this._getCtiAgentStateMenuItems();this._operatorStatesMenuItems=[],e.length>0&&n.length>0&&this._operatorStatesMenuItems.push({type:"crt.MenuLabel",caption:this._translateService.instant("OperatorState.ChatStatesMenuCaption")}),this._operatorStatesMenuItems=this._operatorStatesMenuItems.concat(e),e.length>0&&n.length>0&&this._operatorStatesMenuItems.push({type:"crt.MenuLabel",caption:this._translateService.instant("OperatorState.CtiStatesMenuCaption")}),this._operatorStatesMenuItems=this._operatorStatesMenuItems.concat(n)}_getChatOperatorStateMenuItems(){return!this._currentOperatorState||this._chatOperatorStateMenuItems?this._chatOperatorStateMenuItems??[]:(this._chatOperatorStateMenuItems=(this._chatOperatorStates||[]).map(e=>({caption:e.displayValue,type:"crt.MenuItem",icon:e.icon,handleItemClick:()=>this.changeChatOperatorState(e)})),this._chatOperatorStateMenuItems)}_getCtiAgentStateMenuItems(){if(!this._currentCtiAgentState||this._ctiAgentStateMenuItems)return this._ctiAgentStateMenuItems??[];const e=[];return(this._ctiAgentStates||[]).filter(n=>!n.displayOnly).forEach(n=>{const a=e.find(s=>s.name===n.code),i=a??{icon:n.icon,caption:n.displayValue,name:n.code,type:"crt.MenuItem",items:[],handleItemClick:()=>this.changeCtiAgentState(n)};a||e.push(i),n.reasonCode&&(i.items=[...i.items||[],{icon:n.icon,caption:n.reasonName,name:n.code,type:"crt.MenuItem",items:[],handleItemClick:()=>this.changeCtiAgentState(n)}])}),this._ctiAgentStateMenuItems=e,e}ngOnInit(){(0,m.forkJoin)([this.operatorStatusService.getChatOperatorState(),this.operatorStatusService.getChatOperatorStates(),this.operatorStatusService.getCtiAgentStates()]).subscribe(([e,n,a])=>{this._chatOperatorStates=n,this._ctiAgentStates=a,this._currentOperatorState=this._chatOperatorStates?.find(i=>i.code===e),this._setStatesMenu()}),this._subscriptions.add(this.operatorStatusService.subscribeChatOperatorStateChange().subscribe(e=>{this._onChatOperatorStateChange(e)})),this._subscriptions.add(this.operatorStatusService.subscribeCtiAgentStateChange().subscribe(({stateCode:e,reasonCode:n})=>{this._onCtiAgentStateChange(e,n)}))}changeChatOperatorState(e){this._currentOperatorState=e,this.operatorStatusService.changeChatOperatorState(e.code).subscribe()}changeCtiAgentState(e){this.operatorStatusService.changeCtiAgentState(e).subscribe()}getBtnCaption(){const e=this._currentOperatorState?.displayValue,n=this._currentCtiAgentState&&this._currentCtiAgentState.reasonName?`${this._currentCtiAgentState.displayValue} (${this._currentCtiAgentState.reasonName})`:this._currentCtiAgentState?.displayValue;return e&&n?`${e} | ${n}`:e||n}getBtnIcon(){const e=this._currentOperatorState?.icon,n=this._currentCtiAgentState?.icon;return n&&e?[n,e].includes(sC)?sC:[n,e].includes(cC)?cC:c6:n||e}ngOnDestroy(){this._subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||c4)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(og),t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:c4,selectors:[["crt-operator-state"]],inputs:{useGlassmorphism:"useGlassmorphism"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["clickMode","menu",3,"useGlassmorphism","size","icon","iconPosition","menuItems","ngClass",4,"ngIf"],["clickMode","menu",3,"useGlassmorphism","size","icon","iconPosition","menuItems","ngClass"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,VT,2,9,"crt-button",0),n&2&&t.\u0275\u0275property("ngIf",(a.operatorStatesMenuItems==null?null:a.operatorStatesMenuItems.length)>0)},dependencies:[_.NgClass,_.NgIf,Jt],styles:["[_nghost-%COMP%]{--button-border-radius: 12px}[_nghost-%COMP%]   crt-button.glassmorphism[_ngcontent-%COMP%]{--crt-button-default-contrast-color: var(--crt-palette-navigation-primary-A100);--crt-button-default-color: rgba(255, 255, 255, .1);--crt-button-default-hover-color: rgba(255, 255, 255, .1);--crt-button-default-pressed-color: rgba(255, 255, 255, .1)}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],_p.prototype,"useGlassmorphism",void 0),_p=(0,u.__decorate)([(0,Qt.v)({type:"crt.OperatorState",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector,og,f.TranslateService])],_p);let ns=class l4{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"operator-state-green",icon:o(67365)},{name:"operator-state-grey",icon:o(23909)},{name:"operator-state-red",icon:o(21193)}])}static{this.\u0275fac=function(n){return new(n||l4)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:l4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,vn,re]})}};ns=(0,u.__decorate)([(0,ie.g)({viewElements:[_p]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],ns),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(ns,{declarations:[_p],imports:[_.CommonModule,vn,re],exports:[_p]})}();let as=class d4{static{this.\u0275fac=function(n){return new(n||d4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:d4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[fe.q,_.CommonModule,Bi,Ea,_t.MatIconModule,_e.S,f.TranslateModule]})}};as=(0,u.__decorate)([(0,ie.g)({viewElements:[cr]})],as),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(as,{declarations:[cr],imports:[fe.q,_.CommonModule,Bi,Ea,_t.MatIconModule,_e.S,f.TranslateModule],exports:[cr]})}();var FT=o(12886),c2=o(75816);let dl=class p4{constructor(e){this._materialIconsRegistrator=e;const n=[{name:"bento-space-icon",icon:o(87940)},{name:"creatio-logo",icon:o(46696)},{name:"help-menu",icon:o(22512)},{name:"external-access",icon:o(12887)},{name:"quick-run-process",icon:o(69258)},{name:"settings-menu",icon:o(63762)},{name:"tools-icon",icon:o(52440)},{name:"tools-icon-has-new",icon:o(72858)},{name:"notifications-icon",icon:o(4803)},{name:"notifications-icon-has-new",icon:o(31617)},{name:"go-out-icon",icon:o(53594)},{name:"online-help",icon:o(72816)},{name:"timer-icon",icon:o(72546)},{name:"version-icon",icon:o(32867)},{name:"license-warning",icon:o(14477)},{name:"organization-profile",icon:o(5852)},{name:"release-notes",icon:o(8644)},{name:"legacy-side-panel-icon",icon:o(56057)}];this._materialIconsRegistrator.addIcons(n)}static{this.\u0275fac=function(n){return new(n||p4)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:p4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:By,useClass:Z1},B5,qm,rp,{provide:op.x,useClass:Wm}],imports:[Je.V,_.CommonModule,re,ts,tn,_e.S,_t.MatIconModule,vn,mi,es,as,Ne,ns,f.TranslateModule]})}};dl=(0,u.__decorate)([(0,ie.g)({includes:[re,Ne,vn],viewElements:[oa]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],dl),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(dl,{declarations:[oa,y1,lp,M1,x1,cl,P1,D1,L1,k1,W1,K1,$1],imports:[Je.V,_.CommonModule,re,ts,tn,_e.S,_t.MatIconModule,vn,mi,es,as,Ne,ns,f.TranslateModule],exports:[oa]})}(),t.\u0275\u0275setComponentScope(oa,[FT.N,c2.Q,_.NgForOf,_.NgIf,Hn,ag,_p,y1,lp,M1,x1,cl,P1,D1,L1,k1,W1,K1,$1],[_.AsyncPipe]),t.\u0275\u0275setComponentScope(lp,[ha],[]),t.\u0275\u0275setComponentScope(cl,[ha],[_.AsyncPipe]);var Hi=o(1624);class is{constructor(){this._showArticleDetails$=new m.Subject,this._closeArticleDialog$=new m.Subject}showArticle(e){this._showArticleDetails$.next(e)}articleShowed(){return this._showArticleDetails$.asObservable()}closeArticleDialog(){this._closeArticleDialog$.next()}articleDialogClosed(){return this._closeArticleDialog$.asObservable()}static{this.\u0275fac=function(n){return new(n||is)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:is,factory:is.\u0275fac,providedIn:"root"})}}var lC;(function(r){r.Dialog="dialog",r.Full="full"})(lC||(lC={}));function jT(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"crt-button",8),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.backToList())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"crt-label",9)(4,"crt-article-actions",6),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(2,4,"Playbook.Actions.Back")),t.\u0275\u0275advance(2),t.\u0275\u0275property("title",n.article==null?null:n.article.caption)("caption",n.article==null?null:n.article.caption),t.\u0275\u0275advance(),t.\u0275\u0275property("article",n.article)}}class pl{constructor(e){this._domPurifier=e,this.backClicked=new t.EventEmitter,this.viewMode=lC.Full}get content(){return this._domPurifier.sanitize(this.article?.text,{FORBID_TAGS:["style"],ADD_TAGS:["iframe","video"]})}backToList(){this.backClicked.emit()}isFullViewMode(){return this.viewMode===lC.Full}static{this.\u0275fac=function(n){return new(n||pl)(t.\u0275\u0275directiveInject(E.MV))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:pl,selectors:[["crt-article-details"]],inputs:{article:"article",viewMode:"viewMode"},outputs:{backClicked:"backClicked"},decls:8,vars:7,consts:[[1,"full-article"],["class","title-wrapper",4,"ngIf"],["crtFullSizeImage","","crtCodeSnippetHighlight","","crtBlockQuoteHighlight","","crtAnchorScrollHandler","","crtVideoBlockResize","",1,"content",3,"innerHTML"],[1,"tags"],[3,"tags"],[1,"info-wrapper"],[3,"article"],[1,"title-wrapper"],["icon","playbook-back","displayType","text",1,"back-icon",3,"clicked","title"],["labelType","headline-3","labelColor","var(--crt-palette-link-500)",1,"title",3,"title","caption"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,jT,5,6,"div",1),t.\u0275\u0275element(2,"div",2),t.\u0275\u0275pipe(3,"bypassSecurityTrust"),t.\u0275\u0275elementStart(4,"div",3),t.\u0275\u0275element(5,"crt-article-tags",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",5),t.\u0275\u0275element(7,"crt-article-info",6),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isFullViewMode()),t.\u0275\u0275advance(),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind2(3,4,a.content,"html"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(3),t.\u0275\u0275property("tags",a.article==null?null:a.article.tags),t.\u0275\u0275advance(2),t.\u0275\u0275property("article",a.article))},styles:[".full-article[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;overflow:hidden}.full-article[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1 0 0}.full-article[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{display:flex;width:16px;height:16px;justify-content:center;align-items:center;cursor:pointer}.full-article[_ngcontent-%COMP%]   .title-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:8px;flex:1 0 0;overflow:hidden}.full-article[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{word-break:break-word}.full-article[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{word-break:break-all}.full-article[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{padding:8px 0}"]})}}class Y1 extends Zd{constructor(e,n,a,i){super(e,n),this._window=a,this._articleCommunicationService=i,this._subscriptions=new m.Subscription}closeDialog(){this.dialog?.close()}openArticlePage(){const e=(0,x.TX)("KnowledgeBase",this.data.article?.id);this._window.open(e,"_blank")}ngOnInit(){this._subscriptions.add(this._articleCommunicationService.articleDialogClosed().subscribe(()=>this.closeDialog()))}ngOnDestroy(){this._subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||Y1)(t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef),t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA,8),t.\u0275\u0275directiveInject(E.ZP),t.\u0275\u0275directiveInject(is))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Y1,selectors:[["crt-article-dialog"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:13,vars:14,consts:[[1,"title-wrapper"],["labelType","headline-3","labelColor","var(--crt-palette-secondary-500)",1,"title",3,"title","caption"],[1,"actions"],["icon","combobox-go-to-source","displayType","text",1,"open-article","icon",3,"clicked","title"],["icon","close-icon","displayType","text",1,"close-article","icon",3,"clicked","title"],[1,"article-details-wrapper"],[3,"viewMode","article"],[1,"footer"],["color","default",1,"close-article-button",3,"clicked","size"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"crt-label",1),t.\u0275\u0275elementStart(2,"div",2)(3,"crt-button",3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275listener("clicked",function(){return a.openArticlePage()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"crt-button",4),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275listener("clicked",function(){return a.closeDialog()}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(7,"div",5),t.\u0275\u0275element(8,"crt-article-details",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",7)(10,"crt-button",8),t.\u0275\u0275listener("clicked",function(){return a.closeDialog()}),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("title",a.data==null||a.data.article==null?null:a.data.article.caption)("caption",a.data==null||a.data.article==null?null:a.data.article.caption),t.\u0275\u0275advance(2),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(4,8,"Playbook.Dialog.Actions.OpenPage")),t.\u0275\u0275advance(2),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(6,10,"Playbook.Dialog.Actions.Close")),t.\u0275\u0275advance(3),t.\u0275\u0275property("viewMode","dialog")("article",a.data==null?null:a.data.article),t.\u0275\u0275advance(2),t.\u0275\u0275property("size","large"),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,12,"Playbook.Dialog.Actions.Close")))},dependencies:[hn,Jt,pl,f.TranslatePipe],styles:[".title-wrapper[_ngcontent-%COMP%]{height:32px}.title-wrapper[_ngcontent-%COMP%]   crt-label[_ngcontent-%COMP%]{width:calc(100% - 48px);display:inline-block}.title-wrapper[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.title-wrapper[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-left:8px}.article-details-wrapper[_ngcontent-%COMP%]{overflow:hidden auto;max-height:80vh}.article-details-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{-webkit-appearance:none}.footer[_ngcontent-%COMP%]{display:flex;padding-top:12px;justify-content:flex-end;align-items:flex-start;gap:8px;align-self:stretch}.footer[_ngcontent-%COMP%]   .close-article-button[_ngcontent-%COMP%]{display:flex;align-items:flex-end;gap:4px}"]})}}class sg{constructor(e){this._dialogProvider=e}open(e){const n={...e,panelClass:["crt-article-dialog"]};return this._dialogProvider.open(Y1,n)}static{this.\u0275fac=function(n){return new(n||sg)(t.\u0275\u0275inject(Jd))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:sg,factory:sg.\u0275fac})}}class cg{constructor(e){this._messageDialogProvider=e.get(sg)}onExpandClick(){this._messageDialogProvider.open({data:{article:this.article}})}static{this.\u0275fac=function(n){return new(n||cg)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:cg,selectors:[["crt-article-actions"]],inputs:{article:"article"},decls:2,vars:3,consts:[["icon","expand-icon","displayType","text",1,"expand-icon",3,"clicked","title"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"crt-button",0),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("clicked",function(){return a.onExpandClick()}),t.\u0275\u0275elementEnd()),n&2&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"Playbook.Actions.OpenInDialog"))},dependencies:[Jt,f.TranslatePipe],styles:[".expand-icon[_ngcontent-%COMP%]{width:16px;height:16px}"]})}}var ul=o(53703);const BT=r=>({dataType:r});class lg{constructor(e){this._articleCommunicationService=e,this.dateValueType=X.r.Date}get photoUrl(){const e=this.article?.author?.primaryImageValue;return e&&e!==de.To?(0,Zo.Mc)(e):""}get authorLink(){return(0,x.TX)("Contact",this.article?.author?.value)}onLinkClick(e,n){var a=this;return(0,bt.A)(function*(){a._articleCommunicationService.closeArticleDialog();const i={type:"crt.UpdateRecordRequest",entityName:e,recordId:n,$context:null};yield Ar.t.instance.process(i)})()}static{this.\u0275fac=function(n){return new(n||lg)(t.\u0275\u0275directiveInject(is))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:lg,selectors:[["crt-article-info"]],inputs:{article:"article"},decls:9,vars:11,consts:[[1,"info"],["readonly","true","placeholderMode","abbreviation","borderRadius","large","positioning","scale-down","size","none","inert","",1,"author-photo",3,"value","placeholder","colorId"],["mode","'preventDefault'","underlining","hover",1,"author-link",3,"clicked","href"],[1,"divider"],[1,"date"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"crt-image-input",1),t.\u0275\u0275elementStart(2,"crt-link",2),t.\u0275\u0275listener("clicked",function(){return a.onLinkClick("Contact",a.article==null||a.article.author==null?null:a.article.author.value)}),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",3),t.\u0275\u0275text(5,"|"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",4),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"dateTimeFormat"),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("value",a.photoUrl)("placeholder",a.article==null||a.article.author==null?null:a.article.author.displayValue)("colorId",a.article==null||a.article.author==null?null:a.article.author.value),t.\u0275\u0275advance(),t.\u0275\u0275property("href",a.authorLink),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",a.article==null||a.article.author==null?null:a.article.author.displayValue," "),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(8,6,a.article==null?null:a.article.modifiedDate,t.\u0275\u0275pureFunction1(9,BT,a.dateValueType))," "))},dependencies:[Pn,ul.h,go.V],styles:[".info[_ngcontent-%COMP%]{display:flex;gap:8px}.info[_ngcontent-%COMP%]   .author-photo[_ngcontent-%COMP%]{width:16px;display:flex;height:16px}"]})}}var dC;(function(r){r.KeyEnterPressed="KeyEnterPressed",r.CaptionClick="CaptionClick",r.ItemFocused="ItemFocused"})(dC||(dC={}));class ml extends ue.K{set itemConfig(e){this._itemConfig=e,this.handleItemConfigChanged(e)}get itemConfig(){return this._itemConfig}set tileSizeClasses(e){this._tileSizeClasses=e}get tileSizeClasses(){return this._tileSizeClasses}constructor(e){super(e),this.injector=e,this.elementRef=this.injector.get(t.ElementRef),this.sanitizer=this.injector.get(p.DomSanitizer)}getImageValue(e){return typeof e=="string"?e:e?.url}getDefaultImage(){return this.itemConfig?.defaultImage}createImageResource(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}getRecordMappingKey(e){return(this.itemConfig?.templateValuesMapping||{})[e]}handleItemConfigChanged(e){}dispatchCustomEvent(e,n){const a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});this.elementRef.nativeElement.dispatchEvent(a)}onCaptionClick(){this.dispatchCustomEvent("itemEvent",dC.CaptionClick)}getRecordValue(e){let n=this.record instanceof xr.o?this.record.attributes:this.record;n=n||{};const a=this.getRecordMappingKey(e)||e;return n[a]}static{this.\u0275fac=function(n){return new(n||ml)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:ml,inputs:{record:"record",itemConfig:"itemConfig",isSelected:"isSelected",tileSizeClasses:"tileSizeClasses"},features:[t.\u0275\u0275InheritDefinitionFeature]})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ml.prototype,"record",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],ml.prototype,"isSelected",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],ml.prototype,"tileSizeClasses",null);class fp{static{this.\u0275fac=function(n){return new(n||fp)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:fp,selectors:[["crt-base-image-list-default-item-image"]],decls:2,vars:0,consts:[[1,"crt-base-image-list-default-item-image-wrapper"],[1,"crt-base-image-list-default-item-image-icon"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"div",1),t.\u0275\u0275elementEnd())},styles:["[_nghost-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .crt-base-image-list-default-item-image-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%;background:linear-gradient(to right,#1818180d,#18181800)}[_nghost-%COMP%]   .crt-base-image-list-default-item-image-wrapper[_ngcontent-%COMP%]   .crt-base-image-list-default-item-image-icon[_ngcontent-%COMP%]{background-size:cover;width:48px;height:48px;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzMiIHZpZXdCb3g9IjAgMCAzMiAzMyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aA0KICAgICAgICBkPSJNMTUuOTkyMiAyMkMxOC40Nzc1IDIyIDIwLjQ5MjIgMTkuOTg1MyAyMC40OTIyIDE3LjVDMjAuNDkyMiAxNS4wMTQ3IDE4LjQ3NzUgMTMgMTUuOTkyMiAxM0MxMy41MDY5IDEzIDExLjQ5MjIgMTUuMDE0NyAxMS40OTIyIDE3LjVDMTEuNDkyMiAxOS45ODUzIDEzLjUwNjkgMjIgMTUuOTkyMiAyMloiDQogICAgICAgIGZpbGw9IiNENkQ2RDYiIC8+DQogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiDQogICAgICAgIGQ9Ik0xMC41NDQyIDYuODY3NTRDMTAuODE2NCA2LjA1MDg2IDExLjU4MDcgNS41IDEyLjQ0MTUgNS41SDE5LjU1ODVDMjAuNDE5MyA1LjUgMjEuMTgzNiA2LjA1MDg2IDIxLjQ1NTggNi44Njc1NEwyMiA4LjVIMjVDMjYuNjU2OSA4LjUgMjggOS44NDMxNSAyOCAxMS41VjIzLjVDMjggMjUuMTU2OSAyNi42NTY5IDI2LjUgMjUgMjYuNUg3QzUuMzQzMTUgMjYuNSA0IDI1LjE1NjkgNCAyMy41VjExLjVDNCA5Ljg0MzE1IDUuMzQzMTUgOC41IDcgOC41SDEwTDEwLjU0NDIgNi44Njc1NFpNMTUuOTkyMiAyNEMxOS41ODIgMjQgMjIuNDkyMiAyMS4wODk5IDIyLjQ5MjIgMTcuNUMyMi40OTIyIDEzLjkxMDEgMTkuNTgyIDExIDE1Ljk5MjIgMTFDMTIuNDAyMyAxMSA5LjQ5MjE5IDEzLjkxMDEgOS40OTIxOSAxNy41QzkuNDkyMTkgMjEuMDg5OSAxMi40MDIzIDI0IDE1Ljk5MjIgMjRaTTIzIDEyLjAwNDlDMjMgMTIuODMzMyAyMy42NzE2IDEzLjUwNDkgMjQuNSAxMy41MDQ5QzI1LjMyODQgMTMuNTA0OSAyNiAxMi44MzMzIDI2IDEyLjAwNDlDMjYgMTEuMTc2NSAyNS4zMjg0IDEwLjUwNDkgMjQuNSAxMC41MDQ5QzIzLjY3MTYgMTAuNTA0OSAyMyAxMS4xNzY1IDIzIDEyLjAwNDlaIg0KICAgICAgICBmaWxsPSIjRDZENkQ2IiAvPg0KPC9zdmc+)}"]})}}const zT=["captionContent"],UT=[[["","header",""]],[["","footer",""]],[["","caption",""]]],HT=["[header]","[footer]","[caption]"],WT=r=>({"crt-base-image-list-selected-item":r});function GT(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",3),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function $T(r,e){if(r&1&&t.\u0275\u0275element(0,"img",12),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("src",n.getImageSource(),t.\u0275\u0275sanitizeUrl)("alt",n.getRecordValue("caption"))}}function KT(r,e){r&1&&t.\u0275\u0275element(0,"crt-base-image-list-default-item-image")}function ZT(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function QT(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementContainer(1,13),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("crtViewElement",n.itemConfig.captionViewConfig)("crtViewModel",n.record)}}function YT(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"label",17),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(i.onCaptionClick())}),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.getRecordValue("caption")," ")}}function JT(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",15)(1,"div",null,1),t.\u0275\u0275projection(3,2),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,YT,2,1,"label",16),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",n.isValueNotNullOrEmpty(n.getRecordValue("caption"))&&!n.hasCustomCaptionContent)}}function XT(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,JT,5,1,"div",14),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isValueNotNullOrEmpty(n.getRecordValue("caption"))||n.hasCustomCaptionContent)}}function qT(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",18),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.getRecordValue("description")," ")}}function tP(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",4),t.\u0275\u0275projection(1),t.\u0275\u0275elementStart(2,"div",5),t.\u0275\u0275template(3,$T,1,2,"img",6)(4,KT,1,0,"crt-base-image-list-default-item-image",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",8)(6,"div",9),t.\u0275\u0275template(7,ZT,1,0,"ng-container",10)(8,QT,2,2,"ng-container",7)(9,XT,2,1,"ng-container",7)(10,qT,2,1,"div",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275projection(11,1),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(9,WT,n.isSelected)),t.\u0275\u0275attribute("aria-label",n.getRecordValue("caption")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",n.tileSizeClasses),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.hasImageOrDefaultImage()),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.hasImageOrDefaultImage()),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngTemplateOutlet",n.dynamicTemplate),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.itemConfig==null?null:n.itemConfig.captionViewConfig),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!(n.itemConfig!=null&&n.itemConfig.captionViewConfig)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isValueNotNullOrEmpty(n.getRecordValue("description")))}}class gl extends ml{constructor(e){super(e),this.injector=e,this.skeletonStyles={height:"36px",width:"120px"}}getRecordImage(){return this.getImageValue(this.getRecordValue("image"))}getDefaultImage(){return this.itemConfig?.defaultImage}ngAfterViewInit(){this.hasCustomCaptionContent=this.captionContent?.nativeElement?.childNodes.length>0,this.detectChanges()}isValueNotNullOrEmpty(e){return e?.length>0}hasImage(){return this.getRecordImage()?.length>0}hasImageOrDefaultImage(){return this.hasImage()||!!this.getDefaultImage()}getImageSource(){const e=this.hasImage()?this.getRecordImage():this.getDefaultImage();return this.createImageResource(e)}static{this.\u0275fac=function(n){return new(n||gl)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:gl,selectors:[["crt-base-image-list-default-item"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(zT,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.captionContent=i.first)}},inputs:{dynamicTemplate:"dynamicTemplate"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:HT,decls:3,vars:2,consts:[["baseImageListDefaultItem",""],["captionContent",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],[1,"crt-base-image-list-item","crt-base-image-list-item-content-wrap",3,"ngClass"],[1,"crt-base-image-list-item-image-wrap",3,"ngClass"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[1,"crt-base-image-list-item-template-wrap"],[1,"crt-base-image-list-item-info"],[4,"ngTemplateOutlet"],["class","crt-base-image-list-item-description",4,"ngIf"],[3,"src","alt"],[3,"crtViewElement","crtViewModel"],["class","crt-base-image-list-item-caption",4,"ngIf"],[1,"crt-base-image-list-item-caption"],[3,"click",4,"ngIf"],[3,"click"],[1,"crt-base-image-list-item-description"]],template:function(n,a){if(n&1&&(t.\u0275\u0275projectionDef(UT),t.\u0275\u0275template(0,GT,1,1,"crt-skeleton-loader",2)(1,tP,12,11,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.loading)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgIf,_.NgTemplateOutlet,Ad.aD,rn.H,fp],styles:["[_nghost-%COMP%]{min-width:144px;height:100%;display:flex;width:100%}[_nghost-%COMP%]:focus, [_nghost-%COMP%]:focus-visible{outline:none}.crt-base-image-list-item-content-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:12px 12px 16px;border-radius:8px;position:relative}.crt-base-image-list-item-content-wrap[_ngcontent-%COMP%]   .crt-base-image-list-item-image-wrap[_ngcontent-%COMP%]{width:100%;display:flex;border-width:1px;border-style:solid;border-radius:8px;box-sizing:border-box;overflow:hidden}.crt-base-image-list-item-content-wrap[_ngcontent-%COMP%]   .crt-base-image-list-item-image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;object-fit:contain;margin:auto}.crt-base-image-list-item-content-wrap[_ngcontent-%COMP%]   .crt-base-image-list-item-template-wrap[_ngcontent-%COMP%]{display:flex}.crt-base-image-list-item-content-wrap[_ngcontent-%COMP%]   .crt-base-image-list-item-template-wrap[_ngcontent-%COMP%]   .crt-base-image-list-item-info[_ngcontent-%COMP%]{width:100%;box-sizing:border-box}.crt-base-image-list-item-content-wrap[_ngcontent-%COMP%]   .crt-base-image-list-item-template-wrap[_ngcontent-%COMP%]   .crt-base-image-list-item-info[_ngcontent-%COMP%]   .crt-base-image-list-item-caption[_ngcontent-%COMP%]{margin-bottom:8px;overflow:hidden;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:1}.crt-base-image-list-item-content-wrap[_ngcontent-%COMP%]   .crt-base-image-list-item-template-wrap[_ngcontent-%COMP%]   .crt-base-image-list-item-info[_ngcontent-%COMP%]   .crt-base-image-list-item-description[_ngcontent-%COMP%]{overflow:hidden;-webkit-box-orient:vertical;display:-webkit-box;-webkit-line-clamp:3;word-break:break-word}"]})}}var l2;(function(r){r.CheckboxValueChanged="CheckboxValueChanged"})(l2||(l2={}));const l6={...l2,...dC};class dg extends gl{get size(){return this.itemConfig?.defaultSize||ht.Z.Default}constructor(e){super(e),this.injector=e,this._defaultTileSize=ht.Z.Medium,this.defaultItemImage=o(60638),this.elementRef=this.injector.get(t.ElementRef),this._initTileSizeClasses()}_initTileSizeClasses(){const e=this.size===ht.Z.Default?this._defaultTileSize:this.size,n=[""];this.switchClass(n,e,[[ht.Z.Small,"gallery-tile-size-small"],[ht.Z.Medium,"gallery-tile-size-medium"],[ht.Z.Large,"gallery-tile-size-large"],[ht.Z.ExtraLarge,"gallery-tile-size-extra-large"]]),this.tileSizeClasses=n}getDefaultImage(){return this.itemConfig?.defaultImage||this.defaultItemImage}handleItemConfigChanged(e){super.handleItemConfigChanged(e),this._initTileSizeClasses()}hasActionsMenuItems(){return this.itemConfig?.actions?.length>0}onActionsClick(e){e.stopPropagation()}onCheckboxValueChange(e){this.dispatchCustomEvent("checkboxValueChanged",l6.CheckboxValueChanged)}static{this.\u0275fac=function(n){return new(n||dg)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:dg,selectors:[["crt-gallery-base-item"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:0,vars:0,template:function(n,a){},encapsulation:2})}}const d2=new t.InjectionToken("CkeditorUrl");class J1{get highlighter(){return this._highlighter$.getValue()}constructor(e){this._window=e,this._highlighter$=new m.BehaviorSubject(null)}_isScriptAlreadyLoaded(e){const n=document.getElementsByTagName("script");for(let a=0;a<n.length;a++)if(n[a].src===e)return!0;return!1}_isStyleAlreadyLoaded(e){const n=document.getElementsByTagName("link");for(let a=0;a<n.length;a++)if(n[a].href===e)return!0;return!1}onHighlighterLoad(){return this._highlighter$.asObservable()}loadCodeHighlightStyle(e){const n=document.head||document.getElementsByTagName("head")[0];if(this._isStyleAlreadyLoaded(e))return;const a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.href=e,n.appendChild(a)}loadCodeHighlightScript(e){const n=document.head||document.getElementsByTagName("head")[0];if(this._isScriptAlreadyLoaded(e))return;const a=document.createElement("script");a.src=e,a.type="text/javascript",a.async=!0,a.onload=()=>{const i=this._window.hljs;this._highlighter$.next(i)},n.appendChild(a)}static{this.\u0275fac=function(n){return new(n||J1)(t.\u0275\u0275inject(E.ZP))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:J1,factory:J1.\u0275fac,providedIn:"root"})}}class rc{set resetHighlightCode(e){e&&this._addCodeHighlightClasses()}constructor(e,n,a){this.elementRef=e,this._ckeditorUrl=n,this.highlighterService=a,this._containerClass="code-snippet",this._highlightClass="hljs",this._destroy$=new m.Subject;const i=this._ckeditorUrl.replace("ckeditor.js","");this._styleUrl=i+"/plugins/codesnippet/lib/highlight/styles/default.css",this._highlightUrl=i+"/plugins/codesnippet/lib/highlight/highlight.pack.js"}_highlightInnerContent(e){const n="language-",a=Array.from(e.classList).find(D=>D.startsWith(n))?.replace(n,""),i=e.textContent;if(!i||!this.highlighterService.highlighter)return;const s=this.highlighterService.highlighter.getLanguage(a)?[a]:void 0,b=this.highlighterService.highlighter.highlightAuto(i,s);e.innerHTML=b.value}_addCodeHighlightClasses(){const e=this.elementRef.nativeElement;e.classList.contains(this._containerClass)||e.classList.add(this._containerClass);const n=e.getElementsByTagName("code");for(let a=0;a<n.length;a++)n[a].classList.contains(this._highlightClass)||n[a].classList.add(this._highlightClass),this._highlightInnerContent(n[a])}ngAfterViewInit(){this._addCodeHighlightClasses()}ngOnInit(){this.highlighterService.loadCodeHighlightStyle(this._styleUrl),this.highlighterService.loadCodeHighlightScript(this._highlightUrl),this.highlighterService.onHighlighterLoad().pipe((0,m.takeUntil)(this._destroy$)).subscribe(()=>this._addCodeHighlightClasses())}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}static{this.\u0275fac=function(n){return new(n||rc)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(d2),t.\u0275\u0275directiveInject(J1))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:rc,selectors:[["","crtCodeSnippetHighlight",""]],inputs:{resetHighlightCode:"resetHighlightCode"},standalone:!0})}}class oc{set resetHighlightQuote(e){e&&this._addQuoteHighlightStyles()}constructor(e,n){this._elementRef=e,this._directionality=n,this._highlightStylesMap={rtl:"block-quote-container-rtl",ltr:"block-quote-container-ltr"}}_addQuoteHighlightStyles(){const e=this._elementRef.nativeElement,n=this._highlightStylesMap[this._directionality.value];e.classList.contains(n)||e.classList.add(n)}ngAfterViewInit(){this._addQuoteHighlightStyles()}static{this.\u0275fac=function(n){return new(n||oc)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(me.Directionality))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:oc,selectors:[["","crtBlockQuoteHighlight",""]],inputs:{resetHighlightQuote:"resetHighlightQuote"},standalone:!0})}}class sc{set resetResizeVideo(e){e&&this._addResizeListeners()}constructor(e,n){this._elementRef=e,this._platform=n,this._containerClass="video-block-resize",this._resizableClass="resizable-video-wrapper",this.enableSizeChanges=!1,this.sizeChanged=new t.EventEmitter}_listenChildRemoved(e){const n=e.firstChild;if(!n)return;const a=new MutationObserver(i=>{i.forEach(s=>{s.removedNodes.forEach(b=>{b===n&&(e?.remove(),a.disconnect())})})});a.observe(e,{childList:!0})}_handleVideoResize(e){for(const n of e){const a=n.target,i=n.contentRect;a.style.width=`${i.width}px`,a.style.height=`${i.height}px`}}_initResizeObserver(e){e&&new ResizeObserver(this._handleVideoResize.bind(this)).observe(e)}_handleMouseUp(e){const n=e.target;n&&n.classList.contains(this._resizableClass)&&this.sizeChanged.emit()}_addResizeListeners(){const e=this._elementRef.nativeElement;e.classList.contains(this._containerClass)||(e.classList.add(this._containerClass),this._platform.SAFARI&&e.classList.add("safari")),e.querySelectorAll(`.${this._resizableClass}`)?.forEach(a=>{a.setAttribute("contenteditable","false"),this.enableSizeChanges&&(this._initResizeObserver(a),a.addEventListener("mouseup",this._handleMouseUp.bind(this)),this._listenChildRemoved(a))})}ngAfterViewInit(){this._addResizeListeners()}static{this.\u0275fac=function(n){return new(n||sc)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(Y.Platform))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:sc,selectors:[["","crtVideoBlockResize",""]],inputs:{enableSizeChanges:"enableSizeChanges",resetResizeVideo:"resetResizeVideo"},outputs:{sizeChanged:"sizeChanged"},standalone:!0})}}function eP(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"crt-chip",2),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("title",n==null?null:n.caption)("color",(n==null?null:n.color)||"#009688"),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n==null?null:n.caption," ")}}class pg{constructor(){}static{this.\u0275fac=function(n){return new(n||pg)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:pg,selectors:[["crt-article-tags"]],inputs:{tags:"tags"},decls:2,vars:1,consts:[[1,"tags-wrapper"],[3,"title","color",4,"ngFor","ngForOf"],[3,"title","color"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,eP,2,3,"crt-chip",1),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.tags))},dependencies:[_.NgForOf,R_.j],styles:[".tags-wrapper[_ngcontent-%COMP%]{display:flex;flex-flow:wrap;gap:8px}.tags-wrapper[_ngcontent-%COMP%]   crt-chip[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}"]})}}let X1=class u4 extends dg{constructor(e,n,a){super(e),this._domPurifier=n,this._articleCommunicationService=a,this.showDetails=!1}get tags(){const e=this.getRecordValue("tags");return(Array.isArray(e)?e:[e]).filter(n=>n).map(n=>({caption:n.displayValue,value:n.value,color:n.primaryColorValue}))}get content(){return this._domPurifier.sanitize(this.getRecordValue("text"),{FORBID_TAGS:["style"],ADD_TAGS:["iframe","video"]})}showArticleDetails(){this.showDetails=!this.showDetails,this._articleCommunicationService.showArticle(this.getArticle())}getArticle(){return{caption:this.getRecordValue("caption"),author:this.getRecordValue("author"),modifiedDate:this.getRecordValue("modifiedDate"),tags:this.tags,text:this.content,id:this.getRecordValue("id")}}static{this.\u0275fac=function(n){return new(n||u4)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(E.MV),t.\u0275\u0275directiveInject(is))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:u4,selectors:[["crt-article-preview"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:8,vars:9,consts:[["tabindex","0","crtKeyboardFocusContainer","","crtKeyboardFocusContainerRole","group",1,"preview",3,"click"],["labelType","headline-3","labelColor","var(--crt-palette-navigation-secondary-500)","tabindex","0","role","button",1,"caption",3,"keydown.enter","title","caption"],[3,"article"],[3,"tags"],["crtCodeSnippetHighlight","","crtBlockQuoteHighlight","","crtAnchorScrollHandler","","crtVideoBlockResize","",1,"content",3,"innerHTML"],[1,"footer"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275listener("click",function(){return a.showArticleDetails()}),t.\u0275\u0275elementStart(1,"crt-label",1),t.\u0275\u0275listener("keydown.enter",function(){return a.showArticleDetails()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(2,"crt-article-actions",2)(3,"crt-article-tags",3)(4,"div",4),t.\u0275\u0275pipe(5,"bypassSecurityTrust"),t.\u0275\u0275elementStart(6,"div",5),t.\u0275\u0275element(7,"crt-article-info",2),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("title",a.getRecordValue("caption"))("caption",a.getRecordValue("caption")),t.\u0275\u0275advance(),t.\u0275\u0275property("article",a.getArticle()),t.\u0275\u0275advance(),t.\u0275\u0275property("tags",a.tags),t.\u0275\u0275advance(),t.\u0275\u0275property("innerHTML",t.\u0275\u0275pipeBind2(5,6,a.content,"html"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(3),t.\u0275\u0275property("article",a.getArticle()))},dependencies:[hn,qe,rc,oc,Ys,sc,pg,lg,cg,qs],styles:[".preview[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:8px;border-radius:8px;padding:12px;cursor:pointer}.preview[_ngcontent-%COMP%]   .caption[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3}.preview[_ngcontent-%COMP%]   crt-article-actions[_ngcontent-%COMP%]{position:absolute;display:none;right:8px;top:8px}.preview[_ngcontent-%COMP%]:hover   crt-article-actions[_ngcontent-%COMP%], .preview[_ngcontent-%COMP%]:focus-within   crt-article-actions[_ngcontent-%COMP%]{display:block}.preview[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:4;max-height:100px}.preview[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 0}"]})}};X1=(0,u.__decorate)([(0,Qt.v)({selector:"crt-article-preview",type:"crt.ArticlePreview",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector,Function,is])],X1);var pC;(function(r){r.ViewElementConfig="view-element-config",r.ComponentType="component-type"})(pC||(pC={}));var Wi;(function(r){r.Id="id",r.Caption="caption",r.Content="content",r.Author="author",r.ModifiedOn="modifiedOn",r.Type="type"})(Wi||(Wi={}));var q1;(function(r){r.Selection="selection",r.Filtration="filtration"})(q1||(q1={}));function nP(r){const e=r?.itemKeyProperty||"id";return(r?.templateValuesMapping||{})[e]||e}function d6(r,e){const n=nP(e);return r instanceof xr.o?r?.attributes&&r.attributes[n]:r&&r[n]}class bp extends ue.K{get dataItems(){return this._items}set items(e){if(e instanceof Ni.A){this.initializeDataItemsFromCollection(e);return}this._items=e}constructor(e){super(e),this.injector=e,this.itemConfig={}}initializeDataItemsFromCollection(e){this._itemsChangeSubscription$?.unsubscribe(),this._itemsChangeSubscription$=e.changed.subscribe(()=>this.initializeDataItemsFromCollection(e)),this._items=e}ngOnDestroy(){this._itemsChangeSubscription$?.unsubscribe()}getItemKeyPropertyValue(e){return d6(e,this.itemConfig)}hasData(){return!!this.dataItems?.length}static{this.\u0275fac=function(n){return new(n||bp)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:bp,inputs:{items:"items",itemConfig:"itemConfig"},features:[t.\u0275\u0275InheritDefinitionFeature]})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],bp.prototype,"items",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],bp.prototype,"itemConfig",void 0);class ug{get state(){return this._state}set multiple(e){this._multiple=!!e,this._state=this._normalizeState(this._state)}get multiple(){return this._multiple}constructor(e,n){this._multiple=!1,this._multiple=!!n,this._state=this._normalizeState(e)}_normalizeState(e){return this._multiple?this._normalizeMultipleState(e):this._normalizeSingleState(e)}_normalizeSingleState(e){return e?.type==="all"?{type:"specific",selected:[]}:{type:"specific",selected:(e?.selected||[]).filter(Boolean).slice(0,1)}}_normalizeMultipleState(e){return e?.type==="all"?{type:"all",unselected:(e?.unselected||[]).filter(Boolean)}:{type:"specific",selected:(e?.selected||[]).filter(Boolean)}}_toggle(e,n){const a=n.findIndex(i=>i===e);a===-1?n.push(e):n.splice(a,1)}clear(){this._state={type:"specific",selected:[]}}isSelected(e){return this._state.type==="all"?!this._state.unselected.includes(e):this._state.selected.includes(e)}isUnselected(e){return!this.isSelected(e)}toggleSelection(e){if(this._state.type==="all")return this._toggle(e,this._state.unselected);if(this._multiple)return this._toggle(e,this._state.selected);this._state.selected.includes(e)?this._state.selected=[]:this._state.selected=[e]}}var uC=o(41571),tf=o(51249);const aP=["actionButtons"],iP=()=>[];function rP(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-label",9),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"crt-label",10),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.ngIf,a=t.\u0275\u0275nextContext().ngIf,i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("title",a+" "+n),t.\u0275\u0275attribute("data-item-marker","SelectedItemsCountValue"),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a),t.\u0275\u0275advance(),t.\u0275\u0275classProp("crt-bulk-actions-panel-counter-label-responsible",i.visibleButtons.length===0),t.\u0275\u0275property("title",a+" "+n),t.\u0275\u0275attribute("data-item-marker","SelectedItemsCountCaption"),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n)}}function oP(r,e){r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,rP,5,8,"ng-container",2),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(2,1,"BulkActions.RowsSelection.Selected")))}function sP(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementContainer(1,11),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("crtViewElement",n)}}function cP(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",12),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("mousedown",function(i){return t.\u0275\u0275restoreView(n),t.\u0275\u0275resetView(i.stopPropagation())}),t.\u0275\u0275elementEnd()}if(r&2){let n;const a=t.\u0275\u0275nextContext();t.\u0275\u0275property("menuItems",(n=a.visibleMenuItems)!==null&&n!==void 0?n:t.\u0275\u0275pureFunction0(6,iP))("useGlassmorphism",!0)("title",t.\u0275\u0275pipeBind1(1,4,"DataTable.BulkActions.MoreActions")),t.\u0275\u0275attribute("data-item-marker","MoreActions")}}function lP(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementContainer(1,11),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("crtViewElement",n)}}const dP=.8,pP=250;class Cp{constructor(e){this._changeDetectorRef=e,this.buttons=[],this.visibleButtons=[],this.visibleMenuItems=[],this.integerNumberFormat={dataType:X.r.Integer},this.items=[],this.closed=new t.EventEmitter}_getActionsButton(){return this._changeDetectorRef.detectChanges(),this.actionButtons?.nativeElement}_setButtons(){this.buttons=(this.items??[]).filter(Boolean).map(e=>this._convertToButtonViewConfig(e))}_convertToButtonViewConfig(e){if(!e)return null;const{name:n,bindTo:a,caption:i,icon:s,items:b,visible:D,disabled:W,clicked:ot}=e;return{type:"crt.Button",name:n,bindTo:a,caption:i,title:i,ariaLabel:i,icon:s,iconPosition:pe.LeftIcon,disabled:W,size:ht.Z.Medium,menuItems:b,clickMode:b&&!ot?"menu":"default",menuPanelClass:"crt-bulk-actions-menu",useGlassmorphism:!0,visible:typeof D=="string"||typeof D=="boolean"?D:!0,clicked:Array.isArray(ot)?ot[0]:ot}}_getStartHiddenElementIndex(e,n){let a=null;for(let i=0;i<e.length;i++){const b=e[i].getBoundingClientRect()?.width;if(b>0&&b<n)n-=b;else{a=i;break}}return a}_setToVisibleItems(e,n){const a=Array.from(e).map(i=>i.getAttribute("element-name"));this.visibleButtons=[],this.visibleMenuItems=[],a.forEach((i,s)=>{if(n===null||s<n){const b=this.buttons.find(D=>D.name===i);this.visibleButtons.push(b)}else{const b=this.items.find(D=>D.name===i);this.visibleMenuItems.push(b)}})}_actualizeItemsVisibility(){if(!this.parentWidth)return;const n=this.parentWidth*dP-pP,a=this._getActionsButton().children,i=this._getStartHiddenElementIndex(a,n);this._setToVisibleItems(a,i),this._changeDetectorRef.detectChanges()}ngOnChanges(e){"items"in e&&this._setButtons(),"parentWidth"in e&&this._actualizeItemsVisibility()}ngOnInit(){this._mutationObserver=new MutationObserver(()=>{this._actualizeItemsVisibility()});const e=this._getActionsButton();this._mutationObserver?.observe(e,{childList:!0})}ngOnDestroy(){this._mutationObserver?.disconnect(),this._mutationObserver=null}static{this.\u0275fac=function(n){return new(n||Cp)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Cp,selectors:[["crt-bulk-actions"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(aP,7,t.ElementRef),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.actionButtons=i.first)}},inputs:{selectedItemsCount:"selectedItemsCount",parentWidth:"parentWidth",items:"items"},outputs:{closed:"closed"},features:[t.\u0275\u0275HostDirectivesFeature([qe]),t.\u0275\u0275NgOnChangesFeature],decls:12,vars:12,consts:[["actionButtons",""],["svgIcon","drag",1,"crt-bulk-action-panel-drag-handle"],[4,"ngIf"],[1,"crt-bulk-actions-panel-actions",3,"mousedown"],[4,"ngFor","ngForOf"],["menuPanelClass","crt-bulk-actions-menu","size","medium","clickMode","menu","iconPosition","only-icon","icon","more-vertical-button-icon","ariaLabel","more",3,"menuItems","useGlassmorphism","title","mousedown",4,"ngIf"],["size","medium","iconPosition","only-icon","icon","close-button-icon","ariaLabel","close",3,"mousedown","clicked","title"],[1,"crt-bulk-actions-panel-actions-stub-container"],[1,"crt-bulk-actions-panel-actions-stub"],["labelType","button","labelTextTransform","none","labelTextAlign","end",1,"crt-bulk-actions-panel-counter-value",3,"title"],["labelType","button",1,"crt-bulk-actions-panel-counter-label",3,"title"],[3,"crtViewElement"],["menuPanelClass","crt-bulk-actions-menu","size","medium","clickMode","menu","iconPosition","only-icon","icon","more-vertical-button-icon","ariaLabel","more",3,"mousedown","menuItems","useGlassmorphism","title"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275element(0,"mat-icon",1),t.\u0275\u0275template(1,oP,3,3,"ng-container",2),t.\u0275\u0275pipe(2,"numberFormat"),t.\u0275\u0275elementStart(3,"div",3),t.\u0275\u0275listener("mousedown",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(b.stopPropagation())}),t.\u0275\u0275template(4,sP,2,1,"ng-container",4)(5,cP,2,7,"crt-button",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"crt-button",6),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275listener("mousedown",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(b.stopPropagation())})("clicked",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.closed.emit())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"div",7)(9,"div",8,0),t.\u0275\u0275template(11,lP,2,1,"ng-container",4),t.\u0275\u0275elementEnd()()}n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind2(2,7,a.selectedItemsCount,a.integerNumberFormat)),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",a.visibleButtons),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.visibleMenuItems.length),t.\u0275\u0275advance(),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(7,10,"DataTable.RowsSelection.ClearSelection")),t.\u0275\u0275attribute("data-item-marker","CloseBulkActions"),t.\u0275\u0275advance(3),t.\u0275\u0275attribute("inert",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.buttons))},dependencies:[rn.H,_.NgForOf,_.NgIf,Jt,hn,_t.MatIcon,tf.N,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:flex;padding:8px;padding-inline-start:0;border-radius:4px;box-sizing:border-box;align-items:center}.cdk-drag-dragging[_nghost-%COMP%]{cursor:move}.cdk-drag-dragging[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.crt-bulk-action-panel-drag-handle[_ngcontent-%COMP%]{cursor:move;width:16px;height:16px;flex-shrink:0}.crt-bulk-actions-panel-counter-label[_ngcontent-%COMP%]{display:inline-block;padding-inline-end:6px;cursor:default}.crt-bulk-actions-panel-counter-value[_ngcontent-%COMP%]{display:inline-block;min-width:18px;margin-inline-end:4px}.crt-bulk-actions-panel-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:0 8px;margin:0 8px}.crt-bulk-actions-panel-actions-stub-container[_ngcontent-%COMP%]{width:0;display:flex;overflow:hidden}.crt-bulk-actions-panel-actions-stub[_ngcontent-%COMP%]{display:flex}"],changeDetection:0})}}var hl=o(49391);class _l{set itemConfig(e){this._itemConfig=e,this.handleItemConfigChanged(e)}get itemConfig(){return this._itemConfig}handleItemConfigChanged(e){}static{this.\u0275fac=function(n){return new(n||_l)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:_l,selectors:[["crt-base-image-list-base-item-wrapper"]],inputs:{record:"record",itemConfig:"itemConfig"},decls:0,vars:0,template:function(n,a){},encapsulation:2})}}const uP=["baseImageListItem"];class fl extends _l{set itemStyles(e){this._itemStyles!==e&&(this._itemStyles=e,this._initializeItemElementStyles(),this._oldItemStyles=e)}get itemStyles(){return this._itemStyles}set itemClasses(e){this._itemClasses!==e&&(this._itemClasses=e,this._initializeItemElementClasses())}get itemClasses(){return this._itemClasses}set isSelected(e){this._isSelected=e,this._setIsSelectedProperty(e)}get isSelected(){return this._isSelected}constructor(e){super(),this.render=e,this._itemEventsUnListens=[],this._itemWrapperSelector="base-image-list-item-outer-wrap",this.itemClick=new t.EventEmitter,this.itemDblClick=new t.EventEmitter}getItemComponentNativeElement(){return this.itemComponentRef?.location.nativeElement}_setIsSelectedProperty(e){const n=this.itemComponentRef?.instance;n&&(n.isSelected=e)}_initializeItemComponentRef(){const e=this.getItemComponentClass();this.itemComponentRef=this._generateItemComponentRef(e)}_generateItemComponentRef(e){if(this._clearItemViewContainerRef(),!!e)return this.itemViewContainerRef.createComponent(e)}initializeItemComponentProperties(){const e=this.itemComponentRef?.instance;e&&(e.record=this.record,e.itemConfig=this.itemConfig,e.isSelected=this.isSelected)}_initializeItemElementClasses(){this.getItemComponentNativeElement()&&(0,y.forOwn)(this.itemClasses,(n,a)=>this._toggleItemElementClass(a,n))}_initializeItemElementStyles(){const e=this.getItemComponentNativeElement();e&&((0,y.forOwn)(this._oldItemStyles,(n,a)=>this.render.removeStyle(e,a)),(0,y.forOwn)(this.itemStyles,(n,a)=>this.render.setStyle(e,a,n)))}_initializeItemComponentEvents(){const e=this.getItemComponentNativeElement();if(!e)return;const n=this.record;this._itemEventsUnListens.push(...this.getEventListeners(e,n))}getEventListeners(e,n){return[this.render.listen(e,"click",a=>this.itemClick.emit({event:a,item:n})),this.render.listen(e,"dblclick",a=>this.itemDblClick.emit({event:a,item:n}))]}_toggleItemElementClass(e,n){const a=this.getItemComponentNativeElement();a&&(n?this.render.addClass(a,e):this.render.removeClass(a,e))}_clearItemViewContainerRef(){this.itemViewContainerRef.clear()}_destroyItemComponentRef(){this.itemComponentRef&&(this.itemComponentRef.destroy(),this.itemComponentRef=null)}_destroyItemEventListeners(){this._itemEventsUnListens.forEach(e=>e()),this._itemEventsUnListens=[]}initializeItem(){this._initializeItemComponentRef(),this._initializeItemElementClasses(),this.initializeItemElementDefaultClasses(),this._initializeItemElementStyles(),this.initializeItemComponentProperties(),this._initializeItemComponentEvents()}initializeItemElementDefaultClasses(){this._toggleItemElementClass(this._itemWrapperSelector,!0)}handleItemConfigChanged(e){const n=this.itemComponentRef?.instance;n&&(n.itemConfig=e)}getItemComponentClass(){return this.itemConfig?.componentClassFactory?.(this.record)}ngOnInit(){this.initializeItem()}ngOnDestroy(){this._destroyItemComponentRef(),this._clearItemViewContainerRef(),this._destroyItemEventListeners()}static{this.\u0275fac=function(n){return new(n||fl)(t.\u0275\u0275directiveInject(t.Renderer2))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:fl,selectors:[["crt-base-item-list-item-wrapper"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(uP,7,t.ViewContainerRef),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.itemViewContainerRef=i.first)}},inputs:{itemStyles:"itemStyles",itemClasses:"itemClasses",isSelected:"isSelected"},outputs:{itemClick:"itemClick",itemDblClick:"itemDblClick"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["baseImageListItem",""]],template:function(n,a){n&1&&t.\u0275\u0275elementContainer(0,null,0)},encapsulation:2,changeDetection:0})}}const p6=r=>({$implicit:r});function mP(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-label",7),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onCaptionClick())}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("caption",n.getRecordValue("caption"))}}function gP(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-button",10),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onActionsClick(i))}),t.\u0275\u0275element(3,"mat-icon",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"crt-menu",12,0),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275reference(5),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(2,5,"Gallery.Item.ActionsButtonCaption"))("crtMenuTriggerFor",n)("crtMenuTriggerData",t.\u0275\u0275pureFunction1(7,p6,a.record)),t.\u0275\u0275advance(3),t.\u0275\u0275property("menuItems",a.itemConfig.actions)("panelClass","crt-gallery-item-actions-panel")}}function hP(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-button",10),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onActionsClick(i))}),t.\u0275\u0275element(3,"mat-icon",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"crt-menu",13,0),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275reference(5),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(2,6,"Gallery.Item.ActionsButtonCaption"))("crtMenuTriggerFor",n)("crtMenuTriggerData",t.\u0275\u0275pureFunction1(8,p6,a.record)),t.\u0275\u0275advance(3),t.\u0275\u0275property("items",a.itemConfig.actions)("panelClass","crt-gallery-item-actions-panel")("context",a.record)}}function _P(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",8),t.\u0275\u0275template(1,gP,6,9,"ng-container",9)(2,hP,6,10,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.getIsMenuItemViewElementConfig()),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.getIsMenuItemViewElementConfig())}}class ef extends dg{constructor(e){super(e),this.injector=e,this.skeletonStyles={height:"36px",width:"120px"}}getDefaultImage(){return this.itemConfig?.defaultImage}getIsMenuItemViewElementConfig(){const e=(this.itemConfig.actions||[])[0];return!["action","divider","menu"].includes(e.type)}static{this.\u0275fac=function(n){return new(n||ef)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:ef,selectors:[["crt-gallery-default-item"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:8,vars:13,consts:[["menu",""],[1,"crt-gallery-item-content-wrap",3,"itemConfig","record","isSelected","tileSizeClasses"],["header","",1,"crt-gallery-item-checkbox-wrapper"],["tabIndex","-1","labelPosition","hidden",3,"click","valueChange","title","ariaLabel","value"],["caption",""],["class","crt-base-image-list-item-caption",3,"caption","click",4,"ngIf"],["footer","","class","crt-gallery-item-actions-wrap",4,"ngIf"],[1,"crt-base-image-list-item-caption",3,"click","caption"],["footer","",1,"crt-gallery-item-actions-wrap"],[4,"ngIf"],[3,"click","title","crtMenuTriggerFor","crtMenuTriggerData"],["svgIcon","gallery_kebab",1,"crt-gallery-item-actions-button-icon"],[3,"menuItems","panelClass"],[3,"items","panelClass","context"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"crt-base-image-list-default-item",1)(1,"div",2)(2,"crt-checkbox",3),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275listener("click",function(s){return s.stopPropagation()})("valueChange",function(s){return a.onCheckboxValueChange(s)}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementContainerStart(5,4),t.\u0275\u0275template(6,mP,1,1,"crt-label",5),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(7,_P,3,2,"div",6),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("itemConfig",a.itemConfig)("record",a.record)("isSelected",a.isSelected)("tileSizeClasses",a.tileSizeClasses),t.\u0275\u0275advance(2),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(3,9,"Gallery.SelectItem"))("ariaLabel",t.\u0275\u0275pipeBind1(4,11,"Gallery.SelectItem"))("value",a.isSelected),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.isValueNotNullOrEmpty(a.getRecordValue("caption"))),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.hasActionsMenuItems()))},dependencies:[_.NgIf,Jt,hn,Ua,ri,_t.MatIcon,xa,gl,f.TranslatePipe],styles:["[_nghost-%COMP%]{min-width:144px;height:100%;display:flex;cursor:default}.gallery-tile-size-small[_nghost-%COMP%]{width:152px}.gallery-tile-size-medium[_nghost-%COMP%]{width:271px}.gallery-tile-size-large[_nghost-%COMP%]{width:408px}.gallery-tile-size-extra-large[_nghost-%COMP%]{width:616px}[_nghost-%COMP%]   .mat-menu-trigger[_ngcontent-%COMP%]{visibility:hidden}[_nghost-%COMP%]   .mat-menu-trigger[aria-expanded=true][_ngcontent-%COMP%]{visibility:visible}.crt-gallery-item[_nghost-%COMP%]{border-radius:8px;border:1px solid transparent}.crt-gallery-item.crt-gallery-selected-item[_nghost-%COMP%]:hover{cursor:pointer}.crt-gallery-item.crt-gallery-selected-item.crt-gallery-multiselect[_nghost-%COMP%]   .crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-checkbox-wrapper[_ngcontent-%COMP%]{display:block}.crt-gallery-item.crt-gallery-selected-item[_nghost-%COMP%]   .mat-menu-trigger[_ngcontent-%COMP%]{visibility:visible}.crt-gallery-item[_nghost-%COMP%]:hover   .mat-menu-trigger[_ngcontent-%COMP%], .crt-gallery-item[_nghost-%COMP%]:focus-visible   .mat-menu-trigger[_ngcontent-%COMP%], .crt-gallery-item[_nghost-%COMP%]:focus-within   .mat-menu-trigger[_ngcontent-%COMP%]{visibility:visible}.crt-gallery-item[_nghost-%COMP%]:hover.crt-gallery-multiselect   .crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-checkbox-wrapper[_ngcontent-%COMP%], .crt-gallery-item[_nghost-%COMP%]:focus-visible.crt-gallery-multiselect   .crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-checkbox-wrapper[_ngcontent-%COMP%], .crt-gallery-item[_nghost-%COMP%]:focus-within.crt-gallery-multiselect   .crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-checkbox-wrapper[_ngcontent-%COMP%]{display:block}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-checkbox-wrapper[_ngcontent-%COMP%]{display:none;position:absolute;top:12px;inset-inline-start:20px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-checkbox-wrapper[_ngcontent-%COMP%]     crt-checkbox .crt-checkbox-container{padding:unset}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-base-image-list-item-template-wrap[_ngcontent-%COMP%]   .crt-gallery-item-actions-wrap[_ngcontent-%COMP%]{cursor:pointer;padding:8px;height:16px;margin-inline-start:auto}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-base-image-list-item-template-wrap[_ngcontent-%COMP%]   .crt-gallery-item-actions-wrap[_ngcontent-%COMP%]   .crt-gallery-item-actions-button-icon[_ngcontent-%COMP%]{width:16px;height:16px}"]})}}const fP=["galleryItem"];class mg extends fl{constructor(){super(...arguments),this.itemEvent=new t.EventEmitter,this.selectionChanged=new t.EventEmitter}getItemComponentClass(){return this.itemConfig?.componentClassFactory?.(this.record)||ef}getEventListeners(e,n){const a=super.getEventListeners(e,n);return a.push(this.render.listen(e,"itemEvent",i=>this.itemEvent.emit({event:i,item:n})),this.render.listen(e,"checkboxValueChanged",i=>this.selectionChanged.emit({event:i,item:n}))),a}initializeItem(){super.initializeItem(),this._initializeItemTabIndex(),this._initializeItemElementAttributes()}initializeItemComponentProperties(){super.initializeItemComponentProperties();const e=this.itemComponentRef?.instance;e&&(this._initializeItemElementAttributes(),e.id=this.itemElementId)}_initializeItemElementAttributes(){const e=this.getItemComponentNativeElement();e&&this.render.setAttribute(e,"id",this.itemElementId)}_initializeItemTabIndex(){const e=this.getItemComponentNativeElement();e&&this.render.setAttribute(e,"tabIndex","0")}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(mg)))(a||mg)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:mg,selectors:[["crt-gallery-item-wrapper"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(fP,7,t.ViewContainerRef),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.itemViewContainerRef=i.first)}},inputs:{itemElementId:"itemElementId"},outputs:{itemEvent:"itemEvent",selectionChanged:"selectionChanged"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["galleryItem",""]],template:function(n,a){n&1&&t.\u0275\u0275elementContainer(0,null,0)},encapsulation:2})}}const bP=r=>[r];class gg extends _l{getItemViewElementConfig(){return this.itemConfig?.viewElementConfigFactory?.(this.record)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(gg)))(a||gg)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:gg,selectors:[["crt-gallery-view-item-wrapper"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:4,consts:[["crtViewGenerator","",3,"crtViewModel","viewConfig"]],template:function(n,a){n&1&&t.\u0275\u0275elementContainer(0,0),n&2&&t.\u0275\u0275property("crtViewModel",a.record)("viewConfig",t.\u0275\u0275pureFunction1(2,bP,a.getItemViewElementConfig()))},dependencies:[Ad.aD,el],encapsulation:2})}}const CP=["itemsContainer"];function yP(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",6),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function vP(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-gallery-view-item-wrapper",14),r&2){const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("record",n)("itemConfig",a.itemConfig)}}function MP(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-gallery-item-wrapper",15),t.\u0275\u0275listener("itemClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(s.onItemClick(i))})("itemDblClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(s.onItemDblClick(i))})("itemEvent",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(s.onItemEvent(i))})("selectionChanged",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext().$implicit,s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onItemSelectionChange(i))})("keydown",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext().$implicit,b=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(b.onItemKeyDown(i,s))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("record",n)("itemElementId",a.getItemIdAttribute(n))("itemConfig",a.itemConfig)("itemStyles",a.itemStyles)("isSelected",a.isItemSelected(n))("itemClasses",a.getItemClasses(n))}}function IP(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,vP,1,2,"crt-gallery-view-item-wrapper",13)(2,MP,1,6,"ng-template",null,3,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.mode==="view-element-config")("ngIfElse",n)}}function xP(r,e){r&1&&t.\u0275\u0275element(0,"crt-progress-bar")}function SP(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",16),t.\u0275\u0275listener("crtObserveElementInViewportStateChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(s.onLastItemInViewportStateChange(i))}),t.\u0275\u0275elementEnd()}}function wP(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",8,2),t.\u0275\u0275listener("resized",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onGalleryContainerResized(i))}),t.\u0275\u0275template(3,IP,4,2,"ng-container",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,xP,1,0,"crt-progress-bar",10),t.\u0275\u0275elementStart(5,"div",11),t.\u0275\u0275template(6,SP,1,0,"div",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",n.getWrapperClasses()),t.\u0275\u0275attribute("items-count",n.dataItems==null?null:n.dataItems.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.dataItems),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.loading),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.loading)}}function EP(r,e){if(r&1&&t.\u0275\u0275template(0,wP,7,5,"ng-container",7),r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(4);t.\u0275\u0275property("ngIf",n.hasData())("ngIfElse",a)}}function TP(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",19)(1,"div",20),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),r&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"Gallery.NoData")))}function PP(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-placeholder",21),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("image",n.placeholder)}}function OP(r,e){if(r&1&&t.\u0275\u0275template(0,TP,4,3,"div",17)(1,PP,1,1,"crt-placeholder",18),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",!!n.dataItems),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.dataItems)}}function DP(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",22)(1,"crt-bulk-actions",23),t.\u0275\u0275listener("closed",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.resetSelectionState({emitEvent:!0}))}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("items",n.bulkActions)("selectedItemsCount",n.getSelectedItemsCount())("parentWidth",n.galleryContainerSize==null?null:n.galleryContainerSize.width)}}let sa=class m4 extends bp{get galleryContainerSize(){return this._galleryContainerSize}get isBulkActionsAvailable(){return this._multiselect&&this._isAnySelected()&&!!this.bulkActions?.length}set selectedItemId(e){this._selectionModel=new ug(this._selectionState,this.multiselect),e&&(this._selectionModel.toggleSelection(e),this._selectedItemId=e)}get selectedItemId(){return this._selectedItemId}set multiselect(e){this._multiselect=e,this._selectionModel=new ug(this._selectionState,this.multiselect)}get multiselect(){return this._multiselect}set selectionState(e){e?.type==="all"?this._selectionState={type:"specific",selected:[]}:this._selectionState=e,this._selectionModel=new ug(this._selectionState,this.multiselect)}constructor(e){super(e),this._defaultTileSize=ht.Z.Medium,this._itemIdAttributePrefix="crt-gallery-item",this._selectionModel=new ug,this.placeholder={type:"icon",icon:"gallery_icon",width:null,height:null,padding:null},this.skeletonStyles={height:"60px"},this.role="group",this.ariaLabel="gallery",this.selectable=!0,this.mode=pC.ComponentType,this.itemClick=new t.EventEmitter,this.itemDblClick=new t.EventEmitter,this.itemEvent=new t.EventEmitter,this.selectedItemIdChange=new t.EventEmitter,this.selectionStateChange=new t.EventEmitter,this.paginationChange=new t.EventEmitter}_getSizeClasses(e){const n={},a=this._getItemSize();return[ht.Z.Small,ht.Z.Medium,ht.Z.Large,ht.Z.ExtraLarge].forEach(i=>{n[`${e}${i}`]=a===i}),n}_getItemSize(){const e=this.itemConfig.defaultSize||ht.Z.Default;return e===ht.Z.Default?this._defaultTileSize:e}_eventStopPropagation(e){e.stopPropagation(),e.preventDefault()}_setSelectedItem(e){if(this.multiselect){const n=this.getItemKeyPropertyValue(e);this._selectionModel.toggleSelection(n),this.selectionStateChange.emit(this._selectionModel.state);return}this._isItemAlreadySelected(e)||(this.selectedItemId=this.getItemKeyPropertyValue(e),this.selectable&&this.selectedItemIdChange.emit(this.selectedItemId))}_isItemAlreadySelected(e){const n=this.getItemKeyPropertyValue(e);return this.multiselect?this._selectionModel.isSelected(n):this.selectedItemId===n}_isAnySelected(){return!!this.getSelectedItemsCount()}_selectItem(e,n){this._eventStopPropagation(e.event),this.selectable&&this._setSelectedItem(e.item),n.emit(e.item)}_isSelectItemKeyDownEvent(e){return e.code==="Space"&&!(e.shiftKey||e.ctrlKey)}initializeDataItemsFromCollection(e){super.initializeDataItemsFromCollection(e),this._isLastPageLoaded=!1,this.changeDetectorRef.markForCheck()}getItemClasses(e){const n={"crt-gallery-item":!0,"crt-gallery-selectable-item":this.selectable===!0,"crt-gallery-selected-item":this.isItemSelected(e),"crt-gallery-multiselect":this.multiselect},a=this._getSizeClasses("gallery-tile-size-");return{...n,...a}}getWrapperClasses(){const e={"crt-gallery-items-wrap":!0},n=this._getSizeClasses("crt-gallery-items-wrap-size-");return{...e,...n}}getItemIdAttribute(e){return`${this._itemIdAttributePrefix}_${this.getItemKeyPropertyValue(e)}`}getSelectedItemsCount(){const e=this._selectionModel.state;return e.type==="specific"&&e.selected.filter(Boolean).length}resetSelectionState(){this.multiselect&&(this.selectionState={type:"specific",selected:[]},this.selectionStateChange.emit(this.selectionState))}isItemSelected(e){return this._isItemAlreadySelected(e)}onItemClick(e){this._selectItem(e,this.itemClick)}onGalleryContainerResized(e){this._galleryContainerSize=e}onItemDblClick(e){this._selectItem(e,this.itemDblClick)}onItemEvent(e){this._eventStopPropagation(e.event),this.selectable&&!this.multiselect&&this._setSelectedItem(e.item),this.itemEvent.emit(e)}onLastItemInViewportStateChange(e){e.visible===!1||this._isLastPageLoaded||(this._isLastPageLoaded=!0,this.paginationChange.emit({type:"infiniteScroll"}))}onItemSelectionChange(e){this.selectable&&this._setSelectedItem(e)}onItemKeyDown(e,n){this._isSelectItemKeyDownEvent(e)&&this._selectItem({event:e,item:n},this.itemClick)}static{this.\u0275fac=function(n){return new(n||m4)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:m4,selectors:[["crt-gallery"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(CP,5,t.ElementRef),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.itemsContainer=i.first)}},hostVars:2,hostBindings:function(n,a){n&2&&t.\u0275\u0275attribute("role",a.role)("aria-label",a.ariaLabel)},inputs:{ariaLabel:"ariaLabel",bulkActions:"bulkActions",selectable:"selectable",selectedItemId:"selectedItemId",itemStyles:"itemStyles",mode:"mode",multiselect:"multiselect",selectionState:"selectionState"},outputs:{itemClick:"itemClick",itemDblClick:"itemDblClick",itemEvent:"itemEvent",selectedItemIdChange:"selectedItemIdChange",selectionStateChange:"selectionStateChange",paginationChange:"paginationChange"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:6,vars:3,consts:[["gallery",""],["noData",""],["itemsContainer",""],["renderByComponentType",""],[3,"styles",4,"ngIf","ngIfElse"],["class","crt-gallery-manage-changes-panel","cdkDragBoundary","crt-gallery","style","transform: translate3d(-50%, 0px, 0px)","cdkDrag","",4,"ngIf"],[3,"styles"],[4,"ngIf","ngIfElse"],["crtResizable","",1,"crt-gallery",3,"resized","ngClass"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"observe-last-item"],["crtObserveElementInViewport","",3,"crtObserveElementInViewportStateChange",4,"ngIf"],["class","crt-gallery-view-item-wrap",3,"record","itemConfig",4,"ngIf","ngIfElse"],[1,"crt-gallery-view-item-wrap",3,"record","itemConfig"],[1,"crt-gallery-item-wrap",3,"itemClick","itemDblClick","itemEvent","selectionChanged","keydown","record","itemElementId","itemConfig","itemStyles","isSelected","itemClasses"],["crtObserveElementInViewport","",3,"crtObserveElementInViewportStateChange"],["class","blank-slate-wrap",4,"ngIf"],["title","","subhead","",3,"image",4,"ngIf"],[1,"blank-slate-wrap"],[1,"blank-slate-label"],["title","","subhead","",3,"image"],["cdkDragBoundary","crt-gallery","cdkDrag","",1,"crt-gallery-manage-changes-panel",2,"transform","translate3d(-50%, 0px, 0px)"],[3,"closed","items","selectedItemsCount","parentWidth"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,yP,1,1,"crt-skeleton-loader",4)(1,EP,1,2,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)(3,OP,2,2,"ng-template",null,1,t.\u0275\u0275templateRefExtractor)(5,DP,2,3,"div",5),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",!a.hasData()&&a.loading)("ngIfElse",i),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",a.isBulkActionsAvailable)}},dependencies:[_.NgClass,_.NgForOf,_.NgIf,zi,yn.W,uC.w,Nd,Cp,hl.CdkDrag,Le.C,mg,gg,f.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:block;border-radius:8px;overflow-y:auto;position:relative}[_nghost-%COMP%]:focus, [_nghost-%COMP%]:focus-visible{outline:none}.crt-gallery-manage-changes-panel[_ngcontent-%COMP%]{max-width:80%;overflow:hidden;position:absolute;z-index:2;bottom:20px;left:50%}.crt-gallery-items-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;box-sizing:border-box;gap:16px;padding:16px}.crt-gallery-items-wrap-size-medium[_ngcontent-%COMP%], .crt-gallery-items-wrap-size-small[_ngcontent-%COMP%]{gap:8px}.blank-slate-wrap[_ngcontent-%COMP%]{height:64px;display:flex;justify-content:center;align-items:center}.blank-slate-wrap[_ngcontent-%COMP%]   .blank-slate-label[_ngcontent-%COMP%]{text-align:center;text-transform:initial}.blank-slate-wrap[_ngcontent-%COMP%]   .blank-slate-label[_ngcontent-%COMP%]:hover{background-color:transparent}.observe-last-item[_ngcontent-%COMP%]{height:1px}.observe-last-item[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:1px}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],sa.prototype,"ariaLabel",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],sa.prototype,"bulkActions",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],sa.prototype,"selectable",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],sa.prototype,"selectedItemId",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],sa.prototype,"itemStyles",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],sa.prototype,"mode",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],sa.prototype,"multiselect",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],sa.prototype,"selectionState",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sa.prototype,"itemClick",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sa.prototype,"itemDblClick",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sa.prototype,"itemEvent",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",t.EventEmitter)],sa.prototype,"selectedItemIdChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sa.prototype,"selectionStateChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sa.prototype,"paginationChange",void 0),sa=(0,u.__decorate)([(0,Qt.v)({type:"crt.Gallery",reuseStrategy:$t.B.Reuse,compatibleAPIs:{[q1.Filtration]:!0}}),(0,$e.f)({toolbarConfig:{position:80,icon:o(45379),defaultPropertyValues:{}},propertiesPanelComponentTypeName:"crt.GalleryPropertiesPanel",designViewItemCommands:{copy:"crt.CopyGalleryItemCommand",create:"crt.CreateGalleryItemCommand",delete:"crt.RemoveCollectionViewItemCommand"},designControlConfig:{allowDesignContent:!0},viewElementGroupType:pn.J.Components,typeCaption:"Components.Gallery.Caption",collectionPropertyNames:["bulkActions"]}),(0,u.__metadata)("design:paramtypes",[t.Injector])],sa);const u6=()=>[1,2],AP=()=>({width:"70%",height:"24px",padding:"4px, 8px","border-radius":"4px"}),LP=()=>({width:"10%",height:"18px",padding:"1px, 8px","border-radius":"16px"}),kP=()=>({width:"95%",height:"24px",padding:"4px, 8px","border-radius":"4px"}),RP=()=>({width:"16px",height:"16px",padding:"4px, 8px","border-radius":"8px"}),NP=()=>({width:"166px",height:"16px",padding:"4px, 8px","border-radius":"4px"}),VP=()=>({width:"48px",height:"16px",padding:"4px, 8px","border-radius":"4px"});function FP(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275element(1,"crt-placeholder",8),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(),t.\u0275\u0275property("image",n.placeholderImage)("title",t.\u0275\u0275pipeBind1(2,3,"Playbook.Placeholder.Title"))("subhead",t.\u0275\u0275pipeBind1(3,5,"Playbook.Placeholder.Description"))}}function jP(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-gallery",9),t.\u0275\u0275listener("itemClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(s.onItemClick(i))})("itemDblClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(s.onItemClick(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(4);t.\u0275\u0275property("items",n.dataItems)("itemConfig",n.galleryItemConfig)("selectable",!0)("mode",n.galleryItemViewMode.ViewElementConfig)}}function BP(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,FP,4,7,"div",6)(2,jP,1,4,"ng-template",null,2,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",(a.dataItems==null?null:a.dataItems.length)===0)("ngIfElse",n)}}function zP(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",12),t.\u0275\u0275element(1,"crt-skeleton-loader",13)(2,"crt-skeleton-loader",14)(3,"crt-skeleton-loader",15),t.\u0275\u0275elementStart(4,"div",16),t.\u0275\u0275element(5,"crt-skeleton-loader",17)(6,"crt-skeleton-loader",18)(7,"crt-skeleton-loader",19),t.\u0275\u0275elementEnd()()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("styles",t.\u0275\u0275pureFunction0(6,AP)),t.\u0275\u0275advance(),t.\u0275\u0275property("styles",t.\u0275\u0275pureFunction0(7,LP)),t.\u0275\u0275advance(),t.\u0275\u0275property("styles",t.\u0275\u0275pureFunction0(8,kP)),t.\u0275\u0275advance(2),t.\u0275\u0275property("styles",t.\u0275\u0275pureFunction0(9,RP)),t.\u0275\u0275advance(),t.\u0275\u0275property("styles",t.\u0275\u0275pureFunction0(10,NP)),t.\u0275\u0275advance(),t.\u0275\u0275property("styles",t.\u0275\u0275pureFunction0(11,VP)))}function UP(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",10),t.\u0275\u0275template(1,zP,8,12,"div",11),t.\u0275\u0275elementEnd()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pureFunction0(1,u6)))}function HP(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,BP,4,2,"ng-container",5)(2,UP,2,2,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!a.loading)("ngIfElse",n)}}function WP(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",22)(1,"div",23)(2,"div",24),t.\u0275\u0275element(3,"mat-icon",25)(4,"div",26),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",27),t.\u0275\u0275element(6,"div",28)(7,"div",29),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(8,"div",30),t.\u0275\u0275element(9,"div",31)(10,"div",31)(11,"div",31),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"div",32)(13,"div",33),t.\u0275\u0275element(14,"div",34)(15,"div",35),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(16,"div",36),t.\u0275\u0275elementEnd()()),r&2&&(t.\u0275\u0275advance(3),t.\u0275\u0275property("svgIcon","playbook-designer-skeleton-icon"))}function GP(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",20),t.\u0275\u0275template(1,WP,17,1,"div",21),t.\u0275\u0275elementEnd()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pureFunction0(1,u6)))}function $P(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,HP,4,2,"ng-container",5)(2,GP,2,2,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!a.isDesignTime)("ngIfElse",n)}}function KP(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-article-details",37),t.\u0275\u0275listener("backClicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.backToList())}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("viewMode","full")("article",n.article)}}let bl=class g4 extends ue.K{set galleryItemConfig(e){this._galleryItemConfig=e}get galleryItemConfig(){return{...this._defaultGalleryItemConfig,...this._galleryItemConfig}}set dataItems(e){e!=null&&this._loadItems(e)}get dataItems(){return this._dataItems}get isDesignTime(){return this._isDesignTime??!1}constructor(e,n,a){super(e),this._isDesignTime=n,this._articleCommunicationService=a,this._dataItems=[],this._subscriptions=new m.Subscription,this._defaultGalleryItemConfig={viewElementConfigFactory:i=>({type:"crt.ArticlePreview",record:i})},this.galleryItemViewMode=pC,this.placeholderImage={type:"animation",width:"100px",height:"100px",name:"cat",autoplay:!0,loop:!1},this.showDetails=!1}_loadItems(e){var n=this;return(0,bt.A)(function*(){n._subscribeOnChanging(e),yield n._updateData(e)})()}_updateData(e){var n=this;return(0,bt.A)(function*(){const a=[],i=n._galleryItemConfig?.templateValuesMapping,s=e.map(function(){var b=(0,bt.A)(function*(D){return{id:yield D[i[Wi.Id]],caption:yield D[i[Wi.Caption]],author:yield D[i[Wi.Author]],modifiedDate:yield D[i[Wi.ModifiedOn]],tags:yield D[i[Wi.Type]],text:yield D[i[Wi.Content]]}});return function(D){return b.apply(this,arguments)}}());a.push(...yield Promise.all(s)),n._dataItems=a,n.detectChanges()})()}_hideDetails(){this.showDetails=!1}_subscribeOnChanging(e){e&&(this._subscriptions.unsubscribe(),this._subscriptions=new m.Subscription,this._subscriptions.add(e.changed?.subscribe(()=>{this._hideDetails(),this._updateData(e)})),this._subscriptions.add(this._articleCommunicationService.articleShowed().subscribe(n=>{this.article=n,this.showDetails=!0})))}ngOnDestroy(){this._subscriptions.unsubscribe()}backToList(){this._hideDetails()}static{this.\u0275fac=function(n){return new(n||g4)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(Im.w,8),t.\u0275\u0275directiveInject(is))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:g4,selectors:[["crt-articles-list"]],inputs:{galleryItemConfig:"galleryItemConfig",dataItems:"dataItems"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:2,consts:[["designMode",""],["skeleton",""],["articles",""],[4,"ngIf"],[3,"viewMode","article","backClicked",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","articles-no-data-container",4,"ngIf","ngIfElse"],[1,"articles-no-data-container"],[3,"image","title","subhead"],["tabindex","0","crtKeyboardFocusContainer","","crtKeyboardFocusContainerRole","group",1,"articles-list-gallery",3,"itemClick","itemDblClick","items","itemConfig","selectable","mode"],[1,"skeleton-container"],["class","item-skeleton",4,"ngFor","ngForOf"],[1,"item-skeleton"],["appearance","line","count","1",1,"caption",3,"styles"],["appearance","circle","count","2",1,"tags",3,"styles"],["appearance","line","count","3",1,"content",3,"styles"],[1,"footer"],["appearance","circle","count","1",1,"author-photo",3,"styles"],["appearance","line","count","1",1,"author-name",3,"styles"],["appearance","line","count","1",1,"date",3,"styles"],[1,"design-mode-container"],["class","playbook-skeleton-designtime",4,"ngFor","ngForOf"],[1,"playbook-skeleton-designtime"],[1,"playbook-object-header"],[1,"header-container"],[3,"svgIcon"],[1,"data-placeholder"],[1,"tags"],[1,"body-tag1"],[1,"body-tag2"],[1,"content"],[1,"data-placeholder2"],[1,"playbook-object-footer"],[1,"related-user"],[1,"data-placeholder3"],[1,"data-placeholder4"],[1,"data-placeholder5"],[3,"backClicked","viewMode","article"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,$P,4,2,"div",3)(1,KP,1,2,"crt-article-details",4),n&2&&(t.\u0275\u0275property("ngIf",!a.showDetails),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.showDetails&&!a.loading))},dependencies:[_.NgForOf,_.NgIf,sa,zi,yn.W,_t.MatIcon,qe,pl,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.skeleton-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.skeleton-container[_ngcontent-%COMP%]   .item-skeleton[_ngcontent-%COMP%]{border-radius:8px;padding:12px}.skeleton-container[_ngcontent-%COMP%]   .item-skeleton[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{flex-direction:column;padding-bottom:12px}.skeleton-container[_ngcontent-%COMP%]   .item-skeleton[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.skeleton-container[_ngcontent-%COMP%]   .item-skeleton[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .author-photo[_ngcontent-%COMP%]{flex:0 0 16px}.skeleton-container[_ngcontent-%COMP%]   .item-skeleton[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .author-name[_ngcontent-%COMP%]{flex:0 0 166px}.skeleton-container[_ngcontent-%COMP%]   .item-skeleton[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{flex:0 0 48px}.articles-list-gallery[_ngcontent-%COMP%]   crt-gallery[_ngcontent-%COMP%]   .crt-gallery-item[_ngcontent-%COMP%]:hover{border:none}.articles-list-gallery[_ngcontent-%COMP%]   crt-gallery[_ngcontent-%COMP%]   .crt-gallery-item.crt-gallery-selected-item[_ngcontent-%COMP%]{border:none}.articles-list-gallery[_ngcontent-%COMP%]   crt-gallery[_ngcontent-%COMP%]   .crt-gallery-item[_ngcontent-%COMP%]:focus-within{border:none}.articles-list-gallery[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.articles-no-data-container[_ngcontent-%COMP%]{height:310px}.design-mode-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.design-mode-container[_ngcontent-%COMP%]   .playbook-skeleton-designtime[_ngcontent-%COMP%], .design-mode-container[_ngcontent-%COMP%]   .playbook-skeleton-designtime[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.design-mode-container[_ngcontent-%COMP%]   .playbook-skeleton-designtime[_ngcontent-%COMP%]{border-radius:8px;display:flex;flex-direction:column}.design-mode-container[_ngcontent-%COMP%]   .playbook-skeleton-designtime[_ngcontent-%COMP%]   .playbook-object-header[_ngcontent-%COMP%]{border-radius:8px 8px 0 0;padding:12px;display:flex;flex-direction:column;gap:10px;align-self:stretch}.design-mode-container[_ngcontent-%COMP%]   .playbook-skeleton-designtime[_ngcontent-%COMP%]   .playbook-object-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center;align-self:stretch}.design-mode-container[_ngcontent-%COMP%]   .playbook-skeleton-designtime[_ngcontent-%COMP%]   .playbook-object-header[_ngcontent-%COMP%]   .header-container[_ngcontent-%COMP%]   .data-placeholder[_ngcontent-%COMP%]{border-radius:4px;height:25px;flex:1}.design-mode-container[_ngcontent-%COMP%]   .playbook-skeleton-designtime[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]{display:flex;gap:8px}.design-mode-container[_ngcontent-%COMP%]   .playbook-skeleton-designtime[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .body-tag1[_ngcontent-%COMP%], .design-mode-container[_ngcontent-%COMP%]   .playbook-skeleton-designtime[_ngcontent-%COMP%]   .tags[_ngcontent-%COMP%]   .body-tag2[_ngcontent-%COMP%]{border-radius:16px;padding:1px 8px;height:18px}.design-mode-container[_ngcontent-%COMP%]   .playbook-skeleton-designtime[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:0 12px 12px;display:flex;flex-direction:column;gap:8px;align-self:stretch;flex:1}.design-mode-container[_ngcontent-%COMP%]   .playbook-skeleton-designtime[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data-placeholder2[_ngcontent-%COMP%]{border-radius:4px;padding:4px 8px;align-self:stretch;height:24px}.design-mode-container[_ngcontent-%COMP%]   .playbook-object-footer[_ngcontent-%COMP%]{padding:0 12px 12px;display:flex;gap:48px}.design-mode-container[_ngcontent-%COMP%]   .playbook-object-footer[_ngcontent-%COMP%]   .related-user[_ngcontent-%COMP%]{display:flex;gap:8px;flex:1}.design-mode-container[_ngcontent-%COMP%]   .playbook-object-footer[_ngcontent-%COMP%]   .related-user[_ngcontent-%COMP%]   .data-placeholder3[_ngcontent-%COMP%], .design-mode-container[_ngcontent-%COMP%]   .playbook-object-footer[_ngcontent-%COMP%]   .related-user[_ngcontent-%COMP%]   .data-placeholder4[_ngcontent-%COMP%]{border-radius:8px;width:16px;height:16px}.design-mode-container[_ngcontent-%COMP%]   .playbook-object-footer[_ngcontent-%COMP%]   .related-user[_ngcontent-%COMP%]   .data-placeholder4[_ngcontent-%COMP%]{flex:1;border-radius:4px}.design-mode-container[_ngcontent-%COMP%]   .playbook-object-footer[_ngcontent-%COMP%]   .data-placeholder5[_ngcontent-%COMP%]{border-radius:4px;width:48px;height:16px}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],bl.prototype,"galleryItemConfig",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],bl.prototype,"dataItems",null),bl=(0,u.__decorate)([(0,Qt.v)({type:"crt.ArticlesList"}),(0,u.__metadata)("design:paramtypes",[t.Injector,Boolean,is])],bl);var Cl=o(1891);const nH=[_l,gl,fp,fl];class hg{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"base-image-list-default-item-image",icon:o(39935)}])}static{this.\u0275fac=function(n){return new(n||hg)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:hg})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,uo,Te.c]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(hg,{declarations:[_l,gl,fp,fl],imports:[_.CommonModule,uo,Te.c],exports:[_l,gl,fp,fl]})})();class yl{static{this.\u0275fac=function(n){return new(n||yl)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:yl})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(yl,{declarations:[tf.N],exports:[tf.N]})})();class Lr{constructor(e){this._materialIconsRegistrar=e,this._materialIconsRegistrar.addIcons([{name:"drag",icon:o(44405)}])}static{this.\u0275fac=function(n){return new(n||Lr)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Lr})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[Te.c,_.CommonModule,re,Ne,_t.MatIconModule,yl,f.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Lr,{declarations:[Cp],imports:[Te.c,_.CommonModule,re,Ne,_t.MatIconModule,yl,f.TranslateModule],exports:[Cp]})})();let kr=class h4{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"gallery_kebab",icon:o(80873)},{name:"gallery_icon",icon:o(45379)}])}static{this.\u0275fac=function(n){return new(n||h4)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:h4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,re,Ne,vn,_t.MatIconModule,ra,fe.q,Cl.H,Wc,Te.c,uo,ga,Lr,hg,f.TranslateModule]})}};kr=(0,u.__decorate)([(0,ie.g)({viewElements:[sa]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],kr),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(kr,{declarations:[sa,ef,mg,gg],imports:[_.CommonModule,re,Ne,vn,_t.MatIconModule,ra,fe.q,Cl.H,Wc,Te.c,uo,ga,Lr,hl.CdkDrag,Le.C,hg,f.TranslateModule],exports:[sa]})}();let rs=class _4{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"playbook-back",icon:o(25102)}])}static{this.\u0275fac=function(n){return new(n||_4)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:_4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[sg],imports:[Bi,_.CommonModule,Ha.a,kr,mi,Ne,Mn.U,ra,fe.q,Ea,Hi.X,f.TranslateModule,_t.MatIconModule,_e.S,re,li,Pr]})}};rs=(0,u.__decorate)([(0,ie.g)({includes:[],viewElements:[bl,X1],requestHandlers:[]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],rs),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(rs,{declarations:[bl,X1,pg,pl,lg,cg,Y1],imports:[Bi,_.CommonModule,Ha.a,kr,mi,Ne,Mn.U,ra,fe.q,Ea,Hi.X,f.TranslateModule,_t.MatIconModule,_e.S,re,li,Pr,qe,rc,oc,Ys,sc],exports:[bl,X1,pl]})}(),t.\u0275\u0275setComponentScope(pl,[_.NgIf,hn,Jt,Qs,rc,oc,Ys,sc,pg,lg,cg],[qs,f.TranslatePipe]);class nf{constructor(e,n){this._queryExecutor=e,this._entitySchemaService=n,this._cache={}}_geEntityConnectionColumns(e,n){var a=this;return(0,bt.A)(function*(){const i=yield(0,m.lastValueFrom)(a._entitySchemaService.getEntitySchemaByName(e));return!i?.success||!i?.entitySchema?[]:yield(0,m.lastValueFrom)(a.getEntityConnectionColumnUids(i.entitySchema.uId).pipe((0,h.map)(s=>s.map(b=>i.entitySchema.columns.find(D=>n(D,b))).filter(b=>!!b))))})()}getEntityConnectionColumnUids(e){if(e in this._cache)return(0,m.of)(this._cache[e]);const n=new qa.s("EntityConnection");return n.addSchemaColumn("ColumnUId"),n.filters.addSchemaColumnFilterWithParameter(He.H.Equal,"SysEntitySchemaUId",e),this._queryExecutor.executeSelectQuery(n).pipe((0,h.map)(a=>{const i=a.map(s=>s.ColumnUId);return this._cache[e]=i,i}))}getAllEntityConnectionColumns(e){return(0,m.from)(this._geEntityConnectionColumns(e,(n,a)=>a===n.uId))}getEntityConnectionColumns(e,n){return this._geEntityConnectionColumns(e,(a,i)=>i===a.uId&&a.referenceSchemaName===n)}static{this.\u0275fac=function(n){return new(n||nf)(t.\u0275\u0275inject(An.w),t.\u0275\u0275inject(Yi.e))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:nf,factory:nf.\u0275fac})}}const ZP=["container"],QP=r=>({collapsed:r}),YP=(r,e)=>({$implicit:r,hideSeparator:!0,class:"first-item",width:e}),JP=r=>({$implicit:r}),XP=r=>({$implicit:r,class:"last-item",isLastItem:!0});function qP(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",10),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onBackClicked())}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275styleProp("filter",n.backButtonFilter),t.\u0275\u0275property("tsDataItemMarker","breadcrumbs-back-arrow")("disableRipple",!0)("ariaLabel",n.backLabel)("title",n.backLabel)("classes",n.backButtonClasses)}}function tO(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function eO(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function nO(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,eO,1,0,"ng-container",7),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit;t.\u0275\u0275nextContext(3);const a=t.\u0275\u0275reference(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,JP,n))}}function aO(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,nO,2,4,"ng-container",11),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.middleItems)}}function iO(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function rO(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,iO,1,0,"ng-container",7),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2),a=t.\u0275\u0275reference(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,XP,n.lastItem))}}function oO(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",4),t.\u0275\u0275template(1,qP,1,7,"crt-button",5),t.\u0275\u0275elementStart(2,"div",6,2),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275template(5,tO,1,0,"ng-container",7)(6,aO,2,1,"ng-container",8)(7,rO,2,4,"ng-container",9),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(2),i=t.\u0275\u0275reference(4);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.hasBackButton),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(10,QP,n.collapsedBreadcrumbs)),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(4,8,"Breadcrumbs.AriaLabel")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngTemplateOutlet",a)("ngTemplateOutletContext",t.\u0275\u0275pureFunction2(12,YP,n.firstItem,n.firstItemWidth)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.showAllBreadcrumbs)("ngIfElse",i),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.lastItem)}}function sO(r,e){r&1&&(t.\u0275\u0275elementStart(0,"span",14),t.\u0275\u0275text(1,"/"),t.\u0275\u0275elementEnd())}function cO(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275template(0,sO,2,0,"span",12),t.\u0275\u0275elementStart(1,"span",13),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n),s=i.$implicit,b=i.isLastItem,D=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(D.navigateToItem(s,b))})("keydown.enter",function(){const i=t.\u0275\u0275restoreView(n),s=i.$implicit,b=i.isLastItem,D=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(D.navigateToItem(s,b))}),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()}if(r&2){let n,a;const i=e.$implicit,s=e.hideSeparator,b=e.class,D=e.width,W=e.isLastItem;t.\u0275\u0275property("ngIf",!s),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("width",(n=D)!==null&&n!==void 0?n:""),t.\u0275\u0275propertyInterpolate("title",i.caption),t.\u0275\u0275property("tabindex",W?-1:0)("ngClass",(a=b)!==null&&a!==void 0?a:""),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",i.caption," ")}}function lO(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"span",14),t.\u0275\u0275text(1,"/"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"span",15),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.navigateToItem(i.secondLastItem))})("keydown.enter",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.navigateToItem(i.secondLastItem))}),t.\u0275\u0275text(3,"..."),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("title",n.secondLastItem.caption)}}class af{set breadcrumbs(e){const n=e?.length,a=n-1;this.firstItem=e[0]||null,this.lastItem=n>1?e[a]:null,this.secondLastItem=e[n-2]||null,this.middleItems=e?.slice(1,a),this._resetBreadcrumbsDisplay()}constructor(e,n){this._changeDetector=e,this._translationService=n,this._changedBreadcrumbs=!1,this.middleItems=[],this.backLabel="",this.backButtonClasses=["breadcrumbs-back-button"],this.firstItemWidth="",this.collapsedBreadcrumbs=!0,this.hasBackButton=!1,this.itemClicked=new t.EventEmitter}_resetBreadcrumbsDisplay(){this.showAllBreadcrumbs=!0,this.firstItemWidth="",this._changedBreadcrumbs=!0,this._changeDetector.detectChanges()}_updateBreadcrumbsDisplay(){if(!this._changedBreadcrumbs)return;this._changedBreadcrumbs=!1;const e=this.container.nativeElement,n=e.scrollWidth>e.offsetWidth,a=n&&!!this.middleItems.length,i=!this.collapsedBreadcrumbs||!a;if(this.showAllBreadcrumbs!==i&&(this.showAllBreadcrumbs=i,this._changeDetector.detectChanges()),n){const s=this._calculateFirstItemWidth();s&&(this.firstItemWidth=`${s}px`,this._changeDetector.detectChanges())}}_getWidth(e){return e.getBoundingClientRect().width}_calculateFirstItemWidth(){const e=this.container.nativeElement,a=this._getWidth(e)-2,i=[...e.children],s=this._getWidth(i[0]),b=i.slice(1,-1).reduce((te,Se)=>te+this._getWidth(Se),0),D=this._getWidth(i.at(-1)),W=a*.4,ot=a-b-D,It=Math.max(W,ot),Pt=Math.min(It,s);return s===Pt?null:Pt}navigateToItem(e,n=!1){n||this.itemClicked.emit(e)}onBackClicked(){this.itemClicked.emit(this.secondLastItem)}ngOnInit(){this.backLabel=this._translationService.instant("Components.Breadcrumbs.Back")}ngAfterViewChecked(){requestAnimationFrame(()=>{this._updateBreadcrumbsDisplay()})}static{this.\u0275fac=function(n){return new(n||af)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:af,selectors:[["crt-breadcrumbs"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(ZP,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.container=i.first)}},hostVars:2,hostBindings:function(n,a){n&2&&t.\u0275\u0275styleProp("--text-color",a.textColor)},inputs:{breadcrumbs:"breadcrumbs",collapsedBreadcrumbs:"collapsedBreadcrumbs",hasBackButton:"hasBackButton",textColor:"textColor",backButtonFilter:"backButtonFilter"},outputs:{itemClicked:"itemClicked"},decls:5,vars:1,consts:[["breadcrumbItem",""],["hiddenBreadcrumbs",""],["container",""],["class","breadcrumbs",4,"ngIf"],[1,"breadcrumbs"],["icon","back-button-icon","iconPosition","only-icon","shape","rounded","class","crt-breadcrumbs-back-button","size","medium",3,"tsDataItemMarker","disableRipple","ariaLabel","title","filter","classes","clicked",4,"ngIf"],["role","navigation",1,"breadcrumbs-container",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[4,"ngIf"],["icon","back-button-icon","iconPosition","only-icon","shape","rounded","size","medium",1,"crt-breadcrumbs-back-button",3,"clicked","tsDataItemMarker","disableRipple","ariaLabel","title","classes"],[4,"ngFor","ngForOf"],["class","separator","aria-hidden","true",4,"ngIf"],["role","link",1,"breadcrumb",3,"click","keydown.enter","title","tabindex","ngClass"],["aria-hidden","true",1,"separator"],["role","link","tabindex","0",1,"breadcrumb","truncate",3,"click","keydown.enter","title"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,oO,8,15,"div",3)(1,cO,3,7,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)(3,lO,4,1,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),n&2&&t.\u0275\u0275property("ngIf",a.firstItem)},dependencies:[_.NgClass,_.NgForOf,_.NgIf,_.NgTemplateOutlet,Hn,Jt,f.TranslatePipe],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-breadcrumbs{width:100%}crt-breadcrumbs .breadcrumbs{display:flex;padding:0 16px;max-width:100%}crt-breadcrumbs .breadcrumbs .crt-breadcrumbs-back-button{--crt-button-default-hover-color: var(--crt-glass-color-light-100);--crt-button-default-pressed-color: var(--crt-glass-color-light-300);margin-right:6px;height:24px;width:24px}crt-breadcrumbs .breadcrumbs .breadcrumbs-container{display:block;max-width:100%;margin:8px 0;min-width:16px;flex-grow:1;padding:1px}crt-breadcrumbs .breadcrumbs .breadcrumbs-container.collapsed{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}crt-breadcrumbs .breadcrumbs .breadcrumbs-container .breadcrumb{background-color:transparent;border:none;cursor:pointer;max-width:100%;vertical-align:top;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}crt-breadcrumbs .breadcrumbs .breadcrumbs-container .breadcrumb.last-item{cursor:default}crt-breadcrumbs .breadcrumbs .breadcrumbs-container .breadcrumb.first-item{display:inline-block}crt-breadcrumbs .breadcrumbs .breadcrumbs-container .breadcrumb:focus-visible{box-shadow:0 0 0 1px var(--focus-outline-inner-color),0 0 0 2px var(--focus-outline-outer-color);outline:none;border-radius:4px}crt-breadcrumbs .breadcrumbs .breadcrumbs-container .separator{padding:0 4px}
`],encapsulation:2,changeDetection:0})}}class vl{static{this.\u0275fac=function(n){return new(n||vl)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:vl})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,_t.MatIconModule,tn,re,f.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(vl,{declarations:[af],imports:[_.CommonModule,_t.MatIconModule,tn,re,f.TranslateModule],exports:[af]})})();const m6=20;class Ml{constructor(){this._gap=m6,this._viewSettingsShipper$=new m.Subject,this._carouselSlideSpeed=250,this._prepend=[],this._append=[],this._stageModel={transform:"translate3d(0px,0px,0px)",transition:"0s"},this._navigationModel={prevDisabled:!0,nextDisabled:!0},this._currentSlideId="",this._currentPosition=0,this._slidesWidth=[],this._slidesCoordinates=[]}get _allSlides(){return[...this._prepend,...this._slides,...this._append]}_setupSlides(e){this._prepend=e.prependSlides||[],this._slides=e.realSlides,this._append=e.appendSlides||[]}_setupCarouselWidth(e){this._carouselWidth=e}_setupAlignCenter(e){this._alignCenter=e}_setupInfinityLoop(e){this._loop=e}_setupSelectedItem(e){e&&(this._currentPosition=this._findSlideIndex(e.id)||0)}_refreshCarousel(){this._setupSlidesDataWidth(),this._setupSlidesCoordinates()}_setupSlidesDataWidth(){const e=[];let n=this._slides.length;for(;n--;)e[n]=this._slides[n].width;this._slidesWidth=e}_setupSlidesCoordinates(){const e=this._allSlides.length,n=[];let a=-1,i=0,s=0;const b=-1;for(;++a<e;){i=n[a-1]||0,s=this._slidesWidth[this._getRelativePosition(a)];const D=i+(s+this._gap)*b;n.push(D)}this._slidesCoordinates=n}_getRelativePosition(e){return e-=this._prepend.length,this._normalizePosition(e)}_normalizePosition(e){const n=this._slides.length;return(e<0||e>=n)&&(e=(e%n+n)%n),e}_resetCurrentPosition(){const e=this._getCurrentSlideId();let n=this._findSlideIndex(e);n=Math.max(this.minimum(),Math.min(this.maximum(),n)),this._setCurrentPosition(n,0)}_resetCurrentPositionBySlideId(){let e=this._findSlideIndex(this._currentSlideId);e=Math.max(this.minimum(),Math.min(this.maximum(),e)),this._setCurrentPosition(e,this._getSpeed())}_getCurrentSlideId(){return this._allSlides&&this._allSlides[this._currentPosition].slideId}_getCurrentItem(){return this._allSlides&&this._allSlides[this._currentPosition].record}_findSlideIndex(e,n){return n||(n=this._allSlides),e?n.findIndex(a=>a.slideId===e):0}_setNewPosition(e){const n=this._currentPosition+(e?1:-1);this._refreshToNewPosition(n)}_refreshToNewPosition(e){let n=0;this._loop?(n=30,e=this._getLoopNewPosition(e)):e=Math.max(this.minimum(),Math.min(this.maximum(),e)),setTimeout(()=>{this._refreshPosition(e)},n)}_getLoopNewPosition(e){const n=this._getShiftDistance(e);e=this._currentPosition+n;const a=this._getRevertPosition(e);if(this._isPositionShifted(e,n,a)){const i=a-n;e=a,this._refreshPosition(i,0)}return e}_getShiftDistance(e){let n=e-this._currentPosition;const a=+(n>0)-+(n<0),i=this._prepend.length+this._append.length;return Math.abs(n)>i&&(n+=a*-1*this._slides.length),n}_getRevertPosition(e){return((e-this.minimum())%this._slides.length+this._slides.length)%this._slides.length+this.minimum()}_isPositionShifted(e,n,a){return a!==e&&a-n<=this.maximum()&&a-n>0}_refreshPosition(e,n=this._getSpeed()){this._setCurrentPosition(e,n),this._sendChanges()}_setCurrentPosition(e,n){this._currentPosition=e,this._setStageModelAnimate(this._getSlideCoordinates(e),n)}_setStageModelAnimate(e,n){this._stageModel.transform=`translate3d(${e}px,0px,0px)`,this._stageModel.transition=`${n/1e3}s`}_clearStageTransition(){this._stageModel.transition="0s"}_getSlideCoordinates(e){let n;return this._alignCenter?n=this._getCenterSlideCoordinates(e):n=this._slidesCoordinates[e-1]||0,n}_getCenterSlideCoordinates(e){let n=this._slidesCoordinates[e];const a=this._slidesCoordinates[e-1]||0;return n+=(this._carouselWidth-n+a)/2,n+=this._gap/2,n}_getSpeed(){return this._carouselSlideSpeed}_sendChanges(){this._refreshNavigationActions(),this._viewSettingsShipper$.next({stageModel:this._stageModel,prevActionDisabled:this._navigationModel.prevDisabled,nextActionDisabled:this._navigationModel.nextDisabled,selectedItem:this._getCurrentItem()})}_refreshNavigationActions(){this._navigationModel.prevDisabled=!this._loop&&this._currentPosition<=this.minimum(),this._navigationModel.nextDisabled=!this._loop&&this._currentPosition>=this.maximum()}setup(e){this._setupSlides(e.slides),this._setupCarouselWidth(e.carouselWidth),this._setupAlignCenter(e.alignCenter),this._setupInfinityLoop(e.loop),this._setupSelectedItem(e.selectedItem)}initialize(){this._setCurrentPosition(this._currentPosition,0),this._refreshCarousel(),this._resetCurrentPosition(),this._sendChanges()}refreshCurrentSlideId(){this._currentSlideId=this._allSlides&&this._allSlides[this._currentPosition].slideId}onResize(e){this._refreshCarousel(),this._resetCurrentPositionBySlideId(),e||this._clearStageTransition(),this._sendChanges()}getViewSettings(){return this._viewSettingsShipper$.asObservable()}minimum(){return this._prepend.length}maximum(){let e;return this._loop?e=this._slides.length-1+this._append.length:e=this._slides.length-1,Math.max(e,0)}moveToSlide(e){const n=this._findSlideIndex(e);this._refreshToNewPosition(n)}prev(){this._setNewPosition(!1)}next(){this._setNewPosition(!0)}static{this.\u0275fac=function(n){return new(n||Ml)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ml,factory:Ml.\u0275fac})}}function dO(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",3),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function pO(r,e){if(r&1&&t.\u0275\u0275element(0,"img",4),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("src",n.getImageSource(),t.\u0275\u0275sanitizeUrl)("alt",n.record==null?null:n.record.alt)}}class rf extends ml{constructor(e){super(e),this.injector=e,this.skeletonStyles={height:"50px"}}getImageSource(){const e=this.record?.source,n=this.getImageValue(e);return this.createImageResource(n)}static{this.\u0275fac=function(n){return new(n||rf)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:rf,selectors:[["crt-carousel-default-item"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:4,vars:2,consts:[["carouselItem",""],[1,"carousel-item-wrap"],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],[1,"carousel-item",3,"src","alt"]],template:function(n,a){if(n&1&&(t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,dO,1,1,"crt-skeleton-loader",2)(2,pO,1,2,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),n&2){const i=t.\u0275\u0275reference(3);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loading)("ngIfElse",i)}},dependencies:[_.NgIf,yn.W],styles:["[_nghost-%COMP%]{display:block;width:40px;height:40px}.carousel-item-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%}.carousel-item-wrap[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{width:81%;object-fit:contain}"]})}}const uO=["carouselItem"];class Il extends fl{get element(){return this.elementRef}set inert(e){this._inert!==e&&(this._inert=e,this._setInertForItemElement(e))}constructor(e,n,a){super(a),this._carouselService=e,this.injector=n,this._inert=!1,this.elementRef=this.injector.get(t.ElementRef),this.itemClick.subscribe(i=>this._moveToSlide({...i,slideId:this.slideId}).then())}_setInertForItemElement(e){const n=this.getItemComponentNativeElement();n&&(e?this.render.setAttribute(n,"inert",""):this.render.removeAttribute(n,"inert"))}_moveToSlide(e){var n=this;return(0,bt.A)(function*(){const a=yield n._getSlideIdFromEvent(e);n._carouselService.moveToSlide(a)})()}_getSlideIdFromEvent(e){return(0,bt.A)(function*(){return(0,de.gZ)(e.slideId)?yield e.item.id:e.slideId})()}getItemComponentClass(){return super.getItemComponentClass()||rf}initializeItemElementDefaultClasses(){}static{this.\u0275fac=function(n){return new(n||Il)(t.\u0275\u0275directiveInject(Ml),t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.Renderer2))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Il,selectors:[["crt-carousel-item-wrapper"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(uO,7,t.ViewContainerRef),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.itemViewContainerRef=i.first)}},inputs:{slideId:"slideId"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:0,consts:[["carouselItem",""]],template:function(n,a){n&1&&t.\u0275\u0275elementContainer(0,null,0)},styles:["[_nghost-%COMP%]{cursor:pointer}"]})}}const mO=["*"],gO=(r,e)=>({transform:r,transition:e}),hO=(r,e,n,a)=>({width:r,height:e,transform:n,transition:a});function _O(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"div",4),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction4(1,hO,(n.selectedContainerOptions==null?null:n.selectedContainerOptions.width)+"px",(n.selectedContainerOptions==null?null:n.selectedContainerOptions.height)+"px",n.selectedContainerOptions==null?null:n.selectedContainerOptions.transform,"transform "+(n.selectedContainerOptions==null?null:n.selectedContainerOptions.transition)))}}function fO(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"crt-carousel-item-wrapper",5),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("slideId",n.slideId)("record",n.record)}}function bO(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"crt-carousel-item-wrapper",5),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("slideId",n.slideId)("record",n.record)}}class yp extends ue.K{constructor(){super(...arguments),this._gap=m6,this._updateSlidesCoordinatesDelay=20,this._updateCarouselSlidesDelay=50,this._initializeSlidesInertStateDelay=200,this._carouselService=(0,t.inject)(Ml),this._subscription=new m.Subscription,this._updateSlidesCoordinateThrottling=!1,this._initializeSlidesInertStateDebounce=(0,y.debounce)(this._initializeSlidesInertState,this._initializeSlidesInertStateDelay),this.prepend=[],this.append=[],this.stageModel={transform:"",transition:""},this.slides=new t.QueryList,this.alignCenter=!0,this.loop=!1,this.selectable=!0,this.itemConfig={},this.animationFeatures={animateOnResize:!0}}_subscribeViewSettings(){const e=this._carouselService.getViewSettings().pipe((0,h.tap)(n=>{this.stageModel=n.stageModel,this._setSelectedSlide(n.selectedItem),this._clearTransitions(),this._updateSlidesCoordinatesIfNeedWithDaley(),this._initializeSlidesInertStateDebounce()}));this._subscription.add(e.subscribe(()=>{}))}_setSelectedSlide(e){if(!this.isNeedShowSelectedBlock())return;const n=this._getKeyProperty(e),i=this.slides.toArray().find(W=>this._getKeyProperty(W.record)===n).element,s=this._getNativeElementWidth(i),b=i.nativeElement.getBoundingClientRect().height,D=this._getSelectedContainerCoordinate(e);this.selectedContainerOptions={width:s,height:b,transform:`translate3d(${D}px,0px,0px)`,transition:this.stageModel.transition}}_clearTransitions(){setTimeout(()=>{this.stageModel.transition="0s",this.isNeedShowSelectedBlock()&&(this.selectedContainerOptions.transition="0s")},25)}_isCarouselStageSizeChanged(e){return this._carouselWidth!==e}_isNeedResetCarousel(e){const n=this._carouselWidth-e;return Math.abs(n)>2}_setupCarouselWidth(){this._carouselWidth=this._getNativeElementWidth(this.elementRef)}_subscribeSlidesChanged(){const e=this.slides.changes.pipe((0,h.tap)(()=>{setTimeout(()=>{this._resetCarousel(),this._setupMinimumCarouselWidth()},this._updateCarouselSlidesDelay)}));this._subscription.add(e.subscribe(()=>{}))}_updateSlidesCoordinatesIfNeedWithDaley(){setTimeout(()=>{this._updateSlidesCoordinatesIfNeed()},this._updateSlidesCoordinatesDelay)}_updateSlidesCoordinatesIfNeed(){this._isNeedUpdateSlidesCoordinates()&&this._updateSlidesCoordinateWithThrottling()}_isNeedUpdateSlidesCoordinates(){const e=this._getNativeElementWidth(this.elementRef);return this._isNeedUpdateSelectedContainerCoordinate()||this._isCarouselStageSizeChanged(e)}_isNeedUpdateSelectedContainerCoordinate(){if(!this.isNeedShowSelectedBlock())return!1;const e=this._getTransformX(this.selectedContainerOptions?.transform);if(e===0)return!1;const n=this._getSelectedContainerCoordinate(this.selectedItem);return e!==n}_getSelectedContainerCoordinate(e){if(!e)return 0;const n=this._getNativeElementWidth(this.elementRef),i=this.slides.toArray().find(b=>b.record.id===e.id).element,s=this._getNativeElementWidth(i);return n/2-s/2}_updateSlidesCoordinateWithThrottling(){this._updateSlidesCoordinateThrottling||(this._updateSlidesCoordinateThrottling=!0,setTimeout(()=>{this._updateSlidesCoordinates(),this._updateSlidesCoordinateThrottling=!1},this._updateSlidesCoordinatesDelay))}_updateSlidesCoordinates(){this._carouselService.refreshCurrentSlideId(),this._setupCarouselWidth(),this._setupCarouselSettings(),this._onResizeCarousel(!1)}_resetCarousel(e=!0){this._carouselService.refreshCurrentSlideId();const n=this.prepend.slice();this._refreshCarousel(),this._refreshCarouselSlidePosition(n),this._onResizeCarousel(e)}_onResizeCarousel(e){this._carouselService.onResize(e)}_setupMinimumCarouselWidth(){const e=this.slides.toArray().map(a=>this._getNativeElementWidth(a.element)),n=Math.min(...e);this.minimumCarouselWidth=n,this._carouselWidth<n&&(this._carouselWidth=n)}_refreshCarousel(){this._setupClonedSlides(),this._setupCarouselSettings()}_setupClonedSlides(){if(!this.loop){this._resetClonedSlides();return}const e=this.slides.toArray(),n=this._getSlidesWidth(e),a=this._getLoopCarouselWidth();if(n<=a){this._resetClonedSlides();return}this._setupPrependSlides(e),this._setupAppendSlides(e)}_getSlidesWidth(e){let n=0;return e.forEach(a=>n+=this._getNativeElementWidth(a.element)+this._gap),n-=this._gap,n}_getLoopCarouselWidth(){return this.alignCenter?this._carouselWidth/2+this.minimumCarouselWidth/2:this._carouselWidth}_resetClonedSlides(){this.prepend=[],this.append=[]}_setupPrependSlides(e){let n=e.length;const a=[];let i=0;for(;n--;){const s=this._createCarouselSlideModel(e[n],"cloned-prepend-");if(a.unshift(s),i+=s.width,i>this._carouselWidth)break;i+=this._gap}this.prepend=a}_setupAppendSlides(e){let n=0;const a=[];let i=0;for(;n<e.length;){const s=this._createCarouselSlideModel(e[n],"cloned-append-");if(a.push(s),i+=s.width,n++,i>this._carouselWidth)break;i+=this._gap}this.append=a}_setupCarouselSettings(){const e=this.slides.toArray().map(i=>this._createCarouselSlideModel(i)),a={slides:{prependSlides:this.prepend,realSlides:e,appendSlides:this.append},carouselWidth:this._carouselWidth,alignCenter:this.alignCenter,loop:this._isNeedShowLoop(),selectedItem:this.selectedItem};this._carouselService.setup(a)}_createCarouselSlideModel(e,n=""){return{record:e.record,slideId:n+this._getKeyProperty(e.record),width:this._getNativeElementWidth(e.element)}}_getKeyProperty(e){return d6(e,this.itemConfig)}_getNativeElementWidth(e){return e.nativeElement.getBoundingClientRect().width}_isNeedShowLoop(){return this.loop&&this.prepend.length+this.append.length>0}_refreshCarouselSlidePosition(e){if(e.length===this.prepend.length)return;const n=this._getTransformX(this.stageModel.transform),a=this._getDifferencePositionChanged(e,this.prepend),i=n-a;this._setStageModelAnimate(i,0)}_getTransformX(e){const n=e?.replace(/.*\(|\)| |]^.-\d]\w|\)/g,"").split("px");return n?parseFloat(n[0]):0}_getDifferencePositionChanged(e,n){const a=this._spliceFoundedSlides(e,n),i=this._spliceFoundedSlides(n,e);let s=0;return a.forEach(b=>{s+=b.width}),i.forEach(b=>{s-=b.width}),s}_spliceFoundedSlides(e,n){const a=n.slice();return e.forEach(i=>{const s=a.findIndex(b=>b.slideId===i.slideId);a.splice(s,1)}),a}_setStageModelAnimate(e,n){this.stageModel.transform=`translate3d(${e}px,0px,0px)`,this.stageModel.transition=`${n/1e3}s`}_initializeCarouselService(){this._carouselService.initialize()}_initializeSlidesInertState(){this.slides.forEach(e=>{e.inert=!this._checkIfSlideVisibleInStageViewport(e)})}_checkIfSlideVisibleInStageViewport(e){const n=e.element.nativeElement.getBoundingClientRect(),a=this.elementRef.nativeElement.getBoundingClientRect();return n.top>=a.top&&n.left>=a.left&&n.bottom<=a.bottom&&n.right<=a.right}isNeedShowSelectedBlock(){return this.alignCenter&&this.selectable}onResized(e=!1){const n=this._getNativeElementWidth(this.elementRef);if(!(!this._isCarouselStageSizeChanged(n)&&!e)){if(this._isNeedResetCarousel(n)||e){this._carouselWidth=n,this._resetCarousel(this.animationFeatures?.animateOnResize);return}this._updateSlidesCoordinatesIfNeed()}}onWrapTransitionEnd(){this._initializeSlidesInertStateDebounce()}ngOnChanges(e){const n=e.loop||e.alignCenter;n&&!n.isFirstChange()&&this._resetCarousel()}ngOnInit(){this._subscribeViewSettings(),this._setupCarouselWidth()}ngAfterContentInit(){this._subscribeSlidesChanged(),this._setupMinimumCarouselWidth(),this._refreshCarousel(),this._initializeCarouselService()}ngOnDestroy(){this._subscription.unsubscribe()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(yp)))(a||yp)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:yp,selectors:[["crt-carousel-stage"]],contentQueries:function(n,a,i){if(n&1&&t.\u0275\u0275contentQuery(i,Il,4,Il),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.slides=s)}},hostVars:2,hostBindings:function(n,a){n&2&&t.\u0275\u0275styleProp("min-width",a.minimumCarouselWidth,"px")},inputs:{alignCenter:"alignCenter",loop:"loop",selectable:"selectable",selectedItem:"selectedItem",itemConfig:"itemConfig",animationFeatures:"animationFeatures"},features:[t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature],ngContentSelectors:mO,decls:6,vars:7,consts:[["crtResizable","",1,"crt-carousel-stage",3,"resized"],[4,"ngIf"],[1,"crt-carousel-stage-wrap",3,"transitionend","ngStyle"],[4,"ngFor","ngForOf"],[1,"crt-carousel-stage-selected",3,"ngStyle"],[3,"slideId","record"]],template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275listener("resized",function(){return a.onResized()}),t.\u0275\u0275template(1,_O,2,6,"ng-container",1),t.\u0275\u0275elementStart(2,"div",2),t.\u0275\u0275listener("transitionend",function(){return a.onWrapTransitionEnd()}),t.\u0275\u0275template(3,fO,2,2,"ng-container",3),t.\u0275\u0275projection(4),t.\u0275\u0275template(5,bO,2,2,"ng-container",3),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isNeedShowSelectedBlock()),t.\u0275\u0275advance(),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction2(4,gO,a.stageModel.transform,"transform "+a.stageModel.transition)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.prepend),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.append))},dependencies:[_.NgForOf,_.NgIf,_.NgStyle,Le.C,Il],styles:["[dir=rtl][_nghost-%COMP%]   .crt-carousel-stage[_ngcontent-%COMP%]{flex-direction:row-reverse}[dir=rtl][_nghost-%COMP%]   .crt-carousel-stage[_ngcontent-%COMP%]   .crt-carousel-stage-wrap[_ngcontent-%COMP%]{flex-direction:row-reverse}[_nghost-%COMP%]{display:block;width:100%;position:relative;overflow:hidden}.crt-carousel-stage[_ngcontent-%COMP%]{position:relative;display:flex}.crt-carousel-stage[_ngcontent-%COMP%]   .crt-carousel-stage-selected[_ngcontent-%COMP%]{position:absolute;background-color:#5d5d5d24;border:1px solid rgba(93,93,93,.1882352941);border-radius:3px;box-sizing:border-box}.crt-carousel-stage[_ngcontent-%COMP%]   .crt-carousel-stage-wrap[_ngcontent-%COMP%]{gap:20px;position:relative;display:flex;flex-direction:row}"]})}}const CO=r=>({"crt-carousel-selected-item":r});function yO(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",3),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function vO(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",10),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.prev())}),t.\u0275\u0275elementStart(2,"div",11),t.\u0275\u0275element(3,"span",12),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("crtAccessibleAttributes",t.\u0275\u0275pipeBind1(1,2,"Carousel.PrevButtonCaption"))("disabled",n.prevActionDisabled)}}function MO(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"crt-carousel-item-wrapper",13),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275property("record",n)("slideId",a.getItemKeyPropertyValue(n))("itemConfig",a.itemConfig)("ngClass",t.\u0275\u0275pureFunction1(4,CO,n===a.selectedItem))}}function IO(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",14),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.next())}),t.\u0275\u0275elementStart(2,"div",11),t.\u0275\u0275element(3,"span",15),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("crtAccessibleAttributes",t.\u0275\u0275pipeBind1(1,2,"Carousel.NextButtonCaption"))("disabled",n.nextActionDisabled)}}function xO(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",5),t.\u0275\u0275listener("wheel",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onWheel(i))}),t.\u0275\u0275template(2,vO,4,4,"button",6),t.\u0275\u0275elementStart(3,"crt-carousel-stage",7),t.\u0275\u0275template(4,MO,2,6,"ng-container",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,IO,4,4,"button",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.hideScrollButtons),t.\u0275\u0275advance(),t.\u0275\u0275property("alignCenter",n.alignCenter)("loop",n.loop)("selectable",n.selectable)("selectedItem",n.selectedItem)("itemConfig",n.itemConfig)("animationFeatures",n.animationFeatures),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.dataItems),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.hideScrollButtons)}}function SO(r,e){if(r&1&&t.\u0275\u0275template(0,xO,6,9,"ng-container",4),r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(4);t.\u0275\u0275property("ngIf",n.hasData())("ngIfElse",a)}}function wO(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",16)(1,"div",17),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),r&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"Carousel.NoData")))}class of extends bp{set selectedItem(e){this._setSelectedItem(e)}get selectedItem(){return this._selectedItem}constructor(e,n,a){super(a),this._carouselService=e,this._changeDetectorRef=n,this.injector=a,this._subscription=new m.Subscription,this.skeletonStyles={height:"60px"},this.stageModel={transform:"",transition:""},this.prevActionDisabled=!1,this.nextActionDisabled=!1,this.alignCenter=!0,this.loop=!1,this.selectable=!0,this.hideScrollButtons=!1,this.animationFeatures={animateOnResize:!0},this.selectedItemChange=new t.EventEmitter,this.actionStatesChange=new t.EventEmitter}_subscribeViewSettings(){const e=this._carouselService.getViewSettings().pipe((0,h.tap)(n=>{this._setActionsState(n),this._setSelectedItem(n.selectedItem),this._changeDetectorRef.detectChanges()}));this._subscription.add(e.subscribe(()=>{}))}_setActionsState(e){this.prevActionDisabled=e.prevActionDisabled,this.nextActionDisabled=e.nextActionDisabled,this.actionStatesChange.emit({prevActionDisabled:e.prevActionDisabled,nextActionDisabled:e.nextActionDisabled})}_setSelectedItem(e){this._isItemAlreadySelected(e)||(this._selectedItem=e,this.selectedItemChange.emit(e))}_isItemAlreadySelected(e){return this._selectedItem===e}ngOnInit(){this._subscribeViewSettings()}ngOnDestroy(){this._subscription.unsubscribe(),super.ngOnDestroy()}prev(){this._carouselService.prev()}next(){this._carouselService.next()}resize(){this.carouselStageComponent?.onResized(!0)}onWheel(e){e.preventDefault(),(e.deltaY||e.deltaX)>0?this.next():this.prev()}static{this.\u0275fac=function(n){return new(n||of)(t.\u0275\u0275directiveInject(Ml),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:of,selectors:[["crt-carousel"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(yp,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.carouselStageComponent=i.first)}},inputs:{selectedItem:"selectedItem",alignCenter:"alignCenter",loop:"loop",selectable:"selectable",hideScrollButtons:"hideScrollButtons",animationFeatures:"animationFeatures"},outputs:{selectedItemChange:"selectedItemChange",actionStatesChange:"actionStatesChange"},features:[t.\u0275\u0275ProvidersFeature([Ml]),t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:2,consts:[["carousel",""],["noData",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],[4,"ngIf","ngIfElse"],[1,"crt-carousel-wrap",3,"wheel"],["class","crt-carousel-scroll-button","prev","",3,"crtAccessibleAttributes","disabled","click",4,"ngIf"],[3,"alignCenter","loop","selectable","selectedItem","itemConfig","animationFeatures"],[4,"ngFor","ngForOf"],["class","crt-carousel-scroll-button","next","",3,"crtAccessibleAttributes","disabled","click",4,"ngIf"],["prev","",1,"crt-carousel-scroll-button",3,"click","crtAccessibleAttributes","disabled"],[1,"crt-carousel-scroll-button-icon"],[1,"arrow-left"],[3,"record","slideId","itemConfig","ngClass"],["next","",1,"crt-carousel-scroll-button",3,"click","crtAccessibleAttributes","disabled"],[1,"arrow-right"],[1,"blank-slate-wrap"],[1,"blank-slate-label"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,yO,1,1,"crt-skeleton-loader",2)(1,SO,1,2,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)(3,wO,4,3,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.loading)("ngIfElse",i)}},dependencies:[Nn,_.NgClass,_.NgForOf,_.NgIf,yn.W,yp,Il,f.TranslatePipe],styles:["[_nghost-%COMP%]{display:block;width:100%}[dir=rtl][_nghost-%COMP%]   .crt-carousel-wrap[_ngcontent-%COMP%]{flex-direction:row-reverse}.crt-carousel-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;gap:5px}.crt-carousel-wrap[_ngcontent-%COMP%]   .crt-carousel-scroll-button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;box-sizing:content-box;padding:0}.crt-carousel-wrap[_ngcontent-%COMP%]   .crt-carousel-scroll-button[_ngcontent-%COMP%]:disabled   .crt-carousel-scroll-button-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{opacity:.4}.crt-carousel-wrap[_ngcontent-%COMP%]   .crt-carousel-scroll-button[_ngcontent-%COMP%]   .crt-carousel-scroll-button-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:26px;height:100%}.blank-slate-wrap[_ngcontent-%COMP%]{height:64px;display:flex;justify-content:center;align-items:center}.blank-slate-wrap[_ngcontent-%COMP%]   .blank-slate-label[_ngcontent-%COMP%]{text-align:center;text-transform:initial}.blank-slate-wrap[_ngcontent-%COMP%]   .blank-slate-label[_ngcontent-%COMP%]:hover{background-color:transparent}.arrow-left[_ngcontent-%COMP%]{border-color:#5d5d5d;border-style:solid;border-width:0 3px 3px 0;display:inline-block;padding:3.5px;transform:rotate(135deg);-webkit-transform:rotate(135deg)}.arrow-right[_ngcontent-%COMP%]{border-color:#5d5d5d;border-style:solid;border-width:0 3px 3px 0;display:inline-block;padding:3.5px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg)}"]})}}class xl{static{this.\u0275fac=function(n){return new(n||xl)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:xl})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,O.FormsModule,fe.q,f.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(xl,{declarations:[of,yp,Il,rf],imports:[Nn,_.CommonModule,O.FormsModule,fe.q,Le.C,f.TranslateModule],exports:[of]})})();var Pe;(function(r){r.DEFAULT="default-file-icon",r.IMAGE="file-image",r.PDF="file-pdf",r.WORD="file-word",r.EXCEL="file-excel",r.POWERPOINT="file-powerpoint"})(Pe||(Pe={}));const EO={doc:Pe.WORD,docx:Pe.WORD,pdf:Pe.PDF,ppt:Pe.POWERPOINT,pptx:Pe.POWERPOINT,xls:Pe.EXCEL,xlsx:Pe.EXCEL,bmp:Pe.IMAGE,gif:Pe.IMAGE,ico:Pe.IMAGE,jpeg:Pe.IMAGE,jpg:Pe.IMAGE,png:Pe.IMAGE,svg:Pe.IMAGE,webp:Pe.IMAGE,ai:Pe.IMAGE,cod:Pe.IMAGE,cmx:Pe.IMAGE,emz:Pe.IMAGE,eps:Pe.IMAGE,dib:Pe.IMAGE,heic:Pe.IMAGE,ief:Pe.IMAGE,jfif:Pe.IMAGE,jpe:Pe.IMAGE,pbm:Pe.IMAGE,pgm:Pe.IMAGE,pjp:Pe.IMAGE,pjpeg:Pe.IMAGE,pnm:Pe.IMAGE,ppm:Pe.IMAGE,ras:Pe.IMAGE,rgb:Pe.IMAGE,tif:Pe.IMAGE,xbm:Pe.IMAGE,xpm:Pe.IMAGE,xwd:Pe.IMAGE};class Gi{getFileIcon(e,n=""){const a=e?.lastIndexOf(".")||-1;let i=Pe.DEFAULT;if(a!==-1){const s=e.split(".").pop();i=EO[s?.toLowerCase()]||Pe.DEFAULT}return n?`${i}-${n}`:i}static{this.\u0275fac=function(n){return new(n||Gi)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Gi,factory:Gi.\u0275fac})}}class TO{get photo(){return this._photo||((0,de.gZ)(this.photoId)?"":(0,Zo.Mc)(this.photoId))}set photo(e){this._photo=e}constructor(e,n,a){this.id=e,this.name=n,this.photoId=a}}class Ka{constructor(e,n,a){this.path=e,this.value=n,this.type=a}}var g6;(function(r){r.Completed="a1b0184b-0a54-4a47-ba08-a5772105d3b2"})(g6||(g6={}));var h6;(function(r){r[r.Inactive=0]="Inactive",r[r.Active=1]="Active",r[r.ChatsExceeded=2]="ChatsExceeded"})(h6||(h6={}));class PO{}class aH{get chatQueueId(){return this._chatQueueId}set chatQueueId(e){this._chatQueueId=e}}class sf{_getChatOperator(e){const n=new PO;return e.Operator&&(n.contact=this._getContact(e["Operator.Contact"]),n.displayValue=e.Operator.displayValue,n.value=e.Operator.value),n}_getContact(e){if(e)return new TO(e.value,e.displayValue,e.primaryImageValue)}_getChannel(e){const n=e.Channel,a=e["Channel.Provider"],i={};return n&&(i.id=n.value,i.name=n.displayValue),a&&(i.provider={id:a.value,name:a.displayValue,icon:(0,x.zB)(a.primaryImageValue)}),i.source=e["Channel.Source"],i.msgSettingsId=e["Channel.MsgSettingsId"],i}_getQueue(e){const n=e.Queue,a={};return n&&(a.id=n.value),a}_createChat(e){const n=this._getContact(e.Contact);n.account=e["Contact.Account"];const a=this._getChannel(e),i=this._getQueue(e),s=this._getChatOperator(e);return{id:e.Id,contact:n,lastMessageTime:e.ModifiedOn,status:e.Status,channel:a,chatPreview:e.ChatPreview,operator:s,unprocessedMsgCount:e.UnprocessedMsgCount,chatStartDate:e.ChatStartDate,closeDate:e.CloseDate,completionDate:e.CompletionDate,lastMessageDirection:e.LastMessageDirection,channelId:e.ChannelId,chatQueueId:e.ChatQueueId||i.id}}_getLookupValue(e,n){return Object.prototype.hasOwnProperty.call(e,n)&&e[n]?e[n].value:void 0}getEntity(e){return this._createChat(e)}getEntityColumns(e){return[new Ka("Id",e.id,X.r.Guid),new Ka("Contact",this._getLookupValue(e,"contact"),X.r.Lookup),new Ka("Contact.Account",this._getLookupValue(e,"account"),X.r.Lookup),new Ka("ModifiedOn",e.lastMessageTime,X.r.DateTime),new Ka("Status",this._getLookupValue(e,"status"),X.r.Lookup),new Ka("Channel",this._getLookupValue(e,"channel"),X.r.Lookup),new Ka("Channel.Provider",this._getLookupValue(e,"channel"),X.r.Lookup),new Ka("Channel.Source",e.channel?.source,X.r.Text),new Ka("Channel.MsgSettingsId",e.channel?.msgSettingsId,X.r.Text),new Ka("ChatPreview",e.chatPreview,X.r.Text),new Ka("Operator",this._getLookupValue(e,"operator"),X.r.Lookup),new Ka("UnprocessedMsgCount",e.unprocessedMsgCount,X.r.Integer),new Ka("ChatStartDate",e.chatStartDate,X.r.DateTime),new Ka("CloseDate",e.closeDate,X.r.DateTime),new Ka("CompletionDate",e.completionDate,X.r.DateTime),new Ka("Operator.Contact",this._getLookupValue(e,"operatorContact"),X.r.Lookup),new Ka("Queue",this._getLookupValue(e,"queue"),X.r.Lookup)]}static{this.\u0275fac=function(n){return new(n||sf)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:sf,factory:sf.\u0275fac})}}class cf{constructor(e,n){this.httpClient=e,this.sysSettingsService=n,this._serviceUrl="/rest/FacebookOmnichannelMessagingService/",this._settingsCodes=["IdentityServerUrl"],this._sysSettingsValues={},this.sysSettingsService.getByCodes(this._settingsCodes).subscribe(a=>{const i=a&&a.success&&a.values&&(0,y.mapValues)(a.values||{},s=>s.value);i&&(this._sysSettingsValues=i)})}getApplicationId(){return this.httpClient.get(this._serviceUrl+"GetCurrentFacebookAppId")}getApiVersion(){return"v20.0"}getIdentityServerUrl(){return this._sysSettingsValues.IdentityServerUrl}getPageName(e,n){return this.httpClient.get(this._serviceUrl+`GetPageName?pageId=${e}&channelId=${n}`).pipe((0,m.map)(a=>JSON.parse(a).name),(0,m.take)(1))}static{this.\u0275fac=function(n){return new(n||cf)(t.\u0275\u0275inject(l.HttpClient),t.\u0275\u0275inject(Js))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:cf,factory:cf.\u0275fac})}}class Sl{static{this.MARKDOWN_CODE_BLOCK_REGEX=/```[\s\S]*?```/}static{this.ESCAPED_HTML_REGEX=/&lt;[^&]*&gt;/}static{this.SPECIAL_CHARS_REGEX=/[.*+?^${}()|[\]\\]/g}static{this.TEXT_BETWEEN_TAGS_REGEX=/>([^<]*)</g}static isEscapedOrMarkdown(e){return Sl.MARKDOWN_CODE_BLOCK_REGEX.test(e)||Sl.ESCAPED_HTML_REGEX.test(e)}}class OO{canHandle(e){return!/<[^>]*>/.test(e)||Sl.isEscapedOrMarkdown(e)}highlight(e,n,a){const i=n.replace(Sl.SPECIAL_CHARS_REGEX,"\\$&"),s=new RegExp(i,"gi");return e.replace(s,b=>a(b))}}class DO{canHandle(e){return/<[^>]*>/.test(e)&&!Sl.isEscapedOrMarkdown(e)}highlight(e,n,a){const i=n.replace(Sl.SPECIAL_CHARS_REGEX,"\\$&"),s=new RegExp(i,"gi");return e.replace(Sl.TEXT_BETWEEN_TAGS_REGEX,(b,D)=>`>${D.replace(s,ot=>a(ot))}<`)}}class wl{constructor(){this.strategies=[new OO,new DO]}static{this.HIGHLIGHT_CLASS="highlight-word"}static{this.ELLIPSIS_CHAR="\u2026"}isValidInput(e,n){return!!n?.trim()&&!!e}shouldHighlightWhole(e,n){const a=e.toLowerCase().replace(wl.ELLIPSIS_CHAR,"");return n.toLowerCase().includes(a)}getStrategy(e){return this.strategies.find(n=>n.canHandle(e))||this.strategies[0]}wrapWithHighlight(e){return`<span class="${wl.HIGHLIGHT_CLASS}">${e}</span>`}transform(e,n,a=!1){return this.isValidInput(e,n)?a&&this.shouldHighlightWhole(e,n)?this.wrapWithHighlight(e):this.getStrategy(e).highlight(e,n,s=>this.wrapWithHighlight(s)):e}static{this.\u0275fac=function(n){return new(n||wl)}}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"highlight",type:wl,pure:!0})}}class _g{static{this.\u0275fac=function(n){return new(n||_g)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:_g})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(_g,{declarations:[wl],exports:[wl]})})();var mC=o(51521),p2;(function(r){r[r.Incoming=1]="Incoming",r[r.Outcoming=2]="Outcoming"})(p2||(p2={}));var _6;(function(r){r[r.Text=0]="Text",r[r.File=1]="File",r[r.Image=2]="Image",r[r.System=5]="System"})(_6||(_6={}));class iH{}class rH{}class oH{}class sH{}class cH{}const AO=["*"],LO=r=>({"bot-message":r}),kO=()=>({dataType:9}),RO=r=>({$implicit:r});function NO(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-image-input",11),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("value",n.message.author.photo||n.photoUrl)("placeholder",n.message.author.name)}}function VO(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",8),t.\u0275\u0275template(1,NO,1,2,"crt-image-input",9),t.\u0275\u0275elementStart(2,"div",10)(3,"span"),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd()()()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.message.isBotMessage),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(n.message.author.name)}}function FO(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",12)(1,"crt-button",13,0),t.\u0275\u0275listener("menuOpened",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.isActionsMenuOpened=!0)})("menuClosed",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.isActionsMenuOpened=!1)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"crt-menu",14,1),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275reference(4),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("crtMenuTriggerFor",n)("crtMenuTriggerData",t.\u0275\u0275pureFunction1(3,RO,a.itemActionItems)),t.\u0275\u0275advance(2),t.\u0275\u0275property("items",a.itemActionItems)}}class Rr{constructor(){this.isHovered=!1,this.isActionsMenuOpened=!1,this.event=new t.EventEmitter}get messageActionsVisible(){return this.isHovered||this.isActionsMenuOpened}_menuActionSelected(e){var n=this;return(0,bt.A)(function*(){const a={type:"crt.ChatMessageActionRequest",action:e,message:n.message,$context:null};yield Ar.t.instance.process(a)})()}getMessageDirectionClass(){return this.message.direction===p2.Outcoming?"outcoming-message":"incoming-message"}get photoUrl(){const e=this.message?.author?.photoId;return e&&e!==de.To?(0,Zo.Mc)(e):""}ngOnChanges(e){"message"in e&&(this.itemActionItems=this.message?.actions?.map(n=>({caption:n.caption,type:"crt.MenuItem",icon:n.icon,name:n.type,handleItemClick:()=>this._menuActionSelected(n.type)}))??[])}static{this.\u0275fac=function(n){return new(n||Rr)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Rr,selectors:[["crt-chat-base-message"]],inputs:{message:"message",searchFilter:"searchFilter"},outputs:{event:"event"},features:[t.\u0275\u0275NgOnChangesFeature],ngContentSelectors:AO,decls:10,vars:11,consts:[["trigger","crtMenuTrigger"],["itemActionsMenu",""],[1,"message-container",3,"mouseenter","mouseleave","ngClass"],["class","message-author",4,"ngIf"],[1,"message-body",3,"ngClass"],[1,"message-body-footer"],[1,"message-time"],["class","message-boody-footer-actions",4,"ngIf"],[1,"message-author"],["readonly","true","class","message-author","placeholderMode","abbreviation","borderRadius","large","positioning","cover","size","extra-small",3,"value","placeholder",4,"ngIf"],[1,"author-text"],["readonly","true","placeholderMode","abbreviation","borderRadius","large","positioning","cover","size","extra-small",1,"message-author",3,"value","placeholder"],[1,"message-boody-footer-actions"],["data-qa","message-actions-button","icon","lightning-icon","size","small","iconPosition","only-icon",1,"message-body-footer-actions-menu-button",3,"menuOpened","menuClosed","crtMenuTriggerFor","crtMenuTriggerData"],[3,"items"]],template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275listener("mouseenter",function(){return a.isHovered=!0})("mouseleave",function(){return a.isHovered=!1}),t.\u0275\u0275template(1,VO,5,2,"div",3),t.\u0275\u0275elementStart(2,"div",4),t.\u0275\u0275projection(3,0,[1,"message-content"]),t.\u0275\u0275elementStart(4,"div",5)(5,"div",6)(6,"span"),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"dateTimeFormat"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(9,FO,5,5,"div",7),t.\u0275\u0275elementEnd()()()),n&2&&(t.\u0275\u0275property("ngClass",a.getMessageDirectionClass()),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.message.author),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(8,LO,a.message.isBotMessage)),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(8,5,a.message.date,t.\u0275\u0275pureFunction0(10,kO))," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",(a.message.actions==null?null:a.message.actions.length)&&a.messageActionsVisible))},dependencies:[_.NgClass,_.NgIf,Pn,Ua,ri,Jt,go.V],styles:[".message-container[_ngcontent-%COMP%]{display:grid;width:-moz-fit-content;width:fit-content;margin:2px 2px 0 0}.message-container[_ngcontent-%COMP%]   .message-author[_ngcontent-%COMP%]{display:flex;margin:0 0 2px}.message-container[_ngcontent-%COMP%]   .message-author[_ngcontent-%COMP%]   .author-text[_ngcontent-%COMP%]{margin:0 4px;display:flex;align-items:flex-end;padding-bottom:2px}.message-container[_ngcontent-%COMP%]   .message-author[_ngcontent-%COMP%]   .bot-icon[_ngcontent-%COMP%]{width:16px;height:16px}.message-container[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]{border-radius:16px;word-break:break-word;min-width:0}.message-container[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-body-footer[_ngcontent-%COMP%]{padding:2px 0}.message-container[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-body-footer[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{width:-moz-fit-content;width:fit-content}.message-container[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]     markdown.text-content{margin-bottom:0}.message-container[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]     .text-content p:first-child{margin:0}.message-container.incoming-message[_ngcontent-%COMP%]{padding-inline-end:24px}.message-container.incoming-message[_ngcontent-%COMP%]   .message-body-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-left:16px;margin-right:16px}.message-container.incoming-message[_ngcontent-%COMP%]   .message-body-footer[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{margin-bottom:12px;margin-top:4px}.message-container.incoming-message[_ngcontent-%COMP%]   .message-body-footer-actions-menu-button[_ngcontent-%COMP%]{position:relative;top:3px}.message-container.outcoming-message[_ngcontent-%COMP%]{margin-inline-start:auto;padding-inline-start:24px}.message-container.outcoming-message[_ngcontent-%COMP%]   .message-author[_ngcontent-%COMP%]{flex-direction:row-reverse}.message-container.outcoming-message[_ngcontent-%COMP%]   .message-body[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{margin-block-end:16px;padding-inline-start:16px;padding-inline-end:16px;margin-inline-start:auto;margin-bottom:12px;margin-top:4px}  .message-group-starter .message-container{margin-top:8px}"],changeDetection:0})}}var lf;(function(r){r.Creatio="Creatio",r.Native="native"})(lf||(lf={}));const jO=new t.InjectionToken("Link click strategy",{providedIn:"root",factory:()=>lf.Creatio});class fg{constructor(e,n=lf.Creatio){this._window=e,this._strategy=n}_processLink(e){e.preventDefault();const n=e.target,a=n.getAttribute("href")||"";a.includes("/Navigation/Navigation.aspx")&&this._strategy===lf.Creatio?this._handleLinkClick(n):this._window.open(a,"_blank")}_getSchemaNameAndRecordId(e){const n=e.match(/schemaName=([^&]*)/),a=e.match(/recordId=([^&]*)/),i=n?n[1]:null,s=a?a[1]:null;return{schemaName:i,recordId:s}}_handleLinkClick(e){const n=this._getSchemaNameAndRecordId(e.href),a={type:"crt.UpdateRecordRequest",entityName:n.schemaName,recordId:n.recordId,$context:null};Ar.t.instance.process(a)}onClick(e){e.target.tagName==="A"&&this._processLink(e)}static{this.\u0275fac=function(n){return new(n||fg)(t.\u0275\u0275directiveInject(E.ZP),t.\u0275\u0275directiveInject(jO,8))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:fg,selectors:[["","crtLinkNavigation",""]],hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("click",function(s){return a.onClick(s)})}})}}function BO(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"crt-chat-base-message",1)(1,"span",2)(2,"markdown",3),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"highlight"),t.\u0275\u0275elementEnd()()()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("message",n.message),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind2(4,2,n.message.text,n.searchFilter))}}class cc extends Rr{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(cc)))(a||cc)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:cc,selectors:[["crt-chat-text-message"]],inputs:{message:"message"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[3,"message",4,"ngIf"],[3,"message"],["crtLinkNavigation","","crtFullSizeImage",""],[1,"text-content"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,BO,5,5,"crt-chat-base-message",0),n&2&&t.\u0275\u0275property("ngIf",a.message==null?null:a.message.text)},dependencies:[_.NgIf,mC.MarkdownComponent,Qs,Rr,fg,wl],changeDetection:0})}}class bg{constructor(e){this._featureValues=e,this._fileServiceUrlFormat="rest/FileService/Download/{0}/",this._imageUrlFormat="img/entity/hash/{0}/Data/"}_buildUrl(e,n,a){const i=new URL((0,x.cI)());return i.pathname+=`${jt.String.format(e,n)}${a}`,i.toString()}getImageUrl(e,n="OmnichannelMessageFile"){return this._featureValues.UseFileApiInChats?this.getFileUrl(e,n):this._buildUrl(this._imageUrlFormat,n,e)}getFileUrl(e,n="OmnichannelMessageFile"){return this._buildUrl(this._fileServiceUrlFormat,n,e)}static{this.\u0275fac=function(n){return new(n||bg)(t.\u0275\u0275inject(ge.G))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:bg,factory:bg.\u0275fac,providedIn:"root"})}}function zO(r,e){if(r&1&&t.\u0275\u0275element(0,"img",5),r&2){const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("alt",n.fileName),t.\u0275\u0275property("src",a.getImageUrl(n.fileId),t.\u0275\u0275sanitizeUrl)}}function UO(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"crt-chat-base-message",0)(1,"div",3),t.\u0275\u0275template(2,zO,1,2,"img",4),t.\u0275\u0275elementEnd()()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("message",a.message),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n)}}function HO(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,UO,3,2,"crt-chat-base-message",2),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.message.attachments)}}class Cg extends Rr{constructor(e){super(),this._chatFileService=e}getImageUrl(e){return this._chatFileService.getImageUrl(e)}static{this.\u0275fac=function(n){return new(n||Cg)(t.\u0275\u0275directiveInject(bg))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Cg,selectors:[["crt-chat-image-message"]],inputs:{message:"message"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:2,consts:[[3,"message"],[4,"ngIf"],[3,"message",4,"ngFor","ngForOf"],["crtFullSizeImage","",1,"images-wrapper"],["class","image",3,"src","alt",4,"ngIf"],[1,"image",3,"src","alt"]],template:function(n,a){n&1&&(t.\u0275\u0275element(0,"crt-chat-text-message",0),t.\u0275\u0275template(1,HO,2,1,"ng-container",1)),n&2&&(t.\u0275\u0275property("message",a.message),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",(a.message==null||a.message.attachments==null?null:a.message.attachments.length)>0))},dependencies:[_.NgForOf,_.NgIf,Qs,Rr,cc],styles:["[_nghost-%COMP%]   .images-wrapper[_ngcontent-%COMP%]{display:flex}"],changeDetection:0})}}function WO(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"a",6),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("href",a.getFileUrl(n),t.\u0275\u0275sanitizeUrl),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(1,3,"ChatMessage.File.DownloadLink")+" "+n.fileName),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.fileName)}}function GO(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"crt-chat-base-message",0)(1,"div",3),t.\u0275\u0275element(2,"mat-icon",4),t.\u0275\u0275template(3,WO,3,5,"a",5),t.\u0275\u0275elementEnd()()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("message",a.message),t.\u0275\u0275advance(2),t.\u0275\u0275property("svgIcon",a.getFileIcon(n.fileName)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n)}}function $O(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,GO,4,3,"crt-chat-base-message",2),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.message.attachments)}}class yg extends Rr{constructor(e,n){super(),this._chatFileService=e,this._fileIconService=n}getFileUrl(e){return this._chatFileService.getFileUrl(e.fileId,e.fileEntitySchemaName)}getFileIcon(e){return this._fileIconService.getFileIcon(e)}static{this.\u0275fac=function(n){return new(n||yg)(t.\u0275\u0275directiveInject(bg),t.\u0275\u0275directiveInject(Gi))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:yg,selectors:[["crt-chat-file-message"]],inputs:{message:"message"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:2,consts:[[3,"message"],[4,"ngIf"],[3,"message",4,"ngFor","ngForOf"],[1,"files-wrapper"],["matSuffix","",1,"file-icon",3,"svgIcon"],["class","file-link",3,"href",4,"ngIf"],[1,"file-link",3,"href"]],template:function(n,a){n&1&&(t.\u0275\u0275element(0,"crt-chat-text-message",0),t.\u0275\u0275template(1,$O,2,1,"ng-container",1)),n&2&&(t.\u0275\u0275property("message",a.message),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",(a.message==null||a.message.attachments==null?null:a.message.attachments.length)>0))},dependencies:[_.NgForOf,_.NgIf,_t.MatIcon,Rr,cc,f.TranslatePipe],styles:[".files-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:12px 16px 2px}.files-wrapper[_ngcontent-%COMP%]   .file-icon[_ngcontent-%COMP%]{width:16px;min-width:16px;height:16px}.files-wrapper[_ngcontent-%COMP%]   .file-link[_ngcontent-%COMP%]{text-decoration:none}.files-wrapper[_ngcontent-%COMP%]   .file-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})}}class df{constructor(e){this.injector=e}_replaceToken(e,n){const a=this._getTokenMacro(e.key);if(n.indexOf(a)===-1)return console.warn(`Macro with key '${e.key}' not found in the template string`),n;const i=this._getTokenValue(e);return n.replace(a,i)}_getTokenMacro(e){return`{${e}}`}_getTokenValue(e){switch(e.type){case"lookup":return this._getLookupValue(e);case"datetime":return this._getDateTimeTokenValue(e);case"date":return this._getDateTokenValue(e);case"icon":return this._getIconTokenValue(e);default:return""}}_getDateTimeTokenValue(e){return this.injector.get(go.V).transform(new Date(e.value),{dataType:X.r.DateTime})}_getDateTokenValue(e){return this.injector.get(go.V).transform(new Date(e.value),{dataType:X.r.Date})}_getIconTokenValue(e){return e.value}_getLookupValue(e){const n=e.value;return`<a href="${(0,x.TX)(n.entitySchemaName,n.primaryColumnValue)}">${n.caption}</a>`}build(e,n){let a=e;return n.forEach(i=>{a=this._replaceToken(i,a)}),a}getTokenValue(e,n){const a=e.find(i=>i.key===n)||null;return a?this._getTokenValue(a):null}static{this.\u0275fac=function(n){return new(n||df)(t.\u0275\u0275inject(t.Injector))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:df,factory:df.\u0275fac,providedIn:"root"})}}function KO(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-icon",3),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("svgIcon",n.getIcon())}}class vg extends Rr{constructor(e){super(),this._injector=e,this._messageTemplateBuilderService=e.get(df)}getMessage(){const e=this.message.macrosTemplate;return e?this._messageTemplateBuilderService.build(e.template,e.tokens):this.message.text}getIcon(){return this.message.macrosTemplate?.tokens?this._messageTemplateBuilderService.getTokenValue(this.message.macrosTemplate?.tokens,"icon"):null}static{this.\u0275fac=function(n){return new(n||vg)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:vg,selectors:[["crt-chat-system-message"]],inputs:{message:"message"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[[1,"message-container"],["class","system-message-icon",3,"svgIcon",4,"ngIf"],["crtLinkNavigation","",1,"message",3,"innerHtml"],[1,"system-message-icon",3,"svgIcon"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,KO,1,1,"mat-icon",1),t.\u0275\u0275element(2,"span",2),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.getIcon()),t.\u0275\u0275advance(),t.\u0275\u0275property("innerHtml",a.getMessage(),t.\u0275\u0275sanitizeHtml))},dependencies:[_.NgIf,_t.MatIcon,fg],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.message-container[_ngcontent-%COMP%]{margin-top:8px;line-height:12px;font-size:12px;text-align:center}.message-container[_ngcontent-%COMP%]   .system-message-icon[_ngcontent-%COMP%]{min-height:12px;min-width:12px;height:12px;width:12px;vertical-align:bottom;margin-inline-end:6px}"],changeDetection:0})}}var Mg;(function(r){r.Text="text",r.Image="image",r.File="file",r.Composite="composite",r.System="system"})(Mg||(Mg={}));const gC=new t.InjectionToken("CRT_CHAT_MESSAGE_TYPE");let El=class f4{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"copilot-icon",icon:o(31233)},{name:"copilot-logo",icon:o(75139)},{name:"lightning-icon",icon:o(51824)}])}static{this.\u0275fac=function(n){return new(n||f4)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:f4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:gC,useValue:{messageType:Mg.Text,componentType:cc},multi:!0},{provide:gC,useValue:{messageType:Mg.Image,componentType:Cg},multi:!0},{provide:gC,useValue:{messageType:Mg.File,componentType:yg},multi:!0},{provide:gC,useValue:{messageType:Mg.System,componentType:vg},multi:!0},sf,cf,Gi],imports:[_.CommonModule,mi,Ea,mC.MarkdownModule.forRoot(),Sn.u,_t.MatIconModule,vn,re,Pr,f.TranslateModule,_g]})}};El=(0,u.__decorate)([(0,ie.g)({viewElements:[]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],El),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(El,{declarations:[Rr,cc,fg,Cg,yg,vg],imports:[_.CommonModule,mi,Ea,mC.MarkdownModule,Sn.u,_t.MatIconModule,vn,re,Pr,f.TranslateModule,_g],exports:[Rr,cc,Cg,yg,vg]})}();function ZO(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",12)(1,"crt-chip-list",13),t.\u0275\u0275listener("itemClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onChipListItemClick(i))})("itemRemove",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onChipListItemRemove(i))}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("items",n.renderedItems)("readonly",n.readonly)}}function QO(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",14)(1,"div",15),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),r&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"ChipList.ChipListOverlay.NoData")," "))}function YO(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275element(1,"div",3),t.\u0275\u0275elementStart(2,"div",4)(3,"div",5)(4,"crt-search-filter",6),t.\u0275\u0275listener("valueChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSearchControlValueChange(i))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"div",7),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.close())})("keydown.enter",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.close())})("keydown.space",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.close())}),t.\u0275\u0275element(7,"div",8)(8,"mat-icon",9),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(9,ZO,2,2,"div",10)(10,QO,4,3,"div",11),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("cdkTrapFocusAutoCapture",!0),t.\u0275\u0275advance(4),t.\u0275\u0275property("instant",!0)("value",n.searchValue),t.\u0275\u0275advance(),t.\u0275\u0275property("crtAccessibleAttributes",t.\u0275\u0275pipeBind1(6,6,"ChipList.ChipListOverlay.CloseButtonTitle")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",n.isHasData()),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.isHasData())}}const hC=8,_C=0;class vp{constructor(){this._cdr=(0,t.inject)(t.ChangeDetectorRef),this._destroy$=new m.Subject,this._items$=new m.BehaviorSubject([]),this._searchValue$=new m.BehaviorSubject(""),this._changeState$=(0,m.combineLatest)([this._items$,this._searchValue$]),this.isOpen=!1,this.overlayPositions=[{originX:"end",originY:"top",overlayX:"start",overlayY:"top",offsetX:hC,offsetY:-_C*2,panelClass:"crt-chip-list-overlay-right-position"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetX:_C,offsetY:hC,panelClass:"crt-chip-list-overlay-bottom-position"},{originX:"start",originY:"top",overlayX:"end",overlayY:"top",offsetX:-hC,offsetY:-_C*2,panelClass:"crt-chip-list-overlay-left-position"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetX:_C,offsetY:hC,panelClass:"crt-chip-list-overlay-top-position"}],this.renderedItems=[],this.readonly=!1,this.itemClick=new t.EventEmitter,this.itemRemove=new t.EventEmitter,this.id="chip-list-overlay-"+(0,de.qv)()}set searchValue(e){(0,y.isEqual)(e,this._searchValue$.value)||this._searchValue$.next(e??"")}get searchValue(){return this._searchValue$.value}set items(e){(0,y.isEqual)(e,this._items$.value)||this._items$.next(e??[])}_updateState([e,n]){n=n.toLowerCase(),this.renderedItems=n?e.filter(a=>a.caption.toLowerCase().includes(n)):(0,y.cloneDeep)(e),this._cdr.detectChanges()}ngOnInit(){this._changeState$.pipe((0,m.takeUntil)(this._destroy$)).subscribe(this._updateState.bind(this))}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}onOverlayKeyDown(e){e.code===Ht.Key.Escape&&this.close()}overlayAttached(e){e?.overlayRef.updatePosition()}overlayDetached(){this.searchValue=""}close(){this.isOpen=!1,this._cdr.detectChanges()}onSearchControlValueChange(e){this.searchValue=e?.value}onChipListItemClick(e){this.itemClick.emit(e)}onChipListItemRemove(e){this.itemRemove.emit(e)}isHasData(){return!!this.renderedItems?.length}static{this.\u0275fac=function(n){return new(n||vp)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:vp,selectors:[["crt-chip-list-overlay"]],hostVars:1,hostBindings:function(n,a){n&2&&t.\u0275\u0275attribute("id",a.id)},inputs:{readonly:"readonly",trigger:"trigger",items:"items"},outputs:{itemClick:"itemClick",itemRemove:"itemRemove"},decls:2,vars:5,consts:[["internalOverlay","cdkConnectedOverlay"],["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop","cdkConnectedOverlayPanelClass","crt-chip-list-overlay-panel",3,"backdropClick","overlayKeydown","attach","detach","cdkConnectedOverlayDisableClose","cdkConnectedOverlayFlexibleDimensions","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen"],["cdkTrapFocus","",1,"crt-chip-list-overlay-wrap",3,"cdkTrapFocusAutoCapture"],[1,"crt-chip-list-overlay-triangle"],[1,"crt-chip-list-overlay-header-wrap"],[1,"crt-chip-list-overlay-header-search-wrap"],["cdkFocusInitial","","data-item-marker","chip-list-overlay-search",3,"valueChange","instant","value"],[1,"crt-chip-list-overlay-header-close-button-wrap",3,"click","keydown.enter","keydown.space","crtAccessibleAttributes"],[1,"crt-chip-list-overlay-header-close-button-focus-overlay"],["svgIcon","close-icon"],["class","crt-chip-list-overlay-chips-wrap",4,"ngIf"],["class","crt-chip-list-overlay-no-data-wrap",4,"ngIf"],[1,"crt-chip-list-overlay-chips-wrap"],[3,"itemClick","itemRemove","items","readonly"],[1,"crt-chip-list-overlay-no-data-wrap"],[1,"crt-chip-list-overlay-no-data-label"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275template(0,YO,11,8,"ng-template",1,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275listener("backdropClick",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.close())})("overlayKeydown",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onOverlayKeyDown(b))})("attach",function(){t.\u0275\u0275restoreView(i);const b=t.\u0275\u0275reference(1);return t.\u0275\u0275resetView(a.overlayAttached(b))})("detach",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.overlayDetached())})}n&2&&t.\u0275\u0275property("cdkConnectedOverlayDisableClose",!1)("cdkConnectedOverlayFlexibleDimensions",!0)("cdkConnectedOverlayOrigin",a.trigger)("cdkConnectedOverlayPositions",a.overlayPositions)("cdkConnectedOverlayOpen",a.isOpen)},styles:[".crt-chip-list-overlay-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:394px;border-radius:4px;padding:16px;position:relative}.crt-chip-list-overlay-triangle[_ngcontent-%COMP%]{display:none;position:absolute;border-width:8px;border-style:solid;border-image:initial}.crt-chip-list-overlay-header-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin-bottom:8px}.crt-chip-list-overlay-header-wrap[_ngcontent-%COMP%]   .crt-chip-list-overlay-header-search-wrap[_ngcontent-%COMP%]{width:100%}.crt-chip-list-overlay-header-wrap[_ngcontent-%COMP%]   .crt-chip-list-overlay-header-search-wrap[_ngcontent-%COMP%]   crt-search-filter[_ngcontent-%COMP%]{width:80%;max-width:100%;margin-top:-5px}.crt-chip-list-overlay-header-wrap[_ngcontent-%COMP%]   .crt-chip-list-overlay-header-close-button-wrap[_ngcontent-%COMP%]{position:relative;height:16px}.crt-chip-list-overlay-header-wrap[_ngcontent-%COMP%]   .crt-chip-list-overlay-header-close-button-wrap[_ngcontent-%COMP%]:hover{cursor:pointer}.crt-chip-list-overlay-header-wrap[_ngcontent-%COMP%]   .crt-chip-list-overlay-header-close-button-wrap[_ngcontent-%COMP%]:focus, .crt-chip-list-overlay-header-wrap[_ngcontent-%COMP%]   .crt-chip-list-overlay-header-close-button-wrap[_ngcontent-%COMP%]:focus-visible{outline:none}.crt-chip-list-overlay-header-wrap[_ngcontent-%COMP%]   .crt-chip-list-overlay-header-close-button-wrap[_ngcontent-%COMP%]:focus   .crt-chip-list-overlay-header-close-button-focus-overlay[_ngcontent-%COMP%], .crt-chip-list-overlay-header-wrap[_ngcontent-%COMP%]   .crt-chip-list-overlay-header-close-button-wrap[_ngcontent-%COMP%]:focus-visible   .crt-chip-list-overlay-header-close-button-focus-overlay[_ngcontent-%COMP%]{display:block}.crt-chip-list-overlay-header-wrap[_ngcontent-%COMP%]   .crt-chip-list-overlay-header-close-button-wrap[_ngcontent-%COMP%]   .crt-chip-list-overlay-header-close-button-focus-overlay[_ngcontent-%COMP%]{position:absolute;top:1.5px;display:none;height:16px;width:16px;border-radius:4px}.crt-chip-list-overlay-header-wrap[_ngcontent-%COMP%]   .crt-chip-list-overlay-header-close-button-wrap[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:16px;width:16px}.crt-chip-list-overlay-chips-wrap[_ngcontent-%COMP%]{max-height:380px;overflow:auto}.crt-chip-list-overlay-no-data-wrap[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center}"]})}}class Mp{static{this.\u0275fac=function(n){return new(n||Mp)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Mp,selectors:[["","crtAdaptiveContainerSuffix",""]]})}}class Ip{static{this.\u0275fac=function(n){return new(n||Ip)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Ip,selectors:[["","crtAdaptiveContainerHiddenSuffix",""]]})}}class xp{static{this.\u0275fac=function(n){return new(n||xp)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:xp,selectors:[["","crtAdaptiveContainerItem",""]]})}}const JO=["hiddenItems"],f6=r=>({$implicit:r});function XO(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function qO(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,XO,1,0,"ng-container",8),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a.itemTemplateRef)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,f6,n))}}function tD(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function eD(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,tD,1,0,"ng-container",8),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a.itemTemplateRef)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,f6,n))}}function nD(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",9),t.\u0275\u0275listener("crtObserveElementInViewportStateChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onVisibleStateChange(i))}),t.\u0275\u0275template(1,eD,2,4,"ng-container",4),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("justify-content",n.justifyContent)("gap",n.itemsGap,"px"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.visibleItems)("ngForTrackBy",n.trackByFn)}}const aD=4;class Sp{get _hiddenListElement(){return this.hiddenItemsElementRef?.nativeElement}constructor(e,n){this._window=e,this._changeDetectorRef=n,this._sequenceUpdateVisibleCount=0,this._visibilityState={hiddenItems:[],visibleItems:[]},this.wrap=!1,this.justifyContent="start",this.visibilityStateChange=new t.EventEmitter}_updateVisibilityState(e=!1){const n=this._getVisibilityState(),a=this._visibilityState.hiddenItems.length!==n.hiddenItems.length||this._visibilityState.visibleItems.length!==n.visibleItems.length;e||a?(this._visibilityState=n,this._setNewVisibleItems(),this.visibilityStateChange.emit(this._visibilityState),this._correctVisibleCountIfNeed()):this._resetSequenceUpdateVisibleCount()}_correctVisibleCountIfNeed(){this._changeDetectorRef.detectChanges(),this._sequenceUpdateVisibleCount++,this._sequenceUpdateVisibleCount<aD?this._updateVisibilityState():this._resetSequenceUpdateVisibleCount()}_resetSequenceUpdateVisibleCount(){this._sequenceUpdateVisibleCount=0}_setNewVisibleItems(){if(!this.getItemsByElements){this._setNewVisibleItemsByOrder();return}const e=this.wrap?[...this._visibilityState.visibleItems,...this._visibilityState.hiddenItems]:this._visibilityState.visibleItems;this.visibleItems=this.getItemsByElements(this.items,e)}_setNewVisibleItemsByOrder(){this.visibleItems=[...this.items],!this.wrap&&(this.visibleItems=this.visibleItems.slice(0,this._visibilityState.visibleItems.length))}_getVisibilityState(){const e=this._hiddenListElement.children,n={hiddenItems:[],visibleItems:[]};let a=0;for(let i=0;i<e.length;i++){const s=e[i].getBoundingClientRect();i===0&&(a=s.top),a<s.top?n.hiddenItems.push(e[i]):n.visibleItems.push(e[i])}return n}_onHiddenItemsElementResized(e){this._window.requestAnimationFrame(()=>{!Array.isArray(e)||!e.length||this._updateVisibilityState()})}_actualizeHiddenItemsListeners(){this.wrap?this._endListenHiddenItemsViewChanges():this._startListenHiddenItemsViewChanges()}_endListenHiddenItemsViewChanges(){this._hiddenListElementResizeObserver?.disconnect(),this._hiddenListElementMutationObserver?.disconnect()}_startListenHiddenItemsViewChanges(){this._resetSequenceUpdateVisibleCount();const e=this._hiddenListElement;this._hiddenListElementResizeObserver?.observe(e),this._hiddenListElementMutationObserver?.observe(e,{characterData:!0,childList:!0,subtree:!0})}_getListElementMaxHeight(){const e=this._hiddenListElement.children;if(this.wrap||!e.length)return"unset";const n=e[0].clientHeight;return n===0?void 0:`${n}px`}ngOnChanges(e){"wrap"in e&&(this._setNewVisibleItems(),this._actualizeHiddenItemsListeners()),"items"in e&&this._setNewVisibleItems()}onVisibleStateChange(e){e.visible&&(this.listElementMaxHeight=this._getListElementMaxHeight())}ngOnInit(){this._hiddenListElementResizeObserver=new(ky())(e=>this._onHiddenItemsElementResized(e)),this._hiddenListElementMutationObserver=new MutationObserver(()=>this._updateVisibilityState(!0)),this._actualizeHiddenItemsListeners()}ngOnDestroy(){this._endListenHiddenItemsViewChanges(),this._hiddenListElementMutationObserver=null,this._hiddenListElementResizeObserver=null}static{this.\u0275fac=function(n){return new(n||Sp)(t.\u0275\u0275directiveInject(E.ZP),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Sp,selectors:[["crt-adaptive-container"]],contentQueries:function(n,a,i){if(n&1&&(t.\u0275\u0275contentQuery(i,Mp,5,t.TemplateRef),t.\u0275\u0275contentQuery(i,Ip,5,t.TemplateRef),t.\u0275\u0275contentQuery(i,xp,5,t.TemplateRef)),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.suffixTemplateRef=s.first),t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.hiddenSuffixTemplateRef=s.first),t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.itemTemplateRef=s.first)}},viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(JO,7,t.ElementRef),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.hiddenItemsElementRef=i.first)}},inputs:{items:"items",wrap:"wrap",itemsGap:"itemsGap",justifyContent:"justifyContent",trackByFn:"trackByFn",getItemsByElements:"getItemsByElements"},outputs:{visibilityStateChange:"visibilityStateChange"},features:[t.\u0275\u0275NgOnChangesFeature],decls:9,vars:15,consts:[["hiddenItems",""],[1,"crt-adaptive-container"],[1,"crt-adaptive-container-hidden-items-container"],[1,"crt-adaptive-container-hidden-items"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngTemplateOutlet"],[1,"crt-adaptive-container-items-container"],["class","crt-adaptive-container-items","crtObserveElementInViewport","",3,"justify-content","gap","crtObserveElementInViewportStateChange",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["crtObserveElementInViewport","",1,"crt-adaptive-container-items",3,"crtObserveElementInViewportStateChange"]],template:function(n,a){if(n&1&&(t.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"div",3,0),t.\u0275\u0275template(4,qO,2,4,"ng-container",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainer(5,5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",6),t.\u0275\u0275template(7,nD,2,6,"div",7),t.\u0275\u0275elementContainer(8,5),t.\u0275\u0275elementEnd()()),n&2){let i;t.\u0275\u0275advance(),t.\u0275\u0275styleProp("justify-content",a.justifyContent),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("justify-content",a.justifyContent)("gap",a.itemsGap,"px"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.items)("ngForTrackBy",a.trackByFn),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",(i=a.hiddenSuffixTemplateRef)!==null&&i!==void 0?i:a.suffixTemplateRef),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("max-height",a.listElementMaxHeight)("justify-content",a.justifyContent),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",(a.visibleItems==null?null:a.visibleItems.length)>0),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a.suffixTemplateRef)}},dependencies:[_.NgForOf,_.NgIf,_.NgTemplateOutlet,uC.w],styles:["[_nghost-%COMP%]{display:flex;flex-shrink:1;min-width:0;overflow:hidden}.crt-adaptive-container[_ngcontent-%COMP%]{max-width:100%}.crt-adaptive-container-hidden-items-container[_ngcontent-%COMP%]{height:0;visibility:hidden}.crt-adaptive-container-hidden-items-container[_ngcontent-%COMP%], .crt-adaptive-container-items-container[_ngcontent-%COMP%]{display:flex;flex-shrink:1;min-width:0;overflow:hidden}.crt-adaptive-container-items[_ngcontent-%COMP%], .crt-adaptive-container-hidden-items[_ngcontent-%COMP%]{display:flex;flex-shrink:1;min-width:0;overflow:hidden;flex-wrap:wrap}"],changeDetection:0})}}const iD=["chipList"],rD=["overlay"];function oD(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",11),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext().$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onItemRemoveButtonClick(s,i))})("keydown.enter",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext().$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onItemRemoveButtonClick(s,i))})("keydown.space",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext().$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onItemRemoveButtonClick(s,i))}),t.\u0275\u0275element(2,"div",12),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(1,1,"ChipList.Chip.RemoveButtonCaption")+" "+n.caption)}}function sD(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-chip",8),t.\u0275\u0275listener("click",function(i){const s=t.\u0275\u0275restoreView(n).$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onItemClick(s,i))})("keydown.enter",function(i){const s=t.\u0275\u0275restoreView(n).$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onItemClick(s,i))})("keydown.space",function(i){const s=t.\u0275\u0275restoreView(n).$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onItemClick(s,i))}),t.\u0275\u0275text(2),t.\u0275\u0275elementContainerStart(3,9),t.\u0275\u0275template(4,oD,3,3,"mat-icon",10),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("color",n.color),t.\u0275\u0275attribute("title",n.caption)("aria-label",n.caption),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.caption," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.readonly)}}function cD(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-chip",14,1),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onCounterClick(i))})("keydown.enter",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onCounterClick(i))})("keydown.space",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onCounterClick(i))}),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"crt-chip-list-overlay",15,2),t.\u0275\u0275listener("itemClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onOverlayItemClick(i))})("itemRemove",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onOverlayItemRemoveButtonClick(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275reference(2),a=t.\u0275\u0275reference(5),i=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("color",i.defaultItemColor)("tabIndex",0),t.\u0275\u0275attribute("aria-controls",a==null?null:a.id),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(i.hiddenCount),t.\u0275\u0275advance(),t.\u0275\u0275property("trigger",n)("readonly",i.readonly)("items",i.items)}}function lD(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,cD,6,7,"ng-container",13),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!!n.hiddenCount)}}function dD(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"crt-chip",17),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.hiddenCount)}}function pD(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,dD,2,1,"crt-chip",16),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!!n.hiddenCount)}}let lr=class f0 extends ue.K{constructor(){super(...arguments),this._renderer=(0,t.inject)(t.Renderer2),this._translateService=(0,t.inject)(f.TranslateService),this._countPrefix="+",this._items=[],this._wrap=!0,this._hiddenItems=[],this.defaultItemColor="#8B9FDA",this.itemsGap=4,this.ariaLabel="",this.readonly=!1,this.itemClick=new t.EventEmitter,this.itemRemove=new t.EventEmitter}get hiddenCount(){const e=this._hiddenItems.length;return!this.wrap&&e>0?`${this._countPrefix}${e}`:null}set items(e){const n=this._adjustItems(e);(0,y.isEqual)(n,this._items)||(this._items=n)}get items(){return this._items}set wrap(e){e!==this._wrap&&(this._wrap=e)}get wrap(){return this._wrap}_adjustItems(e){return(e??[]).filter(Boolean).map(n=>({...n,color:n.color||this.defaultItemColor}))}_emitItemClickEvent(e){this.readonly||this.itemClick.emit(e)}_emitItemRemoveEvent(e){this.readonly||this.itemRemove.emit(e)}onVisibilityStateChange(e){this._hiddenItems=e.hiddenItems.map(n=>n.textContent.trim())}trackByFn(e,n){return n.color+n.caption}onItemClick(e,n){n.stopPropagation(),this._emitItemClickEvent(e)}onItemRemoveButtonClick(e,n){n.stopPropagation(),this._emitItemRemoveEvent(e)}onOverlayItemClick(e){this._emitItemClickEvent(e)}onOverlayItemRemoveButtonClick(e){this._emitItemRemoveEvent(e)}onCounterClick(e){e.preventDefault(),e.stopPropagation(),this.overlay.isOpen=!0,this.detectChanges()}getAriaLabel(){return this.ariaLabel?[this._translateService.instant("ChipList.AriaLabelFor"),this.ariaLabel].filter(Boolean).join(" "):this._translateService.instant("ChipList.AriaLabel")}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(f0)))(a||f0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:f0,selectors:[["crt-chip-list"]],viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(iD,7,t.ElementRef),t.\u0275\u0275viewQuery(rD,5,vp)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.chipList=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.overlay=i.first)}},hostVars:2,hostBindings:function(n,a){n&2&&t.\u0275\u0275classProp("crt-chip-list-wrapped",a.wrap)},inputs:{ariaLabel:"ariaLabel",items:"items",readonly:"readonly",wrap:"wrap"},outputs:{itemClick:"itemClick",itemRemove:"itemRemove"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:6,vars:5,consts:[["chipList",""],["chipListOverlayTrigger","cdkOverlayOrigin"],["overlay",""],["crtKeyboardFocusContainer","","tabindex","0",1,"crt-chip-list-wrap"],["justifyContent","start",3,"visibilityStateChange","items","wrap","trackByFn","itemsGap"],[4,"crtAdaptiveContainerItem"],[4,"crtAdaptiveContainerSuffix"],[4,"crtAdaptiveContainerHiddenSuffix"],["role","button","tabindex","0",3,"click","keydown.enter","keydown.space","color"],["text-suffix",""],["svgIcon","small-close","tabindex","0","role","button","aria-hidden","false",3,"click","keydown.enter","keydown.space",4,"ngIf"],["svgIcon","small-close","tabindex","0","role","button","aria-hidden","false",3,"click","keydown.enter","keydown.space"],[1,"crt-chip-text-suffix-focus-overlay"],[4,"ngIf"],["role","button","aria-haspopup","dialog","cdkOverlayOrigin","",1,"crt-chips-list-hidden-count-badge",3,"click","keydown.enter","keydown.space","color","tabIndex"],[3,"itemClick","itemRemove","trigger","readonly","items"],["class","crt-chips-list-hidden-count-badge",4,"ngIf"],[1,"crt-chips-list-hidden-count-badge"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",3,0)(2,"crt-adaptive-container",4),t.\u0275\u0275listener("visibilityStateChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onVisibilityStateChange(b))}),t.\u0275\u0275template(3,sD,5,5,"ng-container",5)(4,lD,2,1,"ng-container",6)(5,pD,2,1,"ng-container",7),t.\u0275\u0275elementEnd()()}n&2&&(t.\u0275\u0275attribute("aria-label",a.getAriaLabel()),t.\u0275\u0275advance(2),t.\u0275\u0275property("items",a.items)("wrap",a.wrap)("trackByFn",a.trackByFn)("itemsGap",a.itemsGap))},dependencies:[_.NgIf,R_.j,Sp,xp,Mp,Ip,_t.MatIcon,In.CdkOverlayOrigin,qe,vp,f.TranslatePipe],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:nowrap;flex-direction:column;overflow:hidden}[_nghost-%COMP%]:focus{outline:none}[_nghost-%COMP%]   .crt-chip-list-wrap[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}[_nghost-%COMP%]   .crt-chips-list-hidden-count-badge[_ngcontent-%COMP%]{margin-inline-start:4px;max-width:unset;min-width:unset}[_nghost-%COMP%]   crt-chip[_ngcontent-%COMP%]{padding:1px 8px;display:flex;justify-content:space-between;max-width:180px;min-width:35px}[_nghost-%COMP%]   crt-chip[_ngcontent-%COMP%]:focus, [_nghost-%COMP%]   crt-chip[_ngcontent-%COMP%]:focus-visible{outline:none}[_nghost-%COMP%]   crt-chip[_ngcontent-%COMP%]     .chip-text{cursor:pointer}[_nghost-%COMP%]   crt-chip[_ngcontent-%COMP%]     .chip-text:first-child{width:100%;text-align:center}[_nghost-%COMP%]   .crt-chip-text-suffix-focus-overlay[_ngcontent-%COMP%]{inset:0;position:absolute;pointer-events:none;border-radius:inherit;opacity:0}[_nghost-%COMP%]   mat-icon[_ngcontent-%COMP%]{--icons-size: 16px;border-radius:8px;display:flex;width:var(--icons-size);height:var(--icons-size);min-width:var(--icons-size);min-height:var(--icons-size);margin-inline-start:1.5px}[_nghost-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.crt-chip-list-wrapped[_nghost-%COMP%]   crt-chip[_ngcontent-%COMP%]{flex:unset}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],lr.prototype,"ariaLabel",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],lr.prototype,"items",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],lr.prototype,"readonly",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],lr.prototype,"wrap",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],lr.prototype,"itemClick",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],lr.prototype,"itemRemove",void 0),lr=(0,u.__decorate)([(0,Qt.v)({type:"crt.ChipList",reuseStrategy:$t.B.Reuse})],lr);let pf=class b4{static{this.\u0275fac=function(n){return new(n||b4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:b4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Te.c,Cl.H]})}};pf=(0,u.__decorate)([(0,ie.g)({viewElements:[Sp]})],pf),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(pf,{declarations:[Sp,xp,Mp,Ip],imports:[_.CommonModule,Te.c,Le.C,Cl.H],exports:[Sp,xp,Mp,Ip]})}();let os=class C4{static{this.\u0275fac=function(n){return new(n||C4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:C4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Ha.a,ui,pf,_t.MatIconModule,In.OverlayModule,Ge.A11yModule,f.TranslateModule]})}};os=(0,u.__decorate)([(0,ie.g)({viewElements:[lr]})],os),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(os,{declarations:[lr,vp],imports:[_.CommonModule,Ha.a,ui,pf,_t.MatIconModule,In.OverlayModule,Ge.A11yModule,qe,Nn,f.TranslateModule],exports:[lr]})}(),t.\u0275\u0275setComponentScope(vp,[_.NgIf,Yn,_t.MatIcon,In.CdkConnectedOverlay,Ge.CdkTrapFocus,Nn,lr],[f.TranslatePipe]);var fC=o(36943),bC=o(24897);const b6={[Ht.Key.ArrowUp]:"up",[Ht.Key.ArrowDown]:"down",[Ht.Key.ArrowLeft]:"left",[Ht.Key.ArrowRight]:"right"},lH={up:Ht.Key.ArrowUp,down:Ht.Key.ArrowDown,left:Ht.Key.ArrowLeft,right:Ht.Key.ArrowRight},uD=1/60*1e3,mD={up:"up",down:"down",left:"right",right:"left"},gD={up:["row","column"],down:["row","column"],left:["column","row"],right:["column","row"]};class Tl{constructor(){this._activeItem$=new m.Subject,this._directionality=(0,t.inject)(me.Directionality),this._items=[],this._strictRow=!1,this._strictColumn=!1}get items(){return this._items}get activeItem(){return this._activeItem}get activeItem$(){return this._activeItem$.asObservable()}_isActiveItemsEqual(e){return e?.columnIndex===this._activeItem?.columnIndex&&e?.rowIndex===this._activeItem?.rowIndex}_getNextItem(e,n){const a=e?.rowIndex,i=e?.columnIndex;if(a==null&&i==null)return(0,y.minBy)(this._items,["rowIndex","columnIndex"]);if(a==null)return(0,y.chain)(this._items).filter(W=>W.columnIndex===i).minBy("rowIndex").value();if(i==null)return(0,y.chain)(this._items).filter(W=>W.rowIndex===a).minBy("columnIndex").value();n=this._directionality.value==="rtl"?mD[n]:n;const s={up:({rowIndex:W,columnIndex:ot})=>W<a&&(!this._strictColumn||ot===i),down:({rowIndex:W,columnIndex:ot})=>W>a&&(!this._strictColumn||ot===i),left:({rowIndex:W,columnIndex:ot})=>ot<i&&(!this._strictRow||W===a),right:({rowIndex:W,columnIndex:ot})=>ot>i&&(!this._strictRow||W===a)},b=gD[n],D=this._items.filter(s[n]);return this._findNearestItem(D,e,b)}_findNearestItem(e,n,a){return(0,y.chain)(e).map(i=>({item:i,row:Math.abs(i.rowIndex-n.rowIndex),column:Math.abs(i.columnIndex-n.columnIndex)})).sortBy(a).first().value()?.item}withStrictRow(e){return this._strictRow=e,this}withStrictColumn(e){return this._strictColumn=e,this}setItems(e){if(e??=[],(0,y.isEqual)(this._items,e))return this;if(this._items=e,!this._activeItem)return this;const n=this._items.find(a=>this._isActiveItemsEqual(a));return this.setActiveItem(n)}setActiveItem(e){return this._isActiveItemsEqual(e)?this:(this._activeItem=e,this._activeItem$.next(this._activeItem),this)}setNextActiveItem(e){const n=this._getNextItem(this._activeItem,e)||this._activeItem;return this._activeItem=n,this._activeItem$.next(this._activeItem),this._activeItem}static{this.\u0275fac=function(n){return new(n||Tl)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Tl,factory:Tl.\u0275fac,providedIn:"root"})}}const hD="[crt-keyboard-navigation-row]",C6="[crt-keyboard-navigation-item]";class Ig{get _navigationRowSelector(){return this.scope?`[crt-keyboard-navigation-row-scope="${this.scope}"]`:hD}get _navigationItemSelector(){return this.scope?`[crt-keyboard-navigation-item-scope="${this.scope}"]`:C6}set disabled(e){const n=!!e;n!==this._disabled&&(this._disabled=n,this._disabledChanged$.next(),this._disabled||this._subscribeKeydownEvents())}set strictRow(e){this._keyboardNavigationStrategy.withStrictRow(e)}set strictColumn(e){this._keyboardNavigationStrategy.withStrictColumn(e)}constructor(){this._destroyed$=new m.Subject,this._disabledChanged$=new m.Subject,this._element=(0,t.inject)(t.ElementRef).nativeElement,this._focusMonitor=(0,t.inject)(Ge.FocusMonitor),this._keyboardNavigationStrategy=(0,t.inject)(Tl),this._disabled=!1,this._subscribeKeydownEvents(),this._subscribeActiveItemChanges()}_subscribeKeydownEvents(){(0,m.fromEvent)(this._element,"keydown").pipe((0,h.filter)(e=>!e.defaultPrevented&&b6[e.key]!=null),(0,h.tap)(e=>e.preventDefault()),(0,h.filter)(e=>this._getNavigationItemFromEventTarget(e)!==null),(0,h.map)(e=>b6[e.key]),(0,h.throttleTime)(uD),(0,h.tap)(e=>this._handleNavigation(e)),(0,h.takeUntil)((0,m.merge)(this._destroyed$,this._disabledChanged$))).subscribe()}_subscribeActiveItemChanges(){this._keyboardNavigationStrategy.activeItem$.pipe((0,h.map)(e=>e?.focusableElement??e?.element),(0,h.filter)(e=>this._isElementNotFocused(e)),(0,h.tap)(e=>this._focusMonitor.focusVia(e,"keyboard")),(0,h.takeUntil)(this._destroyed$)).subscribe()}_isElementNotFocused(e){return e&&!e.matches(":focus")&&!e.matches(".cdk-focused")}_isElementAvailable(e){return e&&!this._isElementDisabled(e)&&this._isElementScopeAvailable(e)}_isElementDisabled(e){const n=e.getAttribute("crt-keyboard-navigation-item-disabled");return(0,bC.coerceBooleanProperty)(n)}_isElementScopeAvailable(e){const n=e.getAttribute("crt-keyboard-navigation-item-scope");return!this.scope&&!n||n===this.scope}_handleNavigation(e){const n=this._getNavigationItems(),a=n.find(i=>i.element===this._keyboardNavigationStrategy.activeItem?.element);this._keyboardNavigationStrategy.setItems(n).setActiveItem(a).setNextActiveItem(e)}_getNavigationItemFromEventTarget(e){const n=e.target,a=n.closest(C6);return!this._isElementAvailable(a)||!(n.hasAttribute("crt-keyboard-navigation-item")||a.hasAttribute("crt-keyboard-navigation-item-use-focusable-child"))?null:a}_getNavigationItems(){return this._getNavigationRows().map((e,n)=>this._getNavigationItemsByRow(e,n)).flat()}_getNavigationRows(){const e=Array.from(this._element.querySelectorAll(this._navigationRowSelector));return e.length?e:[this._element]}_getNavigationItemsByRow(e,n){const a=[];return e.querySelectorAll(this._navigationItemSelector).forEach((i,s)=>{if(!this._isElementAvailable(i))return;const b=i.getAttribute("crt-keyboard-navigation-item"),D=this.items?.length?this.items.indexOf(b):s,ot=i.hasAttribute("crt-keyboard-navigation-item-use-focusable-child")?(0,Zt.tabbable)(i)?.[0]:i;a.push({element:i,focusableElement:ot,rowIndex:n,columnIndex:D})}),a}_setActiveItemByFocus(e){const n=this._getNavigationItemFromEventTarget(e);if(this._keyboardNavigationStrategy.activeItem?.element?.isSameNode(n))return;const i=this._getNavigationItems(),s=i.find(b=>b?.element?.isSameNode(n))||null;this._keyboardNavigationStrategy.setItems(i).setActiveItem(s)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}onFocusin(e){this._setActiveItemByFocus(e)}static{this.\u0275fac=function(n){return new(n||Ig)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Ig,selectors:[["","crtKeyboardNavigation",""]],hostVars:1,hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("focusin",function(s){return a.onFocusin(s)}),n&2&&t.\u0275\u0275attribute("crt-keyboard-navigation-scope",a.scope)},inputs:{scope:[t.\u0275\u0275InputFlags.None,"crtKeyboardNavigationScope","scope"],items:[t.\u0275\u0275InputFlags.None,"crtKeyboardNavigationItems","items"],disabled:[t.\u0275\u0275InputFlags.HasDecoratorInputTransform,"crtKeyboardNavigationDisabled","disabled",t.booleanAttribute],strictRow:[t.\u0275\u0275InputFlags.HasDecoratorInputTransform,"crtKeyboardNavigationStrictRow","strictRow",t.booleanAttribute],strictColumn:[t.\u0275\u0275InputFlags.HasDecoratorInputTransform,"crtKeyboardNavigationStrictColumn","strictColumn",t.booleanAttribute]},standalone:!0,features:[t.\u0275\u0275ProvidersFeature([Tl]),t.\u0275\u0275InputTransformsFeature]})}}class wp{constructor(){this._elementRef=(0,t.inject)(t.ElementRef),this._focusMonitor=(0,t.inject)(Ge.FocusMonitor),this._name="",this._tabIndex=0}set name(e){this._name=e||""}set tabIndex(e){this._updateTabIndex(e)}set useFocusableChild(e){this._useFocusableChild=e?"":void 0,this._updateTabIndex(this._tabIndex),this._updateFocusMonitoring(!e)}_updateTabIndex(e){this._tabIndex=this._useFocusableChild===void 0&&!isNaN(e)?e:void 0}_updateFocusMonitoring(e){e?this._focusMonitor.monitor(this._elementRef.nativeElement,!1):this._focusMonitor.stopMonitoring(this._elementRef.nativeElement)}ngAfterViewInit(){this._updateFocusMonitoring(this._useFocusableChild===void 0)}ngOnDestroy(){this._updateFocusMonitoring(!1)}static{this.\u0275fac=function(n){return new(n||wp)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:wp,selectors:[["","crtKeyboardNavigationItem",""]],hostVars:5,hostBindings:function(n,a){n&2&&t.\u0275\u0275attribute("crt-keyboard-navigation-item",a._name)("tabindex",a._tabIndex)("crt-keyboard-navigation-item-use-focusable-child",a._useFocusableChild)("crt-keyboard-navigation-item-scope",a.scope)("crt-keyboard-navigation-item-disabled",a.disabled)},inputs:{name:[t.\u0275\u0275InputFlags.None,"crtKeyboardNavigationItem","name"],scope:[t.\u0275\u0275InputFlags.None,"crtKeyboardNavigationItemScope","scope"],disabled:[t.\u0275\u0275InputFlags.HasDecoratorInputTransform,"crtKeyboardNavigationItemDisabled","disabled",t.booleanAttribute],tabIndex:[t.\u0275\u0275InputFlags.HasDecoratorInputTransform,"crtKeyboardNavigationItemTabIndex","tabIndex",t.numberAttribute],useFocusableChild:[t.\u0275\u0275InputFlags.HasDecoratorInputTransform,"crtKeyboardNavigationItemUseFocusableChild","useFocusableChild",t.booleanAttribute]},standalone:!0,features:[t.\u0275\u0275InputTransformsFeature]})}}class xg{constructor(){this._=""}static{this.\u0275fac=function(n){return new(n||xg)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:xg,selectors:[["","crtKeyboardNavigationRow",""]],hostVars:2,hostBindings:function(n,a){n&2&&t.\u0275\u0275attribute("crt-keyboard-navigation-row",a._)("crt-keyboard-navigation-row-scope",a.scope)},inputs:{scope:[t.\u0275\u0275InputFlags.None,"crtKeyboardNavigationRowScope","scope"]},standalone:!0})}}class Pl{static{this.\u0275fac=function(n){return new(n||Pl)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Pl})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Pl,{imports:[Ig,wp,xg],exports:[Ig,wp,xg]})})();const _D=new t.InjectionToken("Represents a list of license restriction operation codes");class lc{transform(e,n){return Fi(e,n)}static{this.\u0275fac=function(n){return new(n||lc)}}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"stringFormat",type:lc,pure:!0,standalone:!0})}}var CC;(function(r){r[r.SysCulture=0]="SysCulture",r[r.SysLanguage=1]="SysLanguage"})(CC||(CC={}));class fD{}class bD extends fD{constructor(e){super(),Object.assign(this,e)}}class dH{}class uf extends Yb.S{constructor(e){super(),this.httpClient=e,this._serviceEndpoint="/ServiceModel/CultureService.svc/"}getAllCultures(){if(!this._allCultures$){const e=this._serviceEndpoint+"GetAllCultures";this._allCultures$=this.httpClient.post(e,{}).pipe((0,h.map)(n=>n.cultures),(0,h.shareReplay)({bufferSize:1,refCount:!1}))}return this._allCultures$.pipe((0,h.map)(e=>e.map(n=>({id:n.id,name:n.name,title:n.title,isActive:n.isActive}))))}static{this.\u0275fac=function(n){return new(n||uf)(t.\u0275\u0275inject(l.HttpClient))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:uf,factory:uf.\u0275fac,providedIn:"root"})}}class mf{getActiveLanguages(){return(0,bt.A)(function*(){return(yield(yield Hy.K.create("SysLanguage")).load({attributes:["Code","Description"],parameters:[{type:Uo.E.Filter,value:new u1.x(He.H.Equal,new zm.g({columnPath:"IsUsed"}),new Um.J({value:!0}))}]})).map(i=>({id:i.Id,name:i.Code,title:i.Description,isActive:!0}))})()}static{this.\u0275fac=function(n){return new(n||mf)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:mf,factory:mf.\u0275fac,providedIn:"root"})}}function CD(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span")(1,"a",13),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("href",t.\u0275\u0275pipeBind1(2,2,n.dialogData.academyUrl),t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,"LocalizableStringsDialog.AcademyUrlTitle")," ")}}function yD(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",11)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,CD,5,6,"span",12),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.dialogData.description," "),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.dialogData.academyUrl)}}function vD(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"mat-form-field",14)(2,"mat-label",15),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"textarea",16),t.\u0275\u0275twoWayListener("ngModelChange",function(i){const s=t.\u0275\u0275restoreView(n).$implicit;return t.\u0275\u0275twoWayBindingSet(s.value,i)||(s.value=i),t.\u0275\u0275resetView(i)}),t.\u0275\u0275text(5,"				"),t.\u0275\u0275elementEnd()()()}if(r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275attribute("data-item-marker",n.name),t.\u0275\u0275advance(),t.\u0275\u0275classProp("hideNonActiveItem",a.isHidden(n)),t.\u0275\u0275advance(),t.\u0275\u0275property("tsDataItemMarker",n.name+"_label")("lang",n.name),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.title),t.\u0275\u0275advance(),t.\u0275\u0275property("disabled",a.dialogData.isDisabled)("rows",1),t.\u0275\u0275twoWayProperty("ngModel",n.value),t.\u0275\u0275property("tsDataItemMarker",a.dataQaAttribute(n.name))("lang",n.name)("maxlength",a.dialogData.maxInputLength)}}function MD(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",17)(1,"button",18),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.showAll=!i.showAll)}),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275element(4,"mat-icon",19),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("tsDataItemMarker","show_hide_languages_button"),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,3,n.getIsActiveButtonTitle)," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("svgIcon",n.getIsActiveButtonImage)}}class gf{constructor(e,n,a){this.dialogData=e,this._dialogRef=a,this._destroyed=new m.ReplaySubject,this._maskService=new nl.s,this._defaultDataSource=CC.SysCulture,this.culturesData=[];const i=n.get(_t.MatIconRegistry),s=n.get(p.DomSanitizer);this._cultureApiService=n.get(uf),this._languageApiService=n.get(mf),i.addSvgIconLiteral("up-arrows-icon",s.bypassSecurityTrustHtml(o(38192))),i.addSvgIconLiteral("close",s.bypassSecurityTrustHtml(o(54762))),i.addSvgIconLiteral("down-arrows-icon",s.bypassSecurityTrustHtml(o(71235)))}get getIsActiveButtonTitle(){return this.showAll?"LocalizableStringsDialog.HideInactiveLanguages":"LocalizableStringsDialog.ShowAllLanguages"}get getIsActiveButtonImage(){return this.showAll?"up-arrows-icon":"down-arrows-icon"}_getCultureValue(e){return this.dialogData.localizableStrings.getValue(e)}_getLocalizableDefinitionModel(e){const n=new bD(e);return n.value=this._getCultureValue(e.name),n}_setNeedShowAllLanguagesButton(e){if(this.dialogData.hideShowAllLanguages){this.needShowAllLanguagesButton=!1;return}this.needShowAllLanguagesButton=e.some(n=>!n.isActive)}ngOnInit(){this._maskService.showBodyMask(),this.dialogData.source||(this.dialogData.source=this._defaultDataSource),(this.dialogData.source===CC.SysCulture?this._cultureApiService.getAllCultures():(0,m.scheduled)(this._languageApiService.getActiveLanguages(),m.asyncScheduler)).pipe((0,h.takeUntil)(this._destroyed),(0,h.catchError)(n=>(console.error(n),this._maskService.hideBodyMask(),(0,m.of)(null)))).subscribe(n=>{this._maskService.hideBodyMask(),this.culturesData=n.map(a=>this._getLocalizableDefinitionModel(a)),this._setNeedShowAllLanguagesButton(n)}),this._dialogRef.keydownEvents().pipe((0,h.filter)(n=>n?.key===Ht.Key.Escape)).subscribe(()=>this._maskService.hideBodyMask())}dataQaAttribute(e){return e+"_input"}isHidden(e){return this.showAll?!1:this.dialogData.alwaysVisibleCultures?.length?!this.dialogData.alwaysVisibleCultures.includes(e.name):!e.isActive}ngOnDestroy(){this._destroyed.next(!0),this._destroyed.complete()}static{this.\u0275fac=function(n){return new(n||gf)(t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA),t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:gf,selectors:[["ts-localizable-dialog"]],decls:18,vars:17,consts:[[1,"ts-localizable-dialog"],["mat-dialog-title",""],["mat-icon-button","",1,"close-dialog",3,"aria-label","mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],["mat-dialog-content","",1,"dialog-content-wrapper"],["class","description",4,"ngIf"],[4,"ngFor","ngForOf"],["class","collapse-expand-language",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action-buttons"],["mat-button","","data-item-marker","localizable-dialog-cancel-button",1,"cancelBtn",3,"mat-dialog-close"],["mat-flat-button","","color","primary","data-item-marker","localizable-dialog-apply-button",1,"applyBtn",3,"disabled","mat-dialog-close"],[1,"description"],[4,"ngIf"],["target","_blank",3,"href"],["floatLabel","always",1,"example-full-width"],[3,"tsDataItemMarker","lang"],["matInput","",3,"ngModelChange","disabled","rows","ngModel","tsDataItemMarker","lang","maxlength"],[1,"collapse-expand-language"],["mat-button","",3,"click","tsDataItemMarker"],[1,"expandCollapsImg",3,"svgIcon"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"span"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"button",2),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275element(6,"mat-icon",3),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",4),t.\u0275\u0275template(8,yD,4,2,"div",5)(9,vD,6,12,"div",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(10,MD,5,5,"div",7),t.\u0275\u0275elementStart(11,"div",8)(12,"button",9),t.\u0275\u0275text(13),t.\u0275\u0275pipe(14,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"button",10),t.\u0275\u0275text(16),t.\u0275\u0275pipe(17,"translate"),t.\u0275\u0275elementEnd()()()),n&2&&(t.\u0275\u0275classMap(a.dialogData.customClass),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",a.dialogData.title," "),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("aria-label",t.\u0275\u0275pipeBind1(5,11,"DialogComponent.CloseButtonDialog")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.dialogData.description),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.culturesData),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.needShowAllLanguagesButton),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(14,13,a.dialogData.cancelBtnTitle)," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",a.dialogData.isDisabled)("mat-dialog-close",a.culturesData),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(17,15,a.dialogData.okBtnTitle)," "))},dependencies:[_.NgForOf,_.NgIf,O.DefaultValueAccessor,O.NgControlStatus,O.MaxLengthValidator,O.NgModel,q.MatLegacyFormField,q.MatLegacyLabel,lt.MatLegacyInput,nt.MatLegacyButton,_t.MatIcon,Ot.MatLegacyDialogClose,Ot.MatLegacyDialogTitle,Ot.MatLegacyDialogContent,Ot.MatLegacyDialogActions,Hn,f.TranslatePipe],styles:[".dialog-content-wrapper[_ngcontent-%COMP%]{padding-top:8px;padding-bottom:17px;display:flex;flex-direction:column;justify-content:space-between;width:476px;height:100%;overflow:auto!important}.dialog-content-wrapper[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]{width:100%}.dialog-content-wrapper[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:18px}.dialog-content-wrapper[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]   textarea[disabled][_ngcontent-%COMP%]{color:#000}.dialog-content-wrapper[_ngcontent-%COMP%]   .hideNonActiveItem[_ngcontent-%COMP%]{display:none}.dialog-content-wrapper[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:14px}.ts-localizable-dialog.multilang-style[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]{margin-bottom:16px;width:480px}.ts-localizable-dialog.multilang-style[_ngcontent-%COMP%]   .mat-dialog-content[_ngcontent-%COMP%]{width:540px}.ts-localizable-dialog.multilang-style[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{padding-bottom:1.5em}[mat-dialog-actions][_ngcontent-%COMP%]{margin:9px 0!important;display:flex;flex-direction:row;justify-content:flex-end}.collapse-expand-language[_ngcontent-%COMP%]{text-align:center}.collapse-expand-language[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{text-transform:none}.collapse-expand-language[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]:focus{background-color:transparent!important}.collapse-expand-language[_ngcontent-%COMP%]   .expandCollapsImg[_ngcontent-%COMP%]{padding-left:5px;display:flex;box-sizing:content-box;width:16px;height:16px}"]})}}var Nr=o(50588);const ID=["input"],xD=["button"];function SD(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275element(1,"mat-icon",8),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("crtTooltip",t.\u0275\u0275pipeBind1(2,1,"Input.Readonly")))}function wD(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275element(1,"mat-icon",9),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("crtTooltip",n.tooltip)}}class ss extends gr.F{get localizableStringsIcon(){return this.iconLineType==="bold"?"localizable-strings-bold":"localizable-strings"}set autofocus(e){if(e){const n=this.input.nativeElement;n.focus(),n.select()}}set stringValue(e){this.innerValue.setValueLocalizableString(this.translateService.currentLang,e),this.onChange(this.innerValue)}get stringValue(){return this.innerValue instanceof Nr.h?this.innerValue.getValue(this.translateService.currentLang):this.innerValue}constructor(e,n,a,i,s,b,D,W){super(e,n,a),this.translateService=i,this.dialogService=s,this._maskService=W,this.controlType="ts-localizable-string",this.iconLineType="default",this.showLockIcon=!1;const ot=o(27809),It=o(47943);b.addSvgIconLiteral("localizable-strings",D.bypassSecurityTrustHtml(ot)),b.addSvgIconLiteral("localizable-strings-bold",D.bypassSecurityTrustHtml(It))}dataQaAttribute(){return this.label.toLowerCase()+"_input"}showLanguageMiniCard(e){e.preventDefault();const n=!!this.beforeOpen;n&&this._maskService.showBodyMask({delay:0}),(n?this.beforeOpen():(0,m.of)(null)).pipe((0,m.take)(1),(0,m.tap)(()=>this._maskService.hideBodyMask()),(0,m.switchMap)(()=>this.dialogService.open(gf,{data:{title:this.label,cancelBtnTitle:"LocalizableStringsDialog.Cancel",okBtnTitle:"LocalizableStringsDialog.Apply",localizableStrings:this.innerValue,isDisabled:this.disabled},scrollStrategy:new In.NoopScrollStrategy,panelClass:["dialog-top-border"]}))).subscribe(i=>{i&&(i.forEach(s=>{this.innerValue.setValueLocalizableString(s.name,s.value)}),this.onChange(this.innerValue))})}writeValue(e){e||(e=new Nr.h),super.writeValue(e)}static{this.\u0275fac=function(n){return new(n||ss)(t.\u0275\u0275directiveInject(O.NgControl,10),t.\u0275\u0275directiveInject(be.AutofillMonitor),t.\u0275\u0275directiveInject(Ge.FocusMonitor),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(Kt.o),t.\u0275\u0275directiveInject(_t.MatIconRegistry),t.\u0275\u0275directiveInject(p.DomSanitizer),t.\u0275\u0275directiveInject(ee.s))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:ss,selectors:[["ts-localizable-text-input"]],viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(ID,5),t.\u0275\u0275viewQuery(xD,5,t.ElementRef)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.input=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.button=i.first)}},inputs:{tooltip:"tooltip",iconLineType:"iconLineType",showLockIcon:"showLockIcon",label:"label",autofocus:"autofocus",stringValue:"stringValue",beforeOpen:"beforeOpen"},features:[t.\u0275\u0275ProvidersFeature([{provide:q.MatLegacyFormFieldControl,useExisting:ss}]),t.\u0275\u0275InheritDefinitionFeature],decls:10,vars:16,consts:[["input",""],["button",""],[1,"localizable-text-input-container"],["matInput","","autocomplete","off",1,"localizable-text-input-container-control",3,"ngModelChange","ngModel","disabled","tsDataItemMarker","required","placeholder"],["class","icon-container",4,"ngIf"],["mat-icon-button","","type","button",1,"localizable-icon",3,"click","tsDataItemMarker"],[1,"localizable-strings-icon",3,"svgIcon"],[1,"icon-container"],["matIconSuffix","","svgIcon","lock",1,"readonly-icon",3,"crtTooltip"],["tabindex","0","matSuffix","","svgIcon","info-icon",1,"tooltip-icon",3,"crtTooltip"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",2)(1,"input",3,0),t.\u0275\u0275twoWayListener("ngModelChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275twoWayBindingSet(a.stringValue,b)||(a.stringValue=b),t.\u0275\u0275resetView(b)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,SD,3,3,"div",4),t.\u0275\u0275elementStart(4,"button",5,1),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275listener("click",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.showLanguageMiniCard(b))}),t.\u0275\u0275element(8,"mat-icon",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,wD,2,1,"div",4),t.\u0275\u0275elementEnd()}n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275twoWayProperty("ngModel",a.stringValue),t.\u0275\u0275property("disabled",a.disabled)("tsDataItemMarker",a.dataQaAttribute())("required",a.required)("placeholder",a.placeholder),t.\u0275\u0275attribute("aria-label",a.label),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.showLockIcon&&a.disabled),t.\u0275\u0275advance(),t.\u0275\u0275property("tsDataItemMarker","localizable_button_"+a.label),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(6,12,"LocalizableTextInput.ButtonTitle"))("title",t.\u0275\u0275pipeBind1(7,14,"LocalizableTextInput.ButtonTitle")),t.\u0275\u0275advance(4),t.\u0275\u0275propertyInterpolate("svgIcon",a.localizableStringsIcon),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.tooltip))},dependencies:[_.NgIf,O.DefaultValueAccessor,O.NgControlStatus,O.RequiredValidator,O.NgModel,q.MatLegacySuffix,lt.MatLegacyInput,nt.MatLegacyButton,_t.MatIcon,Hn,na.d,f.TranslatePipe],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.localizable-text-input-container{display:flex;flex-direction:row;align-items:center}.localizable-text-input-container .mat-input-element{padding-right:21px}.localizable-text-input-container .mat-icon-button.localizable-icon{height:auto;width:1.5em}.localizable-text-input-container .mat-icon.localizable-strings-icon{width:16px;height:16px;line-height:16px}.localizable-text-input-container .mat-button-wrapper{display:flex;justify-content:center}.localizable-text-input-container .mat-button-focus-overlay,.localizable-text-input-container .mat-button-ripple-round{height:21px}.localizable-text-input-container .mat-icon-button:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.localizable-text-input-container .readonly-icon,.localizable-text-input-container .tooltip-icon{width:16px;height:16px;display:flex;justify-content:center}.localizable-text-input-container .tooltip-icon{color:#0d2e4e;margin-right:6px;margin-left:4px}.localizable-text-input-container:not(:hover) .readonly-icon{display:none}
`],encapsulation:2})}}class Vr{static{this.\u0275fac=function(n){return new(n||Vr)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Vr})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,O.FormsModule,f.TranslateModule,lt.MatLegacyInputModule,nt.MatLegacyButtonModule,_t.MatIconModule,Ot.MatLegacyDialogModule,tn,Ra.P,_e.S]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Vr,{declarations:[gf,ss],imports:[_.CommonModule,O.FormsModule,f.TranslateModule,lt.MatLegacyInputModule,nt.MatLegacyButtonModule,_t.MatIconModule,Ot.MatLegacyDialogModule,tn,Ra.P,_e.S],exports:[ss]})})();var hf;(function(r){r.Cancelled="cancelled",r.Saved="saved"})(hf||(hf={}));const ED={channel:"widget-designer-channel",requestConfig:"RequestWidgetConfig",responseConfig:"ResponseWidgetConfig",saveConfig:"SaveWidgetConfig",designerLoaded:"DesignerLoaded",modalOpening:"ModalOpening",modalClosing:"ModalClosing",escPressed:"ESCPressed"},y6=new t.InjectionToken("Names of iframe messages");function TD(r={}){return{provide:y6,useValue:{...ED,...r}}}const PD="initialize",OD="message";class Fr{set initialConfig(e){this._initialConfig=e}constructor(e,n){this._window=e,this._messageNames=n,this._destroyed$=new m.Subject,this.configChanged$=new m.Subject,this.designerLoaded$=new m.Subject,this.modalOpening$=new m.Subject,this.modalClosing$=new m.Subject,this.escPressed$=new m.Subject}_postMessage(e,n){this._contentWindow.postMessage({channel:this._messageNames.channel,name:e,payload:n},window.location.origin)}initCommunication(e){return this._contentWindow=e,(0,m.fromEvent)(this._window,OD).pipe((0,h.filter)(n=>n?.data?.channel===this._messageNames.channel),(0,h.takeUntil)(this._destroyed$))}onMessage(e){const{data:{name:n="",payload:a={}}}=e||{};switch(n){case PD:const{handshakeMessage:i}=a;this._postMessage(i);break;case this._messageNames.requestConfig:this.postResponse(this._initialConfig);break;case this._messageNames.saveConfig:this.configChanged$.next(e?.data?.payload);break;case this._messageNames.designerLoaded:this.designerLoaded$.next();break;case this._messageNames.modalOpening:this.modalOpening$.next();break;case this._messageNames.modalClosing:this.modalClosing$.next();break;case this._messageNames.escPressed:this.escPressed$.next();break}}postResponse(e){this._initialConfig=e,this._postMessage(this._messageNames.responseConfig,e)}reloadFrame(){this._contentWindow.location.reload()}destroy(){this._destroyed$.next(),this._destroyed$.complete(),this._contentWindow=void 0}static{this.\u0275fac=function(n){return new(n||Fr)(t.\u0275\u0275inject(E.ZP),t.\u0275\u0275inject(y6))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Fr,factory:Fr.\u0275fac})}}const DD=["frameElement"],AD=r=>({height:r});class Ep{set data(e){this._frameMessengerService.initialConfig=e}constructor(e,n,a,i){this._frameMessengerService=e,this._renderer=n,this._window=a,this._ngZone=i,this._subscription=new m.Subscription,this.height="",this.dataChange=new t.EventEmitter,this.clicked=new t.EventEmitter,this.frameLoaded=new t.EventEmitter,this.escPressed=new t.EventEmitter}_onWindowBlur(){this._frameMouseOver&&this.clicked.emit()}ngOnInit(){this._subscription.add(this._frameMessengerService.configChanged$.subscribe(e=>this.dataChange.emit(e))),this._subscription.add(this._frameMessengerService.escPressed$.subscribe(()=>this.escPressed.emit())),this._ngZone.runOutsideAngular(()=>{this._windowBlurUnListen=this._renderer.listen(this._window,"blur",()=>this._onWindowBlur())})}ngAfterViewInit(){const{nativeElement:{contentWindow:e=null}={}}=this.frameElement;this._subscription.add(this._frameMessengerService.initCommunication(e).subscribe(n=>this._frameMessengerService.onMessage(n)))}onFrameMouseOver(){this._frameMouseOver=!0}onFrameMouseOut(){this._frameMouseOver=!1}onFrameLoad(e){this.frameLoaded.emit(e)}ngOnDestroy(){this._subscription.unsubscribe(),this._windowBlurUnListen?.(),this._frameMessengerService.destroy()}static{this.\u0275fac=function(n){return new(n||Ep)(t.\u0275\u0275directiveInject(Fr),t.\u0275\u0275directiveInject(t.Renderer2),t.\u0275\u0275directiveInject(E.ZP),t.\u0275\u0275directiveInject(t.NgZone))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ep,selectors:[["crt-ext-resource-frame"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(DD,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.frameElement=i.first)}},hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("mouseover",function(){return a.onFrameMouseOver()})("mouseout",function(){return a.onFrameMouseOut()})},inputs:{url:"url",title:"title",data:"data",height:"height"},outputs:{dataChange:"dataChange",clicked:"clicked",frameLoaded:"frameLoaded",escPressed:"escPressed"},decls:2,vars:6,consts:[["frameElement",""],[3,"load","src","title","ngStyle"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"iframe",1,0),t.\u0275\u0275listener("load",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onFrameLoad(b))}),t.\u0275\u0275elementEnd()}n&2&&(t.\u0275\u0275property("src",a.url,t.\u0275\u0275sanitizeResourceUrl)("title",a.title)("ngStyle",t.\u0275\u0275pureFunction1(4,AD,a.height)),t.\u0275\u0275attribute("data-qa",a.title))},dependencies:[_.NgStyle],styles:["[_nghost-%COMP%]{flex:1}iframe[_ngcontent-%COMP%]{display:block;border:none;width:100%;height:100%}"]})}}class Tp{constructor(e){this._domSanitizer=e,this._extViewModulePath="/Nui/ViewModule.aspx?vm=FilterEditModuleLoader&disableLogo=1",this.title="filters-designer-iframe",this.filterParamsChange=new t.EventEmitter,this.escPressed=new t.EventEmitter,this.clicked=new t.EventEmitter}ngOnInit(){const e=(0,x.cI)(),n=_.Location.joinWithSlash(e,this._extViewModulePath);this.url=this._domSanitizer.bypassSecurityTrustResourceUrl(n)}onDataChanged(e){this.filterParamsChange.emit(e)}onESCPressed(){this.escPressed.emit()}onClicked(){this.clicked.emit()}static{this.\u0275fac=function(n){return new(n||Tp)(t.\u0275\u0275directiveInject(p.DomSanitizer))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Tp,selectors:[["crt-filters"]],inputs:{filterParams:"filterParams"},outputs:{filterParamsChange:"filterParamsChange",escPressed:"escPressed",clicked:"clicked"},decls:1,vars:3,consts:[[3,"dataChange","escPressed","clicked","url","title","data"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"crt-ext-resource-frame",0),t.\u0275\u0275listener("dataChange",function(s){return a.onDataChanged(s)})("escPressed",function(){return a.onESCPressed()})("clicked",function(){return a.onClicked()}),t.\u0275\u0275elementEnd()),n&2&&t.\u0275\u0275property("url",a.url)("title",a.title)("data",a.filterParams)},dependencies:[Ep]})}}var yC=o(4872);function LD(r,e){r&1&&t.\u0275\u0275element(0,"ts-mask",9)}class _f{constructor(e,n,a,i){this.dialogRef=e,this.filterData=n,this._extResourceFrameWindowMessenger=a,this._changeDetectorRef=i,this._subscription=new m.Subscription,this._setupFiltersCaption="DataGridColumnEditDialog.SetupFilters",this._editFiltersCaption="DataGridColumnEditDialog.EditFilters",this.loading=!0,this.filtersModalOpened=!1,this.filterParams=n,this.pageTitle=this._isFiltersEmpty(n)?this._setupFiltersCaption:this._editFiltersCaption}_isFiltersEmpty(e){return Object.keys(e.filters?.items||{}).length===0}ngOnInit(){this._subscription.add(this._extResourceFrameWindowMessenger.designerLoaded$.subscribe(()=>{this.loading=!1,this._changeDetectorRef.detectChanges()})),this._subscription.add(this._extResourceFrameWindowMessenger.modalOpening$.subscribe(()=>{this.filtersModalOpened=!0,this._changeDetectorRef.detectChanges()})),this._subscription.add(this._extResourceFrameWindowMessenger.modalClosing$.subscribe(()=>{this.filtersModalOpened=!1,this._changeDetectorRef.detectChanges()}))}getClasses(){return{"data-grid-edit-column-filters-panel":!0,"data-grid-edit-column-filters-panel-cover":this.filtersModalOpened}}onFiltersParamsChanged(e){this.filterParams=e}onSaveButtonClick(){const e={status:hf.Saved,filterParams:this.filterParams};this.dialogRef.close(e)}onCloseButtonClick(){const e={status:hf.Cancelled};this.dialogRef.close(e)}ngOnDestroy(){this._subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||_f)(t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef),t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA),t.\u0275\u0275directiveInject(Fr),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:_f,selectors:[["crt-setup-filter"]],decls:15,vars:14,consts:[[3,"ngClass"],[1,"data-grid-edit-column-filters-panel-header"],[1,"data-grid-edit-column-filters-panel-caption"],[1,"data-grid-edit-column-filters-panel-buttons"],["color","primary",1,"action-button",3,"clicked","disabled"],[1,"action-button",3,"clicked","disabled"],[1,"data-grid-edit-column-filters-panel-content"],["class","data-grid-edit-column-filters-panel-mask",4,"ngIf"],[3,"filterParamsChange","filterParams"],[1,"data-grid-edit-column-filters-panel-mask"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",3)(6,"crt-button",4),t.\u0275\u0275listener("clicked",function(){return a.onSaveButtonClick()}),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"crt-button",5),t.\u0275\u0275listener("clicked",function(){return a.onCloseButtonClick()}),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",6),t.\u0275\u0275template(13,LD,1,0,"ts-mask",7),t.\u0275\u0275elementStart(14,"crt-filters",8),t.\u0275\u0275listener("filterParamsChange",function(s){return a.onFiltersParamsChanged(s)}),t.\u0275\u0275elementEnd()()()),n&2&&(t.\u0275\u0275property("ngClass",a.getClasses()),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,8,a.pageTitle)),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",a.loading||a.filtersModalOpened),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,10,"DataGridColumnEditDialog.SaveButton")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",a.filtersModalOpened),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(11,12,"DataGridColumnEditDialog.CancelButton")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.loading),t.\u0275\u0275advance(),t.\u0275\u0275property("filterParams",a.filterParams))},dependencies:[_.NgClass,_.NgIf,Jt,Tp,yC.I,f.TranslatePipe],styles:["[_nghost-%COMP%]{width:100%}.data-grid-edit-column-filters-panel[_ngcontent-%COMP%]{flex-direction:column;display:flex;height:100%}.data-grid-edit-column-filters-panel-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-inline:40px}.data-grid-edit-column-filters-panel-header[_ngcontent-%COMP%]   .data-grid-edit-column-filters-panel-caption[_ngcontent-%COMP%]{margin:8px 0}.data-grid-edit-column-filters-panel-header[_ngcontent-%COMP%]   .data-grid-edit-column-filters-panel-buttons[_ngcontent-%COMP%]{display:flex;justify-items:flex-start;align-items:flex-start;flex-flow:row nowrap;margin-bottom:32px;gap:16px}.data-grid-edit-column-filters-panel-content[_ngcontent-%COMP%]{position:relative;height:100%}.data-grid-edit-column-filters-panel-content[_ngcontent-%COMP%]   .data-grid-edit-column-filters-panel-mask[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}"]})}}var kD=o(61843),ff=o(96576),RD=o(67847);class bf{static _trimValueIfNeeded(e,n){return n?.trimValue&&!bf.isEmptyInputValue(e)&&e5(e)?e.trim():e}static isEmptyInputValue(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}static hasValidLength(e){return e!=null&&typeof e.length=="number"}static getControlValueAndTrimIfNeeded(e,n){return bf._trimValueIfNeeded(e.value,n)}}let vC=class extends Ed{constructor(){super(...arguments),this.i18nMessageKey="Validators.Required.Message",this.async=!1}_requiredValidator(e,n){return bf.isEmptyInputValue(e)?{required:this.defaultValidationError(n)}:null}validate(e,n){const a=bf.getControlValueAndTrimIfNeeded(e,n);return this._requiredValidator(a,n)}};vC=(0,u.__decorate)([Hb({type:"crt.Required"})],vC);class Sg{constructor(e){this._dataSchemaRepository=e}_getDataValueTypesForAggregationFunction(e){switch(e){case Lt.q.Count:return[];case Lt.q.Sum:case Lt.q.Avg:return[X.r.Integer,X.r.Float,X.r.FLOAT1,X.r.FLOAT2,X.r.FLOAT3,X.r.FLOAT4,X.r.FLOAT8,X.r.Money];case Lt.q.Max:case Lt.q.Min:return[X.r.Integer,X.r.Float,X.r.FLOAT1,X.r.FLOAT2,X.r.FLOAT3,X.r.FLOAT4,X.r.FLOAT8,X.r.Money,X.r.Date,X.r.DateTime];case Lt.q.TopOne:return Object.keys(X.r).filter(n=>isNaN(Number(n))&&X.r[n]!==X.r.Lookup&&X.r[n]!==X.r.IMAGELOOKUP&&X.r[n]!==X.r.Image).map(n=>X.r[n]);default:return[]}}_filterAttributesByType(e,n){return e.filter(a=>n.includes(a.dataValueType))}initSchema(e){return this._dataSchemaRepository.get(e).pipe((0,m.tap)(n=>this._dataSchema=n))}getAllowedDataSchemaAttributesByAggregationFunction(e){const n=this._getDataValueTypesForAggregationFunction(e);return this._filterAttributesByType(this._dataSchema.attributes,n)}getAllowedDataSchemaAttributes(){return this.getAllowedDataSchemaAttributesByAggregationFunction(Lt.q.TopOne)}getAttributeByName(e){return this._dataSchema.findAttributeByName(e)}static{this.\u0275fac=function(n){return new(n||Sg)(t.\u0275\u0275inject(s6.J))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Sg,factory:Sg.\u0275fac})}}const ND="Components.ExpandedList.Caption",cs="GridDetail";function wg({groupType:r,captionKey:e,icon:n,position:a,hint:i,id:s,name:b,addCommandTypeName:D,expansionPanelDefaultElements:W=[],expansionPanelDefaultTools:ot=[],fullWidthHeader:It=!1,padding:Pt=null,requiredPackages:te=[],requiredFeatures:Se={},toggleType:On="default",togglePosition:Da="before"}){const $r={groupType:r,position:a,caption:e,hint:i,id:s,icon:n,addCommandTypeName:D,defaultPropertyValues:{tools:[{name:"GridContainer_"+on,type:"crt.GridContainer",rows:"minmax(max-content, 24px)",columns:["minmax(32px, 1fr)"],gap:{columnGap:"large",rowGap:0},styles:{"overflow-x":"hidden"},items:[{name:"FlexContainer_"+on,type:"crt.FlexContainer",direction:"row",gap:"none",alignItems:"center",items:ot,layoutConfig:{colSpan:1,column:1,row:1,rowSpan:1}}]}],items:[{name:"GridContainer_"+on,type:"crt.GridContainer",rows:"minmax(max-content, 32px)",columns:["minmax(32px, 1fr)","minmax(32px, 1fr)"],gap:{columnGap:"large",rowGap:0},styles:{["overflow-x"]:"hidden"},items:W}],title:"",toggleType:On,togglePosition:Da,expanded:!0,labelColor:je.Auto,fullWidthHeader:It,titleWidth:20,padding:Pt||{top:ht.Z.Small,bottom:ht.Z.Small,left:ht.Z.None,right:ht.Z.None},fitContent:!0},defaultLocalizableStrings:{title:e},requiredPackages:te,requiredFeatures:Se};return(0,y.isEmpty)(b)||($r.defaultPropertyValues.name=b),$r}function u2(){return cs+"AddBtn_"+on}const VD=[[["","beforeToggleButtonContentWrapper",""]],[["","beforeLabelContentWrapper",""]],[["","afterLabelContentWrapper",""]],"*"],FD=["[beforeToggleButtonContentWrapper]","[beforeLabelContentWrapper]","[afterLabelContentWrapper]","*"];function jD(r,e){r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275projection(1,2),t.\u0275\u0275elementContainerEnd())}function BD(r,e){r&1&&t.\u0275\u0275element(0,"div",12)}function zD(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275elementContainer(1,15),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("crtViewElement",n)}}function UD(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,zD,2,1,"div",14),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.items)}}function HD(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",13),t.\u0275\u0275template(1,UD,2,1,"ng-container",5),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2),a=t.\u0275\u0275reference(11);t.\u0275\u0275styleProp("width",n.toolsWidth),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.items==null?null:n.items.length)("ngIfElse",a)}}function WD(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",7)(2,"div",7),t.\u0275\u0275projection(3,1),t.\u0275\u0275elementStart(4,"crt-label",8),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.toggle())}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(5,jD,2,0,"ng-container",9)(6,BD,1,0,"div",10)(7,HD,2,4,"div",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",!n.expanded||n.isFullWidth?"expansion-panel-title full-width":"expansion-panel-title"),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("width",n.titleWidth),t.\u0275\u0275property("ngClass",n.title?"expansion-panel-label":"expansion-panel-label label-empty"),t.\u0275\u0275advance(2),t.\u0275\u0275property("caption",n.title)("labelColor",n.labelColor)("labelEllipsis",!0)("labelStyle",n.extraStyles==null?null:n.extraStyles.label),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.expanded),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.tooltip),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.expanded)}}function GD(r,e){r&1&&t.\u0275\u0275projection(0,3)}function $D(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",16)(1,"crt-label",17),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.toggle())}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("labelEllipsis",!0)("caption",n.description)}}class Pp extends km.Mm{constructor(){super(...arguments),this._togglePosition="before",this.defaultToggleButtonSize=ht.Z.Small,this.showEmptyTools=!1,this.isFullWidth=!1,this.expandedChange=new t.EventEmitter}set expanded(e){this._expanded=e,this._initToggleIcon(),this._initToggleButtonClasses(),this._initToggleIconClasses()}get expanded(){return this._expanded}set toggleType(e){this._toggleType=e,this._initToggleIcon(),this._initToggleButtonClasses(),this._initToggleIconClasses()}get toggleType(){return this._toggleType}set togglePosition(e){this._togglePosition=e,this._initHeaderClasses()}get togglePosition(){return this._togglePosition}get toggleIcon(){return this._toggleIcon}get headerClasses(){return this._headerClasses}get toggleButtonClasses(){return this._toggleButtonClasses}get toggleIconClasses(){return this._toggleIconClasses}get toolsWidth(){return this.expanded&&this.isFullWidth&&this.titleWidthValue?`${100-this.titleWidthValue}%`:null}get titleWidth(){return this.expanded&&this.isFullWidth&&this.titleWidthValue?`${this.titleWidthValue}%`:null}_initToggleIcon(){const e="expansion-panel-arrow",n=this.toggleType==="material"?"-mat":"";this._toggleIcon=e+n}_initHeaderClasses(){const e="toggle-position-before",n="toggle-position-after";this._headerClasses={[e]:this.togglePosition==="before",[n]:this.togglePosition==="after"}}_initToggleButtonClasses(){const e="expansion-panel-toggle",n="toggle-button-default",a="toggle-button-material",i="toggle-button-expanded",s="toggle-button-collapsed";this._toggleButtonClasses={[e]:!0,[n]:this.toggleType==="default",[a]:this.toggleType==="material",[i]:this.expanded,[s]:!this.expanded}}_initToggleIconClasses(){const e="toggle-icon",n="toggle-icon-expanded",a="toggle-icon-collapsed",i="toggle-icon-default",s="toggle-icon-material";this._toggleIconClasses={[e]:!0,[n]:this.expanded,[a]:!this.expanded,[i]:this.toggleType==="default",[s]:this.toggleType==="material"}}ngAfterViewInit(){super.ngAfterViewInit(),this._initToggleIcon(),this._initHeaderClasses(),this._initToggleButtonClasses(),this._initToggleIconClasses()}toggle(){this.expanded=!this.expanded,this.expandedChange.emit(this.expanded)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Pp)))(a||Pp)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Pp,selectors:[["crt-expansion-panel-header"]],inputs:{title:"title",tooltip:"tooltip",description:"description",expanded:"expanded",toggleType:"toggleType",togglePosition:"togglePosition",labelColor:"labelColor",extraStyles:"extraStyles",ariaLabel:"ariaLabel",showEmptyTools:"showEmptyTools",isFullWidth:"isFullWidth",titleWidthValue:"titleWidthValue"},outputs:{expandedChange:"expandedChange"},features:[t.\u0275\u0275ProvidersFeature([],[mn.MatExpansionPanel]),t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:FD,decls:13,vars:23,consts:[["content",""],[1,"expansion-panel-header",3,"ngClass","ngStyle"],[1,"button-wrapper"],["displayType","text",3,"clicked","ariaLabel","ngClass","disableRipple","title","size"],["matSuffix","",3,"svgIcon","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],["class","expansion-panel-description",4,"ngIf"],[3,"ngClass"],["labelType","body-large",3,"click","caption","labelColor","labelEllipsis","labelStyle"],[4,"ngIf"],["class","expansion-panel-info",4,"ngIf"],["class","expansion-panel-tools",3,"width",4,"ngIf"],[1,"expansion-panel-info"],[1,"expansion-panel-tools"],[4,"ngFor","ngForOf"],["crtViewModel","",3,"crtViewElement"],[1,"expansion-panel-description"],["labelType","caption",3,"click","labelEllipsis","caption"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275projectionDef(VD),t.\u0275\u0275elementStart(0,"div",1)(1,"div",2),t.\u0275\u0275projection(2),t.\u0275\u0275elementStart(3,"crt-button",3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275listener("clicked",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.toggle())}),t.\u0275\u0275element(8,"mat-icon",4),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(9,WD,8,11,"ng-container",5)(10,GD,1,0,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,$D,2,2,"div",6)}if(n&2){const i=t.\u0275\u0275reference(11);t.\u0275\u0275property("ngClass",a.headerClasses)("ngStyle",a.extraStyles==null?null:a.extraStyles.header),t.\u0275\u0275advance(3),t.\u0275\u0275attributeInterpolate1("data-qa","Toggle ",a.title,""),t.\u0275\u0275propertyInterpolate("size",a.defaultToggleButtonSize),t.\u0275\u0275property("ariaLabel",a.ariaLabel||a.expanded?t.\u0275\u0275pipeBind1(4,15,"ExpansionPanel.Collapse"):t.\u0275\u0275pipeBind1(5,17,"ExpansionPanel.Expand"))("ngClass",a.toggleButtonClasses)("disableRipple",!0)("title",a.ariaLabel||a.expanded?t.\u0275\u0275pipeBind1(6,19,"ExpansionPanel.Collapse"):t.\u0275\u0275pipeBind1(7,21,"ExpansionPanel.Expand")),t.\u0275\u0275advance(5),t.\u0275\u0275property("svgIcon",a.toggleIcon)("ngClass",a.toggleIconClasses)("ngStyle",a.extraStyles==null?null:a.extraStyles.toggle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.title||a.tooltip||a.description)("ngIfElse",i),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.description)}},dependencies:[_.NgClass,_.NgForOf,_.NgIf,_.NgStyle,_t.MatIcon,Ad.aD,rn.H,hn,Jt,f.TranslatePipe],styles:[`crt-expansion-panel-header{display:flex;flex-direction:column;background-color:#fff}crt-expansion-panel-header .expansion-panel-header{min-height:32px;display:flex;flex-direction:row;justify-content:space-between;max-width:100%;align-items:center;-webkit-user-select:none;user-select:none;width:100%}crt-expansion-panel-header .expansion-panel-header.toggle-position-before{justify-content:flex-end}crt-expansion-panel-header .expansion-panel-header.toggle-position-before .expansion-panel-title{max-width:calc(100% - 16px);padding-right:0}crt-expansion-panel-header .expansion-panel-header.toggle-position-before .expansion-panel-label{padding-inline-start:16px}crt-expansion-panel-header .expansion-panel-header.toggle-position-before .expansion-panel-label.label-empty{padding-inline-start:8px}crt-expansion-panel-header .expansion-panel-header.toggle-position-after{flex-direction:row-reverse}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title{max-width:calc(100% - 32px);padding-right:16px;display:flex;flex-direction:row;align-items:center;min-width:30px;width:100%}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title .expansion-panel-label{display:flex;justify-content:flex-start;align-items:center;overflow:auto;cursor:pointer}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title .expansion-panel-label crt-label{width:100%}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title .expansion-panel-label crt-label label{cursor:pointer;margin:0}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title .expansion-panel-info{padding-inline-start:8px}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title .expansion-panel-tools{padding-inline-start:5px}crt-expansion-panel-header .expansion-panel-header .expansion-panel-title.full-width .expansion-panel-label{width:100%}crt-expansion-panel-header .expansion-panel-header .button-wrapper{display:flex}crt-expansion-panel-header crt-button.expansion-panel-toggle{display:flex;height:16px}crt-expansion-panel-header crt-button.expansion-panel-toggle .crt-button.button-size-small{padding:0;height:16px}crt-expansion-panel-header crt-button.expansion-panel-toggle .crt-button .mat-icon.toggle-icon{width:16px;height:16px;display:flex;border-radius:2px}crt-expansion-panel-header crt-button.expansion-panel-toggle .crt-button .mat-icon.toggle-icon.toggle-icon-collapsed{transform:rotate(180deg)}crt-expansion-panel-header .expansion-panel-description{width:100%;display:flex;justify-content:flex-start;overflow:auto;cursor:pointer}crt-expansion-panel-header .expansion-panel-description crt-label{width:100%}crt-expansion-panel-header .expansion-panel-description crt-label label{cursor:pointer}crt-expansion-panel-header[dir=rtl] .expansion-panel-header .expansion-panel-title.full-width .expansion-panel-label{text-align:right}
`],encapsulation:2,changeDetection:0})}}const KD=[[["","beforeLabelContent",""]],[["","beforeToggleButtonContent",""]],[["","afterLabelContent",""]],[["","slot","tools"]],"*"],ZD=["[beforeLabelContent]","[beforeToggleButtonContent]","[afterLabelContent]","[slot='tools']","*"];function QD(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",3),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function YD(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-expansion-panel-header",8),t.\u0275\u0275twoWayListener("expandedChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275twoWayBindingSet(s.expanded,i)||(s.expanded=i),t.\u0275\u0275resetView(i)}),t.\u0275\u0275listener("expandedChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.expandedChanged(i))}),t.\u0275\u0275elementContainerStart(1,9),t.\u0275\u0275projection(2),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(3,10),t.\u0275\u0275projection(4,1),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(5,11),t.\u0275\u0275projection(6,2),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275projection(7,3),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("title",n.title)("tooltip",n.tooltip)("description",n.description),t.\u0275\u0275twoWayProperty("expanded",n.expanded),t.\u0275\u0275property("togglePosition",n.togglePosition)("toggleType",n.toggleType)("labelColor",n.labelColor)("dir",n.documentDirection)("items",n.tools)("ariaLabel",n.ariaLabel)("extraStyles",n.extraStyles)("isFullWidth",n.fullWidthHeader)("titleWidthValue",n.titleWidth)}}function JD(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",14)(1,"div",15),t.\u0275\u0275elementContainer(2,16),t.\u0275\u0275elementEnd()()),r&2){const n=e.$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275property("crtViewElement",n)}}function XD(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,JD,3,1,"div",13),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.items)}}function qD(r,e){if(r&1&&t.\u0275\u0275template(0,XD,2,1,"ng-container",12),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(5),a=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",a.items==null?null:a.items.length)("ngIfElse",n)}}function tA(r,e){r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275projection(1,4),t.\u0275\u0275elementContainerEnd())}function eA(r,e){if(r&1&&t.\u0275\u0275template(0,tA,2,0,"ng-container",17),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",n.afterExpandAnimationDone)}}function nA(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",4),t.\u0275\u0275template(1,YD,8,13,"crt-expansion-panel-header",5),t.\u0275\u0275elementStart(2,"mat-expansion-panel",6),t.\u0275\u0275listener("afterExpand",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.afterExpand())}),t.\u0275\u0275template(3,qD,1,2,"ng-template",7)(4,eA,1,1,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngClass",n.classes),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.title||n.tooltip||n.description||(n.tools==null?null:n.tools.length)),t.\u0275\u0275advance(),t.\u0275\u0275property("@.disabled",n.disableAnimation)("ngClass",n.expansionPanelClasses)("expanded",n.expanded)("hideToggle",!0)}}const aA="ExpandedList";let Jn=class y4 extends km.Mm{constructor(e){super(e),this._disableOverflow=!1,this.disableAnimation=(0,t.inject)(Im.w,{optional:!0})&&(0,t.inject)(ge.G)?.DisableInterfaceDesignerAnimation,this.togglePosition="before",this.fullWidthHeader=!0,this.tools=[],this.opened=new t.EventEmitter,this.closed=new t.EventEmitter,this.expandedChange=new t.EventEmitter,this._featureValues=this.injector.get(ge.G,null),this._initAfterExpandAnimation()}get innerGridName(){return this._innerGridName}get expansionPanelClasses(){return this._expansionPanelClasses}get toggleType(){return this._toggleType}set toggleType(e){this._toggleType=e,this._updateExpansionPanelClasses()}get disableOverflow(){return this._disableOverflow}set disableOverflow(e){this._disableOverflow=e,this._updateExpansionPanelClasses()}_initAfterExpandAnimation(){this.afterExpandAnimationDone=!!this._featureValues?.["Runtime.DisableExpansionPanelDeferRenderContent"]}_initContentState(){!this.title&&!this.tooltip&&!this.description&&(this.expanded=!0)}_updateExpansionPanelClasses(){this._expansionPanelClasses={"crt-expansion-panel":!0,"toggle-default":this.toggleType==="default","toggle-material":this.toggleType==="material","disable-overflow":this.disableOverflow}}initDefaultPadding(){this.padding={top:ht.Z.Small,bottom:ht.Z.Small,left:ht.Z.None,right:ht.Z.None}}getClasses(){const e=super.getClasses();return e.push("flex-full-height"),e}ngOnInit(){super.ngOnInit(),this._innerGridName=this.items[0]?.name,this.padding||this.initDefaultPadding()}ngAfterViewInit(){super.ngAfterViewInit();const e=this.elementRef.nativeElement.querySelector('[role="region"]');e&&this.renderer.setAttribute(e,"role",""),this._initContentState(),this._updateExpansionPanelClasses(),this.expanded&&(this.afterExpandAnimationDone=!0),this.detectChanges()}onOpened(){this.opened.emit()}onClosed(){this.closed.emit()}expandedChanged(e){if(this.expandedChange.emit(e),e){this.onOpened();return}this.onClosed()}afterExpand(){this.afterExpandAnimationDone=!0}static{this.\u0275fac=function(n){return new(n||y4)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:y4,selectors:[["crt-expansion-panel"]],inputs:{expanded:"expanded",title:"title",togglePosition:"togglePosition",labelColor:"labelColor",tooltip:"tooltip",description:"description",extraStyles:"extraStyles",ariaLabel:"ariaLabel",fullWidthHeader:"fullWidthHeader",titleWidth:"titleWidth",tools:"tools",toggleType:"toggleType",disableOverflow:"disableOverflow"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:ZD,decls:3,vars:2,consts:[["expansion_panel_template",""],["content",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],[3,"ngClass"],[3,"title","tooltip","description","expanded","togglePosition","toggleType","labelColor","dir","items","ariaLabel","extraStyles","isFullWidth","titleWidthValue","expandedChange",4,"ngIf"],[3,"afterExpand","ngClass","expanded","hideToggle"],["matExpansionPanelContent",""],[3,"expandedChange","title","tooltip","description","expanded","togglePosition","toggleType","labelColor","dir","items","ariaLabel","extraStyles","isFullWidth","titleWidthValue"],["beforeLabelContentWrapper",""],["beforeToggleButtonContentWrapper",""],["afterLabelContentWrapper",""],[4,"ngIf","ngIfElse"],["class","expansion-panel-content-wrap",4,"ngFor","ngForOf"],[1,"expansion-panel-content-wrap"],[1,"content-wrap"],[3,"crtViewElement"],[4,"ngIf"]],template:function(n,a){if(n&1&&(t.\u0275\u0275projectionDef(KD),t.\u0275\u0275template(0,QD,1,1,"crt-skeleton-loader",2)(1,nA,6,6,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.loading)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgForOf,_.NgIf,mn.MatExpansionPanel,mn.MatExpansionPanelContent,me.Dir,rn.H,yn.W,Pp],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-expansion-panel,crt-designer-expansion-panel{border-radius:8px;display:flex;flex-direction:column;box-sizing:border-box;overflow:hidden}crt-expansion-panel.stretch,crt-designer-expansion-panel.stretch{height:100%}@supports (background: -webkit-named-image(i)){crt-expansion-panel.stretch,crt-designer-expansion-panel.stretch{height:initial}}crt-expansion-panel crt-expansion-panel,crt-expansion-panel crt-designer-expansion-panel,crt-designer-expansion-panel crt-expansion-panel,crt-designer-expansion-panel crt-designer-expansion-panel{padding-left:0;padding-right:0}crt-expansion-panel .crt-expansion-panel.mat-expansion-panel,crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel{visibility:hidden;box-shadow:none}crt-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content,crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content{min-height:0}crt-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content .mat-expansion-panel-body,crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content .mat-expansion-panel-body{padding:8px 0 0;height:100%;overflow:auto;display:flex;flex-direction:column}crt-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content.ng-animating .mat-expansion-panel-body,crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel .mat-expansion-panel-content.ng-animating .mat-expansion-panel-body{height:0;overflow:hidden}crt-expansion-panel .crt-expansion-panel.mat-expansion-panel.disable-overflow .mat-expansion-panel-body,crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel.disable-overflow .mat-expansion-panel-body{overflow:hidden}crt-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded,crt-designer-expansion-panel .crt-expansion-panel.mat-expansion-panel.mat-expanded{display:contents;visibility:visible}
`],encapsulation:2,changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],Jn.prototype,"expanded",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Jn.prototype,"title",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Jn.prototype,"togglePosition",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Jn.prototype,"labelColor",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Jn.prototype,"tooltip",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Jn.prototype,"description",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Jn.prototype,"extraStyles",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Jn.prototype,"ariaLabel",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Jn.prototype,"fullWidthHeader",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number)],Jn.prototype,"titleWidth",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],Jn.prototype,"tools",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",t.EventEmitter)],Jn.prototype,"opened",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",t.EventEmitter)],Jn.prototype,"closed",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",t.EventEmitter)],Jn.prototype,"expandedChange",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Jn.prototype,"toggleType",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Jn.prototype,"disableOverflow",null),Jn=(0,u.__decorate)([(0,Qt.v)({type:"crt.ExpansionPanel",contentSlots:["items","tools"],reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:[wg({groupType:Gs.h.LayoutElements,position:10,captionKey:"Components.ExpansionPanel.Caption",icon:o(26819)}),wg({groupType:Gs.h.Components,position:30,id:aA,addCommandTypeName:"crt.CreateExpandedDataGridItemCommand",captionKey:ND,hint:"Components.ExpandedList.Hint",icon:o(18430),fullWidthHeader:!1,expansionPanelDefaultElements:[{name:cs+"_"+on,type:"crt.DataGrid",layoutConfig:{colSpan:2,column:1,row:1,rowSpan:6}}],expansionPanelDefaultTools:[{name:u2(),type:"crt.Button",caption:"",icon:"add-button-icon",iconPosition:"only-icon",color:"default",size:ht.Z.Medium,defaultLocalizableStrings:{caption:"Components.ExpandedList.AddBtnCaption"},clicked:{request:"crt.CreateRecordRequest"}},{name:cs+"RefreshBtn_"+on,type:"crt.Button",caption:"",icon:"reload-icon",iconPosition:"only-icon",color:"default",size:ht.Z.Medium,defaultLocalizableStrings:{caption:"Components.ExpandedList.RefreshBtnCaption"},clicked:{request:"crt.LoadDataRequest",params:{config:{loadType:Ho.I.Reload}}}},{name:cs+"SettingsBtn_"+on,type:"crt.Button",caption:"",defaultLocalizableStrings:{caption:"Components.ExpandedList.SettingsBtnCaption"},icon:"actions-button-icon",iconPosition:"only-icon",color:"default",size:ht.Z.Medium,clickMode:"menu",menuItems:[{name:cs+"ExportDataBtn_"+on,type:"crt.MenuItem",caption:"",icon:"export-button-icon",color:"default",size:ht.Z.Medium,defaultLocalizableStrings:{caption:"Components.ExpandedList.ExportDataBtnCaption"},clicked:{request:"crt.ExportDataGridToExcelRequest"}},{name:cs+"ImportDataBtn_"+on,type:"crt.MenuItem",caption:"",icon:"import-button-icon",color:"default",size:ht.Z.Medium,defaultLocalizableStrings:{caption:"Components.ExpandedList.ImportDataBtnCaption"},clicked:{request:"crt.ImportDataRequest"}}]},{name:cs+"SearchFilter_"+on,type:"crt.SearchFilter",placeholder:"",defaultLocalizableStrings:{placeholder:"Components.SearchFilter.Placeholder"},iconOnly:!0}]}),wg({groupType:Gs.h.Components,position:100,addCommandTypeName:"crt.AddCommunicationOptionsCommand",captionKey:"Components.CommunicationOptions.Caption",hint:"Components.CommunicationOptions.Hint",icon:o(97545),fullWidthHeader:!1,expansionPanelDefaultElements:[{name:"CommunicationOptions_"+on,type:"crt.CommunicationOptions",readonly:!0,columnsCount:2,showNoDataPlaceholder:!0,labelPosition:"auto",layoutConfig:{colSpan:2,column:1,row:1,rowSpan:1}}],expansionPanelDefaultTools:[{name:u2(),type:"crt.Button",clickMode:"menu",menuItems:[],caption:"",icon:"add-button-icon",iconPosition:"only-icon",color:"default",size:ht.Z.Medium,defaultLocalizableStrings:{caption:"Components.CommunicationOptions.AddBtnCaption"},clicked:{request:"crt.AddCommunicationOptionsRequest"}}],requiredFeatures:{CommonCommunicationsBehavior:!0},requiredPackages:["CrtCustomer360App"]}),wg({groupType:Gs.h.Components,position:70,addCommandTypeName:"crt.AddAttachmentsCommand",captionKey:"Components.Attachment.Caption",hint:"Components.Attachment.Hint",icon:o(5959),fullWidthHeader:!1,expansionPanelDefaultElements:[{name:"FileList_"+on,type:"crt.FileList",masterRecordColumnValue:"$Id",recordColumnName:"RecordId",layoutConfig:{colSpan:2,column:1,row:1,rowSpan:10}}],expansionPanelDefaultTools:[{name:u2(),type:"crt.Button",caption:"",icon:"upload-button-icon",iconPosition:"only-icon",color:"default",size:ht.Z.Medium,defaultLocalizableStrings:{caption:"Components.Attachment.AddBtnCaption"},clicked:{request:"crt.UploadFileRequest"}},{name:cs+"RefreshBtn_"+on,type:"crt.Button",caption:"",icon:"reload-icon",iconPosition:"only-icon",color:"default",size:ht.Z.Medium,defaultLocalizableStrings:{caption:"Components.Attachment.RefreshBtnCaption"},clicked:{request:"crt.LoadDataRequest",params:{config:{loadType:Ho.I.Reload}}}},{name:cs+"SearchFilter_"+on,type:"crt.SearchFilter",placeholder:"",defaultLocalizableStrings:{placeholder:"Components.SearchFilter.Placeholder"}}]}),wg({groupType:Gs.h.Components,position:140,addCommandTypeName:"crt.AddApprovalListCommand",captionKey:"Components.ApprovalList.Caption",icon:o(5060),fullWidthHeader:!1,expansionPanelDefaultElements:[{name:"ApprovalList_"+on,type:"crt.ApprovalList",masterRecordColumnValue:"$Id",recordColumnName:"RecordId",layoutConfig:{colSpan:2,column:1,row:1,rowSpan:10}}],expansionPanelDefaultTools:[{name:cs+"RefreshBtn_"+on,type:"crt.Button",caption:"",icon:"reload-icon",iconPosition:"only-icon",color:"default",size:ht.Z.Medium,defaultLocalizableStrings:{caption:"Components.ApprovalList.RefreshCaption"},clicked:{request:"crt.LoadDataRequest",params:{config:{loadType:Ho.I.Reload}}}},{name:"SearchFilter_"+on,type:"crt.SearchFilter",placeholder:"",defaultLocalizableStrings:{placeholder:"Components.SearchFilter.Placeholder"}}]}),wg({groupType:Gs.h.Components,position:150,name:"NextStepsContainer_"+on,addCommandTypeName:"crt.AddNextStepsCommand",captionKey:"NextSteps.Caption",icon:o(57946),fullWidthHeader:!1,toggleType:"material",togglePosition:"after",padding:{top:ht.Z.None,bottom:ht.Z.None,left:ht.Z.None,right:ht.Z.None},expansionPanelDefaultElements:[{name:"NextSteps_"+on,type:"crt.NextSteps",masterSchemaId:"$Id",cardState:"$CardState",layoutConfig:{colSpan:2,column:1,row:1,rowSpan:1}}],expansionPanelDefaultTools:[{name:"AddStepButton_"+on,type:"crt.Button",icon:"add-button-icon",iconPosition:"only-icon",color:"default",size:ht.Z.Medium,visible:"$CardState | crt.IsEqual : 'edit'",clickMode:"menu",menuItems:[{name:"CreateTaskMenuItem_"+on,type:"crt.MenuItem",caption:"",color:"default",size:ht.Z.Medium,defaultLocalizableStrings:{caption:"NextSteps.CreateActivityButtonCaption"},clicked:{request:"crt.AddNextStepRequest",params:{entityName:"Activity"}}},{name:"CreateEmailMenuItem_"+on,type:"crt.MenuItem",caption:"",color:"default",size:ht.Z.Medium,defaultLocalizableStrings:{caption:"NextSteps.CreateEmailButtonCaption"},clicked:{request:"crt.CreateEmailRequest"}}]}]})],propertiesPanelComponentTypeName:"crt.ExpansionPanelPropertiesPanel",designControlConfig:{allowDesignContent:!0},viewElementGroupType:pn.J.LayoutElements}),(0,u.__metadata)("design:paramtypes",[t.Injector])],Jn);const iA=["filterContainerRefEl"],rA=["aggregationFunctionCbxRefEl"],oA=["aggregationColumnCbxRefEl"],sA=["sortByControlRef"],cA=["sortDirectionRef"],lA=["localizableTitleEl"];function dA(r,e){r&1&&t.\u0275\u0275element(0,"ts-mask",19),r&2&&t.\u0275\u0275property("opacity",1)}function pA(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",20),t.\u0275\u0275element(1,"crt-label",21),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("caption",n.originalCaption)("tsDataItemMarker","originalCaption")}}function uA(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"crt-input",22),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("control",n.getControl("caption"))("appearance","legacy")("label",t.\u0275\u0275pipeBind1(2,5,"DataGridColumnEditDialog.Title"))("labelPosition","above")("readonly",n.isModalBoxOpened)}}function mA(r,e){r&1&&(t.\u0275\u0275elementStart(0,"mat-form-field",23)(1,"mat-label"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"ts-localizable-text-input",24,1),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()),r&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(3,4,"DataGridColumnEditDialog.Title")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("label",t.\u0275\u0275pipeBind1(6,6,"DataGridColumnEditDialog.Title"))("required",!0)("tsDataItemMarker","localizable-title"))}function gA(r,e){if(r&1&&(t.\u0275\u0275element(0,"crt-combobox",28,3),t.\u0275\u0275pipe(2,"translate")),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("useStaticFiltering",!0)("control",n.getControl("aggregationColumn"))("label",t.\u0275\u0275pipeBind1(2,5,"DataGridColumnEditDialog.AggregationColumn"))("items",n.aggregationColumnOptions)("readonly",n.isModalBoxOpened)}}function hA(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",25),t.\u0275\u0275template(1,gA,3,7,"crt-combobox",26),t.\u0275\u0275element(2,"crt-combobox",27,2),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isAggregationColumnComboboxVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("useStaticFiltering",!0)("control",n.getControl("aggregationFunction"))("label",t.\u0275\u0275pipeBind1(4,6,"DataGridColumnEditDialog.WhatToDisplay"))("items",n.aggregationFunctionOptions)("readonly",n.isModalBoxOpened)}}function _A(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"crt-expansion-panel",29),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275elementStart(2,"div",30)(3,"div",31),t.\u0275\u0275element(4,"crt-combobox",32,4),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275element(7,"crt-combobox",33,5),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd()()()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,12,"DataGridColumnEditDialog.SortingHeader"))("expanded",!0),t.\u0275\u0275advance(4),t.\u0275\u0275property("useStaticFiltering",!0)("control",n.getControl("sortBy"))("label",t.\u0275\u0275pipeBind1(6,14,"DataGridColumnEditDialog.SortColumn"))("items",n.sortByColumns)("readonly",n.isModalBoxOpened),t.\u0275\u0275advance(3),t.\u0275\u0275property("useStaticFiltering",!0)("label",t.\u0275\u0275pipeBind1(9,16,"DataGridColumnEditDialog.SortOrder"))("control",n.getControl("sortDirection"))("items",n.sortDirections)("readonly",n.isModalBoxOpened)}}function fA(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",34)(1,"crt-button",35),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onSetupFiltersButtonClick())}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("caption",t.\u0275\u0275pipeBind1(2,3,n.getFiltersButtonCaption()))("icon",n.isFiltersEmpty()?"filter-column-icon":"filter-edit-icon")("iconPosition","left-icon")}}class Eg extends Zd{get formCaption(){const e=this.columnForm.value.caption;return e instanceof Nr.h?e.getValue(this._translateService.currentLang):e}set formCaption(e){const n=this.columnForm.controls.caption.value;if(n instanceof Nr.h){n.setValueLocalizableString(this._translateService.currentLang,e);return}this.columnForm.controls.caption.setValue(e,{emitEvent:!1})}get formValid(){const e=this.column.aggregationConfig.aggregationFunction===Lt.q.Count||this._checkControlUntouchedOrTouchedAndValid(this.columnForm.controls.aggregationColumn),n=this._checkControlUntouchedOrTouchedAndValid(this.columnForm.controls.aggregationFunction),a=!this.isSortingVisible||this._checkControlUntouchedOrTouchedAndValid(this.columnForm.controls.sortBy),i=!this.isSortingVisible||this._checkControlUntouchedOrTouchedAndValid(this.columnForm.controls.sortDirection),s=this._translateService.currentLang,b=this.isCaptionLocalizable?this.columnForm.value.caption?.getLocalizableString(s)?.value:this.columnForm.value.caption;return e&&n&&a&&i&&b}constructor(e,n,a,i){super(n,e),this._featureValues=a,this._injector=i,this._originalCaptionDelimiter=" > ",this._destroyed$=new m.Subject,this.loading=!0,this.isModalBoxOpened=!1,this.header="",this.originalCaption="",this._translateService=this._injector.get(f.TranslateService),this._schemaAggregationFunctionService=this._injector.get(Sg),this._formBuilder=this._injector.get(O.FormBuilder),this._directionality=this._injector.get(me.Directionality),this._crtControlStateAdapter=this._injector.get(wd.f),this._dialogService=this._injector.get(Kt.o),this._initializeColumnForm(),this._initializeColumnProperties(e),this._initializeCaptionResources(e),this._initializeAggregationConfig(),this._initializeHeader(),this._initializeFilterParams(),this._initializeVisibilityFlags()}_initializeColumnForm(){const e=[O.Validators.required,this._crtControlStateAdapter.transform({instance:new vC(this._injector),params:{min:1}})];this.columnForm=this._formBuilder.group({caption:["",e],aggregationFunction:["",e],aggregationColumn:["",e],sortBy:["",e],sortDirection:["",e]})}_initializeColumnProperties(e){this.column=e.column,this.column.originalCaption||(this.column.originalCaption=this.column.caption),this.column.aggregationConfig||(this.column.aggregationConfig={})}_initializeCaptionResources(e){this._initialCaptionResources=(0,y.cloneDeep)(e.column.captionResources),this.isCaptionLocalizable=this._getIsCaptionLocalizable(),this.originalCaption=this.column.originalCaption}_initializeHeader(){const e=this._translateService.instant("DataGridColumnEditDialog.ColumnProperties");this.header=`${e}: ${this.column.caption}`}_initializeFilterParams(){const e=this.isRtl();this.filterParams={filters:this.column?.aggregationConfig?.filter,entitySchemaName:this.column?.referenceSchemaName,stylesConfig:{modalBoxPosition:"top",paddings:e?"0px 0% 0px 16%":"0px 16% 0px 0%"},isRtl:e,isDesignTime:this.data.isDesignTime}}_initializeVisibilityFlags(){this.isFiltersVisible=!!this.column?.aggregationConfig?.aggregationFunction,this.isAggregationColumnComboboxVisible=this.column?.aggregationConfig?.aggregationFunction!==Lt.q.Count,this.isSortingVisible=this.column.aggregationConfig?.aggregationFunction===Lt.q.TopOne}_getIsCaptionLocalizable(){return this.data.column.code?.startsWith("DYN")?this._featureValues.DataGridDynamicDSLocalizableTitle:this.data.isDesignTime?this._featureValues.DataGridDesignTimeLocalizableTitle:this._featureValues.DataGridRunTimeLocalizableTitle}_initializeAggregationConfig(){const e=this.column?.aggregationConfig?.aggregationFunction;this.isFiltersVisible=!!e,this.isAggregationColumnComboboxVisible=e!==Lt.q.Count,this.isSortingVisible=e===Lt.q.TopOne}_initControls(){this.isFiltersVisible&&(this._initAggregationColumnFieldControl(),this._initAggregationFunctionControl(),this._initSortingDirections(),this._initSortByColumns())}_initAggregationFunctionControl(){this._createOptionsForAggregationFunctionField(),this.columnForm.controls.aggregationFunction.valueChanges.pipe((0,m.takeUntil)(this._destroyed$)).subscribe(this._onAggregationFunctionChange.bind(this))}_initAggregationColumnFieldControl(){this._createOptionsForAggregationColumnField(!0,!0),this.columnForm.controls.aggregationColumn.valueChanges.pipe((0,m.takeUntil)(this._destroyed$)).subscribe(this._onAggregationColumnChange.bind(this))}_initSortingDirections(){this.sortDirections=[{value:ti.Z.Asc.toString(),displayValue:this._translateService.instant("OrderDirectionStrict.Ascending")},{value:ti.Z.Desc.toString(),displayValue:this._translateService.instant("OrderDirectionStrict.Descending")}];const e=this.column.aggregationConfig?.sortByDirection;if(e){const n=this.sortDirections.find(a=>a.value===e.toString()).displayValue;this.columnForm.controls.sortDirection.setValue({value:e,displayValue:n})}}_initSortByColumns(){const e=this._schemaAggregationFunctionService.getAllowedDataSchemaAttributesByAggregationFunction(Lt.q.TopOne);this.sortByColumns=e.map(a=>this._mapAttributeToOption(a)),this.sortByColumns=w().sortBy(this.sortByColumns,"displayValue");const n=this.column.aggregationConfig?.sortByColumn;if(n){const a=this.sortByColumns.find(i=>i.value===n).displayValue;this.columnForm.controls.sortBy.setValue({value:n,displayValue:a})}}_createOptionsForAggregationFunctionField(){this._updateAggregatedColumnFiltersValue(this.column.dataValueType);const e=this.aggregationFunctionOptions.find(n=>n.value===this.column.aggregationConfig.aggregationFunction);(this._currentAggregationFunction?.displayValue!==e?.displayValue&&e?.value!==Lt.q.Count||!this._currentAggregationFunction)&&(this.columnForm.controls.aggregationFunction.patchValue(e,{emitEvent:!1}),this.columnForm.controls.aggregationFunction.markAsUntouched(),this._formerAggregationFunction=e),this._currentAggregationFunction=e}_updateAggregatedColumnFiltersValue(e){const a=!this._currentAggregationColumn||this.column.aggregationConfig.aggregationFunction===Lt.q.Count?X.r.Integer:e,i=this._getAggregationFunctionsForDataValueType(a);this.aggregationFunctionOptions=w().sortBy(i,"displayValue")}_getAggregationFunctionsForDataValueType(e){let n=Fe(e);return n.push({func:Lt.q.Count,captionResource:"Count"}),this._featureValues.StructureExplorerTopOneFunction||(n=n.filter(a=>a.func!==Lt.q.TopOne)),n.map(a=>({value:a.func,displayValue:this._translateService.instant("AggregationNames."+a.captionResource)}))}_createOptionsForAggregationColumnField(e=!0,n=!1){const a=this.columnForm.controls.aggregationFunction.value?.value||this.column.aggregationConfig.aggregationFunction,i=a?this._schemaAggregationFunctionService.getAllowedDataSchemaAttributesByAggregationFunction(a):this._schemaAggregationFunctionService.getAllowedDataSchemaAttributes();if(this._setAggregationColumnOptions(i),!e)return;if(!this._currentAggregationColumn?.value){let b=this.aggregationColumnOptions[0]?.value;if(n){const D=this.column.path?.split(".").reverse().shift();b=this._schemaAggregationFunctionService.getAttributeByName(D)}this._currentAggregationColumn={value:b,displayValue:b?.caption},this._setAggregationColumnControlOptionValue(this._currentAggregationColumn),this._updateAggregatedColumnFiltersValue(this._currentAggregationColumn.value?.dataValueType)}const s=i.find(b=>b.caption===this.columnForm.value.aggregationColumn?.displayValue);(!this.columnForm.value.aggregationColumn||!s)&&(this._currentAggregationColumn=this.aggregationColumnOptions[0],this._setAggregationColumnControlOptionValue(this.aggregationColumnOptions[0]))}_setAggregationColumnOptions(e){this.aggregationColumnOptions=e.map(n=>({value:n,displayValue:n.caption})),this.aggregationColumnOptions=w().sortBy(this.aggregationColumnOptions,"displayValue")}_onAggregationColumnChange(e){if(this._currentAggregationColumn=e,e&&(this.column=this._createColumnWithNewPropertyValues(e)),this._createOptionsForAggregationFunctionField(),this._currentAggregationFunction&&e){const n=this.column.originalCaption.split(this._originalCaptionDelimiter),a=n.pop(),i=this._getAggregationFunctionCaptionForColumnCaption(this._currentAggregationFunction),s=`${this._currentAggregationColumn.displayValue} ${i}`;this._updateCaption(n,a,s)}}_onAggregationFunctionChange(e){if(!this.columnForm.controls.aggregationFunction.valid){this._resetAggregationFunctionValues();return}const n=e,a=n?.value!==this._currentAggregationFunction?.value,i=n?.displayValue!==this._currentAggregationFunction?.displayValue;if(!a&&!i)return;this._updateAggregationFunctionValues(n),this._updateSortingColumns(),this._createOptionsForAggregationColumnField();const s=e.value===Lt.q.Count&&this._formerAggregationFunction?.value!==Lt.q.Count,b=e.value!==Lt.q.Count&&this._formerAggregationFunction?.value===Lt.q.Count;this.isAggregationColumnComboboxVisible=this._currentAggregationFunction?.value!==Lt.q.Count;const D=this._formerAggregationFunction?.value===Lt.q.TopOne&&e.value!==Lt.q.TopOne,W=this._formerAggregationFunction?.value!==Lt.q.TopOne&&e.value===Lt.q.TopOne;s?this._handleToCountFunctionChange():b?this._handleFromCountFunctionChange():this._currentAggregationColumn&&this._updateAggregationColumnFieldCaption(n),(D||W)&&(this.filterParams.filters=null,this.column.aggregationConfig.filter=null)}_resetAggregationFunctionValues(){this.column.aggregationConfig.aggregationFunction=void 0,this._createOptionsForAggregationColumnField(!1,!1)}_updateAggregationFunctionValues(e){this._formerAggregationFunction=this._currentAggregationFunction,this._currentAggregationFunction=e,this.column.aggregationConfig.aggregationFunction=e?.value}_updateAggregationColumnFieldCaption(e){const n=this.column.originalCaption.split(this._originalCaptionDelimiter),a=n.pop(),i=this._getAggregationFunctionCaptionForColumnCaption(e),s=`${this._currentAggregationColumn.displayValue} ${i}`;this._updateCaption(n,a,s)}_handleToCountFunctionChange(){this.column=this._createColumnWithNewPropertyValues({value:{name:"Id"}}),this.columnForm.controls.aggregationColumn.reset(),this._formerAggregationFunction=this._currentAggregationFunction;const e=this.column.originalCaption.split(this._originalCaptionDelimiter),n=e.pop(),a=this._getAggregationFunctionCaptionForColumnCaption(this._currentAggregationFunction);this._updateCaptionForCountAggregationFunction(e,n,a),this.columnForm.controls.aggregationColumn.setValue(null),this._createOptionsForAggregationFunctionField()}_handleFromCountFunctionChange(){const e=this.column.originalCaption.split(this._originalCaptionDelimiter),n=e.pop(),a=this._getAggregationFunctionCaptionForColumnCaption(this._currentAggregationFunction);this._updateCaptionFromCountAggregationFunction(e,n,a),this._formerAggregationFunction=this._currentAggregationFunction,this.column=this._createColumnWithNewPropertyValues(this._currentAggregationColumn)}_updateSortingColumns(){this.isSortingVisible=this.column.aggregationConfig?.aggregationFunction===Lt.q.TopOne,this.isSortingVisible&&(this.columnForm.controls.sortBy.value||this.columnForm.controls.sortBy.setValue(this.sortByColumns.find(e=>e.value==="Id")),this.columnForm.controls.sortDirection.value||this.columnForm.controls.sortDirection.setValue(this.sortDirections.find(e=>e.value===ti.Z.Asc.toString())))}_getAggregationFunctionCaptionForColumnCaption(e){return e.value===Lt.q.TopOne?this._translateService.currentLang===kD.dJ?`(the ${e.displayValue.toLowerCase()})`:`(${e.displayValue.toLowerCase()})`:e.displayValue}_updateCaption(e,n,a){const s=`${e.length?`${e.join(this._originalCaptionDelimiter)}${this._originalCaptionDelimiter}`:""}${a}`;this._setCaptionControlValues(a,s,n===this.formCaption)}_updateCaptionForCountAggregationFunction(e,n,a){const s=`${e.pop()} ${a}`;this._updateCaption(e,n,s)}_updateCaptionFromCountAggregationFunction(e,n,a){const s=`( ${this._getAggregationFunctionCaptionForColumnCaption(this._formerAggregationFunction)})(?!.*\\1)`,b=n.replace(new RegExp(s),"");e.push(b);const D=`${this._currentAggregationColumn.displayValue} ${a}`;this._updateCaption(e,n,D)}_setCaptionControlValues(e,n,a){this.column.originalCaption=n,this.originalCaption=n,this._featureValues.DataGridColumnEditAutoTitleReplacement&&a&&(this.formCaption=e)}_setAggregationColumnControlOptionValue(e){e&&this.column.aggregationConfig.aggregationFunction!==Lt.q.Count&&this.columnForm.controls.aggregationColumn.setValue(e,{emitEvent:!1})}_createColumnWithNewPropertyValues(e){const n=this.column.path.split(".").reverse();n[0]=e?.value?.name;const a=n.reverse().join("."),i=this.column.code.split("_");i.pop();const s=`${i.join("_")}_${a}${this._currentAggregationFunction?.value}${this.column?.id.substring(0,8)}`,b=e?.value?.dataValueType,D=this.data.column.code?.startsWith("DYN");return{id:this.column.id,caption:this.column.caption,originalCaption:this.column.originalCaption,code:D?this.column.code:(0,ff.F)(s),dataValueType:b,path:a,referenceSchemaName:this.column.referenceSchemaName,aggregationConfig:this.column.aggregationConfig,width:this.column.width}}_checkControlUntouchedOrTouchedAndValid(e){return!e.touched||e.touched&&e.valid}_getInitialCaption(){return this.isCaptionLocalizable?this.column.captionResources?(this.column.captionResources.getLocalizableString(this._translateService.currentLang)?.value||this.column.captionResources.setValueLocalizableString(this._translateService.currentLang,this.column.caption),this.column.captionResources):this._getLocalizableModel(this.column.caption):this.column.caption}_getCaption(){return this.isCaptionLocalizable?this.columnForm.value.caption.getValue(this._translateService.currentLang):this.columnForm.value.caption}_getLocalizableModel(e){const n=new Nr.h;return n.setValueLocalizableString(this._translateService.currentLang,e),n}_updateColumnCaption(){this.isCaptionLocalizable&&(this.column.captionResources=this.columnForm.value.caption),this.column.caption=this._getCaption()}_mapAttributeToOption(e){return{value:e.path,displayValue:e.caption}}_createOrEditColumnFilters(){var e=this;return(0,bt.A)(function*(){const n=yield e._openSetupFiltersDialog();n?.status===hf.Saved&&(e.filterParams=n.filterParams,e.onFilterParamsChanged(e.filterParams))})()}_openSetupFiltersDialog(){const e=this.column.path;let n=this.column.referenceSchemaName;return this.column.aggregationConfig?.aggregationFunction!==Lt.q.TopOne&&this._useReverseSchemaName(e)&&(n=RD.h.getLastBackwardSchemaNameByColumnPath(this.column.path)),(0,m.lastValueFrom)(this._dialogService.open(_f,{data:{entitySchemaName:n,filters:this.filterParams?.filters?this.filterParams.filters:void 0},panelClass:"data-grid-edit-column-setup-filters-dialog",disableClose:!0}))}_useReverseSchemaName(e){return e?.startsWith("[")&&e?.split(":").length===2}ngOnInit(){const e=this._getInitialCaption();if(this.columnForm.controls.caption.setValue(e),this.isFiltersVisible){const n=this.column?.referenceSchemaName;n&&this._schemaAggregationFunctionService.initSchema(n).subscribe(()=>{this._initControls()})}this.loading=!1}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}onCancel(){this.dialog.close()}onSave(){this.formValid&&(this.column.aggregationConfig.sortByColumn=this.columnForm.value.sortBy.value,this.column.aggregationConfig.sortByDirection=this.columnForm.value.sortDirection.value,this._updateColumnCaption(),this.column.captionResources&&(this.column.captionResources=new Nr.h(this.column.captionResources.map(({cultureName:e,value:n})=>({cultureName:e,value:n||void 0})))),this.column.captionResourcesChanged=this.data.column?.captionResourcesChanged||JSON.stringify(this._initialCaptionResources)!==JSON.stringify(this.column.captionResources),this.dialog.close(this.column))}onFilterParamsChanged(e){const n=e.filters;n?.items&&Object.keys(n.items).length>0?this.column.aggregationConfig.filter=n:this.column.aggregationConfig.filter=null}onSetupFiltersButtonClick(){var e=this;return(0,bt.A)(function*(){yield e._createOrEditColumnFilters()})()}isRtl(){return this._directionality.value==="rtl"}isFiltersEmpty(){return Object.keys(this.filterParams.filters?.items||{}).length===0}getControl(e){return this.columnForm?.get(e)}getFiltersButtonCaption(){return this.isFiltersEmpty()?"DataGridColumnEditDialog.SetupFilters":"DataGridColumnEditDialog.EditFilters"}static{this.\u0275fac=function(n){return new(n||Eg)(t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA),t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef),t.\u0275\u0275directiveInject(ge.G),t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Eg,selectors:[["crt-data-grid-column-edit-dialog"]],viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(iA,5),t.\u0275\u0275viewQuery(rA,5),t.\u0275\u0275viewQuery(oA,5),t.\u0275\u0275viewQuery(sA,5),t.\u0275\u0275viewQuery(cA,5),t.\u0275\u0275viewQuery(lA,5)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.filterContainerRefEl=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.aggregationFunctionCbxRefEl=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.aggregationColumnCbxRefEl=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.sortByControlRef=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.sortDirectionRef=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.localizableTitleRef=i.first)}},features:[t.\u0275\u0275InheritDefinitionFeature],decls:19,vars:21,consts:[["localizableTitle",""],["localizableTitleEl",""],["aggregationFunctionCbxRefEl",""],["aggregationColumnCbxRefEl",""],["sortByControlRef",""],["sortDirectionRef",""],[3,"title"],["content",""],["class","component-mask",3,"opacity",4,"ngIf"],["class","column-original-caption",4,"ngIf"],[1,"properties-form",3,"formGroup"],[1,"grid-column-title"],[4,"ngIf","ngIfElse"],["class","grid-column-aggregation-controls",4,"ngIf"],["togglePosition","after","toggleType","material",3,"title","expanded",4,"ngIf"],["class","grid-column-filters",4,"ngIf"],["actions",""],["data-item-marker","cancelBtn",3,"clicked","shape","disableRipple","disabled"],["color","primary","data-item-marker","saveBtn",3,"clicked","shape","disableRipple","disabled"],[1,"component-mask",3,"opacity"],[1,"column-original-caption"],[3,"caption","tsDataItemMarker"],[3,"control","appearance","label","labelPosition","readonly"],[1,"caption-field"],["formControlName","caption","iconLineType","bold",3,"label","required","tsDataItemMarker"],[1,"grid-column-aggregation-controls"],["class","control","labelPosition","above","data-item-marker","aggregationFieldCbx",3,"useStaticFiltering","control","label","items","readonly",4,"ngIf"],["labelPosition","above","data-item-marker","aggregationFunctionCbx",1,"control",3,"useStaticFiltering","control","label","items","readonly"],["labelPosition","above","data-item-marker","aggregationFieldCbx",1,"control",3,"useStaticFiltering","control","label","items","readonly"],["togglePosition","after","toggleType","material",3,"title","expanded"],[1,"grid-sorting-container"],[1,"sorting-controls"],["labelPosition","above","data-item-marker","sortByCbx",1,"control",3,"useStaticFiltering","control","label","items","readonly"],["labelPosition","above","data-item-marker","sortDirectionCbx",1,"control",3,"useStaticFiltering","label","control","items","readonly"],[1,"grid-column-filters"],["color","outline","data-item-marker","filtersBtn",3,"clicked","caption","icon","iconPosition"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-dialog",6),t.\u0275\u0275elementContainerStart(1,7),t.\u0275\u0275template(2,dA,1,1,"ts-mask",8)(3,pA,2,2,"div",9),t.\u0275\u0275elementStart(4,"form",10)(5,"div",11),t.\u0275\u0275template(6,uA,3,7,"ng-container",12)(7,mA,7,8,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,hA,5,8,"div",13)(10,_A,10,18,"crt-expansion-panel",14)(11,fA,3,5,"div",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(12,16),t.\u0275\u0275elementStart(13,"crt-button",17),t.\u0275\u0275listener("clicked",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onCancel())}),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"crt-button",18),t.\u0275\u0275listener("clicked",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onSave())}),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()}if(n&2){const i=t.\u0275\u0275reference(8);t.\u0275\u0275property("title",a.header),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.loading),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isFiltersVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("formGroup",a.columnForm),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.isCaptionLocalizable)("ngIfElse",i),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.isFiltersVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isSortingVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isFiltersVisible),t.\u0275\u0275advance(2),t.\u0275\u0275property("shape",a.data.isDesignTime?"rounded":"default")("disableRipple",a.isModalBoxOpened)("disabled",a.isModalBoxOpened),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(15,17,"DataGridColumnEditDialog.CancelButton")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("shape",a.data.isDesignTime?"rounded":"default")("disableRipple",a.isModalBoxOpened)("disabled",a.loading||a.isModalBoxOpened||!a.formValid),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,19,"DataGridColumnEditDialog.SaveButton")," ")}},dependencies:[_.NgIf,Jt,qc,hn,ke,yC.I,q.MatLegacyFormField,q.MatLegacyLabel,ar.j,Hn,ss,O.\u0275NgNoValidate,O.NgControlStatus,O.NgControlStatusGroup,O.RequiredValidator,O.FormGroupDirective,O.FormControlName,Jn,f.TranslatePipe],styles:[".component-mask[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}.column-original-caption[_ngcontent-%COMP%]{margin-bottom:16px}.properties-form[_ngcontent-%COMP%]   .grid-column-title[_ngcontent-%COMP%]   .caption-field[_ngcontent-%COMP%]{width:100%}.properties-form[_ngcontent-%COMP%]   .grid-column-aggregation-controls[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;margin-bottom:12px}.properties-form[_ngcontent-%COMP%]   .grid-column-aggregation-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]:first-child:not(:last-child){margin-inline-end:20px}.properties-form[_ngcontent-%COMP%]   .grid-column-aggregation-controls[_ngcontent-%COMP%]   .crt-base-edit-input[_ngcontent-%COMP%]{flex-grow:1}.properties-form[_ngcontent-%COMP%]   .grid-sorting-container[_ngcontent-%COMP%]{margin-bottom:12px}.properties-form[_ngcontent-%COMP%]   .grid-sorting-container[_ngcontent-%COMP%]   .sorting-controls[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.properties-form[_ngcontent-%COMP%]   .grid-sorting-container[_ngcontent-%COMP%]   .sorting-controls[_ngcontent-%COMP%]   .control[_ngcontent-%COMP%]:first-child{margin-inline-end:20px}.properties-form[_ngcontent-%COMP%]   .grid-sorting-container[_ngcontent-%COMP%]   .sorting-controls[_ngcontent-%COMP%]   .crt-base-edit-input[_ngcontent-%COMP%]{flex-grow:1}.properties-form[_ngcontent-%COMP%]   .grid-column-filters[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;margin-bottom:8px}.properties-form[_ngcontent-%COMP%]   .grid-column-filters[_ngcontent-%COMP%]   .filters-component-container[_ngcontent-%COMP%]{flex:1;position:relative;overflow:hidden}.properties-form[_ngcontent-%COMP%]   .grid-column-filters[_ngcontent-%COMP%]   .filters-component-container[_ngcontent-%COMP%]   crt-filters[_ngcontent-%COMP%]{width:120%;height:100%;position:absolute}"]})}}let ls=class v4{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"expansion-panel-arrow",icon:o(54663)}])}static{this.\u0275fac=function(n){return new(n||v4)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:v4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[E.rK],imports:[_.CommonModule,mn.MatExpansionModule,_t.MatIconModule,Te.c,fe.q,Ne,re,f.TranslateModule]})}};ls=(0,u.__decorate)([(0,ie.g)({viewElements:[Jn]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],ls),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(ls,{declarations:[Jn,Pp],imports:[_.CommonModule,mn.MatExpansionModule,_t.MatIconModule,Te.c,Le.C,fe.q,Ne,re,f.TranslateModule],exports:[Jn,Pp]})}();var Op=o(77895),Cf=o(40779),MC=o(54329),bA=o(50237);function yf(r){const e=r?.items;switch(r?.filterType){case Op.C.Between:r.className="Terrasoft.BetweenFilter",Za(r.leftExpression),Za(r.rightLessExpression),Za(r.rightGreaterExpression);break;case Op.C.Compare:r.className="Terrasoft.CompareFilter",Za(r.leftExpression),Za(r.rightExpression);break;case Op.C.Exists:r.className="Terrasoft.ExistsFilter",Za(r.leftExpression),yf(r.subFilters);break;case Op.C.FilterGroup:r.className="Terrasoft.FilterGroup";for(const[,n]of Object.entries(e||{}))yf(n);break;case Op.C.In:r.className="Terrasoft.InFilter",Za(r.leftExpression),r.rightExpressions.forEach(n=>Za(n));break;case Op.C.IsNull:r.className="Terrasoft.IsNullFilter",Za(r.leftExpression);break}}function Za(r){switch(r?.expressionType){case Cf.i.SchemaColumn:r.className="Terrasoft.ColumnExpression";break;case Cf.i.Parameter:r.className="Terrasoft.ParameterExpression",r.parameter&&(r.parameter.className="Terrasoft.Parameter"),r.parentFilter&&yf(r.parentFilter);break;case Cf.i.ArithmeticOperation:r.className="Terrasoft.ArithmeticExpression",Za(r.leftArithmeticOperand),Za(r.rightArithmeticOperand);break;case Cf.i.Function:CA(r);break;case Cf.i.SubQuery:r.functionType===MC.c.Aggregation&&(r.className="Terrasoft.AggregationQueryExpression"),r.functionType===MC.c.None&&(r.className="Terrasoft.SubQueryExpression"),r.subFilters&&yf(r.subFilters);break}}function CA(r){switch(r?.functionType){case MC.c.DateAdd:r.className="Terrasoft.DateAddFunctionExpression",Za(r?.numberExpression),Za(r?.dateTimeExpression);break;case MC.c.DateDiff:r.className="Terrasoft.DateDiffFunctionExpression",Za(r?.startDateExpression),Za(r?.endDateExpression);break;default:r.className="Terrasoft.FunctionExpression"}r.functionArgument&&Za(r.functionArgument),r.functionArguments&&r.functionArguments.forEach(e=>Za(e))}function yA(r){const e={...r};return yf(e),e}function vA(r){const e=typeof r=="string"?JSON.parse(r):r;return nr.X.fromJson(e,bA.b)}function MA(r,e){r&1&&t.\u0275\u0275element(0,"ts-mask",4)}function IA(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,MA,1,0,"ts-mask",2),t.\u0275\u0275elementStart(2,"crt-filters",3),t.\u0275\u0275listener("filterParamsChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onFiltersParamsChanged(i))}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isLoading),t.\u0275\u0275advance(),t.\u0275\u0275property("filterParams",n.filterParams)}}let Ol=class b0 extends ue.K{constructor(){super(...arguments),this._extResourceFrameWindowMessenger=(0,t.inject)(Fr),this._subscription=new m.Subscription,this._filterData=null,this._entitySchemaName=null,this._isEntitySchemaWasChanged=!1,this._initializeFilterParamsDebounce=(0,y.debounce)(()=>this._initializeFilterParams(),50),this.isLoading=!0,this.filterDataChange=new t.EventEmitter}set entitySchemaName(e){e=e||null,this._entitySchemaName!==e&&(!this._entitySchemaName&&e&&(this.isLoading=!0),this._entitySchemaName=e,this._isEntitySchemaWasChanged=!0,this._initializeFilterParamsDebounce())}get entitySchemaName(){return this._entitySchemaName}set filterData(e){e=e||null,this._filterData!==e&&(this._filterData=e,this._initializeFilterParamsDebounce())}get filterData(){return this._filterData}_initializeFilterParams(){const e=this._filterData;let n=e?JSON.parse(e):null;this._isNeedResetFilter(n)&&(n=null,this._resetFilterData()),this.filterParams={entitySchemaName:this._entitySchemaName,filters:n},this.detectChanges(),this._reloadFrameIfNeed(),this._isEntitySchemaWasChanged=!1}_isNeedResetFilter(e){return this._isEntitySchemaNameDifferent(e)&&!this.isLoading&&this._isEntitySchemaWasChanged}_isEntitySchemaNameDifferent(e){return e?.rootSchemaName!==this._entitySchemaName}_resetFilterData(){this._filterData=null,this._emitFilterDataChange(null)}_reloadFrameIfNeed(){!this.entitySchemaName||this.isLoading||(this.isLoading=!0,setTimeout(()=>this._extResourceFrameWindowMessenger.reloadFrame(),0))}_isFilterDataChanged(e){const n=this._convertToAngularFilterData(this._filterData),a=this._convertToAngularFilterData(e);return n!==a}_convertToAngularFilterData(e){return e?JSON.stringify(vA(e)):null}_convertToExtFilterData(e){return this._isEmptyFilter(e)?null:JSON.stringify(yA(e))}_isEmptyFilter(e){if(!e)return!0;if(e.filterType===Op.C.FilterGroup){const n=e;return!n.items||Object.keys(n.items).length===0}else return!1}_emitFilterDataChange(e){this.filterDataChange.emit(e)}ngOnInit(){this._subscription.add(this._extResourceFrameWindowMessenger.designerLoaded$.subscribe(()=>{this.isLoading=!1,this.detectChanges()}))}onFiltersParamsChanged(e){const n=e.filters;if(this._isFilterDataChanged(n)){const a=this._convertToExtFilterData(n);this._filterData=a,this._emitFilterDataChange(a)}}ngOnDestroy(){this._subscription.unsubscribe()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(b0)))(a||b0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:b0,selectors:[["crt-filters-container"]],inputs:{entitySchemaName:"entitySchemaName",filterData:"filterData"},outputs:{filterDataChange:"filterDataChange"},features:[t.\u0275\u0275ProvidersFeature([Fr]),t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","crt-filters-container-wrap",4,"ngIf"],[1,"crt-filters-container-wrap"],["class","component-mask",4,"ngIf"],[3,"filterParamsChange","filterParams"],[1,"component-mask"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,IA,3,2,"div",0),n&2&&t.\u0275\u0275property("ngIf",!!a.entitySchemaName)},dependencies:[_.NgIf,yC.I,Tp],styles:[".crt-filters-container-wrap[_ngcontent-%COMP%]{position:relative;height:100%}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Ol.prototype,"entitySchemaName",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Ol.prototype,"filterData",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Ol.prototype,"filterDataChange",void 0),Ol=(0,u.__decorate)([(0,Qt.v)({type:"crt.FiltersContainer",reuseStrategy:$t.B.Rerender})],Ol);let vf=class M4{static{this.\u0275fac=function(n){return new(n||M4)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:M4,selectors:[["crt-designer-filters-container"]],decls:2,vars:0,consts:[[1,"crt-designer-filters-container"],["svgIcon","filters-container-icon",1,"crt-designer-filters-container-icon"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"mat-icon",1),t.\u0275\u0275elementEnd())},dependencies:[_t.MatIcon],styles:[".crt-designer-filters-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:center}.crt-designer-filters-container[_ngcontent-%COMP%]   .crt-designer-filters-container-icon[_ngcontent-%COMP%]{width:100%;height:100%;max-height:175px;max-width:235px;align-self:center}"]})}};vf=(0,u.__decorate)([A5({type:"crt.DesignerFiltersContainer",overrideType:"crt.FiltersContainer"})],vf);class Dl{static{this.\u0275fac=function(n){return new(n||Dl)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Dl})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[E.rK,Fr,TD()],imports:[_.CommonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Dl,{declarations:[Ep],imports:[_.CommonModule],exports:[Ep]})})();let ds=class I4{constructor(e){this._materialIconsRegistrator=e,this._iconRegistration()}_iconRegistration(){this._materialIconsRegistrator.addIcons([{name:"filters-container-icon",icon:o(51248)}])}static{this.\u0275fac=function(n){return new(n||I4)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:I4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Dl,ro.R,_t.MatIconModule]})}};ds=(0,u.__decorate)([(0,ie.g)({viewElements:[Ol],designTimeViewElements:[vf]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],ds),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(ds,{declarations:[Tp,Ol,vf],imports:[_.CommonModule,Dl,ro.R,_t.MatIconModule],exports:[Tp,Ol,vf]})}();class Tg{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"filter-edit-icon",icon:o(57844)}])}static{this.\u0275fac=function(n){return new(n||Tg)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Tg})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[Sg],imports:[_.CommonModule,re,li,ds,Ne,oi,ro.R,lt.MatLegacyInputModule,Sn.u,f.TranslateModule,tn,Vr,O.ReactiveFormsModule,ls]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Tg,{declarations:[Eg,_f],imports:[_.CommonModule,re,li,ds,Ne,oi,ro.R,lt.MatLegacyInputModule,Sn.u,f.TranslateModule,tn,Vr,O.ReactiveFormsModule,ls],exports:[Eg]})})();function m2(r,e){const n=!!r?.sticky,a=!!e?.sticky;return n===a?0:n?-1:1}const v6=new t.InjectionToken("A state handler interface for data grid."),M6=new t.InjectionToken("A state handler interface for data grid edit columns.");class Pg{selectColumns(e){return(0,m.of)([])}static{this.\u0275fac=function(n){return new(n||Pg)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Pg,factory:Pg.\u0275fac})}}class dc{constructor(e,n,a,i,s){this._injector=e,this._columnSelectionService=n,this._liveAnnouncementService=a,this._stateHandler=i,this._editColumnsHandler=s,this._columns=[]}set columns(e){this._columns=e??[]}get columns(){return this._columns}_canDiscardUnsavedDataChanges(){var e=this;return(0,bt.A)(function*(){const n=e._injector.get(wm.I,null,{optional:!0}),a=e._injector.get(nC.s,null,{optional:!0}),i=n&&(yield(0,m.firstValueFrom)(n.viewModel$.pipe((0,h.take)(1)))),s=a?.items;if(!i||typeof s!="string")return!0;const b=s.slice(1),D={type:"crt.CanDiscardUnsavedCollectionDataRequest",$context:i,collectionAttributeName:b};return yield Ar.t.instance.process(D)})()}addColumn(){let e;return this._columnSelectionService.selectColumns(this._injector).pipe((0,h.switchMap)(n=>{const a=[...this.columns,...n];if(e=n.length,e===1){const i=n[0];if(i.aggregationConfig?.aggregationFunction)return this.columns=a,this.editColumn(i.id)}return this.onColumnsChanged(a)}),(0,m.tap)(()=>{e&&this._liveAnnouncementService.announce(e===1?"DataGrid.Statuses.ColumnAddedSuccessfully":"DataGrid.Statuses.ColumnsAddedSuccessfully")}))}deleteColumn(e){return(0,m.from)(this._canDiscardUnsavedDataChanges()).pipe((0,h.switchMap)(a=>{if(a===!1)return(0,m.of)(this.columns);const i=this.columns.filter(s=>s.id!==e);return this.onColumnsChanged(i)}),(0,m.tap)(()=>this._liveAnnouncementService.announce("DataGrid.Statuses.ColumnHiddenSuccessfully")))}toggleColumnStickiness(e){const n=[...this.columns],a=n.find(i=>i.id===e);return a?(a.sticky=!a.sticky,this.onColumnsChanged(n).pipe((0,m.tap)(()=>{const i=a.sticky?"DataGrid.Statuses.ColumnFrozenSuccessfully":"DataGrid.Statuses.ColumnUnfrozenSuccessfully";this._liveAnnouncementService.announce(i)}))):(0,m.of)(n)}editColumn(e){return this._editColumnsHandler.handle(e,this.columns,this._injector).pipe((0,h.mergeMap)(n=>this.onColumnsChanged(n)))}onColumnsChanged(e){const n=e&&[...e].sort(m2);return this._stateHandler.handle({columns:n},this._injector).pipe((0,h.map)(()=>(0,y.cloneDeep)(n)))}static{this.\u0275fac=function(n){return new(n||dc)(t.\u0275\u0275inject(t.Injector),t.\u0275\u0275inject(Pg),t.\u0275\u0275inject(E.DW),t.\u0275\u0275inject(v6),t.\u0275\u0275inject(M6))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:dc,factory:dc.\u0275fac})}}var pc;(function(r){r.Hide="hide",r.Pin="pin",r.Unpin="unpin",r.Rename="rename",r.Edit="edit",r.SortAscending="sortAscending",r.SortDescending="sortDescending",r.SortNone="sortNone"})(pc||(pc={}));class Al{constructor(e){var n=this;this._dataGridColumnsStateHandler=e,this._hideColumnActionMenuItem={type:"action",code:pc.Hide,icon:"eye-crossed",caption:"DataGrid.ColumnToolbar.Hide",handler:function(){var a=(0,bt.A)(function*(i){const s=yield(0,m.lastValueFrom)(n._dataGridColumnsStateHandler.deleteColumn(i.id),{defaultValue:null});n._onColumnsChangedHandler(s)});return function(s){return a.apply(this,arguments)}}()},this._pinColumnActionMenuItem={type:"action",code:pc.Pin,icon:"freeze",caption:"DataGrid.ColumnToolbar.Freeze",handler:function(){var a=(0,bt.A)(function*(i){const s=yield(0,m.lastValueFrom)(n._dataGridColumnsStateHandler.toggleColumnStickiness(i.id),{defaultValue:null});n._onColumnsChangedHandler(s)});return function(s){return a.apply(this,arguments)}}()},this._unpinColumnActionMenuItem={...this._pinColumnActionMenuItem,code:pc.Unpin,caption:"DataGrid.ColumnToolbar.Unfreeze"},this._editColumnActionMenuItem={type:"action",code:pc.Edit,icon:"settings",caption:"DataGrid.ColumnToolbar.Edit",handler:function(){var a=(0,bt.A)(function*(i){const s=yield(0,m.lastValueFrom)(n._dataGridColumnsStateHandler.editColumn(i.id));n._onColumnsChangedHandler(s)});return function(s){return a.apply(this,arguments)}}()},this._sortAscendingActionMenuItem={type:"action",code:pc.SortAscending,icon:"sort-asc",caption:"DataGrid.ColumnToolbar.SortAscending",handler:a=>{this._onSortingChangedHandler([{columnCode:a.code,direction:"asc"}])}},this._sortDescendingActionMenuItem={type:"action",code:pc.SortDescending,icon:"sort-desc",caption:"DataGrid.ColumnToolbar.SortDescending",handler:a=>{this._onSortingChangedHandler([{columnCode:a.code,direction:"desc"}])}},this._clearSortingActionMenuItem={type:"action",code:pc.SortNone,icon:"sort-none",caption:"DataGrid.ColumnToolbar.ClearSorting",handler:()=>{this._onSortingChangedHandler([])}},this._sortDirectionMenuItemsMap=new Map([["asc",[this._sortDescendingActionMenuItem,this._clearSortingActionMenuItem]],["desc",[this._sortAscendingActionMenuItem,this._clearSortingActionMenuItem]],["none",[this._sortAscendingActionMenuItem,this._sortDescendingActionMenuItem]]]),this._onColumnsChangedHandler=function(){},this._onSortingChangedHandler=function(){}}registerColumnsChangedHandler(e){return this._onColumnsChangedHandler=e,this}registerSortingChangedHandler(e){return this._onSortingChangedHandler=e,this}getToolsMenuItems(e,n){const a=this._sortDirectionMenuItemsMap.get(e?.sorting?.direction||"none"),i=n?.columns?.sorting?[...a,{type:"divider"}]:[],s=e.sticky?this._unpinColumnActionMenuItem:this._pinColumnActionMenuItem,b=n?.columns?.editing?[this._editColumnActionMenuItem]:[],D=n?.columns?.adding?[this._hideColumnActionMenuItem]:[];return[...i,s,...D,...b]}static{this.\u0275fac=function(n){return new(n||Al)(t.\u0275\u0275inject(dc))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Al,factory:Al.\u0275fac})}}const xA=new t.InjectionToken("A row action menu item"),g2=new t.InjectionToken("A data grid features");class Dp{static{this.\u0275fac=function(n){return new(n||Dp)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Dp,selectors:[["","crtDataTableColumnToolbar",""]]})}}var _a=o(14715),SA=o(36169);const wA=["asc","desc","none"];function EA(r){return wA.includes(r)}const dr={MIN:76,MAX:2500,DEFAULT:250,BOOLEAN:76,NUMERIC:120,TIME:94,DATE:100,DATETIME:200,LOOKUP:200},TA="DisableListVirtualScroll",PA="DisableListHorizontalVirtualScroll",OA=42,I6=20,Wn={edit:"edit",escape:"escape",character:"character",copyValue:"copyValue",save:"save",create:"create",delete:"delete",arrowLeft:"arrowLeft",arrowRight:"arrowRight",arrowUp:"arrowUp",arrowDown:"arrowDown",toggleValue:"toggleValue",deleteValue:"deleteValue"},DA={keydown:{[Wn.edit]:{sequence:"pureEnter"},[Wn.escape]:{sequence:Ht.Key.Escape},[Wn.character]:{sequence:"character"},[Wn.copyValue]:{sequence:"copy"},[Wn.save]:{sequence:"save"},[Wn.create]:{sequence:"create"},[Wn.delete]:{sequence:"delete"},[Wn.arrowLeft]:{sequence:"left"},[Wn.arrowRight]:{sequence:"right"},[Wn.arrowUp]:{sequence:"up"},[Wn.arrowDown]:{sequence:"down"},[Wn.toggleValue]:{sequence:"space"},[Wn.deleteValue]:{sequence:["pureDelete","backspace"]}}};class Ap{static{this.\u0275fac=function(n){return new(n||Ap)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Ap,selectors:[["","crtDataTablePlaceholder",""]]})}}class Lp{static{this.\u0275fac=function(n){return new(n||Lp)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Lp,selectors:[["","crtDataTableSkeleton",""]]})}}class kp{constructor(e){this.templateRef=e,this.navigationItems=[]}static{this.\u0275fac=function(n){return new(n||kp)(t.\u0275\u0275directiveInject(t.TemplateRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:kp,selectors:[["","crtDataTableHeaderToolbar",""]],inputs:{navigationItems:[t.\u0275\u0275InputFlags.None,"crtDataTableHeaderToolbarNavigationItems","navigationItems"]}})}}class Rp{constructor(e){this.templateRef=e,this.position="before",this.navigationItems=[]}static{this.\u0275fac=function(n){return new(n||Rp)(t.\u0275\u0275directiveInject(t.TemplateRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Rp,selectors:[["","crtDataTableRowToolbar",""]],inputs:{position:[t.\u0275\u0275InputFlags.None,"crtDataTableRowToolbarPosition","position"],navigationItems:[t.\u0275\u0275InputFlags.None,"crtDataTableRowToolbarNavigationItems","navigationItems"]}})}}const AA="row-id";class Li{get rowId(){return this._element?.closest("tr")?.getAttribute(AA)??""}get columnId(){return this._columnId}get element(){return this._element}set data(e){this._data=e}get data(){return this._data}set column(e){this._column=e,this._width=e?.width,this._dataType=this._getDataValueTypeName(e?.dataValueType),this._columnId=e?.id,this._columnCodeClass=`cdk-column-${e?.code}`}get column(){return this._column}set rowIndex(e){this._rowIndex=(0,bC.coerceNumberProperty)(e)}get rowIndex(){return this._rowIndex}set columnIndex(e){this._columnIndex=(0,bC.coerceNumberProperty)(e)}get columnIndex(){return this._columnIndex}constructor(e){this._dataType="",this._columnId="",this.clicked=new t.EventEmitter,this.focused=new t.EventEmitter,this.blurred=new t.EventEmitter,this._element=e?.nativeElement}_getDataValueTypeName(e){const n=X.r[e];return n??""}onClick(e){e.preventDefault(),this.clicked.emit(e)}onFocus(e){this.focused.emit(e)}onBlur(e){this.blurred.emit(e)}static{this.\u0275fac=function(n){return new(n||Li)(t.\u0275\u0275directiveInject(t.ElementRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Li,selectors:[["","crtDataTableCell",""]],hostVars:6,hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("click",function(s){return a.onClick(s)})("focus",function(s){return a.onFocus(s)})("blur",function(s){return a.onBlur(s)}),n&2&&(t.\u0275\u0275attribute("crt-data-table-cell-data-type",a._dataType)("crt-data-table-column-id",a._columnId),t.\u0275\u0275classMap(a._columnCodeClass),t.\u0275\u0275styleProp("width",a._width,"px"))},inputs:{data:[t.\u0275\u0275InputFlags.None,"crtDataTableCellData","data"],column:[t.\u0275\u0275InputFlags.None,"crtDataTableCellColumn","column"],rowIndex:[t.\u0275\u0275InputFlags.None,"crtDataTableCellRowIndex","rowIndex"],columnIndex:[t.\u0275\u0275InputFlags.None,"crtDataTableCellColumnIndex","columnIndex"]},outputs:{clicked:"clicked",focused:"focused",blurred:"blurred"},exportAs:["dataTableCell"]})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],Li.prototype,"data",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],Li.prototype,"column",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number),(0,u.__metadata)("design:paramtypes",[Number])],Li.prototype,"rowIndex",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number),(0,u.__metadata)("design:paramtypes",[Number])],Li.prototype,"columnIndex",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Li.prototype,"clicked",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Li.prototype,"focused",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Li.prototype,"blurred",void 0);var x6=o(92272);const h2=40,S6=5,w6=2,E6=100;class Og{get _tableItems$(){return this._itemsChanges$.pipe((0,h.switchMap)(e=>e??m.EMPTY),(0,h.filter)(()=>this._tableContainerRef.nativeElement.clientHeight!==0))}get _tableColumns$(){return this._columnsChanges$.pipe((0,h.distinctUntilChanged)((e,n)=>(0,y.isEqual)(e,n)),(0,h.filter)(()=>this._tableContainerRef.nativeElement.clientWidth!==0))}get _tableContainerHeightChanges$(){return this._tableContainerResizableDirective.resized.pipe((0,h.map)(e=>e.height),(0,h.distinctUntilChanged)())}get _tableContainerWidthChanges$(){return this._tableContainerResizableDirective.resized.pipe((0,h.map)(e=>e.width),(0,h.distinctUntilChanged)())}get _scrolledUpRowsCountChanges$(){return this._tableScrollEvent.pipe((0,h.map)(({target:e})=>Math.floor(e.scrollTop/h2)),(0,h.distinctUntilChanged)())}get _scrolledUpColumnsCountChanges$(){return this._tableScrollEvent.pipe((0,h.map)(({target:e})=>Math.floor(e.scrollLeft/dr.MIN)),(0,h.distinctUntilChanged)())}set items(e){this._itemsChanges$.next(e)}set displayedColumns(e){this._columnsChanges$.next(e)}set isVerticalVirtualScrollDisabled(e){this._verticalVirtualScrollDisabled$.next(!!e)}set isHorizontalVirtualScrollDisabled(e){this._horizontalVirtualScrollDisabled$.next(!!e)}constructor(e,n){this._tableContainerRef=e,this._tableContainerResizableDirective=n,this._destroyed$=new m.Subject,this._verticalVirtualScrollDisabled$=new m.BehaviorSubject(!1),this._horizontalVirtualScrollDisabled$=new m.BehaviorSubject(!1),this._itemsChanges$=new m.BehaviorSubject(null),this._columnsChanges$=new m.BehaviorSubject([]),this._tableScrollEvent=(0,m.fromEvent)(this._tableContainerRef.nativeElement,"scroll"),this.visibleColumnsChange=new t.EventEmitter,this.visibleRowsChange=new t.EventEmitter}_getRenderRowsRange(e){const n=Math.ceil(e.clientHeight/h2),a=e.scrollTop/h2,i=Math.max(Math.floor(a)-S6,0),s=Math.ceil(a)+n+S6;return{start:i,end:s}}_getRenderColumnsRange(e,n){const{stickyColumnsWidth:a,columns:i}=this._getRenderColumnsData(n),s=Math.ceil(e.clientWidth-a),b=Math.abs(Math.floor(e.scrollLeft)),D=b+s,W=n.length-i.length,{range:ot}=i.reduce((It,Pt,te,Se)=>{const On=te===Se.length-1,Da=(0,x6.A)(It.range.start),ba=(0,x6.A)(It.range.end);return It.currentWidth+=Math.floor(Pt.width),(It.currentWidth>=b||On)&&Da&&(It.range.start=te-w6+W),(It.currentWidth>=D||On)&&ba&&(It.range.end=te+w6+W),It},{currentWidth:0,range:{}});return ot}_getRenderColumnsData(e){return this._columnsChanges$.value.reduce((n,a)=>a.sticky?.active?(n.stickyColumnsWidth+=Math.floor(a.width),n):(n.columns.push(a),n),{stickyColumnsWidth:0,columns:[]})}_getRenderRowsRangeChanges(){return(0,m.merge)(this._scrolledUpRowsCountChanges$,this._tableContainerHeightChanges$,this._tableItems$).pipe((0,h.startWith)(void 0),(0,h.auditTime)(E6),(0,h.map)(()=>this._getRenderRowsRange(this._tableContainerRef.nativeElement)))}_getRenderColumnsRangeChanges(e){return(0,m.merge)(this._scrolledUpColumnsCountChanges$,this._tableContainerWidthChanges$,this._tableColumns$).pipe((0,h.auditTime)(E6),(0,h.map)(()=>this._getRenderColumnsRange(this._tableContainerRef.nativeElement,e)))}ngOnInit(){const e=this._itemsChanges$.pipe((0,h.switchMap)(()=>this._getRenderRowsRangeChanges()),(0,h.tap)(a=>this.visibleRowsChange.emit(a))),n=this._columnsChanges$.pipe((0,h.switchMap)(a=>this._getRenderColumnsRangeChanges(a)),(0,h.tap)(a=>this.visibleColumnsChange.emit(a)));this._verticalVirtualScrollDisabled$.pipe((0,h.switchMap)(a=>a?m.EMPTY:e),(0,h.takeUntil)(this._destroyed$)).subscribe(),this._horizontalVirtualScrollDisabled$.pipe((0,h.switchMap)(a=>a?m.EMPTY:n),(0,h.takeUntil)(this._destroyed$)).subscribe()}ngOnDestroy(){this._verticalVirtualScrollDisabled$.complete(),this._horizontalVirtualScrollDisabled$.complete(),this._itemsChanges$.complete(),this._columnsChanges$.complete(),this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||Og)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(Le.C))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Og,selectors:[["","crtDataTableVirtualScroll",""]],inputs:{items:[t.\u0275\u0275InputFlags.None,"crtDataTableVirtualScrollItems","items"],displayedColumns:[t.\u0275\u0275InputFlags.None,"crtDataTableVirtualScrollDisplayedColumns","displayedColumns"],isVerticalVirtualScrollDisabled:[t.\u0275\u0275InputFlags.None,"crtDataTableVerticalVirtualScrollDisabled","isVerticalVirtualScrollDisabled"],isHorizontalVirtualScrollDisabled:[t.\u0275\u0275InputFlags.None,"crtDataTableHorizontalVirtualScrollDisabled","isHorizontalVirtualScrollDisabled"]},outputs:{visibleColumnsChange:"crtDataTableVirtualScrollVisibleColumnsChange",visibleRowsChange:"crtDataTableVirtualScrollVisibleRowsChange"}})}}function LA(r,e){const{hierarchical:n,numeration:a,selection:i}=r??{};return{hierarchical:n??!!e?.hierarchical,numeration:a??!!e?.numeration,selection:T6(i,e?.selection)}}function T6(r,e){const n=P6(r),a=P6(e),i=n?.enable??!!a?.enable,s=n?.multiple??!!a?.multiple,b=!!(n?.selectAll??a?.selectAll??s);return{enable:i,multiple:i&&s,selectAll:i&&s&&b}}function P6(r){return typeof r=="boolean"?{enable:r,multiple:!1,selectAll:!1}:r}function O6(r,e){const n=D6(r),a=D6(e),i=n?.enable??!!a?.enable,s=!!(n?.itemsCreation??a?.itemsCreation??!0),b=!!(n?.floatingEditPanel??a?.floatingEditPanel??!0),D=!!(n?.lookupItemsCreation??a?.lookupItemsCreation??!0);return{enable:i,itemsCreation:i&&s,floatingEditPanel:i&&b,lookupItemsCreation:i&&D}}function D6(r){return typeof r=="boolean"?{enable:r,itemsCreation:r,floatingEditPanel:r,lookupItemsCreation:r}:r}function A6(r,e){return{visible:r?.visible??e?.visible??!0}}const L6=new t.InjectionToken("A factory that determines the sticky columns width ratio based on the overall table width"),kA=new t.InjectionToken("A data table hotkeys map factory",{providedIn:"root",factory:()=>{let r=DA;try{const e=localStorage?.getItem("DATA_TABLE_HOTKEYS");e&&(r=JSON.parse(e))}catch{}return new m.BehaviorSubject(r)}}),RA=new t.InjectionToken("A data table compiled cells view availability",{providedIn:"root",factory:()=>(0,m.of)(!0)}),k6=new t.InjectionToken("A data table column width config factory"),NA={minWidth:0,maxWidth:Number.MAX_VALUE},R6=new t.InjectionToken("A horizontal resizing configuration");class Ll{constructor(e,n){this._isRtl=e.value==="rtl",this._defaultResizingConfig=this._mergeConfigs(n,NA)}get resizeEdges(){return this._isRtl?{left:!0}:{right:!0}}_mergeConfigs(e,n){return{minWidth:e?.minWidth??n?.minWidth,maxWidth:e?.maxWidth??n?.maxWidth,defaultWidth:e?.defaultWidth??n?.defaultWidth}}isAvailableEdges(e){return this._isRtl?!!e?.left:!!e?.right}getAdjustedWidth(e,n){const{minWidth:a,maxWidth:i,defaultWidth:s}=this._mergeConfigs(n,this._defaultResizingConfig);return typeof e!="number"?s:(e=Math.min(e,i),e=Math.max(e,a),e)}static{this.\u0275fac=function(n){return new(n||Ll)(t.\u0275\u0275inject(me.Directionality),t.\u0275\u0275inject(R6,8))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ll,factory:Ll.\u0275fac})}}class Dg{constructor(e,n){this._horizontalResizingService=e,this._columnWidthConfigFactory=n}_toColumnViewDefinition(e,n){const{width:a,hidden:i,sticky:s,dataValueType:b}=n,D=this._columnWidthConfigFactory.create(b);return{...n,id:e,width:this._horizontalResizingService.getAdjustedWidth(a,D),hidden:i===!0,sticky:{active:!!s,enabled:!!s}}}toColumnsDefinitionMap(e){const n=new Map;return e.forEach(a=>{const i=a.id??(0,de.qv)(),s=(0,y.cloneDeep)(a);n.set(i,s)}),n}toColumnViewDefinitions(e){return Array.from(e.entries()).map(([n,a])=>this._toColumnViewDefinition(n,a))}static{this.\u0275fac=function(n){return new(n||Dg)(t.\u0275\u0275inject(Ll),t.\u0275\u0275inject(k6))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Dg,factory:Dg.\u0275fac})}}class Ag{constructor(e){this._isRtl=e.value==="rtl"}_getReverseIndex(e,n){return n-1-e}changeColumnPosition(e,n,a){const i=[...e];return this._isRtl&&(a=this._getReverseIndex(a,e.length),n=this._getReverseIndex(n,e.length)),(0,hl.moveItemInArray)(i,n,a),i}canChangeColumnPosition(e,n,a){this._isRtl&&(a=this._getReverseIndex(a,n.length));const i=e.sticky.enabled,s=(0,y.findLastIndex)(n,({sticky:b})=>b.enabled);return i?a<=s:a>s}static{this.\u0275fac=function(n){return new(n||Ag)(t.\u0275\u0275inject(me.Directionality))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ag,factory:Ag.\u0275fac})}}var N6=o(14646);class Lg{constructor(){this.save=new t.EventEmitter,this.cancel=new t.EventEmitter}static{this.\u0275fac=function(n){return new(n||Lg)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Lg,selectors:[["crt-data-table-status-bar"]],outputs:{save:"save",cancel:"cancel"},features:[t.\u0275\u0275HostDirectivesFeature([qe])],decls:7,vars:14,consts:[["svgIcon","drag",1,"crt-data-table-action-panel-drag-handle"],["iconPosition","left-icon","icon","save-button-icon","size","medium",3,"mousedown","clicked","caption","title"],["iconPosition","left-icon","icon","undo","size","medium",3,"mousedown","clicked","caption","title"]],template:function(n,a){n&1&&(t.\u0275\u0275element(0,"mat-icon",0),t.\u0275\u0275elementStart(1,"crt-button",1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275listener("mousedown",function(s){return s.stopPropagation()})("clicked",function(){return a.save.emit()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"crt-button",2),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275listener("mousedown",function(s){return s.stopPropagation()})("clicked",function(){return a.cancel.emit()}),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("caption",t.\u0275\u0275pipeBind1(2,6,"DataTable.SaveItemsChanges")),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(3,8,"DataTable.SaveItemsChanges")+" (Ctrl+S)"),t.\u0275\u0275attribute("data-item-marker","SaveItemsChangesBtn"),t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("caption",t.\u0275\u0275pipeBind1(5,10,"DataTable.CancelItemsChanges")),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(6,12,"DataTable.CancelItemsChanges")),t.\u0275\u0275attribute("data-item-marker","CancelItemsChangesBtn"))},dependencies:[Jt,_t.MatIcon,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:flex;padding:8px;padding-inline-start:0;border-radius:4px;box-sizing:border-box;align-items:center}.cdk-drag-dragging[_nghost-%COMP%]{cursor:move}.cdk-drag-dragging[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.crt-data-table-action-panel-drag-handle[_ngcontent-%COMP%]{cursor:move;width:16px;height:16px;flex-shrink:0}crt-button[_ngcontent-%COMP%]:not(:last-child){margin-inline-end:8px}"]})}}const V6=new t.InjectionToken("A cell component type factory");class kg{constructor(e,n,a,i){this._injector=e,this._templateRef=n,this._viewContainerRef=a,this._cellComponentTypeFactory=i}_createOrUpdateView(){const e=this._cellComponentTypeFactory.create(this.column.dataValueType);e?(this._cleanupTemplate(),this._createOrUpdateComponent(e)):(this._cleanupComponent(),this._createOrUpdateTemplate(this.data[this.column.code]))}_createOrUpdateComponent(e){e===this._cellComponentType?this._updateComponent():this._createComponent(e),this._cellComponentType=e}_createComponent(e){this._componentRef=this._viewContainerRef.createComponent(e,{injector:this._injector}),this._componentRef.instance.value=this.data[this.column.code],this._componentRef.instance.record=this.data,this._componentRef.instance.column=this.column,this._viewContainerRef.insert(this._componentRef.hostView,0)}_updateComponent(){this._componentRef.instance.value=this.data[this.column.code],this._componentRef.instance.column=this.column,this._componentRef.changeDetectorRef.detectChanges()}_createOrUpdateTemplate(e){const n={$implicit:e};this._cleanupTemplate(),this._embeddedViewRef=this._viewContainerRef.createEmbeddedView(this._templateRef,n)}_cleanupTemplate(){this._embeddedViewRef&&(this._embeddedViewRef.destroy(),this._viewContainerRef.clear())}_cleanupComponent(){this._componentRef&&(this._componentRef.destroy(),this._viewContainerRef.clear())}ngOnChanges(){this.data&&this.column?this._createOrUpdateView():(this._cleanupTemplate(),this._cleanupComponent())}static{this.\u0275fac=function(n){return new(n||kg)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.TemplateRef),t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(V6))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:kg,selectors:[["","crtDataTableCellView",""]],inputs:{column:[t.\u0275\u0275InputFlags.None,"crtDataTableCellViewColumn","column"],data:[t.\u0275\u0275InputFlags.None,"crtDataTableCellViewData","data"]},features:[t.\u0275\u0275NgOnChangesFeature]})}}function VA(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span",9),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext().index;t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n+1+". ")}}function FA(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span",10),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate2("",n.source,"",n.message?": ":"","")}}function jA(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span",11),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.message)}}function BA(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",5),t.\u0275\u0275template(2,VA,2,1,"span",6)(3,FA,2,2,"span",7)(4,jA,2,1,"span",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.errors.length>1),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.source),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.message)}}class Rg{set tooltipConfig(e){this._tooltipConfig=e,this.errors=this._getDefinedErrors(this._tooltipConfig?.value)}_getDefinedErrors(e){return Array.isArray(e)?e.filter(n=>n?.source||n?.message):[]}onCancelChanges(){this._tooltipConfig?.onCancelChanges?.()}static{this.\u0275fac=function(n){return new(n||Rg)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Rg,selectors:[["crt-data-table-row-error-tooltip"]],decls:8,vars:11,consts:[[1,"crt-data-table-row-error-tooltip"],[1,"crt-data-table-row-error-tooltip-errors-list"],[4,"ngFor","ngForOf"],[1,"crt-data-table-row-error-tooltip-actions"],["displayType","text","size","medium","icon","undo","iconPosition","left-icon",3,"clicked","title","caption","ariaLabel"],[1,"crt-data-table-row-error-tooltip-error"],["class","crt-data-table-row-error-tooltip-error-index",4,"ngIf"],["class","crt-data-table-row-error-tooltip-error-source",4,"ngIf"],["class","crt-data-table-row-error-tooltip-error-message",4,"ngIf"],[1,"crt-data-table-row-error-tooltip-error-index"],[1,"crt-data-table-row-error-tooltip-error-source"],[1,"crt-data-table-row-error-tooltip-error-message"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1),t.\u0275\u0275template(2,BA,5,3,"ng-container",2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",3)(4,"crt-button",4),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275listener("clicked",function(){return a.onCancelChanges()}),t.\u0275\u0275elementEnd()()()),n&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.errors),t.\u0275\u0275advance(2),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(5,5,"DataTable.CancelItemsChanges"))("caption",t.\u0275\u0275pipeBind1(6,7,"DataTable.CancelItemsChanges"))("ariaLabel",t.\u0275\u0275pipeBind1(7,9,"DataTable.CancelItemsChanges")),t.\u0275\u0275attribute("data-item-marker","cancelItemsChangesBtn"))},dependencies:[_.NgForOf,_.NgIf,Jt,f.TranslatePipe],styles:["[_nghost-%COMP%]   .crt-data-table-row-error-tooltip[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:10px;padding:16px;min-width:256px;max-width:336px;max-height:336px}[_nghost-%COMP%]   .crt-data-table-row-error-tooltip[_ngcontent-%COMP%]   .crt-data-table-row-error-tooltip-errors-list[_ngcontent-%COMP%]{overflow:auto;margin-bottom:4px}[_nghost-%COMP%]   .crt-data-table-row-error-tooltip[_ngcontent-%COMP%]   .crt-data-table-row-error-tooltip-errors-list[_ngcontent-%COMP%]   .crt-data-table-row-error-tooltip-error[_ngcontent-%COMP%]{margin-bottom:12px}[_nghost-%COMP%]   .crt-data-table-row-error-tooltip[_ngcontent-%COMP%]   .crt-data-table-row-error-tooltip-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"],changeDetection:0})}}function zA(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-icon",2),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("tooltipConfig",n.errorTooltipConfig)}}function UA(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",3),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onCancelChanges())})("mouseenter",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.isCancelButtonHovered=!0)})("mouseleave",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.isCancelButtonHovered=!1)}),t.\u0275\u0275elementEnd()}r&2&&(t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,3,"DataTable.CancelItemsChanges"))("ariaLabel",t.\u0275\u0275pipeBind1(2,5,"DataTable.CancelItemsChanges")),t.\u0275\u0275attribute("data-item-marker","cancelItemChangesBtn"))}class Ng{constructor(){this._errors=[],this.isCancelButtonHovered=!1,this.cancelChanges=new t.EventEmitter}set errors(e){this._errors=e??[],this.errorTooltipConfig=this._getErrorTooltipConfig(this._errors)}get errors(){return this._errors}_getErrorTooltipConfig(e){return new Bo.I({tooltipConfig:{value:e,onCancelChanges:(()=>this.onCancelChanges()).bind(this)},componentType:Rg})}onCancelChanges(){this.cancelChanges.emit()}static{this.\u0275fac=function(n){return new(n||Ng)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ng,selectors:[["crt-data-table-row-changes-status-bar"]],inputs:{errors:"errors"},outputs:{cancelChanges:"cancelChanges"},decls:3,vars:2,consts:[["validStatus",""],["cdkMonitorElementFocus","","class","crt-data-table-row-error-indicator","matSuffix","","svgIcon","info-icon","crtTooltip","","tabindex","0",3,"tooltipConfig",4,"ngIf","ngIfElse"],["cdkMonitorElementFocus","","matSuffix","","svgIcon","info-icon","crtTooltip","","tabindex","0",1,"crt-data-table-row-error-indicator",3,"tooltipConfig"],["size","medium","icon","undo","displayType","text","iconPosition","only-icon",3,"clicked","mouseenter","mouseleave","title","ariaLabel"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,zA,1,1,"mat-icon",1)(1,UA,3,7,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",!a.isCancelButtonHovered&&a.errors.length>0)("ngIfElse",i)}},dependencies:[_.NgIf,Jt,_t.MatIcon,na.d,Ge.CdkMonitorFocus,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:flex;width:24px;height:24px;justify-content:center}.crt-data-table-row-error-indicator[_ngcontent-%COMP%]{width:16px;height:16px;padding:2px;color:var(--crt-data-table-invalid-color)}.crt-data-table-row-error-indicator.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}"],changeDetection:0})}}var Mf=o(36401);const HA={tab:"Tab",capslock:"CapsLock",shift:"Shift",meta:"Meta",alt:"Alt",ctrl:"Control",space:" ",spacebar:" ",escape:"Escape",esc:"Escape",left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown",copy:[{ctrlKey:!0,code:"KeyC"},{metaKey:!0,code:"KeyC"}],save:[{ctrlKey:!0,code:"KeyS"},{metaKey:!0,code:"KeyS"}],create:[{shiftKey:!0,code:"Enter"}],delete:[{shiftKey:!0,code:"Delete"}],pureEnter:[{altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1,code:"Enter"}],pureDelete:[{altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1,code:"Delete"}],character:[{key:/^.$/,altKey:!1,ctrlKey:!1,metaKey:!1}],return:"Enter",del:"Delete",command:"Meta",option:"Alt",enter:"Enter",backspace:"Backspace",ins:"Insert",pageup:"PageUp",pagedown:"PageDown",end:"End",home:"Home",contextmenu:"ContextMenu",numlock:"Clear"};function WA(r,e){return r.some(n=>Object.entries(n).every(([a,i])=>{const s=e[a];return i instanceof RegExp?i.test(s):s===i}))}function GA(r){return(Array.isArray(r)?r:[r]).map(n=>$A(n)).filter(n=>n!=null)}function $A(r){if(typeof r=="string")return r.trim().split("+");throw new Error(`Keyboard hotkeys sequence "${r}" not supporting`)}function KA(r){switch(r){case"shift":return[{shiftKey:!0}];case"meta":case"command":return[{metaKey:!0}];case"alt":return[{altKey:!0}];case"ctrl":return[{ctrlKey:!0}]}const e=HA[r];let n=[{key:r}];return Array.isArray(e)&&(n=[...n,...e]),typeof e=="object"&&(n=[...n,e]),typeof e=="string"&&(n=[...n,{key:e}]),n}function ZA(r,e){return Object.entries(e).filter(([,n])=>GA(n.sequence).some(i=>i.map(s=>KA(s)).every(s=>WA(s,r)))).map(([n])=>n)}class ps{constructor(){this.crtKeyboardHotkeyPressed=new t.EventEmitter}_onKeydown(e){ZA(e,this.crtKeyboardHotkeys.keydown).forEach(a=>this.crtKeyboardHotkeyPressed.emit({action:a,event:e}))}static{this.\u0275fac=function(n){return new(n||ps)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:ps,selectors:[["","crtKeyboardHotkeys",""]],hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("keydown",function(s){return a._onKeydown(s)})},inputs:{crtKeyboardHotkeys:"crtKeyboardHotkeys"},outputs:{crtKeyboardHotkeyPressed:"crtKeyboardHotkeyPressed"}})}}const QA=30,F6=10;class kl{constructor(){this._elementRef=(0,t.inject)(t.ElementRef),this._directionality=(0,t.inject)(me.Directionality),this._resizableDirective=(0,t.inject)(Mf.ResizableDirective),this._focusMonitor=(0,t.inject)(Ge.FocusMonitor),this._resizableElementSize=this._resizableDirective.elm.nativeElement.getBoundingClientRect(),this._isRtl=this._directionality.value==="rtl",this.columnResizing=new t.EventEmitter,this.columnResizeEnd=new t.EventEmitter,this._initializeFocusEvent()}_initializeFocusEvent(){this._focusMonitor.monitor(this._elementRef.nativeElement).pipe((0,h.filter)(e=>e==="keyboard"),(0,h.switchMap)(()=>this._initializeResizingEvents()),(0,Kv.takeUntilDestroyed)()).subscribe()}_initializeResizingEvents(){const e=(0,m.fromEvent)(this._elementRef.nativeElement,"keydown").pipe((0,h.filter)(({key:i})=>i===Ht.Key.ArrowLeft||i===Ht.Key.ArrowRight),(0,h.tap)(i=>i.preventDefault())),n=e.pipe((0,h.take)(1),(0,h.shareReplay)({bufferSize:1,refCount:!0})),a=n.pipe((0,h.switchMap)(()=>(0,m.fromEvent)(this._elementRef.nativeElement,"blur")),(0,h.take)(1),(0,h.tap)(()=>this.columnResizeEnd.emit()));return n.pipe((0,h.switchMap)(i=>e.pipe((0,h.startWith)(i))),(0,h.throttleTime)(QA,void 0,{trailing:!0}),(0,h.map)(({key:i})=>this._getColumnResizeStep(i)),(0,h.tap)(i=>this._emitResize(i)),(0,h.map)(()=>{}),(0,h.takeUntil)(a))}_getColumnResizeStep(e){const n=e===Ht.Key.ArrowRight?F6:-F6;return this._isRtl?-n:n}_emitResize(e){const{top:n,bottom:a,right:i,left:s}=this._resizableElementSize,b={edges:this._isRtl?{left:e}:{right:e},rectangle:{top:n,bottom:a,right:i,left:s,width:this.columnWidth+e}};this.columnResizing.emit(b)}static{this.\u0275fac=function(n){return new(n||kl)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:kl,selectors:[["","crtDataTableColumnKeyboardResize",""]],inputs:{columnWidth:[t.\u0275\u0275InputFlags.None,"crtDataTableColumnKeyboardResizeColumnWidth","columnWidth"]},outputs:{columnResizing:"crtDataTableColumnKeyboardResizeColumnResizing",columnResizeEnd:"crtDataTableColumnKeyboardResizeColumnResizeEnd"}})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number)],kl.prototype,"columnWidth",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],kl.prototype,"columnResizing",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],kl.prototype,"columnResizeEnd",void 0);class Vg{constructor(){this._defaultPrimaryColumnName="Id",this._context=new m.ReplaySubject(1),this.context$=this._context.asObservable(),this.rowId$=this.context$.pipe((0,h.map)(e=>e.rowId))}_getRowId(e){var n=this;return(0,bt.A)(function*(){return e?e[n.primaryColumnName||n._defaultPrimaryColumnName]:Promise.resolve(e)})()}ngOnChanges(e){this._getRowId(this.row).then(n=>{this._context.next({row:this.row,rowId:n})})}static{this.\u0275fac=function(n){return new(n||Vg)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Vg,selectors:[["","crtDataTableRowContext",""]],inputs:{row:[t.\u0275\u0275InputFlags.None,"crtDataTableRowContext","row"],primaryColumnName:"primaryColumnName"},exportAs:["rowContext"],features:[t.\u0275\u0275NgOnChangesFeature]})}}class pr{get context$(){return this._rowContextDirective.context$}constructor(e){this._rowContextDirective=e,this._destroyed$=new m.Subject,this.active=!1,this.selected=!1,this.disableTextSelectionOnDoubleClick=!1,this.focused=new t.EventEmitter,this.clicked=new t.EventEmitter,this.doubleClick=new t.EventEmitter,this._subscribeRowContextChanges()}_onFocus(e){this.focused.emit(e)}_onClick(e){this.clicked.emit(e)}_onMouseDown(e){this.disableTextSelectionOnDoubleClick&&e.detail>1&&e.preventDefault()}_onDoubleClick(){this.doubleClick.emit(this._context)}_subscribeRowContextChanges(){this.context$.pipe((0,h.tap)(e=>this._onRowContextChanged(e)),(0,h.takeUntil)(this._destroyed$)).subscribe()}_onRowContextChanged(e){this._context=e,this.rowId=this._context?.rowId}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||pr)(t.\u0275\u0275directiveInject(Vg))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:pr,selectors:[["","crtDataTableRow",""]],hostVars:5,hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("focusin",function(s){return a._onFocus(s)})("click",function(s){return a._onClick(s)})("mousedown",function(s){return a._onMouseDown(s)})("dblclick",function(){return a._onDoubleClick()}),n&2&&(t.\u0275\u0275attribute("row-id",a.rowId),t.\u0275\u0275classProp("crt-data-table-row-active",a.active)("crt-data-table-row-selected",a.selected))},inputs:{active:[t.\u0275\u0275InputFlags.None,"crtDataTableRowActive","active"],selected:[t.\u0275\u0275InputFlags.None,"crtDataTableRowSelected","selected"],disableTextSelectionOnDoubleClick:[t.\u0275\u0275InputFlags.None,"crtDataTableRowDisableTextSelectionOnDoubleClick","disableTextSelectionOnDoubleClick"]},outputs:{focused:"crtDataTableRowFocus",clicked:"crtDataTableRowClick",doubleClick:"crtDataTableRowDoubleClick"}})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],pr.prototype,"active",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],pr.prototype,"selected",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],pr.prototype,"disableTextSelectionOnDoubleClick",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],pr.prototype,"focused",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],pr.prototype,"clicked",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],pr.prototype,"doubleClick",void 0);function j6(r){return!(r?.rowId&&r?.columnId)}function IC(r,e){return r?.rowId===e?.rowId&&r?.columnId===e?.columnId}function Fg(r,e){return Array.isArray(e)?e.some(n=>IC(r,n)):!1}class xC{get rowId(){return this.cell.rowId}get rowIndex(){return this.cell.rowIndex}get columnId(){return this.cell.columnId}get columnIndex(){return this.cell.columnIndex}set data(e){this.cell.data=e}get data(){return this.cell.data}set column(e){this.cell.column=e}get column(){return this.cell.column}get element(){return this.cell.element}get clicked(){return this.cell.clicked}get focused(){return this.cell.focused}get blurred(){return this.cell.blurred}constructor(e){this.cell=e}static{this.\u0275fac=function(n){t.\u0275\u0275invalidFactory()}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:xC,inputs:{data:[t.\u0275\u0275InputFlags.None,"crtDataTableCellData","data"],column:[t.\u0275\u0275InputFlags.None,"crtDataTableCellColumn","column"]}})}}class Np extends xC{set disabled(e){this._disabled=!!e,this._setSelected(this._selected)}get disabled(){return this._disabled}set selected(e){this._setSelected(e)}get selected(){return this._selected}constructor(e,n){super(e),this._changeDetectorRef=n,this._disabled=!1,this._selected$=(0,m.merge)(this.clicked,this.focused).pipe((0,h.map)(()=>!0)),this._unselected$=this.blurred.pipe((0,h.map)(()=>!1)),this.selectedChange=(0,m.merge)(this._selected$,this._unselected$).pipe((0,h.filter)(()=>!this._disabled)),this._selected=!1}_setSelected(e){e=e&&!this._disabled,this._selected!==e&&(this._selected=e,this._changeDetectorRef.detectChanges())}static{this.\u0275fac=function(n){return new(n||Np)(t.\u0275\u0275directiveInject(Li),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Np,selectors:[["","crtDataTableSelectableCell",""]],hostVars:2,hostBindings:function(n,a){n&2&&t.\u0275\u0275classProp("crt-data-table-cell-selected",a._selected)},inputs:{disabled:[t.\u0275\u0275InputFlags.None,"crtDataTableSelectableCellDisabled","disabled"]},exportAs:["dataTableSelectableCell"],features:[t.\u0275\u0275InheritDefinitionFeature]})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Np.prototype,"disabled",null);class us{set selectedCells(e){this.selectCells(e,{emitEvent:!1})}get selectedCells(){return this._selectedCells}set disabled(e){const n=!!e;n!==this._disabled&&(this._disabled=n,this._cellsChanged$.next(),this._disabled?(this._selectedCells=[],this._selectCells(this._selectedCells)):this._subscribeCells(this.selectableCells))}set actualize(e){this._actualizeDestroyed$.next(),e?.pipe((0,h.takeUntil)(this._actualizeDestroyed$))?.subscribe(()=>this.selectableCells.notifyOnChanges())}constructor(e){this._document=e,this._destroyed$=new m.Subject,this._cellsChanged$=new m.Subject,this._actualizeDestroyed$=new m.Subject,this._selectedCells=[],this._disabled=!1,this._multiple=!1,this.selectableCells=new t.QueryList,this.selectedCellsChange=new t.EventEmitter,this._selectableCells=new t.QueryList}_getDefinedSelectedCells(e){if(this._disabled)return[];if(!Array.isArray(e))return[];const n=[...e].filter(a=>a?.rowId&&a?.columnId).map(({rowId:a,columnId:i})=>({rowId:a,columnId:i}));return this._multiple?n:n.slice(n.length-1)}_getSortedSelectableCells(e){if(!e)return e;const n=Array.from(e).sort((a,i)=>{const{rowIndex:s,columnIndex:b}=a,{rowIndex:D,columnIndex:W}=i;return b===W?s-D:b-W});return e.reset(n),e}_updateCellsSelection(e){const n=[...this._selectedCells];this._selectCells(n),e.emitEvent&&this.selectedCellsChange.emit(n)}_selectCells(e){this.selectableCells.forEach(s=>{s.selected=Fg(s,e)});const n=this.selectableCells.find(s=>s.element===this._document.activeElement);if(n?.selected)return;const a=(0,y.last)(e);if(!a)return n?.element?.blur();const i=this.selectableCells?.filter(s=>IC(s,a))?.pop();i?.selected&&i?.element?.focus()}_selectCell(e){if(j6(e)||e.selected&&Fg(e,this._selectedCells))return;const a={rowId:e.rowId,columnId:e.columnId};this._multiple?(this._selectedCells=this._selectedCells.filter(i=>!IC(e,i)),this._selectedCells.push(a)):this._selectedCells=[a],this.selectCells(this._selectedCells,{emitEvent:!0})}_unselectCell(e){j6(e)||!(e.selected||Fg(e,this._selectedCells))||(this._selectedCells=this._selectedCells.filter(a=>!IC(e,a)),this.selectCells(this._selectedCells,{emitEvent:!0}))}_subscribeCells(e){e?.forEach(n=>{n.selectedChange.pipe((0,h.filter)(a=>a),(0,h.tap)(()=>this._selectCell(n)),(0,h.takeUntil)(this._cellsChanged$)).subscribe(),n.selectedChange.pipe((0,h.filter)(a=>!a),(0,h.tap)(()=>this._unselectCell(n)),(0,h.takeUntil)(this._cellsChanged$)).subscribe()})}selectCells(e,n){this._selectedCells=this._getDefinedSelectedCells(e),this._updateCellsSelection(n)}ngAfterContentInit(){this._selectableCells.changes.pipe((0,h.startWith)(this._selectableCells),(0,h.takeUntil)(this._destroyed$)).subscribe(e=>{this._cellsChanged$.next(),this.selectableCells=this._getSortedSelectableCells(e??new t.QueryList),this._disabled||(this._subscribeCells(this.selectableCells),this._selectCells(this._selectedCells))})}ngOnDestroy(){this._actualizeDestroyed$.next(),this._actualizeDestroyed$.complete(),this._cellsChanged$.next(),this._cellsChanged$.complete(),this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||us)(t.\u0275\u0275directiveInject(_.DOCUMENT))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:us,selectors:[["","crtDataTableCellsSelection",""]],contentQueries:function(n,a,i){if(n&1&&t.\u0275\u0275contentQuery(i,Np,5),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a._selectableCells=s)}},inputs:{selectedCells:[t.\u0275\u0275InputFlags.None,"crtDataTableCellsSelection","selectedCells"],disabled:[t.\u0275\u0275InputFlags.None,"crtDataTableCellsSelectionDisabled","disabled"],actualize:[t.\u0275\u0275InputFlags.None,"crtDataTableCellsSelectionActualize","actualize"]},outputs:{selectedCellsChange:"crtDataTableCellsSelectionChange"},exportAs:["dataTableCellsSelection"]})}}const _2=1/0,f2=0,YA=["crt-data-table-row-selection-indicator-container","crt-data-table-selection-checkbox-container-stub"];class If{get _selectionState(){return this._selectionModel.state}get _isSingleSelection(){return!this._disabled&&!this._multiple}get _isMultipleSelection(){return!this._disabled&&this._multiple}get isAllSelected(){return this._disabled||this.selectableRows.length===0?!1:this._selectionState.type==="all"&&this._selectionState.unselected.length===0?!0:this._selectedCount<this._totalCount?!1:Array.from(this.selectableRows).every(n=>this.isSelectedRow(n.rowId))}get isNothingSelected(){return this._disabled?!0:this._selectionState.type==="specific"?this._selectedCount===0:this.selectableRows.length===0?!0:Array.from(this.selectableRows).some(n=>this.isSelectedRow(n.rowId))?!1:this._selectedCount===0}get isIndeterminateSelected(){return!this.isAllSelected&&!this.isNothingSelected}get selectedItemsCount(){return this._selectedCount}set selectionState(e){this._setSelectionState(e,{emitEvent:!1})}get selectionState(){const e=this._selectionState;return e.type==="specific"?e:{...e,selectedCount:this._selectedCount}}set totalItemsCount(e){this._totalCount=e??_2,this._totalCount<0&&(this._totalCount=_2)}set multiple(e){this._multiple=!!e,this._setSelectionState(this.selectionState,{emitEvent:!0})}set disabled(e){const n=!!e;n!==this._disabled&&n&&this._unselectAll({emitEvent:!1}),this._disabled=n}constructor(e){this._cellsSelectionDirective=e,this._destroyed$=new m.Subject,this._selectableRowsChanged$=new m.Subject,this._multiple=!1,this._disabled=!1,this._totalCount=_2,this._selectedCount=f2,this._selectionModel=new ug,this.selectionStateChange=new t.EventEmitter,this.selectableRows=new t.QueryList,this._subscribeSelectedCellsChanges()}_setSelectionState(e,n){const a=new ug(e,this._multiple);this._disabled&&a.clear();const i=this._selectionState;this._selectionModel=a,this._setSelectedCount(a.state,e),!(0,y.isEqual)(i,a.state)&&this._updateRowsSelection(n)}_setSelectedCount(e,n){if(e.type==="specific"){this._selectedCount=e.selected.length;return}const a=n?.type==="all"?n.selectedCount:f2;this._selectedCount=a==null||a<0?f2:a}_updateRowsSelection(e){this.selectableRows.forEach(n=>this._setRowSelection(n)),!this._disabled&&e.emitEvent&&this.selectionStateChange.emit((0,y.cloneDeep)(this.selectionState))}_setRowSelection(e){e.selected=this.isSelectedRow(e.rowId)}_selectAll(){this._setSelectionState({type:"all",unselected:[],selectedCount:this._totalCount},{emitEvent:!0})}_unselectAll(e){this._setSelectionState({type:"specific",selected:[]},e)}_toggleRowSelection(e){this._multiple?this._selectedCount+=this.isSelectedRow(e)?-1:1:this._selectedCount=this.isSelectedRow(e)?0:1,this._selectionModel.toggleSelection(e),this._updateRowsSelection({emitEvent:!0})}_isClickOutsideDataCellsInRow(e,n){const a=n.target;return Array.from(this._cellsSelectionDirective.selectableCells).filter(i=>i.rowId===e.rowId).map(i=>i.element).every(i=>i!==a&&!i.contains(a))}_isClickOutsideSelectionIndicator(e){const n=e.target;return YA.every(a=>!n.classList.contains(a)&&n.closest(`.${a}`)==null)}_subscribeSelectedCellsChanges(){this._cellsSelectionDirective.selectedCellsChange.pipe((0,h.map)(e=>e[0]?.rowId),(0,h.filter)(e=>e&&this._isSingleSelection),(0,h.map)(e=>({type:"specific",selected:[e]})),(0,h.tap)(e=>this._setSelectionState(e,{emitEvent:!0})),(0,h.takeUntil)(this._destroyed$)).subscribe()}_subscribeRowClicked(e){e.clicked.pipe((0,h.filter)(n=>this._isMultipleSelection?(n.ctrlKey||n.metaKey)&&this._isClickOutsideSelectionIndicator(n):this._cellsSelectionDirective.disabled?!0:this._isClickOutsideDataCellsInRow(e,n)),(0,h.tap)(()=>this._toggleRowSelection(e.rowId)),(0,h.takeUntil)(this._selectableRowsChanged$)).subscribe()}_subscribeRowContextChanges(e){e.context$.pipe((0,h.tap)(()=>this._setRowSelection(e)),(0,h.takeUntil)(this._selectableRowsChanged$)).subscribe()}isSelectedRow(e){return this._disabled?!1:this._selectionModel.isSelected(e)}toggleRowSelection(e){this._disabled||this._toggleRowSelection(e)}toggleAllRowsSelection(){this._disabled||(this.isNothingSelected?this._selectAll():this._unselectAll({emitEvent:!0}))}ngAfterContentInit(){this.selectableRows.changes.pipe((0,h.startWith)(this.selectableRows),(0,h.takeUntil)(this._destroyed$)).subscribe(e=>{this._selectableRowsChanged$.next(),!this._disabled&&(e.forEach(n=>{this._subscribeRowClicked(n),this._subscribeRowContextChanges(n)}),this._updateRowsSelection({emitEvent:!1}))})}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this._selectableRowsChanged$.next(),this._selectableRowsChanged$.complete()}static{this.\u0275fac=function(n){return new(n||If)(t.\u0275\u0275directiveInject(us))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:If,selectors:[["","crtDataTableRowsSelection",""]],contentQueries:function(n,a,i){if(n&1&&t.\u0275\u0275contentQuery(i,pr,5),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.selectableRows=s)}},inputs:{selectionState:[t.\u0275\u0275InputFlags.None,"crtDataTableRowsSelection","selectionState"],totalItemsCount:[t.\u0275\u0275InputFlags.None,"crtDataTableRowsSelectionTotalItemsCount","totalItemsCount"],multiple:[t.\u0275\u0275InputFlags.None,"crtDataTableRowsSelectionMultiple","multiple"],disabled:[t.\u0275\u0275InputFlags.None,"crtDataTableRowsSelectionDisabled","disabled"]},outputs:{selectionStateChange:"crtDataTableRowsSelectionChange"},exportAs:["dataTableRowsSelection"]})}}class Rl extends xC{set data(e){super.data=e,this._setEditControl()}get data(){return super.data}set column(e){super.column=e,this._setEditControl()}get column(){return super.column}get dirty(){return this._dirty}get touched(){return!this._disabled&&this._control?.touched}get errors(){return this._errors}get control(){return this._control}get crtControl(){return this._crtControl||(this._crtControl=this._getCrtControl()),this._crtControl}set editing(e){this._setEditing(e)}get editing(){return this._editing}set disabled(e){const n=!!e;n!==this._disabled&&(this._disabled=n,this._setDirty(this._dirty),this._setInvalid(this._invalid),this._setEditing(this._editing),this._controlDestroyed$.next(),this._disabled||this._setEditControl())}get disabled(){return this._disabled}constructor(e,n){super(e),this._changeDetectorRef=n,this._controlDestroyed$=new m.Subject,this._editing=!1,this._disabled=!1,this._dirty=!1,this._invalid=!1,this.editingModeDisabled=!1}_setDirty(e){e=e&&!this._disabled,!!this._dirty!=!!e&&(this._dirty=e,this._changeDetectorRef.detectChanges())}_setInvalid(e){e=e&&!this._disabled,!!this._invalid!=!!e&&(this._invalid=e,this._changeDetectorRef.detectChanges())}_setEditing(e){e=e&&!this._disabled&&!this.editingModeDisabled,!!this._editing!=!!e&&(this._editing=e,this._changeDetectorRef.detectChanges())}_setEditControl(){this._controlDestroyed$.next(),this._control=this._getEditControl(),this._control&&(this._subscribeControlValueChanges(this._control),this._subscribeControlStatusChanges(this._control))}_getEditControl(){const e=this.data?.formApiModel?.controls,n=this.column?.code;return e&&n?e[n]:null}_getCrtControl(){return this.data?.getControl?.(this.column?.code)}_subscribeControlValueChanges(e){e.valueChanges.pipe((0,h.startWith)(e?.dirty),(0,h.tap)(()=>this._setDirty(e.dirty)),(0,h.takeUntil)(this._controlDestroyed$)).subscribe()}_subscribeControlStatusChanges(e){e.statusChanges.pipe((0,h.startWith)(e.status),(0,h.filter)(n=>n==="INVALID"||n==="VALID"),(0,h.map)(n=>n==="INVALID"),(0,h.tap)(()=>this._errors=(0,Zu.OP)(e)),(0,h.tap)(n=>this._setInvalid(n)),(0,h.takeUntil)(this._controlDestroyed$)).subscribe()}ngOnDestroy(){this._controlDestroyed$.next(),this._controlDestroyed$.complete()}static{this.\u0275fac=function(n){return new(n||Rl)(t.\u0275\u0275directiveInject(Li),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Rl,selectors:[["","crtDataTableEditableCell",""]],hostVars:12,hostBindings:function(n,a){n&2&&t.\u0275\u0275classProp("crt-data-table-cell-editing",a._editing)("crt-data-table-cell-editing-disabled",a._disabled)("crt-data-table-cell-dirty",a._dirty)("crt-data-table-cell-invalid",a._invalid)("crt-data-table-cell-touched",a.touched)("crt-data-table-cell-editing-mode-disabled",a.editingModeDisabled)},inputs:{disabled:[t.\u0275\u0275InputFlags.None,"crtDataTableEditableCellDisabled","disabled"],editingModeDisabled:[t.\u0275\u0275InputFlags.None,"crtDataTableEditableCellEditingModeDisabled","editingModeDisabled"]},exportAs:["dataTableEditableCell"],features:[t.\u0275\u0275InheritDefinitionFeature]})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Rl.prototype,"disabled",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Rl.prototype,"editingModeDisabled",void 0);var B6=o(32053);class xf{get unsaved(){return!this.disabled&&this._unsaved}get touched(){return!this.disabled&&this._group.touched}get invalid(){return this.errors?.length>0}get errors(){if(this.disabled)return;const e=this._getGroupErrors(this._group),n=this._getControlsErrors(this._group,this.columns);return e.concat(n)}constructor(e){this._changeDetectorRef=e,this._unsaved=!1}_actualizeState(){this._dataChanging$?.next(),this._dataChanging$?.complete(),this._dataChanging$=null,!this.disabled&&(this._dataChanging$=new m.Subject,this._setGroup(),this._subscribeHasUnsavedDataChanges())}_setGroup(){this._group=this.data?.formApiModel,this._group&&(0,m.merge)(this._group.valueChanges,this._group.statusChanges).pipe((0,h.tap)(()=>this._changeDetectorRef.markForCheck()),(0,h.takeUntil)(this._dataChanging$)).subscribe()}_subscribeHasUnsavedDataChanges(){if(!this.data?.events$)return;const e=this.data.events$.pipe((0,h.filter)(a=>a?.type===Ey.n.ChangeAttributeValue&&a.payload?.attributeName===B6.ie),(0,h.map)(a=>a.payload.value)),n=(0,m.from)(this.data[B6.ie]??Promise.resolve());(0,m.merge)(n,e).pipe((0,h.tap)(a=>this._unsaved=!!a),(0,h.takeUntil)(this._dataChanging$)).subscribe()}_getGroupErrors(e){return(0,Zu.OP)(e).map(n=>({source:null,message:n}))}_getControlsErrors(e,n){return Object.entries(e.controls).filter(([a,i])=>(i.dirty||i.touched)&&i.invalid).map(([a,i])=>this._getControlErrors(i,a,n)).flat()}_getControlErrors(e,n,a){const i=a?.find(s=>s.code===n);return(0,Zu.OP)(e).map(s=>({source:i?.caption,message:s}))}ngOnChanges(e){("data"in e||"disabled"in e)&&this._actualizeState()}ngOnDestroy(){this._dataChanging$?.next(),this._dataChanging$?.complete()}static{this.\u0275fac=function(n){return new(n||xf)(t.\u0275\u0275directiveInject(t.ChangeDetectorRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:xf,selectors:[["","crtDataTableEditableRow",""]],inputs:{data:[t.\u0275\u0275InputFlags.None,"crtDataTableEditableRowData","data"],columns:[t.\u0275\u0275InputFlags.None,"crtDataTableEditableRowColumns","columns"],disabled:[t.\u0275\u0275InputFlags.None,"crtDataTableEditableRowDisabled","disabled"]},exportAs:["dataTableEditableRow"],features:[t.\u0275\u0275NgOnChangesFeature]})}}class Sf{set activeRow(e){this._setActiveRow(e,{emitEvent:!1})}get activeRow(){return this._activeRow}constructor(e){this._cellsSelectionDirective=e,this._destroyed$=new m.Subject,this._rowsChanged$=new m.Subject,this.activeRowChange=new t.EventEmitter,this.rows=new t.QueryList}_setActiveRow(e,n){(0,y.isEqual)(this._activeRow,e)||(this._activeRow=e,this._updateRowsActivity(n))}_updateRowsActivity(e){this.rows.forEach(n=>this._setRowActivity(n)),e.emitEvent&&this.activeRowChange.emit(this.activeRow)}_setRowActivity(e){e.active=this._isActiveRow(e.rowId)}_isActiveRow(e){return this._activeRow!==null&&this._activeRow===e}_subscribeRowContextChanges(e){e.context$.pipe((0,h.tap)(()=>this._setRowActivity(e)),(0,h.takeUntil)(this._rowsChanged$)).subscribe()}_subscribeRowInteraction(e){const n=this._getActiveRowByClick(e),a=this._getActiveRowByFocus(e);(0,m.merge)(n,a).pipe((0,h.tap)(i=>this._setActiveRow(i,{emitEvent:!0})),(0,h.takeUntil)(this._rowsChanged$)).subscribe()}_getActiveRowByClick(e){return e.clicked.pipe((0,h.filter)(n=>!n.defaultPrevented),(0,h.throttleTime)(200),(0,h.map)(n=>this._isActiveRow(e.rowId)&&this._isClickOutsideDataCellsInRow(e,n)?null:e.rowId))}_getActiveRowByFocus(e){return e.focused.pipe((0,h.map)(()=>e.rowId))}_isClickOutsideDataCellsInRow(e,n){const a=n.target;return Array.from(this._cellsSelectionDirective.selectableCells).filter(i=>i.rowId===e.rowId).map(i=>i.element).every(i=>i!==a&&!i.contains(a))}ngAfterContentInit(){this.rows.changes.pipe((0,h.startWith)(this.rows),(0,h.takeUntil)(this._destroyed$)).subscribe(e=>{this._rowsChanged$.next(),e.forEach(n=>{this._subscribeRowInteraction(n),this._subscribeRowContextChanges(n)}),this._updateRowsActivity({emitEvent:!1})})}ngOnDestroy(){this._rowsChanged$.next(),this._rowsChanged$.complete(),this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||Sf)(t.\u0275\u0275directiveInject(us))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Sf,selectors:[["","crtDataTableRowActivity",""]],contentQueries:function(n,a,i){if(n&1&&t.\u0275\u0275contentQuery(i,pr,5),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.rows=s)}},inputs:{activeRow:[t.\u0275\u0275InputFlags.None,"crtDataTableRowActivity","activeRow"]},outputs:{activeRowChange:"crtDataTableRowActivityChange"},exportAs:["dataTableRowActivity"]})}}class jg{get editingEditableCells(){return this.editableCells.filter(e=>e.editing)}set editingCells(e){this.startCellsEditing(e,{emitEvent:!1})}get editingCells(){return this._editingCells}set disabled(e){const n=!!e;n!==this._disabled&&(this._disabled=n,this._disabledChanged$.next(),this._disabled?this.endCellsEditing({emitEvent:!1}):(this._subscribeCellsDblClick(),this._subscribeActiveItemChange()))}constructor(e,n,a,i){this._document=e,this._overlayContainer=n,this._cellsSelectionDirective=a,this._keyboardNavigationStrategy=i,this._destroyed$=new m.Subject,this._disabledChanged$=new m.Subject,this._editableCellsChanged$=new m.Subject,this._editingCells=[],this._disabled=!1,this._multiple=!1,this.editingCellsChange=new t.EventEmitter,this.editableCells=new t.QueryList,this._subscribeActiveItemChange()}_subscribeActiveItemChange(){this._keyboardNavigationStrategy.activeItem$.pipe((0,h.filter)(e=>e!=null),(0,h.tap)(()=>this.endCellsEditing({emitEvent:!0})),(0,h.takeUntil)(this._disabledChanged$)).subscribe()}_subscribeCellsDblClick(){this.editableCells.forEach(e=>{(0,m.fromEvent)(e.element,"dblclick").pipe((0,h.tap)(n=>n.stopPropagation()),(0,h.filter)(()=>!e.editing&&!e.disabled),(0,h.tap)(()=>this.startCellsEditing([e],{emitEvent:!0})),(0,h.takeUntil)((0,m.merge)(this._disabledChanged$,this._editableCellsChanged$))).subscribe()})}_getDefinedEditingCells(e){if(this._disabled)return[];if(!Array.isArray(e))return[];const n=this.editableCells?.first?.columnId,a=[...e].filter(i=>i?.rowId).map(({rowId:i,columnId:s})=>({rowId:i,columnId:s}));return a.filter(i=>!i.columnId).forEach(i=>i.columnId=n),this._multiple?a:a.slice(a.length-1)}_updateCellsEditing(e,n){this._editingCells=e,this.editableCells.forEach(a=>a.editing=Fg(a,e)),this.editingEditableCells.length>0?this._startListenOutsideCellsClick():this._endListenOutsideCellsClick(),n.emitEvent&&this._emitEditingCellsChange()}_emitEditingCellsChange(){this.editingCellsChange.emit(this._editingCells)}_startListenOutsideCellsClick(){this._checkClickOutsideCellHandler||(this._checkClickOutsideCellHandler=e=>this._checkClickOutsideCell(e),this._document.addEventListener("click",this._checkClickOutsideCellHandler,!0))}_endListenOutsideCellsClick(){this._checkClickOutsideCellHandler&&this._document.removeEventListener("click",this._checkClickOutsideCellHandler,!0),this._checkClickOutsideCellHandler=null}_checkClickOutsideCell(e){this._isClickOnEditingCell(e)||this._isClickOnCdkOverlay(e)||this.endCellsEditing({emitEvent:!0})}_isClickOnEditingCell(e){return this.editingEditableCells.map(n=>n.element).some(n=>e.target===n||n?.contains(e.target))}_isClickOnCdkOverlay(e){const i=this._overlayContainer?.getContainerElement()?.querySelectorAll(".cdk-overlay-connected-position-bounding-box");return Array.from(i).some(s=>e.target===s||s.contains(e.target))}startCellsEditing(e,n){this.endCellsEditing({emitEvent:!1});const a=this._getDefinedEditingCells(e);this._cellsSelectionDirective.selectCells(a,{emitEvent:!0}),this._updateCellsEditing(a,n)}endCellsEditing(e){this._editingCells.length&&(this.editingEditableCells.forEach(n=>n?.control?.markAsTouched()),this._updateCellsEditing([],e))}ngAfterContentInit(){this.editableCells.changes.pipe((0,h.startWith)(this.editableCells),(0,h.takeUntil)(this._destroyed$)).subscribe(()=>{this._editableCellsChanged$.next(),this._disabled||(this._updateCellsEditing(this._editingCells,{emitEvent:!1}),this._subscribeCellsDblClick())})}ngOnDestroy(){this._endListenOutsideCellsClick(),this._disabledChanged$.next(),this._disabledChanged$.complete(),this._editableCellsChanged$.next(),this._editableCellsChanged$.complete(),this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||jg)(t.\u0275\u0275directiveInject(_.DOCUMENT),t.\u0275\u0275directiveInject(In.OverlayContainer,8),t.\u0275\u0275directiveInject(us),t.\u0275\u0275directiveInject(Tl))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:jg,selectors:[["","crtDataTableCellsEditing",""]],contentQueries:function(n,a,i){if(n&1&&t.\u0275\u0275contentQuery(i,Rl,5),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.editableCells=s)}},inputs:{editingCells:[t.\u0275\u0275InputFlags.None,"crtDataTableCellsEditing","editingCells"],disabled:[t.\u0275\u0275InputFlags.None,"crtDataTableCellsEditingDisabled","disabled"]},outputs:{editingCellsChange:"crtDataTableCellsEditingChange"},exportAs:["dataTableCellsEditing"]})}}class wf{set disabled(e){const n=!!e;n!==this._disabled&&(this._destroyed$.next(),this._disabled=n,n||this._subscribeKeyboardCopying())}constructor(e,n,a){this._copyClipboardService=e,this._keyboardHotkeysDirective=n,this._cellsSelectionDirective=a,this._destroyed$=new m.Subject,this._disabled=!1,this._subscribeKeyboardCopying()}_subscribeKeyboardCopying(){this._keyboardHotkeysDirective.crtKeyboardHotkeyPressed.pipe((0,h.filter)(({action:e})=>e===Wn.copyValue),(0,m.map)(({event:e})=>({event:e,selectedCellsElements:this._getSelectedCellsElements()})),(0,h.filter)(({selectedCellsElements:e})=>!!e?.length),(0,h.tap)(({event:e,selectedCellsElements:n})=>{e.preventDefault(),this._copySelectedCellsToBuffer(n)}),(0,h.takeUntil)(this._destroyed$)).subscribe()}_copySelectedCellsToBuffer(e){const n=e.map(a=>a.innerText);this._copyClipboardService.copyTextToBuffer(n).then()}_getSelectedCellsElements(){const{selectedCells:e,selectableCells:n}=this._cellsSelectionDirective;return n.filter(a=>Fg(a,e)).map(a=>a.element)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||wf)(t.\u0275\u0275directiveInject(ip.w),t.\u0275\u0275directiveInject(ps),t.\u0275\u0275directiveInject(us))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:wf,selectors:[["","crtDataTableCellsKeyboardCopying",""]],inputs:{disabled:[t.\u0275\u0275InputFlags.None,"crtDataTableCellsKeyboardCopyingDisabled","disabled"]}})}}class Ef{set disabled(e){const n=!!e;n!==this._disabled&&(this._keyboardHotkeysDestroyed$.next(),this._disabled=n,n||this._subscribeKeyboardEditing())}constructor(e,n,a,i){this._keyboardHotkeysDirective=e,this._cellsEditingDirective=n,this._cellsSelectionDirective=a,this._keyboardNavigationStrategy=i,this._keyboardHotkeysDestroyed$=new m.Subject,this._disabled=!1,this._subscribeKeyboardEditing()}_subscribeKeyboardEditing(){this._keyboardHotkeysDirective.crtKeyboardHotkeyPressed.pipe((0,h.filter)(({action:e,event:n})=>e===Wn.edit&&!n.isComposing),(0,h.filter)(()=>this._hasEditingCells()||this._hasSelectedCells()),(0,h.tap)(({event:e})=>e.preventDefault()),(0,h.tap)(()=>{if(this._hasEditingCells()){this._endCellsEditing(),this._keyboardNavigationStrategy.setNextActiveItem("down");return}this._hasSelectedCells()&&this._startCellsEditing()}),(0,h.takeUntil)(this._keyboardHotkeysDestroyed$)).subscribe(),this._keyboardHotkeysDirective.crtKeyboardHotkeyPressed.pipe((0,h.filter)(({action:e})=>e===Wn.character),(0,h.filter)(()=>!this._hasEditingCells()&&this._hasSelectedCells()),(0,h.tap)(({event:e})=>e.preventDefault()),(0,h.tap)(({event:e})=>{this._startCellsEditing(),this._setValueToEditingCells(e.key)}),(0,h.takeUntil)(this._keyboardHotkeysDestroyed$)).subscribe(),this._keyboardHotkeysDirective.crtKeyboardHotkeyPressed.pipe((0,h.filter)(({action:e})=>e===Wn.deleteValue),(0,h.filter)(()=>!this._hasEditingCells()&&this._hasSelectedCells()),(0,h.tap)(({event:e})=>e.preventDefault()),(0,h.tap)(()=>this._clearValueInSelectedCells()),(0,h.takeUntil)(this._keyboardHotkeysDestroyed$)).subscribe(),this._keyboardHotkeysDirective.crtKeyboardHotkeyPressed.pipe((0,h.filter)(({action:e})=>e===Wn.escape),(0,h.filter)(()=>this._hasEditingCells()),(0,h.tap)(({event:e})=>e.preventDefault()),(0,h.tap)(()=>this._endCellsEditing()),(0,h.takeUntil)(this._keyboardHotkeysDestroyed$)).subscribe()}_endCellsEditing(){const e=[...this._cellsEditingDirective.editingEditableCells];this._cellsEditingDirective.endCellsEditing({emitEvent:!0}),this._cellsSelectionDirective.selectCells(e,{emitEvent:!0})}_hasEditingCells(){return this._cellsEditingDirective.editingEditableCells.length>0}_hasSelectedCells(){return this._cellsSelectionDirective.selectedCells.length>0}_getEnabledEditableCells(e){return this._cellsEditingDirective.editableCells.filter(n=>!n.disabled&&!n.editingModeDisabled&&Fg(n,e))}_startCellsEditing(){const e=this._cellsSelectionDirective.selectedCells,n=this._getEnabledEditableCells(e);n.length!==0&&this._cellsEditingDirective.startCellsEditing(n,{emitEvent:!0})}_setValueToEditingCells(e){this._setValueToEditableCells(e,this._cellsEditingDirective.editingEditableCells)}_clearValueInSelectedCells(){const e=this._cellsSelectionDirective.selectedCells,n=this._getEnabledEditableCells(e);this._setValueToEditableCells(null,n)}_isCellEditable(e){const n=e.crtControl?.getInvariabilityPropertyName();return!e.crtControl?.getPropertyValue(n)}_setValueToEditableCells(e,n){n.filter(this._isCellEditable).forEach(a=>{this._setValueToCellControl(a,e)})}_setValueToCellControl(e,n){const a=e.control;a&&(a.markAsDirty(),a.setValue(n))}ngOnDestroy(){this._keyboardHotkeysDestroyed$.next(),this._keyboardHotkeysDestroyed$.complete()}static{this.\u0275fac=function(n){return new(n||Ef)(t.\u0275\u0275directiveInject(ps),t.\u0275\u0275directiveInject(jg),t.\u0275\u0275directiveInject(us),t.\u0275\u0275directiveInject(Tl))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Ef,selectors:[["","crtDataTableCellsKeyboardEditing",""]],inputs:{disabled:[t.\u0275\u0275InputFlags.None,"crtDataTableCellsKeyboardEditingDisabled","disabled"]},exportAs:["dataTableCellsKeyboardEditing"]})}}class Tf{constructor(){this._element=(0,t.inject)(t.ElementRef).nativeElement}_scrollToCell(e){const{top:n,bottom:a,left:i,right:s}=this._getScrollableClientRect(),b=e.classList.contains("crt-data-table-cell-vertically-sticky"),D=e.classList.contains("crt-data-table-cell-horizontally-sticky"),{right:W,bottom:ot}=e.getBoundingClientRect();W>s&&!D&&(this._element.scrollLeft+=W-s),ot>a&&!b&&(this._element.scrollTop+=ot-a);const{top:It,left:Pt}=e.getBoundingClientRect();Pt<i&&!D&&(this._element.scrollLeft+=Pt-i),It<n&&!b&&(this._element.scrollTop+=It-n)}_scrollDownIfLastRow(e){e?.matches(":last-child")&&!e.isSameNode(this._lastRowElement)&&(this._element.scrollTop=this._element.scrollHeight,this._lastRowElement=e)}_getScrollableClientRect(){const e=this._element.getBoundingClientRect(),n=this._element.querySelector(".mat-table-sticky-border-elem-top")?.getBoundingClientRect(),a=this._element.querySelector(".mat-table-sticky-border-elem-left")?.getBoundingClientRect(),i=this._element.querySelector(".mat-table-sticky-border-elem-right")?.getBoundingClientRect();return{left:a?.right??e?.left,top:n?.bottom??e?.top,right:i?.left??e?.right,bottom:e?.bottom}}onFocusin(e){const n=e.target,a=n.closest("th, td"),i=n.closest("tr");a&&this._scrollToCell(a),i&&this._scrollDownIfLastRow(i)}static{this.\u0275fac=function(n){return new(n||Tf)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Tf,selectors:[["","crtDataTableCellsFocusing",""]],hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("focusin",function(s){return a.onFocusin(s)})}})}}var z6=o(1872);const U6=new t.InjectionToken("CRT_DATA_TABLE_CELL_JIT_MODULES");class b2{constructor(){this.definition=""}}const JA="bindTo";class uc{static{this._cache=new Map}get _viewHash(){return this.cellViewElementCacheKey||(0,z6.G3)(this.viewElementConfig)}get _isWebComponent(){return!!this._resolver.getSelector(this.viewElementConfig.type)}constructor(e,n,a,i,s,b){this._injector=e,this._resolver=n,this._containerRef=a,this._applicationRef=i,this._changeDetectorRef=s,this._modules=b,this._viewElementTypeResolver=this._injector.get(Qo.i)}_isTwoWayBinding(e){const n=(0,$a.Lu)(e);return(0,_n.EK)(this.viewElementConfig[e])&&(0,$a.bZ)(this.viewElementConfig.type,e)&&(0,$a.MM)(this.viewElementConfig.type,n)&&!(n in this.viewElementConfig)}_createInputDefinition(e,n){const a=new b2;if((0,$a.Yk)(this.viewElementConfig.type,e)&&(0,_n.EK)(this.viewElementConfig[e])){const i=(0,$a.Xb)(e),s=this._injector.get(E5.a);a.initFunction=b=>{const D=s.evaluate(this.viewElementConfig[e],b).pipe((0,h.share)()),W=D.pipe((0,h.pluck)("value"),(0,h.distinctUntilChanged)()),ot=D.pipe((0,h.pluck)("validationInfo"),(0,h.distinctUntilChanged)());n[e]=W,n[i]=ot},a.definition=`[${e}]="context.${e} | crtAsync" `,a.definition+=`[${i}]="context.${i} | crtAsync" `}else a.definition=`[${e}]="config.${e} | crtBinding:'${e}':config" `;return a}_createOutputDefinition(e,n){const a=JSON.stringify(n).replace(/"/g,"'");return`(${e})="ref.processOutputEvent(${a}, $event)" `}_createTwoWayBindingDefinitions(e,n){const a=[],i=new b2;for(const s of e.filter(b=>this._isTwoWayBinding(b))){const b=this._createInputDefinition(s,n),D=(0,$a.Lu)(s),W=this.viewElementConfig[s].slice(1),ot=this._createOutputDefinition(D,{action:"changeAttributeValue",attributePath:W}),It=this._createOutputDefinition("focusout",{action:"markControlAsTouched",attributePath:W});i.definition+=b.definition+ot+It,b.initFunction&&a.push(b.initFunction)}return i.definition=i.definition.trim(),a.length>0&&(i.initFunction=s=>{for(const b of a)b(s)}),i}_createInputDefinitions(e,n){const a=[],i=new b2;for(const s of e.filter(b=>!this._isTwoWayBinding(b)&&!(0,$a.qC)(this.viewElementConfig.type,b))){const b=this._createInputDefinition(s,n);i.definition+=b.definition,b.initFunction&&a.push(b.initFunction)}return i.definition=i.definition.trim(),a.length>0&&(i.initFunction=s=>{for(const b of a)b(s)}),i}_createOutputDefinitions(e){return e.filter(n=>n in this.viewElementConfig).reduce((n,a)=>n+this._createOutputDefinition(a,{action:"processRequest",requests:[this.viewElementConfig[a]]}),"").trim()}_createCellComponent(e,n){const a=this._isWebComponent;return(0,t.Component)({selector:"crt-data-table-"+(0,y.kebabCase)(this.viewElementConfig.type),template:e.template,changeDetection:t.ChangeDetectionStrategy.OnPush,styles:[":host { overflow: hidden; display: flex; width: 100%; }"],imports:[_.CommonModule,Dm,...this._modules,...n],standalone:!0})(class{constructor(){this.context=e.context}ngOnInit(){if(this.config=this.injector.get(nC.s),a){const b=this.injector.get(Em);this.context.isViewAttached=b.viewAttached$.asObservable()}const s=this.injector.get(wm.I);for(const b of e.initFns)b(s)}})}_getViewElementInputProperties(e){const n=this._viewElementTypeResolver.getViewElementRegistryItem(e.type);return[...Object.keys(n.inputs??{}).filter(a=>n.inputs[a].propertyBindable)]}_getBoundPropertiesEntries(e){const n=this._viewElementTypeResolver.getFormControlRelatesAttribute(e.type),i=Object.entries(e).find(([b])=>b===JA);let s=[];if(i){const b=this._getViewElementInputProperties(e),[,D]=i;b.forEach(W=>{if(W!==n){const ot=e[W];if(!ot||typeof ot!="string"||typeof ot=="string"&&!ot.includes("|")){let It=D;It=`${It}:${W}`,ot!=null&&(It+=`=${JSON.stringify(ot)}`),s=s.filter(([Pt])=>Pt!==W),s.push([W,It])}}})}return s}_setComponentPropertiesBinding(e,n){const a=this._getBoundPropertiesEntries(this.viewElementConfig);for(const[i,s]of a)if((0,$a.bZ)(this.viewElementConfig.type,i)){const D=`${this.viewElementConfig.bindTo.slice(1)}:${i}`;n[D]=s,n[`${D}|propertyName`]=i,n[`${D}|viewElementConfig`]=this.viewElementConfig,e.definition+=` [${i}]="context['${D}'] | crtBinding:context['${D}|propertyName']:context['${D}|viewElementConfig']" `}}_createComponentTypeCache(){var e=this;return(0,bt.A)(function*(){const n=e._viewElementTypeResolver.getViewElementRegistryItem(e.viewElementConfig.type);yield n?.lazyModuleRef?.loadAndBootstrap();const a=n?.lazy?[n.lazyModuleRef.typeRef]:[];e._createComponent(a)})()}_getComponentData(){const{selector:e,inputs:n,outputs:a}=this._getComponentMetadata(),i={},s=this._createInputDefinitions(n,i),b=this._createOutputDefinitions(a),D=this._createTwoWayBindingDefinitions(n,i);this._setComponentPropertiesBinding(s,i);const W=b||D.definition?'crtOutputBinding #ref="crtOutputBinding"':"",ot=this._isWebComponent?`*crtIf="(context['isViewAttached'] | crtAsync)" `:"",It=`<${e} ${ot}${W} ${D.definition} ${s.definition} ${b}> </${e}>`,Pt=[];return s.initFunction&&Pt.push(s.initFunction),D.initFunction&&Pt.push(D.initFunction),{template:It,context:i,initFns:Pt}}_getComponentMetadata(){return this._isWebComponent?this._getWebComponentMetadata():this._getAngularComponentMetadata()}_getWebComponentMetadata(){const e=this._resolver.getSelector(this.viewElementConfig.type),n=Object.keys(this._viewElementTypeResolver.getViewElementInputs(this.viewElementConfig.type)),a=Object.keys(this._viewElementTypeResolver.getViewElementOutputs(this.viewElementConfig.type));return{selector:e,inputs:n,outputs:a}}_getAngularComponentMetadata(){const e=this._resolver.getViewElementType(this.viewElementConfig),n=(0,t.reflectComponentType)(e),a=n.selector,i=n.inputs.map(b=>b.templateName),s=n.outputs.map(b=>b.templateName);return{selector:a,inputs:i,outputs:s}}_createComponent(e=[]){const n=this._getComponentData(),a=this._viewHash;uc._cache.set(a,this._createCellComponent(n,e)),this._applicationRef?.onDestroy(()=>{uc._cache.delete(a)})}_renderComponent(){this._containerRef.clear();const e=t.Injector.create({providers:[{provide:nC.s,useValue:this.viewElementConfig}],parent:this._injector}),n=uc._cache.get(this._viewHash),a=this._containerRef.createComponent(n,{index:0,injector:e});a.instance.injector=e}ngOnChanges(e){let n=Promise.resolve();this.viewElementConfig&&!uc._cache.has(this._viewHash)&&(n=this._createComponentTypeCache()),n.then(()=>{this._renderComponent(),this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(n){return new(n||uc)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(Qo.i),t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(t.ApplicationRef),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(U6))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:uc,selectors:[["","crtDataTableCellViewElement",""]],inputs:{viewElementConfig:[t.\u0275\u0275InputFlags.None,"crtDataTableCellViewElement","viewElementConfig"],cellViewElementCacheKey:"cellViewElementCacheKey"},features:[t.\u0275\u0275ProvidersFeature([...wy.v]),t.\u0275\u0275NgOnChangesFeature]})}}const XA=["dataTableContainer"],qA=["dataTableRowsSelection"],H6=r=>({$implicit:r}),SC=r=>[r],W6=r=>({dataType:r}),tL=()=>({height:"12px"});function eL(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function nL(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,45),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(10);t.\u0275\u0275property("ngTemplateOutlet",n)}}function aL(r,e){if(r&1&&t.\u0275\u0275element(0,"col"),r&2){const n=e.$implicit;t.\u0275\u0275styleProp("width",n.width,"px")}}function iL(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,45),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(10);t.\u0275\u0275property("ngTemplateOutlet",n)}}function rL(r,e){if(r&1&&t.\u0275\u0275element(0,"col"),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275styleProp("width",n.header==null||n.header.toolbar==null?null:n.header.toolbar.width,"px")}}function oL(r,e){if(r&1&&t.\u0275\u0275element(0,"col",46),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("crt-toolbar-cell-editing",n.editingFeatures.enable)("crt-toolbar-cell-custom",n.rowToolbarDirective)("crt-toolbar-cell-numeration",n.rowsFeatures.numeration)("crt-toolbar-cell-row-selection",n.rowsSelectionFeatures.multiple)}}function sL(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",50),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3),s=t.\u0275\u0275reference(2);return t.\u0275\u0275resetView(!i.multiSelectionDisabled&&s.toggleAllRowsSelection())}),t.\u0275\u0275elementStart(1,"crt-checkbox",51),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275listener("click",function(i){return t.\u0275\u0275restoreView(n),t.\u0275\u0275resetView(i.stopPropagation())})("valueChange",function(){t.\u0275\u0275restoreView(n),t.\u0275\u0275nextContext(3);const i=t.\u0275\u0275reference(2);return t.\u0275\u0275resetView(i.toggleAllRowsSelection())}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext(3),a=t.\u0275\u0275reference(2);t.\u0275\u0275advance(),t.\u0275\u0275property("value",!a.isNothingSelected)("disabled",n.multiSelectionDisabled)("indeterminate",a.isIndeterminateSelected)("title",t.\u0275\u0275pipeBind1(2,7,a.isNothingSelected?"DataTable.RowsSelection.SelectAll":"DataTable.RowsSelection.ClearSelection"))("ariaLabel",t.\u0275\u0275pipeBind1(3,9,a.isNothingSelected?"DataTable.RowsSelection.SelectAll":"DataTable.RowsSelection.ClearSelection"))("crtKeyboardNavigationItem","rowActionsNavigationItem")("crtKeyboardNavigationItemUseFocusableChild",!0)}}function cL(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"th",47)(1,"span",48),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,sL,4,11,"div",49),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("crt-toolbar-cell-editing",n.editingFeatures.enable)("crt-toolbar-cell-custom",n.rowToolbarDirective)("crt-toolbar-cell-numeration",n.rowsFeatures.numeration)("crt-toolbar-cell-row-selection",n.rowsSelectionFeatures.multiple)("crt-toolbar-cell-all-rows-selection",n.rowsSelectionFeatures.selectAll)("crt-data-table-cell-vertically-sticky",n.header==null?null:n.header.sticky),t.\u0275\u0275attribute("aria-labelledby",n.rowToolbarColumnAriaLabelId),t.\u0275\u0275advance(),t.\u0275\u0275property("id",n.rowToolbarColumnAriaLabelId),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,16,"DataTable.Hints.RowControls")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.rowsSelectionFeatures.selectAll)}}function lL(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function dL(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,lL,1,0,"ng-container",56),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementContainerEnd()),r&2){t.\u0275\u0275nextContext(2);const n=t.\u0275\u0275reference(1),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a.rowToolbarDirective.templateRef)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(4,H6,t.\u0275\u0275pipeBind1(2,2,n.context$)))}}function pL(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-data-table-row-changes-status-bar",57),t.\u0275\u0275listener("cancelChanges",function(){t.\u0275\u0275restoreView(n),t.\u0275\u0275nextContext(2);const i=t.\u0275\u0275reference(1),s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onCancelItemChanges(i.rowId$))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){t.\u0275\u0275nextContext(2);const n=t.\u0275\u0275reference(2);t.\u0275\u0275advance(),t.\u0275\u0275property("crtKeyboardNavigationItem","rowActionsNavigationItem")("crtKeyboardNavigationItemUseFocusableChild",!0)("errors",n.errors)}}function uL(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",60),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2).ngIf;t.\u0275\u0275nextContext(3);const s=t.\u0275\u0275reference(2);return t.\u0275\u0275resetView(s.toggleRowSelection(i))})("dblclick",function(i){return t.\u0275\u0275restoreView(n),t.\u0275\u0275resetView(i.stopPropagation())}),t.\u0275\u0275elementStart(1,"crt-checkbox",61),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("valueChange",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2).ngIf;t.\u0275\u0275nextContext(3);const s=t.\u0275\u0275reference(2);return t.\u0275\u0275resetView(s.toggleRowSelection(i))})("click",function(i){return t.\u0275\u0275restoreView(n),t.\u0275\u0275resetView(i.stopPropagation())}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext(2).ngIf;t.\u0275\u0275nextContext(3);const a=t.\u0275\u0275reference(2);t.\u0275\u0275advance(),t.\u0275\u0275property("value",a.isSelectedRow(n))("ariaLabel",t.\u0275\u0275pipeBind1(2,4,"DataTable.RowsSelection.SelectRow"))("crtKeyboardNavigationItem","rowActionsNavigationItem")("crtKeyboardNavigationItemUseFocusableChild",!0)}}function mL(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",62),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(3).dataIndex;t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n+1," ")}}function gL(r,e){if(r&1&&t.\u0275\u0275template(0,uL,3,6,"div",58)(1,mL,2,1,"div",59),r&2){const n=t.\u0275\u0275nextContext().ngIf,a=t.\u0275\u0275nextContext().dataIndex,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",i.rowsSelectionFeatures.multiple&&(!i.rowsFeatures.numeration||i.isRowActionsDisplayed(a,n))),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.rowsFeatures.numeration)}}function hL(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,dL,3,6,"ng-container",17)(2,pL,2,3,"ng-container",55)(3,gL,2,2,"ng-template",null,5,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.ngIf,a=t.\u0275\u0275reference(4),i=t.\u0275\u0275nextContext().dataIndex,s=t.\u0275\u0275reference(2),b=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",b.rowToolbarDirective&&b.isRowActionsDisplayed(i,n)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",b.editingFeatures.enable&&((s==null?null:s.unsaved)||(s==null?null:s.touched)&&(s==null?null:s.invalid)))("ngIfElse",a)}}function _L(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",66),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext().ngIf;t.\u0275\u0275nextContext(4);const s=t.\u0275\u0275reference(2);return t.\u0275\u0275resetView(s.toggleRowSelection(i))})("dblclick",function(i){return t.\u0275\u0275restoreView(n),t.\u0275\u0275resetView(i.stopPropagation())}),t.\u0275\u0275elementEnd()}}function fL(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,_L,1,0,"div",65),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.rowsSelectionFeatures.multiple)}}function bL(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",63)(1,"crt-button",64),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275listener("mouseenter",function(){t.\u0275\u0275restoreView(n),t.\u0275\u0275nextContext();const i=t.\u0275\u0275reference(1),s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.underlinedRowId$=i.rowId$)})("mouseleave",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.underlinedRowId$=null)})("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext().dataIndex,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onCreateItem(i+1))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,fL,2,1,"ng-container",17),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275elementEnd()}if(r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(1);t.\u0275\u0275advance(),t.\u0275\u0275property("ariaLabel",t.\u0275\u0275pipeBind1(2,3,"DataTable.Hints.AddItem"))("title",t.\u0275\u0275pipeBind1(3,5,"DataTable.Hints.AddItem")+" (Shift + Enter)"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(5,7,n.rowId$))}}function CL(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"td",52,4)(3,"div",53),t.\u0275\u0275template(4,hL,5,3,"ng-container",17),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,bL,6,9,"div",54),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit,a=e.dataIndex,i=t.\u0275\u0275reference(1),s=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("crt-toolbar-cell-editing",s.editingFeatures.enable)("crt-toolbar-cell-custom",s.rowToolbarDirective)("crt-toolbar-cell-numeration",s.rowsFeatures.numeration)("crt-toolbar-cell-row-selection",s.rowsSelectionFeatures.multiple),t.\u0275\u0275property("crtDataTableRowContext",n)("primaryColumnName",s.primaryColumnName)("crtDataTableEditableRowData",n)("crtDataTableEditableRowColumns",s.displayedColumns)("crtDataTableEditableRowDisabled",!s.editingFeatures.enable),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(5,15,i.rowId$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",s.editingFeatures.itemsCreation&&a+1<s.itemsCount)}}function yL(r,e){if(r&1&&(t.\u0275\u0275element(0,"mat-icon",80),t.\u0275\u0275pipe(1,"translate")),r&2){const n=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("crt-data-table-sort-indicator-active",a.getColumnSorting(n.code)),t.\u0275\u0275property("svgIcon",a.getColumnSorting(n.code)?"arrow":"arrows-vertical")("title",t.\u0275\u0275pipeBind1(1,5,a.getColumnSortDirection(n.code)==="ascending"?"DataTable.Hints.SortDescending":"DataTable.Hints.SortAscending")),t.\u0275\u0275attribute("aria-sort",a.getColumnSortDirection(n.code))}}function vL(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function ML(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,vL,1,0,"ng-container",56),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(4).$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a.columnToolbarTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(2,H6,a.getColumnDefinition(n.id)))}}function IL(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",81),t.\u0275\u0275template(1,ML,2,4,"ng-container",17),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(3),a=n.$implicit,i=n.index,s=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",s.isColumnActionsDisplayed(i,a.id))}}function xL(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",82),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"stringFormat"),t.\u0275\u0275listener("crtDataTableColumnKeyboardResizeColumnResizing",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(3).$implicit,b=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(b.onColumnResizing(i,s))})("crtDataTableColumnKeyboardResizeColumnResizeEnd",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onColumnResizeEnd(i))}),t.\u0275\u0275element(4,"div",83),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("resizeEdges",a.columnResizeEdges)("title",t.\u0275\u0275pipeBind1(1,7,"DataTable.Columns.ChangeWidth"))("crtDataTableColumnKeyboardResizeColumnWidth",n.width),t.\u0275\u0275attribute("role","slider")("aria-valuenow",n.width)("aria-valuemax",a.maxColumnWidthLabel)("aria-label",t.\u0275\u0275pipeBind2(3,11,t.\u0275\u0275pipeBind1(2,9,"DataTable.Columns.ChangeWidthOf"),t.\u0275\u0275pureFunction1(14,SC,n.caption)))}}function SL(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"th",71),t.\u0275\u0275listener("focusin",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2),s=i.$implicit,b=i.index,D=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(D.setActiveColumn(s.id,b))})("focusout",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(i.setActiveColumn(null))})("mouseover",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.hoveredColumnId=i.id)})("mouseleave",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(i.hoveredColumnId=null)})("resizing",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2).$implicit,b=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(b.onColumnResizing(i,s))})("resizeEnd",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onColumnResizeEnd(i))})("mousedown",function(i){return t.\u0275\u0275restoreView(n),t.\u0275\u0275resetView(i.stopPropagation())})("cdkDragStarted",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.sticky.active&&s.resetHorizontalScrollPosition())}),t.\u0275\u0275elementStart(1,"div",72)(2,"span",73),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onColumnSortChanged(i.code))}),t.\u0275\u0275elementStart(3,"button",74)(4,"span",75),t.\u0275\u0275text(5),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,yL,2,7,"mat-icon",76),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(7,IL,2,1,"div",77),t.\u0275\u0275elementStart(8,"div",78),t.\u0275\u0275template(9,xL,5,16,"div",79),t.\u0275\u0275elementEnd()()()}if(r&2){const n=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(2),i=t.\u0275\u0275reference(1);t.\u0275\u0275styleProp("width",n.width,"px"),t.\u0275\u0275classProp("crt-data-table-cell-vertically-sticky",a.header==null?null:a.header.sticky)("crt-data-table-cell-horizontally-sticky",n.sticky.active)("crt-data-table-cell-horizontally-sticky-last",a.lastStickyColumnId===n.id),t.\u0275\u0275property("ngClass","cdk-column-"+n.code)("crtKeyboardNavigationItem",n.id)("crtKeyboardFocusContainerRole","columnheader")("crtKeyboardFocusContainerDisableInert",!0)("resizeCursors",a.columnResizeCursors)("cdkDragData",n)("cdkDragPreviewContainer",i)("cdkDragDisabled",!a.columnsFeatures.dragAndDrop)("cdkDragBoundary",a.headerRowElementRef),t.\u0275\u0275attribute("aria-label",n.caption)("data-item-marker",n.caption+" column"),t.\u0275\u0275advance(),t.\u0275\u0275classProp("crt-header-cell-active",n.id===a.activeColumnId),t.\u0275\u0275advance(2),t.\u0275\u0275styleProp("cursor",a.isSortableColumn(n)?"pointer":"inherit"),t.\u0275\u0275property("tabindex",a.isSortableColumn(n)?0:-1),t.\u0275\u0275attribute("aria-label",a.getColumnSortAriaLabel(n))("aria-description",a.getColumnSortAriaDescription(n)),t.\u0275\u0275advance(),t.\u0275\u0275property("title",n.caption),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.caption," "),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isSortableColumn(n)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.columnToolbarTemplate),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.columnsFeatures.resizing)}}function wL(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",91),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3).$implicit,s=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(s.onNodeExpandClick(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(3).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275property("svgIcon",a.getTreeIcon(n))}}function EL(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",89),t.\u0275\u0275template(1,wL,1,1,"mat-icon",90),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2).$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275styleProp("min-width",a.getNodePrefixWidth(n),"px"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.hasNodeChildren(n))}}function TL(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,96),r&2){const n=t.\u0275\u0275nextContext(7).$implicit;t.\u0275\u0275property("crtDataTableCellViewElement",n==null?null:n.editingCellView)("cellViewElementCacheKey","editing_"+(n==null?null:n.code)+n.id)}}function PL(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,97),r&2){const n=t.\u0275\u0275nextContext(7).$implicit;t.\u0275\u0275property("crtViewElement",n==null?null:n.editingCellView)}}function OL(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0,94),t.\u0275\u0275template(1,TL,1,2,"ng-container",95),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,PL,1,1,"ng-template",null,10,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(4),a=t.\u0275\u0275nextContext(4).$implicit,i=t.\u0275\u0275nextContext(4);t.\u0275\u0275property("crtViewModel",a),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(2,3,i.useCompiledCellView$))("ngIfElse",n)}}function DL(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",99),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("title",n),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,n)," ")}}function AL(r,e){if(r&1&&t.\u0275\u0275template(0,DL,3,4,"div",98),r&2){const n=t.\u0275\u0275nextContext(4).$implicit,a=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("crtDataTableCellViewData",n)("crtDataTableCellViewColumn",a)}}function LL(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,OL,5,5,"ng-container",92)(2,AL,1,2,"ng-template",93,9,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(5).$implicit,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.isBaseViewModelCollection&&(a==null?null:a.editingCellView))("ngIfElse",n)}}function kL(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,96),r&2){const n=t.\u0275\u0275nextContext(8).$implicit;t.\u0275\u0275property("crtDataTableCellViewElement",n==null?null:n.cellView)("cellViewElementCacheKey","view_"+(n==null?null:n.code)+n.id)}}function RL(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,97),r&2){const n=t.\u0275\u0275nextContext(8).$implicit;t.\u0275\u0275property("crtViewElement",n==null?null:n.cellView)}}function NL(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,kL,1,2,"ng-container",95),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275template(3,RL,1,1,"ng-template",null,10,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(4),a=t.\u0275\u0275nextContext(9);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",t.\u0275\u0275pipeBind1(2,2,a.useCompiledCellView$))("ngIfElse",n)}}function VL(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",100),t.\u0275\u0275pipe(1,"valueFormat"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"valueFormat"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(5).$implicit,a=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("title",t.\u0275\u0275pipeBind2(1,2,n.attributes[a.code],t.\u0275\u0275pureFunction1(8,W6,a.dataValueType))),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,5,n.attributes[a.code],t.\u0275\u0275pureFunction1(10,W6,a.dataValueType))," ")}}function FL(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0,94),t.\u0275\u0275template(1,NL,5,4,"ng-container",55)(2,VL,4,12,"ng-template",null,11,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(4).$implicit,i=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("crtViewModel",a),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",i.cellView)("ngIfElse",n)}}function jL(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",99),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("title",n),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,n)," ")}}function BL(r,e){if(r&1&&t.\u0275\u0275template(0,jL,3,4,"div",98),r&2){const n=t.\u0275\u0275nextContext(4).$implicit,a=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("crtDataTableCellViewData",n)("crtDataTableCellViewColumn",a)}}function zL(r,e){if(r&1&&t.\u0275\u0275template(0,FL,4,3,"ng-container",92)(1,BL,1,2,"ng-template",93,9,t.\u0275\u0275templateRefExtractor),r&2){const n=t.\u0275\u0275reference(2),a=t.\u0275\u0275nextContext(7);t.\u0275\u0275property("ngIf",a.isBaseViewModelCollection)("ngIfElse",n)}}function UL(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,LL,4,2,"ng-container",55)(2,zL,3,2,"ng-template",null,8,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(3);t.\u0275\u0275nextContext(2);const a=t.\u0275\u0275reference(1);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a==null?null:a.editing)("ngIfElse",n)}}function HL(r,e){r&1&&(t.\u0275\u0275elementStart(0,"span",102),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"DataTable.NotFoundColumn")," "))}function WL(r,e){if(r&1&&t.\u0275\u0275template(0,HL,3,3,"span",101),r&2){const n=t.\u0275\u0275nextContext(6);t.\u0275\u0275property("ngIf",!n.loading)}}function GL(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"mat-icon",106),t.\u0275\u0275elementContainerEnd()),r&2){t.\u0275\u0275nextContext(4);const n=t.\u0275\u0275reference(1);t.\u0275\u0275advance(),t.\u0275\u0275property("crtTooltip",n==null?null:n.errors)}}function $L(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"button",104),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275listener("mousedown",function(i){return t.\u0275\u0275restoreView(n),t.\u0275\u0275resetView(i.preventDefault())})("click",function(){t.\u0275\u0275restoreView(n),t.\u0275\u0275nextContext(3);const i=t.\u0275\u0275reference(1),s=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(s.editCell(i))}),t.\u0275\u0275element(4,"mat-icon",105),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,GL,2,1,"ng-container",17),t.\u0275\u0275elementContainerEnd()}if(r&2){t.\u0275\u0275nextContext(3);const n=t.\u0275\u0275reference(1),a=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(2,4,"DataTable.Hints."+(a.readonly?"ReadonlyCell":"StartEditing"))),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(3,6,"DataTable.Hints."+(a.readonly?"ReadonlyCell":"StartEditing"))),t.\u0275\u0275advance(3),t.\u0275\u0275property("svgIcon",a.readonly?"lock":"pen"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",((n==null?null:n.dirty)||(n==null?null:n.touched))&&(n==null||n.errors==null?null:n.errors.length))}}function KL(r,e){r&1&&t.\u0275\u0275element(0,"mat-icon",108)}function ZL(r,e){if(r&1&&t.\u0275\u0275template(0,KL,1,0,"mat-icon",107),r&2){t.\u0275\u0275nextContext(3);const n=t.\u0275\u0275reference(1),a=t.\u0275\u0275nextContext(2).$implicit;t.\u0275\u0275property("ngIf",(n==null?null:n.dirty)&&!a.readonly&&!(a!=null&&a.editingCellView))}}function QL(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",103),t.\u0275\u0275template(1,$L,6,8,"ng-container",55)(2,ZL,1,1,"ng-template",null,12,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext(4).$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a==null?null:a.editingCellView)("ngIfElse",n)}}function YL(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",86),t.\u0275\u0275template(1,EL,2,3,"div",87)(2,UL,4,2,"ng-container",55)(3,WL,1,1,"ng-template",null,7,t.\u0275\u0275templateRefExtractor)(5,QL,4,2,"div",88),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275reference(4),a=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275reference(1),s=t.\u0275\u0275reference(2),b=t.\u0275\u0275nextContext(2),D=b.$implicit,W=b.index,ot=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",ot.rowsFeatures.hierarchical&&W===0),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.hasOwnProperty(D.code)||D.columnType==="tools")("ngIfElse",n),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(s.selected||i.dirty||i.touched)&&ot.editingFeatures.enable&&!(i!=null&&i.editing)&&D.columnType!=="tools")}}function JL(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"td",84,6),t.\u0275\u0275template(3,YL,6,4,"div",85),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit,a=e.dataIndex,i=t.\u0275\u0275reference(1),s=t.\u0275\u0275reference(2),b=t.\u0275\u0275nextContext(2),D=b.$implicit,W=b.index,ot=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("crt-data-table-cell-horizontally-sticky",D.sticky.active),t.\u0275\u0275property("crtKeyboardNavigationItem",D.id)("crtDataTableCellData",n)("crtDataTableCellColumn",D)("crtDataTableCellRowIndex",a)("crtDataTableCellColumnIndex",W)("crtDataTableSelectableCellDisabled",i==null?null:i.editing)("crtDataTableEditableCellDisabled",(D==null?null:D.contentHidden)||!ot.editingFeatures.enable||(D==null?null:D.readonly)||D.columnType==="tools")("crtDataTableEditableCellEditingModeDisabled",(D==null?null:D.contentHidden)||!(D!=null&&D.editingCellView)),t.\u0275\u0275attribute("tabindex",s.selected?-1:0),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",(D==null?null:D.contentHidden)!==!0)}}function XL(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0,68),t.\u0275\u0275template(1,SL,10,31,"th",69)(2,JL,4,12,"td",70),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("sticky",n.sticky.active)("matColumnDef",n.id)}}function qL(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,XL,3,2,"ng-container",67),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n)}}function tk(r,e){if(r&1&&t.\u0275\u0275element(0,"th",109),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275styleProp("width","auto"),t.\u0275\u0275classProp("crt-data-table-cell-vertically-sticky",n.header==null?null:n.header.sticky)}}function ek(r,e){r&1&&t.\u0275\u0275element(0,"td",110),r&2&&t.\u0275\u0275styleProp("width","auto")}function nk(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function ak(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"th",111),t.\u0275\u0275template(1,nk,1,0,"ng-container",16),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275styleProp("width",n.header==null||n.header.toolbar==null?null:n.header.toolbar.width,"px"),t.\u0275\u0275classProp("crt-data-table-cell-vertically-sticky",n.header==null?null:n.header.sticky),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",n.headerToolbarDirective.templateRef)}}function ik(r,e){if(r&1&&t.\u0275\u0275element(0,"td",112),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275styleProp("width",n.header==null||n.header.toolbar==null?null:n.header.toolbar.width,"px")}}function rk(r,e){if(r&1&&t.\u0275\u0275element(0,"div",115),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275classProp("crt-data-table-progress-bar-top-spot",!n.headerFeatures.visible)}}function ok(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"td",113),t.\u0275\u0275template(1,rk,1,2,"div",114),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext();t.\u0275\u0275attribute("colspan",n.children.length),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loaderVisible)}}function sk(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",117),t.\u0275\u0275element(2,"div",46),t.\u0275\u0275elementStart(3,"div",118)(4,"crt-button",119),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.onCreateItem())}),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(2),t.\u0275\u0275classProp("crt-toolbar-cell-editing",n.editingFeatures.enable)("crt-toolbar-cell-custom",n.rowToolbarDirective)("crt-toolbar-cell-numeration",n.rowsFeatures.numeration)("crt-toolbar-cell-row-selection",n.rowsSelectionFeatures.multiple),t.\u0275\u0275advance(2),t.\u0275\u0275property("ariaLabel",t.\u0275\u0275pipeBind1(5,11,"DataTable.Hints.AddItem"))("title",t.\u0275\u0275pipeBind1(6,13,"DataTable.Hints.AddItem")+" (Shift + Enter)"),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(8,15,"DataTable.AddItem")," ")}}function ck(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"td",116),t.\u0275\u0275template(1,sk,9,17,"ng-container",17),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.displayCreateItemsFooterRow)}}function lk(r,e){if(r&1&&t.\u0275\u0275element(0,"td",116),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275attribute("colspan",n.displayedColumnIds.length-2)}}function dk(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"td",120),t.\u0275\u0275element(1,"crt-skeleton-loader",121),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275attribute("colspan",n.displayedColumnIds.length-1),t.\u0275\u0275advance(),t.\u0275\u0275property("styles",t.\u0275\u0275pureFunction0(2,tL))}}function pk(r,e){if(r&1&&t.\u0275\u0275element(0,"tr",122),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("crt-data-table-hidden-row",!n.headerFeatures.visible),t.\u0275\u0275attribute("aria-hidden",!n.hasColumns&&!n.headerToolbarDirective)}}function uk(r,e){if(r&1&&t.\u0275\u0275element(0,"tr",124),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275classProp("crt-data-table-loading-row-no-data",!n.itemsCount&&!n.displayCreateItemsFooterRow&&!n.displayNoDataPlaceholder),t.\u0275\u0275attribute("aria-hidden",!0)}}function mk(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,uk,1,3,"tr",123),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("matHeaderRowDef",n.headerLoaderDisplayedColumnIds)("matHeaderRowDefSticky",!0)}}function gk(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"tr",125,13),t.\u0275\u0275pipe(2,"async"),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275listener("crtDataTableRowDoubleClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.rowDoubleClick.emit(i))})("mouseover",function(){const i=t.\u0275\u0275restoreView(n).dataIndex,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.hoveredRowIndex=i)}),t.\u0275\u0275elementEnd()}if(r&2){const n=e.$implicit,a=t.\u0275\u0275reference(1),i=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("crt-data-table-row-underlined",t.\u0275\u0275pipeBind1(2,5,i.underlinedRowId$)===t.\u0275\u0275pipeBind1(3,7,a==null?null:a.rowId$)),t.\u0275\u0275property("crtDataTableRowContext",n)("primaryColumnName",i.primaryColumnName)("crtDataTableRowDisableTextSelectionOnDoubleClick",i.cellsFeatures.disableTextSelectionOnDoubleClick)}}function hk(r,e){if(r&1&&t.\u0275\u0275element(0,"tr",126),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("crtDataTableRowContext",n)("primaryColumnName",a.primaryColumnName)}}function _k(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"tr",127),t.\u0275\u0275element(1,"td",128),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("crt-data-table-hidden-row",!n.displayNoDataPlaceholder&&!n.displayNoColumnsPlaceholder),t.\u0275\u0275advance(),t.\u0275\u0275attribute("colspan",n.displayedColumnIds.length)}}function fk(r,e){if(r&1&&t.\u0275\u0275element(0,"tr",130),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275attribute("aria-hidden",!n.displayCreateItemsFooterRow)}}function bk(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,fk,1,1,"tr",129),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("matFooterRowDef",n.footerCreateItemDisplayedColumnIds)}}function Ck(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",131),t.\u0275\u0275listener("crtObserveElementInViewportStateChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onLastTableRowInViewportStateChange(i))}),t.\u0275\u0275elementEnd()}}function yk(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"table",21),t.\u0275\u0275listener("cdkDropListDropped",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onColumnDropped(i))})("cdkDropListSorted",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onColumnDragSorted(i))})("resized",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onTableResized(i))}),t.\u0275\u0275elementStart(2,"colgroup",null,2),t.\u0275\u0275template(4,nL,1,1,"ng-container",22)(5,aL,1,2,"col",23),t.\u0275\u0275element(6,"col"),t.\u0275\u0275template(7,iL,1,1,"ng-container",22)(8,rL,1,2,"col",24)(9,oL,1,8,"ng-template",null,3,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerStart(11,25),t.\u0275\u0275template(12,cL,5,18,"th",26)(13,CL,7,17,"td",27),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(14,qL,2,1,"ng-container",28),t.\u0275\u0275elementContainerStart(15,29),t.\u0275\u0275template(16,tk,1,4,"th",30)(17,ek,1,2,"td",31),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(18,32),t.\u0275\u0275template(19,ak,2,5,"th",33)(20,ik,1,2,"td",34),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(21,29),t.\u0275\u0275template(22,ok,2,2,"td",35),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(23,36),t.\u0275\u0275template(24,ck,2,1,"td",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(25,29),t.\u0275\u0275template(26,lk,1,1,"td",37),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(27,29),t.\u0275\u0275template(28,dk,2,3,"td",38),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(29,pk,1,3,"tr",39)(30,mk,2,2,"ng-container",17)(31,gk,4,9,"tr",40)(32,hk,1,2,"tr",41)(33,_k,2,3,"tr",42)(34,bk,2,1,"div",17),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(35,"div",43),t.\u0275\u0275template(36,Ck,1,0,"div",44),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("dataSource",n.matTableItems)("dir",n.documentDirection)("cdkDropListSortPredicate",n.getColumnDropSortPredicate())("crtResizableDisabled",!(n.editingFeatures.enable||n.rowsSelectionFeatures.multiple)),t.\u0275\u0275attribute("aria-label",n.ariaLabel),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.hasRowToolbarColumn&&(n.rowToolbarDirective==null?null:n.rowToolbarDirective.position)!=="after"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.displayedColumns),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("width","auto"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.hasRowToolbarColumn&&(n.rowToolbarDirective==null?null:n.rowToolbarDirective.position)==="after"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.headerFeatures==null?null:n.headerFeatures.visible),t.\u0275\u0275advance(3),t.\u0275\u0275property("matColumnDef",n.rowToolbarColumnId)("sticky",!n.rowToolbarDirective||n.rowToolbarDirective.position==="before")("stickyEnd",(n.rowToolbarDirective==null?null:n.rowToolbarDirective.position)==="after"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",n.displayedColumns)("ngForTrackBy",n.trackByIndex),t.\u0275\u0275advance(),t.\u0275\u0275property("matColumnDef",n.autoResizedColumnId),t.\u0275\u0275advance(3),t.\u0275\u0275property("matColumnDef",n.headerToolbarColumnId),t.\u0275\u0275advance(3),t.\u0275\u0275property("matColumnDef",n.headerLoaderColumnId),t.\u0275\u0275advance(2),t.\u0275\u0275property("matColumnDef",n.footerCreateItemColumnId)("sticky",!0),t.\u0275\u0275advance(2),t.\u0275\u0275property("matColumnDef",n.footerAutoResizedColumnId),t.\u0275\u0275advance(2),t.\u0275\u0275property("matColumnDef",n.rowSkeletonColumnId),t.\u0275\u0275advance(2),t.\u0275\u0275property("matHeaderRowDef",n.displayedColumnIds)("matHeaderRowDefSticky",n.header==null?null:n.header.sticky),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.rowsFeatures.hierarchical),t.\u0275\u0275advance(),t.\u0275\u0275property("matRowDefColumns",n.displayedColumnIds)("matRowDefWhen",n.isRowVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("matRowDefColumns",n.rowSkeletonDisplayedColumnIds)("matRowDefWhen",n.isRowSkeletonVisible),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.rowsFeatures.hierarchical),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.itemsCount)}}function vk(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function Mk(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",132),t.\u0275\u0275template(1,vk,1,0,"ng-container",16),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("crt-data-table-no-data-placeholder-top-spot",!n.headerFeatures.visible),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",n.placeholderTemplate)}}function Ik(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",135),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("crt-data-table-no-data-container-top-spot",!n.headerFeatures.visible),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"DataTable.NoData")," ")}}function xk(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",136),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("crt-data-table-no-columns-container-top-spot",!n.headerFeatures.visible),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,"DataTable.NoColumns")," ")}}function Sk(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Ik,3,5,"div",133)(2,xk,3,5,"div",134),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.displayNoDataPlaceholder),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.displayNoColumnsPlaceholder)}}function wk(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-data-table-status-bar",140),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"stringFormat"),t.\u0275\u0275listener("save",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onSaveItemsChanges())})("cancel",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onCancelItemsChanges())}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind2(2,3,t.\u0275\u0275pipeBind1(1,1,"DataTable.StatusBar.AriaLabel"),t.\u0275\u0275pureFunction1(6,SC,n.ariaLabel)))}}function Ek(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-bulk-actions",141),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"stringFormat"),t.\u0275\u0275listener("closed",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.resetSelectionState({emitEvent:!0}))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("selectedItemsCount",n.selectedItemsCount)("parentWidth",n.tableContainerSize==null?null:n.tableContainerSize.width)("items",n.bulkActions),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind2(2,6,t.\u0275\u0275pipeBind1(1,4,"DataTable.BulkActions.AriaLabel"),t.\u0275\u0275pureFunction1(9,SC,n.ariaLabel)))}}function Tk(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",137),t.\u0275\u0275template(1,wk,3,8,"crt-data-table-status-bar",138)(2,Ek,3,11,"crt-bulk-actions",139),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("height",n.statusBarHeight,"px")("bottom",n.statusBarBottomIndentLength,"px"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isEditingStatusBarShown),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isBulkActionsAvailable)}}function Pk(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"stringFormat"),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,3,t.\u0275\u0275pipeBind1(2,1,"DataTable.RowsSelection.RowsSelected"),t.\u0275\u0275pureFunction1(6,SC,n.selectedItemsCount.toString()))," ")}}class Bg extends ue.K{get tableContainerSize(){return this._tableContainerSize}get tableContainerResizableDisabled(){return this.isVerticalVirtualScrollDisabled&&!this.hasStickyColumns&&!this.editingFeatures.enable&&!this.rowsSelectionFeatures.multiple}get selectedItemsCount(){return Math.max(this.dataTableRowsSelection?.selectedItemsCount??0,0)}get isBulkActionsAvailable(){return this.rowsSelectionFeatures.multiple&&this.selectedItemsCount&&this.bulkActions?.length&&!this.itemsChanged}get isEditingEnabledAndItemsChanged(){return this.itemsChanged&&this.editingFeatures.enable}get isEditingStatusBarShown(){return this.isEditingEnabledAndItemsChanged&&this.editingFeatures.floatingEditPanel}get itemsChanged(){return this.isBaseViewModelCollection&&this._items.isChanged}get matTableItems(){return this._matTableItems}get itemsCount(){return this._items?.length??0}get displayCreateItemsFooterRow(){const e=this.itemsCount===0&&this.loading;return this.editingFeatures.itemsCreation&&this.hasColumns&&!e}get displayNoDataPlaceholder(){return this.itemsCount||this.loading?!1:!this.editingFeatures.itemsCreation||!this.hasColumns}get displayNoColumnsPlaceholder(){return this.itemsCount&&!this.hasColumns}get multiSelectionDisabled(){return!this.hasColumns||this.itemsCount===0&&!this.dataTableRowsSelection?.isIndeterminateSelected}set items(e){this._setItemsCache(e),this.isBaseViewModelCollection=e instanceof Ni.A,this.hasColumns&&this._updateMatTableItems()}set columns(e){const n=Array.isArray(e)?e.filter(a=>a).sort(m2):[];this.hasColumns=n.length>0,this.hasColumns?this._updateMatTableItems():this._setMatTableItems(),this.hasStickyColumns=n.some(a=>a.sticky),this._columnsMap=this._columnDefinitionConverter.toColumnsDefinitionMap(n),this._setDisplayedColumns(),this._actualizeDisplayedColumnIds(),this._setFeatures(),this._measurePerformanceService.measure("_checkColumnsStickinessActivity",()=>{this._checkColumnsStickinessActivity()}),this._updateColumnsContentVisibility()}set activeColumnId(e){this._externalActiveColumnId=e}get activeColumnId(){return this._innerActiveColumnId||this._externalActiveColumnId||null}set features(e){this._features=e,this._setFeatures()}get features(){return this._features}set sorting(e){this._sortingConfigs=e?.map(({columnCode:n,direction:a})=>({columnCode:n,direction:EA(a)?a:"none"}))}set editingCells(e){this._editingCells=e??[],this.onEditingCellsChanged(this._editingCells)}get editingCells(){return this._editingCells}set selectedRows(e){e&&console.warn("Warning: The `selectedRows` input of the list component (crt.DataGrid) is deprecated. It will be removed in version 8.2.3. Use `selectionState` input instead."),this.selectionState={type:"specific",selected:e}}set primaryColumnName(e){this._primaryColumnName=e||this._defaultPrimaryColumnName}get primaryColumnName(){return this._primaryColumnName}get hasRowToolbarColumn(){return!!this.rowToolbarDirective||this.rowsFeatures.numeration||this.rowsSelectionFeatures.multiple||this.editingFeatures.enable}set matTable(e){const n=this._matTable===void 0;this._matTable=e,n&&(this.hasStickyColumns||this._hasStickyToolbars)&&this._matTable?.updateStickyColumnStyles()}set rowToolbarDirective(e){this._rowToolbarDirective=e,this._actualizeDisplayedColumnIds()}get rowToolbarDirective(){return this._rowToolbarDirective}constructor(e,n,a,i,s,b,D,W,ot,It){super(e),this._columnDefinitionConverter=n,this._columnsPositionChangeService=a,this._horizontalResizingService=i,this._measurePerformanceService=s,this._translateService=b,this._zone=D,this._stickyColumnsWidthRationFactory=W,this.keyboardHotkeys$=ot,this.useCompiledCellView$=It,this._defaultPrimaryColumnName="Id",this._directionSwitchMap={asc:"desc",desc:"asc",none:"asc"},this._gutterWidth=24,this._gutterPaddingLeft=8,this._hiddenColumns=[],this._primaryColumnName=this._defaultPrimaryColumnName,this._canLoadNextItems=!1,this._matTableItems=new m.BehaviorSubject([]),this._subscriptions=new m.Subscription,this._sortingConfigs=[],this._items=[],this._itemsExpanded=new Map,this._itemsLevel=new Map,this._itemsHasChildren=new Map,this._editingCells=[],this._visibleRowsRange={start:0,end:0},this._visibleColumnsRange={start:0,end:0},this.columnResizeCursors={leftOrRight:"ew-resize"},this.rowToolbarColumnId="rowToolbar",this.rowToolbarColumnAriaLabelId=this.rowToolbarColumnId+(0,de.qv)(),this.rowSkeletonColumnId="rowSkeleton",this.rowSkeletonDisplayedColumnIds=[this.rowToolbarColumnId,this.rowSkeletonColumnId],this.headerToolbarColumnId="headerToolbar",this.autoResizedColumnId="autoResized",this.headerLoaderColumnId="loader",this.headerLoaderDisplayedColumnIds=[this.headerLoaderColumnId],this.footerCreateItemColumnId="footerCreateItem",this.footerAutoResizedColumnId="footerAutoResized",this.maxColumnWidthLabel=dr.MAX,this.ariaSortDirection={asc:"ascending",desc:"descending",none:"none"},this.actualizeCells$=new m.Subject,this.isVerticalVirtualScrollDisabled=!!(0,t.inject)(ge.G,{optional:!0})?.[TA],this.isHorizontalVirtualScrollDisabled=!!(0,t.inject)(ge.G,{optional:!0})?.[PA],this.hasStickyColumns=!1,this.rowsFeatures={numeration:!1,hierarchical:!1},this.rowsSelectionFeatures={enable:!1},this.cellsFeatures={selection:!1,disableTextSelectionOnDoubleClick:!1},this.columnsFeatures={sorting:!1,resizing:!1,dragAndDrop:!1},this.editingFeatures={enable:!1,itemsCreation:!1,floatingEditPanel:!1},this.headerFeatures={visible:!0},this.displayedColumns=[],this.keyboardNavigationItems=[],this.displayedColumnIds=[],this.footerCreateItemDisplayedColumnIds=[],this.isBaseViewModelCollection=!1,this.disableKeyboardCellsCopying=!1,this.disableKeyboardCellsSelection=!1,this.statusBarHeight=OA,this.statusBarBottomIndentLength=I6,this.activeRowIndex=-1,this.activeColumnIndex=-1,this.infinity=1/0,this.bulkActions=[],this.header={},this.hierarchicalColumnName="parentId",this.defaultNodeExpanded=!1,this.columnsChange=new t.EventEmitter,this.selectedRowsChange=new t.EventEmitter,this.selectionStateChange=new t.EventEmitter,this.activeRowChange=new t.EventEmitter,this.sortingChange=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.rowDoubleClick=new t.EventEmitter,this.createItem=new t.EventEmitter,this.deleteItem=new t.EventEmitter,this.saveItemsChanges=new t.EventEmitter,this.cancelItemsChanges=new t.EventEmitter,this.isRowVisible=Pt=>{if(this.isVerticalVirtualScrollDisabled)return!0;const{start:te,end:Se}=this._visibleRowsRange;return Pt>=te&&Pt<=Se},this.isRowSkeletonVisible=Pt=>!this.isRowVisible(Pt),this.columnResizeEdges=i.resizeEdges}_setDisplayedColumns(){this._hiddenColumns=[];const e=[];this._columnDefinitionConverter.toColumnViewDefinitions(this._columnsMap).forEach(a=>{a.hidden?this._hiddenColumns.push(a):e.push(a)}),!(0,y.isEqual)(e,this.displayedColumns)&&(this.displayedColumns=e,this._setLastStickyColumnId(this.displayedColumns))}get _hasStickyToolbars(){return!!this.headerToolbarDirective||!!this.rowToolbarDirective}_actualizeDisplayedColumnIds(){const e=this.displayedColumns.map(n=>n.id);this._applyFeatureColumnIds(e),(0,y.isEqual)(e,this.displayedColumnIds)||(this.displayedColumnIds=e,this._setNavigationItems())}_setNavigationItems(){const e=this.rowToolbarDirective?.navigationItems??[],n=this.headerToolbarDirective?.navigationItems??[];this.keyboardNavigationItems=[],(this.rowsSelectionFeatures.multiple||this.editingFeatures.enable)&&this.keyboardNavigationItems.push("rowActionsNavigationItem");const a=this.displayedColumns.map(i=>i.id);this.keyboardNavigationItems.push(...a,...n),this.rowToolbarDirective?.position==="after"?this.keyboardNavigationItems.push(...e):this.keyboardNavigationItems.unshift(...e)}_applyFeatureColumnIds(e){this.rowsFeatures.hierarchical||e.push(this.autoResizedColumnId),this.hasRowToolbarColumn&&(this.rowToolbarDirective?.position==="after"?e.push(this.rowToolbarColumnId):e.unshift(this.rowToolbarColumnId)),this.headerToolbarDirective&&this.headerFeatures.visible&&e.push(this.headerToolbarColumnId)}_actualizeFooterDisplayedColumnIds(){const e=this.editingFeatures.itemsCreation?[this.footerCreateItemColumnId,this.footerAutoResizedColumnId]:[];(0,y.isEqual)(this.footerCreateItemDisplayedColumnIds,e)||(this.footerCreateItemDisplayedColumnIds=e)}_setFeatures(){this.cellsFeatures={selection:!!this._features?.cells?.selection,disableTextSelectionOnDoubleClick:!!this._features?.cells?.disableTextSelectionOnDoubleClick},this.columnsFeatures={sorting:!!this._features?.columns?.sorting,resizing:!!this._features?.columns?.resizing,dragAndDrop:!!this._features?.columns?.dragAndDrop&&this.displayedColumns.length>1},this.rowsFeatures={hierarchical:!!this._features?.rows?.hierarchical,numeration:!!this._features?.rows?.numeration},this.rowsSelectionFeatures=T6(this._features?.rows?.selection),this.editingFeatures=O6(this._features?.editable),this.headerFeatures=A6(this._features?.header),this._actualizeDisplayedColumnIds(),this._actualizeFooterDisplayedColumnIds()}_emitColumnsChangeEvent(){const e=this._hiddenColumns.map(({id:a})=>this.getColumnDefinition(a)),n=this.displayedColumns.map(({id:a})=>this.getColumnDefinition(a));this.columnsChange.emit([...n,...e])}_checkColumnsStickinessActivity(){if(!this.hasStickyColumns&&!this._hasStickyToolbars)return;const e=this._tableContainerSize?.width??this.dataTableContainer?.nativeElement?.getBoundingClientRect()?.width;if(!e)return;const a=this._stickyColumnsWidthRationFactory.create(e)*e;let i=0;this.displayedColumns.forEach(s=>{s.sticky.enabled&&(i+=s.width,s.sticky.active=i<=a)}),this._setLastStickyColumnId(this.displayedColumns),this._zone.onMicrotaskEmpty.pipe((0,h.take)(1),(0,h.takeUntil)(this.destroyed$)).subscribe(()=>this._matTable?.updateStickyColumnStyles())}_updateColumnsContentVisibility(){this.isHorizontalVirtualScrollDisabled||this.displayedColumns.forEach((e,n)=>{const a=n>=this._visibleColumnsRange.start&&n<=this._visibleColumnsRange.end,i=e.sticky?.enabled;e.contentHidden=!a&&!i})}_setMatTableItems(e=[]){if(!this.rowsFeatures.hierarchical){this._matTableItems.next(e),this._updateActiveRowIndex(this.activeRow);return}const n=this._prepareHierarchicalItems(),a=this._filterHierarchicalItems(n);this._matTableItems.next(a)}_updateMatTableItems(){this._setMatTableItems(this._items),this._canLoadNextItems=!0,this._items instanceof Ni.A&&(this._subscriptions.unsubscribe(),this._subscriptions=new m.Subscription,this._subscribeItemsChanged(this._items),this._subscribeCollectionItemAttributeChanged(this._items))}_subscribeItemsChanged(e){this._subscriptions.add(e.changed.subscribe(()=>{this._setMatTableItems(e),this._canLoadNextItems=!0,this.changeDetectorRef.markForCheck(),this.actualizeCells$.next()}))}_subscribeCollectionItemAttributeChanged(e){this._subscriptions.add(e.itemAttributeChanged.pipe((0,h.filter)(()=>this.rowsSelectionFeatures.multiple&&this.isEditingEnabledAndItemsChanged)).subscribe(()=>this.resetSelectionState()))}_setItemsCache(e){this._items=e||[],this._itemsExpanded.clear(),this._itemsLevel.clear(),this._itemsHasChildren.clear()}_getDataItemValue(e,n){let a;if(this.isBaseViewModelCollection){const i=e.attributes[n];a=i&&Object.prototype.hasOwnProperty.call(i,"value")?i.value:i}else a=e[n];return a??null}_getPrimaryValue(e){return this._getDataItemValue(e,this.primaryColumnName)}_getHierarchicalValue(e){return this._getDataItemValue(e,this.hierarchicalColumnName)}_prepareHierarchicalItems(e=null){const n=[];return this._items.filter(a=>this._getHierarchicalValue(a)===e).forEach(a=>{const i=this._getPrimaryValue(a),s=i?this._prepareHierarchicalItems(i):[];n.push(a,...s)}),n}_filterHierarchicalItems(e){return e.filter(n=>{const a=this._getHierarchicalValue(n);return!a||this._isItemExpanded(a)})}_toggleNodeState(e){const a=!this._isItemExpanded(e);this._itemsExpanded.set(e,a),!a&&this._collapseNodeChildren(e)}_collapseNodeChildren(e){this._items.filter(n=>this._getHierarchicalValue(n)===e).forEach(n=>{const a=this._getPrimaryValue(n);this._itemsExpanded.set(a,!1),this._collapseNodeChildren(a)})}_getNodeLevel(e){if(this._itemsLevel.has(e))return this._itemsLevel.get(e);const n=this._items.find(s=>this._getPrimaryValue(s)===e);let a=1,i=this._getHierarchicalValue(n);for(;i;){a++;const s=this._items.find(b=>this._getPrimaryValue(b)===i);i=this._getHierarchicalValue(s)}return this._itemsLevel.set(e,a),a}_setLastStickyColumnId(e){this.lastStickyColumnId=(0,y.findLast)(e,({sticky:n})=>n.active)?.id}_setSelectionState(e){(0,y.isEqual)(this.selectionState,e)||(this.selectionState=e,this.selectionStateChange.emit(this.selectionState),this.selectionState.type==="specific"&&this.selectedRowsChange.emit(this.selectionState.selected))}_isItemExpanded(e){return this._itemsExpanded.get(e)??this.defaultNodeExpanded}_recalculateStatusBarPosition(){const e=this._tableContainerSize?.height,n=this._tableSize?.height;if(!e||!n)return;const a=I6;if(n+this.statusBarHeight+a*2<e){this.statusBarBottomIndentLength=e-n-this.statusBarHeight-a;return}this.statusBarBottomIndentLength=a}_updateActiveRowIndex(e){this.activeRowIndex=this._items.findIndex(n=>this._getPrimaryValue(n)===e)}_getFirstSelectedCellRowIndex(){var e=this;return(0,bt.A)(function*(){const n=e.selectedCells?.[0]?.rowId;return(yield Promise.all(e._items.map(i=>e._getPrimaryValue(i)))).findIndex(i=>i===n)})()}ngAfterContentInit(){this._actualizeDisplayedColumnIds()}ngOnDestroy(){super.ngOnDestroy(),this._subscriptions.unsubscribe(),this.actualizeCells$.complete()}trackByIndex(e){return e}onHotKeyPressed({action:e,event:n}){var a=this;return(0,bt.A)(function*(){if(e===Wn.save&&a.itemsChanged&&(n.preventDefault(),a.onSaveItemsChanges()),e===Wn.create){const i=yield a._getFirstSelectedCellRowIndex();i!==-1&&a.onCreateItem(i+1)}if(e===Wn.delete){const i=a.selectedCells?.[0]?.rowId;i&&a.deleteItem.emit({rowId:i})}})()}onCreateItem(e){this.editingFeatures.itemsCreation&&(this.editingCells=[],this.createItem.emit({index:e}),this.resetSelectionState())}onSaveItemsChanges(){this.editingFeatures.enable&&(this.saveItemsChanges.emit(),this.editingCells=[])}onCancelItemsChanges(e){this.editingFeatures.enable&&(this.cancelItemsChanges.emit(e),this.editingCells=[])}onCancelItemChanges(e){var n=this;return(0,bt.A)(function*(){const a=yield(0,m.firstValueFrom)(e);n.onCancelItemsChanges([a])})()}resetSelectionState(){if(!this.rowsSelectionFeatures.enable)return;const e={type:"specific",selected:[]};this._setSelectionState(e)}onSelectionStateChanged(e){this.rowsSelectionFeatures.enable&&(this._setSelectionState(e),this.itemsChanged&&this.rowsSelectionFeatures.multiple&&this.onCancelItemsChanges())}onActiveRowChanged(e){this.activeRow=e,this._updateActiveRowIndex(e),this.activeRowChange.emit(e)}onVisibleRowsChange(e){this.isVerticalVirtualScrollDisabled||(this._visibleRowsRange=e,this._matTable?.renderRows())}onVisibleColumnsChange(e){this._visibleColumnsRange=e,this._updateColumnsContentVisibility(),this._actualizeDisplayedColumnIds()}editCell(e){e&&(this.editingCells=[e],this.detectChanges())}onEditingCellsChanged(e){const n=e?.length>0;this.disableKeyboardCellsCopying=n,this.disableKeyboardCellsSelection=n}onSelectedCellsChanged(e){this.selectedCells=e,this.detectChanges()}getViewModelValue(e,n){return e.attributes[n]}setActiveColumn(e,n){n!=null&&(this.activeColumnIndex=n),this._innerActiveColumnId=e}getColumnDefinition(e){return this._columnsMap.get(e)}getColumnSorting(e){return this._sortingConfigs?.find(({columnCode:n})=>n===e)}onColumnResizing(e,n){const{edges:a,rectangle:i}=e;this._horizontalResizingService.isAvailableEdges(a)&&(n.sticky.active&&this.resetHorizontalScrollPosition(),n.width=this._horizontalResizingService.getAdjustedWidth(i.width),this._checkColumnsStickinessActivity())}onColumnResizeEnd(e){const n=this.getColumnDefinition(e.id);n.width=e.width,this._emitColumnsChangeEvent()}resetHorizontalScrollPosition(){this.dataTableContainer&&(this.dataTableContainer.nativeElement.scrollLeft=0)}onColumnDragSorted(e){const n=this._sortedWhenDraggingColumns??this.displayedColumns;this._sortedWhenDraggingColumns=this._columnsPositionChangeService.changeColumnPosition(n,e.previousIndex,e.currentIndex),this._setLastStickyColumnId(this._sortedWhenDraggingColumns),this.detectChanges()}onColumnDropped(e){this._sortedWhenDraggingColumns=null,this._matTable?.updateStickyHeaderRowStyles(),this.displayedColumns=this._columnsPositionChangeService.changeColumnPosition(this.displayedColumns,e.previousIndex,e.currentIndex),this._actualizeDisplayedColumnIds(),this._emitColumnsChangeEvent(),this._checkColumnsStickinessActivity()}columnDropSortPredicate(e,n){return this._columnsPositionChangeService.canChangeColumnPosition(n.data,this.displayedColumns,e)}getColumnDropSortPredicate(){return this.columnDropSortPredicate.bind(this)}onColumnSortChanged(e){const n=!this.columnsFeatures.sorting,i=this._columnsMap?.get(e)?.columnType==="tools";if(n||i)return;const s=this.getColumnSorting(e)?.direction??"none",b=this._directionSwitchMap[s],D=b==="none"?[]:[{columnCode:e,direction:b}];this.sortingChange.emit(D)}onTableContainerResized(e){this._tableContainerSize=e,this._recalculateStatusBarPosition(),this._checkColumnsStickinessActivity()}onTableResized(e){this._tableSize=e,this._recalculateStatusBarPosition()}onLastTableRowInViewportStateChange(e){e.visible!==!1&&(this.loading||this._canLoadNextItems&&(this.paginationChange.emit({type:"infiniteScroll"}),this._canLoadNextItems=!1))}hasNodeChildren(e){const n=this._getPrimaryValue(e);if(this._itemsHasChildren.has(n))return this._itemsHasChildren.get(n);const i=!!this._items.find(s=>this._getHierarchicalValue(s)===n);return this._itemsHasChildren.set(n,i),i}isNodeExpanded(e){const n=this._getPrimaryValue(e);return this._isItemExpanded(n)}onNodeExpandClick(e){const n=this._getPrimaryValue(e);this._toggleNodeState(n),this._updateMatTableItems()}getNodePrefixWidth(e){const n=this._getPrimaryValue(e),a=this._getNodeLevel(n);return this._gutterPaddingLeft+this._gutterWidth*a}getTreeIcon(e){if(this.hasNodeChildren(e))return this.isNodeExpanded(e)?"tree_opened_parent":"tree_parent"}isRowActionsDisplayed(e,n){return e===this.hoveredRowIndex||Math.abs(e-this.activeRowIndex)<=1||this.dataTableRowsSelection.isSelectedRow(n)}isColumnActionsDisplayed(e,n){return n===this.hoveredColumnId||n===this.activeColumnId||Math.abs(e-this.activeColumnIndex)<=1}isSortableColumn(e){return this.columnsFeatures.sorting&&e.columnType!=="tools"}getColumnSortDirection(e){const n=this.getColumnSorting(e)?.direction;return this.ariaSortDirection[n]}getColumnSortAriaLabel(e){if(!this.isSortableColumn(e))return e.caption;const n=this._translateService.instant("DataTable.Hints.SortWithCaption");return jt.String.format(n,e.caption)}getColumnSortAriaDescription(e){if(!this.isSortableColumn(e))return null;switch(this.getColumnSortDirection(e.code)){case"ascending":return this._translateService.instant("DataTable.Hints.SortedAscending");case"descending":return this._translateService.instant("DataTable.Hints.SortedDescending");default:return this._translateService.instant("DataTable.Hints.NotSorted")}}static{this.\u0275fac=function(n){return new(n||Bg)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(Dg),t.\u0275\u0275directiveInject(Ag),t.\u0275\u0275directiveInject(Ll),t.\u0275\u0275directiveInject(c1.g),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(L6),t.\u0275\u0275directiveInject(kA),t.\u0275\u0275directiveInject(RA))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Bg,selectors:[["crt-data-table"]],contentQueries:function(n,a,i){if(n&1&&(t.\u0275\u0275contentQuery(i,Ap,5,t.TemplateRef),t.\u0275\u0275contentQuery(i,Lp,5,t.TemplateRef),t.\u0275\u0275contentQuery(i,Dp,5,t.TemplateRef),t.\u0275\u0275contentQuery(i,kp,5),t.\u0275\u0275contentQuery(i,Rp,5)),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.placeholderTemplate=s.first),t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.skeletonTemplate=s.first),t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.columnToolbarTemplate=s.first),t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.headerToolbarDirective=s.first),t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.rowToolbarDirective=s.first)}},viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(Li,5,t.ElementRef),t.\u0275\u0275viewQuery(XA,5),t.\u0275\u0275viewQuery(qA,5),t.\u0275\u0275viewQuery(Og,5),t.\u0275\u0275viewQuery(_a.MatLegacyTable,5),t.\u0275\u0275viewQuery(_a.MatLegacyHeaderRow,7,t.ElementRef)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.firstCellElement=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.dataTableContainer=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.dataTableRowsSelection=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.dataTableVirtualScrollDirective=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.matTable=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.headerRowElementRef=i.first)}},inputs:{items:"items",totalItemsCount:"totalItemsCount",columns:"columns",bulkActions:"bulkActions",header:"header",ariaLabel:"ariaLabel",activeColumnId:"activeColumnId",activeRow:"activeRow",features:"features",sorting:"sorting",editingCells:"editingCells",selectedCells:"selectedCells",selectedRows:"selectedRows",selectionState:"selectionState",primaryColumnName:"primaryColumnName",hierarchicalColumnName:"hierarchicalColumnName",defaultNodeExpanded:"defaultNodeExpanded"},outputs:{columnsChange:"columnsChange",selectedRowsChange:"selectedRowsChange",selectionStateChange:"selectionStateChange",activeRowChange:"activeRowChange",sortingChange:"sortingChange",paginationChange:"paginationChange",rowDoubleClick:"rowDoubleClick",createItem:"createItem",deleteItem:"deleteItem",saveItemsChanges:"saveItemsChanges",cancelItemsChanges:"cancelItemsChanges"},features:[t.\u0275\u0275ProvidersFeature([{provide:SA.P,useValue:800}]),t.\u0275\u0275InheritDefinitionFeature],decls:13,vars:34,consts:[["dataTableContainer","","dataTableRowsSelection","dataTableRowsSelection"],["skeleton",""],["colgroup",""],["rowToolbarColumn",""],["context","rowContext","dataTableEditableRow","dataTableEditableRow"],["selection",""],["dataTableEditableCell","dataTableEditableCell","dataTableSelectableCell","dataTableSelectableCell"],["notFound",""],["noEditingCell",""],["crtDataTableCellView",""],["crtViewElementDirective",""],["crtDataTableTextCell",""],["editedCellIndicator",""],["rowContext","rowContext"],["crtKeyboardNavigation","","crtKeyboardFocusContainer","","crtResizable","","crtDataTableVirtualScroll","","crtDataTableCellsKeyboardCopying","","crtDataTableCellsKeyboardEditing","","crtDataTableCellsFocusing","",1,"crt-data-table-container",3,"resized","crtKeyboardHotkeyPressed","crtDataTableVirtualScrollVisibleRowsChange","crtDataTableVirtualScrollVisibleColumnsChange","crtDataTableCellsEditingChange","crtDataTableCellsSelectionChange","crtDataTableRowActivityChange","crtDataTableRowsSelectionChange","crtKeyboardNavigationItems","crtKeyboardNavigationStrictRow","crtKeyboardNavigationStrictColumn","crtKeyboardNavigationDisabled","crtKeyboardFocusContainerFocusEnterElement","crtResizableDisabled","crtKeyboardHotkeys","crtDataTableVirtualScrollItems","crtDataTableVerticalVirtualScrollDisabled","crtDataTableHorizontalVirtualScrollDisabled","crtDataTableVirtualScrollDisplayedColumns","crtDataTableCellsEditing","crtDataTableCellsEditingDisabled","crtDataTableCellsSelection","crtDataTableCellsSelectionDisabled","crtDataTableCellsSelectionActualize","crtDataTableCellsKeyboardCopyingDisabled","crtDataTableCellsKeyboardEditingDisabled","crtDataTableRowActivity","crtDataTableRowsSelection","crtDataTableRowsSelectionMultiple","crtDataTableRowsSelectionDisabled","crtDataTableRowsSelectionTotalItemsCount"],[1,"crt-data-table-skeleton"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","crt-data-table-no-data-placeholder",3,"crt-data-table-no-data-placeholder-top-spot",4,"ngIf"],["class","crt-data-table-manage-changes-panel","cdkDragBoundary","crt-data-table","style","transform: translate3d(-50%, 0px, 0px)","cdkDrag","",3,"height","bottom",4,"ngIf"],["aria-live","polite",1,"cdk-visually-hidden"],["mat-table","","multiTemplateDataRows","","cdkDropList","","cdkDropListLockAxis","x","cdkDropListOrientation","horizontal","crtResizable","",1,"crt-data-table",3,"cdkDropListDropped","cdkDropListSorted","resized","dataSource","dir","cdkDropListSortPredicate","crtResizableDisabled"],[3,"ngTemplateOutlet",4,"ngIf"],[3,"width",4,"ngFor","ngForOf"],[3,"width",4,"ngIf"],[3,"matColumnDef","sticky","stickyEnd"],["mat-header-cell","","scope","col","class","crt-data-table-header-cell-container crt-toolbar-cell crt-header-toolbar-cell crt-data-table-cell-horizontally-sticky",3,"crt-toolbar-cell-editing","crt-toolbar-cell-custom","crt-toolbar-cell-numeration","crt-toolbar-cell-row-selection","crt-toolbar-cell-all-rows-selection","crt-data-table-cell-vertically-sticky",4,"matHeaderCellDef"],["mat-cell","","class","crt-toolbar-cell crt-data-table-cell-horizontally-sticky","crtDataTableEditableRow","",3,"crt-toolbar-cell-editing","crt-toolbar-cell-custom","crt-toolbar-cell-numeration","crt-toolbar-cell-row-selection","crtDataTableRowContext","primaryColumnName","crtDataTableEditableRowData","crtDataTableEditableRowColumns","crtDataTableEditableRowDisabled",4,"matCellDef"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"matColumnDef"],["mat-header-cell","","scope","col","class","crt-data-table-header-autoresized-cell crt-data-table-header-cell-container","aria-hidden","true",3,"width","crt-data-table-cell-vertically-sticky",4,"matHeaderCellDef"],["mat-cell","",3,"width",4,"matCellDef"],["stickyEnd","",3,"matColumnDef"],["mat-header-cell","","scope","col","class","crt-toolbar-cell crt-header-toolbar-cell crt-data-table-cell-horizontally-sticky",3,"width","crt-data-table-cell-vertically-sticky",4,"matHeaderCellDef"],["mat-cell","","class","crt-toolbar-cell crt-header-toolbar-cell crt-data-table-cell-horizontally-sticky",3,"width",4,"matCellDef"],["mat-header-cell","","class","mat-cell crt-data-table-loading-cell",4,"matHeaderCellDef"],[3,"matColumnDef","sticky"],["mat-footer-cell","","class","crt-data-table-cell-horizontally-sticky",4,"matFooterCellDef"],["mat-cell","","class","crt-data-table-row-skeleton-cell",4,"matCellDef"],["mat-header-row","","crtKeyboardNavigationRow","",3,"crt-data-table-hidden-row",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","","crtKeyboardNavigationRow","","crtDataTableRow","",3,"crt-data-table-row-underlined","crtDataTableRowContext","primaryColumnName","crtDataTableRowDisableTextSelectionOnDoubleClick","crtDataTableRowDoubleClick","mouseover",4,"matRowDef","matRowDefColumns","matRowDefWhen"],["mat-row","","crtDataTableRow","",3,"crtDataTableRowContext","primaryColumnName",4,"matRowDef","matRowDefColumns","matRowDefWhen"],["class","mat-row no-data-row",3,"crt-data-table-hidden-row",4,"matNoDataRow"],[1,"observe-last-row"],["crtObserveElementInViewport","",3,"crtObserveElementInViewportStateChange",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"crt-toolbar-cell"],["mat-header-cell","","scope","col",1,"crt-data-table-header-cell-container","crt-toolbar-cell","crt-header-toolbar-cell","crt-data-table-cell-horizontally-sticky"],[1,"cdk-visually-hidden",3,"id"],["class","crt-data-table-all-rows-selection-indicator-container",3,"click",4,"ngIf"],[1,"crt-data-table-all-rows-selection-indicator-container",3,"click"],["labelPosition","hidden",1,"crt-data-table-all-rows-selection-indicator",3,"click","valueChange","value","disabled","indeterminate","title","ariaLabel","crtKeyboardNavigationItem","crtKeyboardNavigationItemUseFocusableChild"],["mat-cell","","crtDataTableEditableRow","",1,"crt-toolbar-cell","crt-data-table-cell-horizontally-sticky",3,"crtDataTableRowContext","primaryColumnName","crtDataTableEditableRowData","crtDataTableEditableRowColumns","crtDataTableEditableRowDisabled"],[1,"crt-toolbar-cell-container"],["class","crt-insert-item-button-container",4,"ngIf"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"cancelChanges","crtKeyboardNavigationItem","crtKeyboardNavigationItemUseFocusableChild","errors"],["class","crt-data-table-row-selection-indicator-container",3,"click","dblclick",4,"ngIf"],["class","crt-data-table-row-index",4,"ngIf"],[1,"crt-data-table-row-selection-indicator-container",3,"click","dblclick"],["labelPosition","hidden",1,"crt-data-table-row-selection-indicator",3,"valueChange","click","value","ariaLabel","crtKeyboardNavigationItem","crtKeyboardNavigationItemUseFocusableChild"],[1,"crt-data-table-row-index"],[1,"crt-insert-item-button-container"],["icon","plus","iconPosition","only-icon","displayType","text","size","small",1,"crt-insert-item-button",3,"mouseenter","mouseleave","clicked","ariaLabel","title"],["class","crt-data-table-selection-checkbox-container-stub",3,"click","dblclick",4,"ngIf"],[1,"crt-data-table-selection-checkbox-container-stub",3,"click","dblclick"],[3,"sticky","matColumnDef",4,"ngIf"],[3,"sticky","matColumnDef"],["mat-header-cell","","scope","col","tabindex","0","class","crt-data-table-header-cell-container","crtKeyboardFocusContainer","","mwlResizable","","cdkDrag","",3,"ngClass","crt-data-table-cell-vertically-sticky","crt-data-table-cell-horizontally-sticky","crt-data-table-cell-horizontally-sticky-last","width","crtKeyboardNavigationItem","crtKeyboardFocusContainerRole","crtKeyboardFocusContainerDisableInert","resizeCursors","cdkDragData","cdkDragPreviewContainer","cdkDragDisabled","cdkDragBoundary","focusin","focusout","mouseover","mouseleave","resizing","resizeEnd","mousedown","cdkDragStarted",4,"matHeaderCellDef"],["mat-cell","","crtDataTableCell","","crtDataTableSelectableCell","","class","crt-data-table-cell-container","crtDataTableEditableCell","",3,"crtKeyboardNavigationItem","crtDataTableCellData","crtDataTableCellColumn","crtDataTableCellRowIndex","crtDataTableCellColumnIndex","crtDataTableSelectableCellDisabled","crt-data-table-cell-horizontally-sticky","crtDataTableEditableCellDisabled","crtDataTableEditableCellEditingModeDisabled",4,"matCellDef"],["mat-header-cell","","scope","col","tabindex","0","crtKeyboardFocusContainer","","mwlResizable","","cdkDrag","",1,"crt-data-table-header-cell-container",3,"focusin","focusout","mouseover","mouseleave","resizing","resizeEnd","mousedown","cdkDragStarted","ngClass","crtKeyboardNavigationItem","crtKeyboardFocusContainerRole","crtKeyboardFocusContainerDisableInert","resizeCursors","cdkDragData","cdkDragPreviewContainer","cdkDragDisabled","cdkDragBoundary"],[1,"crt-cell","crt-header-cell"],["cdkDragHandle","",1,"crt-header-cell-caption-container",3,"click"],["cdkMonitorElementFocus","",1,"crt-data-table-sort-indicator-btn",3,"tabindex"],[1,"crt-header-cell-caption",3,"title"],["class","menu-icon crt-data-table-sort-indicator",3,"svgIcon","crt-data-table-sort-indicator-active","title",4,"ngIf"],["class","crt-header-cell-toolbar",4,"ngIf"],[1,"column-spacing"],["tabindex","0","class","crt-data-table-column-resize-handle","mwlResizeHandle","","crtDataTableColumnKeyboardResize","",3,"resizeEdges","title","crtDataTableColumnKeyboardResizeColumnWidth","crtDataTableColumnKeyboardResizeColumnResizing","crtDataTableColumnKeyboardResizeColumnResizeEnd",4,"ngIf"],[1,"menu-icon","crt-data-table-sort-indicator",3,"svgIcon","title"],[1,"crt-header-cell-toolbar"],["tabindex","0","mwlResizeHandle","","crtDataTableColumnKeyboardResize","",1,"crt-data-table-column-resize-handle",3,"crtDataTableColumnKeyboardResizeColumnResizing","crtDataTableColumnKeyboardResizeColumnResizeEnd","resizeEdges","title","crtDataTableColumnKeyboardResizeColumnWidth"],[1,"resize-handle-icon"],["mat-cell","","crtDataTableCell","","crtDataTableSelectableCell","","crtDataTableEditableCell","",1,"crt-data-table-cell-container",3,"crtKeyboardNavigationItem","crtDataTableCellData","crtDataTableCellColumn","crtDataTableCellRowIndex","crtDataTableCellColumnIndex","crtDataTableSelectableCellDisabled","crtDataTableEditableCellDisabled","crtDataTableEditableCellEditingModeDisabled"],["class","crt-cell crt-table-cell",4,"ngIf"],[1,"crt-cell","crt-table-cell"],["class","prefix-node",3,"min-width",4,"ngIf"],["class","crt-data-table-cell-editing-toolbar",4,"ngIf"],[1,"prefix-node"],["class","material-icons mat-icon-rtl-mirror node-toggle-icon",3,"svgIcon","click",4,"ngIf"],[1,"material-icons","mat-icon-rtl-mirror","node-toggle-icon",3,"click","svgIcon"],[3,"crtViewModel",4,"ngIf","ngIfElse"],[1,"data-table-cell-view"],[3,"crtViewModel"],[3,"crtDataTableCellViewElement","cellViewElementCacheKey",4,"ngIf","ngIfElse"],[3,"crtDataTableCellViewElement","cellViewElementCacheKey"],[3,"crtViewElement"],[3,"title",4,"crtDataTableCellView","crtDataTableCellViewData","crtDataTableCellViewColumn"],[3,"title"],[1,"crt-data-table-cell-value",3,"title"],["class","not-found-cell",4,"ngIf"],[1,"not-found-cell"],[1,"crt-data-table-cell-editing-toolbar"],["tabindex","-1",1,"crt-data-table-cell-edit-handle",3,"mousedown","click","title"],[3,"svgIcon"],["matSuffix","","svgIcon","info-icon",1,"crt-data-table-cell-error-icon",3,"crtTooltip"],["class","crt-data-table-edited-cell-indicator","svgIcon","pen",4,"ngIf"],["svgIcon","pen",1,"crt-data-table-edited-cell-indicator"],["mat-header-cell","","scope","col","aria-hidden","true",1,"crt-data-table-header-autoresized-cell","crt-data-table-header-cell-container"],["mat-cell",""],["mat-header-cell","","scope","col",1,"crt-toolbar-cell","crt-header-toolbar-cell","crt-data-table-cell-horizontally-sticky"],["mat-cell","",1,"crt-toolbar-cell","crt-header-toolbar-cell","crt-data-table-cell-horizontally-sticky"],["mat-header-cell","",1,"mat-cell","crt-data-table-loading-cell"],["class","crt-data-table-progress-bar",3,"crt-data-table-progress-bar-top-spot",4,"ngIf"],[1,"crt-data-table-progress-bar"],["mat-footer-cell","",1,"crt-data-table-cell-horizontally-sticky"],[1,"crt-create-item-button-cell"],[1,"crt-create-item-button-container"],["icon","add-button-icon","iconPosition","left-icon","displayType","text","size","medium",1,"crt-create-item-button",3,"clicked","ariaLabel","title"],["mat-cell","",1,"crt-data-table-row-skeleton-cell"],["appearance","line","count","1",3,"styles"],["mat-header-row","","crtKeyboardNavigationRow",""],["class","crt-data-table-loading-row","mat-header-row","",3,"crt-data-table-loading-row-no-data",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-header-row","",1,"crt-data-table-loading-row"],["mat-row","","crtKeyboardNavigationRow","","crtDataTableRow","",3,"crtDataTableRowDoubleClick","mouseover","crtDataTableRowContext","primaryColumnName","crtDataTableRowDisableTextSelectionOnDoubleClick"],["mat-row","","crtDataTableRow","",3,"crtDataTableRowContext","primaryColumnName"],[1,"mat-row","no-data-row"],[1,"mat-cell","crt-data-table-cell-container"],["mat-footer-row","",4,"matFooterRowDef"],["mat-footer-row",""],["crtObserveElementInViewport","",3,"crtObserveElementInViewportStateChange"],[1,"crt-data-table-no-data-placeholder"],["class","crt-data-table-no-data-container",3,"crt-data-table-no-data-container-top-spot",4,"ngIf"],["class","crt-data-table-no-columns-container",3,"crt-data-table-no-columns-container-top-spot",4,"ngIf"],[1,"crt-data-table-no-data-container"],[1,"crt-data-table-no-columns-container"],["cdkDragBoundary","crt-data-table","cdkDrag","",1,"crt-data-table-manage-changes-panel",2,"transform","translate3d(-50%, 0px, 0px)"],[3,"save","cancel",4,"ngIf"],[3,"selectedItemsCount","parentWidth","items","closed",4,"ngIf"],[3,"save","cancel"],[3,"closed","selectedItemsCount","parentWidth","items"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",14,0),t.\u0275\u0275pipe(3,"async"),t.\u0275\u0275listener("resized",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onTableContainerResized(b))})("crtKeyboardHotkeyPressed",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onHotKeyPressed(b))})("crtDataTableVirtualScrollVisibleRowsChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onVisibleRowsChange(b))})("crtDataTableVirtualScrollVisibleColumnsChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onVisibleColumnsChange(b))})("crtDataTableCellsEditingChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onEditingCellsChanged(b))})("crtDataTableCellsSelectionChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onSelectedCellsChanged(b))})("crtDataTableRowActivityChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onActiveRowChanged(b))})("crtDataTableRowsSelectionChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onSelectionStateChanged(b))}),t.\u0275\u0275elementStart(4,"div",15,1),t.\u0275\u0275template(6,eL,1,0,"ng-container",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,yk,37,32,"ng-container",17),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,Mk,2,3,"div",18)(9,Sk,3,2,"ng-container",17)(10,Tk,3,6,"div",19),t.\u0275\u0275elementStart(11,"output",20),t.\u0275\u0275template(12,Pk,4,8,"ng-container",17),t.\u0275\u0275elementEnd()}if(n&2){const i=t.\u0275\u0275reference(5);t.\u0275\u0275classProp("hierarchical",a.rowsFeatures.hierarchical),t.\u0275\u0275property("crtKeyboardNavigationItems",a.keyboardNavigationItems)("crtKeyboardNavigationStrictRow",!0)("crtKeyboardNavigationStrictColumn",!1)("crtKeyboardNavigationDisabled",!a.cellsFeatures.selection||a.disableKeyboardCellsSelection)("crtKeyboardFocusContainerFocusEnterElement",a.firstCellElement==null?null:a.firstCellElement.nativeElement)("crtResizableDisabled",a.tableContainerResizableDisabled)("crtKeyboardHotkeys",t.\u0275\u0275pipeBind1(3,32,a.keyboardHotkeys$))("crtDataTableVirtualScrollItems",a.matTableItems)("crtDataTableVerticalVirtualScrollDisabled",a.isVerticalVirtualScrollDisabled)("crtDataTableHorizontalVirtualScrollDisabled",a.isHorizontalVirtualScrollDisabled)("crtDataTableVirtualScrollDisplayedColumns",a.displayedColumns)("crtDataTableCellsEditing",a.editingCells)("crtDataTableCellsEditingDisabled",!a.editingFeatures.enable)("crtDataTableCellsSelection",a.selectedCells)("crtDataTableCellsSelectionDisabled",!a.cellsFeatures.selection)("crtDataTableCellsSelectionActualize",a.actualizeCells$)("crtDataTableCellsKeyboardCopyingDisabled",!a.cellsFeatures.selection||a.disableKeyboardCellsCopying)("crtDataTableCellsKeyboardEditingDisabled",!a.editingFeatures.enable)("crtDataTableRowActivity",a.activeRow)("crtDataTableRowsSelection",a.selectionState)("crtDataTableRowsSelectionMultiple",a.rowsSelectionFeatures.multiple)("crtDataTableRowsSelectionDisabled",!a.rowsSelectionFeatures.enable)("crtDataTableRowsSelectionTotalItemsCount",a.totalItemsCount),t.\u0275\u0275attribute("aria-label",a.ariaLabel),t.\u0275\u0275advance(6),t.\u0275\u0275property("ngTemplateOutlet",a.skeletonTemplate),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!(!(i==null||i.children==null)&&i.children.length)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!a.loading),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!(!(i==null||i.children==null)&&i.children.length)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isEditingEnabledAndItemsChanged||a.isBulkActionsAvailable),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.selectedItemsCount!==a.infinity)}},dependencies:[Ge.CdkMonitorFocus,Jt,_.NgClass,_.NgForOf,_.NgIf,_.NgTemplateOutlet,Lg,Cp,xa,kg,Ng,uC.w,Le.C,yn.W,hl.CdkDropList,hl.CdkDrag,hl.CdkDragHandle,_t.MatIcon,me.Dir,_a.MatLegacyTable,_a.MatLegacyHeaderCellDef,_a.MatLegacyHeaderRowDef,_a.MatLegacyColumnDef,_a.MatLegacyCellDef,_a.MatLegacyRowDef,_a.MatLegacyFooterCellDef,_a.MatLegacyFooterRowDef,_a.MatLegacyHeaderCell,_a.MatLegacyCell,_a.MatLegacyFooterCell,_a.MatLegacyHeaderRow,_a.MatLegacyRow,_a.MatLegacyFooterRow,_a.MatLegacyNoDataRow,Mf.ResizableDirective,Mf.ResizeHandleDirective,Ad.aD,rn.H,ps,na.d,qe,Ig,wp,xg,Li,kl,Vg,If,Rl,xf,Sf,pr,jg,wf,Ef,us,Tf,Np,Og,uc,_.AsyncPipe,lc,f.TranslatePipe,N6.L],styles:['body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:block;width:100%;height:100%;max-height:inherit;min-height:0;min-width:0;overflow:auto;position:relative}[dir=rtl][_nghost-%COMP%]   .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.crt-data-table-loading-row[_ngcontent-%COMP%]   .crt-data-table-loading-cell[_ngcontent-%COMP%]   .crt-data-table-progress-bar[_ngcontent-%COMP%]{background-image:linear-gradient(270deg,var(--crt-palette-label-50) 0%,var(--crt-palette-navigation-secondary-500) 100%);animation-direction:reverse}[_nghost-%COMP%]:has(.crt-data-table-container:focus-visible):after{content:"";position:absolute;z-index:1;inset:0;pointer-events:none;box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.crt-data-table-container[_ngcontent-%COMP%]{display:block;width:100%;height:100%;max-height:inherit;min-height:0;min-width:0;overflow:auto;position:relative;overflow-anchor:none;outline:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]{border-collapse:separate;position:relative;table-layout:fixed;z-index:1}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-hidden-row[_ngcontent-%COMP%]{display:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row.crt-data-table-row-active[_ngcontent-%COMP%]   .crt-toolbar-cell-row-selection.crt-toolbar-cell-numeration[_ngcontent-%COMP%]   .crt-data-table-row-index[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row.crt-data-table-row-selected[_ngcontent-%COMP%]   .crt-toolbar-cell-row-selection.crt-toolbar-cell-numeration[_ngcontent-%COMP%]   .crt-data-table-row-index[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]:focus-within   .crt-toolbar-cell-row-selection.crt-toolbar-cell-numeration[_ngcontent-%COMP%]   .crt-data-table-row-index[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]:hover   .crt-toolbar-cell-row-selection.crt-toolbar-cell-numeration[_ngcontent-%COMP%]   .crt-data-table-row-index[_ngcontent-%COMP%]{display:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row.crt-data-table-row-active[_ngcontent-%COMP%]   .crt-toolbar-cell-row-selection.crt-toolbar-cell-numeration[_ngcontent-%COMP%]   .crt-data-table-row-selection-indicator-container[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row.crt-data-table-row-selected[_ngcontent-%COMP%]   .crt-toolbar-cell-row-selection.crt-toolbar-cell-numeration[_ngcontent-%COMP%]   .crt-data-table-row-selection-indicator-container[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]:focus-within   .crt-toolbar-cell-row-selection.crt-toolbar-cell-numeration[_ngcontent-%COMP%]   .crt-data-table-row-selection-indicator-container[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-row[_ngcontent-%COMP%]:hover   .crt-toolbar-cell-row-selection.crt-toolbar-cell-numeration[_ngcontent-%COMP%]   .crt-data-table-row-selection-indicator-container[_ngcontent-%COMP%]{width:100%;display:flex;visibility:visible;padding:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-footer-row[_ngcontent-%COMP%]{height:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-footer-row[_ngcontent-%COMP%]   td.mat-footer-cell[_ngcontent-%COMP%]{border-bottom:none;padding:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-footer-row[_ngcontent-%COMP%]   td.mat-footer-cell[_ngcontent-%COMP%]   .crt-data-table-data-loader[_ngcontent-%COMP%]{margin-top:8px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-footer-row[_ngcontent-%COMP%]   .crt-create-item-button-cell[_ngcontent-%COMP%]{display:flex}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-footer-row[_ngcontent-%COMP%]   .crt-create-item-button-cell[_ngcontent-%COMP%]   .crt-create-item-button[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-footer-row[_ngcontent-%COMP%]   .crt-create-item-button-cell[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]{flex-shrink:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.mat-footer-row[_ngcontent-%COMP%]   .crt-create-item-button-container[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center;width:120px;padding-inline-start:6px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.crt-data-table-loading-row[_ngcontent-%COMP%]{height:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.crt-data-table-loading-row.crt-data-table-loading-row-no-data[_ngcontent-%COMP%]{height:2px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.crt-data-table-loading-row[_ngcontent-%COMP%]   .crt-data-table-loading-cell[_ngcontent-%COMP%]{padding:0;border-bottom:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.crt-data-table-loading-row[_ngcontent-%COMP%]   .crt-data-table-loading-cell[_ngcontent-%COMP%]   .crt-data-table-progress-bar[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:2px;background-repeat:no-repeat;background-image:linear-gradient(90deg,var(--crt-palette-label-50) 0%,var(--crt-palette-navigation-secondary-500) 100%);background-color:var(--crt-palette-label-50);background-size:40% 100%;animation:_ngcontent-%COMP%_loader-animation 1.4s infinite}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   tr.crt-data-table-loading-row[_ngcontent-%COMP%]   .crt-data-table-loading-cell[_ngcontent-%COMP%]   .crt-data-table-progress-bar.crt-data-table-progress-bar-top-spot[_ngcontent-%COMP%]{top:-40px}@keyframes _ngcontent-%COMP%_loader-animation{0%{background-position-x:-67%}to{background-position-x:167%}}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-cell-container.crt-data-table-cell-editing[_ngcontent-%COMP%]{outline:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-cell-container[_ngcontent-%COMP%]   .crt-table-cell[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:flex;align-items:center;height:38px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-cell-container[_ngcontent-%COMP%]   .crt-data-table-cell-value[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-cell-container[_ngcontent-%COMP%]   .crt-data-table-cell-editing-toolbar[_ngcontent-%COMP%]{margin-inline-start:auto;display:flex}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-cell-container[_ngcontent-%COMP%]:not(.crt-data-table-cell-selected):not(.crt-data-table-cell-dirty)   .crt-data-table-cell-edit-handle[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-cell-container[_ngcontent-%COMP%]:not(.crt-data-table-cell-selected).crt-data-table-cell-invalid   .crt-data-table-cell-edit-handle[_ngcontent-%COMP%]{display:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-cell-container[_ngcontent-%COMP%]   .crt-data-table-edited-cell-indicator[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-cell-container[_ngcontent-%COMP%]   .crt-data-table-cell-error-icon[_ngcontent-%COMP%]{width:16px;height:16px;padding:4px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-cell-container[_ngcontent-%COMP%]   .crt-data-table-cell-edit-handle[_ngcontent-%COMP%]{padding:0;width:24px;height:24px;background-color:transparent;border:none;cursor:pointer}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-cell-container[_ngcontent-%COMP%]   .crt-data-table-cell-edit-handle[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-cell-container.crt-data-table-cell-editing-disabled[_ngcontent-%COMP%]   .crt-data-table-cell-edit-handle[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-cell-container.crt-data-table-cell-editing-mode-disabled[_ngcontent-%COMP%]   .crt-data-table-cell-edit-handle[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]{cursor:default}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;flex-direction:row;align-items:center}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]{display:flex;flex-grow:1;align-items:center;height:100%;min-width:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container.cdk-drag-handle[_ngcontent-%COMP%]{cursor:pointer}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-header-cell-caption[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]{border:none;padding:0 1px;cursor:pointer;background-color:transparent;display:flex;height:24px;align-items:center;overflow:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn.cdk-keyboard-focused[_ngcontent-%COMP%]{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]   .crt-data-table-sort-indicator[_ngcontent-%COMP%]{width:16px;flex-shrink:0;height:16px;margin-inline-start:4px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]   .crt-data-table-sort-indicator[aria-sort=descending][_ngcontent-%COMP%]{transform:rotate(180deg)}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .column-spacing[_ngcontent-%COMP%]{position:relative;width:6px;height:100%;flex-shrink:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .column-spacing[_ngcontent-%COMP%]   .crt-data-table-column-resize-handle[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;width:12px;height:100%;cursor:ew-resize;outline:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .column-spacing[_ngcontent-%COMP%]   .crt-data-table-column-resize-handle[_ngcontent-%COMP%]   .resize-handle-icon[_ngcontent-%COMP%]{display:block;height:16px;width:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-toolbar[_ngcontent-%COMP%]{height:24px;width:24px;flex-shrink:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-disabled[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]{cursor:default}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.crt-data-table-cell-horizontally-sticky[_ngcontent-%COMP%]{z-index:103!important}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]:not(:hover):not(:focus-within):not(.cdk-keyboard-focused)   .crt-header-cell[_ngcontent-%COMP%]:not(.crt-header-cell-active)   .column-spacing[_ngcontent-%COMP%]   .crt-data-table-column-resize-handle[_ngcontent-%COMP%]   .resize-handle-icon[_ngcontent-%COMP%]{display:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]:not(:hover):not(:focus-within):not(.cdk-keyboard-focused)   .crt-header-cell[_ngcontent-%COMP%]:not(.crt-header-cell-active)   .crt-data-table-sort-indicator[_ngcontent-%COMP%]:not(.crt-data-table-sort-indicator-active){visibility:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]:focus-within:not(:hover):not(.crt-data-table-cell-horizontally-sticky){z-index:101!important}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]:focus-within:not(:hover).crt-data-table-cell-horizontally-sticky{z-index:104!important}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]:hover:not(.crt-data-table-cell-horizontally-sticky):not(.crt-header-toolbar-cell){z-index:99!important}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]:hover.crt-data-table-cell-horizontally-sticky{z-index:102!important}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]:hover + .crt-data-table-header-cell-container[_ngcontent-%COMP%]:not(.crt-data-table-cell-horizontally-sticky){z-index:98!important}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]:hover + .crt-data-table-header-cell-container.crt-data-table-cell-horizontally-sticky[_ngcontent-%COMP%]{z-index:101!important}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]{padding:0;box-sizing:border-box}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]   .crt-insert-item-button-container[_ngcontent-%COMP%]{position:absolute;bottom:-9px;height:16px;left:0;right:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]   .crt-insert-item-button-container[_ngcontent-%COMP%]   .crt-data-table-selection-checkbox-container-stub[_ngcontent-%COMP%]{position:absolute;top:0;right:0;height:6px;z-index:1}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]   .crt-insert-item-button[_ngcontent-%COMP%]{display:flex;justify-content:center;position:absolute;width:12px;height:12px;top:1px;left:6px;z-index:2;border-radius:50%}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]   .crt-insert-item-button[_ngcontent-%COMP%]:hover{left:4px;top:0;height:16px;width:16px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell-container[_ngcontent-%COMP%]{display:flex;align-items:center}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]   .crt-toolbar-cell-container[_ngcontent-%COMP%]{height:100%}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom[_ngcontent-%COMP%]{padding:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-editing[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-row-selection[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-row-selection[_ngcontent-%COMP%]   .crt-data-table-selection-checkbox-container-stub[_ngcontent-%COMP%]{width:24px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-numeration[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-numeration.crt-toolbar-cell-row-selection[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-numeration.crt-toolbar-cell-row-selection[_ngcontent-%COMP%]   .crt-data-table-selection-checkbox-container-stub[_ngcontent-%COMP%]{width:32px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom.crt-toolbar-cell-numeration[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom.crt-toolbar-cell-numeration.crt-toolbar-cell-editing[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom.crt-toolbar-cell-numeration.crt-toolbar-cell-row-selection[_ngcontent-%COMP%]{width:48px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom.crt-toolbar-cell-numeration[_ngcontent-%COMP%]   .crt-data-table-selection-checkbox-container-stub[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom.crt-toolbar-cell-numeration[_ngcontent-%COMP%]   .crt-data-table-all-rows-selection-indicator-container[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom.crt-toolbar-cell-numeration.crt-toolbar-cell-editing[_ngcontent-%COMP%]   .crt-data-table-selection-checkbox-container-stub[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom.crt-toolbar-cell-numeration.crt-toolbar-cell-editing[_ngcontent-%COMP%]   .crt-data-table-all-rows-selection-indicator-container[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom.crt-toolbar-cell-numeration.crt-toolbar-cell-row-selection[_ngcontent-%COMP%]   .crt-data-table-selection-checkbox-container-stub[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom.crt-toolbar-cell-numeration.crt-toolbar-cell-row-selection[_ngcontent-%COMP%]   .crt-data-table-all-rows-selection-indicator-container[_ngcontent-%COMP%]{width:32px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom.crt-toolbar-cell-row-selection[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-custom.crt-toolbar-cell-editing[_ngcontent-%COMP%]{width:48px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-row-selection[_ngcontent-%COMP%]{padding:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-row-selection[_ngcontent-%COMP%]   .crt-data-table-row-selection-indicator-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-items:center;justify-content:flex-end}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-row-selection[_ngcontent-%COMP%]   .crt-data-table-row-selection-indicator-container[_ngcontent-%COMP%]   .crt-data-table-row-selection-indicator[_ngcontent-%COMP%]{width:16px;margin:0 4px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-row-selection.crt-toolbar-cell-custom[_ngcontent-%COMP%]   .crt-data-table-row-selection-indicator-container[_ngcontent-%COMP%]{padding-inline-start:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-row-selection.crt-toolbar-cell-numeration[_ngcontent-%COMP%]   .crt-data-table-row-selection-indicator-container[_ngcontent-%COMP%]{width:0;padding:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-all-rows-selection[_ngcontent-%COMP%]{padding:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-all-rows-selection[_ngcontent-%COMP%]   .crt-data-table-all-rows-selection-indicator-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;width:100%;height:100%;margin-inline-start:auto}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell.crt-toolbar-cell-all-rows-selection[_ngcontent-%COMP%]   .crt-data-table-all-rows-selection-indicator-container[_ngcontent-%COMP%]   .crt-data-table-all-rows-selection-indicator[_ngcontent-%COMP%]{margin-inline-end:4px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]   crt-data-table-row-changes-status-bar[_ngcontent-%COMP%]{margin-inline-start:auto}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]   .crt-data-table-row-index[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;margin-inline-start:auto;margin-inline-end:4px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]:not(.crt-header-toolbar-cell):hover{z-index:2!important}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-toolbar-cell[_ngcontent-%COMP%]:not(:hover)   .crt-insert-item-button-container[_ngcontent-%COMP%]{display:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .crt-data-table-row-skeleton-cell[_ngcontent-%COMP%]   crt-skeleton-loader[_ngcontent-%COMP%]{position:relative;top:1px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table.cdk-drop-list-dragging[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]{cursor:move}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table.cdk-drop-list-dragging[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container.cdk-drag-handle[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table.cdk-drop-list-dragging[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]{cursor:inherit}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table.cdk-drop-list-dragging[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]   .crt-data-table-sort-indicator[_ngcontent-%COMP%]{visibility:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table.cdk-drop-list-dragging[_ngcontent-%COMP%]   .crt-data-table-header-cell-container[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .column-spacing[_ngcontent-%COMP%]   .crt-data-table-column-resize-handle[_ngcontent-%COMP%]{cursor:inherit;visibility:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .prefix-node[_ngcontent-%COMP%]{margin-right:4px}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table[_ngcontent-%COMP%]   .prefix-node[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:16px;width:16px;box-sizing:content-box;cursor:pointer;float:right;font-size:16px;line-height:16px;padding-left:16px;-webkit-user-select:none;user-select:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]{opacity:.7;padding:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]   .cdk-drag-handle[_ngcontent-%COMP%]{pointer-events:auto;cursor:move}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;flex-direction:row;align-items:center}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]{display:flex;flex-grow:1;align-items:center;height:100%;min-width:0}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-header-cell-caption[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]{border:none;padding:0 1px;cursor:pointer;background-color:transparent;display:flex;height:24px;align-items:center;overflow:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .crt-header-cell-caption-container[_ngcontent-%COMP%]   .crt-data-table-sort-indicator-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:none}.crt-data-table-container[_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]   .crt-header-cell[_ngcontent-%COMP%]   .column-spacing[_ngcontent-%COMP%]   .crt-data-table-column-resize-handle[_ngcontent-%COMP%]{visibility:hidden}.crt-data-table-container[_ngcontent-%COMP%]   .observe-last-row[_ngcontent-%COMP%]{height:1px;position:sticky;left:0;right:0}.crt-data-table-container[_ngcontent-%COMP%]   .observe-last-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:1px}.crt-data-table-no-data-container[_ngcontent-%COMP%], .crt-data-table-no-data-placeholder[_ngcontent-%COMP%], .crt-data-table-no-columns-container[_ngcontent-%COMP%]{position:absolute;top:50px;z-index:1;left:50%;transform:translate(-50%)}.crt-data-table-no-data-container-top-spot[_ngcontent-%COMP%], .crt-data-table-no-data-placeholder-top-spot[_ngcontent-%COMP%], .crt-data-table-no-columns-container-top-spot[_ngcontent-%COMP%]{top:12px}.crt-data-table-no-data-placeholder[_ngcontent-%COMP%]{top:max(25%,44px);max-height:calc(100% - max(25%,44px) - 16px);overflow-y:hidden}.crt-data-table-no-data-placeholder[_ngcontent-%COMP%]:empty{display:none}.crt-data-table-no-data-placeholder[_ngcontent-%COMP%]:not(:empty) ~ .crt-data-table-no-data-container[_ngcontent-%COMP%]{display:none}.crt-data-table-skeleton[_ngcontent-%COMP%]{width:100%;height:100%}.crt-data-table-skeleton[_ngcontent-%COMP%]:empty{display:none}.crt-data-table-container[_ngcontent-%COMP%]:not(.hierarchical)   .crt-data-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-of-type:not(.crt-toolbar-cell):not(.crt-data-table-loading-cell):not(.cdk-drag-placeholder):not([style*=transform])   .crt-cell[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]:not(.hierarchical)   .crt-data-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-of-type:not(.crt-toolbar-cell):not(.crt-data-table-loading-cell).cdk-drag-placeholder + .mat-header-cell[style*=transform][_ngcontent-%COMP%]   .crt-cell[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]:not(.hierarchical)   .crt-data-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type:not(.crt-toolbar-cell):not(.crt-data-table-loading-cell):not(.cdk-drag-placeholder):not([style*=transform])   .crt-cell[_ngcontent-%COMP%], .crt-data-table-container[_ngcontent-%COMP%]:not(.hierarchical)   .crt-data-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-of-type:not(.crt-toolbar-cell):not(.crt-data-table-loading-cell).cdk-drag-placeholder + .mat-header-cell[style*=transform][_ngcontent-%COMP%]   .crt-cell[_ngcontent-%COMP%]{padding-left:6px}crt-data-table[dir=rtl][_ngcontent-%COMP%]   .crt-data-table-header-cell-container.cdk-drag-preview[_ngcontent-%COMP%]{right:auto!important}.crt-data-table-manage-changes-panel[_ngcontent-%COMP%]{max-width:80%;overflow:hidden;position:absolute;z-index:2;bottom:20px;left:50%}'],changeDetection:0})}}const Ok=["*",[["","slot","skeleton"]]],Dk=["*","[slot='skeleton']"],C2=r=>[r],Ak=()=>["rowToolbarNavigationItem"],G6=()=>[],Lk=(r,e,n)=>({row:r,rowId:e,injector:n}),$6=r=>({$implicit:r}),kk=()=>["addingNavigationItem","tableToolbarNavigationItem"];function Rk(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",13,1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("click",function(i){return t.\u0275\u0275restoreView(n),t.\u0275\u0275resetView(i.stopPropagation())}),t.\u0275\u0275elementEnd()}if(r&2){const n=e.ngIf,a=t.\u0275\u0275reference(1);t.\u0275\u0275nextContext();const i=t.\u0275\u0275reference(3),s=t.\u0275\u0275nextContext(2);t.\u0275\u0275classProp("crt-toolbar-visible",(a==null?null:a.menuOpen)||n.rowId===s.focusedRowId),t.\u0275\u0275property("crtMenuTriggerFor",i)("crtMenuTriggerData",t.\u0275\u0275pureFunction1(17,$6,t.\u0275\u0275pureFunction3(13,Lk,n.row,n.rowId,s.injector)))("displayType","text")("iconPosition","only-icon")("icon","actions-button-icon")("size",s.buttonSize)("title",t.\u0275\u0275pipeBind1(2,11,"DataGrid.RowToolbar.Title"))("crtKeyboardNavigationItem","rowToolbarNavigationItem")("crtKeyboardNavigationItemUseFocusableChild",!0)}}function Nk(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",10),t.\u0275\u0275template(1,Rk,3,19,"crt-button",11),t.\u0275\u0275element(2,"crt-menu",12,0),t.\u0275\u0275elementEnd()),r&2){let n;const a=e.$implicit,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a),t.\u0275\u0275advance(),t.\u0275\u0275property("menuItems",(i.rowToolbarItems==null?null:i.rowToolbarItems.length)>0?t.\u0275\u0275pureFunction0(4,G6):i.rowMenuItems)("items",(n=i.rowToolbarItems)!==null&&n!==void 0?n:t.\u0275\u0275pureFunction0(5,G6))("context",a==null?null:a.row)}}function Vk(r,e){r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Nk,4,6,"ng-template",9),t.\u0275\u0275elementContainerEnd()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("crtDataTableRowToolbarNavigationItems",t.\u0275\u0275pureFunction0(1,Ak)))}function Fk(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",15)(1,"crt-button",16,2),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275listener("focused",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.setFocusedColumn(i.id))})("blurred",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.setFocusedColumn(null))})("menuOpened",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.setActiveColumn(i.id))})("menuClosed",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.setActiveColumn(null))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"crt-menu",17,3),t.\u0275\u0275elementEnd()}if(r&2){const n=e.$implicit,a=t.\u0275\u0275reference(7),i=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("crtMenuTriggerFor",a)("crtMenuTriggerData",t.\u0275\u0275pureFunction1(14,$6,n))("ariaLabel",t.\u0275\u0275pipeBind1(4,10,"DataGrid.ColumnToolbar.AriaLabel")+" "+(n==null?null:n.caption))("size",i.buttonSize)("displayType","text")("iconPosition","only-icon")("icon","actions-button-icon")("title",t.\u0275\u0275pipeBind1(5,12,"DataGrid.ColumnToolbar.Title"))("autofocus",n.id===i.focusedColumnId),t.\u0275\u0275advance(5),t.\u0275\u0275property("menuItems",i.getColumnMenuItems(n))}}function jk(r,e){r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Fk,8,16,"div",14),t.\u0275\u0275elementContainerEnd())}function Bk(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-button",20),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"stringFormat"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(3);return t.\u0275\u0275resetView(i.addColumns())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275property("size",n.buttonSize)("ariaLabel",t.\u0275\u0275pipeBind1(2,8,"DataGrid.AddColumnsTo")+" "+t.\u0275\u0275pipeBind2(4,12,t.\u0275\u0275pipeBind1(3,10,"DataGrid.Title"),t.\u0275\u0275pureFunction1(17,C2,n.title)))("title",t.\u0275\u0275pipeBind1(5,15,"DataGrid.AddColumns"))("displayType","text")("icon","add-button-icon")("iconPosition","only-icon")("crtKeyboardNavigationItem","addingNavigationItem")("crtKeyboardNavigationItemUseFocusableChild",!0)}}function zk(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"crt-button",21,1),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275pipe(6,"stringFormat"),t.\u0275\u0275element(7,"crt-menu",22,4),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275property("crtMenuTriggerFor",n)("size",a.buttonSize)("displayType","text")("iconPosition","only-icon")("icon","actions-button-icon")("title",t.\u0275\u0275pipeBind1(3,10,"DataGrid.ActionsToolbar.Title"))("ariaLabel",t.\u0275\u0275pipeBind1(4,12,"DataGrid.ActionsToolbar.AriaLabel")+" "+t.\u0275\u0275pipeBind2(6,16,t.\u0275\u0275pipeBind1(5,14,"DataGrid.Title"),t.\u0275\u0275pureFunction1(19,C2,a.title)))("crtKeyboardNavigationItem","tableToolbarNavigationItem")("crtKeyboardNavigationItemUseFocusableChild",!0),t.\u0275\u0275advance(6),t.\u0275\u0275property("items",a.headerToolbarItems)}}function Uk(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275template(1,Bk,6,19,"ng-container",6)(2,zk,9,21,"ng-container",6),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.features==null||n.features.columns==null?null:n.features.columns.adding),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",(n.headerToolbarItems==null?null:n.headerToolbarItems.length)>0)}}function Hk(r,e){r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Uk,3,2,"ng-template",18),t.\u0275\u0275elementContainerEnd()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("crtDataTableHeaderToolbarNavigationItems",t.\u0275\u0275pureFunction0(1,kk)))}function Wk(r,e){r&1&&t.\u0275\u0275projection(0,0,["*crtDataTablePlaceholder",""])}function Gk(r,e){r&1&&t.\u0275\u0275projection(0,1,["*crtDataTableSkeleton",""])}const y2={fitContent:!0};let We=class x4 extends ue.K{set features(e){this._features=(0,y.defaultsDeep)({},e,this._defaultFeatures),this._setHeaderToolbarWidth()}get features(){return this._features}set items(e){this.dataItems=e}set columns(e){this._setColumns(e)}get columns(){return this._columns}set header(e){this._header=e??this._defaultHeader,this._setHeaderToolbarWidth()}get header(){return this._header}set headerToolbarItems(e){this._headerToolbarItems=e,this._setHeaderToolbarWidth()}get headerToolbarItems(){return this._headerToolbarItems}get isFullSize(){return!this.dataItems}get minHeight(){return this.isFullSize?this.maxHeight:"auto"}set fitContent(e){this._fitContent=e??y2.fitContent}get fitContent(){return this._fitContent}constructor(e,n,a,i,s){super(e),this.injector=e,this.rowMenuItems=n,this._defaultFeatures=a,this._columnToolbar=i,this._dataGridColumnsStateHandler=s,this._defaultHeader={sticky:!0},this._columns=[],this._header=this._defaultHeader,this._features=this._defaultFeatures||{},this._headerToolbarItems=[],this._renderer=(0,t.inject)(t.Renderer2),this.dataItems=[],this.buttonSize=ht.Z.Medium,this.rowToolbarItems=[],this.bulkActions=[],this.stretch=!1,this._fitContent=y2.fitContent,this.supportFullSizeAnimation=!0,this.supportFullSize=!0,this.columnsChange=new t.EventEmitter,this.selectedRowsChange=new t.EventEmitter,this.selectionStateChange=new t.EventEmitter,this.activeRowChange=new t.EventEmitter,this.sortingChange=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.rowDoubleClick=new t.EventEmitter,this.createItem=new t.EventEmitter,this.deleteItem=new t.EventEmitter,this.saveItemsChanges=new t.EventEmitter,this.cancelItemsChanges=new t.EventEmitter,this._setColumns([]),this._setHeaderToolbarWidth(),this._columnToolbar.registerColumnsChangedHandler(b=>{this.columns=b,this.columnsChange.emit(b)}),this._columnToolbar.registerSortingChangedHandler(b=>{this.sortingChange.emit(b)}),this._featureValues=this.injector.get(ge.G,null),this._initFullSizeSupport()}_initFullSizeSupport(){this.supportFullSizeAnimation=!this._featureValues?.["Runtime.DisableDataGridFullSizeAnimation"],this.supportFullSize=!this._featureValues?.["Runtime.DisableDataGridFullSize"]}_setHeaderToolbarWidth(){let a=this._features?.columns?.adding?1:0;this.headerToolbarItems.length>0&&a++;const i=a?24*a+8:0;this._header={...this._header,toolbar:{width:i}}}_setColumns(e){this._columns=Array.isArray(e)?e:[],this._columns=this._columns.filter(n=>n).sort(m2),this._dataGridColumnsStateHandler.columns=this._columns,this.setActiveColumn(null),this.columns?.length>0&&this.changeDetectorRef.detectChanges()}_getColumnSorting(e){return this.sorting?.find(({columnCode:n})=>n===e.code)}addColumns(){var e=this;return(0,bt.A)(function*(){const n=yield(0,m.lastValueFrom)(e._dataGridColumnsStateHandler.addColumn(),{defaultValue:null});e.columnsChange.emit(n)})()}setActiveColumn(e){this.activeColumnId=e}setFocusedColumn(e){this.focusedColumnId=e}getColumnMenuItems(e){const n=this._getColumnSorting(e);return this._columnToolbar.getToolsMenuItems({...e,sorting:n},this.features)}onColumnsChanged(e){var n=this;return(0,bt.A)(function*(){n.columns=yield(0,m.lastValueFrom)(n._dataGridColumnsStateHandler.onColumnsChanged(e),{defaultValue:null}),n.columnsChange.emit(n.columns)})()}onSelectedRowsChanged(e){this.selectedRowsChange.emit(e)}onSelectionStateChanged(e){this.selectionStateChange.emit(e)}onActiveRowChanged(e){this.activeRowChange.emit(e)}onPaginationChanged(e){this.loading||this.paginationChange.emit(e)}onSortingChanged(e){this.sortingChange.emit(e)}onCreateItem(e){this.createItem.emit(e)}onDeleteItem(e){this.deleteItem.emit(e)}onSaveItemsChanges(){this.saveItemsChanges.emit()}onCancelItemsChanges(e){this.cancelItemsChanges.emit(e)}ngAfterViewInit(){this.supportFullSize&&this.maxHeight&&this._renderer.setStyle(this.elementRef.nativeElement,"max-height",this.maxHeight)}static{this.\u0275fac=function(n){return new(n||x4)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(xA,8),t.\u0275\u0275directiveInject(g2,8),t.\u0275\u0275directiveInject(Al),t.\u0275\u0275directiveInject(dc))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:x4,selectors:[["crt-data-grid"]],hostVars:12,hostBindings:function(n,a){n&2&&(t.\u0275\u0275styleProp("--data-grid-min-height",a.minHeight),t.\u0275\u0275classProp("stretch",a.stretch)("fit-content",a._fitContent)("support-full-size-animation",a.supportFullSizeAnimation)("support-full-size",a.supportFullSize)("full-size",a.isFullSize))},inputs:{hierarchicalColumnName:"hierarchicalColumnName",title:"title",features:"features",items:"items",totalItemsCount:"totalItemsCount",columns:"columns",primaryColumnName:"primaryColumnName",editingCells:"editingCells",selectedRows:"selectedRows",selectionState:"selectionState",activeRow:"activeRow",sorting:"sorting",header:"header",headerToolbarItems:"headerToolbarItems",rowToolbarItems:"rowToolbarItems",bulkActions:"bulkActions",stretch:"stretch",fitContent:"fitContent",maxHeight:"maxHeight"},outputs:{columnsChange:"columnsChange",selectedRowsChange:"selectedRowsChange",selectionStateChange:"selectionStateChange",activeRowChange:"activeRowChange",sortingChange:"sortingChange",paginationChange:"paginationChange",rowDoubleClick:"rowDoubleClick",createItem:"createItem",deleteItem:"deleteItem",saveItemsChanges:"saveItemsChanges",cancelItemsChanges:"cancelItemsChanges"},features:[t.\u0275\u0275ProvidersFeature([dc,Al]),t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Dk,decls:8,vars:28,consts:[["rowMenu",""],["trigger","crtMenuTrigger"],["button","","trigger","crtMenuTrigger"],["columnMenu",""],["actionsMenu",""],[1,"data-grid",3,"columnsChange","selectionStateChange","selectedRowsChange","activeRowChange","sortingChange","paginationChange","rowDoubleClick","createItem","deleteItem","saveItemsChanges","cancelItemsChanges","ngStyle","items","totalItemsCount","columns","bulkActions","features","header","sorting","hierarchicalColumnName","selectionState","activeColumnId","activeRow","editingCells","selectedRows","primaryColumnName","loading","ariaLabel","ngClass"],[4,"ngIf"],[4,"crtDataTablePlaceholder"],[4,"crtDataTableSkeleton"],["crtDataTableRowToolbar","",3,"crtDataTableRowToolbarNavigationItems"],[1,"crt-row-toolbar-wrapper"],["class","crt-toolbar crt-row-toolbar",3,"crtMenuTriggerFor","crtMenuTriggerData","displayType","iconPosition","icon","size","crt-toolbar-visible","title","crtKeyboardNavigationItem","crtKeyboardNavigationItemUseFocusableChild","click",4,"ngIf"],[3,"menuItems","items","context"],[1,"crt-toolbar","crt-row-toolbar",3,"click","crtMenuTriggerFor","crtMenuTriggerData","displayType","iconPosition","icon","size","title","crtKeyboardNavigationItem","crtKeyboardNavigationItemUseFocusableChild"],["class","crt-column-toolbar-wrapper",4,"crtDataTableColumnToolbar"],[1,"crt-column-toolbar-wrapper"],[1,"crt-toolbar","crt-column-toolbar",3,"focused","blurred","menuOpened","menuClosed","crtMenuTriggerFor","crtMenuTriggerData","ariaLabel","size","displayType","iconPosition","icon","title","autofocus"],[3,"menuItems"],["crtDataTableHeaderToolbar","",3,"crtDataTableHeaderToolbarNavigationItems"],[1,"crt-header-toolbar"],["data-qa","add-columns-button",1,"crt-toolbar","crt-toolbar-custom",3,"clicked","size","ariaLabel","title","displayType","icon","iconPosition","crtKeyboardNavigationItem","crtKeyboardNavigationItemUseFocusableChild"],["data-qa","data-grid-actions-button",1,"crt-toolbar","crt-toolbar-custom",3,"crtMenuTriggerFor","size","displayType","iconPosition","icon","title","ariaLabel","crtKeyboardNavigationItem","crtKeyboardNavigationItemUseFocusableChild"],[3,"items"]],template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(Ok),t.\u0275\u0275elementStart(0,"crt-data-table",5),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"stringFormat"),t.\u0275\u0275listener("columnsChange",function(s){return a.onColumnsChanged(s)})("selectionStateChange",function(s){return a.onSelectionStateChanged(s)})("selectedRowsChange",function(s){return a.onSelectedRowsChanged(s)})("activeRowChange",function(s){return a.onActiveRowChanged(s)})("sortingChange",function(s){return a.onSortingChanged(s)})("paginationChange",function(s){return a.onPaginationChanged(s)})("rowDoubleClick",function(s){return a.rowDoubleClick.emit(s)})("createItem",function(s){return a.onCreateItem(s)})("deleteItem",function(s){return a.onDeleteItem(s)})("saveItemsChanges",function(){return a.onSaveItemsChanges()})("cancelItemsChanges",function(s){return a.onCancelItemsChanges(s)}),t.\u0275\u0275template(3,Vk,2,2,"ng-container",6)(4,jk,2,0,"ng-container",6)(5,Hk,2,2,"ng-container",6)(6,Wk,1,0,"ng-content",7)(7,Gk,1,0,"ng-content",8),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("ngStyle",a.styles)("items",a.dataItems)("totalItemsCount",a.totalItemsCount)("columns",a.columns)("bulkActions",a.bulkActions)("features",a.features)("header",a.header)("sorting",a.sorting)("hierarchicalColumnName",a.hierarchicalColumnName)("selectionState",a.selectionState)("activeColumnId",a.activeColumnId||a.focusedColumnId)("activeRow",a.activeRow)("editingCells",a.editingCells)("selectedRows",a.selectedRows)("primaryColumnName",a.primaryColumnName)("loading",a.loading)("ariaLabel",t.\u0275\u0275pipeBind2(2,23,t.\u0275\u0275pipeBind1(1,21,"DataGrid.Title"),t.\u0275\u0275pureFunction1(26,C2,a.title)))("ngClass",a.classes),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.features==null||a.features.rows==null?null:a.features.rows.toolbar),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.features==null||a.features.columns==null?null:a.features.columns.toolbar),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",(a.headerToolbarItems==null?null:a.headerToolbarItems.length)>0||(a.features==null||a.features.columns==null?null:a.features.columns.adding)))},dependencies:[Jt,_.NgClass,_.NgIf,_.NgStyle,Dp,Bg,kp,Ap,Lp,Rp,Ua,ri,wp,f.TranslatePipe,lc],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:block;width:100%;height:100%;overflow:auto}.support-full-size.support-full-size-animation[_nghost-%COMP%]{transition:min-height .3s ease}.support-full-size.full-size[_nghost-%COMP%]{min-height:var(--data-grid-min-height)}.support-full-size.full-size.support-full-size-animation[_nghost-%COMP%]{transition:min-height 0s ease}.fit-content[_nghost-%COMP%]{overflow:visible}.menu-icon[_ngcontent-%COMP%]{width:16px;height:16px}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],We.prototype,"hierarchicalColumnName",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],We.prototype,"title",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],We.prototype,"features",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],We.prototype,"items",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number)],We.prototype,"totalItemsCount",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],We.prototype,"columns",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],We.prototype,"primaryColumnName",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],We.prototype,"editingCells",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],We.prototype,"selectedRows",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],We.prototype,"selectionState",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],We.prototype,"activeRow",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],We.prototype,"sorting",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],We.prototype,"header",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],We.prototype,"headerToolbarItems",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],We.prototype,"rowToolbarItems",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],We.prototype,"bulkActions",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],We.prototype,"stretch",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],We.prototype,"fitContent",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],We.prototype,"columnsChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],We.prototype,"selectedRowsChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],We.prototype,"selectionStateChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],We.prototype,"activeRowChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],We.prototype,"sortingChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],We.prototype,"paginationChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],We.prototype,"rowDoubleClick",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],We.prototype,"createItem",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],We.prototype,"deleteItem",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],We.prototype,"saveItemsChanges",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],We.prototype,"cancelItemsChanges",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],We.prototype,"maxHeight",void 0),We=(0,u.__decorate)([(0,Qt.v)({type:"crt.DataGrid",contentSlots:["placeholder","skeleton"],reuseStrategy:$t.B.Reuse,renderStrategy:Sm.D.OnViewport,placeholderSize:{height:"49px"},compatibleAPIs:{[q1.Filtration]:!0}}),(0,$e.f)({toolbarConfig:{position:20,icon:o(42604),hint:"Components.DataGrid.Hint",defaultPropertyValues:{}},propertiesPanelComponentTypeName:"crt.DataGridPropertiesPanel",designViewItemCommands:{copy:"crt.CopyDataGridItemCommand",create:"crt.CreateDataGridItemCommand",delete:"crt.RemoveDataGridViewItemCommand"},designControlConfig:{allowDesignContent:!0,defaultValues:y2},viewElementGroupType:pn.J.Components,typeCaption:"Components.DataGrid.Caption",collectionPropertyNames:["bulkActions"]}),(0,u.__metadata)("design:paramtypes",[t.Injector,Array,Object,Al,dc])],We);const $k="CanManageListColumns";var Pf=o(40968);function Kk(r,e){const{dragAndDrop:n,resizing:a,sorting:i}=r??{};return{dragAndDrop:n??!!e?.dragAndDrop,resizing:a??!!e?.resizing,sorting:i??!!e?.sorting}}function Zk(r,e){const{editing:n,toolbar:a,adding:i}=r??{};return{...Kk(r,e),editing:n??!!e?.editing,toolbar:a??!!e?.toolbar,adding:i??!!e?.adding}}function Qk(r,e){return{...LA(r,e),toolbar:r?.toolbar??!!e?.toolbar}}function Yk(r,e){const{selection:n}=r??{};return{selection:n??!!e?.selection}}function Jk(r,e){const{cells:n,columns:a,editable:i,header:s,operations:b,rows:D}=r??{};return{cells:Yk(n,e?.cells),columns:Zk(a,e?.columns),editable:O6(i,e?.editable),header:A6(s,e?.header),operations:{...b},rows:Qk(D,e?.rows)}}let v2=class{constructor(e){this._defaultFeatures=e}convert(e,n,a){const i=Jk(e,this._defaultFeatures);return a?(0,y.get)(i,a):i}};v2=(0,u.__decorate)([(0,so.a)({type:"crt.PickDataGridFeatureValue"}),(0,u.__param)(0,(0,t.Optional)()),(0,u.__param)(0,(0,t.Inject)(g2)),(0,u.__param)(0,(0,Pf.j)(g2)),(0,u.__metadata)("design:paramtypes",[Object])],v2);var K6=o(46089);class wC{_getBoundAttributesFromRequestBindingConfig(e){const n=e?.params??{};return Object.values(n).map(a=>(0,_n.Ai)(a)).flat()}getInputBoundAttributes(e){const n=K6.D.getViewElementInputs(e.type);return Object.keys(n).map(a=>(0,_n.Ai)(e[a])).flat()}getOutputBoundAttributes(e){const n=K6.D.getViewElementOutputs(e.type);return Object.keys(n).map(a=>e[a]).map(a=>[...(0,_n.Ai)(a),...this._getBoundAttributesFromRequestBindingConfig(a)]).flat()}getBoundAttributes(e){return[...this.getInputBoundAttributes(e),...this.getOutputBoundAttributes(e)]}static{this.\u0275fac=function(n){return new(n||wC)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:wC,factory:wC.\u0275fac})}}function Xk(r,e){return r?.name?.replace(/[^\w]/g,"")||E.$A.generateUnique(e)}function Of(r){return Xk(r,"DataGrid")}function Z6(r){return`${Of(r)}_ActiveRow`}function pH(r){return`${Of(r)}_SelectedRows`}function uH(r){return createComponentSelectionStateAttributeName(Of(r))}function qk(r){return r?`${r}_LoadParameters_TotalCount`:null}function tR(r){return r?`${r}_LoadParameters_SelectedCount`:null}function eR(r){return`${Of(r)}_ActiveFolderSettings`}function nR(r,e){const{direction:n,columnCode:a}=r??{};if(!a)return null;const i=e.viewModelConfig?.attributes?.[a];if(!i||!("modelConfig"in i))return null;const b=i.modelConfig?.path?.split(".")?.pop();return b?{direction:n,columnName:b}:null}function aR(r,e){const{direction:n,columnName:a}=r??{};if(!a)return null;const i=e.viewModelConfig?.attributes??{},s=Object.keys(i).find(b=>iR(a,i[b]));return s?{direction:n,columnCode:s}:null}function iR(r,e){return!e||!("modelConfig"in e)?!1:e.modelConfig?.path?.split(".")?.pop()===r}function Q6(r,e){return!Array.isArray(r)||!e?[]:r.map(n=>nR(n,e)).filter(Boolean)}function Y6(r,e){return!Array.isArray(r)||!e?[]:r.map(n=>aR(n,e)).filter(Boolean)}function J6(r){return`${Of(r)}_Sorting`}let M2=class{convert(e,n,a){if(!e?.length||!n||!a)return[];const i=n._attributeConfigs?.[a];return i?Y6(e,i):[]}};M2=(0,u.__decorate)([(0,so.a)({type:"crt.ToDataTableSortingConfig"})],M2);class Df{constructor(e,n){this.httpClient=e,this._userInfo=n,this._dcmSchemasMap=new Map,this._dcmSchemaItemsMap=new Map,this.serviceEndpoint="DataService/"+(this._userInfo.isSSP?"ssp/":"")+"json/SyncReply/"}getDcmSchemaDataCollection(){if(this._dcmSchemaData)return(0,m.of)(this._dcmSchemaData);const e=this.serviceEndpoint+"DcmSchemaManagerRequest";return this.httpClient.post(e,{}).pipe((0,h.tap)(n=>this._dcmSchemaData=n?.collection),(0,h.map)(n=>n?.collection))}getDcmSchemaData(e){const n=this._dcmSchemasMap.get(e);if(n)return(0,m.of)(n);const a=this.serviceEndpoint+"DcmSchemaInfoRequest";return this.httpClient.post(a,{uId:e}).pipe((0,h.tap)(i=>this._dcmSchemasMap.set(e,i)),(0,h.map)(i=>i))}getDcmSchemaDataItems(e){let n=this._dcmSchemaItemsMap.get(e);if(n)return n;const a=this.serviceEndpoint+"DcmSchemaInfoItemsRequest";return n=this.httpClient.post(a,{entitySchemaUId:e}).pipe((0,h.map)(i=>i?.collection),(0,m.shareReplay)({bufferSize:1,refCount:!0})),this._dcmSchemaItemsMap.set(e,n),n}getDcmRunningProcess(e,n){const a=this.serviceEndpoint+"DcmRunningProcessRequest";return this.httpClient.post(a,{contractName:"DcmRunningProcessRequest",entitySchemaUId:e,recordId:n}).pipe((0,h.map)(i=>({name:i?.Name,uId:i?.UId,success:i?.success})))}getDcmRunningProcessHistory(e,n){const a=this.serviceEndpoint+"DcmRunningProcessWithHistoryRequest";return this.httpClient.post(a,{contractName:"DcmRunningProcessWithHistoryRequest",entitySchemaUId:e,recordId:n}).pipe((0,h.map)(i=>({name:i?.Name,uId:i?.UId,history:i?.History,success:i?.success})))}getDcmRecordInfo(e,n){const a=this.serviceEndpoint+"DcmInfoRequest";return this.httpClient.post(a,{recordId:e,dcmSchemaUId:n}).pipe((0,h.map)(i=>i))}getAllowedStages(e){return this.httpClient.post("rest/DcmService/GetAllowedStagesForCurrentUser",{dcmSchemaUId:e}).pipe((0,h.map)(a=>a.GetAllowedStagesForCurrentUserResult))}getDcmStageColumnName(e){return this.httpClient.post("rest/DcmService/GetDcmStageColumnName",{entitySchemaId:e}).pipe((0,h.map)(a=>a.GetDcmStageColumnNameResult))}static{this.\u0275fac=function(n){return new(n||Df)(t.\u0275\u0275inject(l.HttpClient),t.\u0275\u0275inject(Ze.oq))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Df,factory:Df.\u0275fac,providedIn:"root"})}}let I2=class{constructor(e){this._dcmSchemaManagerService=e}convert(e,n){var a=this;return(0,bt.A)(function*(){const[i,s]=yield Promise.all([(0,m.firstValueFrom)(a._dcmSchemaManagerService.getDcmSchemaDataCollection()),(0,m.firstValueFrom)(a._dcmSchemaManagerService.getDcmSchemaDataItems(e.entitySchemaUId))]);return{schemas:i.filter(D=>e.schemasUIds.includes(D.uId)),schemasData:s,filterColumnAttributePath:e.filterColumnAttributePath}})()}};I2=(0,u.__decorate)([(0,so.a)({type:"crt.DataGridStage"}),(0,u.__metadata)("design:paramtypes",[Df])],I2);class zg{static withItems(e){const{menuItemToken:n,menuItems:a}=e||{};return{ngModule:zg,providers:a.map(i=>({provide:n,useExisting:i,multi:!0}))}}static{this.\u0275fac=function(n){return new(n||zg)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:zg})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}var EC=o(89100),x2;(function(r){r.OnDemand="OnDemand",r.OnInit="OnInit"})(x2||(x2={}));var rR=o(98218),TC;(function(r){r[r.Insert=0]="Insert",r[r.Remove=1]="Remove",r[r.Update=2]="Update",r[r.Move=3]="Move",r[r.MoveToIndex=4]="MoveToIndex",r[r.MoveToContainer=5]="MoveToContainer",r[r.CreateDataSource=6]="CreateDataSource",r[r.Rename=7]="Rename",r[r.ParameterChanged=8]="ParameterChanged",r[r.AttributeChanged=9]="AttributeChanged",r[r.DataSourceConfigChanged=10]="DataSourceConfigChanged"})(TC||(TC={}));var Af;(function(r){r[r.Merge=0]="Merge",r[r.Override=1]="Override"})(Af||(Af={}));class S2{}class Ug extends S2{create(e){const{path:n,entitySchemaName:a,aggregationConfig:i}=e||{};return{type:"Aggregation",path:n,entitySchemaName:a,aggregationConfig:{filter:i?.filter,aggregationFunction:i?.aggregationFunction,sortByColumn:i?.sortByColumn,sortByDirection:i?.sortByDirection}}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Ug)))(a||Ug)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ug,factory:Ug.\u0275fac,providedIn:"any"})}}class Hg extends S2{create(e){const{path:n,functionConfig:a}=e||{};return{type:"Function",path:n,functionConfig:a}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Hg)))(a||Hg)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Hg,factory:Hg.\u0275fac,providedIn:"any"})}}class Wg extends S2{create(e){const{type:n,path:a}=e||{};return{type:/\./.test(a)?ig.D.ForwardReferenceAttribute:n,path:a}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Wg)))(a||Wg)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Wg,factory:Wg.\u0275fac,providedIn:"any"})}}const X6=new t.InjectionToken("A factory of entity data source attribute config creator"),oR=E.gX.create({token:X6,mappings:[{predicate:r=>r.type===ig.D.AggregationAttribute,injectable:Ug},{predicate:r=>r.type===ig.D.FunctionAttribute,injectable:Hg}],default:{injectable:Wg}}),q6=new t.InjectionToken("data source config applier"),tM=new t.InjectionToken("data source instance config");var w2=o(66829);function eM(r){if(!r.modelConfig)return null;if(r.modelConfig.primaryDataSourceName)return r.modelConfig.primaryDataSourceName;if(!r.modelConfig.dataSources)return null;const e=Object.entries(r.modelConfig.dataSources).find(([,n])=>!n?.hiddenInPageDesigner&&n?.scope!==EC.Z.ViewElement&&n.type!==w2.z);return e?e[0]:null}function mH(r){const e=eM(r);return(r?.modelConfig?.dataSources??{})[e]?.config?.entitySchemaName??""}class Lf{constructor(e,n,a){this._config=e,this._configApplyFn=n,this._entityDataSourceAttributeConfigCreatorFactory=a}_createAttributeName(e){return(0,ff.F)(e)}_createAttribute(e){return this._entityDataSourceAttributeConfigCreatorFactory.create(e).create(e)}_getAttributes(){return this._config.attributes||{}}_getAttributeByPath(e){return Object.values(this._getAttributes()).find(n=>n.path===e)}_getAttribute(e){const n=e.name;if(n)return this._getAttributes()[n];const a=e.path;if(a)return this._getAttributeByPath(a)}_setAttributes(e){this._config.attributes=e}setAttributes(e){const n=e.reduce((a,i)=>{const s=this._createAttributeName(i.name);let b;return i.type===ig.D.AggregationAttribute?(b=this._getAttribute({name:s})||this._createAttribute(i),b.aggregationConfig=i.aggregationConfig,b.entitySchemaName=i.entitySchemaName):b=this._getAttribute({name:s})||this._getAttribute({path:i.path})||this._createAttribute(i),a[s]=b,a},{});return this._setAttributes(n),this}getAttributeNames(){return Object.keys(this._getAttributes())}apply(){this._configApplyFn(this._config)}static{this.\u0275fac=function(n){return new(n||Lf)(t.\u0275\u0275inject(tM),t.\u0275\u0275inject(q6),t.\u0275\u0275inject(X6))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Lf,factory:Lf.\u0275fac,providedIn:"any"})}}class gi{constructor(e){this.injector=e,this._entityDataSourceConfigServices=new Map,this._primaryDataSourceNameMacros="#PrimaryDataSourceName()#",this.featureValues=this.injector.get(ge.G,null),this.metadataSchemaUtils=this.injector.get(up.u,null),this.viewElementTypeResolver=this.injector.get(Qo.i,null),this.schemaChanged$=new m.Subject,this.schemaLoaded$=new m.ReplaySubject(null)}get schema(){return this.featureValues?.EnableSchemaDeepCloning?(0,y.cloneDeep)(this._schema):this._schema}get schemaName(){return this._schema.name}get schemaCaption(){return this._schema.caption}get resources(){return this._schema.resources}_isViewConfigInfoBindedByPropertyValues(e,n){const a=Object.values(e);for(const i of a)if(n.some(s=>(0,_n.qG)(s)?!!i?.toString()?.startsWith(s):i===s))return!0;return!1}_getDataSourceAttributePath(e,n){return`${e}.${n}`}_getViewModelAttributeConfig(e,n,a=!1){const i={};return!e[n]&&a&&(e[n]=i),e[n]||i}_getModelConfig(e,n=!1){const a={};return!e.modelConfig&&n&&(e.modelConfig=a),e.modelConfig||a}_getCollectionItemViewModelConfig(e,n=!1){const a={attributes:{}};return!e.viewModelConfig&&n&&(e.viewModelConfig=a),e.viewModelConfig||a}_getDataSourcesConfig(){return this._schema?.modelConfig?.dataSources}_initModelConfig(){this._schema?.modelConfig||(this._schema.modelConfig={dataSources:{}}),this._schema.modelConfig.dataSources||(this._schema.modelConfig.dataSources={})}_setModelConfigPath(e,n,a){const i=this._getModelConfig(e,!0);i.path=this._getDataSourceAttributePath(n,a)}_onDataSourceInstanceConfigChange(e){const n=this._schema.modelConfig.dataSources[e];if(n&&n.type==="crt.EntityDataSource"){const a=n.config||{},i=b=>this.bindDataSource(e,b),s=t.Injector.create({providers:[{provide:tM,useValue:a},{provide:q6,useValue:i},oR],parent:this.injector});this._entityDataSourceConfigServices.set(e,s.get(Lf))}}_initializeSchemaDataSourceInstanceServices(){const e=this._schema.modelConfig?.dataSources;if((0,bC.coerceBooleanProperty)(e))for(const n of Object.keys(e))this._onDataSourceInstanceConfigChange(n)}_removeDataSourceDependencies(e,n){n?.dependencies?.[e]!==void 0&&delete n.dependencies[e]}_removeDependedRelationConfigs(e,n){!e||!n||Object.keys(n).forEach(a=>{n[a]=n[a].filter(i=>!this._isRelatedOnDataSource(e,i))})}_isRelatedOnDataSource(e,n){return(n.relationPath.split(".").shift()??"")===e}_setPrimaryDataSourceIfNotSet(e){this._schema.modelConfig.primaryDataSourceName||this.setPrimaryDataSource(e)}_setPageDataSourceLoadingConfig(e,n){n.scope===EC.Z.Page&&this._schema.modelConfig.primaryDataSourceName!==e&&this.setDataSourceLoadingConfig(e,x2.OnInit)}getViewModelAttributesConfig(e=!1){const n=this.getViewModelConfig(e);return!n.attributes&&e&&(n.attributes={}),n.attributes||{}}updateModelConfig(e){e&&(this._schema.modelConfig={...e},this._entityDataSourceConfigServices.clear(),this._initializeSchemaDataSourceInstanceServices())}updateSchemaViewModelConfig(e){e&&(this._schema.viewModelConfig={...e})}getViewModelConfig(e=!1){return this.metadataSchemaUtils.getViewModelConfig(this._schema,e)}getModelConfig(e=!1){return!this._schema.modelConfig&&e&&(this._schema.modelConfig={}),this._schema.modelConfig||{}}init(e){this._schema=e;const n=this.getPrimaryDataSourceName();n&&this._setPrimaryDataSourceIfNotSet(n),this._initializeSchemaDataSourceInstanceServices(),this.schemaLoaded$.next(e)}setModelDependencies(e){this._initModelConfig(),this._schema.modelConfig.dependencies=Object.fromEntries(Object.entries(e??{}).filter(([,n])=>n?.filter(Boolean).length>0)),(0,y.isEmpty)(this._schema.modelConfig.dependencies)&&delete this._schema.modelConfig.dependencies}upsertModelDependencies(e){const n={...this.getModelDependencies(),...e};this.setModelDependencies(n)}getModelDependencies(){return this._initModelConfig(),this._schema.modelConfig.dependencies||{}}setModelDependency(e,n){const a=this.getModelDependencies();a[e]=n,this.setModelDependencies(a)}getDependentModelsNames(e,n){return this.metadataSchemaUtils.getDependentModelsNames(this.getModelDependencies(),e,n)}setPrimaryDataSource(e){const n=this._schema.modelConfig.dataSources[e].scope;if(n===EC.Z.ViewElement)throw new Error(`Data source ${e} with scope ${n} cannot be set primary. Only page scope data sources could be primary.`);this._schema.modelConfig.primaryDataSourceName=e}createDataSource(e,n){if(this._initModelConfig(),this._schema.modelConfig.dataSources[e])throw new Error(`Data source '${e}' already exists`);this._schema.modelConfig.dataSources[e]=n,n.scope===EC.Z.Page&&this._setPrimaryDataSourceIfNotSet(e),this._setPageDataSourceLoadingConfig(e,n),n.hiddenInPageDesigner||this.schemaChanged$.next({schema:this._schema,changes:{viewConfig:this._schema.viewConfig,operation:TC.CreateDataSource}}),this._onDataSourceInstanceConfigChange(e)}getPrimaryDataSourceName(){return eM(this._schema)}getIsPrimaryDataSourceAttributePath(e){const n=this.getPrimaryDataSourceName();return e.split(".")[0]===n}toPrimaryDataSourceMacrosAttributePath(e){const n=e.split(".");return n.length>1&&n.shift(),[this._primaryDataSourceNameMacros,...n].join(".")}isViewModelAttributeExists(e){return this.getViewModelAttributesConfig()[e]!=null}getViewConfigInfoByName(e){return this.metadataSchemaUtils.getViewConfigInfoByName(this._schema,e)}getViewConfigInfoByFilter(e){return this.metadataSchemaUtils.getViewConfigInfoByFilter(e,this._schema?.viewConfig)}getViewConfigsByViewModelAttribute(e){return this.getViewConfigInfoByProperty("control","$"+e)}getViewConfigInfoByProperty(e,n){return this.metadataSchemaUtils.getViewConfigInfoByProperty(e,n,this._schema?.viewConfig)}getViewConfigPathByPropertyValue(e,n){return this.metadataSchemaUtils.getViewConfigPathByPropertyValue(e,n,this._schema?.viewConfig)}getViewConfigInfoByPropertyValues(e){const n=Object.entries(this.getViewModelAttributesConfig()),a=e.map(i=>(0,_n.qG)(i)?n.filter(([b,D])=>D?.from?.includes(i.slice(1))).map(([b])=>`$${b}`).concat([i]):i).flat();return this.metadataSchemaUtils.getViewConfigInfoByFilter(i=>this._isViewConfigInfoBindedByPropertyValues(i,a),this._schema?.viewConfig)}setViewModelAttribute(e,n){const a=this.getViewModelAttributesConfig(!0);a[e]=n}updateViewModelAttribute(e,n){if(!this.isViewModelAttributeExists(e))throw new Error(`ViewModel does not contain attribute with name '${e}'`);const a=this.getViewModelAttributesConfig(),i=(0,y.cloneDeep)(a[e]);a[e]=(0,y.mergeWith)(i,n,(s,b)=>(0,rR.isArray)(b)?b:void 0)}generateUniqueAttributeNameByType(e){return E.$A.generateUnique(e)}getMappedDataSourceAttributePath(e){const n=this.getViewModelAttributesConfig(!0),a=this._getViewModelAttributeConfig(n,e);return this._getModelConfig(a,!0).path}getBoundValueAttribute(e){const n=this.getViewConfigInfoByName(e);if(!n||!n.viewConfig)throw new Error(`ViewItem with name '${e}' not found in schema`);const a=this.viewElementTypeResolver.getFormControlRelatesAttribute(n.viewConfig.type),i=n.viewConfig[a];return i?.startsWith("$")?i.slice(1):null}getDataSourceConfigAttributePath(e,n){const a=this.getDataSourceConfigByName(e);return a?.attributes?a.attributes[n]?.path:null}removeDataSourceAttributePath(e){const n=this.getViewModelAttributesConfig(!0),a=this._getViewModelAttributeConfig(n,e);(0,Q1.o)(a)&&a.modelConfig&&delete a.modelConfig}removeViewModelAttribute(e){const n=this.getViewModelAttributesConfig(!0);return delete n[e],Promise.resolve(!0)}removeUnboundDataSource(e){if(!e||this.isDataSourceBound(e))return;const n=this.getModelConfig();n?.dataSources?.[e]!==void 0&&delete n.dataSources[e],this._removeDependedRelationConfigs(e,n?.dependencies),this._removeDataSourceDependencies(e,n),this.removeDataSourceLoadingConfig(e)}removeDependedRelationConfigs(e){const n=this.getModelConfig();this._removeDependedRelationConfigs(e,n.dependencies)}removeDataSourceDependencies(e){const n=this.getModelConfig();this._removeDataSourceDependencies(e,n)}removeDataSourceLoadingConfig(e){const n=this.getModelConfig();n?.loadingConfig?.[e]!==void 0&&delete n.loadingConfig[e]}setDataSourceLoadingConfig(e,n){const a=this.getModelConfig(!0);a.loadingConfig={...a.loadingConfig??{},[e]:{type:n}}}removeFilterBindings(e){const n=this.getViewModelAttributesConfig(!0);Object.values(n).forEach(a=>{let i=[];(0,Q1.o)(a)&&(i=a.modelConfig?.filterAttributes),i?.length&&(a.modelConfig.filterAttributes=i.filter(s=>s.name!==e))})}createViewModelAttribute(e,n){if(this.isViewModelAttributeExists(e))throw new Error(`ViewModel already contain attribute with name '${e}'`);const a=this.getViewModelAttributesConfig(!0);a[e]=n}createDefaultAttribute(e){const n={};this.createViewModelAttribute(e,n)}findAttributeByDataSourceAttributePath(e){const n=this.findAllAttributesByDataSourceAttributePath(e);return n&&n.length>0?n[0]:null}findAllAttributesByDataSourceAttributePath(e){return this.metadataSchemaUtils.findAllAttributesByDataSourceAttributePath(this._schema,e)}getOrAddViewModelAttribute(e,n=""){n=n||this.getPrimaryDataSourceName();const a=`${n}.${e}`;let i=this.findAttributeByDataSourceAttributePath(a);if(!i){const s=e.replace(/\./g,"_");i=this.generateUniqueAttributeNameByType(s),this.createViewModelAttribute(i,{modelConfig:{path:a}})}return i}createAndBindViewModelAttribute(e,n,a){this.bindViewModelAttribute(e,n,a,!0)}bindViewModelAttribute(e,n,a,i){if(!this.isViewModelAttributeExists(e)&&!i)throw new Error(`ViewModel has no attribute with name '${e}'`);const s=this.getViewModelAttributesConfig(!0),b=this._getViewModelAttributeConfig(s,e,i),D=this._getModelConfig(b,!0);D.path=this._getDataSourceAttributePath(n,a),this.setViewModelAttribute(e,b)}bindViewModelAttributeCollection(e,n,a,i="",s=Af.Merge){if(!this.isViewModelAttributeExists(e))throw new Error(`ViewModel has no attribute with name '${e}'`);const b=this.getViewModelAttributesConfig(!0),D=this._getViewModelAttributeConfig(b,e),W=this._getModelConfig(D,!0);W.path=n;const ot=this._getCollectionItemViewModelConfig(D,!0);s===Af.Merge?a.forEach(It=>{const Pt=this._getViewModelAttributeConfig(ot.attributes,`${i}${It}`,!0);this._setModelConfigPath(Pt,n,It)}):s===Af.Override&&(ot.attributes=a.reduce((It,Pt)=>{const te=this._getViewModelAttributeConfig(ot.attributes,`${i}${Pt}`,!0);return this._setModelConfigPath(te,n,Pt),It[`${i}${Pt}`]=te,It},{}))}isDataSourceExists(e){const n=this._getDataSourcesConfig();return n&&n[e]!=null}getDataSourceConfigByName(e){const n=this._getDataSourcesConfig();return n?n[e]?.config:null}bindDataSource(e,n){let a=this._getDataSourcesConfig();a||(this._initModelConfig(),a=this._getDataSourcesConfig()),this.isDataSourceExists(e)&&(a[e].config=n,this.schemaChanged$.next({schema:this._schema,changes:{viewConfig:this._schema.viewConfig,operation:TC.DataSourceConfigChanged}})),this._onDataSourceInstanceConfigChange(e)}getDataSources(){const e=this._getDataSourcesConfig(),n=[];return e&&Object.keys(e).forEach(a=>{n.push(e[a])}),n}removeDataSourcesFilterAttributeBinding(e){const n=this.getViewModelAttributesConfig(!0);Object.values(n).forEach(a=>{let i=[];(0,Q1.o)(a)&&(i=a.modelConfig?.filterAttributes),i?.length&&(a.modelConfig.filterAttributes=i.filter(s=>s.name!==e))})}getEntityDataSourceConfigService(e){return this._entityDataSourceConfigServices.get(e)}getViewModelAttribute(e){return this.metadataSchemaUtils.getViewModelAttribute(this._schema,e)}removeUnboundViewModelAttribute(e){if(this.isViewModelAttributeBound(e)===!1)return this.removeViewModelAttribute(e)}isViewModelAttributeBound(e){return this.metadataSchemaUtils.isViewModelAttributeBound(this._schema,e)}isDataSourceBound(e){const n=this.getViewModelAttributesConfig();return Object.values(n).some(a=>a?.modelConfig?.path?.split(".")?.shift()===e)}findBoundDataSources(e,n){const a={};for(const[i,s]of Object.entries(e)){const b=(0,_n.qG)(s)&&(0,_n.YK)(s).attributePath;if(!b)continue;const D=this.getViewModelAttribute(b),W=D?.modelConfig?.path,ot=n?.collectionsOnly&&!D?.isCollection;!W||ot||(a[i]=W)}return a}getDataSourceLoadParameters(e){const n=this.getDataSourceConfigByName(e);if(!n)throw new Error(`Data source with name '${e}' not found`);return n.loadParameters??null}setDataSourceLoadParameters(e,n){const a=this.getDataSourceConfigByName(e);if(!a)throw new Error(`Data source with name '${e}' not found`);a.loadParameters=n}getAllowCopyingRecordsParameter(e){const n=this.getDataSourceConfigByName(e);if(!n)throw new Error(`Data source with name '${e}' not found`);return n.allowCopyingRecords}setAllowCopyingRecordsParameter(e,n){const a=this.getDataSourceConfigByName(e);if(!a)throw new Error(`Data source with name '${e}' not found`);a.allowCopyingRecords=n}ngOnDestroy(){this.schemaChanged$.complete(),this.schemaLoaded$.complete()}static{this.\u0275fac=function(n){return new(n||gi)(t.\u0275\u0275inject(t.Injector))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:gi,factory:gi.\u0275fac,providedIn:"platform"})}}let E2=class extends da.l{constructor(e){super(),this._schemaService=e}_getDataGridViewConfig(e){return this._schemaService.getViewConfigInfoByName(e)?.viewConfig}_getDataGridItemsViewModelCollection(e,n){return(0,bt.A)(function*(){if(!(0,_n.qG)(e))return null;const a=(0,_n.YK)(e).attributePath,i=yield n[a];return i instanceof Ni.A?i:null})()}_getDataGridActiveRowViewModel(e,n,a){return(0,bt.A)(function*(){if(!a)return n.findByPrimaryAttribute(e);for(const i of n)if(i&&(yield i[a])===e)return i;return null})()}handle(e){var n=this;return(0,bt.A)(function*(){const{$context:a,rowValueAttributeName:i,dataGridViewElementName:s}=e,b=i&&(yield a[i]);if(!b||!s)return;const D=n._getDataGridViewConfig(s);if(!D)return;const W=yield n._getDataGridItemsViewModelCollection(D.items,a);if(!W)return;const ot=yield n._getDataGridActiveRowViewModel(b,W,D.primaryColumnName);return ot&&(yield(0,m.lastValueFrom)(ot.activateBusinessRules())),n.next?.handle(e)})()}};E2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridActivateRowBusinessRulesHandler",requestType:"crt.DataGridActivateRowBusinessRulesRequest"}),(0,u.__metadata)("design:paramtypes",[gi])],E2);const Vp="__preprocessed";class Gg{addProperty(e,n,a){this._setMutation(e,n,{operationType:"added"}),e[n]=a}updateProperty({source:e,keys:n,value:a}){if(n.includes(Vp))return;const i=n.pop(),s=n.length===0?e:(0,z6.EV)(e,n);s&&(this._setMutation(s,i,{operationType:"modified",input:s[i],output:a}),s[i]=a)}removeProperty(e,n){this._setMutation(e,n,{operationType:"deleted",input:e[n]}),delete e[n]}_forEachWithMutationsInObject(e,n){e&&e[Vp]&&n(e);for(const a in e){const i=e[a];typeof i=="object"&&this._forEachWithMutationsInObject(i,n)}}revert(e){const n=e;return this._forEachWithMutationsInObject(n,a=>{this._revertMutations(a)}),e}_setMutation(e,n,a){e[Vp]||(e[Vp]={}),e[Vp][n]=a}_revertMutations(e){const n=e[Vp]??{};Object.entries(n).forEach(([a,i])=>{const s=i.operationType;switch(i.operationType){case"added":delete e[a];break;case"modified":(0,y.isEqual)(e[a],i.output)&&(e[a]=i.input);break;case"deleted":e[a]=i.input;break;default:throw new Error(`mutation with type: ${s} not supported`)}}),delete e[Vp]}static{this.\u0275fac=function(n){return new(n||Gg)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Gg,factory:Gg.\u0275fac,providedIn:"root"})}}function PC(r){return{activeFolderIdAttrName:`${r}_active_folder_id`,activeFolderFolderTreeIdAttrName:`${r}_active_folder_folder_tree_id`,activeFolderNameAttrName:`${r}_active_folder_name`,activeFolderFilterDataAttrName:`${r}_active_folder_filter_data`,activeFolderFilterAttrName:`${r}_active_folder_filter`,activeFolderFavoriteStateAttrName:`${r}_active_folder_favorite_state`,allowUseStaticFoldersAttrName:`${r}_allow_use_static_folders`,itemsAttrName:`${r}_items`,visibleAttrName:`${r}_visible`,showMaskAttrName:`${r}_show_mask`,itemsModelName:`${r}_items_DS`,itemsFilterAttrName:`${r}_items_DS_filter`,favoriteItemsAttrName:`${r}_favoriteItems`,expandedItemsAttrName:`${r}_expandedItems`,savedFolderIdAttrName:`${r}_savedFolderId`}}const T2=["crt.DataGrid","crt.ListWidget"],P2=[...T2,"crt.FileList","crt.ApprovalList"],gH=[...P2,"crt.Gallery"];var sR=o(34858);const cR=["crt.CopilotActionDataSource","crt.CopilotIntentDataSource","crt.CopilotIntentParameterDataSource",sR.M];function Fp(r){return(0,_n.qG)(r?.items)?(0,_n.YK)(r.items).attributePath??null:null}function hH(r){return getViewElementName(r)}function O2(r,e){const n=Fp(r);if(!n)return null;const a=e.viewModelConfig?.attributes?.[n];return!a||!("modelConfig"in a)||!("viewModelConfig"in a)||!a.modelConfig||!a.viewModelConfig?null:a}function lR(r,e){if(!r)return null;const n=e.modelConfig?.dataSources?.[r];return cR.includes(n?.type)&&n.config?n.config:null}class $g{constructor(){this._metadataSchemaUtils=(0,t.inject)(up.u)}_getElementViewConfigs(e,n){return this._metadataSchemaUtils.getViewConfigInfoByFilter(({type:a})=>n.includes(a),e.viewConfig).map(a=>a?.viewConfig).filter(Boolean)}_isFolderTreeExposeFilter(e,n){const{name:a,_filterOptions:i}=e;return a&&!i?PC(a).activeFolderFilterAttrName===n:(i.expose??[]).map(b=>b?.attribute).filter(Boolean).includes(n)}_getItemsFilterAttributeNames(e,n){const a=Fp(e);if(!a)return[];const i=n.viewModelConfig?.attributes?.[a];return!i||!("modelConfig"in i)?[]:i.modelConfig?.filterAttributes?.map(s=>s?.name).filter(Boolean)??[]}getRelatedFolderTreeViewConfigs(e,n){if(!e||!n)return[];const a=this._getItemsFilterAttributeNames(e,n);return a.length?this._getElementViewConfigs(n,["crt.FolderTree"]).filter(s=>a.some(b=>this._isFolderTreeExposeFilter(s,b))):[]}getSingleRelatedFolderTreeViewConfig(e,n){const a=this.getRelatedFolderTreeViewConfigs(e,n);return a?.length!==1?null:a.pop()}getRelatedDataGridViewConfigs(e,n){return!e||!n?[]:this._getElementViewConfigs(n,T2).filter(i=>this._getItemsFilterAttributeNames(i,n).some(b=>this._isFolderTreeExposeFilter(e,b)))}static{this.\u0275fac=function(n){return new(n||$g)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:$g,factory:$g.\u0275fac})}}var dR=o(34251);const pR="FolderTreeRelatedElementConfigsNotifier";class kf{constructor(e,n,a,i){this._userInfo=e,this._httpClient=n,this._queryExecutor=a,this._messageChannelService=i,this._cache=[],this._messageChannelService.messageEvent$.pipe((0,h.filter)(s=>s?.header?.sender===pR&&s?.body?.UserId!==this._userInfo.id),(0,h.tap)(s=>{this._deleteConfigFromCache({folderId:s.body.FolderId})})).subscribe()}_createEntitySchemaQuery(e,n){const a=new qa.s("FolderRelatedElConfig");return a.addSchemaColumn("ElementName"),a.addSchemaColumn("ElementConfig"),this._addQueryFilters(a,{folderId:e,schemaName:n}),a}_createInsertQuery(e){const n=new Es.L("FolderRelatedElConfig");return this._addQueryColumns(n,e),n}_createUpdateQuery(e,n){const a=new md.N("FolderRelatedElConfig");return this._addQueryColumns(a,n),this._addQueryFilters(a,e),a}_createDeleteQuery(e){const n=new gd.x("FolderRelatedElConfig");return this._addQueryFilters(n,e),n}_addQueryColumns(e,n){if("folderId"in n&&e.addColumn("FolderId",n.folderId,X.r.Guid),"schemaName"in n&&e.addColumn("ClientSchemaName",n.schemaName,X.r.Text),"elementName"in n&&e.addColumn("ElementName",n.elementName,X.r.Text),"elementConfig"in n){const a=n.elementConfig?JSON.stringify(n.elementConfig):"";e.addColumn("ElementConfig",a,X.r.Blob)}}_addQueryFilters(e,n){const{folderId:a,schemaName:i,elementName:s}=n;"folderId"in n&&e.filters.addSchemaColumnFilterWithParameter(He.H.Equal,"FolderId",a),"schemaName"in n&&e.filters.addSchemaColumnFilterWithParameter(He.H.Equal,"ClientSchemaName",i),"elementName"in n&&e.filters.addSchemaColumnFilterWithParameter(He.H.Equal,"ElementName",s)}_executeQueryAndSetCache(e,n,a){return this._queryExecutor.execute(e).pipe((0,m.map)(({success:i})=>({success:i})),(0,m.catchError)(()=>(0,m.of)({success:!1})),(0,h.tap)(({success:i})=>{i&&this._setConfigToCache(n,a)}))}_setResponseToCache(e,n){const{folderId:a,schemaName:i,elementName:s}=e;n.length||n.push({ElementName:s,ElementConfig:null}),n.filter(Boolean).forEach(({ElementName:b,ElementConfig:D})=>{this._setConfigToCache({folderId:a,schemaName:i,elementName:b},D?JSON.parse(D):null)})}_isIncludeCacheKey(e,n){const{folderId:a,schemaName:i,elementName:s}=n;return(!a||a===e.folderId)&&(!i||i===e.schemaName)&&(!s||s===e.elementName)}_hasCachedConfig(e){const{folderId:n,schemaName:a}=e;return this._cache.some(({key:i})=>this._isIncludeCacheKey(i,{folderId:n,schemaName:a}))}_getCachedConfig(e){const{folderId:n,schemaName:a,elementName:i}=e,s=this._cache.find(({key:b})=>(0,y.isEqual)(b,{folderId:n,schemaName:a,elementName:i}));return s?.value?(0,y.cloneDeep)(s.value):null}_setConfigToCache(e,n){const{folderId:a,schemaName:i,elementName:s}=e,b=this._cache.filter(({key:D})=>this._isIncludeCacheKey(D,e));if(b.length){b.forEach(D=>D.value=n);return}a&&i&&s&&this._cache.push({key:{folderId:a,schemaName:i,elementName:s},value:n})}_deleteConfigFromCache(e){this._cache=this._cache.filter(({key:n})=>!this._isIncludeCacheKey(n,e))}get(e){const{folderId:n,schemaName:a,elementName:i}=e??{};if(!n||!a||!i)return(0,m.of)(null);if(this._hasCachedConfig(e))return(0,m.of)(this._getCachedConfig(e));const s=this._createEntitySchemaQuery(n,a);return this._queryExecutor.executeSelectQuery(s).pipe((0,h.tap)(b=>this._setResponseToCache(e,b)),(0,m.map)(()=>this._getCachedConfig(e)),(0,m.catchError)(()=>(0,m.of)(null)))}create(e){const{folderId:n,schemaName:a,elementName:i}=e??{};if(!n||!a||!i)return(0,m.of)({success:!1});const s=this._createInsertQuery(e);return this._executeQueryAndSetCache(s,e,e.elementConfig)}update(e,n){const{folderId:a,schemaName:i,elementName:s}=e??{};if(!a&&!i&&!s||!n)return(0,m.of)({success:!1});const b=this._createUpdateQuery(e,n);return this._executeQueryAndSetCache(b,e,n.elementConfig)}delete(e){const{folderId:n,schemaName:a,elementName:i}=e??{};if(!n&&!a&&!i)return(0,m.of)({success:!1});const s=this._createDeleteQuery(e);return this._executeQueryAndSetCache(s,e,null)}copy(e,n){return!e||!n?(0,m.of)({success:!1}):this._httpClient.post("rest/FolderRelatedElConfigService/Copy",{sourceFolderId:e,targetFolderId:n}).pipe((0,h.tap)(()=>this._deleteConfigFromCache({folderId:n})),(0,m.map)(()=>({success:!0})),(0,m.catchError)(()=>(0,m.of)({success:!1})))}static{this.\u0275fac=function(n){return new(n||kf)(t.\u0275\u0275inject(Ze.oq),t.\u0275\u0275inject(l.HttpClient),t.\u0275\u0275inject(An.w),t.\u0275\u0275inject(qy.A))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:kf,factory:kf.\u0275fac,providedIn:"root"})}}class Kg extends dR.${constructor(e){super(),this._folderTreeRelatedElementConfigsRepository=e}_getCachingKey(e){const{folderId:n,schemaName:a,elementName:i}=e;return`${n}_${a}_${i}`}_isValidFolderSettingsConfig(e){const{folderId:n,schemaName:a,elementName:i}=e;return!!n&&!!a&&!!i}get(e){if(!this._isValidFolderSettingsConfig(e))return(0,m.of)(null);const n=this.getUnsaved(e);return n?(0,m.of)(n):this._folderTreeRelatedElementConfigsRepository.get(e)}getUnsaved(e){if(!this._isValidFolderSettingsConfig(e))return null;const n=this._getCachingKey(e),a=this.getFromCache(n);return(0,y.cloneDeep)(a)??null}setUnsaved(e,n){if(!this._isValidFolderSettingsConfig(e))return;const a=this._getCachingKey(e);this.setToCache(a,(0,y.cloneDeep)(n))}clear(e){return this._isValidFolderSettingsConfig(e)?this._folderTreeRelatedElementConfigsRepository.get(e).pipe((0,m.switchMap)(n=>n?this._folderTreeRelatedElementConfigsRepository.delete(e):(0,m.of)({success:!0})),(0,m.tap)(()=>this.clearUnsaved(e))):(0,m.of)({success:!1})}clearUnsaved(e){if(!this._isValidFolderSettingsConfig(e))return;const n=this._getCachingKey(e);this.deleteFromCache(n)}save(e){if(!this._isValidFolderSettingsConfig(e))return(0,m.of)({success:!1});const n=this.getUnsaved(e);return n?this._folderTreeRelatedElementConfigsRepository.get(e).pipe((0,m.switchMap)(a=>a?this._folderTreeRelatedElementConfigsRepository.update(e,{elementConfig:n}):this._folderTreeRelatedElementConfigsRepository.create({...e,elementConfig:n})),(0,m.tap)(()=>this.clearUnsaved(e))):(0,m.of)({success:!1})}static{this.\u0275fac=function(n){return new(n||Kg)(t.\u0275\u0275inject(kf))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Kg,factory:Kg.\u0275fac,providedIn:"root"})}}class jp{constructor(e,n){this._dataGridFolderTreeRelationsProvider=e,this._folderTreeRelatedElementConfigsProvider=n}_getRelatedDataGridViewConfigs(e,n){return this._dataGridFolderTreeRelationsProvider.getRelatedDataGridViewConfigs(e,n)?.filter(Boolean)}_getFolderRelatedElementsSelectionOptions(e){return(0,bt.A)(function*(){const{folderTreeViewConfig:n,dataGridViewConfigs:a,viewModel:i,metadata:s}=e??{};if(!i||!s||!a?.length||!n?.name)return null;const{activeFolderFolderTreeIdAttrName:b}=PC(n.name),D=e.folderId??(yield e.viewModel?.[b]),W={};return a.forEach(ot=>{W[ot.name]={folderId:D,schemaName:s.name,elementName:ot.name}}),W})()}getByDataGrid(e){var n=this;return(0,bt.A)(function*(){const a=yield n.getFolderRelatedElementsSelectionOptions(e);return a?(0,m.lastValueFrom)(n._folderTreeRelatedElementConfigsProvider.get(a)):null})()}getByFolderTree(e){var n=this;return(0,bt.A)(function*(){const{viewConfig:a,metadata:i}=e??{},s=n._getRelatedDataGridViewConfigs(a,i),b=yield n._getFolderRelatedElementsSelectionOptions({...e,folderTreeViewConfig:a,dataGridViewConfigs:s}),D={};for(const[W,ot]of Object.entries(b||{})){const It=yield(0,m.firstValueFrom)(n._folderTreeRelatedElementConfigsProvider.get(ot));D[W]=It??null}return D})()}getFolderRelatedElementsSelectionOptions(e){var n=this;return(0,bt.A)(function*(){const{viewConfig:a,metadata:i}=e??{},s=n._dataGridFolderTreeRelationsProvider.getSingleRelatedFolderTreeViewConfig(a,i);return s?.name?(yield n._getFolderRelatedElementsSelectionOptions({...e,folderTreeViewConfig:s,dataGridViewConfigs:[a]}))[a.name]:null})()}static{this.\u0275fac=function(n){return new(n||jp)(t.\u0275\u0275inject($g),t.\u0275\u0275inject(Kg))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:jp,factory:jp.\u0275fac})}}let D2=class extends da.l{constructor(e,n,a,i,s,b){super(),this._crtRouter=e,this._schemaService=n,this._featureValues=a,this._metadataModifierService=i,this._dataGridActiveFolderDesignSettingsRelationsProvider=s,this._metadataSchemaUtils=b}_getFolderTreeViewConfig(e){return this._metadataSchemaUtils.getViewConfigInfoByName(this._schemaService.schema,e)?.viewConfig}_getChangedDataGridActiveFolderSettings(e,n){const a=Object.keys(this._metadataModifierService.revert(e)),i=Object.keys(this._metadataModifierService.revert(n));return(0,y.uniq)(a.concat(i)).filter(b=>!(0,y.isEqual)(JSON.parse(JSON.stringify(e[b]??null)),JSON.parse(JSON.stringify(n[b]??null)))).reduce((b,D)=>(b[D]={previous:n[D],current:e[D]},b),{})}handle(e){var n=this;return(0,bt.A)(function*(){if(n._featureValues.DisableDataGridSettingsByFolders)return n.next?.handle(e);const{$context:a,folderTreeName:i,folderId:s}=e;if(!a||!i||!n._crtRouter.getActiveRouteInfo()?.schemaName)return n.next?.handle(e);const D=n._getFolderTreeViewConfig(i),W=yield n._dataGridActiveFolderDesignSettingsRelationsProvider.getByFolderTree({folderId:s,viewConfig:D,viewModel:a,metadata:n._schemaService.schema}),ot=yield n._dataGridActiveFolderDesignSettingsRelationsProvider.getByFolderTree({viewConfig:D,viewModel:a,metadata:n._schemaService.schema});return n._getChangedDataGridActiveFolderSettings(W,ot)})()}};D2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridCheckActiveFolderSettingsChangesHandler",requestType:"crt.DataGridCheckActiveFolderSettingsChangesRequest"}),(0,u.__param)(2,(0,Pf.j)(ge.G)),(0,u.__metadata)("design:paramtypes",[sp,gi,zy.x,Gg,jp,up.u])],D2);function nM(r){const e=r?.config;if(!e)return!1;const n=e;if(!!(n.dataSourceConfig&&n.attributeName))return!0;const i=e;return i.loadType===Ho.I.Load||i.loadType===Ho.I.Reload}let A2=class extends da.l{_cleanupItemsCountLoadParameters(e){const{scopes:n,$context:a,dataSourceName:i}=e;if(!i)return;const b=a.getCollectionViewModelAttributePath(i);if(!b)return;const D={type:"crt.DataGridCleanupCachedItemsCountLoadParametersRequest",scopes:n,$context:a,itemsAttributeName:b};return this.handlerChain.process(D)}handle(e){return nM(e)&&this._cleanupItemsCountLoadParameters(e),this.next?.handle(e)??Promise.resolve()}};A2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridCleanupCachedItemsCountLoadParametersBeforeLoadDataHandler",requestType:"crt.LoadDataRequest"})],A2);let L2=class extends da.l{_isSelectionStateEmpty(e,n){return(0,bt.A)(function*(){if(!e)return!0;const a=yield n[e];return a?.type==="all"?!a.selectedCount||a.selectedCount<0:a?.type==="specific"?!a.selected?.length:!0})()}_cleanupTotalItemsCountLoadParameters(e,n){const a=qk(e);Object.prototype.hasOwnProperty.call(n,a)&&(n[a]=null)}_cleanupSelectedItemsCountLoadParameters(e,n){const a=tR(e);Object.prototype.hasOwnProperty.call(n,a)&&(n[a]=null)}handle(e){var n=this;return(0,bt.A)(function*(){const{$context:a,itemsAttributeName:i,selectionStateAttributeName:s}=e;return!i||!(yield n._isSelectionStateEmpty(s,a))||(n._cleanupTotalItemsCountLoadParameters(i,a),n._cleanupSelectedItemsCountLoadParameters(i,a)),n.next?.handle(e)})()}};L2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridCleanupCachedItemsCountLoadParametersHandler",requestType:"crt.DataGridCleanupCachedItemsCountLoadParametersRequest"})],L2);var bo=o(89807);function uR(r,e,n=!1){return r==null&&e==null&&n===!0?!0:r?.cultureName===e?.cultureName&&r?.value===e?.value}const aM=/#ResourceString\((.*)\)#/;function _H(r){return r?`#ResourceString(${r})#`:null}function iM(r){return aM.test(r)}function k2(r){return iM(r)?r?.replace(aM,"$1")??null:""}function rM(r,e,n){const a=oM(r,e,n);return Object.fromEntries(Object.entries(a).map(([i,s])=>[i,s?.[e]]))}function oM(r,e,n){return!r||!e?{}:Object.fromEntries(Object.entries(r).map(([a,i])=>[a,i?.[e]??i?.[n]]).filter(([,a])=>a!==void 0).map(([a,i])=>[a,{[e]:i}]))}function sM(r){if(!r)return r;const e=JSON.parse(JSON.stringify(r));return Object.fromEntries(Object.entries(e).filter(([,n])=>!(0,y.isEmpty)(n)))}function fH(r,e){const n=new LocalizableStringArray;if(!e)return n;const a=r?.[e];return a&&Object.keys(a).forEach(i=>{n.setValueLocalizableString(i,a[i])}),n}function mR(r,e){const n={};return!e||!r?{}:(r.filter(a=>a?.cultureName!=null).forEach(({cultureName:a,value:i})=>n[a]=i),{[e]:n})}function bH(r,e,n=!1){if(r==null&&e==null)return n===!0;const a=new LocalizableStringArray(r),i=new LocalizableStringArray(e);return a.length!==i.length?!1:a.every(s=>{const b=i.getLocalizableString(s.cultureName);return uR(s,b,n)})}var OC=o(45447),DC=o.n(OC);class cM{}class gR{}class Rf extends cM{constructor(e){super(),this._clientParentSchemaService=e,this._requireJs=window.requirejs}_getParentSchemaFromService(e){return this._clientParentSchemaService.getParentSchemasLocalizableStrings(e)}_getParentSchemasLocalizableResources(e){const n=[];return this._getParentSchemaFromService(e).pipe((0,m.map)(a=>{a.values?.map(i=>{const s={};i.lczList?.map(b=>{const D={};b.values?.map(W=>{D[W.cultureName]=W.value}),s[b.name]=D}),n.push([i?.schemaName,{localizableImages:{},localizableStrings:s}])})}),(0,m.mergeMap)(()=>(0,m.of)(n)))}loadResources(e){return new m.Observable(n=>this._requireJs([e],()=>{this._requireJs([`${e}Structure`],a=>{n.next(a.schemaUId),n.complete()})})).pipe((0,m.mergeMap)(n=>this._getParentSchemasLocalizableResources(n)),(0,m.map)(n=>n.reverse()))}static{this.\u0275fac=function(n){return new(n||Rf)(t.\u0275\u0275inject(gR))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Rf,factory:Rf.\u0275fac,providedIn:"root"})}}class R2{}class Nf extends cM{constructor(e,n){super(),this._profileSchemaProvider=e,this._userInfo=n}_getSchemaPartKeys(){return this._userInfo.isSSP?[bo.J$,bo.vZ,""]:[bo.J$,""]}_appendValuesForCurrentCulture(e){const n=this._userInfo.cultureInfo.sysCultureName;return Object.keys(e).forEach(a=>{const i=e[a]??{};i[n]??=Object.values(i).shift()}),e}_createTranslationPartByKey(e,n){const a=e.find(i=>i.name?.toUpperCase()===n.toUpperCase());return[n.toUpperCase(),{localizableImages:this._appendValuesForCurrentCulture(a?.localizableImages??{}),localizableStrings:this._appendValuesForCurrentCulture(a?.localizableStrings??{})}]}loadResources(e){const n=this._getSchemaPartKeys();return this._profileSchemaProvider.get(e).pipe((0,h.map)(a=>n.map(i=>this._createTranslationPartByKey(a,i))))}static{this.\u0275fac=function(n){return new(n||Nf)(t.\u0275\u0275inject(R2),t.\u0275\u0275inject(Ze.oq))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Nf,factory:Nf.\u0275fac,providedIn:"root"})}}const N2=r=>r!=null&&typeof r=="object",hR=r=>Object.keys(r).length===0,V2=r=>N2(r)&&hR(r),_R=(r,...e)=>Object.prototype.hasOwnProperty.call(r,...e),F2=r=>r instanceof Date;class Zg{deepObjectDiff(e,n){if(e===n)return{};if(Array.isArray(n))return JSON.stringify(e)===JSON.stringify(n)?{}:n;if(!N2(e)||!N2(n))return n;if(F2(e)||F2(n))return e?.valueOf()===n?.valueOf()?{}:n;const a=Object.fromEntries(Object.entries(n).filter(([,i])=>i===void 0));return Object.keys(n).reduce((i,s)=>{if(!_R(e,s))return i[s]=n[s],i;const b=e[s],D=n[s],W=this.deepObjectDiff(b,D);return V2(W)&&!F2(W)&&(V2(b)||!V2(D))||(i[s]=W),i},a)}static{this.\u0275fac=function(n){return new(n||Zg)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Zg,factory:Zg.\u0275fac,providedIn:"root"})}}class Vf{get resourcesDiff(){return(0,y.cloneDeep)(this._resourcesDiff)}get resources(){return(0,y.cloneDeep)(this._resources)}constructor(e){this._amdSchemaLocalizationService=e.get(Rf),this._profileSchemaLocalizationService=e.get(Nf),this._jsonObjectDifferService=e.get(Zg)}init(e){return this._schemaName=e.schemaName,this._partName=e.partName,this._resources$=(0,m.forkJoin)([this._amdSchemaLocalizationService.loadResources(this._schemaName),this._profileSchemaLocalizationService.loadResources(this._schemaName)]).pipe((0,h.map)(n=>n.flat()),(0,h.map)(n=>{const a=n.findIndex(([i])=>i===this._partName);return a===-1?n:n.slice(0,a+1)}),(0,h.switchMap)(n=>(0,m.from)(n)),(0,h.map)(([,n])=>n),(0,h.reduce)((n,a)=>(0,y.merge)(n,a),{}),(0,h.tap)(n=>this._resources=n),(0,h.share)()),Promise.resolve(void 0)}loadResources(){return(0,m.lastValueFrom)(this._resources$)}upsertResources(e){var n=this;return(0,bt.A)(function*(){n._resources||(yield n.loadResources()),n._resourcesDiff=n._jsonObjectDifferService.deepObjectDiff(n._resources,e),n._resources=DC()(n._resources,e)})()}static{this.\u0275fac=function(n){return new(n||Vf)(t.\u0275\u0275inject(t.Injector))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Vf,factory:Vf.\u0275fac})}}const lM=()=>{const r=(0,t.inject)(t.Injector);return()=>new Vf(r)},dM=new t.InjectionToken("Factory of SchemaLocalizationService",{providedIn:"root",factory:lM}),CH={provide:dM,useFactory:lM},fR=new t.InjectionToken("Factory of SchemaService",{providedIn:"root",factory:()=>{const r=(0,t.inject)(t.Injector);return()=>new gi(r)}});var bR=o(55585);class Qg{constructor(){this._requireJsProvider=(0,t.inject)(bR.a),this._requireJs=this._requireJsProvider.get(),this._destroy$=new m.Subject,this._cachedModuleMap=new Map([])}deleteCachedModule(e){this._isAllowToCacheCalls&&this._cachedModuleMap.delete(e)}set allowToCacheCalls(e){this._isAllowToCacheCalls=e}get allowToCacheCalls(){return this._isAllowToCacheCalls}load(e,n){if(!this.allowToCacheCalls){this._requireJs(e,(...s)=>{n(...s)});return}const a=[],i=[];for(const s of e)if(this._cachedModuleMap.has(s)){const b=this._cachedModuleMap.get(s);a.push(b)}else i.push(s);a.length&&n(...a),i.length&&this._requireJs(i,(...s)=>{i.forEach((b,D)=>this._cachedModuleMap.set(b,s[D])),n(...s)})}ngOnDestroy(){this._cachedModuleMap.clear(),this._destroy$.next(),this._destroy$.complete()}static{this.\u0275fac=function(n){return new(n||Qg)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Qg,factory:Qg.\u0275fac,providedIn:"root"})}}class Ff{constructor(){this._requireJsService=(0,t.inject)(Qg),this._destroy$=new m.Subject}_replaceDeprecatedSchemaProperties(e){return"diff"in e?{...(0,y.omit)(e,"diff"),viewConfigDiff:e.diff}:e}loadAmdSchemaList(e,n=!1){return new m.Observable(a=>{const i=[];this._requireJsService.allowToCacheCalls=n,this._requireJsService.load([e],s=>{s||(console.error(`${e} is undefined. Make sure that you defined ${e} AMD module in ${e} file. Empty schema will be used instead.`),s={});const b=this._replaceDeprecatedSchemaProperties(s);this._requireJsService.load([`${e}Structure`,`${e}Resources`],(D,W)=>{i.push({name:e,schema:b,structure:D,resources:W}),D?.parentSchemaName?this.loadAmdSchemaList(D.parentSchemaName,n).pipe((0,m.takeUntil)(this._destroy$)).subscribe(ot=>{i.push(ot),a.next((0,y.flattenDeep)(i)),a.complete()}):(a.next(i),a.complete())})})})}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}static{this.\u0275fac=function(n){return new(n||Ff)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ff,factory:Ff.\u0275fac,providedIn:"root"})}}class jf{constructor(){this._requireJsService=(0,t.inject)(Qg),this._schemaChangeListenerService=(0,t.inject)(D5.l2),this._destroy$=new m.Subject}init(){this._schemaChangeListenerService.schemaChanged$.pipe((0,h.filter)(()=>this._requireJsService.allowToCacheCalls)).pipe((0,m.takeUntil)(this._destroy$)).subscribe(({name:e})=>{[e,`${e}Structure`,`${e}Resources`].forEach(n=>this._requireJsService.deleteCachedModule(n))})}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}static{this.\u0275fac=function(n){return new(n||jf)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:jf,factory:jf.\u0275fac,providedIn:"root"})}}class pM{}var AC;(function(r){r.METADATA_INIT="METADATA_INIT",r.MODEL_INIT="MODEL_INIT",r.VIEW_MODEL_INIT="VIEW_MODEL_INIT"})(AC||(AC={}));var CR=o(94123);class yR extends CR.PH{getByName(e,n=this.root){let a=null;const i=s=>{s.data.schemaName===e&&(a=s)};return this.traverseDepthFirstSearch(i,n),a}removeByName(e,n=this.root){let a=null;const i=s=>{s.data.schemaName===e&&(a=s)};if(this.traverseDepthFirstSearch(i,n),a){const s=a.parent;a.children=[];const b=s.children.findIndex(D=>D===a);return s.children.splice(b,1),!0}return!1}containsByName(e,n=this.root){let a=null;const i=s=>{s.data.schemaName===e&&(a=s)};return this.traverseDepthFirstSearch(i,n),!!a}}class j2{static bulkAdd(e,n){const a=n;for(const i of e)if(!a.containsByName(i.schemaName)){const s=a.get(i.parentSchemaUId);a.add({data:i,id:i.schemaUId},s)}return a}static initTree(e){return new yR(e,e.schemaUId)}}class Bf{constructor(){this._trees=[]}_filterExtendingSchemas(e){const n=[];for(let a=0;a<e.length;a++)if(e.find(i=>i.parentSchemaName===e[a].schemaName&&i.extendParent)){const i=e[a];do a++;while(e.find(s=>s.parentSchemaName===e[a].schemaName&&s.extendParent));n.push({...e[a],parentSchemaName:i.parentSchemaName,parentSchemaUId:i.parentSchemaUId,schemaUId:i.schemaUId})}else n.push(e[a]);return n}add(...e){const n=this._filterExtendingSchemas([...e].map(s=>s.structure)),a=n.shift();let i=this._trees.find(s=>s.root.id===a.schemaUId);if(i){j2.bulkAdd(n,i);return}i=j2.initTree(a),j2.bulkAdd(n,i),this._trees.push(i)}setCacheSnapshot(e){const{schemaName:n,hook:a,snapshot:i}=e;let s=0;for(;s<this._trees.length;){const b=this._trees[s].getByName(n);if(b){b.data={...b.data,snapshots:{...b.data.snapshots,[a]:i}};return}s++}}setDataSchemaDepsToCache(e,n){let a=0;for(;a<this._trees.length;){const i=this._trees[a].getByName(e);if(i){i.data={...i.data,dataSchemaDeps:n};return}a++}}isCached(e){return this._trees.some(n=>n.containsByName(e))}getSchemaSnapshots(e){let n=0;for(;n<this._trees.length;){const a=this._trees[n].getByName(e);if(a)return a.data.snapshots;n++}return null}invalidateClientUnitSchema(e){let n=0;for(;n<this._trees.length;){if(this._trees[n].root.data.schemaName===e){this._trees.splice(n,1);return}if(this._trees[n].removeByName(e))return;n++}}invalidateByDataSchemaName(e){let n=0;const a=i=>{!!i.data?.dataSchemaDeps&&i.data?.dataSchemaDeps.includes(e)&&(i.data.snapshots={[AC.METADATA_INIT]:i.data.snapshots[AC.METADATA_INIT]})};for(;n<this._trees.length;)this._trees[n].traverseDepthFirstSearch(a),n++}static{this.\u0275fac=function(n){return new(n||Bf)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Bf,factory:Bf.\u0275fac,providedIn:"platform"})}}class zf extends pM{constructor(e,n,a,i){super(),this.zone=e,this._schemaCacheService=n,this._featureService=a,this._measurePerformanceService=i,this._schemaCacheInvalidatorService=(0,t.inject)(jf),this._amdSchemaLoaderHelperService=(0,t.inject)(Ff),window.Terrasoft||(window.Terrasoft={configuration:{Structures:{}},SchemaType:{}},window.define("terrasoft",[],()=>window.Terrasoft)),this._schemaCacheInvalidatorService.init()}_loadAmdSchemaParts(e){return this._featureService.getFeatureState("AllowCachingRequireJS").pipe((0,h.switchMap)(n=>this._amdSchemaLoaderHelperService.loadAmdSchemaList(e,n).pipe(this._measurePerformanceService.measure$(`AMDSchemaLoader.loadAmdSchemaList.${e}`))))}load(e){return this.zone.runOutsideAngular(()=>(0,m.forkJoin)([this._loadAmdSchemaParts(e),this._featureService.getFeatureState("DisableRuntimeSchemaCaching")]).pipe((0,m.tap)(([n,a])=>{if(!a){const s=[...(0,y.cloneDeep)(n)].reverse();this._schemaCacheService.add(...s)}}),(0,h.switchMap)(([n])=>new m.Observable(a=>this.zone.run(()=>{a.next(n),a.complete()})))))}static{this.\u0275fac=function(n){return new(n||zf)(t.\u0275\u0275inject(t.NgZone),t.\u0275\u0275inject(Bf),t.\u0275\u0275inject(A.wf),t.\u0275\u0275inject(c1.g))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:zf,factory:zf.\u0275fac})}}class Uf extends pM{constructor(e,n,a){super(),this._profileSchemaProvider=e,this._userInfo=n,this._measurePerformanceService=a}_getResourcesByCurrentCulture(e){const n=this._userInfo.cultureInfo.sysCultureName,a=Object.keys(e??{}).map(i=>{const s=e[i]??{},b=s[n]||Object.values(s).shift();return[i,b]}).filter(([,i])=>i!==void 0);return Object.fromEntries(a)}load(e){return this._profileSchemaProvider.get(e).pipe((0,h.map)(n=>(0,y.isEmpty)(n)?[]:(0,y.uniqBy)(n,"name").map(a=>({...a,name:a.name??"",structure:{},resources:{localizableImages:this._getResourcesByCurrentCulture(a.localizableImages),localizableStrings:this._getResourcesByCurrentCulture(a.localizableStrings)}}))),this._measurePerformanceService.measure$(`ProfileSchemaLoader.load.${e}`))}static{this.\u0275fac=function(n){return new(n||Uf)(t.\u0275\u0275inject(R2),t.\u0275\u0275inject(Ze.oq),t.\u0275\u0275inject(c1.g))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Uf,factory:Uf.\u0275fac})}}const vR='Cyclic dependency exists for object "{0}". The parentName parameter cannot be equal to name',uM='Required parameter "{0}" not found in object',B2='Instead of the "{0}" parameter, use "{1}',MR='The "{0}" parameter should no longer contain "{1}"',IR='Item "{0}" is not a container for other items',xR='Item "{0}" should not contain parameter "{1}"',mM='Item with value "{0}" of the "name" parameter already exists',SR="jsondiffpatch module not found";function gM(r,e,n){let a=!0;return(0,y.each)(r,(i,s)=>{if((0,y.isArray)(i)||(0,y.isObject)(i)){const b=(0,y.isArray)(i)?i:[i];(0,y.each)(b,D=>{if(!fa.isItemConfig(b[0]))return!1;const W=gM(D,e,n)!==!1,ot={item:D,propertyName:s,parent:r,childIterationResult:W};return a=e.call(n,ot)!==!1&&W})}return a}),a}class fa{constructor(){this.features=(0,t.inject)(ge.G,{optional:!0}),this.properties={alias:{name:"name"}},this.sourceObject=null,this.operationsOptions=null,this._memoryStore=new Map,this._operationRequiredParameters={insert:[],set:["name","values"],merge:["name","values"],move:["name"],remove:["name"]},this._operationParameterName="operation",this._aliases=null,this.checkOperationNameRequiredParameters=!0}static isEmpty(e){return e==null||e===""||(0,y.isArray)(e)&&e.length===0}static isItemConfig(e){return(0,y.isObject)(e)&&!fa.isEmpty(e.name)}iterateChildItems(e,n,a){return gM(e,n,a)}_isEmptyObject(e){return e?Object.keys(e).length===0:!0}_removeFromCache(e){this.iterateChildItems(e,function(n){const a=n.item;this._memoryStore.delete(a.name)},this),this._memoryStore.delete(e.name)}_findItemInfo(e,n){if(fa.isEmpty(e))return null;const a=this._memoryStore.get(e);if(a)return a;const b=this._aliases?.[e]?.name;let D=null;return this.iterateChildItems(n,function(W){const ot=W.item,It=b&&ot[this.properties.alias.name]===b,Pt=ot[this.properties.alias.name]===e||It;if(!W.childIterationResult||Pt){const te=W.parent[this.properties.alias.name],Se={item:ot,parentName:te,parentPath:W.parentPath,propertyName:W.propertyName};this._memoryStore.set(ot[this.properties.alias.name],Se),Pt&&(D=Se)}return!Pt},this),D}_findItemInfoInSourceObject(e){const n={items:this.sourceObject};return this._findItemInfo(e,n)}_checkRequiredParameters(e,n){fa.isEmpty(n)||(0,y.each)(n,a=>{if(!e[a]){const i=jt.String.format(uM,a);throw new Error(i)}})}_getSplittedOperations(e){const n={merge:[],set:[],removeProperties:[],remove:[],move:[],insert:[]};return(0,y.each)(e,a=>{this._checkOperation(a);const i=a.operation;if(!this._isExcludeAliasOperation(a.name,i,a.properties))switch(i){case"merge":n.merge.push(a);break;case"set":n.set.push(a);break;case"insert":n.insert.push(a);break;case"move":n.move.push(a);break;case"remove":{const{properties:s}=a;s&&(0,y.isArray)(s)?n.removeProperties.push(a):n.remove.push(a);break}default:}}),n}_convertMoveOperationToRemove(e){let n={};const a=e.name,i=(0,y.cloneDeep)(this._findItemInfoInSourceObject(a));return i&&(n={parentName:i.parentName||i.nameTo,parentPath:i.parentPath,propertyName:i.propertyName,index:i.propertyName,operation:"remove",name:a}),n}_convertMoveOperationToInsert(e){let n={};const a=e.name,i=(0,y.cloneDeep)(this._findItemInfoInSourceObject(a));if(i){const s={values:i.item,operation:""};delete s.values.name,Object.assign(s,e),s.operation="insert",n=s}return n}_applyOperations(e){const n=this._getSplittedOperations(e);this._applyOperationGroup(this._merge,n.merge),this._applyChangePositionOperationGroup(n.remove,n.insert,n.move),this._applyOperationGroup(this._remove,n.removeProperties),this._applyOperationGroup(this._set,n.set)}_applyChangePositionOperationGroup(e,n,a){a=this._filterMoveOperation(e,a),e=e.concat(a);let i=[];(0,y.each)(e,W=>{const ot=this._convertMoveOperationToRemove(W);this._isEmptyObject(ot)?console.log("Element "+W.name+" was not moved."):i.push(ot)}),i=this._getOperationsSequenceByPath(i,!1);const s=[],b=this._getObjectNameOperationsGroup(a);(0,y.each)(i,W=>{const ot=b[W.name];(0,y.isArray)(ot)&&ot.forEach(It=>{const Pt=this._convertMoveOperationToInsert(It);this._isEmptyObject(Pt)?console.log("Element "+It.name+" was not moved."):s.push(Pt)}),this._remove(W)}),n=n.concat(s),n=this._getOperationsSequenceByPath(n,!0);const D=this._applyOperationGroup(this._insert,n);(0,y.isArray)(D)&&D.length>0&&this._applyUnsuccessfulInsertOperationGroup(D)}_applyUnsuccessfulInsertOperationGroup(e){e.forEach((n,a)=>{n.operation="move",this._findItemInfoInSourceObject(n.parentName)||e.splice(a,1)}),e.length>0&&this._applyChangePositionOperationGroup([],[],e)}_applyOperationGroup(e,n){const a=[];return(0,y.each)(n,i=>{e.call(this,i)||a.push(i)}),a}_getObjectNameOperationsGroup(e){const n={};return e.forEach(a=>{const i=a.name;n[i]=n[i]||[],n[i].push(a)}),n}_getOperationHierarchy(e){const n={};return e.forEach(a=>{const i=a.name,s=a.parentName||"_",b=a.propertyName||"_";n[i]={parentName:s,propertyName:b}}),n}_getOperationItemRelativePath(e,n,a=""){let i=a;if(n[e]){const s=n[e].parentName,b=n[e].propertyName;i=s+"="+b+"=="+i,i=this._getOperationItemPath(s,n,i)}return i}_getOperationItemFullPath(e,n,a=""){let i=a,s=n[e];if(s||(s=this._findItemInfoInSourceObject(e)),s){const b=s.parentName,D=s.propertyName;b&&(i=b+"="+D+"=="+i,i=this._getOperationItemPath(b,n,i))}return i}_getOperationItemPath(e,n,a=""){return!this.features?.DisableApplyMoveIfIndirectParentMoved&&this.operationsOptions?.applyMoveIfIndirectParentMoved?this._getOperationItemFullPath(e,n,a):this._getOperationItemRelativePath(e,n,a)}_addOperationItemPathInfo(e){const n=[],a=this._getOperationHierarchy(e);return e.forEach(i=>{i.__path=this._getOperationItemPath(i.name,a),n.push(i)}),n}_getOperationPathGroupsInfo(e,n){const a=n?1:-1,i={},s=[];return e.forEach(b=>{const D=b.__path;i[D]=i[D]||[],i[D].push(b),(0,y.includes)(s,D)||s.push(D)}),{groups:i,order:s.sort(function(b,D){let W;return b.length===D.length?W=0:b.length>D.length?W=a:W=a*-1,W})}}_getOperationsSequenceByPath(e,n){e=this._addOperationItemPathInfo(e);const a=this._getOperationPathGroupsInfo(e,n),i=a.order,s=a.groups;let b=[];return i.forEach(D=>{const W=(0,y.sortBy)(s[D],"index");n||W.reverse(),b=b.concat(W)}),b}_saveAlias(e){if(fa.isEmpty(e.alias))return;const n=(0,y.cloneDeep)(e),a=n.alias;fa.isEmpty(this._aliases)&&(this._aliases={});const i=a.name;a.name=n.name,this._aliases[i]=a}_resetAliases(){this._aliases=null}_excludeAliasProperties(e,n){let a=Object.keys(n);const i=this._aliases&&this._aliases[e],s=i&&i.excludeProperties;return s&&(a=(0,y.difference)(a,s)),a}_isExcludeAliasOperation(e,n,a){if(a&&n==="remove")return!1;const s=(this._aliases&&this._aliases[e])?.excludeOperations;return(0,y.includes)(s,n)}findInsertItemInfo(e){const n=e.parentName;return this._findItemInfoInSourceObject(n)}_insert(e){let n=e.parentName;const a=e.name;e.nameTo&&(console.error(jt.String.format(B2,"nameTo","parentName")),n=e.nameTo);const i=this.findInsertItemInfo(e),s=!(!i&&e.parentName),b=e.values??{};this._saveAlias(e);const D=this.findInsertItemParent(i,e);if(fa.isEmpty(a)?console.warn(jt.String.format(MR,"nameTo","parentName")):Object.assign(b,{[this.properties.alias.name]:a}),(0,y.isArray)(D)){const W=fa.isEmpty(e.index)?D.length:e.index;D.splice(W,0,b)}else if((0,y.isObject)(D))i.item[e.propertyName]=b;else throw new Error(jt.String.format(IR,n));return s}findInsertItemParent(e,n){return e===null?this.sourceObject:e.item[n.propertyName]}_set(e){let n=e.parentName;e.nameTo&&(console.error(jt.String.format(B2,"nameTo","parentName")),n=e.nameTo);const a=this._remove(e),i=!fa.isEmpty(a);return i&&(e.index=a.index,e.nameTo=n,e.parentName=n,e.propertyName=a.propertyName),this._insert(e),i}findMergeOrRemoveItemInfo(e){return this._findItemInfoInSourceObject(e.name)}_merge(e){const n=this.findMergeOrRemoveItemInfo(e),a=!fa.isEmpty(n);if(a){(0,y.each)(n.item,(s,b)=>{const D=(0,y.isArray)(s)?s[0]:s;if(fa.isItemConfig(D)&&e.values.hasOwnProperty(b)){const W=jt.String.format(xR,e.name,b);console.warn(W),delete e.values[b]}});const i=this._excludeAliasProperties(e.name,e.values);(0,y.each)(i,s=>{n.item[s]=e.values[s]})}return a}findRemoveParentItemInfo(e,n){return this._findItemInfoInSourceObject(e)}_remove(e){let n={};const a=this.findMergeOrRemoveItemInfo(e);if(fa.isEmpty(a))return null;const i=e.properties;if(i&&(0,y.isArray)(i)){const s=a.item;i.forEach(b=>{delete s[b]})}else{const s=a.item;let b=a.parentName;a.nameTo&&(console.error(jt.String.format(B2,"nameTo","parentName")),b=a.nameTo);const D=this.findRemoveParentItemInfo(b,a),W=D?D.item[a.propertyName]:this.sourceObject;let ot=0;(0,y.isArray)(W)?(ot=W.indexOf(s),W.splice(ot,1)):delete D.item[a.propertyName],this._removeFromCache(s),n={index:ot,item:s,nameTo:b,parentName:b,propertyName:a.propertyName}}return n}_checkOperation(e){const n=e.name,a=e.parentName;if(!fa.isEmpty(n)&&a===n)throw new Error(jt.String.format(vR,n));if(this._checkRequiredParameters(e,[this._operationParameterName]),this.checkOperationNameRequiredParameters){const i=e[this._operationParameterName];this._checkRequiredParameters(e,this._operationRequiredParameters[i])}}_filterMoveOperation(e,n){return(0,y.each)(e,a=>{n=n.filter(i=>a.name!==i.name)}),n}apply(e,n,a){let i;this.sourceObject=(0,y.cloneDeep)(e),this.operationsOptions=a,fa.isEmpty(e)&&this._resetAliases();try{const s=(0,y.cloneDeep)(n);this._applyOperations(s),i=this.sourceObject}finally{this.sourceObject=null,this.operationsOptions={},this._memoryStore.clear()}return i}applyDiff(e,n,a=[]){let i=[...e];for(let s=0;s<n.length;s++){const b=n[s],D=a[s];i=this.apply(i,b,D)}return i}static{this.\u0275fac=function(n){return new(n||fa)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:fa,factory:fa.\u0275fac})}}class Bp extends fa{constructor(){super(...arguments),this.properties={alias:{name:"_id"}},this.checkOperationNameRequiredParameters=!1}_findItemInfoInSourceObject(e){return this._findItemInfo(e,this.sourceObject)}findInsertItemParent(e,n){return e===null?this.sourceObject:e.item}findInsertItemInfo(e){const n=e.parentName;let a=this._findItemInfoInSourceObject(n);if(a?.item&&e.path)a={item:(0,y.get)(a.item,e.path)};else if(e.path){const i=[...e.path];if(a={item:(0,y.get)(this.sourceObject,i)},!a.item){const s=i.shift();a=this._findItemInfoInSourceObject(s),a?.item&&i.length&&(a={item:(0,y.get)(a.item,i)})}}return a}findMergeOrRemoveItemInfo(e){let n=this._findItemInfoInSourceObject(e.name);if(!n?.item){const a=[...e.path];if(n={item:(0,y.get)(this.sourceObject,a,a.length?void 0:this.sourceObject)},!n.item){const i=a.shift();n=this._findItemInfoInSourceObject(i),n?.item&&a.length&&(n={item:(0,y.get)(n.item,a)})}}return n}findRemoveParentItemInfo(e,n){let a=this._findItemInfoInSourceObject(e);if(!a){const i=[...n.parentPath];i.pop(),i.pop(),a={item:(0,y.get)(this.sourceObject,i)}}return a}_merge(e){const n=this.findMergeOrRemoveItemInfo(e),a=!Bp.isEmpty(n);if(a){const s=this._excludeAliasProperties(e.name,e.values).reduce((W,ot)=>(W[ot]=e.values[ot],W),{}),b={arrayMerge:(W,ot)=>ot},D=OC.all([n.item,s],b);Object.keys(D).forEach(W=>{n.item[W]=D[W]})}return a}iterateChildItems(e,n,a,i=[]){let s=!0;return(0,y.each)(e,(b,D)=>{if((0,y.isArray)(b)||(0,y.isObject)(b)){const W=(0,y.isArray)(b),ot=W?b:[b];i.push(D),(0,y.each)(ot,(It,Pt)=>{W&&i.push(Pt);const te=this.iterateChildItems(It,n,a,[...i])!==!1,Se={item:It,propertyName:D,childIterationResult:te,parentPath:[...i],parent:e};return s=n.call(a,Se)!==!1&&te,W&&s&&i.pop(),s}),s&&i.pop()}return s}),s}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Bp)))(a||Bp)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Bp,factory:Bp.\u0275fac})}}const wR={name:"",schema:{viewConfigDiff:[],viewModelConfig:{},viewModelConfigDiff:[],modelConfig:{}},structure:{},resources:{localizableImages:{},localizableStrings:{}}};class LC{constructor(){this.deepMergeOptions={arrayMerge:this.overwriteArrayMerge},this.jsonPathApplierService=(0,t.inject)(Bp)}overwriteArrayMerge(e,n,a){return n}getViewModelConfig(e){return e.reduce((n,a)=>a.viewModelConfigDiff?.length?this.jsonPathApplierService.apply(n,a.viewModelConfigDiff)||{}:(0,OC.all)([n,a.viewModelConfig||{}],{...this.deepMergeOptions})||{},{})}getModelConfig(e){return e.reduce((n,a)=>a.modelConfigDiff?.length?this.jsonPathApplierService.apply(n,a.modelConfigDiff)||{}:(0,OC.all)([n,a.modelConfig||{}],{...this.deepMergeOptions})||{},{})}getEmptySchemaPart(){return{...wR,schema:{viewConfigDiff:[],viewModelConfig:{attributes:{}},viewModelConfigDiff:[],modelConfig:{dataSources:{[w2.c]:{type:w2.z,config:{}}}}}}}static{this.\u0275fac=function(n){return new(n||LC)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:LC})}}var ER=o(46295),en;(function(r){r[r.INSERT=1]="INSERT",r[r.REMOVE=2]="REMOVE",r[r.MERGE=3]="MERGE",r[r.REMOVE_PROPERTY=4]="REMOVE_PROPERTY",r[r.CHANGE_POSITION=5]="CHANGE_POSITION",r[r.MOVE=6]="MOVE"})(en||(en={}));class Yg{constructor(){this._patch=null,this.objectProperties={parent:"parentName",parentPropertyName:"propertyName",index:"index",operationalName:"__operationalName",name:"name",root:"__root",patchDiffNodeTypeSymbol:"_t",initialId:"__initialId"},this.pathDelimiter="(#@",this.moveOperationProperties=["parentName","propertyName","index","__initialId"],this.flatIndexForObjects=!0;const e=ER.create({objectHash:function(n,a){return(0,y.isString)(n.name)?n.name:"$$index:"+a}});this._patch=e}isEmpty(e){return e==null||e===""||(0,y.isArray)(e)&&e.length===0}needFlatten(e,n){let a=n||!1;return a=!this.isEmpty(e?.name),a||((0,y.isArray)(e)&&e.length>0?a=!this.isEmpty(e[0].name):(0,y.isPlainObject)(e)&&(0,y.each)(e,i=>{a=this.needFlatten(i,a)})),a}_getFlattenObjectKey(e,n,a){return a&&a.identifyItemByPath?e:n}_flattenObject(e,n,a,i,s,b){let D=n||{},W=a||"",ot;if(this.isEmpty(e))D=null;else if((0,y.isArray)(e))for(let It=0,Pt=e.length;It<Pt;It++)ot=this._getFlattenObjectKey(W,a,b),this._flattenObject(e[It],D,ot,It,s,b);else{const It=(0,y.cloneDeep)(e),Pt=It.name,te=this.isEmpty(W)?"{1}":"{0}{1}";if(W+=jt.String.format(te,this.pathDelimiter,Pt),ot=this._getFlattenObjectKey(W,Pt,b),this.isEmpty(ot))throw new Error(jt.String.format(uM,this.objectProperties.name));this.checkIfItemAlreadyExist(D,ot,It),delete It.name,this.isEmpty(a)||(It.parentName=a),this.isEmpty(i)||(It.index=i),this.isEmpty(s)||(It.propertyName=s);const Se=[],On=[];(0,y.each)(It,(ba,$r)=>{if(ba&&this.needFlatten(ba)){Se.push(ba),On.push($r);const y_=It[$r];It[$r]=(0,y.isArray)(y_)?[]:{}}}),D[ot]=It;const Da=Se.length;if(Da>0)for(let ba=0;ba<Da;ba++){const $r=(0,y.isArray)(e)||this.flatIndexForObjects?ba:null;this._flattenObject(Se[ba],D,ot,$r,On[ba],b)}}return D}checkIfItemAlreadyExist(e,n,a){const i=a.name;if(e[n])throw new Error(jt.String.format(mM,i))}_includeObjectOperations(e,n){let a=e||[];return n===en.REMOVE?a=[en.REMOVE]:this._include(a,n),a}_include(e,n){e.includes(n)||e.push(n)}_getObjectCollectionPropertyNames(e,n){const a=n||{},i=this.objectProperties,s=i.parentPropertyName,b=i.parent;return(0,y.each)(e,D=>{const W=D[s],ot=D[b];!this.isEmpty(ot)&&!this.isEmpty(W)&&(a[ot]=a[ot]||[],this._include(a[ot],W))}),a}_getCollectionPropertyNames(){const e=this.operationalValues,n=e.flatPrimaryObject,a=e.flatModifiedObject;let i={};return i=this._getObjectCollectionPropertyNames(n,i),i=this._getObjectCollectionPropertyNames(a,i),i}getObjectOperations(e){const n=this.objectProperties,a=this.operationalValues.primaryObject,i=this.operationalValues.modifiedObject,s=this.operationalValues.flatModifiedObject,b=this.operationalValues.flatDelta,D=(0,y.cloneDeep)(i);this._addOperationalNames(D);const W=this.makeDiff(a,D);let ot={};const It=this._getCollectionPropertyNames();return(0,y.each)(b,(Pt,te)=>{this.isAdded(Pt)?ot[te]=this._includeObjectOperations(ot[te],en.INSERT):this.isRemoved(Pt)?ot[te]=this._includeObjectOperations(ot[te],en.REMOVE):(0,y.each)(Pt,(Se,On)=>{if([n.parent,n.parentPropertyName].includes(On))(this.isAdded(Se)||this.isModified(Se)||this.isRemoved(Se))&&(ot[te]=this._includeObjectOperations(ot[te],en.MOVE));else if(On===n.index){if(this.isAdded(Se)||this.isModified(Se)||this.isRemoved(Se)){const Da=s[te],ba=Da[n.parent]||n.root,$r=Da[n.parentPropertyName]||n.root,y_=It[ba]||[];this._include(y_,$r),It[ba]=y_}}else this.isRemoved(Se)?ot[te]=this._includeObjectOperations(ot[te],en.REMOVE_PROPERTY):ot[te]=this._includeObjectOperations(ot[te],en.MERGE)})}),ot=this._getObjectChangePositionOperations(W,It,ot,b,e),ot}_getObjectChangePositionOperations(e,n,a,i,s){const b=a||{};let D=[];const W={};this._fillItemsOperations(e,W),(0,y.each)(n,(It,Pt)=>{let te;if(Pt===this.objectProperties.root)te=this._getChangePositionObjectName(e,i,Pt),D=(0,y.union)(D,te);else{const Se=this._getModifiedObjectSimpleName(Pt),On=W[Se];if(On){let Da=n[Pt].shift();for(;!this.isEmpty(Da);){const ba=On[Da];te=this._getChangePositionObjectName(ba,i,Pt,s),D=(0,y.union)(D,te),Da=n[Pt].shift()}}}});let ot=D.shift();for(;!this.isEmpty(ot);)b[ot]=this._includeObjectOperations(b[ot],en.CHANGE_POSITION),ot=D.shift();return b}_getChangePositionObjectName(e,n,a,i){const s=[],b=this.objectProperties.patchDiffNodeTypeSymbol;return(0,y.each)(e,(D,W)=>{if(W!==b&&(0,y.isString)(W)&&W.indexOf("_")>=0&&this.isMoved(D)){const ot=D[1],It=e[ot];if(It){const Pt=It[this.objectProperties.operationalName][0],te=this._getChangePositionObjectPath(Pt,n,a,i);s.push(te)}}}),s}_fillItemsOperations(e,n={}){const{operationalName:a}=this.objectProperties;Object.entries(e).forEach(([i,s])=>{if(i===a){const b=e[a][0];n[b]=e}else((0,y.isArray)(s)||(0,y.isObject)(s))&&this._fillItemsOperations(s,n)})}_addOperationalNames(e){e.hasOwnProperty(this.objectProperties.name)&&(e[this.objectProperties.operationalName]=e[this.objectProperties.name]),((0,y.isObject)(e)||(0,y.isArray)(e))&&(0,y.each)(e,n=>{n&&this._addOperationalNames(n)})}_getModifiedObjectSimpleName(e){return e.split(this.pathDelimiter).pop()}_getChangePositionObjectPath(e,n,a,i){return i?.identifyItemByPath===!0?`${a}${this.pathDelimiter}${e}`:e}getObjectResultOperations(e){const n=[];return(0,y.each)(e,(a,i)=>{for(let s=0,b=a.length;s<b;s++){const D=a[s],W={operation:this.getObjectModificationTypeName(D),name:this._getModifiedObjectSimpleName(i)};switch(D){case en.INSERT:Object.assign(W,this.getOperationValues(i,D)),Object.assign(W,this.getOperationMoveProperties(i)),n.push(W);break;case en.CHANGE_POSITION:case en.MOVE:Object.assign(W,this.getOperationMoveProperties(i)),n.push(W);break;case en.REMOVE_PROPERTY:Object.assign(W,this.getOperationRemovedProperties(i)),W.properties.length>0&&n.push(W);break;case en.MERGE:Object.assign(W,this.getOperationValues(i,D)),W.values&&n.push(W);break;default:n.push(W);break}}}),n}getOperationMoveProperties(e){const n=this.operationalValues.flatModifiedObject[e],a={},i=this.moveOperationProperties;for(let s=0,b=i.length;s<b;s++){const D=i[s];let W=n[D];this.isEmpty(W)||(D==="parentName"&&(W=this._getModifiedObjectSimpleName(W)),a[D]=W)}return a}getOperationRemovedProperties(e){const n=this.operationalValues.flatDelta,a={properties:null},i=[],s=n[e];return(0,y.each)(s,(b,D)=>{this.isRemoved(b)&&i.push(D)}),a.properties=i,a}getOperationValues(e,n){const a={},i={};switch(n){case en.INSERT:this._setInsertOperationValues(e,i);break;case en.MERGE:this._setMergeOperationValues(e,i);break}return(0,y.isEmpty)(i)||(a.values=i),a}_setMergeOperationValues(e,n){const a=this.operationalValues.flatDelta,i=this.operationalValues.flatModifiedObject,s=a[e];(0,y.each)(s,(b,D)=>{if(!(this.moveOperationProperties.includes(D)||this.isRemoved(b))){let ot;b[this.objectProperties.patchDiffNodeTypeSymbol]==="a"||(0,y.isObject)(b)&&!(0,y.isEmpty)(b)?ot=i[e][D]:ot=this.isAdded(b)?b[0]:b[1],n[D]=ot}})}_setInsertOperationValues(e,n){const i=this.operationalValues.flatModifiedObject[e];return(0,y.each)(i,(s,b)=>{this.moveOperationProperties.includes(b)||(n[b]=(0,y.cloneDeep)(s))}),i}getObjectModificationTypeName(e){let n;switch(e){case en.INSERT:n="insert";break;case en.REMOVE:case en.REMOVE_PROPERTY:n="remove";break;case en.MOVE:case en.CHANGE_POSITION:n="move";break;case en.MERGE:n="merge";break}return n}isAdded(e){return e.length===1}isModified(e){return e.length===2}isMoved(e){return e.length===3&&e[2]===3}isRemoved(e){return e.length===3&&e[2]===0}makeDiff(e,n){if(!this._patch)throw new Error(SR);return this._patch.diff(e,n)}getFlatObject(e,n){return this._flattenObject(e,null,null,null,null,n)||{}}getJsonDiff(e,n,a){let i=[];try{const s=this.makeDiff(e,n);if(s){const b=this.getFlatObject(e,a),D=this.getFlatObject(n,a),W=this.makeDiff(b,D);this.operationalValues={primaryObject:e,modifiedObject:n,delta:s,flatPrimaryObject:b,flatModifiedObject:D,flatDelta:W};const ot=this.getObjectOperations(a);i=this.getObjectResultOperations(ot)}}finally{(0,y.each)(this.operationalValues,(s,b)=>{delete this.operationalValues[b]}),this.operationalValues={}}return i}static{this.\u0275fac=function(n){return new(n||Yg)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Yg,factory:Yg.\u0275fac})}}class Jg extends Yg{constructor(){super(...arguments),this.flatIndexForObjects=!1,this._fallbackRules={ifEveryArrayItemHasProperty:(e,n)=>e.every(a=>a[n])}}_getModifiedObjectPath(e,n){const a=n===en.REMOVE||n===en.REMOVE_PROPERTY?this.operationalValues.flatPrimaryObject:this.operationalValues.flatModifiedObject,i=a[e],s=[];return n===en.MERGE||n===en.REMOVE_PROPERTY?this._findParentPath(a,e,null,s):this._findParentPath(a,i?.parentName??e,i.propertyName,s),s.reverse(),s[0]==="__root"&&s.shift(),s}_findParentPath(e,n,a,i){if(n){let s=e[n];if(s?.__initialId){i.push(s.__initialId);return}if(a&&(s=s[a]),s?.__initialId){i.push(s.__initialId);return}const b=n.split(this.pathDelimiter),D=b.pop();i.push(s?.name||D),this._findParentPath(e,b.join(this.pathDelimiter),s?.propertyName,i)}}_convertRemovedNestedObjectsIntoSingleOperation(e){return Object.keys(e).reverse().forEach(n=>{if(this.isRemoved(e[n])){const a=e[n][0],i=e[a.parentName];i&&(this.isRemoved(i)||this.isRemoved(i[a.propertyName])||this.isModified(i[a.propertyName]))&&delete e[n]}}),e}_applyFallbackRulesToArrayItemWithoutName(e){return Object.keys(e).reverse().forEach(n=>{if(this.isRemoved(e[n])){const a=e[n][0];e[a.parentName]?.[a.propertyName]?.[this.objectProperties.patchDiffNodeTypeSymbol]==="a"&&delete e[n]}}),e}_convertAddedNestedObjectsIntoSingleOperation(e,n){return Object.keys(e).reverse().forEach(a=>{if(this.isAdded(e[a])){const i=e[a][0];if(i.index===void 0){const s=n[i.parentName];if(s[i.propertyName]){const b=(0,y.without)(Object.keys(i),...Object.values(this.objectProperties)).reduce((D,W)=>(D[W]=i[W],D),{});s[i.propertyName]=b}delete n[a]}}}),n}_isFlatArrayItem(e){const n=this.operationalValues.flatModifiedObject[e];return Number.isInteger(n?.index)}needFlatten(e,n){let a=n||!1;return a=!this.isEmpty(e?.name),a||((0,y.isArray)(e)&&e.length>0&&this._fallbackRules.ifEveryArrayItemHasProperty(e,"__initialId")?a=!this.isEmpty(e[0].name):(0,y.isPlainObject)(e)&&(0,y.each)(e,i=>{a=this.needFlatten(i,a)})),a}checkIfItemAlreadyExist(e,n,a){super.checkIfItemAlreadyExist(e,n,a);const i=a[this.objectProperties.initialId];if(i){for(const s in e)if(e[s][this.objectProperties.initialId]===i)throw new Error(jt.String.format(mM,i))}}_eachObjDeep(e,n){(0,y.isPlainObject)(e)&&n?.call(this,e),(0,y.each)(e,a=>{(0,y.isObject)(a)&&this._eachObjDeep(a,n)})}getOperationValues(e,n){const a=super.getOperationValues(e,n);return this._eachObjDeep(a,i=>{i.__initialName&&(i.name=i.__initialName,delete i.__initialName)}),a}getObjectResultOperations(e){const n=[];return(0,y.each)(e,(a,i)=>{for(let s=0,b=a.length;s<b;s++){const D=a[s],W={operation:this.getObjectModificationTypeName(D)};switch(D){case en.INSERT:W.name=this._getModifiedObjectSimpleName(i),W.path=this._getModifiedObjectPath(i,D),Object.assign(W,this.getOperationValues(i,D)),Object.assign(W,this.getOperationMoveProperties(i)),W.path.push(W.propertyName),delete W.propertyName,delete W.parentName,delete W.__initialId,delete W.values._id,n.push(W);break;case en.CHANGE_POSITION:case en.MOVE:W.name=this._getModifiedObjectSimpleName(i),W.path=this._getModifiedObjectPath(i,D),Object.assign(W,this.getOperationMoveProperties(i)),W.path.push(W.propertyName),delete W.propertyName,delete W.parentName,delete W.__initialId,n.push(W);break;case en.REMOVE_PROPERTY:this._isFlatArrayItem(i)?W.name=this._getModifiedObjectSimpleName(i):W.path=this._getModifiedObjectPath(i,D),Object.assign(W,this.getOperationRemovedProperties(i)),W.properties.length>0&&n.push(W);break;case en.MERGE:this._isFlatArrayItem(i)?W.name=this._getModifiedObjectSimpleName(i):W.path=this._getModifiedObjectPath(i,D),Object.assign(W,this.getOperationValues(i,D)),W.values&&n.push(W);break;default:W.name=this._getModifiedObjectSimpleName(i),n.push(W);break}}}),n}setNameDeepByPathIfNeeded(e,n){Object.keys(e).length?(e.name&&(e.__initialName=e.name,delete e.name),e._id&&(e.name=e._id,e.__initialId=e._id),!e.name&&n&&(e.name=n),Object.keys(e).forEach(a=>{(0,y.isPlainObject)(e[a])?this.setNameDeepByPathIfNeeded(e[a],a):(0,y.isArray)(e[a])&&this._fallbackRules.ifEveryArrayItemHasProperty(e[a],"_id")&&this.setNameDeepByPathIfNeeded(e[a],null)})):(0,y.isPlainObject)(e)&&(e.name=n)}getJsonDiff(e,n,a){let i=[];try{const s=this.makeDiff(e,n);if(e=(0,y.cloneDeep)(e),n=(0,y.cloneDeep)(n),this.setNameDeepByPathIfNeeded(e,this.objectProperties.root),this.setNameDeepByPathIfNeeded(n,this.objectProperties.root),s){const b=this.getFlatObject(e,a);let D=this.getFlatObject(n,a),W=this.makeDiff(b,D);D=this._convertAddedNestedObjectsIntoSingleOperation(W,D),W=this.makeDiff(b,D),W=this._convertRemovedNestedObjectsIntoSingleOperation(W),W=this._applyFallbackRulesToArrayItemWithoutName(W),this.operationalValues={primaryObject:e,modifiedObject:n,delta:s,flatPrimaryObject:b,flatModifiedObject:D,flatDelta:W};const ot=this.getObjectOperations(a);i=this.getObjectResultOperations(ot)}}finally{(0,y.each)(this.operationalValues,(s,b)=>{delete this.operationalValues[b]}),this.operationalValues={}}return i}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Jg)))(a||Jg)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Jg,factory:Jg.\u0275fac})}}class Hf{constructor(e,n,a){this._jsonDifferService=e,this._jsonObjectDifferService=n,this._jsonPathDifferService=a,this._featureValues=(0,t.inject)(ge.G)}_getJsonPathDiff(e,n){return this._jsonPathDifferService.getJsonDiff(e,n,{identifyItemByPath:!0})}getDiff(e,n){const a=e??{viewConfig:{},viewModelConfig:{},modelConfig:{},localizableStrings:{},localizableImages:{}},i=n??{viewConfig:{},viewModelConfig:{},modelConfig:{},localizableStrings:{},localizableImages:{}},b={schema:{viewConfigDiff:this._jsonDifferService.getJsonDiff(a.viewConfig,i.viewConfig,{identifyItemByPath:!0})}};this._setModelConfigDiff(b,a,i),this._setViewModelConfigDiff(b,a,i);const D=this._jsonObjectDifferService.deepObjectDiff(a.localizableStrings,i.localizableStrings);(0,y.isEmpty)(D)||(b.localizableStrings=D);const W=this._jsonObjectDifferService.deepObjectDiff(a.localizableImages,i.localizableImages);return(0,y.isEmpty)(W)||(b.localizableImages=W),b}_setViewModelConfigDiff(e,n,a){this._featureValues?.EnableViewModelConfigDiff?e.schema.viewModelConfigDiff=this._getJsonPathDiff(n.viewModelConfig,a.viewModelConfig):e.schema.viewModelConfig=this._jsonObjectDifferService.deepObjectDiff(n.viewModelConfig,a.viewModelConfig)}_setModelConfigDiff(e,n,a){this._featureValues?.EnableModelConfigDiff?e.schema.modelConfigDiff=this._getJsonPathDiff(n.modelConfig,a.modelConfig):e.schema.modelConfig=this._jsonObjectDifferService.deepObjectDiff(n.modelConfig,a.modelConfig)}static{this.\u0275fac=function(n){return new(n||Hf)(t.\u0275\u0275inject(Yg),t.\u0275\u0275inject(Zg),t.\u0275\u0275inject(Jg))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Hf,factory:Hf.\u0275fac})}}const hM={name:"",schema:{viewConfigDiff:[],viewModelConfigDiff:[],modelConfigDiff:[]},structure:{},resources:{localizableImages:{},localizableStrings:{}}};class ms{get _cultureName(){return this._userInfo.cultureInfo.sysCultureName}get _defaultCultureName(){return this._userInfo.defCultureInfo.sysCultureName}constructor(e,n,a,i,s,b,D,W){this._amdSchemaLoaderService=e,this._profileSchemaLoader=n,this._schemaBuilder=a,this._schemaDifferService=i,this._profileSchemaProvider=s,this._userInfo=b,this._injector=D,this._measurePerformanceService=W,this._initialized$=new m.BehaviorSubject(null),this._applyingOperationsQueue$=new m.BehaviorSubject([]),this._partsChangedCallBacks=new Map}_queueOperation(e){const n=[...this._applyingOperationsQueue$.value,e];this._applyingOperationsQueue$.next(n)}_removeOperation(e){const n=this._applyingOperationsQueue$.value.filter(a=>a!==e);(0,y.isEqual)(this._applyingOperationsQueue$.value,n)||this._applyingOperationsQueue$.next(n)}_waitOperation(e){return this._applyingOperationsQueue$.pipe((0,h.map)(n=>n[0]),(0,h.filter)(n=>n==null||n===e),(0,h.map)(()=>{}))}_findSchemaPartIndex(e){return this._state.schemaParts.findIndex(n=>n.name===e)}_getPreviousSchemaPartKey(e){const{schemaParts:n}=this._state,a=this._findSchemaPartIndex(e);return a===-1||a===0?null:n[a-1].name}_actualizeSchemaPartsStartsFrom(e){var n=this;return(0,bt.A)(function*(){const a=n._findSchemaPartIndex(e);if(a===-1)return;const i=n._state.schemaParts.slice(a).map(s=>s.name);for(const s of i)yield n._actualizeSchemaPart(s)})()}_actualizeSchemaPart(e){var n=this;return(0,bt.A)(function*(){const{schemaParts:a,changedParts:i,schemaBundles:s}=n._state,b=n._getPreviousSchemaPartKey(e);if(!b){i.add(b);return}const D=s[b]??(yield(0,m.lastValueFrom)(n._buildSchemaBundle(b))),W=n._findSchemaPartIndex(e),ot=n._schemaDifferService.getDiff(D,s[e]),It={...a[W],schema:ot.schema,resources:{localizableImages:rM(ot.localizableImages,n._cultureName,n._defaultCultureName),localizableStrings:rM(ot.localizableStrings,n._cultureName,n._defaultCultureName)},localizableImages:ot.localizableImages,localizableStrings:ot.localizableStrings};(0,y.isEqual)(n._normalizeSchemaPart(a[W]),n._normalizeSchemaPart(It))||i.add(e),a[W]=It,a[W].name??=e})()}_actualizeSchemaBundleResources(e,n,a){const{resources:i,resourcesDiff:s}=a;if((0,y.isEmpty)(s))return;const b=this._findSchemaPartIndex(e),D=this._state.schemaParts[b],W=DC()(D,s);n.resources={strings:oM(i.localizableStrings,this._cultureName,this._defaultCultureName)},n.localizableStrings=sM(W.localizableStrings),n.localizableImages=sM(W.localizableImages)}init(e,n=!0){this._state={schemaName:e,schemaParts:[],schemaBundles:{},changedParts:new Set,packagePartKey:null,useProfile:n},this._initialized$.next({schemaName:e,ready:!1});const a=this._amdSchemaLoaderService.load(e),i=n?this._profileSchemaLoader.load(e):(0,m.of)([]);return(0,m.zip)(a,i).pipe((0,h.map)(([s,b])=>{const D=(0,y.reverse)(s),W=(0,y.reverse)(b);return this._setParts(D,W)}),(0,h.switchMap)(()=>this._build()),this._measurePerformanceService.measure$(`SchemaPartsService.init.${e}`),(0,h.tap)(()=>this._initialized$.next({schemaName:e,ready:!0})))}getState(){return this._state}restoreState(e){this._state=e,this._initialized$.next({schemaName:e.schemaName,ready:!0})}subscribeOnPartsChanged(e){const n=(0,de.qv)();return this._partsChangedCallBacks.set(n,e),()=>this._partsChangedCallBacks.delete(n)}use(e){var n=this;const a=this._normalizeSchemaPartKey(e),i=this._initialized$.pipe((0,h.filter)(({ready:s,schemaName:b})=>b===this._state.schemaName&&s),(0,h.take)(1),(0,h.switchMap)(()=>this._buildSchemaBundle(a)),(0,h.switchMap)(function(){var s=(0,bt.A)(function*(b){const D=yield n._createSchemaService(b),W=yield n._createSchemaLocalizationService(a);return[D,W]});return function(b){return s.apply(this,arguments)}}()));return(0,m.lastValueFrom)(i)}apply(e,n="USER"){var a=this;const i=(0,de.qv)(),s=this._normalizeSchemaPartKey(n);return(0,m.lastValueFrom)(this._initialized$.pipe((0,h.filter)(({ready:b,schemaName:D})=>D===this._state.schemaName&&b),(0,h.tap)(()=>this._queueOperation(i)),(0,h.switchMap)(()=>this._waitOperation(i)),(0,h.take)(1),(0,h.switchMap)(()=>{const b=this._findSchemaPartIndex(s);if(b===-1)throw new Error(`schema part "${n}" not found`);const W=[...this._state.schemaParts].slice(b,this._state.schemaParts.length).map(ot=>(0,m.forkJoin)([(0,m.of)(ot.name),this._buildSchemaBundle(ot.name)]));return(0,m.forkJoin)(W).pipe((0,h.switchMap)(function(){var ot=(0,bt.A)(function*(It){for(const[Pt,te]of It)yield a._apply(te,e,Pt)});return function(It){return ot.apply(this,arguments)}}()))}),(0,h.catchError)(()=>(0,m.of)(void 0)),(0,h.tap)(()=>this._removeOperation(i))),{defaultValue:void 0})}commit(e={silent:!0}){var n=this;return(0,m.lastValueFrom)(this._initialized$.pipe((0,h.filter)(({ready:a,schemaName:i})=>i===this._state.schemaName&&a),(0,h.switchMap)(()=>this._waitOperation(void 0)),(0,h.take)(1),(0,h.map)(()=>[...this._state.schemaParts].pop().name),(0,h.map)(a=>this._state.schemaBundles[a]),(0,h.switchMap)(function(){var a=(0,bt.A)(function*(i){for(const[,s]of n._partsChangedCallBacks)yield s?.({bundle:i,silent:!!e?.silent});return i});return function(i){return a.apply(this,arguments)}}()),(0,h.switchMap)(()=>this._saveParts()),(0,h.tap)(()=>this._state.changedParts.clear())),{defaultValue:null})}_apply(e,n,a){var i=this;return(0,bt.A)(function*(){const s=yield i._createSchemaService(e),b=yield i._createSchemaLocalizationService(a);yield n([s,b]);const D={...s.schema};i._actualizeSchemaBundleResources(a,D,b),i._state.schemaBundles[a]=D,yield i._actualizeSchemaPartsStartsFrom(a)})()}_build(){const e=[...this._state.schemaParts].pop().name;return this._buildSchemaBundle(e,{tryGetFromCache:!0}).pipe(this._measurePerformanceService.measure$(`SchemaPartsService.build.${this._state.schemaName}`))}_setParts(e,n){this._state.packagePartKey=[...e].pop()?.name,n=this._normalizeProfileParts(n),this._state.schemaParts=[...e,...n]}_normalizeProfileParts(e){const n={...hM,name:this._getAllEmployeePartCode()},a={...hM};return!e||e.length===0?[n,a]:(e.some(i=>i.name===n.name)===!1&&(e=[n,...e]),e.some(i=>i.name===a.name)===!1&&(e=[...e,a]),e)}_normalizeSchemaPart(e){const{localizableImages:n,localizableStrings:a,...i}=e;return{...i,...n?{localizableImages:n}:{},...a?{localizableStrings:a}:{}}}_normalizeSchemaPartKey(e){switch(e){case"PACKAGE":return this._state.packagePartKey;case"ALL_EMPLOYERS":return this._getAllEmployeePartCode();case"USER":return"";default:return e??""}}_getAllEmployeePartCode(){return this._userInfo?.isSSP?bo.vZ.toUpperCase():bo.J$.toUpperCase()}_buildSchemaBundle(e,n={tryGetFromCache:!1}){const a=this._combineSchemaParts(e);return this._schemaBuilder.build(a,n).pipe((0,h.tap)(i=>i.localizableStrings=this._buildLocalizableStrings(a)),(0,h.tap)(i=>this._state.schemaBundles[e]=i))}_buildLocalizableStrings(e){return DC().all(e.map(n=>n.localizableStrings||{}),{arrayMerge:(n,a,i)=>a})}_combineSchemaParts(e){const n=this._findSchemaPartIndex(e);return this._state.schemaParts.slice(0,n+1)}_createSchemaService(e){const n=this._injector.get(fR)();return n.init((0,y.cloneDeep)(e)),Promise.resolve(n)}_saveParts(){const{useProfile:e,schemaName:n,schemaParts:a,changedParts:i,packagePartKey:s}=this._state;if(!e)return Promise.resolve([]);const b=this._findSchemaPartIndex(s),D=a.slice(b+1,a.length).filter(Pt=>i.has(Pt.name)),W=D.find(Pt=>Pt.name?.toUpperCase()===bo.J$.toUpperCase());if(W&&D.push({...W,name:bo.vZ.toUpperCase()}),!D.length)return Promise.resolve([]);if(this._savePartsPromise)return this._savePartsPromise;const ot=D.map(Pt=>this._profileSchemaProvider.set(n,Pt)),It=(0,m.forkJoin)(ot).pipe((0,h.tap)(()=>this._savePartsPromise=null));return this._savePartsPromise=(0,m.lastValueFrom)(It,{defaultValue:[]}),this._savePartsPromise}_createSchemaLocalizationService(e){var n=this;return(0,bt.A)(function*(){const a=n._injector.get(dM)();return yield a.init({schemaName:n._state.schemaName,partName:e}),a})()}static{this.\u0275fac=function(n){return new(n||ms)(t.\u0275\u0275inject(zf),t.\u0275\u0275inject(Uf),t.\u0275\u0275inject(LC),t.\u0275\u0275inject(Hf),t.\u0275\u0275inject(R2),t.\u0275\u0275inject(Ze.oq),t.\u0275\u0275inject(t.Injector),t.\u0275\u0275inject(c1.g))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ms,factory:ms.\u0275fac})}}class zp{constructor(){this._metadataSchemaUtils=(0,t.inject)(up.u)}getDataGridViewConfigs(e,n){return this._metadataSchemaUtils.getCollectionViewConfigs(e,n||P2)}getDataGridViewConfigsWithItemsBinding(e,n){return this._metadataSchemaUtils.getCollectionViewConfigsWithItemsBinding(e,n||P2)}static{this.\u0275fac=function(n){return new(n||zp)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:zp,factory:zp.\u0275fac})}}const TR="UserSchemaProfile",_M="QuerySchemaProfile",PR="QuerySchemaProfiles";class Wf extends t2.t{constructor(e,n){super(),this.httpClient=e,this.serviceEndpoint=n,this._actualProfilesCache=new Map,this._serviceSaveProfileEndpoint=`${this.serviceEndpoint}/${TR}`,this._querySchemaProfilesEndpoint=`${this.serviceEndpoint}/${PR}`}_cacheProfiles(e,n){e.forEach(a=>{this._actualProfilesCache.set(a,n?.[a]??null)})}_getCachedProfiles(e){return Object.fromEntries(e.filter(n=>this._actualProfilesCache.has(n)).map(n=>[n,this._actualProfilesCache.get(n)]))}_fetchSingle(e){return this.executePostRequestWithCache(_M,{key:e}).pipe((0,h.map)(n=>n),(0,h.tap)(n=>this._actualProfilesCache.set(e,n?.[0])))}_fetchMany(e){return this.httpClient.post(this._querySchemaProfilesEndpoint,{keys:e}).pipe((0,h.map)(n=>(0,y.mapValues)(n??{},a=>a?.[0])),(0,h.tap)(n=>this._cacheProfiles(e,n)))}getProfile(e,n){return n?.skipAncestors?this.getProfiles([e]).pipe((0,h.map)(a=>a?.[e])):this._fetchSingle(e)}getProfiles(e){if(!e?.length)return(0,m.of)({});const n=this._getCachedProfiles(e),a=e.filter(i=>!(i in n));return a.length?this._fetchMany(a).pipe((0,h.map)(i=>({...n,...i}))):(0,m.of)(n)}saveProfile(e,n,a){const{requirejs:i,require:s}=window;s?.defined("profile")&&s("profile").addKey(e),i?.undef("profile!"+e);const b={key:e,data:n===null?"":JSON.stringify(n),sysAdminUnitIds:a?.sysAdminUnitIds,clearDescendants:a?.clearDescendants};return this.httpClient.post(this._serviceSaveProfileEndpoint,b).pipe((0,h.tap)(()=>{this._actualProfilesCache.delete(e),this.resetCache(_M,{key:e})}))}static{this.\u0275fac=function(n){return new(n||Wf)(t.\u0275\u0275inject(l.HttpClient),t.\u0275\u0275inject(Yr))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Wf,factory:Wf.\u0275fac,providedIn:"root"})}}class Xg{constructor(e){this._userSchemaProfileService=e,this._metadataSchemaUtils=(0,t.inject)(up.u),this.dataGridViewConfigCreator=(0,t.inject)(zp)}_getProfileDesignSettings(e,n){const a=this.getProfileDesignSettingsKey(n,e);return(0,m.firstValueFrom)(this._userSchemaProfileService.getProfile(a,{skipAncestors:!0}))}getProfileDesignSettingsKey(e,n){return`${e}__${n?.replace(/[^\w]/g,"")}`}load(e){const n=this.dataGridViewConfigCreator.getDataGridViewConfigs(e).map(({name:a})=>this.getProfileDesignSettingsKey(e.name,a));return(0,m.firstValueFrom)(this._userSchemaProfileService.getProfiles(n))}get(e,n){var a=this;return(0,bt.A)(function*(){const i=a._metadataSchemaUtils.getViewConfigInfoByName(n,e)?.viewConfig;if(!i)return null;const s=yield a._getProfileDesignSettings(i.name,n.name);return s||(i._designOptions?.designSettings??null)})()}save(e,n,a,i){var s=this;return(0,bt.A)(function*(){const b=s.getProfileDesignSettingsKey(n,e);yield(0,m.firstValueFrom)(s._userSchemaProfileService.saveProfile(b,a,i))})()}static{this.\u0275fac=function(n){return new(n||Xg)(t.\u0275\u0275inject(Wf))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Xg,factory:Xg.\u0275fac})}}const OR=new t.InjectionToken("Represents a factory of entity data source attribute config converters");function fM(r,e){const{columns:n}=r??{};if(!n)return null;if(!(0,_n.qG)(n))return Array.isArray(n)?n:null;const a=(0,_n.YK)(n).attributePath;if(!a)return null;const i=e.viewModelConfig?.attributes?.[a];return i&&"value"in i&&Array.isArray(i.value)?i.value:null}function yH(r,e){const{columns:n}=r??{};if(!n)return Promise.resolve(null);if(!isBindingExpression(n))return Promise.resolve(Array.isArray(n)?n:null);const a=parseExpression(n).attributePath;return a?e?.[a]??Promise.resolve(null):Promise.resolve(null)}function DR(r){return r?.code?(0,ff.F)(r.code):null}function kC(r){return k2(r?.caption)||DR(r)}class qg{constructor(e){this._entityDataSourceAttributeConfigConverterFactory=e}_createColumnDesignSettings(e){const{column:n,viewModelAttributeName:a,viewModelAttributeConfig:i,dataSourceAttributes:s}=e,b=this._getDataSourceAttributeName(i),D=this._createColumnModelMetadata(b,s?.[b]),W={};return n&&(W.viewMetadata=n),D&&(W.modelMetadata=D),!W.viewMetadata&&W.modelMetadata&&(W.viewModelMetadata={attributeName:a}),(0,y.isEmpty)(W)?null:W}_getDataSourceAttributeName(e){if(!e||!("modelConfig"in e))return null;const n=e.modelConfig?.path;if(!n)return null;const a=n.split(".");return a.length>1?a.slice(1).join("."):n}_createColumnModelMetadata(e,n){return!n&&e?{name:e,path:e}:n?this._entityDataSourceAttributeConfigConverterFactory.create(n.type)?.toDataSourceAttribute(e,n):null}create(e,n){if(!e||!n)return[];const a=O2(e,n),i=a?.modelConfig?.path,s=lR(i,n);if(!s)return[];const b=a?.viewModelConfig?.attributes??{},W=(fM(e,n)??[]).filter(te=>te?.code).map(te=>this._createColumnDesignSettings({column:te,viewModelAttributeName:te.code,viewModelAttributeConfig:b[te.code],dataSourceAttributes:s.attributes})).filter(Boolean),ot=e?.primaryColumnName;if(!ot||W.find(te=>te.viewMetadata?.code===ot))return W;const Pt=this._createColumnDesignSettings({column:null,viewModelAttributeName:ot,viewModelAttributeConfig:b[ot],dataSourceAttributes:s.attributes});return Pt&&W.unshift(Pt),W}static{this.\u0275fac=function(n){return new(n||qg)(t.\u0275\u0275inject(OR))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:qg,factory:qg.\u0275fac})}}class th{_getSortingColumnOptions(e,n,a){const i=a.modelConfig?.sortingConfig,s=i?.attributeName||J6(e),D=n.viewModelConfig.attributes?.[s];return(0,y.isEmpty)(D)||(0,Q1.t)(D)?i?.default||[]:D.value}create(e,n){const a=O2(e,n);if(!a)return[];const i=this._getSortingColumnOptions(e,n,a);return Y6(i,a)}static{this.\u0275fac=function(n){return new(n||th)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:th,factory:th.\u0275fac})}}class eh{_getColumnResources(e,n){if(!e)return null;const a=kC(e);return!a||(0,y.isEmpty)(n[a])?null:{[a]:n[a]}}create(e,n,a){const i=fM(e,n),s={localizableStrings:{}};return!i?.length||(0,y.isEmpty)(a?.localizableStrings)||i.map(b=>this._getColumnResources(b,a.localizableStrings)).filter(Boolean).forEach(b=>(0,y.merge)(s.localizableStrings,b)),s}static{this.\u0275fac=function(n){return new(n||eh)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:eh,factory:eh.\u0275fac})}}class nh{constructor(e,n,a){this._dataGridDesignSettingsColumnsCreator=e,this._dataGridDesignSettingsSortingCreator=n,this._dataGridDesignSettingsResourcesCreator=a}create(e,n,a){return{columns:this._dataGridDesignSettingsColumnsCreator.create(e,n),sorting:this._dataGridDesignSettingsSortingCreator.create(e,n),resources:this._dataGridDesignSettingsResourcesCreator.create(e,n,a)}}static{this.\u0275fac=function(n){return new(n||nh)(t.\u0275\u0275inject(qg),t.\u0275\u0275inject(th),t.\u0275\u0275inject(eh))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:nh,factory:nh.\u0275fac})}}class ah{constructor(e,n){this._metadataModifierService=e,this._schemaPartsService=n}_getViewConfig(e,n){return n.getViewConfigInfoByName(e).viewConfig}_transferSortingAttribute(e,n,a){const i=e.viewModelConfig?.attributes,s=n.viewModelConfig?.attributes,b=this._getSortingAttributeName(e,a),D=this._getSortingAttributeName(n,a);if(!(!i&&!s)){if(!b&&D){delete s[D];return}b&&(s[b]=i?.[b])}}_getSortingAttributeName(e,n){const a=e.viewModelConfig?.attributes?.[n];return!a||!("modelConfig"in a)?null:a.modelConfig?.sortingConfig?.attributeName}_cleanEmptyDesignOptions(e){e._designOptions=JSON.parse(JSON.stringify(e._designOptions)),(0,y.isEmpty)(e._designOptions)&&delete e._designOptions}_getResourceKeys(e){return Array.isArray(e?.columns)?e.columns.filter(n=>iM(n?.caption)).map(n=>k2(n.caption)):[]}_getResources(e,n){var a=this;return(0,bt.A)(function*(){const i=(0,y.cloneDeep)(yield n.loadResources()),s=a._getResourceKeys(e),b=Object.entries(i.localizableStrings).filter(([D])=>s.includes(D));return{localizableImages:{},localizableStrings:Object.fromEntries(b)}})()}_transferResources(e,n){var a=this;return(0,bt.A)(function*(){const[i,s]=e,[b,D]=n,W=yield a._getResources(i,s),ot=yield a._getResources(b,D);Object.keys(ot.localizableStrings).forEach(It=>{const Pt=W.localizableStrings[It],te=ot.localizableStrings[It];Object.keys(te).forEach(Se=>{te[Se]=Pt?.[Se]})}),yield D.upsertResources(ot)})()}_transferViewConfigProperties(e,n){n.columns=e.columns,(0,y.set)(n,"_designOptions.designSettings",e._designOptions?.designSettings),(0,y.set)(n,"_designOptions.columns",e._designOptions?.columns),this._cleanEmptyDesignOptions(n),this._metadataModifierService.revert(n)}_transferModelConfig(e,n,a){const i=e.getMappedDataSourceAttributePath(a),s=n.getMappedDataSourceAttributePath(a);if(!i&&!s)return;const b=e.schema.modelConfig.dataSources,D=n.schema.modelConfig.dataSources;D[s]=b?.[i]}_transferViewModelConfig(e,n,a){const i=e.schema,s=n.schema;this._transferSortingAttribute(i,s,a),s.viewModelConfig.attributes[a]=i.viewModelConfig?.attributes?.[a]}transfer(e,n,a){var i=this;return(0,bt.A)(function*(){const[s,b]=yield i._schemaPartsService.use(n);yield i._schemaPartsService.apply(function(){var D=(0,bt.A)(function*([W,ot]){const It=i._getViewConfig(e,W),Pt=i._getViewConfig(e,s);yield i._transferResources([Pt,b],[It,ot]),i._transferViewConfigProperties(Pt,It);const te=Fp(It);te&&(i._transferModelConfig(s,W,te),i._transferViewModelConfig(s,W,te),W.init(W.schema))});return function(W){return D.apply(this,arguments)}}(),a)})()}static{this.\u0275fac=function(n){return new(n||ah)(t.\u0275\u0275inject(Gg),t.\u0275\u0275inject(ms))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ah,factory:ah.\u0275fac})}}class jr{constructor(e,n,a,i,s){this._schemaService=e,this._schemaPartsService=n,this._dataGridDesignSettingsRepositoryService=a,this._dataGridDesignSettingsCreator=i,this._dataGridMetadataTransferService=s}_createDesignSettings(e){var n=this;return(0,bt.A)(function*(){const a=n._schemaService.getViewConfigInfoByName(e)?.viewConfig,i=n._schemaService.schema,[,s]=yield n._schemaPartsService.use("USER"),b=yield s.loadResources();return n._dataGridDesignSettingsCreator.create(a,i,b)})()}get(e){var n=this;return(0,bt.A)(function*(){return(yield n._dataGridDesignSettingsRepositoryService.get(e,n._schemaService.schema))??n._createDesignSettings(e)})()}save(e,n,a){var i=this;return(0,bt.A)(function*(){const s=i._schemaService.schema.name;yield i._dataGridDesignSettingsRepositoryService.save(e,s,n,a),a?.sysAdminUnitIds||(yield i._dataGridMetadataTransferService.transfer(e,"ALL_EMPLOYERS","USER")),(a?.sysAdminUnitIds?.includes(bo.J$)||a?.sysAdminUnitIds?.includes(bo.vZ))&&(yield i._dataGridMetadataTransferService.transfer(e,"PACKAGE","ALL_EMPLOYERS"))})()}static{this.\u0275fac=function(n){return new(n||jr)(t.\u0275\u0275inject(gi),t.\u0275\u0275inject(ms),t.\u0275\u0275inject(Xg),t.\u0275\u0275inject(nh),t.\u0275\u0275inject(ah))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:jr,factory:jr.\u0275fac})}}let z2=class extends da.l{constructor(e,n){super(),this._schemaService=e,this._dataGridDesignSettingsProvider=n}_isDesignSettingsChanged(e,n){const a=this._isColumnsChanged(e.columns,n.columns),i=!(0,y.isEqual)(e.sorting,n.sorting);return a||i}_isColumnsChanged(e,n){if(e.length!==n.length)return!0;const a=!e.every(s=>n.some(b=>this._isColumnsEqual(b,s)));return!n.every(s=>e.some(b=>this._isColumnsEqual(s,b)))||a}_isColumnsEqual(e,n){return(0,y.isEqual)(e.modelMetadata,n.modelMetadata)&&(0,y.isEqual)(e.viewModelMetadata,n.viewModelMetadata)}_clearDataGridCollection(e,n){const a=Fp(e),i=n.attributes[a];if(i instanceof Ni.A)return i.clear()}handle(e){var n=this;return(0,bt.A)(function*(){const{$context:a,dataGridName:i}=e;if(!i)return n.next?.handle(e);let{currentDesignSetting:s,previousDesignSetting:b}=e;if((0,y.isEmpty)(s)&&(0,y.isEmpty)(b))return n.next?.handle(e);const D=n._schemaService.getViewConfigInfoByName(i).viewConfig;return b=(0,y.isEmpty)(b)?yield n._dataGridDesignSettingsProvider.get(D.name):b,s=(0,y.isEmpty)(s)?yield n._dataGridDesignSettingsProvider.get(D.name):s,n._isDesignSettingsChanged(b,s)&&(yield n._clearDataGridCollection(D,a)),n.next?.handle(e)})()}};z2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridClearCollectionsForChangedDesignSettingsHandler",requestType:"crt.DataGridClearCollectionsForChangedDesignSettingsRequest"}),(0,u.__metadata)("design:paramtypes",[gi,jr])],z2);var Up=o(62800),U2=o(99298),Gf=o(81517);class H2 extends Gf.S{}class ih{constructor(e,n){this._schemaService=e,this._schemaPartsService=n,this.handlerChain=Ar.t.instance}_getDataGridViewConfig(e){return this._schemaService.getViewConfigInfoByName(e).viewConfig}_getCollectionModel(e,n){const a=n.getBoundDataSourceNameByAttributePath(e);return n.getModelByName(a)}_getCollectionAttributeConfig(e,n){return n._attributeConfigs?.[e]}_getCollectionSortingAttributeName(e,n){return this._getCollectionAttributeConfig(e,n)?.modelConfig?.sortingConfig?.attributeName}_updateSorting(e,n,a){var i=this;return(0,bt.A)(function*(){const s=Fp(e),b=i._getCollectionAttributeConfig(s,a);if((0,y.isEmpty)(b))return!1;const D=i._getCollectionSortingAttributeName(s,a)??J6(e),W=Q6(n,b),ot=yield a[D];return(0,y.isEqual)(W,ot)?!1:(a.set(D,W),!0)})()}_reloadModels(e,n){var a=this;return(0,bt.A)(function*(){const i=e.$context;yield Promise.all(n.filter(s=>s&&s===i.getModelByName(s.name)).map(s=>a._reloadData(e,s.name)))})()}_reloadData(e,n){var a=this;return(0,bt.A)(function*(){const i={type:"crt.LoadDataRequest",scopes:e.scopes,config:{loadType:Ho.I.Reload},$context:e.$context,dataSourceName:n};yield a.handlerChain.process(i)})()}commit(e,n){var a=this;return(0,bt.A)(function*(){if((0,y.isEmpty)(e))return;const i=n.$context,s=[];for(const[b,{sorting:D}]of Object.entries(e)){const W=a._getDataGridViewConfig(b);if(!W||!(yield a._updateSorting(W,D,i)))continue;const It=Fp(W),Pt=a._getCollectionModel(It,i);Pt&&s.push(Pt)}yield a._schemaPartsService.commit({silent:!1}),yield a._reloadModels(n,s)})()}static{this.\u0275fac=function(n){return new(n||ih)(t.\u0275\u0275inject(gi),t.\u0275\u0275inject(ms))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ih,factory:ih.\u0275fac})}}class mc{constructor(e,n){this._folderTreeRelatedElementConfigsProvider=e,this._dataGridActiveFolderDesignSettingsRelationsProvider=n}_setDataGridActiveFolderSettingsAttribute(e,n){return(0,bt.A)(function*(){const{viewConfig:a,viewModel:i}=e,s=eR(a);yield i.set(s,n)})()}get(e){return this._dataGridActiveFolderDesignSettingsRelationsProvider.getByDataGrid(e)}set(e,n){var a=this;return(0,bt.A)(function*(){const i=yield a._dataGridActiveFolderDesignSettingsRelationsProvider.getFolderRelatedElementsSelectionOptions(e);i&&(a._folderTreeRelatedElementConfigsProvider.setUnsaved(i,n),a._setDataGridActiveFolderSettingsAttribute(e,n))})()}save(e){var n=this;return(0,bt.A)(function*(){const a=yield n._dataGridActiveFolderDesignSettingsRelationsProvider.getFolderRelatedElementsSelectionOptions(e);if(!a)return!1;const{success:i}=yield(0,m.lastValueFrom)(n._folderTreeRelatedElementConfigsProvider.save(a));if(!i)return!1;const s=yield(0,m.lastValueFrom)(n._folderTreeRelatedElementConfigsProvider.get(a));return n._setDataGridActiveFolderSettingsAttribute(e,s),!0})()}clear(e){var n=this;return(0,bt.A)(function*(){const a=yield n._dataGridActiveFolderDesignSettingsRelationsProvider.getFolderRelatedElementsSelectionOptions(e);if(!a)return!1;const{success:i}=yield(0,m.lastValueFrom)(n._folderTreeRelatedElementConfigsProvider.clear(a));return i&&n._setDataGridActiveFolderSettingsAttribute(e,null),i})()}static{this.\u0275fac=function(n){return new(n||mc)(t.\u0275\u0275inject(Kg),t.\u0275\u0275inject(jp))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:mc,factory:mc.\u0275fac})}}class bM extends da.l{constructor(e){super(),this._rightsService=e.get(Ld.f),this.schemaService=e.get(gi),this.translateService=e.get(f.TranslateService),this.messageDialogProvider=e.get(ji)}getFolderTreeViewConfig(e){return this.schemaService.getViewConfigInfoByName(e)?.viewConfig}getActiveFolderName(e,n){return(0,bt.A)(function*(){const{activeFolderNameAttrName:a}=PC(e);return(yield n[a])||null})()}getActiveFolderFolderTreeId(e,n){return(0,bt.A)(function*(){const{activeFolderFolderTreeIdAttrName:a}=PC(e);return(yield n[a])||null})()}isFolderEditingDenied(e,n){var a=this;return(0,bt.A)(function*(){const i=a.getFolderTreeViewConfig(e);return i?.sourceSchemaName?!(yield(0,m.lastValueFrom)(a._rightsService.getCanEdit({isNew:!1,schemaName:i.sourceSchemaName,primaryColumnValue:n}))).result:!0})()}showDeniedOperationDialog(e){var n=this;return(0,bt.A)(function*(){const a=jt.String.format(n.translateService.instant("DataGrid.ActionsToolbar.SaveListSettingsForFolderNoPermission"),e);yield(0,m.lastValueFrom)(n.messageDialogProvider.error(a))})()}}let CM=class extends H2{};CM=(0,u.__decorate)([(0,Up.$)({type:"crt.DataGridClearConfigsForActiveFolderRequest"})],CM);let W2=class extends bM{constructor(e,n,a,i,s,b){super(e),this._maskService=n,this._dataGridDesignSettingsProvider=a,this._dataGridCommitSettingsChangesService=i,this._dataGridActiveFolderDesignSettingsProvider=s,this._liveAnnouncementService=b}_isCleaningConfirmed(e){const n=jt.String.format(this.translateService.instant("ConfirmationDialog.ClearDataGridConfigsForActiveFolder"),e);return(0,m.lastValueFrom)(this.messageDialogProvider.confirmation(n),{defaultValue:null})}_getDataGridViewConfig(e){return this.schemaService.getViewConfigInfoByName(e).viewConfig}_clearDataGridDesignSettings(e){var n=this;return(0,bt.A)(function*(){const{dataGridName:a,$context:i}=e,s=n.schemaService.schema,b=n._getDataGridViewConfig(a),D={metadata:s,viewConfig:b,viewModel:i},W=yield n._dataGridActiveFolderDesignSettingsProvider.get(D);if(!(yield n._dataGridActiveFolderDesignSettingsProvider.clear(D)))return;yield n._clearRelatedDataGridCollection(a,W,e);const It=yield n._dataGridDesignSettingsProvider.get(a);n._dataGridCommitSettingsChangesService.commit({[a]:It},e),yield n._liveAnnouncementService.announce("DataGrid.ActionsToolbar.ClearListSettingsForFolderSuccessfully")})()}_clearRelatedDataGridCollection(e,n,a){const i={type:"crt.DataGridClearCollectionsForChangedDesignSettingsRequest",$context:a.$context,dataGridName:e,scopes:a.scopes,previousDesignSetting:n,currentDesignSetting:null};return this.handlerChain.process(i)}handle(e){var n=this;return(0,bt.A)(function*(){const{dataGridName:a,folderTreeName:i,$context:s}=e;if(!a||!i||!s)return n.next?.handle(e);const b=yield n.getActiveFolderFolderTreeId(i,s);if(!b)return n.next?.handle(e);const D=yield n.getActiveFolderName(i,s);if(yield n.isFolderEditingDenied(i,b))return yield n.showDeniedOperationDialog(D),n.next?.handle(e);if(!(yield n._isCleaningConfirmed(D)))return n.next?.handle(e);const W=`CLEARING_DATA_GRID_CONFIGS_FOR_ACTIVE_FOLDER_FOR_${a}`;return yield n._maskService.showMask(W,s),yield n._clearDataGridDesignSettings(e),yield n._maskService.hideMask(W,s),n.next?.handle(e)})()}};W2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridClearConfigsForActiveFolderHandler",requestType:"crt.DataGridClearConfigsForActiveFolderRequest"}),(0,u.__param)(1,(0,Pf.j)(U2.V)),(0,u.__metadata)("design:paramtypes",[t.Injector,nl.s,jr,ih,mc,E.DW])],W2);var yM=o(89285);let vM=class extends Gf.S{constructor(){super(...arguments),this.type="crt.DataGridCreateItemRequest"}};vM=(0,u.__decorate)([(0,Up.$)({type:"crt.DataGridCreateItemRequest"})],vM);let G2=class extends da.l{constructor(e){super(),this._schemaService=e,this.viewItemTypes=T2}_getDataGridViewConfig(e,n){return this._schemaService.getViewConfigInfoByFilter(a=>this.viewItemTypes.includes(a.type))?.map(a=>a?.viewConfig)?.find(a=>a?.name===e)??null}_createNewItem(e,n,a,i){return(0,bt.A)(function*(){if(!(0,_n.qG)(e.items))return null;const s=e.items.slice(1),b=yield a[s];if(!b)return null;const D={};return i?.forEach(W=>{D[W.attributeName]=W.value}),b.createItem({index:n,initialModelValues:D})})()}_startEditingNewItem(e,n,a){return new Promise(i=>{setTimeout(()=>{this._setEditingCells(e,n,a).then(i)})})}_setEditingCells(e,n,a){var i=this;return(0,bt.A)(function*(){const s=e.primaryColumnName??n.primaryAttributeName,b={rowId:yield n[s]},D=i._getDataGridEditingCellsAttributeName(e);D&&(a[D]=[b])})()}_getDataGridEditingCellsAttributeName(e){const n=e.editingCells;if(n)return(0,_n.qG)(n)?n.slice(1):null;const a=e.name;return a?`${a}_EditingCells`:null}_saveRecord(e){var n=this;return(0,bt.A)(function*(){const a={type:"crt.SaveRecordRequest",preventCardClose:!1,$context:e},i=yield n.handlerChain.process(a);return i&&(yield n._reloadRequest(e)),i})()}_reloadRequest(e){var n=this;return(0,bt.A)(function*(){const a=yield e.getPrimaryModelName(),i=yield e.getPrimaryDataSchema(),s={type:"crt.LoadDataRequest",dataSourceName:a,parameters:[{type:"primaryColumnValue",value:i.primaryAttributeName}],$context:e},b=e.getModelByName(a);b.disableSync=!0,yield n.handlerChain.process(s),b.disableSync=!1})()}handle(e){var n=this;return(0,bt.A)(function*(){const{$context:a,dataGridName:i,insertionIndex:s,defaultValues:b}=e,D=n._getDataGridViewConfig(i,a);if(!D)return null;const W=yield a.PrimaryModelMode,ot=W===yM.b.Create||W===yM.b.Copy,It=ot&&(yield n._saveRecord(a));if(ot&&!It)return null;const Pt=yield n._createNewItem(D,s,a,b);return Pt?(Pt.formApiModel.markAsDirty(),yield n._startEditingNewItem(D,Pt,a),Pt):null})()}};G2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridCreateItemHandler",requestType:"crt.DataGridCreateItemRequest"}),(0,u.__metadata)("design:paramtypes",[gi])],G2);var AR=o(85604);class MM extends da.l{constructor(e){super(),this.injector=e,this._schemaService=this.injector.get(gi),this._dataGridViewConfigCreator=this.injector.get(zp)}_clearAttributeValue(e,n){const{scopes:a,$context:i}=e,s={type:"crt.ChangeViewModelAttributeValueRequest",scopes:a,$context:i,attributeName:n,attributeValue:null};return this.handlerChain.process(s)}_getDataGridViewConfigsByModel(e){const n=this._schemaService.schema;return this._dataGridViewConfigCreator.getDataGridViewConfigs(n).filter(a=>O2(a,n)?.modelConfig?.path===e)}_getActiveRowAttribute(e){const n=e.activeRow??`$${Z6(e)}`;return(0,_n.qG)(n)?(0,_n.YK)(n).attributePath:null}_resetActiveRowAttribute(e,n){var a=this;return(0,bt.A)(function*(){const i=Fp(n),s=a._getActiveRowAttribute(n);if(!s||!i)return;const b=yield e.$context[s];if(!(!b||(yield(yield e.$context[i])?.findByPrimaryAttribute(b))))return a._clearAttributeValue(e,s)})()}handle(e){var n=this;return(0,bt.A)(function*(){const a=yield n.next?.handle(e),i=n.getModelName(e);if(!i)return a;const s=n._getDataGridViewConfigsByModel(i).map(b=>n._resetActiveRowAttribute(e,b));return yield Promise.all(s),a})()}}let $2=class extends MM{constructor(e){super(e),this.injector=e}getModelName(e){return e.modelName}handle(e){return e.modelEvent?.type!==AR.M.Delete?this.next?.handle(e):super.handle(e)}};$2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridResetActiveRowWhenDeletingDataHandler",requestType:"crt.HandleModelEventRequest"}),(0,u.__metadata)("design:paramtypes",[t.Injector])],$2);let K2=class extends MM{constructor(e){super(e),this.injector=e}getModelName(e){return e.dataSourceName}handle(e){return nM(e)?super.handle(e):this.next?.handle(e)}};K2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridResetActiveRowWhenReloadingDataHandler",requestType:"crt.LoadDataRequest"}),(0,u.__metadata)("design:paramtypes",[t.Injector])],K2);class IM extends da.l{constructor(e,n){super(),this._maskService=e,this._messageDialogProvider=n}_isActionConfirmed(e){const n=this.getConfirmationDialogConfig(e),a=this._messageDialogProvider.confirmation(n);return(0,m.lastValueFrom)(a)}performActionWithMask(e){var n=this;return(0,bt.A)(function*(){const a=n.getMaskTaskName(e);try{yield n._maskService.showMask(a,e.$context),yield n.performAction(e)}finally{yield n._maskService.hideMask(a,e.$context)}})()}handle(e){var n=this;return(0,bt.A)(function*(){(yield n._isActionConfirmed(e))&&(yield n.performActionWithMask(e))})()}}let xM=class extends Gf.S{};xM=(0,u.__decorate)([(0,Up.$)({type:"crt.DataGridResetConfigsToDefaultRequest"})],xM);let Z2=class extends IM{constructor(e,n,a,i,s){super(e,n),this._liveAnnouncementService=a,this._dataGridDesignSettingsProvider=i,this._dataGridDesignSettingsChangesCommitService=s}getMaskTaskName(e){return`RESET_DATA_GRID_CONFIGS_TO_DEFAULT_${e.dataGridName}`}getConfirmationDialogConfig(){return{data:{message:"ConfirmationDialog.ResetDataGridConfigsToDefault"}}}performAction(e){var n=this;return(0,bt.A)(function*(){const{dataGridName:a}=e;yield n._dataGridDesignSettingsProvider.save(a,null);const i=yield n._dataGridDesignSettingsProvider.get(a);n._dataGridDesignSettingsChangesCommitService.commit({[a]:i},e),yield n._liveAnnouncementService.announce("DataGrid.ActionsToolbar.ResetToDefaultSuccessfully")})()}};Z2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridResetConfigsToDefaultHandler",requestType:"crt.DataGridResetConfigsToDefaultRequest"}),(0,u.__param)(0,(0,Pf.j)(U2.V)),(0,u.__metadata)("design:paramtypes",[nl.s,ji,E.DW,jr,ih])],Z2);let Q2=class extends da.l{handle(e){var n=this;return(0,bt.A)(function*(){const{$context:a,selectionStateAttributeName:i,selectedItemsCountAttributeName:s}=e;return!i||!s||(yield a[i])?.type!=="all"||Object.prototype.hasOwnProperty.call(a.attributes??{},s)||(yield a[s]),n.next?.handle(e)})()}};Q2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridRunSelectedItemsCountAttributeCalculationHandler",requestType:"crt.DataGridRunSelectedItemsCountAttributeCalculationRequest"})],Q2);let SM=class extends Gf.S{};SM=(0,u.__decorate)([(0,Up.$)({type:"crt.DataGridSaveConfigsForAllRequest"})],SM);const LR={data:{message:"ConfirmationDialog.SaveDataGridConfigsForAllUsers",approveAction:po.SAVE,rejectAction:po.CANCEL}},kR={data:{message:"DataGrid.Confirmation.OverrideSettingsForAllUsers",approveAction:{key:po.SAVE.key,config:{color:"primary",caption:"DataGrid.ActionsToolbar.ConfirmOverrideForAll"}},rejectAction:po.CANCEL}};let Y2=class C0 extends IM{constructor(e,n,a,i,s){super(e,n),this._notifyService=a,this._schemaPartsService=i,this._dataGridDesignSettingsProvider=s,this._saveConfigsSuccessMessage="DataGrid.ActionsToolbar.SaveForAllSuccess"}getMaskTaskName(e){return`SAVE_DATA_GRID_CONFIGS_FOR_ALL_${e.dataGridName}`}getConfirmationDialogConfig(e){return e.clearDescendants?kR:LR}performAction(e){var n=this;return(0,bt.A)(function*(){const{dataGridName:a,clearDescendants:i}=e,s=yield n._dataGridDesignSettingsProvider.get(a);yield n._dataGridDesignSettingsProvider.save(a,s,{sysAdminUnitIds:[bo.J$,bo.vZ],clearDescendants:i}),yield n._schemaPartsService.commit({silent:!1}),yield n._notifyService.show({message:n._saveConfigsSuccessMessage})})()}static{this.\u0275fac=function(n){return new(n||C0)(t.\u0275\u0275inject(nl.s),t.\u0275\u0275inject(ji),t.\u0275\u0275inject(_o.F),t.\u0275\u0275inject(ms),t.\u0275\u0275inject(jr))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:C0,factory:C0.\u0275fac,providedIn:"root"})}};Y2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridSaveConfigsForAllHandler",requestType:"crt.DataGridSaveConfigsForAllRequest"}),(0,u.__param)(0,(0,Pf.j)(U2.V)),(0,u.__metadata)("design:paramtypes",[nl.s,ji,_o.F,ms,jr])],Y2);let J2=class extends da.l{_getSelectionStateValue(e){return(0,bt.A)(function*(){const{$context:n,selectionStateAttributeName:a,selectedItemsCountAttributeName:i}=e,s=yield n[a];return s?.type==="all"?{...s,selectedCount:yield n[i]}:s})()}handle(e){var n=this;return(0,bt.A)(function*(){const{scopes:a,$context:i,selectionStateAttributeName:s}=e;if(!s)return n.next?.handle(e);const b={type:"crt.ChangeViewModelAttributeValueRequest",scopes:a,$context:i,attributeName:s,attributeValue:yield n._getSelectionStateValue(e)};return yield n.handlerChain.process(b),n.next?.handle(e)})()}};J2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridSetSelectedCountToRowsSelectionStateHandler",requestType:"crt.DataGridSetSelectedCountToRowsSelectionStateRequest"})],J2);let X2=class extends da.l{handle(e){var n=this;return(0,bt.A)(function*(){const{scopes:a,$context:i,selectedRowsAttributeName:s,selectionStateAttributeName:b}=e;if(!s||!b)return n.next?.handle(e);const D=yield i[b];if(D?.type==="all")return n.next?.handle(e);const W={type:"crt.ChangeViewModelAttributeValueRequest",scopes:a,$context:i,attributeName:s,attributeValue:D?.selected??null};return yield n.handlerChain.process(W),n.next?.handle(e)})()}};X2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridSetSelectedRowsFromSelectionStateHandler",requestType:"crt.DataGridSetSelectedRowsFromSelectionStateRequest"})],X2);let q2=class extends da.l{constructor(e){super(),this._schemaService=e}_getDataGridViewConfigs(e){return this._schemaService.getViewConfigInfoByFilter(n=>{const{type:a,items:i}=n;return a==="crt.DataGrid"&&i===`$${e}`}).map(n=>n.viewConfig)}_getDataGridActiveRowAttributeName(e){const{activeRow:n}=e;return n===void 0?Z6(e):(0,_n.qG)(n)?(0,_n.YK)(n).attributePath:null}_setDataGridActiveRowAttributeValue(e,n){const{$context:a,primaryAttributeValue:i,scopes:s}=e,b={type:"crt.ChangeViewModelAttributeValueRequest",scopes:s,$context:a,attributeName:n,attributeValue:i?.value};return this.handlerChain.process(b)}handle(e){const n=e.itemsAttributeName;if(!n)return;const i=this._getDataGridViewConfigs(n).map(s=>this._getDataGridActiveRowAttributeName(s)).filter(Boolean).map(s=>this._setDataGridActiveRowAttributeValue(e,s));return Promise.all(i)}};q2=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridSetTopRecordHandler",requestType:"crt.SetTopRecordRequest"}),(0,u.__metadata)("design:paramtypes",[gi])],q2);var RR=o(14145);function NR(r){return(e,n,a)=>{const i=a.value;a.value=function(){var s=(0,bt.A)(function*(b){if(!b||b.trackUnsavedData===!1)return i.call(this,b);if(yield VR(r,b))return i.call(this,b)});return function(b){return s.apply(this,arguments)}}()}}function VR(r,e){return t3.apply(this,arguments)}function t3(){return t3=(0,bt.A)(function*(r,e){const n=yield FR(r?.context,e);if(!n)return!0;const a=r?.collectionAttributeName,i=a?{type:"crt.CanDiscardUnsavedCollectionDataRequest",$context:n,scopes:e?.scopes,collectionAttributeName:yield jR(a,e)}:{type:"crt.CanDiscardUnsavedDataRequest",$context:n,scopes:e?.scopes};return yield Ar.t.instance.process(i)}),t3.apply(this,arguments)}function FR(r,e){const n=e.$context;return r==="current"?Promise.resolve(n):!r||r==="root"?Promise.resolve((0,RR.Rz)(n)):r(e)}function jR(r,e){return typeof r=="string"?Promise.resolve(r):r(e)}class rh{constructor(){this._dataGridRemoveSortingOnColumnRemove=!!((0,t.inject)(ge.G,{optional:!0})?.DataGridRemoveSortingOnColumnRemove??!1)}_updateSorting(e,n){const a=(0,y.cloneDeep)(e.sorting),i=this._getRemovedSortableColumns(e.sorting,e.columns,n);return!i.length||!this._dataGridRemoveSortingOnColumnRemove?a:a?.filter(s=>i.some(b=>b.viewMetadata.code!==s.columnCode))}_updateColumns(e,n,a){const i=(0,y.cloneDeep)(e.columns??[]),s=this._createColumnsSettingsMap(i),b=(n??[]).filter(D=>D?.code).map(D=>{const W=s.get(D.id);return{viewMetadata:this._createColumnViewMetadata(D),modelMetadata:this._createColumnModelMetadata(D)??W?.modelMetadata}});return this._addPrimaryColumnDesignSettings(a?.primaryColumnName,i,b),this._addHiddenSortableColumns(e.sorting,i,b),this._addRemovedSortableColumns(e.sorting,i,b),b}_getRemovedSortableColumns(e,n,a){return(n??[]).filter(i=>i?.viewMetadata).filter(i=>!a?.some(s=>s?.viewMetadata?.id===i.viewMetadata?.id)).filter(i=>e?.some(({columnCode:s})=>s===i.viewMetadata?.code))}_addPrimaryColumnDesignSettings(e,n,a){if(!e||a.find(b=>b?.viewMetadata?.code===e||b?.viewModelMetadata?.attributeName===e))return;const s=this._createPrimaryColumnDesignSettings(e,n);s&&a.unshift(s)}_addHiddenSortableColumns(e,n,a){n.filter(i=>!i?.viewMetadata&&i?.modelMetadata&&i?.viewModelMetadata).filter(i=>e?.some(s=>s.columnCode===i.viewModelMetadata.attributeName)).forEach(i=>a.push(i))}_addRemovedSortableColumns(e,n,a){if(this._dataGridRemoveSortingOnColumnRemove)return;this._getRemovedSortableColumns(e,n,a).forEach(s=>{a.push({viewModelMetadata:{attributeName:s.viewMetadata.code},modelMetadata:s.modelMetadata})})}_createColumnsSettingsMap(e){const n=(e??[]).map(a=>[a?.viewMetadata?.id,a]).filter(([a])=>!!a);return new Map(n)}_createColumnViewMetadata(e){return(0,y.omit)((0,y.cloneDeep)(e),["path","referenceSchemaName","aggregationConfig","originalCaption","captionResources","captionResourcesChanged"])}_createColumnModelMetadata(e){const{path:n,aggregationConfig:a}=e;if(n)return a?.aggregationFunction?{type:"aggregation",name:(0,ff.F)(n)+(0,de.qv)().slice(0,8),path:n,aggregationConfig:a}:{type:"default",name:(0,ff.F)(n),path:n}}_createPrimaryColumnDesignSettings(e,n){const a=n?.find(i=>i?.viewMetadata?.code===e||i?.viewModelMetadata?.attributeName===e);return a?{viewModelMetadata:{attributeName:e},modelMetadata:(0,y.cloneDeep)(a.modelMetadata)}:null}_updateColumnsResources(e,n,a){e??={};const i=n?.map(b=>b?.viewMetadata).filter(Boolean)??[];let s=e.localizableStrings??{};return s=this._addOrUpdateColumnsResources(s,i,a),s=this._cleanUpRemovedColumnsResources(s,i,a),e.localizableStrings=s,e}_addOrUpdateColumnsResources(e,n,a){return a?.length?a.filter(i=>i?.captionResourcesChanged&&i?.captionResources?.length).map(i=>{const s=n.find(W=>W?.id===i.id),D=k2(s?.caption)||kC(i);return mR(i.captionResources,D)}).filter(Boolean).reduce((i,s)=>DC()(i,s),e):{}}_cleanUpRemovedColumnsResources(e,n,a){return!n.length||(0,y.isEmpty)(e)?{}:(n.map(i=>{const s=a?.find(W=>W?.id&&W.id===i.id),b=kC(i),D=kC(s);return b!==D?b:null}).filter(Boolean).forEach(i=>delete e[i]),e)}updateColumns(e,n,a){if(!e)return e;const{columns:i,resources:s}=e,b=this._updateColumns(e,n,a);return{sorting:this._updateSorting(e,b),columns:b,resources:this._updateColumnsResources((0,y.cloneDeep)(s),i,n)}}updateSorting(e,n){return e&&{...(0,y.cloneDeep)(e),sorting:(0,y.cloneDeep)(n||[])}}static{this.\u0275fac=function(n){return new(n||rh)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:rh,factory:rh.\u0275fac})}}let wM=class extends Gf.S{constructor(){super(...arguments),this.type="crt.DataGridSortDataRequest"}};wM=(0,u.__decorate)([(0,Up.$)({type:"crt.DataGridSortDataRequest"})],wM);let RC=class extends da.l{constructor(e,n,a,i,s,b){super(),this._schemaService=e,this._schemaPartsService=n,this._dataGridDesignSettingsProvider=a,this._dataGridDesignSettingsUpdater=i,this._dataGridActiveFolderDesignSettingsProvider=s,this._dataGridViewConfigCreator=b}_setSorting(e,n){const{scopes:a,$context:i,sorting:s,itemsAttributeName:b}=e,D=i._attributeConfigs?.[b],W={type:"crt.SortDataRequest",scopes:a,config:Q6(s,D),$context:i,dataSourceName:n};return this.handlerChain.process(W)}_reloadData(e,n){const{scopes:a,$context:i}=e,s={type:"crt.LoadDataRequest",scopes:a,config:{loadType:Ho.I.Reload},$context:i,dataSourceName:n};return this.handlerChain.process(s)}_getDataGridViewConfigs(e){return this._dataGridViewConfigCreator.getDataGridViewConfigs(this._schemaService.schema).filter(n=>(0,_n.qG)(n?.items)?(0,_n.YK)(n.items).attributePath===e:!1)}_trySetActiveFolderSettings(e,n,a){var i=this;return(0,bt.A)(function*(){const s=i._schemaService.schema,b=yield i._dataGridActiveFolderDesignSettingsProvider.get({viewConfig:e,viewModel:a,metadata:s});if(!b)return!1;const D=i._dataGridDesignSettingsUpdater.updateSorting(b,n);return i._dataGridActiveFolderDesignSettingsProvider.set({viewConfig:e,viewModel:a,metadata:s},D),!0})()}_saveSortingToProfile(e,n){var a=this;return(0,bt.A)(function*(){const i=yield a._dataGridDesignSettingsProvider.get(e),s=a._dataGridDesignSettingsUpdater.updateSorting(i,n);yield a._dataGridDesignSettingsProvider.save(e,s)})()}handle(e){var n=this;return(0,bt.A)(function*(){const{sorting:a,$context:i,itemsAttributeName:s}=e||{};if(!i||!s)return n.next?.handle(e);const b=i,D=n._getDataGridViewConfigs(s);if(!D.length)return n.next?.handle(e);for(const ot of D)(yield n._trySetActiveFolderSettings(ot,a,b))||(yield n._saveSortingToProfile(ot.name,a));const W=i?.getBoundDataSourceNameByAttributePath(s);yield n._setSorting(e,W),yield n._reloadData(e,W),yield n._schemaPartsService.commit()})()}};(0,u.__decorate)([NR({collectionAttributeName:r=>Promise.resolve(r?.itemsAttributeName)}),(0,u.__metadata)("design:type",Function),(0,u.__metadata)("design:paramtypes",[Object]),(0,u.__metadata)("design:returntype",Promise)],RC.prototype,"handle",null),RC=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridSortDataHandler",requestType:"crt.DataGridSortDataRequest"}),(0,u.__metadata)("design:paramtypes",[gi,ms,jr,rh,mc,zp])],RC);class EM extends bM{constructor(e){super(e),this._notifyService=e.get(_o.F)}_getDataGridViewConfig(e){return this.schemaService.getViewConfigInfoByName(e)?.viewConfig}_notifySuccess(e){var n=this;return(0,bt.A)(function*(){if(!e)return;const a=jt.String.format(n.translateService.instant("DataGrid.ActionsToolbar.SaveListSettingsForFolderSuccess"),e);yield n._notifyService.show({message:a})})()}handle(e){var n=this;return(0,bt.A)(function*(){const{folderTreeName:a,dataGridName:i,$context:s}=e||{};if(!a||!i||!s)return n.next?.handle(e);const b=yield n.getActiveFolderFolderTreeId(a,s);if(!b)return n.next?.handle(e);const D=yield n.getActiveFolderName(a,s);if(yield n.isFolderEditingDenied(a,b))return yield n.showDeniedOperationDialog(D),n.next?.handle(e);const W=n._getDataGridViewConfig(i);if(!W)return n.next?.handle(e);const ot={metadata:n.schemaService.schema,viewConfig:W,viewModel:s};return(yield n.saveDataGridDesignSettings(ot))&&(yield n._notifySuccess(D)),n.next?.handle(e)})()}}let TM=class extends H2{};TM=(0,u.__decorate)([(0,Up.$)({type:"crt.DataGridSaveConfigsForActiveFolderRequest"})],TM);let e3=class extends EM{constructor(e,n,a){super(e),this._dataGridDesignSettingsProvider=n,this._dataGridActiveFolderDesignSettingsProvider=a}saveDataGridDesignSettings(e){var n=this;return(0,bt.A)(function*(){const a=yield n._dataGridDesignSettingsProvider.get(e.viewConfig.name);return yield n._dataGridActiveFolderDesignSettingsProvider.set(e,a),n._dataGridActiveFolderDesignSettingsProvider.save(e)})()}};e3=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridSaveConfigsForActiveFolderHandler",requestType:"crt.DataGridSaveConfigsForActiveFolderRequest"}),(0,u.__metadata)("design:paramtypes",[t.Injector,jr,mc])],e3);let PM=class extends H2{};PM=(0,u.__decorate)([(0,Up.$)({type:"crt.DataGridUpdateConfigsForActiveFolderRequest"})],PM);let n3=class extends EM{constructor(e,n){super(e),this._dataGridActiveFolderDesignSettingsProvider=n}saveDataGridDesignSettings(e){return this._dataGridActiveFolderDesignSettingsProvider.save(e)}};n3=(0,u.__decorate)([(0,Fn.l)({type:"crt.DataGridUpdateConfigsForActiveFolderHandler",requestType:"crt.DataGridUpdateConfigsForActiveFolderRequest"}),(0,u.__metadata)("design:paramtypes",[t.Injector,mc])],n3);class $f{handle(e,n){return(0,m.of)(void 0)}static{this.\u0275fac=function(n){return new(n||$f)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:$f,factory:$f.\u0275fac})}}class BR{handle(e,n,a){return(0,m.of)(n)}}class Kf{constructor(e){this._dialogProvider=e}edit(e,n){const a=n.get(Im.w,!1);return this._dialogProvider.open(Eg,{data:{column:e,isDesignTime:a},panelClass:"crt-data-grid-edit-column-dialog"})}static{this.\u0275fac=function(n){return new(n||Kf)(t.\u0275\u0275inject(Jd))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Kf,factory:Kf.\u0275fac})}}var a3=o(37845);class Zf{transform(e,n="keys"){return e?n==="keys"?Object.keys(e):n==="entries"?Object.entries(e).map(([a,i])=>({key:a,value:i})):n==="values"?Object.values(e):[]:[]}static{this.\u0275fac=function(n){return new(n||Zf)}}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"object",type:Zf,pure:!0})}}class oh{static{this.\u0275fac=function(n){return new(n||oh)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:oh})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(oh,{declarations:[Zf],exports:[Zf]})})();class Nl{static{this.\u0275fac=function(n){return new(n||Nl)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Nl})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Nl,{declarations:[ps],exports:[ps]})})();class sh extends ip.w{constructor(e){super(),this._document=e}copyToBuffer(e){try{const n=a=>{e.forEach(i=>a.clipboardData.setData(i.mimeType,i.data)),a.preventDefault()};this._document.addEventListener("copy",n),this._document.execCommand("copy"),this._document.removeEventListener("copy",n)}catch{}return Promise.resolve(void 0)}static{this.\u0275fac=function(n){return new(n||sh)(t.\u0275\u0275inject(_.DOCUMENT))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:sh,factory:sh.\u0275fac,providedIn:"root"})}}class ch extends ip.w{constructor(e){super(),this._navigator=e,this._clipboard=this._navigator.clipboard}copyToBuffer(e){var n=this;return(0,bt.A)(function*(){const a=e.map(({data:i,mimeType:s})=>{const b=new Blob([i],{type:s});return new ClipboardItem({[s]:b})});yield n._clipboard.write(a)})()}static{this.\u0275fac=function(n){return new(n||ch)(t.\u0275\u0275inject(E.kW))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ch,factory:ch.\u0275fac})}}const zR=E.gX.create({token:j5,mappings:[{predicate:r=>!r.clipboard,injectable:sh}],default:{injectable:ch}});class lh{static{this.\u0275fac=function(n){return new(n||lh)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:lh})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[ch,sh,Bm,zR],imports:[fC.k]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(lh,{imports:[fC.k]})})();class dh{static withConfig(e){return{ngModule:dh,providers:[Ll,{provide:R6,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||dh)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:dh})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[Ll]})}}var Co=o(53837);const UR=r=>({dataType:r});let ph=class S4 extends Co.i{constructor(e){super(),this._dataTimeFormatPipe=e}getTitle(e){const n={dataType:this.column?.dataValueType};return this._dataTimeFormatPipe.transform(e,n)}static{this.\u0275fac=function(n){return new(n||S4)(t.\u0275\u0275directiveInject(go.V))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:S4,selectors:[["crt-data-table-date-time-cell"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,template:function(n,a){n&1&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"dateTimeFormat")),n&2&&t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind2(1,1,a.value,t.\u0275\u0275pureFunction1(4,UR,a.column==null?null:a.column.dataValueType)),`
`)},dependencies:[go.V],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"]})}};ph=(0,u.__decorate)([(0,Qt.v)({type:"crt.TableDateTimeCell",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[go.V])],ph);function HR(r,e){r&1&&t.\u0275\u0275element(0,"img",2)}let gc=class w4 extends Co.i{constructor(e,n,a,i){super(),this._translateService=e,this._elementRef=n,this._hotkeysDirective=a,this._changeDetectorRef=i,this._destroyed$=new m.Subject,this.pendingToggling=!1,this.readonly=!0,this.readiness=!1}_getTitle(e){const n=e?"DataTableBooleanCell.BooleanValue.True":"DataTableBooleanCell.BooleanValue.False";return this._translateService.instant(n)}_subscribeOnKeyboard(){this._readonly$=new m.Subject,this._hotkeysDirective.crtKeyboardHotkeyPressed.pipe((0,h.filter)(({action:e})=>e===Wn.toggleValue),(0,h.filter)(({event:e})=>this._isTableCellTarget(e)),(0,h.tap)(({event:e})=>this._toggleValue(e)),(0,h.takeUntil)((0,m.merge)(this._readonly$,this._destroyed$))).subscribe(),this._hotkeysDirective.crtKeyboardHotkeyPressed.pipe((0,h.filter)(({action:e})=>e===Wn.deleteValue),(0,h.filter)(({event:e})=>this._isTableCellTarget(e)),(0,h.filter)(()=>this.control.value===!0),(0,h.tap)(({event:e})=>this._toggleValue(e)),(0,h.takeUntil)((0,m.merge)(this._readonly$,this._destroyed$))).subscribe()}_isTableCellTarget(e){return this._elementRef.nativeElement?.closest("td")===e.target}_toggleCheckboxValue(){const e=this.control.value;this.control.setValue(!e),this.control.markAsDirty(),this.control.markAsTouched()}_onReadinessChange(){this.pendingToggling&&!this.readonly&&this.readiness&&this._toggleCheckboxValue(),this.pendingToggling=!1,this._changeDetectorRef.detectChanges()}_toggleValue(e){e.preventDefault(),!this.readonly&&!this.pendingToggling&&this._toggleCheckboxValue(),this.readonly&&!this.readiness&&(this.pendingToggling=!0),this._changeDetectorRef.detectChanges()}getTitle(){const e=this.control?this.control?.value:this.value;return this._getTitle(e)}onClick(e){e.stopPropagation(),this._toggleValue(e)}onDoubleClick(e){this.readonly||e.stopPropagation()}onMouseDown(e){this.readonly||e.preventDefault()}onValueChange(e){this.title=this._getTitle(e)}ngOnInit(){this._subscribeOnKeyboard()}ngOnChanges(e){"readiness"in e&&this._onReadinessChange()}ngOnDestroy(){this._readonly$?.complete(),this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||w4)(t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(ps),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:w4,selectors:[["crt-data-table-boolean-cell"]],inputs:{control:"control",readonly:"readonly",readiness:"readiness"},features:[t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature],decls:2,vars:5,consts:[["labelPosition","hidden",3,"valueChange","click","dblclick","mousedown","control","value","readonly","ariaLabel"],["class","crt-mask-loader crt-data-table-boolean-cell-pending-image","src","assets/mask-loader.gif","alt","mask-loader",4,"ngIf"],["src","assets/mask-loader.gif","alt","mask-loader",1,"crt-mask-loader","crt-data-table-boolean-cell-pending-image"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"crt-checkbox",0),t.\u0275\u0275listener("valueChange",function(s){return a.onValueChange(s)})("click",function(s){return a.onClick(s)})("dblclick",function(s){return a.onDoubleClick(s)})("mousedown",function(s){return a.onMouseDown(s)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(1,HR,1,0,"img",1)),n&2&&(t.\u0275\u0275property("control",a.control)("value",a.control?a.control.value:a.value)("readonly",a.readonly)("ariaLabel",a.column==null?null:a.column.caption),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.pendingToggling))},dependencies:[_.NgIf,xa],styles:["[_nghost-%COMP%]{display:flex;justify-content:flex-start}[_nghost-%COMP%]   .crt-data-table-boolean-cell-pending-image[_ngcontent-%COMP%]{width:32px;height:32px}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",O.FormControl)],gc.prototype,"control",void 0),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!0,propertyName:et.R.Readonly}),(0,u.__metadata)("design:type",Object)],gc.prototype,"readonly",void 0),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1}),(0,u.__metadata)("design:type",Object)],gc.prototype,"readiness",void 0),gc=(0,u.__decorate)([(0,Qt.v)({type:"crt.TableBooleanCell",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[f.TranslateService,t.ElementRef,ps,t.ChangeDetectorRef])],gc);class uh extends Co.i{get isLinkable(){return!!this.linkable}set linkable(e){this._linkable=e}get linkable(){return this._linkable||this.column?.cellView?.linkable}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(uh)))(a||uh)}})()}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:uh,inputs:{linkable:"linkable"},features:[t.\u0275\u0275InheritDefinitionFeature]})}}const WR=["*"];class Hp{set link(e){typeof e=="string"?this._initLinkByHref(e):this._initLinkByOptions(e)}_initLinkByHref(e){this.href=e,this.mode=null,this.target=null,this._clicked=null}_initLinkByOptions(e){const{href:n,mode:a,target:i,payload:s,clicked:b}=e||{};this.href=n,this.mode=a,this.target=i,this.payload=s||this.payload,this._clicked=b}onClick(e){this._clicked&&this._clicked.next(e)}static{this.\u0275fac=function(n){return new(n||Hp)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Hp,selectors:[["crt-data-table-linkable-cell"]],inputs:{payload:"payload",link:"link"},ngContentSelectors:WR,decls:2,vars:4,consts:[["underlining","hover",3,"clicked","href","mode","target","payload"]],template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"crt-link",0),t.\u0275\u0275listener("clicked",function(s){return a.onClick(s)}),t.\u0275\u0275projection(1),t.\u0275\u0275elementEnd()),n&2&&t.\u0275\u0275property("href",a.href)("mode",a.mode)("target",a.target)("payload",a.payload)},dependencies:[ul.h],encapsulation:2})}}var gs=o(37962),mh=o(8017);const GR=()=>({mode:"textOnly"});function $R(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-icon",5),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("svgIcon",n.icon)}}function KR(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function ZR(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"crt-data-table-linkable-cell",6),t.\u0275\u0275template(1,KR,1,0,"ng-container",7),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(5);t.\u0275\u0275property("link",n.linkable)("payload",n.record),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a)}}function QR(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function YR(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span",8),t.\u0275\u0275template(1,QR,1,0,"ng-container",7),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(5);t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",n)}}function JR(r,e){if(r&1&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"decodeHtml"),t.\u0275\u0275pipe(2,"sanitizeHtml"),t.\u0275\u0275pipe(3,"decodeHtml")),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,6,t.\u0275\u0275pipeBind2(2,3,t.\u0275\u0275pipeBind1(1,1,n.value),t.\u0275\u0275pureFunction0(8,GR))),`
`)}}let Wp=class y0 extends uh{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(y0)))(a||y0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:y0,selectors:[["crt-data-table-text-cell"]],inputs:{icon:"icon"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:6,vars:3,consts:[["text",""],["class","crt-data-table-text-cell-icon",3,"svgIcon",4,"ngIf"],[3,"ngSwitch"],["class","crt-data-table-text-cell-link",3,"link","payload",4,"ngSwitchCase"],["class","crt-data-table-text-cell-text",4,"ngSwitchDefault"],[1,"crt-data-table-text-cell-icon",3,"svgIcon"],[1,"crt-data-table-text-cell-link",3,"link","payload"],[4,"ngTemplateOutlet"],[1,"crt-data-table-text-cell-text"]],template:function(n,a){n&1&&(t.\u0275\u0275template(0,$R,1,1,"mat-icon",1),t.\u0275\u0275elementContainerStart(1,2),t.\u0275\u0275template(2,ZR,2,3,"crt-data-table-linkable-cell",3)(3,YR,2,1,"span",4),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(4,JR,4,9,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)),n&2&&(t.\u0275\u0275property("ngIf",a.icon),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitch",!0),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.isLinkable))},dependencies:[_.NgIf,_.NgTemplateOutlet,_.NgSwitch,_.NgSwitchCase,_.NgSwitchDefault,Hp,_t.MatIcon,gs.o,mh.b],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:flex;gap:8px;max-width:100%}.crt-data-table-text-cell-icon[_ngcontent-%COMP%]{width:16px;height:16px;flex-shrink:0}.crt-data-table-text-cell-link[_ngcontent-%COMP%]{min-width:0}.crt-data-table-text-cell-text[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"]})}};Wp=(0,u.__decorate)([(0,Qt.v)({type:"crt.TableTextCell",reuseStrategy:$t.B.Reuse})],Wp);const XR=r=>({dataType:r});let gh=class v0 extends Co.i{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(v0)))(a||v0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:v0,selectors:[["crt-data-table-numeric-cell"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,template:function(n,a){n&1&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"numberFormat")),n&2&&t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind2(1,1,a.value,t.\u0275\u0275pureFunction1(4,XR,a.column==null?null:a.column.dataValueType)),`
`)},dependencies:[tf.N],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"]})}};gh=(0,u.__decorate)([(0,Qt.v)({type:"crt.TableNumericCell",reuseStrategy:$t.B.Reuse})],gh);const qR=()=>({mode:"textOnly"});function tN(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function eN(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-data-table-linkable-cell",2),t.\u0275\u0275template(2,tN,1,0,"ng-container",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(2);t.\u0275\u0275advance(),t.\u0275\u0275property("link",n.linkable),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",a)}}function nN(r,e){if(r&1&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"decodeHtml"),t.\u0275\u0275pipe(2,"sanitizeHtml"),t.\u0275\u0275pipe(3,"decodeHtml")),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,6,t.\u0275\u0275pipeBind2(2,3,t.\u0275\u0275pipeBind1(1,1,(n.value==null?null:n.value.displayValue)||""),t.\u0275\u0275pureFunction0(8,qR))),`
`)}}class Gp extends uh{getTitle(e){return e?.displayValue}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Gp)))(a||Gp)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Gp,selectors:[["crt-data-table-lookup-cell"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["text",""],[4,"ngIf","ngIfElse"],[3,"link"],[4,"ngTemplateOutlet"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,eN,3,2,"ng-container",1)(1,nN,4,9,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.isLinkable)("ngIfElse",i)}},dependencies:[_.NgIf,_.NgTemplateOutlet,Hp,gs.o,mh.b],encapsulation:2})}}let $p=class E4{static{this.\u0275fac=function(n){return new(n||E4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:E4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,ga,Nl]})}};$p=(0,u.__decorate)([(0,ie.g)({viewElements:[gc]})],$p),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope($p,{declarations:[gc],imports:[_.CommonModule,ga,Nl],exports:[gc]})}();let hc=class T4{constructor(){this.readonly=!1}static{this.\u0275fac=function(n){return new(n||T4)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:T4,selectors:[["crt-data-table-edit-text-cell"]],inputs:{control:"control",readonly:"readonly",mask:"mask",tooltip:"tooltip"},decls:1,vars:5,consts:[["labelPosition","hidden",1,"crt-data-table-edit-text-cell",3,"control","autofocus","readonly","mask","tooltip"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-input",0),n&2&&t.\u0275\u0275property("control",a.control)("autofocus",!0)("readonly",a.readonly)("mask",a.mask)("tooltip",a.tooltip)},dependencies:[ar.j],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",O.FormControl)],hc.prototype,"control",void 0),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1,propertyName:et.R.Readonly}),(0,u.__metadata)("design:type",Object)],hc.prototype,"readonly",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],hc.prototype,"mask",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],hc.prototype,"tooltip",void 0),hc=(0,u.__decorate)([(0,Qt.v)({type:"crt.DataTableEditTextCell",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse})],hc);let Kp=class P4{static{this.\u0275fac=function(n){return new(n||P4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:P4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Sn.u]})}};Kp=(0,u.__decorate)([(0,ie.g)({viewElements:[hc]})],Kp),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Kp,{declarations:[hc],imports:[_.CommonModule,Sn.u],exports:[hc]})}();let Vl=class O4{constructor(){this._focused=!1,this.readonly=!1,this.dateType=si.DateTime}onBlur(){this.control.markAsTouched(),this._focused=!1}onFocus(){this._focused=!0}ngOnChanges(e){"control"in e&&typeof this.control?.value=="string"&&this._focused&&setTimeout(()=>{const n=document.activeElement;n.value=this.control.value,n.dispatchEvent(new Event("input"))})}static{this.\u0275fac=function(n){return new(n||O4)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:O4,selectors:[["crt-data-table-edit-date-time-cell"]],hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("focusout",function(s){return a.onBlur(s)})("focusin",function(s){return a.onFocus(s)})},inputs:{control:"control",readonly:"readonly",dateType:"dateType"},features:[t.\u0275\u0275NgOnChangesFeature],decls:1,vars:4,consts:[["labelPosition","hidden",1,"crt-data-table-edit-date-time-cell",3,"control","pickerType","autofocus","readonly"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-datetimepicker",0),n&2&&t.\u0275\u0275property("control",a.control)("pickerType",a.dateType)("autofocus",!0)("readonly",a.readonly)},dependencies:[Wa],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",O.FormControl)],Vl.prototype,"control",void 0),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1,propertyName:et.R.Readonly}),(0,u.__metadata)("design:type",Object)],Vl.prototype,"readonly",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Vl.prototype,"dateType",void 0),Vl=(0,u.__decorate)([(0,Qt.v)({type:"crt.DataTableEditDateTimeCell",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse})],Vl);let Zp=class D4{static{this.\u0275fac=function(n){return new(n||D4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:D4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,zd]})}};Zp=(0,u.__decorate)([(0,ie.g)({viewElements:[Vl]})],Zp),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Zp,{declarations:[Vl],imports:[_.CommonModule,zd],exports:[Vl]})}();let hi=class A4{constructor(){this._isListOpened=!1,this._focused=!1,this.valueChange=new t.EventEmitter,this.readonly=!1,this.useStaticFiltering=!1,this.showList=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.selectionWindowIconPressed=new t.EventEmitter}onKeyDown(e){const n=e.key;n===Ht.Key.Enter&&this._isListOpened&&e.stopPropagation(),n===Ht.Key.Escape&&this.combobox.autocomplete.restoreLastValidValue()}onBlur(){this._focused=!1}onFocus(){this._focused=!0}onOpened(){this._isListOpened=!0}onClosed(){setTimeout(()=>{this._isListOpened=!1},0)}ngOnChanges(e){"control"in e&&typeof this.control?.value=="string"&&this._focused&&setTimeout(()=>{const n=document.activeElement;n.value=this.control.value,n.dispatchEvent(new Event("input"))})}static{this.\u0275fac=function(n){return new(n||A4)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:A4,selectors:[["crt-data-table-edit-lookup-cell"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(ke,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.combobox=i.first)}},hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("keydown",function(s){return a.onKeyDown(s)})("focusout",function(s){return a.onBlur(s)})("focusin",function(s){return a.onFocus(s)})},inputs:{control:"control",value:"value",items:"items",listActions:"listActions",readonly:"readonly",useStaticFiltering:"useStaticFiltering",mode:"mode"},outputs:{valueChange:"valueChange",showList:"showList",paginationChange:"paginationChange",selectionWindowIconPressed:"selectionWindowIconPressed"},features:[t.\u0275\u0275NgOnChangesFeature],decls:1,vars:8,consts:[["labelPosition","hidden",1,"crt-data-table-edit-lookup-cell",3,"valueChange","showList","opened","closed","paginationChange","selectionWindowIconPressed","control","value","items","listActions","autofocus","readonly","useStaticFiltering","mode"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"crt-combobox",0),t.\u0275\u0275listener("valueChange",function(s){return a.valueChange.emit(s)})("showList",function(s){return a.showList.emit(s)})("opened",function(){return a.onOpened()})("closed",function(){return a.onClosed()})("paginationChange",function(s){return a.paginationChange.emit(s)})("selectionWindowIconPressed",function(s){return a.selectionWindowIconPressed.emit(s)}),t.\u0275\u0275elementEnd()),n&2&&t.\u0275\u0275property("control",a.control)("value",a.value)("items",a.items)("listActions",a.listActions)("autofocus",!0)("readonly",a.readonly)("useStaticFiltering",a.useStaticFiltering)("mode",a.mode)},dependencies:[ke],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",O.FormControl)],hi.prototype,"control",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],hi.prototype,"value",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],hi.prototype,"valueChange",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],hi.prototype,"items",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],hi.prototype,"listActions",void 0),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1,propertyName:et.R.Readonly}),(0,u.__metadata)("design:type",Object)],hi.prototype,"readonly",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],hi.prototype,"useStaticFiltering",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],hi.prototype,"mode",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],hi.prototype,"showList",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],hi.prototype,"paginationChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],hi.prototype,"selectionWindowIconPressed",void 0),hi=(0,u.__decorate)([(0,Qt.v)({type:"crt.DataTableEditLookupCell",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse})],hi);let Qp=class L4{static{this.\u0275fac=function(n){return new(n||L4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:L4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,oi]})}};Qp=(0,u.__decorate)([(0,ie.g)({viewElements:[hi]})],Qp),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Qp,{declarations:[hi],imports:[_.CommonModule,oi],exports:[hi]})}();let Fl=class k4{constructor(){this.readonly=!1}static{this.\u0275fac=function(n){return new(n||k4)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:k4,selectors:[["crt-data-table-edit-numeric-cell"]],inputs:{control:"control",format:"format",readonly:"readonly"},decls:1,vars:4,consts:[["labelPosition","hidden",1,"crt-data-table-edit-numeric-cell",3,"control","autofocus","format","readonly"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-number-input",0),n&2&&t.\u0275\u0275property("control",a.control)("autofocus",!0)("format",a.format)("readonly",a.readonly)},dependencies:[Gc],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",O.FormControl)],Fl.prototype,"control",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Fl.prototype,"format",void 0),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1,propertyName:et.R.Readonly}),(0,u.__metadata)("design:type",Object)],Fl.prototype,"readonly",void 0),Fl=(0,u.__decorate)([(0,Qt.v)({type:"crt.DataTableEditNumericCell",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse})],Fl);let Yp=class R4{static{this.\u0275fac=function(n){return new(n||R4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:R4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Sr]})}};Yp=(0,u.__decorate)([(0,ie.g)({viewElements:[Fl]})],Yp),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Yp,{declarations:[Fl],imports:[_.CommonModule,Sr],exports:[Fl]})}();let Jp=class N4{static{this.\u0275fac=function(n){return new(n||N4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:N4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Ea]})}};Jp=(0,u.__decorate)([(0,ie.g)({viewElements:[ph]})],Jp),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Jp,{declarations:[ph],imports:[_.CommonModule,Ea],exports:[ph]})}();const aN=["default","white","accent","primary","warn"],iN=["popup"],OM=["*","*"];function rN(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",7),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function oN(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,9),r&2){t.\u0275\u0275nextContext(2);const n=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngTemplateOutlet",n)}}function sN(r,e){if(r&1&&t.\u0275\u0275template(0,oN,1,1,"ng-container",8),r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(7);t.\u0275\u0275property("ngIf",n.disabled&&n.hideThumb)("ngIfElse",a)}}function cN(r,e){if(r&1&&t.\u0275\u0275element(0,"div",14),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275styleProp("background-size",n.backgroundSize)("--customColor",n.customColor)}}function lN(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,9),r&2){t.\u0275\u0275nextContext(2);const n=t.\u0275\u0275reference(9);t.\u0275\u0275property("ngTemplateOutlet",n)}}function dN(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",10),t.\u0275\u0275template(1,cN,1,4,"div",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"div",12),t.\u0275\u0275projection(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,lN,1,1,"ng-container",13)),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("background-size",n.backgroundSize)("height",n.height,"px")("--customBackgroundColor",n.customBackgroundColor)("--customColor",n.customColor),t.\u0275\u0275property("ngClass",n.sliderClasses),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.paddingLineMode),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("left",n.thumbAbsLeftPosition),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.hideLabels)}}function pN(r,e){if(r&1&&t.\u0275\u0275elementContainer(0,9),r&2){t.\u0275\u0275nextContext(2);const n=t.\u0275\u0275reference(9);t.\u0275\u0275property("ngTemplateOutlet",n)}}function uN(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"input",15),t.\u0275\u0275listener("input",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.changed(i))})("mouseenter",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.setHoverVisibility(!0))})("mouseleave",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.setHoverVisibility())})("mousedown",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.setInteractionVisibility(!0))})("mouseup",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.setInteractionVisibility())})("focus",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.setFocusVisibility(!0))})("blur",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.setFocusVisibility())})("keyup",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.setInteractionVisibility())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(1,"div",12),t.\u0275\u0275projection(2,1),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,pN,1,1,"ng-container",13)}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("background-size",n.backgroundSize)("height",n.height,"px")("--customBackgroundColor",n.customBackgroundColor)("--customColor",n.customColor),t.\u0275\u0275property("ngClass",n.getSliderClasses())("step",n.step)("min",n.minValue)("max",n.maxValue)("value",n.value)("formControl",n.control),t.\u0275\u0275attribute("aria-valuemin",n.minValue)("aria-valuemax",n.maxValue)("aria-label",n.getAriaLabel)("disabled",n.disabled?"":null)("data-item-marker",n.dataMarker),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("left",n.thumbAbsLeftPosition),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!n.hideLabels)}}function mN(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",16,4)(2,"span"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"div",17)(5,"label",18),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"label",19),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("left",n.thumbAbsLeftPosition),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(n.value),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",n.minValue," "),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.maxValue," ")}}let Xn=class V4 extends ue.K{set control(e){this._control&&e?.value==null&&e.setValue(this._control.value),this._controlDestroyed$.next(),this._control=e,this._control.valueChanges.pipe((0,h.takeUntil)(this._controlDestroyed$)).subscribe(()=>{!this.value&&this.value!==0&&this.loading&&e.setValue(this.minValue),this.refreshSliderPositions()}),this._updateControlStatus()}get control(){return this._control}set value(e){this.control?.setValue(e??this.minValue)}get value(){return this.control?.value??this.minValue}set minValue(e){this._minValue=e,this.refreshSliderPositions()}get minValue(){return this._minValue}set maxValue(e){this._maxValue=e,this.refreshSliderPositions()}get maxValue(){return this._maxValue}set step(e){this._step=e}get step(){return this._step}get getAriaLabel(){return this.ariaLabel||this.label}set color(e){if(this._color=e,aN.includes(e)){this._paletteColor=e,this.customColor=void 0,this.customBackgroundColor=void 0,this._buildSliderClasses();return}e?(this.customColor=e,this.customBackgroundColor=(0,E.zX)(e,.2)):(this.customColor=void 0,this.customBackgroundColor=void 0),this._buildSliderClasses()}get color(){return this._color}set readonly(e){this.disabled=e}set disabled(e){this._disabled=e,this._updateControlStatus()}get disabled(){return this._disabled}set hideThumb(e){this._hideThumb=!!e,this._buildSliderClasses()}get hideThumb(){return this._hideThumb}set paddingLineMode(e){this._paddingLineMode=e,this._buildSliderClasses()}get paddingLineMode(){return this._paddingLineMode}constructor(e){super(e),this.injector=e,this._paletteColor="default",this._controlDestroyed$=new m.Subject,this._disabled=!1,this._minValue=0,this._maxValue=100,this._step=1,this._initialized=!1,this._normalizedThumbPosition=0,this._defaultSliderWidth=100,this._defaultPopupWidth=40,this._maxFittingPopupCharsCount=3,this._leftSliderPopupCalculationPoint=5,this._rightSliderPopupCalculationPoint=95,this._hideThumb=!1,this._paddingLineMode=!1,this._isHovered=!1,this._isRunnerUsed=!1,this._isFocused=!1,this.skeletonStyles={height:"42px",width:"100%"},this.backgroundSize="",this.dataMarker="",this.thumbAbsLeftPosition="",this.sliderClasses={"hide-thumb":!1,"custom-color":!1,"padding-line-mode":!1,default:!0},this.hideLabels=!1,this.height=16,this.label="Slider",this.valueChanged=new t.EventEmitter,this.disableResizing=!1,this.getSliderClasses=()=>{const n=this.sliderClasses;return n["popup-visibility"]=this._isFocused||this._isHovered,n["content-hidden"]=(this._isFocused||this._isHovered)&&!this._isRunnerUsed,n},this.id=(0,de.qv)(),this._initControl()}ngOnDestroy(){this._controlDestroyed$.next(),this._controlDestroyed$.complete()}changed(e){this.value=e.target.value,this.valueChanged.emit(this.value),this.detectChanges()}isRtl(){return this.documentDirection==="rtl"}onResized(){this.refreshSliderPositions()}_initControl(){this.control=new O.FormControl(this.value)}_updateControlStatus(){this._control.disabled!==this._disabled&&(this._disabled?this.control?.disable():this.control?.enable())}_getDataItemMarker(){return"crt-slider crt-slider-"+this.value}_getBackgroundSize(){return this._calculateDirectionallyValue(this._normalizedThumbPosition)+"% 100%"}_getThumbAbsLeftPosition(){const e=this._getThumbPosition();this._normalizedThumbPosition=this._normalizeBackgroundSize(e);let n=this._normalizedThumbPosition;if(!this.hideThumb){const a=this.value.toString().length;let i=this._template?.elementRef.nativeElement.parentElement.offsetWidth;(!i||i<10)&&(i=this._defaultSliderWidth);const b=(this._popup?.nativeElement.offsetWidth/2+4||this._defaultPopupWidth)*100/i,D=n+b>=100,W=n-b<=0;a>=this._maxFittingPopupCharsCount&&(D||W)&&(e>=this._rightSliderPopupCalculationPoint?n=100-b:e<=this._leftSliderPopupCalculationPoint&&(n=0+b))}return n=this._calculateDirectionallyValue(n),n+"%"}_getThumbPosition(){const e=this._getStepAdjustment(this.value);return e>this.maxValue?100:e<this.minValue?0:(e-this.minValue)*100/(this.maxValue-this.minValue)}_calculateDirectionallyValue(e){return this.isRtl()?100-e:e}_normalizeBackgroundSize(e){if(this.hideThumb)return e;let n=e,a=this._template?.elementRef.nativeElement.parentElement.offsetWidth;(!a||a<10)&&(a=this._defaultSliderWidth);let i=a/1e3;i=.5/i;let s=1;return e>=50&&(s=-1),n=e+i*((Math.abs(e-50)||1)/100*4)*s,n}_getStepAdjustment(e){const n=this.step/2;if(e<=this.step)return this.step-e<=n?this.step:0;{const a=Math.round(e/this.step);return e>=this.maxValue?Math.floor(this.maxValue/this.step)*this.step:e-this.step*a>n?this.step*(a+1):this.step*a}}refreshSliderPositions(){!this.value&&this.value!==0||(this.thumbAbsLeftPosition=this._getThumbAbsLeftPosition(),this.backgroundSize=this._getBackgroundSize(),this.dataMarker=this._getDataItemMarker(),this._initialized&&this.detectChanges())}_buildSliderClasses(){const e={"hide-thumb":this._hideThumb};this.customColor&&(e["custom-color"]=!!this.customColor),this._paletteColor&&(e[this._paletteColor]=!0),this.paddingLineMode&&(e["padding-line-mode"]=!0),this.sliderClasses=e}onKeyDown(e){e.key===Ht.Key.Escape&&this.setHoverVisibility(),this._isFocused&&(e.key===Ht.Key.ArrowLeft||e.key===Ht.Key.ArrowRight)&&this.setInteractionVisibility(!0)}setHoverVisibility(e=!1){this._isHovered=e}setInteractionVisibility(e=!1){this._isRunnerUsed=e}setFocusVisibility(e=!1){this._isFocused=e}ngAfterViewInit(){this._initialized=!0,this.refreshSliderPositions()}static{this.\u0275fac=function(n){return new(n||V4)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:V4,selectors:[["crt-slider"]],viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(t.TemplateRef,5),t.\u0275\u0275viewQuery(iN,5)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a._template=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a._popup=i.first)}},hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("keydown",function(s){return a.onKeyDown(s)},!1,t.\u0275\u0275resolveDocument)},inputs:{control:"control",hideLabels:"hideLabels",height:"height",value:"value",minValue:"minValue",maxValue:"maxValue",step:"step",ariaLabel:"ariaLabel",label:"label",color:"color",readonly:"readonly",disabled:"disabled",hideThumb:"hideThumb",paddingLineMode:"paddingLineMode",disableResizing:"disableResizing"},outputs:{valueChanged:"valueChanged"},features:[t.\u0275\u0275ProvidersFeature([Oi.I]),t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:OM,decls:10,vars:3,consts:[["sliderSelection",""],["disabledSlider",""],["slider",""],["labels",""],["popup",""],["data-item-marker","crt-slider-wrapper","crtResizable","",1,"slider-wrapper",3,"resized","crtResizableDisabled"],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],[3,"ngTemplateOutlet",4,"ngIf","ngIfElse"],[3,"ngTemplateOutlet"],[1,"slider",3,"ngClass"],["class","padding-line",3,"backgroundSize","--customColor",4,"ngIf"],[1,"popup","bubble"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"padding-line"],["type","range",1,"slider",3,"input","mouseenter","mouseleave","mousedown","mouseup","focus","blur","keyup","ngClass","step","min","max","value","formControl"],[1,"popup"],[1,"content"],["data-item-marker","crt-slider-range-min",1,"range-label","range-label-min"],["data-item-marker","crt-slider-range-max",1,"range-label","range-label-max"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275projectionDef(OM),t.\u0275\u0275elementStart(0,"div",5),t.\u0275\u0275listener("resized",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onResized())}),t.\u0275\u0275template(1,rN,1,1,"crt-skeleton-loader",6)(2,sN,1,2,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,dN,5,13,"ng-template",null,1,t.\u0275\u0275templateRefExtractor)(6,uN,4,22,"ng-template",null,2,t.\u0275\u0275templateRefExtractor)(8,mN,9,5,"ng-template",null,3,t.\u0275\u0275templateRefExtractor)}if(n&2){const i=t.\u0275\u0275reference(3);t.\u0275\u0275property("crtResizableDisabled",a.disableResizing),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loaderVisible)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgIf,_.NgTemplateOutlet,yn.W,Le.C,O.DefaultValueAccessor,O.RangeValueAccessor,O.NgControlStatus,O.FormControlDirective],styles:["[dir=rtl][_nghost-%COMP%]   .slider-wrapper.slider[_ngcontent-%COMP%]{direction:rtl}.slider-wrapper[_ngcontent-%COMP%]{display:block;width:100%;box-sizing:border-box;padding:5px 2px 0;position:relative}.slider-wrapper[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{width:100%;display:inline-block}.slider-wrapper[_ngcontent-%COMP%]   .slider.popup-visibility[_ngcontent-%COMP%] ~ .popup[_ngcontent-%COMP%]{visibility:visible;z-index:1000}.slider-wrapper[_ngcontent-%COMP%]   .slider.content-hidden[_ngcontent-%COMP%] ~ .content[_ngcontent-%COMP%]{opacity:0}.slider-wrapper[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:disabled{cursor:not-allowed}.slider-wrapper[_ngcontent-%COMP%]   .slider.custom-color[_ngcontent-%COMP%]{background:var(--customBackgroundColor);background-image:linear-gradient(var(--customColor),var(--customColor));background-repeat:no-repeat}.slider-wrapper[_ngcontent-%COMP%]   .slider.custom-color.padding-line-mode[_ngcontent-%COMP%]{padding:2px;background-image:none}.slider-wrapper[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .padding-line[_ngcontent-%COMP%]{height:100%;border-radius:50px;background-image:linear-gradient(var(--customColor),var(--customColor));background-repeat:no-repeat}.slider-wrapper[_ngcontent-%COMP%]   .popup[_ngcontent-%COMP%]{visibility:hidden;position:absolute;transform:translate(-50%)}.slider-wrapper[_ngcontent-%COMP%]   .bubble[_ngcontent-%COMP%]{position:absolute;background:transparent;left:50%;transform:translate(-50%,-86px)}.slider-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between;margin-top:3px;flex-direction:row;transition:opacity .2s linear;opacity:1}.slider-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .range-label-min[_ngcontent-%COMP%]{margin-left:2px}.default.slider[_ngcontent-%COMP%], .primary.slider[_ngcontent-%COMP%], .accent.slider[_ngcontent-%COMP%], .warn.slider[_ngcontent-%COMP%]{-webkit-appearance:none;border-radius:50px}.default.slider[_ngcontent-%COMP%]::-webkit-slider-thumb, .primary.slider[_ngcontent-%COMP%]::-webkit-slider-thumb, .accent.slider[_ngcontent-%COMP%]::-webkit-slider-thumb, .warn.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:50%;box-shadow:0 0 2px #555}.default.slider[_ngcontent-%COMP%]::-moz-range-thumb, .primary.slider[_ngcontent-%COMP%]::-moz-range-thumb, .accent.slider[_ngcontent-%COMP%]::-moz-range-thumb, .warn.slider[_ngcontent-%COMP%]::-moz-range-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:50%;cursor:pointer}.default.slider[_ngcontent-%COMP%]::-ms-thumb, .primary.slider[_ngcontent-%COMP%]::-ms-thumb, .accent.slider[_ngcontent-%COMP%]::-ms-thumb, .warn.slider[_ngcontent-%COMP%]::-ms-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:50%;cursor:pointer;box-shadow:0 0 2px #555}.default.slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track, .primary.slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track, .accent.slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track, .warn.slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent}.default.slider[_ngcontent-%COMP%]::-moz-range-track, .primary.slider[_ngcontent-%COMP%]::-moz-range-track, .accent.slider[_ngcontent-%COMP%]::-moz-range-track, .warn.slider[_ngcontent-%COMP%]::-moz-range-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent}.default.slider[_ngcontent-%COMP%]::-ms-track, .primary.slider[_ngcontent-%COMP%]::-ms-track, .accent.slider[_ngcontent-%COMP%]::-ms-track, .warn.slider[_ngcontent-%COMP%]::-ms-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent}.default.hide-thumb.slider[_ngcontent-%COMP%]::-webkit-slider-thumb, .primary.hide-thumb.slider[_ngcontent-%COMP%]::-webkit-slider-thumb, .accent.hide-thumb.slider[_ngcontent-%COMP%]::-webkit-slider-thumb, .warn.hide-thumb.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{opacity:0}.default.hide-thumb.slider[_ngcontent-%COMP%]::-moz-range-thumb, .primary.hide-thumb.slider[_ngcontent-%COMP%]::-moz-range-thumb, .accent.hide-thumb.slider[_ngcontent-%COMP%]::-moz-range-thumb, .warn.hide-thumb.slider[_ngcontent-%COMP%]::-moz-range-thumb{opacity:0}.default.hide-thumb.slider[_ngcontent-%COMP%]::-ms-thumb, .primary.hide-thumb.slider[_ngcontent-%COMP%]::-ms-thumb, .accent.hide-thumb.slider[_ngcontent-%COMP%]::-ms-thumb, .warn.hide-thumb.slider[_ngcontent-%COMP%]::-ms-thumb{opacity:0}.white.slider[_ngcontent-%COMP%]{-webkit-appearance:none;border-radius:50px}.white.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:50%;box-shadow:0 0 2px #555}.white.slider[_ngcontent-%COMP%]::-moz-range-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:50%;cursor:pointer}.white.slider[_ngcontent-%COMP%]::-ms-thumb{-webkit-appearance:none;height:18px;width:18px;border-radius:50%;cursor:pointer;box-shadow:0 0 2px #555}.white.slider[_ngcontent-%COMP%]::-webkit-slider-runnable-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent}.white.slider[_ngcontent-%COMP%]::-moz-range-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent}.white.slider[_ngcontent-%COMP%]::-ms-track{-webkit-appearance:none;box-shadow:none;border:none;background:transparent}.white[_ngcontent-%COMP%] ~ .content[_ngcontent-%COMP%] > .range-label[_ngcontent-%COMP%]{color:#fff}.white.hide-thumb.slider[_ngcontent-%COMP%]::-webkit-slider-thumb{opacity:0}.white.hide-thumb.slider[_ngcontent-%COMP%]::-moz-range-thumb{opacity:0}.white.hide-thumb.slider[_ngcontent-%COMP%]::-ms-thumb{opacity:0}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",O.FormControl),(0,u.__metadata)("design:paramtypes",[O.FormControl])],Xn.prototype,"control",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Xn.prototype,"hideLabels",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Xn.prototype,"height",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number),(0,u.__metadata)("design:paramtypes",[Number])],Xn.prototype,"value",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number),(0,u.__metadata)("design:paramtypes",[Number])],Xn.prototype,"minValue",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number),(0,u.__metadata)("design:paramtypes",[Number])],Xn.prototype,"maxValue",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number),(0,u.__metadata)("design:paramtypes",[Number])],Xn.prototype,"step",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Xn.prototype,"ariaLabel",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Xn.prototype,"label",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],Xn.prototype,"color",null),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1,propertyName:et.R.Readonly}),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Xn.prototype,"readonly",null),(0,u.__decorate)([(0,J.k)({defaultValue:!1,propertyName:et.R.Disabled}),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Xn.prototype,"disabled",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Xn.prototype,"hideThumb",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],Xn.prototype,"paddingLineMode",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Xn.prototype,"valueChanged",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Xn.prototype,"disableResizing",void 0),Xn=(0,u.__decorate)([(0,Qt.v)({type:"crt.Slider",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:20,icon:o(55320),defaultPropertyValues:{color:"primary",minValue:0,maxValue:100,step:1},defaultLocalizableStrings:{label:"Components.Slider.Caption"}},propertiesPanelComponentTypeName:"crt.SliderPropertiesPanelComponent",designViewItemCommands:{update:"crt.SliderChangeViewItemCommand"},dataValueTypes:[X.r.Integer,X.r.Float,X.r.FLOAT1,X.r.FLOAT2,X.r.FLOAT3,X.r.FLOAT4,X.r.FLOAT8,X.r.Money],viewElementGroupType:pn.J.Inputs,typeCaption:"Components.Slider.Caption"}),(0,u.__metadata)("design:paramtypes",[t.Injector])],Xn);function gN(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"crt-slider",1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("hideThumb",!0)("disabled",!0)("value",n.percentage)("hideLabels",!0)("height",6)("color",n.color)("disableResizing",!0)("paddingLineMode",!0)}}function hN(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275text(1),t.\u0275\u0275template(2,gN,2,8,"ng-container",0),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.value," "),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.color&&n.percentage)}}let Xp=class M0 extends Co.i{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(M0)))(a||M0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:M0,selectors:[["crt-data-table-slider-cell"]],inputs:{color:"color",percentage:"percentage"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[4,"ngIf"],[3,"hideThumb","disabled","value","hideLabels","height","color","disableResizing","paddingLineMode"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,hN,3,2,"div",0),n&2&&t.\u0275\u0275property("ngIf",a.value)},dependencies:[_.NgIf,Xn],styles:[`crt-data-table-crt-table-slider-cell{width:calc(100% - 20px)!important}crt-data-table-crt-table-slider-cell crt-data-table-slider-cell{width:100%}crt-data-table-crt-table-slider-cell crt-data-table-slider-cell crt-slider{display:block;margin-top:4px}crt-data-table-crt-table-slider-cell crt-data-table-slider-cell crt-slider .slider-wrapper{padding:0!important}crt-data-table-crt-table-slider-cell crt-data-table-slider-cell crt-slider .slider-wrapper .slider{display:block!important}
`],encapsulation:2})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],Xp.prototype,"color",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number)],Xp.prototype,"percentage",void 0),Xp=(0,u.__decorate)([(0,Qt.v)({type:"crt.TableSliderCell",reuseStrategy:$t.B.Reuse})],Xp);let hs=class F4{static{this.\u0275fac=function(n){return new(n||F4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:F4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,fe.q,tn,O.ReactiveFormsModule]})}};hs=(0,u.__decorate)([(0,ie.g)({viewElements:[Xn]})],hs),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(hs,{declarations:[Xn],imports:[_.CommonModule,fe.q,Le.C,tn,O.ReactiveFormsModule],exports:[Xn]})}();let qp=class j4{static{this.\u0275fac=function(n){return new(n||j4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:j4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,hs]})}};qp=(0,u.__decorate)([(0,ie.g)({viewElements:[Xp]})],qp),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(qp,{declarations:[Xp],imports:[_.CommonModule,hs],exports:[Xp]})}();class yo{static{this.\u0275fac=function(n){return new(n||yo)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:yo})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Mn.U,Mn.U]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(yo,{declarations:[Hp],imports:[_.CommonModule,Mn.U],exports:[Hp,Mn.U]})})();class tu{static{this.\u0275fac=function(n){return new(n||tu)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:tu})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,yo,Hi.X]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(tu,{declarations:[Gp],imports:[_.CommonModule,yo,gs.o,Hi.X],exports:[Gp]})})();let eu=class B4{static{this.\u0275fac=function(n){return new(n||B4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:B4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,yl]})}};eu=(0,u.__decorate)([(0,ie.g)({viewElements:[gh]})],eu),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(eu,{declarations:[gh],imports:[_.CommonModule,yl],exports:[gh]})}();const _N=()=>({mode:"textOnly"});function fN(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",3),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onEmailClicked(i.value))}),t.\u0275\u0275elementEnd()}}function bN(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-link",4),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onEmailClicked(i.value))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275propertyInterpolate("caption",n.value),t.\u0275\u0275property("href",n.value?"mailto:"+n.value:n.value)}}function CN(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span",5),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"decodeHtml"),t.\u0275\u0275pipe(3,"sanitizeHtml"),t.\u0275\u0275pipe(4,"decodeHtml"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,6,t.\u0275\u0275pipeBind2(3,3,t.\u0275\u0275pipeBind1(2,1,n.value),t.\u0275\u0275pureFunction0(8,_N)))," ")}}let hh=class z4 extends Co.i{constructor(e,n){super(),this._emailInputService=e,this._window=n}onEmailClicked(e){e&&(this._window.location.href=this._emailInputService.getLink(e))}static{this.\u0275fac=function(n){return new(n||z4)(t.\u0275\u0275directiveInject(Go),t.\u0275\u0275directiveInject("Window"))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:z4,selectors:[["crt-data-table-email-cell"]],inputs:{disableLink:"disableLink"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[["plainText",""],["svgIcon","email-icon","class","grid-communication-call-icon",3,"click",4,"ngIf"],["underlining","hover","mode","preventDefault","class","communication-link-wrapper",3,"href","caption","clicked",4,"ngIf","ngIfElse"],["svgIcon","email-icon",1,"grid-communication-call-icon",3,"click"],["underlining","hover","mode","preventDefault",1,"communication-link-wrapper",3,"clicked","href","caption"],[1,"communication-link-wrapper"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,fN,1,0,"mat-icon",1)(1,bN,1,2,"crt-link",2)(2,CN,5,9,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(3);t.\u0275\u0275property("ngIf",a.value),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!a.disableLink)("ngIfElse",i)}},dependencies:[_.NgIf,ul.h,_t.MatIcon,gs.o,mh.b],styles:["[_nghost-%COMP%]{display:flex;max-width:100%}[_nghost-%COMP%]   .grid-communication-call-icon[_ngcontent-%COMP%]{display:inline-block;flex-shrink:0;width:16px;height:16px;cursor:pointer}[_nghost-%COMP%]   .communication-link-wrapper[_ngcontent-%COMP%]{display:inline-block;min-width:0;margin-left:8px}[dir=rtl][_ngcontent-%COMP%]   crt-link.communication-link-wrapper[_ngcontent-%COMP%]{direction:ltr;margin-right:8px}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],hh.prototype,"disableLink",void 0),hh=(0,u.__decorate)([(0,Qt.v)({type:"crt.TableEmailCell",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[Go,Window])],hh);let nu=class U4{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"email-icon",icon:o(2013)}])}static{this.\u0275fac=function(n){return new(n||U4)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:U4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[Go,{provide:"Window",useValue:window}],imports:[_.CommonModule,Mn.U,re,_t.MatIconModule,f.TranslateModule,Hi.X]})}};nu=(0,u.__decorate)([(0,ie.g)({viewElements:[hh]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],nu),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(nu,{declarations:[hh],imports:[_.CommonModule,Mn.U,re,_t.MatIconModule,f.TranslateModule,gs.o,Hi.X],exports:[hh]})}();let vo=class H4{static{this.\u0275fac=function(n){return new(n||H4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:H4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,yo,Hi.X,Ha.a,_t.MatIconModule]})}};vo=(0,u.__decorate)([(0,ie.g)({viewElements:[Wp]})],vo),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(vo,{declarations:[Wp],imports:[_.CommonModule,yo,gs.o,Hi.X,Ha.a,_t.MatIconModule],exports:[Wp]})}();var au=o(26628);function yN(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-link",4),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.download())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("href",n.fileUrl)("caption",n.fileName)}}function vN(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",5),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.fileName)}}function MN(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-progress-bar",6),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("value",n.progress)}}let jl=class W4{constructor(e,n){this.fileApiService=e,this._fileIconService=n}get loading(){return this.progress>0&&this.progress!==100}getFileIcon(){return this._fileIconService.getFileIcon(this.fileName)}download(){this.fileApiService.download(this.fileUrl,this.fileName)}static{this.\u0275fac=function(n){return new(n||W4)(t.\u0275\u0275directiveInject(au.k),t.\u0275\u0275directiveInject(Gi))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:W4,selectors:[["crt-data-table-file-cell"]],inputs:{fileName:"fileName",progress:"progress",fileUrl:"fileUrl"},decls:5,vars:4,consts:[["text",""],["matSuffix","",1,"file-icon",3,"svgIcon"],[4,"ngIf","ngIfElse"],["class","file-loader","mode","determinate",3,"value",4,"ngIf"],["underlining","hover","mode","preventDefault",1,"file-link",3,"clicked","href","caption"],[1,"file-name"],["mode","determinate",1,"file-loader",3,"value"]],template:function(n,a){if(n&1&&(t.\u0275\u0275element(0,"mat-icon",1),t.\u0275\u0275template(1,yN,2,2,"ng-container",2)(2,vN,2,1,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)(4,MN,1,1,"mat-progress-bar",3)),n&2){const i=t.\u0275\u0275reference(3);t.\u0275\u0275property("svgIcon",a.getFileIcon()),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.fileUrl)("ngIfElse",i),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.loading)}},dependencies:[_.NgIf,ul.h,_t.MatIcon,Hs.MatProgressBar],styles:["[_nghost-%COMP%]{display:flex;justify-content:flex-start;width:100%;overflow:hidden;position:relative}.mat-icon.file-icon[_ngcontent-%COMP%]{display:flex;height:16px;width:16px;min-width:16px;margin-inline-start:0;margin-inline-end:8px}.file-link[_ngcontent-%COMP%]{overflow:hidden}.file-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}.file-loader[_ngcontent-%COMP%]{position:absolute;bottom:0;height:1px}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],jl.prototype,"fileName",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number)],jl.prototype,"progress",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],jl.prototype,"fileUrl",void 0),jl=(0,u.__decorate)([(0,Qt.v)({type:"crt.TableFileCell",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[au.k,Gi])],jl);let iu=class G4{static{this.\u0275fac=function(n){return new(n||G4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:G4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Mn.U,_t.MatIconModule,Hs.MatProgressBarModule]})}};iu=(0,u.__decorate)([(0,ie.g)({viewElements:[jl]})],iu),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(iu,{declarations:[jl],imports:[_.CommonModule,Mn.U,_t.MatIconModule,Hs.MatProgressBarModule],exports:[jl]})}();var IN=o(30467);class Mo{constructor(e){this._injector=e,this._unitNames=["Byte","Kilobyte","Megabyte","Gigabyte"],this._thresh=IN.z}_roundNumber(e,n=1){const a=10**n;return Math.round((e+Number.EPSILON)*a)/a}_evalLevel(e){return e<this._thresh?0:Math.floor(Math.log(e)/Math.log(this._thresh))}_getUnits(e,n){const a=n&&e===0&&[2,3,4].includes(n%10)&&![12,13,14].includes(n%100)?"s":"",i=this._unitNames[e]+a;return" "+this._injector.get(f.TranslateService).instant("FileSizeUnit."+i)}transform(e,n){if(typeof e!="number")return typeof e=="string"?e:"";let a=n?this._unitNames.indexOf(n):-1;if(a===-1&&(a=this._evalLevel(e)),e<=0)return 0+this._getUnits(a);const i=a>0?this._roundNumber(e/Math.pow(this._thresh,a)):e;return this._injector.get(tf.N).transform(i)+this._getUnits(a,i)}static{this.\u0275fac=function(n){return new(n||Mo)(t.\u0275\u0275directiveInject(t.Injector,16))}}static{this.\u0275pipe=t.\u0275\u0275definePipe({name:"memoryFormat",type:Mo,pure:!0})}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Mo,factory:Mo.\u0275fac,providedIn:"root"})}}class Br{static{this.\u0275fac=function(n){return new(n||Br)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Br})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Br,{declarations:[Mo],exports:[Mo]})})();let Qf=class $4 extends Co.i{constructor(e){super(),this._injector=e,this._fileSizePipe=this._injector.get(Mo)}getTitle(e){return`${this._fileSizePipe.transform(e)}`}static{this.\u0275fac=function(n){return new(n||$4)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:$4,selectors:[["crt-data-table-file-size-cell"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,template:function(n,a){n&1&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"memoryFormat")),n&2&&t.\u0275\u0275textInterpolate1("",t.\u0275\u0275pipeBind1(1,1,a.value),`
`)},dependencies:[Mo],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}"]})}};Qf=(0,u.__decorate)([(0,Qt.v)({type:"crt.TableFileSizeCell",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector])],Qf);let Yf=class K4{static{this.\u0275fac=function(n){return new(n||K4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:K4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Br]})}};Yf=(0,u.__decorate)([(0,ie.g)({viewElements:[Qf]})],Yf),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Yf,{declarations:[Qf],imports:[_.CommonModule,Br],exports:[Qf]})}();function xN(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-data-table-text-cell",3),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("value",n.value)("record",n.record)("column",n.column)}}let ru=class I0 extends Co.i{constructor(){super(...arguments),this._valueSet$=new m.ReplaySubject(1),this._subscriptions=new m.Subscription}set dcmStages(e){this._dcmStages=e,this._valueSet$.next(!0)}get dcmStages(){return this._dcmStages}_mapValueToLookup(){const e=super.value;if(e&&this.dcmStages){const n=this.dcmStages.find(a=>a.value===e);n&&(this._color=n.primaryColorValue,this._displayValue=n.displayValue)}}get color(){return this._color}get value(){return this._displayValue}set value(e){e&&(super.value=e,this._valueSet$.next(!0))}ngOnInit(){this._subscriptions.add(this._valueSet$.subscribe(()=>this._mapValueToLookup()))}ngOnDestroy(){this._subscriptions.unsubscribe()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(I0)))(a||I0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:I0,selectors:[["crt-data-table-dcm-stage-cell"]],inputs:{dcmStages:"dcmStages",value:"value"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:2,consts:[["textDisplay",""],[3,"color"],[3,"ngTemplateOutlet"],[3,"value","record","column"]],template:function(n,a){if(n&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-chip",1),t.\u0275\u0275elementContainer(2,2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275template(3,xN,1,3,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)),n&2){const i=t.\u0275\u0275reference(4);t.\u0275\u0275advance(),t.\u0275\u0275property("color",a.color),t.\u0275\u0275advance(),t.\u0275\u0275property("ngTemplateOutlet",i)}},dependencies:[_.NgTemplateOutlet,R_.j,Wp],styles:["[_nghost-%COMP%]{max-width:100%}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],ru.prototype,"dcmStages",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],ru.prototype,"value",null),ru=(0,u.__decorate)([(0,Qt.v)({type:"crt.TableDcmStageCell",reuseStrategy:$t.B.Reuse})],ru);let ou=class Z4{static{this.\u0275fac=function(n){return new(n||Z4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Z4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Ha.a,vo]})}};ou=(0,u.__decorate)([(0,ie.g)({viewElements:[ru]})],ou),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(ou,{declarations:[ru],imports:[_.CommonModule,Ha.a,vo],exports:[ru]})}();let su=class x0 extends Co.i{constructor(){super(...arguments),this.lookupControl=new O.FormControl}_setValueToLookupControl(){const e=this._control?.value,n=this.dcmStages?.find(a=>a.value===e);n&&this.lookupControl.setValue(n)}set control(e){e instanceof O.FormControl&&(this._control=e,this._setValueToLookupControl())}get control(){return this._control}set dcmStages(e){this._dcmStages=e,this._setValueToLookupControl()}get dcmStages(){return this._dcmStages}ngOnInit(){this.lookupControl.valueChanges.subscribe(()=>{this._control.setValue(this.lookupControl.value.value)})}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(x0)))(a||x0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:x0,selectors:[["crt-data-table-dcm-editing-stage-cell"]],inputs:{control:"control",dcmStages:"dcmStages"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:3,consts:[["labelPosition","hidden",1,"crt-data-table-edit-lookup-cell",3,"items","control","autofocus"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-combobox",0),n&2&&t.\u0275\u0275property("items",a.dcmStages)("control",a.lookupControl)("autofocus",!0)},dependencies:[ke],styles:["[_nghost-%COMP%]{width:100%;max-width:100%}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",O.FormControl),(0,u.__metadata)("design:paramtypes",[O.FormControl])],su.prototype,"control",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],su.prototype,"dcmStages",null),su=(0,u.__decorate)([(0,Qt.v)({type:"crt.TableDcmStageEditingCell",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse})],su);let cu=class Q4{static{this.\u0275fac=function(n){return new(n||Q4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Q4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,oi,vo]})}};cu=(0,u.__decorate)([(0,ie.g)({viewElements:[su]})],cu),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(cu,{declarations:[su],imports:[_.CommonModule,oi,vo],exports:[su]})}();class _h{constructor(e){this._materialIconsRegistrar=e,this._materialIconsRegistrar.addIcons([{name:"drag",icon:o(44405)}])}static{this.\u0275fac=function(n){return new(n||_h)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:_h})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,re,_t.MatIconModule,f.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(_h,{declarations:[Lg],imports:[_.CommonModule,re,_t.MatIconModule,f.TranslateModule],exports:[Lg]})})();class fh{static{this.\u0275fac=function(n){return new(n||fh)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:fh})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,re,f.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(fh,{declarations:[Rg],imports:[_.CommonModule,re,f.TranslateModule],exports:[Rg]})})();class bh{static{this.\u0275fac=function(n){return new(n||bh)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:bh})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,re,fh,_t.MatIconModule,_e.S,Ge.A11yModule,f.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(bh,{declarations:[Ng],imports:[_.CommonModule,re,fh,_t.MatIconModule,_e.S,Ge.A11yModule,f.TranslateModule],exports:[Ng]})})();var SN=o(59200);const wN=()=>({mode:"textOnly"});function EN(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span",3)(1,"span",4),t.\u0275\u0275elementContainer(2,5),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(2);t.\u0275\u0275styleProp("color",n.color)("background-color",n.backgroundColor),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",a)}}function TN(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-link",7),t.\u0275\u0275listener("clicked",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.clicked.emit(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("href",n.href)("caption",n.caption)("mode",n.mode)("target",n.target)}}function PN(r,e){if(r&1&&t.\u0275\u0275template(0,TN,1,4,"crt-link",6),r&2){const n=t.\u0275\u0275nextContext(),a=t.\u0275\u0275reference(4);t.\u0275\u0275property("ngIf",n.href&&!n.disableLink)("ngIfElse",a)}}function ON(r,e){if(r&1&&(t.\u0275\u0275text(0),t.\u0275\u0275pipe(1,"decodeHtml"),t.\u0275\u0275pipe(2,"sanitizeHtml"),t.\u0275\u0275pipe(3,"decodeHtml")),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,6,t.\u0275\u0275pipeBind2(2,3,t.\u0275\u0275pipeBind1(1,1,n.value),t.\u0275\u0275pureFunction0(8,wN))),`
`)}}let zr=class S0 extends Co.i{constructor(){super(...arguments),this.clicked=new t.EventEmitter}get color(){return this._color}set displayValue(e){e&&(this._color=e.primaryColorValue,this.backgroundColor=(0,SN.q)(this._color))}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(S0)))(a||S0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:S0,selectors:[["crt-data-table-colored-cell"]],inputs:{displayValue:"displayValue",caption:"caption",disableLink:"disableLink",mode:"mode",href:"href",target:"target"},outputs:{clicked:"clicked"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:2,consts:[["selectionDisplay",""],["plainText",""],["class","crt-data-table-colored-cell-chip",3,"color","background-color",4,"ngIf","ngIfElse"],[1,"crt-data-table-colored-cell-chip"],[1,"crt-data-table-colored-cell-chip-text"],[3,"ngTemplateOutlet"],["underlining","hover",3,"href","caption","mode","target","clicked",4,"ngIf","ngIfElse"],["underlining","hover",3,"clicked","href","caption","mode","target"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,EN,3,5,"span",2)(1,PN,1,2,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)(3,ON,4,9,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.color&&(a.value||a.href))("ngIfElse",i)}},dependencies:[_.NgIf,_.NgTemplateOutlet,ul.h,gs.o,mh.b],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{max-width:100%}.crt-data-table-colored-cell-chip[_ngcontent-%COMP%]{border-radius:16px;padding:1px 8px;display:flex;height:calc(var(--crt-body-2-line-height) - 2px);align-items:center;position:relative}.crt-data-table-colored-cell-chip[_ngcontent-%COMP%]   .crt-data-table-colored-cell-chip-text[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;filter:brightness(.5)}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],zr.prototype,"displayValue",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],zr.prototype,"caption",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],zr.prototype,"disableLink",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],zr.prototype,"mode",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],zr.prototype,"href",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],zr.prototype,"target",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],zr.prototype,"clicked",void 0),zr=(0,u.__decorate)([(0,Qt.v)({type:"crt.TableColoredCell",reuseStrategy:$t.B.Reuse})],zr);let lu=class Y4{static{this.\u0275fac=function(n){return new(n||Y4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Y4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Mn.U,Hi.X]})}};lu=(0,u.__decorate)([(0,ie.g)({viewElements:[zr]})],lu),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(lu,{declarations:[zr],imports:[_.CommonModule,Mn.U,gs.o,Hi.X],exports:[zr]})}();function DN(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-email-input",1),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("control",n.control)("autofocus",!0)("value",n.control.value)("isFormatValidated",n.isFormatValidated)("readonly",n.readonly)}}let Bl=class J4{constructor(){this.readonly=!1}static{this.\u0275fac=function(n){return new(n||J4)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:J4,selectors:[["crt-data-table-edit-email-cell"]],inputs:{control:"control",readonly:"readonly",isFormatValidated:"isFormatValidated"},decls:1,vars:1,consts:[["classes","crt-data-table-edit-email-cell","labelPosition","hidden","class","crt-data-table-edit-email-cell",3,"control","autofocus","value","isFormatValidated","readonly",4,"ngIf"],["classes","crt-data-table-edit-email-cell","labelPosition","hidden",1,"crt-data-table-edit-email-cell",3,"control","autofocus","value","isFormatValidated","readonly"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,DN,1,5,"crt-email-input",0),n&2&&t.\u0275\u0275property("ngIf",a.control)},dependencies:[_.NgIf,Kc],styles:["[_nghost-%COMP%]{display:block;width:100%;height:20px}crt-email-input[_ngcontent-%COMP%]{display:block;padding-inline-end:4px}crt-email-input.left-padding[_ngcontent-%COMP%]{padding-left:8px}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",O.FormControl)],Bl.prototype,"control",void 0),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1,propertyName:et.R.Readonly}),(0,u.__metadata)("design:type",Object)],Bl.prototype,"readonly",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Bl.prototype,"isFormatValidated",void 0),Bl=(0,u.__decorate)([(0,Qt.v)({type:"crt.DataTableEditEmailCell",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse})],Bl);let du=class X4{static{this.\u0275fac=function(n){return new(n||X4)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:X4})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Er]})}};du=(0,u.__decorate)([(0,ie.g)({viewElements:[Bl]})],du),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(du,{declarations:[Bl],imports:[_.CommonModule,Er],exports:[Bl]})}();function AN(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-web-input",1),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("control",n.control)("autofocus",!0)("value",n.control.value)("readonly",n.readonly)}}let pu=class q4{constructor(){this.readonly=!1}static{this.\u0275fac=function(n){return new(n||q4)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:q4,selectors:[["crt-data-table-edit-web-cell"]],inputs:{control:"control",readonly:"readonly"},decls:1,vars:1,consts:[["classes","crt-data-table-edit-web-cell","labelPosition","hidden","class","crt-data-table-edit-web-cell",3,"control","autofocus","value","readonly",4,"ngIf"],["classes","crt-data-table-edit-web-cell","labelPosition","hidden",1,"crt-data-table-edit-web-cell",3,"control","autofocus","value","readonly"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,AN,1,4,"crt-web-input",0),n&2&&t.\u0275\u0275property("ngIf",a.control)},dependencies:[_.NgIf,$c],styles:["[_nghost-%COMP%]{display:block;width:100%;height:20px}crt-web-input[_ngcontent-%COMP%]{display:block;padding-inline-end:4px}crt-web-input.left-padding[_ngcontent-%COMP%]{padding-left:8px}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",O.FormControl)],pu.prototype,"control",void 0),(0,u.__decorate)([(0,J.k)({propertyBindable:!0,defaultValue:!1,propertyName:et.R.Readonly}),(0,u.__metadata)("design:type",Object)],pu.prototype,"readonly",void 0),pu=(0,u.__decorate)([(0,Qt.v)({type:"crt.DataTableEditWebCell",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse})],pu);let uu=class tv{static{this.\u0275fac=function(n){return new(n||tv)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:tv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,wr]})}};uu=(0,u.__decorate)([(0,ie.g)({viewElements:[pu]})],uu),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(uu,{declarations:[pu],imports:[_.CommonModule,wr],exports:[pu]})}();const LN=()=>({mode:"textOnly"});let Jf=class w0 extends Co.i{getTitle(){return""}removeWhiteSpaces(e){return e?.replace(/&nbsp;/g,"")}getTooltip(){const e=(0,Zo.N2)(this.value);return new Bo.I({tooltipConfig:{value:e},closeOnOutsideClick:!0,preferredPositions:[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}],panelClass:["base-tooltip","rich-text-editor-cell-tooltip"],componentType:ll.x})}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(w0)))(a||w0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:w0,selectors:[["crt-data-table-rich-text-editor-cell"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:10,consts:[["crtTooltip","",1,"cell-content",3,"tooltipConfig"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"decodeHtml"),t.\u0275\u0275pipe(3,"sanitizeHtml"),t.\u0275\u0275pipe(4,"decodeHtml"),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("tooltipConfig",a.getTooltip()),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,7,t.\u0275\u0275pipeBind2(3,4,t.\u0275\u0275pipeBind1(2,2,a.removeWhiteSpaces(a.value)),t.\u0275\u0275pureFunction0(9,LN))),`
`))},dependencies:[na.d,gs.o,mh.b],styles:['body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%], [_nghost-%COMP%]   .cell-content[_ngcontent-%COMP%]{display:block;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}[_nghost-%COMP%]:after, [_nghost-%COMP%]   .cell-content[_ngcontent-%COMP%]:after{content:"";display:block}']})}};Jf=(0,u.__decorate)([(0,Qt.v)({type:"crt.TableRichTextEditorCell",reuseStrategy:$t.B.Reuse})],Jf);let mu=class ev{static{this.\u0275fac=function(n){return new(n||ev)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:ev})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,yo,Sn.u,Hi.X,_e.S]})}};mu=(0,u.__decorate)([(0,ie.g)({viewElements:[Jf]})],mu),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(mu,{declarations:[Jf],imports:[_.CommonModule,yo,Sn.u,gs.o,Hi.X,_e.S],exports:[Jf]})}();class Ch{static{this.\u0275fac=function(n){return new(n||Ch)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Ch})}static{this.\u0275inj=t.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Ch,{declarations:[kg],exports:[kg]})})();var DM=o(31376),AM=o(34143);const LM=new t.InjectionToken("A data table numeric cell component type"),kM=new t.InjectionToken("A data table datetime cell component type"),RM=new t.InjectionToken("A data table boolean cell component type"),NM=new t.InjectionToken("A data table lookup cell component type"),VM=new t.InjectionToken("A data table text cell component type"),kN=E.gX.create({token:V6,mappings:[{predicate:r=>DM.D.includes(r),injectable:LM},{predicate:r=>AM.i.includes(r),injectable:kM},{predicate:X.r.Boolean,injectable:RM},{predicate:X.r.Lookup,injectable:NM}],default:{injectable:VM}}),FM=new t.InjectionToken("A data table default column width config"),jM=new t.InjectionToken("A data table boolean column width config"),BM=new t.InjectionToken("A data table numeric column width config"),zM=new t.InjectionToken("A data table time column width config"),UM=new t.InjectionToken("A data table date column width config"),HM=new t.InjectionToken("A data table datetime column width config"),WM=new t.InjectionToken("A data table lookup column width config"),RN=E.gX.create({token:k6,mappings:[{predicate:X.r.Boolean,injectable:jM},{predicate:r=>DM.D.includes(r),injectable:BM},{predicate:X.r.Time,injectable:zM},{predicate:X.r.Date,injectable:UM},{predicate:X.r.DateTime,injectable:HM},{predicate:X.r.Lookup,injectable:WM}],default:{injectable:FM}}),NN=790,VN=E.gX.create({token:L6,mappings:[{predicate:r=>r>0&&r<=NN,useValue:.3}],default:{useValue:.7}});function gu(r){return{provide:r.token,useValue:{minWidth:dr.MIN,...r.config}}}const FN=[gu({token:FM,config:{defaultWidth:dr.DEFAULT}}),gu({token:jM,config:{defaultWidth:dr.BOOLEAN}}),gu({token:BM,config:{defaultWidth:dr.NUMERIC}}),gu({token:zM,config:{defaultWidth:dr.TIME}}),gu({token:UM,config:{defaultWidth:dr.DATE}}),gu({token:HM,config:{defaultWidth:dr.DATETIME}}),gu({token:WM,config:{defaultWidth:dr.LOOKUP}})];let Ur=class nv{constructor(e){this._materialIconsRegistrar=e,this._materialIconsRegistrar.addIcons([{name:"data-table",icon:o(44400)},{name:"data-grid",icon:o(42604)},{name:"arrow",icon:o(61806)},{name:"tree_opened_parent",icon:o(33754)},{name:"tree_parent",icon:o(54657)},{name:"plus",icon:o(82019)}])}static{this.\u0275fac=function(n){return new(n||nv)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:nv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[Dg,Ag,{provide:kM,useValue:ph},{provide:RM,useValue:gc},{provide:VM,useValue:Wp},{provide:LM,useValue:gh},{provide:NM,useValue:Gp},{provide:U6,useValue:[$p,Kp,Zp,Qp,Yp,du,uu,Jp,lu,qp,tu,eu,nu,vo,iu,Yf,ra,Sn.u,re,ga,yo,mu,ou,cu]},kN,B5,RN,VN,...FN],imports:[Ge.A11yModule,Sn.u,re,_.CommonModule,$p,Kp,Zp,Qp,Yp,du,uu,_h,Lr,ga,Ch,Jp,lu,qp,tu,eu,nu,bh,vo,iu,ou,cu,dh.withConfig({minWidth:dr.MIN,maxWidth:dr.MAX,defaultWidth:dr.DEFAULT}),Cl.H,ra,fe.q,hl.DragDropModule,_t.MatIconModule,_a.MatLegacyTableModule,Mf.ResizableModule,oh,Te.c,a3.CdkTreeModule,Nl,lh,_e.S,mu,Pl,f.TranslateModule]})}};Ur=(0,u.__decorate)([(0,ie.g)({includes:[{load:()=>o.e(2997).then(o.bind(o,2997)).then(r=>r.CrtDataTablePhoneCellModule),...window.creatio._lazyModulesMetadata.page_wizard.CrtDataTablePhoneCellModule},{load:()=>o.e(2997).then(o.bind(o,2997)).then(r=>r.CrtDataTableEditPhoneCellModule),...window.creatio._lazyModulesMetadata.page_wizard.CrtDataTableEditPhoneCellModule},$p,Kp,Zp,Qp,Yp,du,uu,Jp,vo,eu,nu,iu,Yf,mu,lu,qp,ou,cu]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],Ur),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Ur,{declarations:[Li,Dp,Bg,Rp,kl,Vg,If,kp,Rl,xf,Ap,Sf,pr,Lp,jg,wf,Ef,us,Tf,Np,Og,uc,N6.L],imports:[Ge.A11yModule,Sn.u,re,_.CommonModule,$p,Kp,Zp,Qp,Yp,du,uu,_h,Lr,ga,Ch,Jp,lu,qp,tu,eu,nu,bh,vo,iu,ou,cu,dh,Cl.H,ra,Le.C,fe.q,hl.DragDropModule,_t.MatIconModule,_a.MatLegacyTableModule,Mf.ResizableModule,oh,Te.c,a3.CdkTreeModule,Nl,lh,_e.S,mu,qe,Pl,lc,f.TranslateModule],exports:[Dp,Bg,kp,Ap,Lp,Rp]})}();let Io=class av{constructor(e){this._materialIconsRegistrator=e;const n=[{name:"plus",icon:o(82019)},{name:"snowflake",icon:o(11969)}];this._materialIconsRegistrator.addIcons(n)}static{this.\u0275fac=function(n){return new(n||av)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:av})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:v6,useClass:$f},{provide:M6,useClass:BR},Kf,Pg,jr,rh,qg,nh,eh,th,Xg,$g,mc,jp,ah,{provide:_D,useValue:$k,multi:!0}],imports:[re,li,_.CommonModule,Tg,zg,Ur,vn,_t.MatIconModule,Q.MatLegacyMenuModule,fC.k,f.TranslateModule,Pl]})}};Io=(0,u.__decorate)([(0,ie.g)({includes:[Ur],viewElements:[We],converters:[v2,M2,I2],requestHandlers:[E2,D2,A2,L2,z2,W2,G2,$2,K2,Z2,Q2,Y2,J2,X2,q2,RC,e3,n3]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],Io),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Io,{declarations:[We],imports:[re,li,_.CommonModule,Tg,zg,Ur,vn,_t.MatIconModule,Q.MatLegacyMenuModule,fC.k,f.TranslateModule,lc,Pl],exports:[We]})}();const GM=["activity","bankaccount","bankcard","call","case","contract","document","email","facebook","feed","finapplication","invoice","lead","meeting","omnichat","opportunity","order","paper-work","sysapproval","sysfile","task","telegram","visit","whatsapp"];function jN(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-image-input",7),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("value",n.getPhotoUrl())("placeholder",n.authorName)("colorId",n.authorId)}}function BN(r,e){r&1&&t.\u0275\u0275element(0,"mat-icon",8,1),r&2&&t.\u0275\u0275property("svgIcon","photo-placeholder-timeline")}function zN(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,jN,1,3,"crt-image-input",6)(2,BN,2,1,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275reference(3),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isAuthorExists())("ngIfElse",n)}}function UN(r,e){if(r&1&&t.\u0275\u0275element(0,"img",9),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("src",n.getIconUrl(),t.\u0275\u0275sanitizeUrl)("alt",n.tileKey)}}function HN(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-icon",10),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("svgIcon",n.icon)}}class yh extends ue.K{get withPhoto(){return!!this.photoImageId&&this.photoImageId.length>0}set icon(e){this._icon=e}get icon(){if(this._icon)return this._icon;{let e=this.tileKey?.toLowerCase();return GM.includes(e)||(e="default"),`${e}-entity-icon`}}_checkExists(e){return!!(0,de.n7)(e)&&!(0,de.gZ)(e)}getPhotoUrl(){return this.isPhotoExists()?(0,Zo.Mc)(this.photoImageId):""}isPhotoExists(){return this._checkExists(this.photoImageId)}isAuthorExists(){return this._checkExists(this.authorId)}isTileIconId(){return this._checkExists(this.tileIconId)}getIconUrl(){return(0,Zo.Mc)(this.tileIconId)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(yh)))(a||yh)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:yh,selectors:[["crt-entity-icon"]],inputs:{tileKey:"tileKey",tileIconId:"tileIconId",authorName:"authorName",authorId:"authorId",photoImageId:"photoImageId",icon:"icon"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:6,vars:5,consts:[["tileIcon",""],["placeholder",""],[1,"entity-icon"],[4,"ngIf"],[1,"icon-wrapper"],["class","icon",3,"src","alt",4,"ngIf","ngIfElse"],["readonly","true","class","photo","placeholderMode","abbreviation","borderRadius","large","positioning","scale-down","size","small","inert","",3,"value","placeholder","colorId",4,"ngIf","ngIfElse"],["readonly","true","placeholderMode","abbreviation","borderRadius","large","positioning","scale-down","size","small","inert","",1,"photo",3,"value","placeholder","colorId"],[1,"placeholder",3,"svgIcon"],[1,"icon",3,"src","alt"],[1,"icon",3,"svgIcon"]],template:function(n,a){if(n&1&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275template(1,zN,4,2,"ng-container",3),t.\u0275\u0275elementStart(2,"div",4),t.\u0275\u0275template(3,UN,1,2,"img",5)(4,HN,1,1,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()),n&2){const i=t.\u0275\u0275reference(5);t.\u0275\u0275classProp("with-photo",a.withPhoto),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.withPhoto),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isTileIconId())("ngIfElse",i)}},dependencies:[_.NgIf,_t.MatIcon,Pn],styles:[".entity-icon[_ngcontent-%COMP%]{position:relative}.entity-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:32px;height:32px}.entity-icon[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%], .entity-icon[_ngcontent-%COMP%]   .photo[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:20px}.entity-icon.with-photo[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{position:absolute;background:#fff;box-shadow:0 0 14px #00000026;border-radius:20px;display:flex;justify-content:center;align-items:center;padding:2px;bottom:-6px;right:-6px}.entity-icon.with-photo[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;height:16px}"]})}}class zl{constructor(e){this._materialIconsRegistrator=e;const n=GM.map(a=>({name:`${a}-entity-icon`,icon:o(90670)(`./${a}-icon.svg`)}));n.push({name:"default-entity-icon",icon:o(66840)}),this._materialIconsRegistrator.addIcons(n)}static{this.\u0275fac=function(n){return new(n||zl)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:zl})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,_t.MatIconModule,mi,Ne,f.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(zl,{declarations:[yh],imports:[_.CommonModule,_t.MatIconModule,mi,Ne,f.TranslateModule],exports:[yh]})})();const WN=["*"];function GN(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",3),t.\u0275\u0275listener("mousemove",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onBackLayerOver())})("dragover",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onBackLayerOver())}),t.\u0275\u0275elementEnd()}}let xo=class E0 extends ue.K{constructor(){super(...arguments),this._showOverlay=!0,this.multiple=!0,this.disabled=!1,this.fileDropped=new t.EventEmitter}set showOverlay(e){this._showOverlay=e}get showOverlay(){return this._showOverlay}get isOverlayHidden(){return!this._showOverlay}_getFileDropEntry(e){if("isFile"in e&&e.isFile)return{name:e.name,fileEntry:e};const n={name:e.name,isDirectory:!1,isFile:!0,file:a=>a(e)};return{name:n.name,fileEntry:n}}_getFileDropEntries(e){let n;const a=e.dataTransfer.items;if(a&&[...a].filter(i=>i.webkitGetAsEntry?.()||i.getAsFile?.()).length>0){for(const i of a)if(i.webkitGetAsEntry?.()?.isDirectory)return[];n=[...a].map(i=>{const s=i.getAsFile?.()||i.webkitGetAsEntry?.();if(s)return this._getFileDropEntry(s)}).filter(i=>!!i)}else n=e.dataTransfer.files.map(i=>this._getFileDropEntry(i));return n}_isTransferredDataValid(e){if(!e)return!1;const n=this.multiple?!0:e.items.length<=1,a=e.types.includes("Files");return n&&a}onFileOver(e){const n=e.originalTarget?.classList[0];this.disabled||n==="background-layer"||(e.preventDefault(),e.stopPropagation(),!(this.fileOver||!this._isTransferredDataValid(e.dataTransfer))&&(this.fileOver=!0))}onFileLeave(e){if(this.disabled)return;e.preventDefault(),e.stopPropagation();const n=e.fromElement?.classList[0];if(n==="overlay")return;const a=e.toElement?.classList[0];typeof n!="string"&&["overlay","file-drop-content"].indexOf(a)===-1||(this.fileOver=!1)}onFileDropped(e){if(this.disabled||(e.preventDefault(),e.stopPropagation(),this.fileOver=!1,!this._isTransferredDataValid(e.dataTransfer)))return;const a=this._getFileDropEntries(e).filter(i=>i.name);a.length!==0&&(0,m.from)(a).pipe((0,m.mergeMap)(i=>{const s=i.fileEntry;return(0,m.bindCallback)(s.file).call(s)}),(0,m.toArray)()).subscribe(i=>this.fileDropped.next({files:i}))}onBackLayerOver(){this.fileOver=!1}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(E0)))(a||E0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:E0,selectors:[["crt-file-drop"]],hostVars:4,hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("dragover",function(s){return a.onFileOver(s)})("dragleave",function(s){return a.onFileLeave(s)})("dragend",function(s){return a.onFileLeave(s)})("drop",function(s){return a.onFileDropped(s)}),n&2&&t.\u0275\u0275classProp("file-over",a.fileOver)("overlay-hidden",a.isOverlayHidden)},inputs:{multiple:"multiple",disabled:"disabled",showOverlay:"showOverlay"},outputs:{fileDropped:"fileDropped"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:WN,decls:4,vars:1,consts:[[1,"file-drop-content"],["class","background-layer",3,"mousemove","dragover",4,"ngIf"],[1,"overlay"],[1,"background-layer",3,"mousemove","dragover"]],template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275projection(1),t.\u0275\u0275template(2,GN,1,0,"div",1),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"div",2)),n&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.showOverlay&&a.fileOver))},dependencies:[_.NgIf],styles:[`crt-file-drop .file-drop-content{display:flex;position:relative;align-items:center;justify-content:center;overflow:auto;border:1px solid transparent;height:100%;padding:2px}crt-file-drop .file-drop-content .background-layer{position:fixed;inset:0;background:transparent;display:block;z-index:9}crt-file-drop .overlay{position:absolute;top:0;left:0;opacity:0;border-radius:8px;z-index:-1}crt-file-drop.file-over{border-radius:8px;overflow:auto;display:block;position:relative}crt-file-drop.file-over .file-drop-content{border-radius:8px;overflow:auto}crt-file-drop.file-over:not(.overlay-hidden) .overlay{height:100%;width:100%;opacity:.05;z-index:10}crt-file-drop.file-over:not(.overlay-hidden) .file-drop-content{opacity:.5}crt-file-drop.file-over.overlay-hidden .overlay{opacity:0}crt-file-drop.file-over.overlay-hidden .file-drop-content{opacity:1}
`],encapsulation:2,changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],xo.prototype,"multiple",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],xo.prototype,"disabled",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],xo.prototype,"showOverlay",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],xo.prototype,"fileDropped",void 0),xo=(0,u.__decorate)([(0,Qt.v)({type:"crt.FileDrop",contentSlots:["items"]})],xo);let $i=class iv{static{this.\u0275fac=function(n){return new(n||iv)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:iv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule]})}};$i=(0,u.__decorate)([(0,ie.g)({viewElements:[xo]})],$i),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope($i,{declarations:[xo],imports:[_.CommonModule],exports:[xo]})}();var NC=o(51025);const $N=["fileLink"],$M=r=>({dataType:r});function KN(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",5),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function ZN(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",17)(1,"crt-button",18,2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onActionsClick(i))})("focused",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onActionsFocused())}),t.\u0275\u0275element(5,"mat-icon",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"crt-menu",20,3),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275reference(7),a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("crtMenuTriggerFor",n)("title",t.\u0275\u0275pipeBind1(3,5,"Gallery.MenuActions"))("aria-label",t.\u0275\u0275pipeBind1(4,7,"Gallery.MenuActions")),t.\u0275\u0275advance(5),t.\u0275\u0275property("items",a.itemConfig.actions)("context",a.record)}}function QN(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",6)(1,"div",7),t.\u0275\u0275element(2,"mat-icon",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",9)(4,"div",10)(5,"crt-link",11,1),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.download())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,ZN,8,9,"div",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(8,"crt-label",13),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275pipe(10,"dateTimeFormat"),t.\u0275\u0275pipe(11,"memoryFormat"),t.\u0275\u0275elementStart(12,"div",14)(13,"span",15),t.\u0275\u0275text(14),t.\u0275\u0275pipe(15,"dateTimeFormat"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(16,"span",16),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"memoryFormat"),t.\u0275\u0275elementEnd()()()()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",n.tileSizeClasses),t.\u0275\u0275advance(),t.\u0275\u0275property("svgIcon",n.fileIcon),t.\u0275\u0275advance(3),t.\u0275\u0275property("href",n.fileUrl)("caption",n.fileName)("ngClass",n.fileLinkClass),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.hasActionsMenuItems()),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate3("title","",t.\u0275\u0275pipeBind1(9,14,"Gallery.DateAdded"),": ",t.\u0275\u0275pipeBind2(10,16,n.fileDate,t.\u0275\u0275pureFunction1(26,$M,n.dateTimeDataValueType))," ",t.\u0275\u0275pipeBind1(11,19,n.fileSize),""),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngClass",n.fileDateClass),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(15,21,n.fileDate,t.\u0275\u0275pureFunction1(28,$M,n.getFileDateValueType(n.size)))," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",n.fileSizeClass),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,24,n.fileSize)," ")}}let VC=class rv extends dg{constructor(e,n,a,i){super(e),this.fileIconService=n,this.fileApiService=a,this.toFileLinkConverter=i,this.skeletonStyles={height:"60px",width:"60px"},this.dateTimeDataValueType=X.r.DateTime,this._fileProperties={id:"fileId",name:"fileName",size:"fileSize",date:"fileCreatedOn"}}get fileId(){return this.getRecordValue(this._fileProperties.id)}get fileName(){return this.getRecordValue(this._fileProperties.name)}get fileSize(){return this.getRecordValue(this._fileProperties.size)}get fileDate(){return this.getRecordValue(this._fileProperties.date)}get fileSchemaName(){if(!this._fileSchemaName){const e=this.getRecordMappingKey(this._fileProperties.id),n=this.record;this._fileSchemaName=n?.getBoundDataSchemaByAttributePath(e)?.name}return this._fileSchemaName}get fileUrl(){return this._fileUrl||(this._fileUrl=this.toFileLinkConverter.convert(this.fileId,null,this.fileSchemaName)),this._fileUrl}get fileIcon(){return this.fileIconService.getFileIcon(this.fileName,"large")}get fileLinkClass(){return this.hasActionsMenuItems()?"file-gallery-link-with-actions":""}get fileDateClass(){return this.size!==ht.Z.ExtraLarge?"file-gallery-properties-file-date-max-width":""}get fileSizeClass(){return this.size!==ht.Z.ExtraLarge?"file-gallery-properties-file-size-max-width":""}_emitItemFocusedEvent(){const e={bubbles:!0,cancelable:!0,detail:l6.ItemFocused},n=new CustomEvent("itemEvent",e);this.elementRef.nativeElement.dispatchEvent(n)}download(){this.fileApiService.download(this.fileUrl,this.fileName)}getFileDateValueType(e){return e===ht.Z.ExtraLarge?X.r.DateTime:X.r.Date}onActionsClick(e){this._emitItemFocusedEvent(),super.onActionsClick(e)}onActionsFocused(){this._emitItemFocusedEvent()}ngAfterViewInit(){this.fileLink.nativeElement.querySelector("a.crt-link")?.addEventListener("focus",this._emitItemFocusedEvent.bind(this))}static{this.\u0275fac=function(n){return new(n||rv)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(Gi),t.\u0275\u0275directiveInject(au.k),t.\u0275\u0275directiveInject(NC.G))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:rv,selectors:[["crt-file-list-gallery-item"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery($N,5,t.ElementRef),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.fileLink=i.first)}},features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["fileGalleryItem",""],["fileLink",""],["trigger","crtMenuTrigger"],["menu",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],[1,"crt-gallery-item-content-wrap"],[1,"crt-gallery-item-image-wrap",3,"ngClass"],["matSuffix","",1,"file-icon",3,"svgIcon"],[1,"crt-gallery-item-info"],[1,"gallery-item-info-row"],["mode","preventDefault","underlining","hover",1,"file-gallery-link",3,"clicked","href","caption","ngClass"],["class","crt-gallery-item-actions-wrap",4,"ngIf"],["labelType","caption",1,"crt-gallery-item-properties",3,"title"],[1,"crt-gallery-item-properties-wrap"],[3,"ngClass"],[1,"file-gallery-properties-file-size",3,"ngClass"],[1,"crt-gallery-item-actions-wrap"],["size","medium","iconPosition","only-icon","icon","actions-button-icon",1,"gallery-menu-button",3,"click","focused","crtMenuTriggerFor","title","aria-label"],["svgIcon","gallery_kebab"],["xPosition","before","yPosition","above","panelClass","crt-gallery-item-actions-panel",3,"items","context"]],template:function(n,a){if(n&1&&t.\u0275\u0275template(0,KN,1,1,"crt-skeleton-loader",4)(1,QN,19,30,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.loading)("ngIfElse",i)}},dependencies:[Jt,_.NgClass,_.NgIf,hn,ul.h,Ua,ri,_t.MatIcon,f.TranslatePipe,go.V,Mo],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:block;border-radius:8px;max-width:164px}.gallery-tile-size-small[_nghost-%COMP%]{max-width:144px}.gallery-tile-size-medium[_nghost-%COMP%]{max-width:164px}.gallery-tile-size-large[_nghost-%COMP%]{max-width:184px}.gallery-tile-size-extra-large[_nghost-%COMP%]{max-width:204px}[_nghost-%COMP%]   .crt-gallery-item-actions-wrap[_ngcontent-%COMP%]   .gallery-menu-button[_ngcontent-%COMP%]{opacity:0}.crt-gallery-selected-item[_nghost-%COMP%]   .crt-gallery-item-actions-wrap[_ngcontent-%COMP%]   .gallery-menu-button[_ngcontent-%COMP%], [_nghost-%COMP%]:hover   .crt-gallery-item-actions-wrap[_ngcontent-%COMP%]   .gallery-menu-button[_ngcontent-%COMP%]{opacity:100%}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;padding:12px;border-radius:8px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-image-wrap[_ngcontent-%COMP%]{width:140px;height:140px;border-style:solid;border-width:1px;border-radius:8px;text-align:center;display:flex;flex-direction:row;align-items:center;justify-content:center}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-image-wrap.gallery-tile-size-small[_ngcontent-%COMP%]{width:120px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-image-wrap.gallery-tile-size-medium[_ngcontent-%COMP%]{width:140px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-image-wrap.gallery-tile-size-large[_ngcontent-%COMP%]{width:160px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-image-wrap.gallery-tile-size-extra-large[_ngcontent-%COMP%]{width:180px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-image-wrap.gallery-tile-size-small[_ngcontent-%COMP%]{height:120px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-image-wrap.gallery-tile-size-medium[_ngcontent-%COMP%]{height:140px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-image-wrap.gallery-tile-size-large[_ngcontent-%COMP%]{height:160px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-image-wrap.gallery-tile-size-extra-large[_ngcontent-%COMP%]{height:180px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%;width:100%;border-radius:8px;object-fit:contain}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-image-wrap[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:48px;width:36px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;padding-top:16px;max-width:100%}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-info[_ngcontent-%COMP%]   .gallery-item-info-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-info[_ngcontent-%COMP%]   .gallery-item-info-row[_ngcontent-%COMP%]   .file-gallery-link-with-actions[_ngcontent-%COMP%]{max-width:calc(100% - 24px)}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-info[_ngcontent-%COMP%]   .crt-gallery-item-properties-wrap[_ngcontent-%COMP%]{padding-top:8px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-info[_ngcontent-%COMP%]   .crt-gallery-item-properties-wrap[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-info[_ngcontent-%COMP%]   .crt-gallery-item-properties-wrap[_ngcontent-%COMP%]   .file-gallery-properties-file-size[_ngcontent-%COMP%]{padding-left:8px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-info[_ngcontent-%COMP%]   .crt-gallery-item-properties-wrap[_ngcontent-%COMP%]   .file-gallery-properties-file-size-max-width[_ngcontent-%COMP%]{max-width:43px}.crt-gallery-item-content-wrap[_ngcontent-%COMP%]   .crt-gallery-item-info[_ngcontent-%COMP%]   .crt-gallery-item-properties-wrap[_ngcontent-%COMP%]   .file-gallery-properties-file-date-max-width[_ngcontent-%COMP%]{max-width:calc(100% - 43px)}"],changeDetection:0})}};VC=(0,u.__decorate)([(0,Qt.v)({type:"crt.FileGalleryItem",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector,Gi,au.k,NC.G])],VC);var i3;(function(r){r.List="list",r.Gallery="gallery"})(i3||(i3={}));function YN(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-placeholder",7),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("image",n.designerPlaceholderImage)}}function JN(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-data-grid",5),t.\u0275\u0275listener("columnsChange",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onColumnsChanged())})("selectionStateChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onSelectionStateChanged(i))})("sortingChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onSortingChanged(i))})("paginationChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onPaginationChanged(i))})("rowDoubleClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.rowDoubleClick.emit(i))})("saveItemsChanges",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onSaveItemsChanges())})("cancelItemsChanges",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onCancelItemsChanges(i))}),t.\u0275\u0275template(1,YN,1,1,"crt-placeholder",6),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("items",n.dataItems)("columns",n.columns)("primaryColumnName",n.primaryColumnName)("header",n.header)("rowToolbarItems",n.rowToolbarItems)("headerToolbarItems",n.headerToolbarItems)("selectionState",n.selectionState)("features",n.features)("sorting",n.sorting)("loading",n.masterRecordColumnValue&&n.loading)("ngClass",n.classes),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.masterRecordColumnValue)}}function XN(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-gallery",8),t.\u0275\u0275listener("paginationChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onPaginationChanged(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("items",n.dataItems)("itemConfig",n.galleryItemConfig)("selectable",!0)("loading",n.masterRecordColumnValue&&n.loading)}}function qN(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,JN,2,12,"crt-data-grid",3)(2,XN,1,4,"crt-gallery",4),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.viewType==="list"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.viewType==="gallery")}}function tV(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",9)(1,"div",10),t.\u0275\u0275element(2,"crt-placeholder",11),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementStart(5,"crt-button",12),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275listener("clicked",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onUploadClicked(i))}),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd()()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("image",n.runtimePlaceholderImage)("title",t.\u0275\u0275pipeBind1(3,5,"FileList.Placeholder.Title"))("subhead",t.\u0275\u0275pipeBind1(4,7,"FileList.Placeholder.Description")),t.\u0275\u0275advance(3),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(6,9,"FileList.Placeholder.Upload")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,11,"FileList.Placeholder.Upload"))}}let _i=class T0 extends We{constructor(){super(...arguments),this._subscriptions=new m.Subscription,this._defaultGalleryItemConfig={defaultImage:Pe.DEFAULT,componentClassFactory:()=>VC,itemKeyProperty:"fileId",defaultSize:ht.Z.Medium},this._fileListDefaultFeatures={editable:!1,itemsCreation:!1},this.designerPlaceholderImage={type:"icon",icon:"attachments",width:null,height:null,padding:null},this.runtimePlaceholderImage={type:"animation",name:"basketball",width:"100px",height:"100px"},this.viewType=i3.List,this.droppable=!1,this.uploadClicked=new t.EventEmitter,this.fileDropped=new t.EventEmitter}set items(e){this._subscriptions.unsubscribe(),this._subscriptions=new m.Subscription,this._subscriptions.add(e?.changed?.subscribe(()=>{this.dataItems=e,this.changeDetectorRef.markForCheck()})),this.dataItems=e,setTimeout(()=>{this.changeDetectorRef.markForCheck()},0)}set features(e){super.features=e}get features(){return{...super.features,...this._fileListDefaultFeatures}}set galleryItemConfig(e){this._galleryItemConfig=e}get galleryItemConfig(){return{...this._defaultGalleryItemConfig,actions:this.rowToolbarItems,...this._galleryItemConfig}}set masterRecordColumnValue(e){this._masterRecordColumnValue=e}get masterRecordColumnValue(){return this._masterRecordColumnValue}get showDropZonePlaceholder(){return!!(!this.dataItems?.length&&this.masterRecordColumnValue)&&!this.loading}onUploadClicked(e){this.uploadClicked.next(e)}onFileDropped(e){this.fileDropped.next(e)}onColumnsChanged(){return this.changeDetectorRef.detectChanges(),Promise.resolve()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(T0)))(a||T0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:T0,selectors:[["crt-file-list"]],inputs:{fileGroups:"fileGroups",viewType:"viewType",tag:"tag",droppable:"droppable",recordColumnName:"recordColumnName",items:"items",features:"features",galleryItemConfig:"galleryItemConfig",masterRecordColumnValue:"masterRecordColumnValue"},outputs:{uploadClicked:"uploadClicked",fileDropped:"fileDropped"},features:[t.\u0275\u0275ProvidersFeature([dc,Al]),t.\u0275\u0275InheritDefinitionFeature],decls:4,vars:7,consts:[["placeholder",""],[3,"fileDropped","dir","ngClass","showOverlay","multiple","disabled"],[4,"ngIf","ngIfElse"],["class","file-list",3,"items","columns","primaryColumnName","header","rowToolbarItems","headerToolbarItems","selectionState","features","sorting","loading","ngClass","columnsChange","selectionStateChange","sortingChange","paginationChange","rowDoubleClick","saveItemsChanges","cancelItemsChanges",4,"ngIf"],["class","file-list-gallery",3,"items","itemConfig","selectable","loading","paginationChange",4,"ngIf"],[1,"file-list",3,"columnsChange","selectionStateChange","sortingChange","paginationChange","rowDoubleClick","saveItemsChanges","cancelItemsChanges","items","columns","primaryColumnName","header","rowToolbarItems","headerToolbarItems","selectionState","features","sorting","loading","ngClass"],["skeleton","","title","","subhead","",3,"image",4,"ngIf"],["skeleton","","title","","subhead","",3,"image"],[1,"file-list-gallery",3,"paginationChange","items","itemConfig","selectable","loading"],[1,"file-list-placeholder-wrap"],[1,"file-list-placeholder"],[3,"image","title","subhead"],["size","large","icon","upload-button-icon","iconPosition","left-icon",1,"placeholder-button",3,"clicked","title"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-file-drop",1),t.\u0275\u0275listener("fileDropped",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onFileDropped(b))}),t.\u0275\u0275template(1,qN,3,2,"ng-container",2),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(2,tV,9,13,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)}if(n&2){const i=t.\u0275\u0275reference(3);t.\u0275\u0275property("dir",a.documentDirection)("ngClass",a.showDropZonePlaceholder&&a.droppable?"drop-placeholder":"")("showOverlay",!0)("multiple",!0)("disabled",!a.droppable),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!a.showDropZonePlaceholder||!a.droppable)("ngIfElse",i)}},dependencies:[Jt,_.NgClass,_.NgIf,We,xo,zi,me.Dir,sa,f.TranslatePipe],styles:["crt-file-drop[_ngcontent-%COMP%]{height:100%}crt-file-drop[_ngcontent-%COMP%]   .file-list-placeholder-wrap[_ngcontent-%COMP%]{padding:8px;width:100%;height:100%;align-items:center;border-radius:8px;border-style:dashed;border-width:1px}crt-file-drop[_ngcontent-%COMP%]   .file-list-placeholder-wrap[_ngcontent-%COMP%]   .file-list-placeholder[_ngcontent-%COMP%]{align-items:center;width:100%;height:100%;text-align:center;display:flex;flex-direction:column}crt-file-drop[_ngcontent-%COMP%]   .file-list-placeholder-wrap[_ngcontent-%COMP%]   .file-list-placeholder[_ngcontent-%COMP%]   crt-placeholder[_ngcontent-%COMP%]{margin-top:40px}crt-file-drop[_ngcontent-%COMP%]   .file-list-placeholder-wrap[_ngcontent-%COMP%]   .file-list-placeholder[_ngcontent-%COMP%]   .placeholder-button[_ngcontent-%COMP%]{margin-top:16px}crt-file-drop.file-over.drop-placeholder[_ngcontent-%COMP%]   .file-list-placeholder-wrap[_ngcontent-%COMP%]{border-width:1px;border-style:hidden}crt-file-drop.file-over.drop-placeholder[_ngcontent-%COMP%]   .file-list-placeholder-wrap[_ngcontent-%COMP%]   .file-list-placeholder[_ngcontent-%COMP%]{margin-top:1px}[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   crt-gallery.file-list-gallery[_ngcontent-%COMP%]:focus-visible{box-shadow:none;outline:1px solid var(--crt-palette-border-900)}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],_i.prototype,"fileGroups",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],_i.prototype,"viewType",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],_i.prototype,"tag",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],_i.prototype,"droppable",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],_i.prototype,"recordColumnName",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Ni.A),(0,u.__metadata)("design:paramtypes",[Ni.A])],_i.prototype,"items",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],_i.prototype,"features",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],_i.prototype,"galleryItemConfig",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],_i.prototype,"masterRecordColumnValue",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],_i.prototype,"uploadClicked",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],_i.prototype,"fileDropped",void 0),_i=(0,u.__decorate)([(0,Qt.v)({type:"crt.FileList",reuseStrategy:$t.B.Reuse,compatibleAPIs:{[q1.Filtration]:!0}}),(0,$e.f)({propertiesPanelComponentTypeName:"crt.FileListPropertiesPanel",designViewItemCommands:{copy:"crt.CopyFileListItemCommand",delete:"crt.RemoveCollectionViewItemCommand"},designControlConfig:{allowDesignContent:!0},viewElementGroupType:pn.J.Components,typeCaption:"Components.Attachment.Caption"})],_i);let Ul=class ov{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"attachments",icon:o(5959)},{name:"file-list-placeholder",icon:o(10702)}])}static{this.\u0275fac=function(n){return new(n||ov)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:ov})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[au.k,Gi,NC.G],imports:[re,_.CommonModule,Io,$i,Ne,Mn.U,Ur,vn,ra,_t.MatIconModule,Q.MatLegacyMenuModule,f.TranslateModule,kr,Ea,Br]})}};Ul=(0,u.__decorate)([(0,ie.g)({includes:[Io,$i],viewElements:[_i]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],Ul),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Ul,{declarations:[_i,VC],imports:[re,_.CommonModule,Io,$i,Ne,Mn.U,Ur,vn,ra,_t.MatIconModule,Q.MatLegacyMenuModule,f.TranslateModule,kr,Ea,Br],exports:[_i]})}();const eV=new t.InjectionToken("Represents the static height for the header."),nV=["*"];function aV(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",2),t.\u0275\u0275elementContainer(1,4),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("crtViewElement",n)}}let vh=class sv extends km.Mm{set title(e){this._value!==e&&(this._value=e,this._cdr.detectChanges())}get title(){return this._value}get isFixedHeight(){return this._fixedHeight}constructor(e,n){super(e),this.injector=e,this._fixedHeight=n,this._cdr=this.injector.get(t.ChangeDetectorRef)}static{this.\u0275fac=function(n){return new(n||sv)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(eV,8))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:sv,selectors:[["crt-header"]],inputs:{title:"title"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:nV,decls:6,vars:6,consts:[[1,"header-content",3,"ngClass","ngStyle"],["labelType","headline-1-small",3,"caption"],[1,"header-content-item"],["class","header-content-item",4,"ngFor","ngForOf"],[3,"crtViewElement"]],template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",0)(1,"div"),t.\u0275\u0275element(2,"crt-label",1),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",2),t.\u0275\u0275projection(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,aV,2,1,"div",3),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("ngClass",a.classes)("ngStyle",a.styles),t.\u0275\u0275advance(),t.\u0275\u0275classProp("fixed-height-header-caption-container",a.isFixedHeight),t.\u0275\u0275advance(),t.\u0275\u0275property("caption",a.title),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",a.items))},dependencies:[_.NgClass,_.NgForOf,_.NgStyle,hn],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:flex;flex-direction:column}.header-content[_ngcontent-%COMP%]{border-top:none;border-top-left-radius:0;border-top-right-radius:0;margin-bottom:6px}.header-content[_ngcontent-%COMP%]   .header-content-item[_ngcontent-%COMP%]{padding-top:8px;display:flex;flex-direction:row;justify-content:space-between;align-items:center}.header-content[_ngcontent-%COMP%]   .fixed-height-header-caption-container[_ngcontent-%COMP%]{padding-top:16px;min-height:42px}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],vh.prototype,"title",null),vh=(0,u.__decorate)([(0,Qt.v)({type:"crt.HeaderContainer",contentSlots:["items"],reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector,Boolean])],vh);let Hl=class cv{static{this.\u0275fac=function(n){return new(n||cv)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:cv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Ne]})}};Hl=(0,u.__decorate)([(0,ie.g)({viewElements:[vh]})],Hl),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Hl,{declarations:[vh],imports:[_.CommonModule,Ne],exports:[vh]})}();class _s{read(e){return new m.Observable(n=>{const a=new FileReader;a.onloadend=function(){var i=(0,bt.A)(function*(s){n.next({content:s.target?.result,file:e}),n.complete()});return function(s){return i.apply(this,arguments)}}(),a.readAsArrayBuffer(e)})}static{this.\u0275fac=function(n){return new(n||_s)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:_s,factory:_s.\u0275fac})}}const iV=["itemImportElement"],rV=r=>({"crt-input-required":r});function oV(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-base-input-width-holder",6),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("label",n.label)("minWidth",180)}}function sV(r,e){r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader")}function cV(r,e){r&1&&(t.\u0275\u0275element(0,"mat-icon",21),t.\u0275\u0275pipe(1,"translate")),r&2&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"FileInput.FileIcon"))}function lV(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-link",22),t.\u0275\u0275listener("clicked",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.downloadFile(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("href",n.fileUrl),t.\u0275\u0275propertyInterpolate("caption",n.fileDisplayValue)}}function dV(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",23),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.uploadFileClick(i))}),t.\u0275\u0275elementEnd()}r&2&&t.\u0275\u0275propertyInterpolate("matTooltip",t.\u0275\u0275pipeBind1(1,1,"FileInput.Attach"))}function pV(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",24),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.deleteFile(i))}),t.\u0275\u0275elementEnd()}r&2&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"FileInput.Delete"))}function uV(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",25),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.cancelUploading())}),t.\u0275\u0275elementEnd()}r&2&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"FileInput.Cancel"))}function mV(r,e){r&1&&(t.\u0275\u0275element(0,"mat-icon",26),t.\u0275\u0275pipe(1,"translate")),r&2&&t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,1,"Input.Readonly"))}function gV(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",27),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"mat-icon",28),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.errorMessages),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("matTooltip",n.errorMessages)}}function hV(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-progress-bar",29),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275propertyInterpolate("mode",n.progressMode),t.\u0275\u0275property("value",n.progressValue)}}function _V(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7)(1,"label",8),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(3,"mat-form-field",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275reference(6),s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(!s.readonly&&!s.file&&i.click())}),t.\u0275\u0275elementStart(4,"div",10)(5,"input",11,1),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.uploadFile(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,cV,2,3,"mat-icon",12)(8,lV,1,2,"crt-link",13),t.\u0275\u0275element(9,"input",14),t.\u0275\u0275template(10,dV,2,3,"mat-icon",15)(11,pV,2,3,"mat-icon",16)(12,uV,2,3,"mat-icon",17)(13,mV,2,3,"mat-icon",18)(14,gV,4,2,"ng-container",19),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(15,hV,1,2,"mat-progress-bar",20),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(22,rV,n.required))("for",n.inputId),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.label),t.\u0275\u0275advance(),t.\u0275\u0275classProp("crt-input-control-container--invalid",n.invalid),t.\u0275\u0275advance(2),t.\u0275\u0275property("accept",n.accept),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.file),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.fileUrl),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("ngClass",n.fileUrl?"hide":""),t.\u0275\u0275property("id",n.inputId)("value",n.fileDisplayValue)("readonly",!0)("autocomplete",n.autocomplete)("crtAriaRequired",n.required)("placeholder",n.placeholder),t.\u0275\u0275attribute("aria-label",n.ariaLabel||n.label),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.readonly&&!n.file),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.readonly&&n.file&&n.progressValue===0),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.readonly&&n.file&&n.progressValue>0),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.readonly),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.invalid),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.showProgress)}}let Hr=class lv extends ar.j{constructor(e,n,a){super(e,n),this._fileService=a,this.color="primary",this.showProgress=!1,this.progressValue=0,this.progressMode="determinate",this.upload=new t.EventEmitter,this.cancelUpload=new t.EventEmitter,this.delete=new t.EventEmitter,this.download=new t.EventEmitter,this.preview=new t.EventEmitter,this._translateService=e.get(f.TranslateService),this._notifyService=this.injector.get(_o.F)}get importNativeElement(){return this.itemImportElementRef.nativeElement}get file(){return this.control?.value||null}get fileUrl(){return this.file?`0/Rest/FileService/GetFile/70EC5D9F-A55E-4F5C-8F59-30D2C5149C4A/${this.file.value}`:null}get fileDisplayValue(){return this._fileDisplayValue}get maxFileSizeValue(){return Number(this.maxFileSize*1024*1024)}_validateFileSize(e){return!this.maxFileSize||this.maxFileSizeValue>=e}ngOnInit(){super.ngOnInit(),this.control.valueChanges.subscribe(e=>{const n=e;if(n){this._fileDisplayValue=n.displayValue||this._translateService.instant("FileInput.EmptyFileName");return}this._fileDisplayValue=null}),this.progress$=new m.Subject,this.progress$.subscribe(e=>{this.progressValue=e,this.showProgress=e!==100})}ngOnDestroy(){this.progress$.complete()}clearValue(){this.control.setValue(null)}uploadFile(e){const a=e.target.files[0];if(!this._validateFileSize(a.size)){const s=this._translateService.instant("FileInput.MaxFileSizeLimitReached"),b=jt.String.Format(s,this.maxFileSize);this._notifyService.error({message:b});return}this.showProgress=!0;const i=(0,de.qv)();this.control.setValue({value:i,displayValue:a.name}),this.progressValue=1,this._fileService.read(a).subscribe(s=>{const b={...s,id:i,progress:this.progress$};this.progressValue=5,this.upload.emit({detail:{file:b}})})}uploadFileClick(e){e.stopPropagation(),this.importNativeElement.click()}downloadFile(e){this.download.emit({detail:{file:this.file}})}cancelUploading(){this.progressValue=0,this.file.entitySchemaUid="E9EAFEE9-C4E4-4793-AD0A-003BD2C6A9B4",this.file.value="491A4FB1-5709-41BE-AA48-1D1F8CD3BF8E",this.file.url=`http://localhost:888/0/Rest/FileService/GetFile/${this.file.entitySchemaUid}/${this.file.value}`,this.cancelUpload.emit()}deleteFile(e){e.stopPropagation(),this.delete.emit(),this.clearValue()}static{this.\u0275fac=function(n){return new(n||lv)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(_s))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:lv,selectors:[["crt-file-input"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(iV,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.itemImportElementRef=i.first)}},inputs:{accept:"accept",maxFileSize:"maxFileSize"},outputs:{upload:"upload",cancelUpload:"cancelUpload",delete:"delete",download:"download",preview:"preview"},features:[t.\u0275\u0275ProvidersFeature([Oi.I,_s]),t.\u0275\u0275InheritDefinitionFeature],decls:6,vars:5,consts:[["input",""],["itemImportElement",""],[3,"label","minWidth",4,"ngIf"],[1,"crt-base-input-container"],["crtResizable","","tabindex","0",1,"crt-input",3,"resized","ngClass","crtResizableDisabled"],[4,"ngIf","ngIfElse"],[3,"label","minWidth"],[1,"crt-input-label-container"],[1,"crt-input-label",3,"ngClass","for"],["floatLabel","never",1,"crt-input-control-container","hidden-focus",3,"click"],[1,"crt-input-control"],["type","file",2,"display","none",3,"change","accept"],["matSuffix","","svgIcon","default-file-icon","aria-hidden","false","role","button","class","default-icon",3,"matTooltip",4,"ngIf"],["underlining","hover","mode","preventDefault",3,"href","caption","clicked",4,"ngIf"],["matInput","",3,"ngClass","id","value","readonly","autocomplete","crtAriaRequired","placeholder"],["matSuffix","","svgIcon","file-input-attach","aria-hidden","false","role","button","class","file-input-expander",3,"matTooltip","click",4,"ngIf"],["matSuffix","","svgIcon","file-input-delete","aria-hidden","false","role","button","class","file-input-expander",3,"matTooltip","click",4,"ngIf"],["matSuffix","","svgIcon","file-input-cancel-upload","aria-hidden","false","role","button","class","file-input-expander",3,"matTooltip","click",4,"ngIf"],["matSuffix","","svgIcon","lock","class","readonly-icon",3,"matTooltip",4,"ngIf"],[4,"ngIf"],["class","file-input-progress-bar",3,"mode","value",4,"ngIf"],["matSuffix","","svgIcon","default-file-icon","aria-hidden","false","role","button",1,"default-icon",3,"matTooltip"],["underlining","hover","mode","preventDefault",3,"clicked","href","caption"],["matSuffix","","svgIcon","file-input-attach","aria-hidden","false","role","button",1,"file-input-expander",3,"click","matTooltip"],["matSuffix","","svgIcon","file-input-delete","aria-hidden","false","role","button",1,"file-input-expander",3,"click","matTooltip"],["matSuffix","","svgIcon","file-input-cancel-upload","aria-hidden","false","role","button",1,"file-input-expander",3,"click","matTooltip"],["matSuffix","","svgIcon","lock",1,"readonly-icon",3,"matTooltip"],[1,"cdk-visually-hidden"],["matSuffix","","svgIcon","info-icon","matTooltipPosition","after","matTooltipClass","crt-input-error-tooltip","aria-hidden","false","role","button",1,"invalid-icon",3,"matTooltip"],[1,"file-input-progress-bar",3,"mode","value"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275template(0,oV,1,2,"crt-base-input-width-holder",2),t.\u0275\u0275elementStart(1,"div",3)(2,"div",4),t.\u0275\u0275listener("resized",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onResized(b))}),t.\u0275\u0275template(3,sV,1,0,"crt-skeleton-loader",5)(4,_V,16,24,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(n&2){const i=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngIf",a.displayLabelPosition==="auto"),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("ngClass","label-position-"+a.displayLabelPosition),t.\u0275\u0275property("crtResizableDisabled",!a.isAutoLabelPosition||a.containerQueryMechanismAvailable),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loaderVisible)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgIf,q.MatLegacyFormField,q.MatLegacySuffix,lt.MatLegacyInput,_t.MatIcon,Le.C,dn.MatTooltip,yn.W,Rd.k,Hs.MatProgressBar,ul.h,Mr.q,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{max-width:100%}.crt-base-edit-input-responsible[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{container-type:inline-size}@container (width <= 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}}@container (width > 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{width:0;min-width:0;margin:0}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{height:0;color:transparent}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]   .inner-tools-panel[_ngcontent-%COMP%]{opacity:1;display:inline-flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]:not(:hover)   .readonly-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;padding-inline-end:2px}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   textarea.mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;align-items:center;padding-inline-end:2px}",".crt-input-control[_ngcontent-%COMP%]{cursor:pointer}.crt-input-control[_ngcontent-%COMP%]   .file-input-expander[_ngcontent-%COMP%]{cursor:pointer;opacity:0}.crt-input-control[_ngcontent-%COMP%]:hover   .file-input-expander[_ngcontent-%COMP%]{opacity:1}.crt-input-control[_ngcontent-%COMP%]   .default-icon[_ngcontent-%COMP%]{margin:0 2px 2px 0}.file-input-progress-bar[_ngcontent-%COMP%]{bottom:0;position:absolute;height:1px}crt-link[_ngcontent-%COMP%]{display:inline-block;width:85%;max-width:100%;pointer-events:auto}.crt-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.crt-input-control-container.mat-form-field[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]   input.mat-input-element.hide[_ngcontent-%COMP%]{opacity:0}  .hidden-focus .mat-form-field-ripple{background-color:transparent!important}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",jt.String)],Hr.prototype,"accept",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Number)],Hr.prototype,"maxFileSize",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Hr.prototype,"upload",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Hr.prototype,"cancelUpload",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Hr.prototype,"delete",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Hr.prototype,"download",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Hr.prototype,"preview",void 0),Hr=(0,u.__decorate)([(0,Qt.v)({type:"crt.FileInput",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{requiredFeatures:{ShowDesignerDemoItems:!0},position:70,icon:o(74262),defaultPropertyValues:{label:"",control:"",accept:"",readonly:!1,placeholder:"",labelPosition:"auto"},defaultLocalizableStrings:{label:"Components.FileInput.LabelCaption",placeholder:"Components.FileInput.Placeholder"}},dataValueTypes:[X.r.Blob,X.r.FILE,X.r.Image,X.r.IMAGELOOKUP],propertiesPanelComponentTypeName:"crt.FileInputPropertiesPanelComponent",viewElementGroupType:pn.J.Inputs,typeCaption:"Components.FileInput.Caption"}),(0,u.__metadata)("design:paramtypes",[t.Injector,t.ChangeDetectorRef,_s])],Hr);let Wl=class dv{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"file-input-attach",icon:o(39416)},{name:"default-file-icon",icon:o(92101)},{name:"file-input-delete",icon:o(59047)},{name:"file-input-cancel-upload",icon:o(66537)}])}static{this.\u0275fac=function(n){return new(n||dv)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:dv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,_t.MatIconModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,dn.MatTooltipModule,fe.q,Je.V,_e.S,Hs.MatProgressBarModule,Te.c,Mn.U,Rn.N,f.TranslateModule]})}};Wl=(0,u.__decorate)([(0,ie.g)({viewElements:[Hr]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],Wl),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Wl,{declarations:[Hr],imports:[_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,_t.MatIconModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,Le.C,dn.MatTooltipModule,fe.q,Je.V,_e.S,Hs.MatProgressBarModule,Te.c,Mn.U,Rn.N,f.TranslateModule],exports:[Hr]})}();const fV=r=>({"crt-input-required":r}),bV=r=>({"password-icon":!0,"opacity-icon":r});function CV(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-base-input-width-holder",7),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("label",n.label)("minWidth",180)}}function yV(r,e){r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader")}function vV(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"input",14,2),t.\u0275\u0275listener("blur",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onBlur())})("focus",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onFocus())})("keyup",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onKeyUp(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("type",n.hiddenPassword?"password":"text")("id",n.inputId)("formControl",n.control)("value",n.control==null?null:n.control.value)("readonly",n.readonly)("autocomplete",n.autocomplete)("placeholder",n.placeholder)("crtAriaRequired",n.required),t.\u0275\u0275attribute("aria-label",n.ariaLabel||n.label)}}function MV(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"span",15),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"crt-icon-tooltip",16),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.errorMessages),t.\u0275\u0275advance(),t.\u0275\u0275property("tooltip",n.errors)("ariaLabel",n.label)}}function IV(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-icon-tooltip",18),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("tooltip",n.tooltip)("ariaLabel",n.label)}}function xV(r,e){if(r&1&&t.\u0275\u0275template(0,IV,1,2,"crt-icon-tooltip",17),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",n.getTooltipIconVisibility())}}function SV(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",8)(1,"label",9),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(3,"mat-form-field",10)(4,"div",11),t.\u0275\u0275template(5,vV,2,9,"input",12),t.\u0275\u0275elementStart(6,"mat-icon",13),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275listener("mousedown",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.switchPasswordMask())})("keyup.enter",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.hiddenPassword=!i.hiddenPassword)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(8,MV,4,3,"ng-container",6)(9,xV,1,1,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275reference(10),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,fV,a.isShownRequiredMark))("for",a.inputId),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a.label),t.\u0275\u0275advance(),t.\u0275\u0275classProp("crt-input-control-container--invalid",a.invalid),t.\u0275\u0275property("appearance",a.appearance)("ngClass","label-position-"+a.displayLabelPosition),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.multiline),t.\u0275\u0275advance(),t.\u0275\u0275property("svgIcon",a.hiddenPassword?"eye":"eye-blue")("ngClass",t.\u0275\u0275pureFunction1(18,bV,a.hiddenPassword))("crtTooltip",t.\u0275\u0275pipeBind1(7,14,a.hiddenPassword?"Input.ShowPassword":"Input.HidePassword")),t.\u0275\u0275attribute("aria-hidden",!1),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.invalid)("ngIfElse",n)}}let Mh=class pv extends ar.j{constructor(e,n){super(e,n),this.hiddenPassword=!0}switchPasswordMask(){this.hiddenPassword=!this.hiddenPassword,this.textInput.nativeElement.blur()}getTooltipIconVisibility(){return this.validations&&this.validations.every(e=>e.valid===null)&&this.control.touched}static{this.\u0275fac=function(n){return new(n||pv)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:pv,selectors:[["crt-password-input"]],inputs:{validations:"validations"},features:[t.\u0275\u0275ProvidersFeature([Oi.I]),t.\u0275\u0275InheritDefinitionFeature],decls:6,vars:4,consts:[["input",""],["tooltipIcon",""],["textinput",""],[3,"label","minWidth",4,"ngIf"],[1,"crt-base-input-container"],[1,"crt-input","crt-password-input",3,"ngClass"],[4,"ngIf","ngIfElse"],[3,"label","minWidth"],[1,"crt-input-label-container","crt-password-input-label-container"],[1,"crt-input-label","crt-password-input-label",3,"ngClass","for"],["floatLabel","never",1,"crt-input-control-container","crt-password-input-control-container",3,"appearance","ngClass"],[1,"crt-input-control","crt-password-input-control"],["matInput","",3,"type","id","formControl","value","readonly","autocomplete","placeholder","crtAriaRequired","blur","focus","keyup",4,"ngIf"],["matSuffix","","role","button","tabindex","0",1,"eye-icon","inner-icon","crt-input-icon",3,"mousedown","keyup.enter","svgIcon","ngClass","crtTooltip"],["matInput","",3,"blur","focus","keyup","type","id","formControl","value","readonly","autocomplete","placeholder","crtAriaRequired"],[1,"cdk-visually-hidden"],["type","error",3,"tooltip","ariaLabel"],[3,"tooltip","ariaLabel",4,"ngIf"],[3,"tooltip","ariaLabel"]],template:function(n,a){if(n&1&&(t.\u0275\u0275template(0,CV,1,2,"crt-base-input-width-holder",3),t.\u0275\u0275elementStart(1,"div",4)(2,"div",5),t.\u0275\u0275template(3,yV,1,0,"crt-skeleton-loader",6)(4,SV,11,20,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()),n&2){const i=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngIf",a.displayLabelPosition==="auto"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass","label-position-"+a.displayLabelPosition+" appearance-"+a.appearance),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loaderVisible)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgIf,O.DefaultValueAccessor,O.NgControlStatus,q.MatLegacyFormField,q.MatLegacySuffix,lt.MatLegacyInput,_t.MatIcon,O.FormControlDirective,yn.W,Rd.k,na.d,Hc.b,Mr.q,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{max-width:100%}.crt-base-edit-input-responsible[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{container-type:inline-size}@container (width <= 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}}@container (width > 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{width:0;min-width:0;margin:0}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{height:0;color:transparent}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]   .inner-tools-panel[_ngcontent-%COMP%]{opacity:1;display:inline-flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]:not(:hover)   .readonly-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;padding-inline-end:2px}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   textarea.mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;align-items:center;padding-inline-end:2px}",".eye-icon[_ngcontent-%COMP%]{margin-right:8px}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],Mh.prototype,"validations",void 0),Mh=(0,u.__decorate)([(0,Qt.v)({type:"crt.PasswordInput",formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector,t.ChangeDetectorRef])],Mh);let Gl=class uv{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"eye",icon:o(28258)},{name:"eye-blue",icon:o(21371)}])}static{this.\u0275fac=function(n){return new(n||uv)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:uv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,_t.MatIconModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,dn.MatTooltipModule,fe.q,Je.V,_e.S,Rn.N,f.TranslateModule]})}};Gl=(0,u.__decorate)([(0,ie.g)({viewElements:[Mh]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],Gl),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Gl,{declarations:[Mh],imports:[_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,_t.MatIconModule,q.MatLegacyFormFieldModule,O.ReactiveFormsModule,Le.C,dn.MatTooltipModule,fe.q,Je.V,_e.S,Rn.N,f.TranslateModule],exports:[Mh]})}();class Ih{constructor(e){this._httpClient=e,this._getAdjustmentRuleMethod="/rest/TimezoneService/GetAdjustmentRuleById",this._adjustmentRulesCacheItemName="AdjustmentRules",this.instanceCache=new Map}getAdjustmentRule(e){const n=this.instanceCache.get(this._adjustmentRulesCacheItemName)||{};return(0,y.isEmpty)(n[e])?this._httpClient.post(this._getAdjustmentRuleMethod,{timezoneId:e}).pipe((0,h.map)(a=>{const i=JSON.parse(a.GetAdjustmentRuleByIdResult),s={timezoneOffsetInMinutes:i.timezoneOffsetInMinutes,daylightDeltaInMinutes:i.daylightDeltaInMinutes,transitionStart:cm()(i.transitionStart).toDate(),transitionEnd:cm()(i.transitionEnd).toDate()};return n[e]=s,this.instanceCache.set(this._adjustmentRulesCacheItemName,n),s})):(0,m.of)(n[e])}static{this.\u0275fac=function(n){return new(n||Ih)(t.\u0275\u0275inject(l.HttpClient))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ih,factory:Ih.\u0275fac})}}const wV=["*"];function EV(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",3),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("styles",n.skeletonStyles)}}function TV(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function PV(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"h1",8),t.\u0275\u0275template(1,TV,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function OV(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function DV(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"h2",8),t.\u0275\u0275template(1,OV,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function AV(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function LV(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"h3",8),t.\u0275\u0275template(1,AV,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function kV(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function RV(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"h4",8),t.\u0275\u0275template(1,kV,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function NV(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275text(1),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.caption)}}function VV(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"label",8),t.\u0275\u0275template(1,NV,2,1,"ng-container",9),t.\u0275\u0275elementEnd()),r&2){t.\u0275\u0275nextContext();const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275classMap(a.labelTypeClass),t.\u0275\u0275styleProp("font-size",a.labelFontSize)("font-family",a.labelFontFamily)("height",a.labelHeight)("line-height",a.labelLineHeight)("letter-spacing",a.labelLetterSpacing)("color",a.labelColor),t.\u0275\u0275classProp("ellipsis",a.labelEllipsis),t.\u0275\u0275property("ngStyle",a.labelStyle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.caption)("ngIfElse",n)}}function FV(r,e){r&1&&t.\u0275\u0275projection(0)}function jV(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",4),t.\u0275\u0275elementContainerStart(1,5),t.\u0275\u0275template(2,PV,2,18,"h1",6)(3,DV,2,18,"h2",6)(4,LV,2,18,"h3",6)(5,RV,2,18,"h4",6)(6,VV,2,20,"label",7)(7,FV,1,0,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275classMap("crt-label "+n.labelThickness),t.\u0275\u0275styleProp("color",n.labelColor)("background-color",n.labelBackgroundColor)("text-align",n.labelTextAlign)("align-content",n.labelTextAlign)("justify-content",n.labelTextAlign)("margin",n.labelMargin)("text-transform",n.labelTextTransform),t.\u0275\u0275property("tooltipConfig",n.getTooltip()),t.\u0275\u0275attribute("required",n.required),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitch",n.headingLevel),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","h1"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","h2"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","h3"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase","h4")}}let xh=class mv extends hn{constructor(e){super(e),this._adjustmentRuleService=e.get(Ih),this._isDesignTime=e.get(Im.w,!1);const n=e.get(Ze.oq);this._culture=n?.cultureInfo?.sysCultureName}set control(e){this._isDesignTime?this._setDesignTimeCaption():this._setRunTimeCaption(e)}_setRunTimeCaption(e){const n=e;n?(this._tooltip=n.displayValue,this._adjustmentRuleService.getAdjustmentRule(n.value).subscribe(a=>{const i=this._getUtcDate(),s=this._getDateByOffset(i,a);this.caption=s.toLocaleTimeString(this._culture,{timeStyle:"short"}),this.changeDetectorRef.detectChanges()})):(this.caption="",this.changeDetectorRef.detectChanges())}_setDesignTimeCaption(){this.caption=new Date().toLocaleTimeString([],{timeStyle:"short"})}_getDateByOffset(e,n){let a=this._getToUtcOffset(e,n);return a=a*-1,this._setOffset(e,a)}_getUtcDate(){const e=new Date;return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}_getToUtcOffset(e,n){const a=n.daylightDeltaInMinutes;let i=n.timezoneOffsetInMinutes;return this._isDateInDSTPeriod(e,n)&&(i+=a),i=i*-1,i}_isDateInDSTPeriod(e,n){if(n.daylightDeltaInMinutes===0)return!1;const i=n.transitionStart,s=n.transitionEnd;return i<s?e>i&&e<s:!(e>s&&e<i)}_setOffset(e,n){return new Date(e.getTime()+n*6e4)}getTooltip(){return new Bo.I({tooltipConfig:{value:this._tooltip},preferredPositions:[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}],panelClass:["base-tooltip"],componentType:ll.x})}static{this.\u0275fac=function(n){return new(n||mv)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:mv,selectors:[["crt-local-time"]],inputs:{control:"control"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:wV,decls:3,vars:2,consts:[["label_template",""],["content",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],["crtTooltip","",3,"tooltipConfig"],[3,"ngSwitch"],[3,"class","ellipsis","font-size","font-family","height","line-height","letter-spacing","ngStyle",4,"ngSwitchCase"],[3,"class","ellipsis","font-size","font-family","height","line-height","letter-spacing","ngStyle","color",4,"ngSwitchDefault"],[3,"ngStyle"],[4,"ngIf","ngIfElse"]],template:function(n,a){if(n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275template(0,EV,1,1,"crt-skeleton-loader",2)(1,jV,9,24,"ng-template",null,0,t.\u0275\u0275templateRefExtractor)),n&2){const i=t.\u0275\u0275reference(2);t.\u0275\u0275property("ngIf",a.loading)("ngIfElse",i)}},dependencies:[yn.W,na.d,_.NgIf,_.NgStyle,_.NgSwitch,_.NgSwitchCase,_.NgSwitchDefault],styles:[`@charset "UTF-8";:host{display:block}.crt-label.light>*{font-weight:300}.crt-label.normal>*{font-weight:400}.crt-label.semibold>*{font-weight:600}.crt-label.bold>*{font-weight:700}.crt-label.default{font-weight:unset}.crt-label h1,.crt-label h2,.crt-label h3,.crt-label h4,.crt-label label{margin:0}.crt-label .ellipsis{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:block}.crt-label:first-child[required]{display:flex}.crt-label:first-child[required]:after{content:"\\a0*"}
`],encapsulation:2})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],xh.prototype,"control",null),xh=(0,u.__decorate)([(0,Qt.v)({type:"crt.LocalTime",reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:240,icon:o(44982),defaultPropertyValues:{labelType:"body",labelThickness:"normal",labelEllipsis:!1,labelColor:"#098401",labelBackgroundColor:"transparent",labelTextAlign:"start"},defaultLocalizableStrings:{caption:"DataValueType.LocalTimeCaption",label:"DataValueType.LocalTimeCaption"}},propertiesPanelComponentTypeName:"crt.LocalTimePropertiesPanel",viewElementGroupType:pn.J.Components,typeCaption:"DataValueType.LocalTimeCaption",dataValueTypes:[X.r.Lookup],referenceSchemaNames:["TimeZone"],placeholderSize:{height:"20px"}}),(0,u.__metadata)("design:paramtypes",[t.Injector])],xh);let $l=class gv{static{this.\u0275fac=function(n){return new(n||gv)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:gv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[Ih],imports:[fe.q,_e.S,_.CommonModule,Bi,Ea,f.TranslateModule]})}};$l=(0,u.__decorate)([(0,ie.g)({viewElements:[xh]})],$l),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope($l,{declarations:[xh],imports:[fe.q,_e.S,_.CommonModule,Bi,Ea,f.TranslateModule],exports:[xh]})}();var Ta;(function(r){r.LightGreen="#A6DE00",r.Green="#20A959",r.DarkGreen="#22AC14",r.Orange="#FFAC07",r.OrangeRed="#FF8800",r.Coral="#F9307F",r.BrightRed="#FF602E",r.Red="#FF4013",r.Purple="#B87CCF",r.Violet="#7848EE",r.CelestialBlue="#247EE5",r.Blue="#0058EF",r.LightBlue="#009DE3",r.NavyBlue="#4F43C2",r.DarkTurquoise="#08857E",r.Turquoise="#00BFA5",r.BurntCoral="#BE1B5A",r.CadmiumRed="#E00022",r.ForestGreen="#0B6A32",r.SteelBlue="#1566B9",r.VividPurple="#9641A9",r.RustyOrange="#F86700",r.DarkBlue="#0D2E4E"})(Ta||(Ta={}));var KM;(function(r){r.LightGreen="#7DA112",r.Green="#008537",r.DarkGreen="#0B8500",r.Orange="#EF6F00",r.OrangeRed="#DB3C00",r.Coral="#C2185B",r.BrightRed="#DC3A00",r.Red="#DB2D00",r.Purple="#A400AA",r.Violet="#512DA8",r.CelestialBlue="#0058EF",r.Blue="#014BCB",r.LightBlue="#0073EA",r.NavyBlue="#28216B",r.DarkTurquoise="#00665C",r.Turquoise="#118574",r.BurntCoral="#A10E47",r.CadmiumRed="#B8001C",r.ForestGreen="#0A592A",r.SteelBlue="#145597",r.VividPurple="#7B2D8D",r.RustyOrange="#9C3305",r.DarkBlue="#071D35"})(KM||(KM={}));const BV={LightGreen:Ta.LightGreen,Green:Ta.Green,DarkGreen:Ta.DarkGreen,Orange:Ta.Orange,OrangeRed:Ta.OrangeRed,Coral:Ta.Coral,BrightRed:Ta.BrightRed,Red:Ta.Red,Purple:Ta.Purple,Violet:Ta.Violet,CelestialBlue:Ta.CelestialBlue,Blue:Ta.Blue,LightBlue:Ta.LightBlue,NavyBlue:Ta.NavyBlue,DarkTurquoise:Ta.DarkTurquoise,Turquoise:Ta.Turquoise},zV={LightGreen:"#71CD1A",Green:"#00C853",BrightRed:"#D32F2F",CelestialBlue:"#0091EA",LightBlue:"#1F97DB",DarkTurquoise:"#009688"},UV=r=>{if(r){const e=[...Object.entries(BV),...Object.entries(zV)].find(([,n])=>r.toUpperCase()===n.toUpperCase());return e?(0,y.camelCase)(e[0]):"defaultBackgroundImageColor"}return"defaultBackgroundImageColor"};function HV(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",6)(1,"p"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("@collapseCaption",void 0)("tsDataItemMarker",n.panelItem.caption+"-Caption"),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.panelItem.caption)}}function WV(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-link",2),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.clicked())}),t.\u0275\u0275elementStart(1,"div",3),t.\u0275\u0275element(2,"mat-icon",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,HV,3,3,"div",5),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("collapsed",n.isCollapsed)("navigation-panel-item-wrapper-selected",n.panelItem.selected),t.\u0275\u0275property("href",n.panelItem.url)("tsDataItemMarker",n.panelItem.caption)("title",n.isCollapsed?n.panelItem.caption:"")("mode","preventDefault")("ariaLabel",n.panelItem.caption),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",n.iconBackgroundClass)("tsDataItemMarker",n.panelItem.caption+"-Icon"),t.\u0275\u0275advance(),t.\u0275\u0275property("svgIcon",n.panelItem.code)("ngClass",n.iconClass),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.isCollapsed)}}function GV(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",6)(1,"p"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("@collapseCaption",void 0)("tsDataItemMarker",n.panelItem.caption+"-Caption"),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.panelItem.caption)}}function $V(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",7),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.clicked())}),t.\u0275\u0275elementStart(1,"div",3),t.\u0275\u0275element(2,"mat-icon",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,GV,3,3,"div",5),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("collapsed",n.isCollapsed)("navigation-item-wrapper-selected",n.panelItem.selected),t.\u0275\u0275property("tsDataItemMarker",n.panelItem.caption)("title",n.isCollapsed?n.panelItem.caption:""),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",n.iconBackgroundClass)("tsDataItemMarker",n.panelItem.caption+"-Icon"),t.\u0275\u0275advance(),t.\u0275\u0275property("svgIcon",n.panelItem.code)("ngClass",n.iconClass),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.isCollapsed)}}let fs=class hv extends ue.K{set usePanelIconBackground(e){this.iconBackgroundClass=this._setIconBackgroundColorGradient(e),this.iconClass=this._setIconClass(e)}constructor(e,n,a){super(e),this._sanitizer=n,this._matIconRegistry=a,this.selected=new t.EventEmitter}_registerIcon(){const e=this._sanitizer.bypassSecurityTrustResourceUrl(this.panelItem.iconUrl);this._matIconRegistry.addSvgIcon(this.panelItem.code,e)}_setIconBackgroundColorGradient(e){if(e)return UV(this.panelItem.iconBackgroundColor)}_setIconClass(e){return e?"frame-icon":"no-frame-icon"}ngOnInit(){this._registerIcon()}clicked(){this.selected.emit(this.panelItem)}static{this.\u0275fac=function(n){return new(n||hv)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(p.DomSanitizer),t.\u0275\u0275directiveInject(_t.MatIconRegistry))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:hv,selectors:[["crt-navigation-panel-item"]],inputs:{isCollapsed:"isCollapsed",panelItem:"panelItem",usePanelIconBackground:"usePanelIconBackground",openItemAsLink:"openItemAsLink"},outputs:{selected:"selected"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:2,consts:[["class","navigation-panel-item-link-wrapper","underlining","never",3,"href","collapsed","navigation-panel-item-wrapper-selected","tsDataItemMarker","title","mode","ariaLabel","clicked",4,"ngIf"],["class","navigation-panel-item-general-wrapper",3,"collapsed","navigation-item-wrapper-selected","tsDataItemMarker","title","click",4,"ngIf"],["underlining","never",1,"navigation-panel-item-link-wrapper",3,"clicked","href","tsDataItemMarker","title","mode","ariaLabel"],[1,"navigation-item-icon-wrapper",3,"ngClass","tsDataItemMarker"],[3,"svgIcon","ngClass"],["class","navigation-item-caption-wrapper",3,"tsDataItemMarker",4,"ngIf"],[1,"navigation-item-caption-wrapper",3,"tsDataItemMarker"],[1,"navigation-panel-item-general-wrapper",3,"click","tsDataItemMarker","title"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,WV,4,14,"crt-link",0)(1,$V,4,11,"div",1),n&2&&(t.\u0275\u0275property("ngIf",a.openItemAsLink),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!a.openItemAsLink))},dependencies:[_.NgClass,_.NgIf,_t.MatIcon,Hn,ul.h],encapsulation:2,data:{animation:[(0,Qe.trigger)("collapseCaption",[(0,Qe.transition)(":enter",[(0,Qe.style)({opacity:0}),(0,Qe.animate)("0.5s ease-out",(0,Qe.style)({opacity:1}))]),(0,Qe.transition)(":leave",[(0,Qe.style)({opacity:1}),(0,Qe.animate)("0.5s ease-in",(0,Qe.style)({opacity:0}))])])]}})}};(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],fs.prototype,"selected",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],fs.prototype,"isCollapsed",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],fs.prototype,"panelItem",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],fs.prototype,"usePanelIconBackground",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],fs.prototype,"openItemAsLink",void 0),fs=(0,u.__decorate)([(0,Qt.v)({type:"crt.NavigationPanelItem",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector,p.DomSanitizer,_t.MatIconRegistry])],fs);const KV=["emptyPlaceholderItemsWrapper"],ZV=["navigationBodyWrapper"],QV=()=>["loading-long","loading-short","loading-medium"];function YV(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",14),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("collapsed",n.isCollapsedPanel)}}function JV(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",15)(1,"crt-search-filter",16),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("valueChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onFilterValueChange(i))}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(2,3,"NavigationPanel.SearchFilter.PlaceholderCaption"))("instant",!0)("value",n.searchValue)}}function XV(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader",14),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("collapsed",n.isCollapsedPanel)}}function qV(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-button",19),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("menuItems",n.panelGroupItems)("caption",n.isCollapsedPanel?"":n.selectedGroupCaption)("title",n.isCollapsedPanel?n.groupButtonTittle:"")("iconPosition",n.isCollapsedPanel?n.iconPositionEnum.OnlyIcon:n.iconPositionEnum.RightIcon)("icon",n.isCollapsedPanel?"all-apps-icon":"")("iconSize",n.sizeEnum.ExtraLarge)("textTransform","capitalize")("clickMode","menu")("disableRipple",!0)("useGlassmorphism",!0)("ariaLabel",n.groupButtonAriaLabel)}}function tF(r,e){r&1&&(t.\u0275\u0275elementStart(0,"crt-label",20),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"NavigationPanel.SearchResultsCaption"),""))}function eF(r,e){if(r&1&&t.\u0275\u0275template(0,qV,1,11,"crt-button",17)(1,tF,3,3,"crt-label",18),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",!n.isSearchPerforming),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isSearchPerforming)}}function nF(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275element(1,"crt-skeleton-loader",22),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275classProp("collapsed",a.isCollapsedPanel),t.\u0275\u0275property("ngClass","panel-item-loading "+n)}}function aF(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275template(1,nF,2,3,"div",21),t.\u0275\u0275elementEnd()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pureFunction0(1,QV)))}function iF(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-navigation-panel-item",26),t.\u0275\u0275listener("selected",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onSelectedItem(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("panelItem",n)("isCollapsed",a.isCollapsedPanel)("usePanelIconBackground",a.usePanelIconBackground)("openItemAsLink",a.openItemAsLink)}}function rF(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275element(1,"div",31),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275advance(),t.\u0275\u0275property("innerHtml",a.getEmptyItemsPlaceHolderText(n.htmlText),t.\u0275\u0275sanitizeHtml)("ngClass",n.classes?n.classes:"")}}function oF(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",30,4),t.\u0275\u0275template(2,rF,2,2,"div",21),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("tsDataItemMarker","navigation-panel-empty-items-message"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",n.emptyItemsPlaceholderConfig)}}function sF(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",27)(1,"crt-placeholder",28),t.\u0275\u0275template(2,oF,3,2,"div",29),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("image",n.animationImage)("title","")("subhead","")("tsDataItemMarker","navigation-panel-empty-items-placeholder"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.emptyItemsPlaceholderConfig)}}function cF(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",32),t.\u0275\u0275element(1,"crt-placeholder",33),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("image",n.emptySearchResultPlaceholderImage)("title",t.\u0275\u0275pipeBind1(2,4,"NavigationPanel.EmptySearchResult.Title"))("subhead",t.\u0275\u0275pipeBind1(3,6,"NavigationPanel.EmptySearchResult.Subhead"))("tsDataItemMarker","navigation-panel-empty-search-result")}}function lF(r,e){if(r&1&&t.\u0275\u0275template(0,iF,1,4,"crt-navigation-panel-item",23)(1,sF,3,5,"div",24)(2,cF,4,8,"div",25),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngForOf",n.navPanelItems),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.navPanelItems.length&&!n.isCollapsedPanel&&!n.isSearchPerforming),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.navPanelItems.length&&!n.isCollapsedPanel&&n.isSearchPerforming)}}let ca=class _v extends ue.K{get navPanelItems(){return this._navPanelItems}set navPanelItems(e){this._navPanelItems=e}get searchValue(){return this._searchValue$.value}set searchValue(e){e!==this._searchValue$.value&&(this.isSearchPerforming=!!e,this._searchValue$.next(e??""),this._applySearchFilter())}get groupButtonTittle(){return this.collapsedGroupTooltipPrefix+this.selectedGroupCaption}get groupButtonAriaLabel(){return this.isCollapsedPanel?this.selectedGroupAriaLabel:`${this.selectedGroupAriaLabel} ${this.groupButtonTittle}`}get isCollapsedPanel(){return this._displayMode==="collapsed"}set panelDisplayMode(e){!e||e===this._displayMode||(this._displayMode=e)}set currentGroupCode(e){!e||e===this._currentGroupCode||this._changeCurrentGroupByCode(e)}set dataSource(e){e&&(this._dataSource=e,this._initSearchItems(e),this._processDataLoading(e))}get dataSource(){return this._dataSource}set usePanelIconBackground(e){e!==null&&(this._usePanelIconBackground=e,this._viewConfigLoaded=!0,this._updateIsLoading())}get usePanelIconBackground(){return this._usePanelIconBackground}set setupItemConfig(e){this._setupItemConfig=e,this._dataLoaded&&this._processDataLoading(this._dataSource)}set emptyGroupsPlaceholderConfig(e){this._emptyGroupsPlaceholderConfig=e,this._dataLoaded&&this._processDataLoading(this._dataSource)}set emptyItemsPlaceholderConfig(e){this._removePlaceholderEventListeners(),e&&(this._emptyItemsPlaceholderConfig=e,this._initItemsPlaceholderEventsConfig(),this._addPlaceholderEventListeners())}get emptyItemsPlaceholderConfig(){return this._emptyItemsPlaceholderConfig}set openItemAsLink(e){e!==null&&(this._openItemAsLink=e)}get openItemAsLink(){return this._openItemAsLink}constructor(e,n,a){super(e),this._sanitizer=n,this._renderer=a,this._dataSource=[],this._dataLoaded=!1,this._viewConfigLoaded=!1,this._displayMode="expanded",this._searchItems=[],this._emptyItemsPlaceholderConfig=[],this._itemsPlaceholderEventsConfig=[],this._placeholderHtmlElements=[],this.isSearchPerforming=!1,this.animationImage={type:"animation",animationData:()=>o.e(1447).then(o.t.bind(o,31447,19)),autoplay:!0,loop:!0},this.emptySearchResultPlaceholderImage={type:"icon",icon:"empty-search-result",width:"100px",height:"100px",padding:"13px"},this.iconPositionEnum=pe,this.sizeEnum=ht.Z,this.panelGroupItems=[],this._navPanelItems=[],this._searchValue$=new m.BehaviorSubject(""),this.selectedGroupCaption="",this.selectedGroupAriaLabel="",this.collapsedGroupTooltipPrefix="",this.itemClicked=new t.EventEmitter,this.loadData=new t.EventEmitter,this.groupChanged=new t.EventEmitter,this.placeholderItemEvent=new t.EventEmitter,this.panelDisplayModeChanged=new t.EventEmitter,this.setupClicked=new t.EventEmitter,this._addFlexToHost=!0,this.stretch=!0,this.role="navigation"}_initSearchItems(e){const n=new Map;e.filter(a=>!a.excludeFromSearch).forEach(a=>{a.items.filter(i=>!n.has(i.code)).forEach(i=>n.set(i.code,{...i,caption:i.searchValue||i.caption}))}),this._searchItems=[...n.values()]}_clearSelectedItems(){this._searchItems.forEach(e=>e.selected=!1),this.navPanelItems.forEach(e=>e.selected=!1)}_applySearchFilter(){this.searchValue?this.navPanelItems=this._searchItems.filter(e=>e.caption.toLocaleLowerCase().includes(this.searchValue.toLocaleLowerCase())):this._processDataLoading(this._dataSource)}_onGroupChanged(e){e.code!==this._currentGroupCode&&(this._changeCurrentGroup(e),this.groupChanged.emit(e.code))}_changeCurrentGroup(e){this.selectedGroupCaption=e.caption;const n=this._dataSource.find(a=>a.code===e.code);n&&(this.navPanelItems=n.items,this._markItemAsSelected())}_changeCurrentGroupByCode(e){this._currentGroupCode=e;const n=this._findByCode(e);n&&this._changeCurrentGroup(n)}_findByCode(e){return this.dataSource.find(n=>n.code===e)}_mapGroupsItem(e){return e.map(n=>({caption:n.caption,name:n.code,type:"crt.MenuItem",handleItemClick:()=>this._onGroupChanged(n)}))}_updateIsLoading(){this.loading=!(this._dataLoaded&&this._viewConfigLoaded)}_setupPanel(){this.setupClicked.emit()}_processDataLoading(e){const n=this._findByCode(this._currentGroupCode);n?this._changeCurrentGroup(n):this._dataSource.length>0&&this._changeCurrentGroup(e[0]),this.panelGroupItems=this._mapGroupsItem(e),this._createSetupItem(),this._createEmptyGroupsPlaceholderItem(),this._dataLoaded=!0,this._markItemAsSelected(),this._updateIsLoading()}_createEmptyGroupsPlaceholderItem(){if(!this._emptyGroupsPlaceholderConfig||this._dataSource.length>0)return;const n=this._emptyGroupsPlaceholderConfig.caption;this.selectedGroupCaption=n,this.panelGroupItems.unshift({caption:n,name:n,labelColor:"var(--crt-palette-label-500)",labelMargin:"8px 16px",labelBackgroundColor:"transparent",type:"crt.Label"})}_createSetupItem(){const e=this._setupItemConfig;e&&(this._dataSource.length>0&&this.panelGroupItems.push({type:"crt.MenuDivider"}),this.panelGroupItems.push({caption:e.caption,name:e.caption,icon:e.icon,type:"crt.MenuItem",handleItemClick:()=>this._setupPanel()}))}_findItemByCode(e){return this.navPanelItems.find(n=>n.code===e)}_markItemAsSelected(){const e=this._itemCodeToSelect;if(e===void 0)return;this._clearSelectedItems();const n=this._findItemByCode(e);n&&(n.selected=!0,this._scrollToSelectedItem())}_scrollToSelectedItem(){setTimeout(()=>{const e=this.navigationBodyWrapper.nativeElement.getElementsByClassName("navigation-panel-item-wrapper-selected"),n=e.length>0?e[0]:void 0;n&&n.scrollIntoView({behavior:"instant",block:"nearest"})},0)}_initItemsPlaceholderEventsConfig(){this._itemsPlaceholderEventsConfig=this._emptyItemsPlaceholderConfig.filter(e=>Array.isArray(e.events)).flatMap(e=>e.events)}get _isNavPanelItemsEmpty(){return this.navPanelItems.length===0}_addPlaceholderEventListeners(){if(!(this._isNavPanelItemsEmpty&&this.emptyPlaceholderItemsWrapper&&!this.isCollapsedPanel))return;const n=this.emptyPlaceholderItemsWrapper.nativeElement;this._itemsPlaceholderEventsConfig.forEach(({selector:a,eventName:i,payload:s})=>{const b=n.querySelector(a);b&&this._placeholderHtmlElements.push(this._renderer.listen(b,i,()=>this._clickHandler(s)))})}_removePlaceholderEventListeners(){this._placeholderHtmlElements.forEach(e=>e()),this._placeholderHtmlElements=[]}_clickHandler(e){return this.placeholderItemEvent.emit(e),!1}getEmptyItemsPlaceHolderText(e){return this._sanitizer.bypassSecurityTrustHtml(e)}onFilterValueChange({value:e}){this.searchValue=e}onSelectedItem(e){const n=this._findItemByCode(e.code);this.itemClicked.emit(n.code),this._itemCodeToSelect=n.code,this.searchValue?this.searchValue="":this._markItemAsSelected()}ngOnInit(){this._updateIsLoading(),this.loadData.emit()}onChangePanelDisplayMode(){this._displayMode=this._displayMode==="expanded"?"collapsed":"expanded",this.searchValue="",this.panelDisplayModeChanged.emit(this._displayMode)}ngAfterViewChecked(){this.emptyPlaceholderItemsWrapper?.nativeElement&&this._isNavPanelItemsEmpty&&(this._removePlaceholderEventListeners(),this._addPlaceholderEventListeners())}ngOnDestroy(){super.ngOnDestroy(),this._removePlaceholderEventListeners()}static{this.\u0275fac=function(n){return new(n||_v)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(p.DomSanitizer),t.\u0275\u0275directiveInject(t.Renderer2))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:_v,selectors:[["crt-navigation-panel"]],viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(KV,5,t.ElementRef),t.\u0275\u0275viewQuery(ZV,7)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.emptyPlaceholderItemsWrapper=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.navigationBodyWrapper=i.first)}},hostVars:5,hostBindings:function(n,a){n&2&&(t.\u0275\u0275attribute("role",a.role),t.\u0275\u0275classProp("flex-column",a._addFlexToHost)("stretch",a.stretch))},inputs:{selectedGroupAriaLabel:"selectedGroupAriaLabel",collapsedGroupTooltipPrefix:"collapsedGroupTooltipPrefix",panelDisplayMode:"panelDisplayMode",currentGroupCode:"currentGroupCode",dataSource:"dataSource",usePanelIconBackground:"usePanelIconBackground",setupItemConfig:"setupItemConfig",emptyGroupsPlaceholderConfig:"emptyGroupsPlaceholderConfig",emptyItemsPlaceholderConfig:"emptyItemsPlaceholderConfig",openItemAsLink:"openItemAsLink"},outputs:{itemClicked:"itemClicked",loadData:"loadData",groupChanged:"groupChanged",placeholderItemEvent:"placeholderItemEvent",panelDisplayModeChanged:"panelDisplayModeChanged",setupClicked:"setupClicked"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:19,vars:18,consts:[["searchFilter",""],["groupButton",""],["navigationBodyWrapper",""],["panelItem",""],["emptyPlaceholderItemsWrapper",""],[1,"navigation-panel-wrapper",3,"ngClass"],[1,"navigation-panel-header-wrapper"],[1,"navigation-search-wrapper"],["class","loading-header",3,"collapsed",4,"ngIf","ngIfElse"],[1,"collapse-button-wrapper"],["tsDataItemMarker","NavigationPanelCollapseButton",3,"clicked","disableRipple","iconPosition","iconSize","title","icon"],[1,"navigation-groups-wrapper"],[1,"navigation-body-wrapper"],[4,"ngIf","ngIfElse"],[1,"loading-header"],[1,"search-filter-wrapper"],["tsDataItemMarker","NavigationPanelSearch",3,"valueChange","placeholder","instant","value"],["tsDataItemMarker","NavigationPanelGroupItems",3,"menuItems","caption","title","iconPosition","icon","iconSize","textTransform","clickMode","disableRipple","useGlassmorphism","ariaLabel",4,"ngIf"],["labelType","headline-3","labelColor","var(--crt-palette-navigation-primary-A100)",4,"ngIf"],["tsDataItemMarker","NavigationPanelGroupItems",3,"menuItems","caption","title","iconPosition","icon","iconSize","textTransform","clickMode","disableRipple","useGlassmorphism","ariaLabel"],["labelType","headline-3","labelColor","var(--crt-palette-navigation-primary-A100)"],[4,"ngFor","ngForOf"],[3,"ngClass"],[3,"panelItem","isCollapsed","usePanelIconBackground","openItemAsLink","selected",4,"ngFor","ngForOf"],["class","navigation-panel-empty-items-placeholder",4,"ngIf"],["class","empty-search-result-placeholder-wrapper",4,"ngIf"],[3,"selected","panelItem","isCollapsed","usePanelIconBackground","openItemAsLink"],[1,"navigation-panel-empty-items-placeholder"],[1,"blank-slate-container",3,"image","title","subhead","tsDataItemMarker"],["class","view-elements",3,"tsDataItemMarker",4,"ngIf"],[1,"view-elements",3,"tsDataItemMarker"],[3,"innerHtml","ngClass"],[1,"empty-search-result-placeholder-wrapper"],[1,"empty-search-result-blank-slate-container",3,"image","title","subhead","tsDataItemMarker"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",5)(1,"div",6)(2,"div",7),t.\u0275\u0275template(3,YV,1,2,"crt-skeleton-loader",8)(4,JV,3,5,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(6,"div",9)(7,"crt-button",10),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275listener("clicked",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onChangePanelDisplayMode())}),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(10,"div",11),t.\u0275\u0275template(11,XV,1,2,"crt-skeleton-loader",8)(12,eF,2,2,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(14,"div",12,2),t.\u0275\u0275template(16,aF,2,2,"div",13)(17,lF,3,3,"ng-template",null,3,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(n&2){const i=t.\u0275\u0275reference(5),s=t.\u0275\u0275reference(13),b=t.\u0275\u0275reference(18);t.\u0275\u0275classProp("collapsed",a.isCollapsedPanel),t.\u0275\u0275property("ngClass",a.classes),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.loading&&!a.isCollapsedPanel)("ngIfElse",i),t.\u0275\u0275advance(4),t.\u0275\u0275property("disableRipple",!0)("iconPosition",a.iconPositionEnum.OnlyIcon)("iconSize",a.sizeEnum.Large)("title",a.isCollapsedPanel?t.\u0275\u0275pipeBind1(9,16,"NavigationPanel.CollapseButton.ExpandCaption"):t.\u0275\u0275pipeBind1(8,14,"NavigationPanel.CollapseButton.CollapseCaption"))("icon",a.isCollapsedPanel?"rounded-arrow-right-icon":"rounded-arrow-left-icon"),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.loading)("ngIfElse",s),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",a.loading)("ngIfElse",b)}},dependencies:[_.NgClass,_.NgForOf,_.NgIf,Jt,Yn,yn.W,Hn,hn,zi,fs,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]   crt-button[_ngcontent-%COMP%]{--crt-button-default-contrast-color: var(--crt-palette-navigation-primary-A100);--crt-button-default-hover-color: none;--crt-button-default-pressed-color: none}.navigation-panel-wrapper.collapsed[_ngcontent-%COMP%]{width:64px}.navigation-panel-wrapper.collapsed[_ngcontent-%COMP%]   .navigation-search-wrapper[_ngcontent-%COMP%]{justify-content:center}.navigation-panel-wrapper.collapsed[_ngcontent-%COMP%]   .navigation-search-wrapper[_ngcontent-%COMP%]   .search-filter-wrapper[_ngcontent-%COMP%]{display:none}.navigation-panel-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:0;min-width:0;flex-grow:1;width:258px;align-items:flex-start;transition:width .7s;transition-timing-function:cubic-bezier(.1,.5,0,1)}.navigation-panel-wrapper[_ngcontent-%COMP%]   .loading-header.collapsed[_ngcontent-%COMP%]{width:32px}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-panel-header-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:16px 0 16px 4px;gap:16px}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-panel-header-wrapper[_ngcontent-%COMP%]   .loading-header[_ngcontent-%COMP%]{height:24px;padding:4px 0}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-panel-header-wrapper[_ngcontent-%COMP%]   .navigation-groups-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-panel-header-wrapper[_ngcontent-%COMP%]   .navigation-groups-wrapper[_ngcontent-%COMP%]   crt-button[_ngcontent-%COMP%]{width:inherit}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-panel-header-wrapper[_ngcontent-%COMP%]   .navigation-search-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;padding-left:12px;padding-right:16px}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-panel-header-wrapper[_ngcontent-%COMP%]   .navigation-search-wrapper[_ngcontent-%COMP%]   .search-filter-wrapper[_ngcontent-%COMP%]{padding-right:8px}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]{min-height:0;min-width:0;width:100%;height:calc(100vh - 168px);overflow-y:hidden}@media screen and (max-width: 790px){.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]{height:calc(100vh - 216px)}}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]:hover{overflow-y:auto}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]   .panel-item-loading[_ngcontent-%COMP%]{padding:16px;height:24px}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]   .loading-short[_ngcontent-%COMP%]{width:130px}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]   .loading-short.collapsed[_ngcontent-%COMP%]{padding:16px;width:32px}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]   .loading-medium[_ngcontent-%COMP%]{width:170px}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]   .loading-medium.collapsed[_ngcontent-%COMP%]{padding:16px;width:32px}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]   .loading-long[_ngcontent-%COMP%]{width:210px}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]   .loading-long.collapsed[_ngcontent-%COMP%]{padding:16px;width:32px}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]   .navigation-panel-empty-items-placeholder[_ngcontent-%COMP%], .navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]   .empty-search-result-placeholder-wrapper[_ngcontent-%COMP%]{padding:0 16px 16px;height:100%}.remove-outside-horizontal-padding[_ngcontent-%COMP%]{margin-left:-8px;margin-right:-8px}[dir=rtl][_nghost-%COMP%]   .navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-panel-header-wrapper[_ngcontent-%COMP%]{padding:16px 4px 16px 0}[dir=rtl][_nghost-%COMP%]   .navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-panel-header-wrapper[_ngcontent-%COMP%]   .navigation-search-wrapper[_ngcontent-%COMP%]{padding-left:16px;padding-right:12px}[dir=rtl][_nghost-%COMP%]   .navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-panel-header-wrapper[_ngcontent-%COMP%]   .navigation-search-wrapper[_ngcontent-%COMP%]   .search-filter-wrapper[_ngcontent-%COMP%]{padding-right:0;padding-left:8px}[dir=rtl][_nghost-%COMP%]   .navigation-panel-wrapper.collapsed[_ngcontent-%COMP%]   .navigation-groups-wrapper[_ngcontent-%COMP%]{padding-left:0;padding-right:4px}@media only screen and (max-width: 790px){.navigation-panel-wrapper[_ngcontent-%COMP%], .navigation-panel-header-wrapper[_ngcontent-%COMP%], .search-filter-wrapper[_ngcontent-%COMP%]{width:100%;margin:0}.collapse-button-wrapper[_ngcontent-%COMP%]{display:none}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]{overflow-y:auto}.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-panel-header-wrapper[_ngcontent-%COMP%], .navigation-groups-wrapper[_ngcontent-%COMP%]{padding-right:4px}.navigation-search-wrapper[_ngcontent-%COMP%]{padding-right:0}[dir=rtl][_nghost-%COMP%]   .navigation-groups-wrapper[_ngcontent-%COMP%]{padding-left:8px;padding-right:0}[dir=rtl][_nghost-%COMP%]   .navigation-search-wrapper[_ngcontent-%COMP%]{padding-left:0}}@media only screen and (max-height: 450px){.navigation-panel-wrapper[_ngcontent-%COMP%]   .navigation-body-wrapper[_ngcontent-%COMP%]{overflow-y:auto}}"],changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],ca.prototype,"selectedGroupAriaLabel",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],ca.prototype,"collapsedGroupTooltipPrefix",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ca.prototype,"itemClicked",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ca.prototype,"loadData",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ca.prototype,"groupChanged",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ca.prototype,"placeholderItemEvent",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],ca.prototype,"panelDisplayMode",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ca.prototype,"panelDisplayModeChanged",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String),(0,u.__metadata)("design:paramtypes",[String])],ca.prototype,"currentGroupCode",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],ca.prototype,"dataSource",null),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],ca.prototype,"setupClicked",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],ca.prototype,"usePanelIconBackground",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],ca.prototype,"setupItemConfig",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],ca.prototype,"emptyGroupsPlaceholderConfig",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array),(0,u.__metadata)("design:paramtypes",[Array])],ca.prototype,"emptyItemsPlaceholderConfig",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean),(0,u.__metadata)("design:paramtypes",[Boolean])],ca.prototype,"openItemAsLink",null),ca=(0,u.__decorate)([(0,Qt.v)({type:"crt.NavigationPanel",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[t.Injector,p.DomSanitizer,t.Renderer2])],ca);let Kl=class fv{constructor(e){this._materialIconsRegistrator=e;const n=[{name:"rounded-arrow-left-icon",icon:o(38799)},{name:"rounded-arrow-right-icon",icon:o(66024)},{name:"all-apps-icon",icon:o(98789)}];this._materialIconsRegistrator.addIcons(n)}static{this.\u0275fac=function(n){return new(n||fv)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:fv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,re,ui,fe.q,_t.MatIconModule,tn,Ne,ra,Te.c,R,Mn.U,f.TranslateModule]})}};Kl=(0,u.__decorate)([(0,ie.g)({viewElements:[ca]}),(0,u.__metadata)("design:paramtypes",[Ce.K])],Kl),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Kl,{declarations:[ca,fs],imports:[_.CommonModule,re,ui,fe.q,_t.MatIconModule,tn,Ne,ra,Te.c,R,Mn.U,f.TranslateModule],exports:[ca,fs]})}();const dF=r=>({rtl:r}),pF=r=>({"even-row":r});function uF(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onItemChecked(i))}),t.\u0275\u0275elementStart(1,"mat-checkbox",15),t.\u0275\u0275listener("click",function(i){return t.\u0275\u0275restoreView(n),t.\u0275\u0275resetView(i.preventDefault())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"div",16),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()}if(r&2){const n=e.$implicit,a=e.index,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(3,pF,a%2)),t.\u0275\u0275advance(),t.\u0275\u0275property("checked",i.isItemChecked(n)),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.caption)}}function mF(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,uF,4,5,"div",13),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.data)}}function gF(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",17)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),r&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,1,"StructureExplorerDialog.NoData")))}let Xf=class bv extends ue.K{constructor(e,n,a,i){super(i),this._dialogData=e,this._dialogRef=n,this._directionality=a,this._injector=i,this._fullData=[],this.data=[],this.selectedItems=[],this.searchKey=null;const s=this._dialogData,b=s?.items?s.items:this._dialogData;this.hasData=b?.length>0,this.caption=s?.caption,this.hasData&&(this.data=[...b],this._fullData=[...this.data])}_includeSubstring(e,n){const a=e.toLowerCase(),i=n.toLowerCase();return a.indexOf(i)!==-1}_filterData(e){!e||e===""?this.data=this._fullData:this.data=this._fullData.filter(n=>this._includeSubstring(n.caption,e))}isRtl(){return this._directionality.value==="rtl"}isItemChecked(e){return this.selectedItems.map(({uId:n})=>n).includes(e.uId)}onItemChecked(e){if(!this.isItemChecked(e))this.selectedItems.push(e);else{const n=this.selectedItems.map(({uId:a})=>a).indexOf(e.uId);this.selectedItems.splice(n,1)}}onSearchKeyChanged(e){this.searchKey=e,this._filterData(this.searchKey)}onItemSelected(){this._dialogRef.close(this.selectedItems)}onCancelled(){this._dialogRef.close([])}static{this.\u0275fac=function(n){return new(n||bv)(t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA),t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef),t.\u0275\u0275directiveInject(me.Directionality),t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:bv,selectors:[["crt-object-explorer"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:22,vars:23,consts:[["noItems",""],[1,"object-explorer-ct",3,"ngClass"],["mat-dialog-title","",1,"object-explorer-title"],[1,"search-container"],["floatLabel","never",1,"search-container-form-field"],["type","text","autocomplete","off",1,"search-field",3,"keyup","placeholder","value","disabled","labelPosition"],["matSuffix","","mat-icon-button","","aria-label","Clear",1,"close",3,"clicked"],[1,"clear-icon"],[1,"object-explorer-content"],[4,"ngIf","ngIfElse"],[1,"object-explorer-actions"],["shape","rounded","mat-dialog-close","",1,"action-button","cancelBtn",3,"clicked"],["color","primary","shape","rounded",1,"action-button",3,"clicked","disabled"],["class","object-explorer-item-ct checkbox-is-visible",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"object-explorer-item-ct","checkbox-is-visible",3,"click","ngClass"],[1,"object-explorer-item-checkbox",3,"click","checked"],[1,"object-explorer-item-caption"],[1,"no-items-ctr"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",1)(1,"div",2),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",3)(5,"div",4)(6,"crt-label")(7,"crt-input",5),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275listener("keyup",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onSearchKeyChanged(b.target.value))}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"crt-button",6),t.\u0275\u0275listener("clicked",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onSearchKeyChanged(null))}),t.\u0275\u0275element(10,"mat-icon",7),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(11,"mat-dialog-content",8),t.\u0275\u0275template(12,mF,2,1,"ng-container",9)(13,gF,4,3,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"mat-dialog-actions",10)(16,"crt-button",11),t.\u0275\u0275listener("clicked",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onCancelled())}),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(19,"crt-button",12),t.\u0275\u0275listener("clicked",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onItemSelected())}),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd()()()}if(n&2){const i=t.\u0275\u0275reference(14);t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(21,dF,a.isRtl())),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,13,a.caption||"ObjectExplorerDialog.Title")," "),t.\u0275\u0275advance(5),t.\u0275\u0275propertyInterpolate("placeholder",t.\u0275\u0275pipeBind1(8,15,"StructureExplorerDialog.SearchPlaceHolder")),t.\u0275\u0275property("value",a.searchKey)("disabled",!a.hasData)("labelPosition","hidden"),t.\u0275\u0275advance(2),t.\u0275\u0275styleProp("visibility",a.searchKey?"inherit":"hidden"),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.data&&a.data.length>0)("ngIfElse",i),t.\u0275\u0275advance(5),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,17,"StructureExplorerDialog.CancelButtonCaption")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!a.hasData),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(21,19,"StructureExplorerDialog.SelectButtonCaption")," ")}},dependencies:[_.NgClass,_.NgForOf,_.NgIf,q.MatLegacySuffix,Ot.MatLegacyDialogClose,Ot.MatLegacyDialogTitle,Ot.MatLegacyDialogContent,Ot.MatLegacyDialogActions,_t.MatIcon,oe.MatLegacyCheckbox,hn,ar.j,Jt,f.TranslatePipe],styles:['.mat-dialog-title[_ngcontent-%COMP%]{margin:0}.object-explorer-ct[_ngcontent-%COMP%]{width:40vw;height:72vh;display:flex;flex-direction:column}.object-explorer-ct.rtl[_ngcontent-%COMP%]   .object-explorer-content[_ngcontent-%COMP%]   .object-explorer-item-ct[_ngcontent-%COMP%]{padding-left:0;padding-right:36px}.object-explorer-ct.rtl[_ngcontent-%COMP%]   .object-explorer-content[_ngcontent-%COMP%]   .object-explorer-item-ct.checkbox-is-visible[_ngcontent-%COMP%]{padding-left:0;padding-right:10px}.object-explorer-ct.rtl[_ngcontent-%COMP%]   .object-explorer-content[_ngcontent-%COMP%]   .object-explorer-item-ct.checkbox-is-visible[_ngcontent-%COMP%]   .object-explorer-item-checkbox[_ngcontent-%COMP%]{margin-right:0;margin-left:10px}.object-explorer-ct.rtl[_ngcontent-%COMP%]   .object-explorer-content[_ngcontent-%COMP%]   .object-explorer-item-ct[_ngcontent-%COMP%]   .mat-checkbox-inner-container[_ngcontent-%COMP%]{margin-left:0}.object-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{margin-top:16px}.object-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]{width:100%}.object-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .search-field[_ngcontent-%COMP%]{line-height:18px}.object-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%], .object-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:16px;height:16px}.object-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .mat-mdc-icon-button[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%], .object-explorer-ct[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-container-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]   .clear-icon[_ngcontent-%COMP%]{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPGcgaWQ9Ikdyb3VwXzIzNTUiIGRhdGEtbmFtZT0iR3JvdXAgMjM1NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTk0MyAtMjEzNCkiPg0KICAgIDxsaW5lIGlkPSJMaW5lXzE0NiIgZGF0YS1uYW1lPSJMaW5lIDE0NiIgeTE9IjEwIiB4Mj0iMTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0Ni41IDIxMzcuNSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzc1NzU3NSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjEiLz4NCiAgICA8bGluZSBpZD0iTGluZV8xNDciIGRhdGEtbmFtZT0iTGluZSAxNDciIHgyPSIxMCIgeTI9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5NDYuNSAyMTM3LjUpIiBmaWxsPSJub25lIiBzdHJva2U9IiM3NTc1NzUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8xMDkyIiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAxMDkyIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0MyAyMTM0KSIgZmlsbD0ibm9uZSIvPg0KICA8L2c+DQo8L3N2Zz4NCg==)}.object-explorer-ct[_ngcontent-%COMP%]   .object-explorer-content[_ngcontent-%COMP%]{height:100%;overflow-x:hidden}.object-explorer-ct[_ngcontent-%COMP%]   .object-explorer-content[_ngcontent-%COMP%]   .object-explorer-item-ct[_ngcontent-%COMP%]{min-height:35px;border-bottom:1px solid lightgrey;display:flex;align-items:center;cursor:pointer;padding-left:36px}.object-explorer-ct[_ngcontent-%COMP%]   .object-explorer-content[_ngcontent-%COMP%]   .object-explorer-item-ct[_ngcontent-%COMP%]:after{content:"";min-height:inherit}.object-explorer-ct[_ngcontent-%COMP%]   .object-explorer-content[_ngcontent-%COMP%]   .object-explorer-item-ct.checkbox-is-visible[_ngcontent-%COMP%]{padding-left:10px}.object-explorer-ct[_ngcontent-%COMP%]   .object-explorer-content[_ngcontent-%COMP%]   .object-explorer-item-ct.checkbox-is-visible[_ngcontent-%COMP%]   .object-explorer-item-checkbox[_ngcontent-%COMP%]{display:block;margin-right:10px;height:16px;width:16px}.object-explorer-ct[_ngcontent-%COMP%]   .object-explorer-content[_ngcontent-%COMP%]   .object-explorer-item-ct.checkbox-is-visible[_ngcontent-%COMP%]   .object-explorer-item-checkbox[_ngcontent-%COMP%]     .mat-checkbox-layout{align-items:center;vertical-align:baseline}.object-explorer-ct[_ngcontent-%COMP%]   .object-explorer-content[_ngcontent-%COMP%]   .object-explorer-item-ct[_ngcontent-%COMP%]   .object-explorer-item-caption[_ngcontent-%COMP%]{height:15px;line-height:1}.object-explorer-ct[_ngcontent-%COMP%]   .object-explorer-content[_ngcontent-%COMP%]   .no-items-ctr[_ngcontent-%COMP%]{margin-top:32px;text-align:center}.object-explorer-ct[_ngcontent-%COMP%]   .object-explorer-actions[_ngcontent-%COMP%]{justify-content:flex-end}.object-explorer-ct[_ngcontent-%COMP%]   .object-explorer-actions[_ngcontent-%COMP%]   .cancelBtn[_ngcontent-%COMP%]{margin-right:8px}']})}};Xf=(0,u.__decorate)([(0,Qt.v)({type:"crt.ObjectExplorer",reuseStrategy:$t.B.Reuse}),(0,u.__metadata)("design:paramtypes",[Object,Ot.MatLegacyDialogRef,me.Directionality,t.Injector])],Xf);let hu=class Cv{static{this.\u0275fac=function(n){return new(n||Cv)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Cv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,O.FormsModule,f.TranslateModule,q.MatLegacyFormFieldModule,Ot.MatLegacyDialogModule,_t.MatIconModule,oe.MatLegacyCheckboxModule,Ne,Sn.u,re]})}};hu=(0,u.__decorate)([(0,ie.g)({viewElements:[Xf]})],hu),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(hu,{declarations:[Xf],imports:[_.CommonModule,O.FormsModule,f.TranslateModule,q.MatLegacyFormFieldModule,Ot.MatLegacyDialogModule,_t.MatIconModule,oe.MatLegacyCheckboxModule,Ne,Sn.u,re],exports:[Xf]})}();const hF=["*"];function _F(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"img",3),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("src",n.contact==null?null:n.contact.photo,t.\u0275\u0275sanitizeUrl)}}function fF(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"span",4),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("background",n.contactColor),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.getInitials())}}class qf{constructor(){this.contactClick=new t.EventEmitter}getInitials(){return this.contact&&this.contact.name?this.contact.name.replace(/\s+/g," ").trim().split(" ",2).map(function(n){return n.substr(0,1).toUpperCase()}).join(""):""}contactClicked(){return this.contactClick.emit({contactId:this.contact.id}),!1}static{this.\u0275fac=function(n){return new(n||qf)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:qf,selectors:[["ts-contact-photo"]],inputs:{contact:"contact",contactColor:"contactColor"},outputs:{contactClick:"contactClick"},ngContentSelectors:hF,decls:5,vars:2,consts:[["noPhoto",""],[3,"click"],[4,"ngIf","ngIfElse"],["alt","Contact photo",1,"contact-photo",3,"src"],[1,"contact-photo","no-photo"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.contactClicked())}),t.\u0275\u0275template(1,_F,2,1,"ng-container",2)(2,fF,2,3,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275projection(4),t.\u0275\u0275elementEnd()}if(n&2){const i=t.\u0275\u0275reference(3);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.contact.photo)("ngIfElse",i)}},dependencies:[_.NgIf],styles:[".contact-photo[_ngcontent-%COMP%]{border-radius:50%;width:32px;height:32px;cursor:pointer}.contact-photo.no-photo[_ngcontent-%COMP%]{text-align:center;line-height:2.2em;font-size:14px;display:inline-block;min-width:32px;min-height:32px;color:#fff}"]})}}class FC{constructor(e){this.element=e}_getHash(e){let n=0;for(let a=0;a<e.length;a++)n=e.charCodeAt(a)+((n<<5)-n);return n}_getColor(e){return e?"hsl("+this._getHash(e)%180*2+",50%,50%)":this.defaultColor||"orange"}ngOnInit(){this.element.nativeElement.style.backgroundColor=this._getColor(this.value)}static{this.\u0275fac=function(n){return new(n||FC)(t.\u0275\u0275directiveInject(t.ElementRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:FC,selectors:[["","tsBackgroundColor",""]],inputs:{value:[t.\u0275\u0275InputFlags.None,"tsBackgroundColor","value"],defaultColor:"defaultColor"}})}}class Sh{static{this.\u0275fac=function(n){return new(n||Sh)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Sh})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Sh,{declarations:[qf,FC],imports:[_.CommonModule],exports:[qf]})})();let wh=class P0 extends ue.K{constructor(){super(...arguments),this.itemConfig={templateValuesMapping:{[Wi.Id]:"Playbook_KnowledgeBaseDS_Id",[Wi.Caption]:"Playbook_KnowledgeBaseDS_Name",[Wi.Author]:"Playbook_KnowledgeBaseDS_CreatedBy",[Wi.ModifiedOn]:"Playbook_KnowledgeBaseDS_ModifiedOn",[Wi.Type]:"Playbook_KnowledgeBaseDS_Type",[Wi.Content]:"Playbook_KnowledgeBaseDS_Notes"}}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(P0)))(a||P0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:P0,selectors:[["crt-playbook"]],inputs:{items:"items"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:3,consts:[[3,"galleryItemConfig","dataItems","loading"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-articles-list",0),n&2&&t.\u0275\u0275property("galleryItemConfig",a.itemConfig)("dataItems",a.items)("loading",a.loading)},dependencies:[bl]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Ni.A)],wh.prototype,"items",void 0),wh=(0,u.__decorate)([(0,Qt.v)({type:"crt.Playbook",reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:280,icon:o(19702),hint:"Playbook.Hint"},typeCaption:"Playbook.Caption",propertiesPanelComponentTypeName:"crt.PlaybookPropertiesPanel",viewElementGroupType:pn.J.Components})],wh);let Zl=class yv{static{this.\u0275fac=function(n){return new(n||yv)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:yv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,fe.q,O.ReactiveFormsModule,Ne,_e.S,Sh,Mn.U,rs]})}};Zl=(0,u.__decorate)([(0,ie.g)({viewElements:[wh]})],Zl),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Zl,{declarations:[wh],imports:[_.CommonModule,fe.q,O.ReactiveFormsModule,Ne,_e.S,Sh,Mn.U,rs],exports:[wh]})}();var bs=o(6149);function bF(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-label",5),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("caption",n.label)}}function CF(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",10),t.\u0275\u0275element(2,"mat-icon",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(2),t.\u0275\u0275property("svgIcon",n.icon)}}function yF(r,e){if(r&1&&t.\u0275\u0275text(0),r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275textInterpolate1(" ",n.caption," ")}}function vF(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",12),t.\u0275\u0275element(2,"mat-icon",13)(3,"div",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275advance(3),t.\u0275\u0275property("tooltipConfig",n.tooltipConfig)}}function MF(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",6)(2,"mat-radio-button",7),t.\u0275\u0275template(3,CF,3,1,"ng-container",8)(4,yF,1,1,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,vF,4,1,"ng-container",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275reference(5),i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("title",i.getItemTitle(n))("disableRipple",!0)("ngClass",i.getItemClasses(n))("value",n.value),t.\u0275\u0275attribute("aria-label",i.getItemTitle(n)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.icon)("ngIfElse",a),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.tooltipConfig)}}let ur=class vv{constructor(){this._destroyed$=new m.Subject,this.control=new O.FormControl,this.label="",this.direction="row",this.items=[],this.disabled=!1}ngOnInit(){this.control.valueChanges.pipe((0,h.takeUntil)(this._destroyed$)).subscribe(e=>{this.value=e})}getItemClasses(e){return{"crt-radio-button":!e.icon,"crt-icon-radio-item":!0,selected:e.value===this.control.value,"icon-radio-item":!!e.icon}}getItemTitle(e){return this.disabled?this.disabledStateTooltip:e.caption}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||vv)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:vv,selectors:[["crt-icon-radio-button"]],inputs:{control:"control",label:"label",direction:"direction",value:"value",items:"items",disabled:"disabled",disabledStateTooltip:"disabledStateTooltip",radioGroupAriaLabel:"radioGroupAriaLabel"},decls:4,vars:6,consts:[["defaultOption",""],[1,"crt-icon-radio-button"],["class","icon-radio-label",3,"caption",4,"ngIf"],[1,"crt-icon-radio-group",3,"ngClass","formControl","disabled"],[4,"ngFor","ngForOf"],[1,"icon-radio-label",3,"caption"],[1,"crt-icon-radio-item-wrap"],[3,"title","disableRipple","ngClass","value"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"radio-icon-wrap"],[1,"radio-icon",3,"svgIcon"],[1,"tooltip-icon-wrap"],["svgIcon","tooltip-icon"],["crtTooltip","",1,"tooltip-icon-tile",3,"tooltipConfig"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,bF,1,1,"crt-label",2),t.\u0275\u0275elementStart(2,"mat-radio-group",3),t.\u0275\u0275template(3,MF,7,8,"ng-container",4),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.label),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",a.direction)("formControl",a.control)("disabled",a.disabled),t.\u0275\u0275attribute("aria-label",a.radioGroupAriaLabel),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.items))},dependencies:[_.NgClass,_.NgForOf,_.NgIf,bs.MatLegacyRadioGroup,bs.MatLegacyRadioButton,_t.MatIcon,O.NgControlStatus,O.FormControlDirective,hn,na.d],styles:[`.crt-icon-radio-button{width:100%;padding-top:12px}.crt-icon-radio-button .icon-radio-label{margin:8px 0}.crt-icon-radio-button .crt-icon-radio-group{display:flex;align-items:flex-start;justify-content:flex-start}.crt-icon-radio-button .crt-icon-radio-group.row{flex-direction:row}.crt-icon-radio-button .crt-icon-radio-group.column{flex-direction:column;margin-inline-start:12px}.crt-icon-radio-button .crt-icon-radio-group.column .mat-radio-button:not(:last-child){margin-bottom:1em}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap{display:inline-flex}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .tooltip-icon-wrap{height:16px;width:16px;margin-inline-start:6px;top:3px;position:relative}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .tooltip-icon-wrap .mat-icon{height:inherit;width:inherit}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .tooltip-icon-wrap .tooltip-icon-tile{position:absolute;inset:0}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item .mat-radio-label .mat-radio-label-content{display:flex}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item.icon-radio-item .mat-radio-label .mat-radio-container{width:0;height:0;top:0}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item.icon-radio-item .mat-radio-label .mat-radio-container .mat-radio-inner-circle,.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item.icon-radio-item .mat-radio-label .mat-radio-container .mat-radio-outer-circle{display:none}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item.icon-radio-item .mat-radio-label .mat-radio-label-content{padding:0}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item.icon-radio-item .mat-radio-label .mat-radio-ripple{display:none}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item.icon-radio-item .radio-icon-wrap{width:32px;height:32px;border-radius:2px}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item.icon-radio-item .radio-icon-wrap .radio-icon{width:16px;height:16px;padding:8px}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item.icon-radio-item.mat-radio-disabled .radio-icon-wrap{cursor:not-allowed}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap .crt-icon-radio-item.icon-radio-item:not(.mat-radio-disabled) .radio-icon-wrap{cursor:pointer}.crt-icon-radio-button .crt-icon-radio-group .crt-icon-radio-item-wrap:not(:last-child) .crt-radio-button{margin-bottom:14px}
`],encapsulation:2})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ur.prototype,"control",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ur.prototype,"label",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],ur.prototype,"direction",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ur.prototype,"value",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],ur.prototype,"items",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ur.prototype,"disabled",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],ur.prototype,"disabledStateTooltip",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],ur.prototype,"radioGroupAriaLabel",void 0),ur=(0,u.__decorate)([(0,Qt.v)({type:"crt.IconRadioButton",reuseStrategy:$t.B.Reuse})],ur);let Ql=class Mv{static{this.\u0275fac=function(n){return new(n||Mv)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Mv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,bs.MatLegacyRadioModule,_t.MatIconModule,O.ReactiveFormsModule,Ne,_e.S]})}};Ql=(0,u.__decorate)([(0,ie.g)({viewElements:[ur]})],Ql),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Ql,{declarations:[ur],imports:[_.CommonModule,bs.MatLegacyRadioModule,_t.MatIconModule,O.ReactiveFormsModule,Ne,_e.S],exports:[ur]})}();function IF(r,e){r&1&&t.\u0275\u0275element(0,"ts-mask",3)}class tb{constructor(e,n,a,i,s){this._dialogRef=n,this._domSanitizer=a,this._extResourceFrameWindowMessenger=i,this._changeDetectorRef=s,this._extViewModulePath="/Nui/ViewModule.aspx?vm=RightsModuleLoader&disableLogo=1",this._subscription=new m.Subscription,this._recordRightsWereChanged=!1,this.loading=!0,this.title="rights-iframe",this.rightsData=e}_setupUrl(){const e=(0,x.cI)(),n=_.Location.joinWithSlash(e,this._extViewModulePath);this.url=this._domSanitizer.bypassSecurityTrustResourceUrl(n)}_subscribeOnExtResourceFrame(){const e=this._extResourceFrameWindowMessenger;this._subscription.add(e.designerLoaded$.subscribe(()=>this._stopLoading())),this._subscription.add(e.escPressed$.subscribe(()=>this._closeDialog())),this._subscription.add(e.recordRightsWereChanged$.subscribe(()=>this._recordRightsWereChanged=!0))}_stopLoading(){this.loading=!1,this._changeDetectorRef.detectChanges()}_closeDialog(){this._dialogRef.close(this._recordRightsWereChanged)}ngOnInit(){this._setupUrl(),this._subscribeOnExtResourceFrame()}ngOnDestroy(){this._subscription.unsubscribe()}static{this.\u0275fac=function(n){return new(n||tb)(t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA),t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef),t.\u0275\u0275directiveInject(p.DomSanitizer),t.\u0275\u0275directiveInject(Fr),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:tb,selectors:[["crt-rights"]],decls:3,vars:4,consts:[[1,"crt-rights-wrap"],["class","crt-rights-panel-mask",4,"ngIf"],[3,"url","title","data"],[1,"crt-rights-panel-mask"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,IF,1,0,"ts-mask",1),t.\u0275\u0275element(2,"crt-ext-resource-frame",2),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loading),t.\u0275\u0275advance(),t.\u0275\u0275property("url",a.url)("title",a.title)("data",a.rightsData))},dependencies:[_.NgIf,Ep,yC.I],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}.crt-rights-wrap[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.crt-rights-wrap[_ngcontent-%COMP%]   .crt-rights-panel-mask[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}"],changeDetection:0})}}class Eh extends Fr{constructor(){super(...arguments),this._recordRightsWereChangedMessageName="RecordRightsWereChanged",this.recordRightsWereChanged$=new m.Subject}onMessage(e){if(e?.data?.name===this._recordRightsWereChangedMessageName){this.recordRightsWereChanged$.next();return}super.onMessage(e)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Eh)))(a||Eh)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Eh,factory:Eh.\u0275fac})}}class Yl{static{this.\u0275fac=function(n){return new(n||Yl)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Yl})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:Fr,useClass:Eh}],imports:[_.CommonModule,li,Dl,ro.R]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Yl,{declarations:[tb],imports:[_.CommonModule,li,Dl,ro.R],exports:[tb]})})();const ZM=13,QM=32;class _u{get nativeElement(){return this.elementRef.nativeElement}constructor(e){this.elementRef=e,this._preventFocusOut=!1,this._focusableElementsListeners=[],this.hasFocus=!1,this.focused=new m.Subject,this.selected=new m.Subject,this.ariaHidden=!0,this.tabIndex=0,this.role="option"}_processCurrentElementFocusEvent(e){const n=e.relatedTarget;if(this.nativeElement!==n){this._emitSubElementFocusedEvent(n);return}this._emitOwnFocusedEvent()}_emitResetFocusedEvent(){this._emitFocusedEvent(null)}_emitOwnFocusedEvent(){this._emitFocusedEvent({elementType:"own"})}_emitSubElementFocusedEvent(e){const n=this._getUniqueSelector(e,this.nativeElement);if(!n){this._emitOwnFocusedEvent();return}this._emitFocusedEvent({elementType:"subElement",subElementSelector:n})}_emitFocusedEvent(e){this._preventFocusOut=!1,this.focused.next(e)}_getUniqueSelector(e,n){if(!e||!n.contains(e))return"";const a=[];let i=e;for(;i&&i!==n;){let s=i.tagName.toLowerCase();if(i.classList.length>0&&(s+="."+Array.from(i.classList).join(".")),i.parentElement){const b=Array.from(i.parentElement.children).filter(D=>D.tagName===i.tagName);b.length>1&&(s+=`:nth-child(${b.indexOf(i)+1})`)}a.unshift(s),i=i.parentElement}return a.join(" > ")}_isCurrentElement(e){return this.nativeElement.contains(e.relatedTarget)}_attachListenersOnFocusableElements(){this._getInnerFocusableElements().forEach(n=>this._attachListenersOnFocusableElement(n))}_attachListenersOnFocusableElement(e){const n=()=>{this._preventFocusOut=!0},a=i=>{const{keyCode:s}=i;(s===ZM||s===QM)&&(this._preventFocusOut=!0)};e.addEventListener("click",n,{capture:!0}),e.addEventListener("keydown",a,{capture:!0}),this._focusableElementsListeners.push({element:e,click:n,keydown:a})}_getInnerFocusableElements(){return Array.from(this.nativeElement.querySelectorAll("button"))}_detachListenersOnFocusableElements(){this._focusableElementsListeners.forEach(({element:e,click:n,keydown:a})=>{e.removeEventListener("click",n),e.removeEventListener("keydown",a)}),this._focusableElementsListeners=[]}ngAfterViewInit(){this._attachListenersOnFocusableElements()}ngOnDestroy(){this._detachListenersOnFocusableElements()}onClick(e){this.selected.next(e)}onKeyDown(e){const{keyCode:n}=e;(n===ZM||n===QM)&&this.selected.next(e)}onFocusIn(e){this.hasFocus||(this.hasFocus=!0,this._processCurrentElementFocusEvent(e))}onFocusOut(e){if(this._isCurrentElement(e)){this._processCurrentElementFocusEvent(e);return}this._preventFocusOut||(this.hasFocus=!1,this._emitResetFocusedEvent())}static{this.\u0275fac=function(n){return new(n||_u)(t.\u0275\u0275directiveInject(t.ElementRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:_u,selectors:[["","crtListboxOption",""]],hostVars:3,hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("click",function(s){return a.onClick(s)})("keydown",function(s){return a.onKeyDown(s)})("focusin",function(s){return a.onFocusIn(s)})("focusout",function(s){return a.onFocusOut(s)}),n&2&&t.\u0275\u0275attribute("aria-hidden",a.ariaHidden)("tabIndex",a.tabIndex)("role",a.role)},inputs:{role:"role",value:[t.\u0275\u0275InputFlags.None,"crtListboxOption","value"]},exportAs:["crtListboxOption"]})}}const xF=38,SF=40,wF=37,EF=39,YM=36,TF=35;class Jl{constructor(){this._destroyed=new m.Subject,this._focusedOption=null,this._optionFocused=(0,m.defer)(()=>this.options.changes.pipe((0,m.startWith)(this.options),(0,m.switchMap)(e=>(0,m.merge)(...e.map(n=>n.focused.pipe((0,h.map)(a=>({option:n,state:a})))))))),this._optionSelected=(0,m.defer)(()=>this.options.changes.pipe((0,m.startWith)(this.options),(0,m.switchMap)(e=>(0,m.merge)(...e.map(n=>n.selected.pipe((0,h.map)(a=>({option:n,event:a})))))))),this.ariaHidden=!0,this.role="listbox",this.optionValueKeyPropertyName="Id",this.selectedChange=new m.Subject}_subscribeOnOptionFocused(){this._optionFocused.pipe((0,h.takeUntil)(this._destroyed)).subscribe(({option:e,state:n})=>this._handleOptionFocused(e,n))}_subscribeOnOptionSelected(){this._optionSelected.pipe((0,h.takeUntil)(this._destroyed)).subscribe(({option:e,event:n})=>this._handleOptionSelected(e,n))}_subscribeOnOptionChanged(){this.options.changes.pipe((0,h.takeUntil)(this._destroyed)).subscribe(()=>this._handleOptionsChanged())}_handleOptionFocused(e,n){var a=this;return(0,bt.A)(function*(){if(n===null){a._focusedOption=null;return}a._focusedOption={key:yield a._getOptionValueKey(e.value),option:e.value,state:n}})()}_handleOptionSelected(e,n){n.preventDefault(),this.selectedChange.next({value:[e.value]})}_handleOptionsChanged(){var e=this;return(0,bt.A)(function*(){yield e._restoreFocusedOptionIfNeed()})()}_restoreFocusedOptionIfNeed(){var e=this;return(0,bt.A)(function*(){if(!e._focusedOption)return;const a=(yield e._getOptionNativeElementsWithKeys()).find(i=>i.key===e._focusedOption.key);if(!a){e._focusedOption=null,e._resetFocusOnOption();return}e._focusOnCorrectFocusedOptionByState(a)})()}_getOptionNativeElementsWithKeys(){var e=this;return Promise.all(this.options.toArray().map(function(){var n=(0,bt.A)(function*(a){return{key:yield e._getOptionValueKey(a.value),nativeElement:a.nativeElement}});return function(a){return n.apply(this,arguments)}}()))}_focusOnCorrectFocusedOptionByState(e){if(this._focusedOption.state.elementType==="own"||!this._focusedOption.state.subElementSelector){e.nativeElement.focus();return}const n=e.nativeElement.querySelector(this._focusedOption.state.subElementSelector);if(!n){e.nativeElement.focus();return}n.focus()}_processNavigationKey(e){if(this._isEdgeNavigationKeyCode(e)){this._handleEdgeNavigationKey(e);return}const n=this._getCurrentActiveOptionIndex();if(n===-1){this._resetFocusOnOption();return}const a=this._getNewActiveOptionIndex(n,e);n!==a&&this._setFocusOnOptionByIndex(a)}_handleEdgeNavigationKey(e){if(e===YM){this.options.first?.nativeElement.focus();return}this.options.last?.nativeElement.focus()}_getCurrentActiveOptionIndex(){return this.options.toArray().findIndex(e=>e.hasFocus)}_getNewActiveOptionIndex(e,n){return Math.min(Math.max(0,this.options.length-1),Math.max(0,e+(this._isNextNavigationKeyCode(n)?1:-1)))}_resetFocusOnOption(){this._resetHasFocusStates(),this.options.first?.nativeElement.focus()}_setFocusOnOptionByIndex(e){this._resetHasFocusStates();const n=this.options.get(e);if(!n){this._resetFocusOnOption();return}n.nativeElement.focus()}_resetHasFocusStates(){this.options.forEach(e=>e.hasFocus=!1)}_getOptionValueKey(e){return e[this.optionValueKeyPropertyName]}_isNavigationKey(e){return this._isEdgeNavigationKeyCode(e)||this._isNextNavigationKeyCode(e)||this._isPreviousNavigationKeyCode(e)}_isEdgeNavigationKeyCode(e){return e===YM||e===TF}_isNextNavigationKeyCode(e){return e===SF||e===EF}_isPreviousNavigationKeyCode(e){return e===xF||e===wF}ngAfterContentInit(){this._subscribeOnOptionFocused(),this._subscribeOnOptionSelected(),this._subscribeOnOptionChanged()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}resetState(){this._focusedOption=null}onKeyDown(e){const{keyCode:n}=e;this._isNavigationKey(n)&&(e.preventDefault(),this._processNavigationKey(n))}static{this.\u0275fac=function(n){return new(n||Jl)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Jl,selectors:[["","crtListboxViewport",""]],contentQueries:function(n,a,i){if(n&1&&t.\u0275\u0275contentQuery(i,_u,5),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.options=s)}},hostVars:2,hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("keydown",function(s){return a.onKeyDown(s)}),n&2&&t.\u0275\u0275attribute("aria-hidden",a.ariaHidden)("role",a.role)},inputs:{role:"role",optionValueKeyPropertyName:"optionValueKeyPropertyName"},outputs:{selectedChange:"selectedChange"},exportAs:["crtListboxViewport"]})}}class Xl{static{this.\u0275fac=function(n){return new(n||Xl)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Xl})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Xl,{declarations:[Jl,_u],imports:[_.CommonModule],exports:[Jl,_u]})})();const PF=320,OF=[[["","crt-select-list-item-icon",""]],"*",[["","crt-select-list-item-actions",""]]],DF=["[crt-select-list-item-icon]","*","[crt-select-list-item-actions]"];class _c extends ue.K{constructor(){super(...arguments),this.id=(0,de.qv)()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(_c)))(a||_c)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:_c,selectors:[["crt-select-list-item"]],inputs:{id:"id"},features:[t.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:DF,decls:6,vars:0,consts:[[1,"crt-select-list-item-icon-container"],[1,"crt-select-list-item-value"],[1,"crt-select-list-item-actions-container"]],template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(OF),t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275projection(1),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"div",1),t.\u0275\u0275projection(3,1),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",2),t.\u0275\u0275projection(5,2),t.\u0275\u0275elementEnd())},styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:flex;align-items:center;padding:0 8px;gap:8px;color:var(--crt-palette-foreground-500);border-radius:4px}[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus-within, [_nghost-%COMP%]:focus-visible{outline:none;background-color:var(--crt-palette-interaction-500)}[_nghost-%COMP%]:hover   .crt-select-list-item-actions-container[_ngcontent-%COMP%], [_nghost-%COMP%]:focus-within   .crt-select-list-item-actions-container[_ngcontent-%COMP%], [_nghost-%COMP%]:focus-visible   .crt-select-list-item-actions-container[_ngcontent-%COMP%]{opacity:1}.crt-select-list-item-value[_ngcontent-%COMP%]{font-family:var(--crt-body-2-font-family);font-size:var(--crt-body-2-font-size);line-height:var(--crt-body-2-line-height);font-weight:var(--crt-body-2-font-weight);letter-spacing:var(--crt-body-2-letter-spacing);text-transform:var(--crt-body-2-text-transform);-webkit-font-smoothing:antialiased;display:flex;flex-shrink:1;min-width:0;width:100%;height:36px;align-items:center;cursor:default;outline:none}.crt-select-list-item-icon-container[_ngcontent-%COMP%]{height:16px;width:16px}.crt-select-list-item-actions-container[_ngcontent-%COMP%]{margin-inline-start:auto;opacity:0;display:flex;align-items:center;gap:8px}.crt-select-list-item-icon-container[_ngcontent-%COMP%]:empty, .crt-select-list-item-actions-container[_ngcontent-%COMP%]:empty{display:none}"],changeDetection:0})}}const AF=["listItemsContainer"],LF=[[["","crt-select-list-actions",""]],[["","crt-select-list-footer-items",""]],"*"],kF=["[crt-select-list-actions]","[crt-select-list-footer-items]","*"];function RF(r,e){r&1&&t.\u0275\u0275projection(0,2,["*ngIf","selectListItems?.length; else noData"])}function NF(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",13)(1,"div",14),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()()),r&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(3,1,"SelectList.NoData")," "))}function VF(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",15),t.\u0275\u0275listener("crtObserveElementInViewportStateChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onLastItemInViewportStateChange(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("crtObserveElementInViewportConfig",n.lastItemObserverConfig)}}function FF(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",3)(1,"div",4)(2,"div",5)(3,"crt-search-filter",6),t.\u0275\u0275listener("valueChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onSearchValueChange(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",7),t.\u0275\u0275projection(5),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(6,"div",8,0),t.\u0275\u0275template(8,RF,1,0,"ng-content",9)(9,NF,4,3,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementStart(11,"div",10),t.\u0275\u0275template(12,VF,1,1,"div",11),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(13,"div",12),t.\u0275\u0275projection(14,1),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275reference(10),a=t.\u0275\u0275nextContext();t.\u0275\u0275property("cdkTrapFocusAutoCapture",!0),t.\u0275\u0275advance(3),t.\u0275\u0275property("instant",!0),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",a.selectListItems==null?null:a.selectListItems.length)("ngIfElse",n),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",(a.selectListItems==null?null:a.selectListItems.length)&&a.selectListItemsContainerHasScroll)}}const Th=4,jF=160;class fu{constructor(){this._destroyed$=new m.Subject,this._changeDetectorRef=(0,t.inject)(t.ChangeDetectorRef),this._isOpen=!1,this.overlayPositions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:Th,panelClass:"crt-select-list-overlay-bottom-position"},{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetY:Th,panelClass:"crt-select-list-overlay-bottom-position"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:Th,panelClass:"crt-select-list-overlay-bottom-position"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",offsetY:-Th,panelClass:"crt-select-list-overlay-top-position"},{originX:"center",originY:"top",overlayX:"center",overlayY:"bottom",offsetY:-Th,panelClass:"crt-select-list-overlay-top-position"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",offsetY:-Th,panelClass:"crt-select-list-overlay-top-position"}],this.lastItemObserverConfig={threshold:.1},this.isOpenChange=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.filtering=new t.EventEmitter,this.id="select-list-"+(0,de.qv)()}get selectListItemsContainerHasScroll(){const e=this.listItemsContainer?.nativeElement;return e?.scrollHeight>e?.clientHeight}get overlayMinHeight(){return this.selectListItems?.length?jF:null}set isOpen(e){this._isOpen!==e&&(this._resetSelectListState(),this._isOpen=e,this.isOpenChange.emit(e),this._changeDetectorRef.detectChanges())}get isOpen(){return this._isOpen}set overlayWidth(e){e=Math.max(e,PF),this._overlayWidth!==e&&(this._overlayWidth=e,this._changeDetectorRef.detectChanges())}get overlayWidth(){return this._overlayWidth}_resetListItemsContainerScrollPosition(){this.listItemsContainer?.nativeElement&&(this.listItemsContainer.nativeElement.scrollTop=0)}_resetSelectListState(){this._lastSearchValue=null,this._lastItemId=null}onBackdropClick(){this.isOpen=!1}onOverlayKeyDown(e){e.code===Ht.Key.Escape&&(this.isOpen=!1)}onLastItemInViewportStateChange(e){if(e.visible===!1)return;const n=this.selectListItems?.last?.id;n!==this._lastItemId&&(this._lastItemId=n,this.paginationChange.emit(this._lastSearchValue))}onSearchValueChange(e){this._resetListItemsContainerScrollPosition();const n=e.value;this._lastSearchValue=n,this.filtering.emit(n)}ngAfterContentInit(){this.selectListItems.changes.pipe((0,m.tap)(()=>this._changeDetectorRef.markForCheck()),(0,m.takeUntil)(this._destroyed$)).subscribe()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||fu)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:fu,selectors:[["crt-select-list"]],contentQueries:function(n,a,i){if(n&1&&t.\u0275\u0275contentQuery(i,_c,5),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.selectListItems=s)}},viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(AF,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.listItemsContainer=i.first)}},hostVars:1,hostBindings:function(n,a){n&2&&t.\u0275\u0275attribute("id",a.id)},inputs:{isOpen:"isOpen",overlayWidth:"overlayWidth",trigger:"trigger"},outputs:{isOpenChange:"isOpenChange",paginationChange:"paginationChange",filtering:"filtering"},ngContentSelectors:kF,decls:1,vars:7,consts:[["listItemsContainer",""],["noData",""],["cdkConnectedOverlay","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-backdrop-noop-animation","cdkConnectedOverlayPanelClass","crt-select-list-overlay-panel",3,"backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPositions","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayMinHeight","cdkConnectedOverlayFlexibleDimensions","cdkConnectedOverlayWidth"],["cdkTrapFocus","",1,"crt-select-list-wrap",3,"cdkTrapFocusAutoCapture"],[1,"crt-select-list-header-wrap"],[1,"crt-select-list-header-container"],["cdkFocusInitial","","data-item-marker","selectListSearch",3,"valueChange","instant"],[1,"crt-select-list-header-list-actions"],[1,"crt-select-list-items-wrap"],[4,"ngIf","ngIfElse"],[1,"crt-select-list-last-item-observer"],["crtObserveElementInViewport","",3,"crtObserveElementInViewportConfig","crtObserveElementInViewportStateChange",4,"ngIf"],[1,"crt-select-list-footer-items-wrap"],[1,"crt-select-list-item-no-data-container"],[1,"crt-select-list-item-no-data-label"],["crtObserveElementInViewport","",3,"crtObserveElementInViewportStateChange","crtObserveElementInViewportConfig"]],template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(LF),t.\u0275\u0275template(0,FF,15,5,"ng-template",2),t.\u0275\u0275listener("backdropClick",function(){return a.onBackdropClick()})("overlayKeydown",function(s){return a.onOverlayKeyDown(s)})),n&2&&t.\u0275\u0275property("cdkConnectedOverlayDisableClose",!1)("cdkConnectedOverlayPositions",a.overlayPositions)("cdkConnectedOverlayOrigin",a.trigger)("cdkConnectedOverlayOpen",a.isOpen)("cdkConnectedOverlayMinHeight",a.overlayMinHeight)("cdkConnectedOverlayFlexibleDimensions",!0)("cdkConnectedOverlayWidth",a.overlayWidth)},dependencies:[In.CdkConnectedOverlay,_.NgIf,uC.w,Yn,Ge.CdkTrapFocus,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.crt-select-list-wrap[_ngcontent-%COMP%]{box-shadow:var(--crt-palette-foreground-100) 0 2px 4px 0;border-color:var(--crt-palette-border-500);background-color:var(--crt-palette-background-500);display:flex;flex-direction:column;box-sizing:border-box;border-width:1px;border-style:solid;border-radius:4px;padding:8px;width:100%}.crt-select-list-wrap[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]:not([disable-custom-scroll=true])   *[_ngcontent-%COMP%]{--scrollbar-color: transparent;--scrollbar-thumb-color: rgb(24 24 24 / 20%);--scrollbar-track-color: rgb(24 24 24 / 5%)}.crt-select-list-wrap[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]:not([disable-custom-scroll=true])   *[_ngcontent-%COMP%]:not(body):not(html)::-webkit-scrollbar-thumb{background-color:transparent!important}@-moz-document url-prefix(){.crt-select-list-wrap body:not([disable-custom-scroll=true]) *:not(body):not(html){scrollbar-width:thin;scrollbar-color:transparent transparent}}.crt-select-list-wrap[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]:not([disable-custom-scroll=true])   *[_ngcontent-%COMP%]:not(body):not(html):hover::-webkit-scrollbar-thumb{background-color:var(--scrollbar-thumb-color)!important}@-moz-document url-prefix(){.crt-select-list-wrap body:not([disable-custom-scroll=true]) *:not(body):not(html):hover{scrollbar-color:var(--scrollbar-thumb-color) transparent}}.crt-select-list-wrap[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]:not([disable-custom-scroll=true])   [_ngcontent-%COMP%]::-webkit-scrollbar{width:8px!important;height:8px!important;background-color:var(--scrollbar-color)}.crt-select-list-wrap[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]:not([disable-custom-scroll=true])   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--scrollbar-thumb-color);border-radius:8px;background-clip:content-box!important;border:2px solid transparent;min-height:40px;min-width:40px}.crt-select-list-wrap[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]:not([disable-custom-scroll=true])   [_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{border:1px solid transparent}.crt-select-list-wrap[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]:not([disable-custom-scroll=true])   [_ngcontent-%COMP%]::-webkit-scrollbar-button{height:0;width:0}.crt-select-list-wrap[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]:not([disable-custom-scroll=true])   [_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:transparent;border-radius:8px}.crt-select-list-wrap[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]:not([disable-custom-scroll=true])   [_ngcontent-%COMP%]::-webkit-scrollbar-track:hover{background-color:var(--scrollbar-track-color)}.crt-select-list-wrap[_ngcontent-%COMP%]   body[_ngcontent-%COMP%]:not([disable-custom-scroll=true])   [_ngcontent-%COMP%]::-webkit-scrollbar-corner{display:none}.crt-select-list-wrap[_ngcontent-%COMP%]   .crt-select-list-header-wrap[_ngcontent-%COMP%]{border-bottom-color:var(--crt-palette-border-500);margin-bottom:8px;border-bottom-width:1px;border-bottom-style:solid;padding-bottom:8px}.crt-select-list-wrap[_ngcontent-%COMP%]   .crt-select-list-header-wrap[_ngcontent-%COMP%]   .crt-select-list-header-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding:0 8px}.crt-select-list-wrap[_ngcontent-%COMP%]   .crt-select-list-header-wrap[_ngcontent-%COMP%]   .crt-select-list-header-container[_ngcontent-%COMP%]     crt-search-filter{width:100%;max-width:100%}.crt-select-list-wrap[_ngcontent-%COMP%]   .crt-select-list-header-wrap[_ngcontent-%COMP%]   .crt-select-list-header-container[_ngcontent-%COMP%]     crt-search-filter .crt-search-container .crt-search-input-container{min-height:32px}.crt-select-list-wrap[_ngcontent-%COMP%]   .crt-select-list-header-wrap[_ngcontent-%COMP%]   .crt-select-list-header-container[_ngcontent-%COMP%]     crt-search-filter .crt-search-container .crt-search-input-underline{visibility:hidden;border-bottom:none}.crt-select-list-wrap[_ngcontent-%COMP%]   .crt-select-list-header-wrap[_ngcontent-%COMP%]   .crt-select-list-header-container[_ngcontent-%COMP%]   .crt-select-list-header-list-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.crt-select-list-wrap[_ngcontent-%COMP%]   .crt-select-list-header-wrap[_ngcontent-%COMP%]   .crt-select-list-header-container[_ngcontent-%COMP%]   .crt-select-list-header-list-actions[_ngcontent-%COMP%]:not(:empty){margin-inline-start:8px}.crt-select-list-wrap[_ngcontent-%COMP%]   .crt-select-list-items-wrap[_ngcontent-%COMP%]{max-height:433px;overflow:auto}.crt-select-list-wrap[_ngcontent-%COMP%]   .crt-select-list-items-wrap[_ngcontent-%COMP%]   .crt-select-list-item-no-data-label[_ngcontent-%COMP%]{display:flex;height:36px;align-items:center;cursor:default;padding-inline-start:8px;outline:none;width:100%;justify-content:center;font-family:var(--crt-caption-font-family);font-size:var(--crt-caption-font-size);line-height:var(--crt-caption-line-height);font-weight:var(--crt-caption-font-weight);letter-spacing:var(--crt-caption-letter-spacing);text-transform:var(--crt-caption-text-transform);-webkit-font-smoothing:antialiased;color:var(--crt-palette-label-500)}.crt-select-list-wrap[_ngcontent-%COMP%]   .crt-select-list-items-wrap[_ngcontent-%COMP%]   .crt-select-list-last-item-observer[_ngcontent-%COMP%]{height:1px}.crt-select-list-wrap[_ngcontent-%COMP%]   .crt-select-list-footer-items-wrap[_ngcontent-%COMP%]{border-top-color:var(--crt-palette-border-500);margin-top:8px;border-top-width:1px;border-top-style:solid;padding-top:8px;max-height:115px;overflow:auto}.crt-select-list-wrap[_ngcontent-%COMP%]   .crt-select-list-footer-items-wrap[_ngcontent-%COMP%]:not(:has(*)){display:none}  .crt-select-list-overlay-panel.crt-select-list-overlay-bottom-position{padding-bottom:4px}  .crt-select-list-overlay-panel.crt-select-list-overlay-top-position{padding-top:4px}"],changeDetection:0})}}const JM=new t.InjectionToken("SELECT_INPUT"),XM=new t.InjectionToken("SELECT_LIST"),BF=[[["","select-input",""]],[["","select-list",""]]],zF=["[select-input]","[select-list]"];class Ph{constructor(){this._destroyed$=new m.Subject,this.loadListItems=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.selectedItemsChange=new t.EventEmitter,this.deleteSelectedItems=new t.EventEmitter}set listItems(e){this.listComponent.listItems=e}set selectedItems(e){this.inputComponent.selectedItems=e}_initializeListData(){const e=this.listComponent;e&&(e.trigger=this.inputComponent.selectListOverlayOrigin,e.loadListItems.pipe((0,h.takeUntil)(this._destroyed$)).subscribe(this.loadListItems),e.paginationChange.pipe((0,h.takeUntil)(this._destroyed$)).subscribe(this.paginationChange),e.selectedItemsChange.pipe((0,h.takeUntil)(this._destroyed$)).subscribe(this.selectedItemsChange))}_initializeInputData(){const e=this.inputComponent;e&&e.deleteSelectedItems.pipe((0,h.takeUntil)(this._destroyed$)).subscribe(this.deleteSelectedItems)}openList(){this.listComponent.isOpen=!0}ngAfterContentInit(){this._initializeListData(),this._initializeInputData()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||Ph)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ph,selectors:[["crt-base-select"]],contentQueries:function(n,a,i){if(n&1&&(t.\u0275\u0275contentQuery(i,JM,7),t.\u0275\u0275contentQuery(i,XM,7)),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.inputComponent=s.first),t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.listComponent=s.first)}},inputs:{listItems:"listItems",selectedItems:"selectedItems"},outputs:{loadListItems:"loadListItems",paginationChange:"paginationChange",selectedItemsChange:"selectedItemsChange",deleteSelectedItems:"deleteSelectedItems"},ngContentSelectors:zF,decls:2,vars:0,template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(BF),t.\u0275\u0275projection(0),t.\u0275\u0275projection(1,1))},encapsulation:2,changeDetection:0})}}const UF=["*"];class eb{static{this.\u0275fac=function(n){return new(n||eb)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:eb,selectors:[["crt-select-list-footer-item"]],ngContentSelectors:UF,decls:2,vars:0,template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"crt-select-list-item"),t.\u0275\u0275projection(1),t.\u0275\u0275elementEnd())},dependencies:[_c],styles:["[_nghost-%COMP%]:hover, [_nghost-%COMP%]:focus-within, [_nghost-%COMP%]:focus-visible{outline:none}[_nghost-%COMP%]:hover   crt-select-list-item[_ngcontent-%COMP%], [_nghost-%COMP%]:focus-within   crt-select-list-item[_ngcontent-%COMP%], [_nghost-%COMP%]:focus-visible   crt-select-list-item[_ngcontent-%COMP%]{background-color:var(--crt-palette-interaction-500)}"],changeDetection:0})}}class jC{constructor(){this.primaryColumnName="Id"}isLookupValue(e){return e!==null&&typeof e=="object"&&"value"in e}getRecordIdFromValue(e){return this.isLookupValue(e)?e.value:e}isValidRecordId(e){return(0,de.n7)(e)&&!(0,de.gZ)(e)}isCorrectViewConfigData(e){return!!e&&!!e.selectSchemaName&&!!e.selectColumnName&&!!e.recordRelationColumnName}}let r3=class extends jC{constructor(){super(...arguments),this.recordIdFilterKey="RecordIdFilter",this.notNullableSelectColumnFilterKey="NotNullableSelectColumnFilter"}createFilterGroupWithFakeId(){const e=new nr.X;return e.addSchemaColumnFilterWithParameter(He.H.Equal,this.primaryColumnName,de.To,this.recordIdFilterKey),e}createFilterGroup(e,n){const a=new nr.X;return a.addSchemaColumnFilterWithParameter(He.H.Equal,n.recordRelationColumnName,e,this.recordIdFilterKey),a.addSchemaColumnIsNotNullFilter(`${n.selectColumnName}.${this.primaryColumnName}`,this.notNullableSelectColumnFilterKey),a}convert(e,n,a){const i=this.getRecordIdFromValue(e);return!this.isValidRecordId(i)||!this.isCorrectViewConfigData(a)?this.createFilterGroupWithFakeId():this.createFilterGroup(i,a)}};r3=(0,u.__decorate)([(0,so.a)({type:"crt.BaseSelectFilterAttributeConverter"})],r3);let o3=class extends jC{constructor(){super(...arguments),this._filterKey="SkipSelectedItemsFilter"}_getPrimaryColumnValuesFromCollection(e){var n=this;return(0,bt.A)(function*(){return(yield Promise.all(e.map(function(){var a=(0,bt.A)(function*(i){return yield i[n.primaryColumnName]});return function(i){return a.apply(this,arguments)}}()))).filter(Boolean)})()}createFilterGroup(e){var n=this;return(0,bt.A)(function*(){const a=yield n._getPrimaryColumnValuesFromCollection(e);if(a.length===0)return null;const i=new nr.X;return i.addSchemaColumnInFilterWithParameters(He.H.Not_equal,n.primaryColumnName,a,n._filterKey),i})()}convert(e){return e?.length?this.createFilterGroup(e):null}};o3=(0,u.__decorate)([(0,so.a)({type:"crt.BaseSelectListItemsFilterAttributeConverter"})],o3);let BC=class extends jC{_isAllowedModelInitConfigByRecordId(e,n,a){const i=this._findRecordModelConfigByRecordId(e,n);return!!i&&this._isAllowedModelInitConfigAction(i,a)}_isAllowedModelInitConfigByModelName(e,n,a){const i=this._getDataSourceNameByAttributeName(e,n),s=this._findRecordModelConfigByModelName(e,i);return!s||!(s&&n===this.primaryColumnName&&!this._isAllowedModelInitConfigAction(s,a))}_getDataSourceNameByAttributeName(e,n){return e?.viewModelConfig?.attributes?.[n]?.modelConfig?.path?.split(".")?.[0]}_findRecordModelConfigByModelName(e,n){return e.modelInitConfigs?.find(i=>i.name===n)}_findRecordModelConfigByRecordId(e,n){return e.modelInitConfigs?.find(i=>i.recordId===n)}_isAllowedModelInitConfigAction(e,n){return n||e.action===Xo.Edit}convert(e,n,a,i=!1){const s=this.getRecordIdFromValue(e);return this.isValidRecordId(s)?!(this._isAllowedModelInitConfigByRecordId(n,s,i)||this._isAllowedModelInitConfigByModelName(n,a,i)):!0}};BC=(0,u.__decorate)([(0,so.a)({type:"crt.BaseSelectDisabledAttributeConverter"})],BC);class nb{constructor(){this._elementClass="crt-select-list-item-icon"}static{this.\u0275fac=function(n){return new(n||nb)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:nb,selectors:[["","crtSelectListItemIcon",""]],hostVars:2,hostBindings:function(n,a){n&2&&t.\u0275\u0275classMap(a._elementClass)}})}}let s3=class extends da.l{constructor(e){super(),this._notifyService=e}_insertSelectItemsInRecordModel(e){var n=this;return(0,bt.A)(function*(){const a=yield n._handleInserts(e);return n._processInsertResults(a),a})()}_handleInserts(e){var n=this;return(0,bt.A)(function*(){const a=yield n._createSelectItemsInRecordModel(e),i=n._createInsertDtoArray(e).map(s=>a.insert(s));return Promise.all(i)})()}_createSelectItemsInRecordModel(e){return Hy.K.create(e.selectSchemaName)}_createInsertDtoArray(e){return e.selectedIds.map(n=>({[e.selectColumnName]:n,[e.recordRelationColumnName]:this._getRecordId(e)}))}_getRecordId(e){const n=e.recordId;return(0,Oo.oX)(n)?n.value:n}_processInsertResults(e){e.forEach(n=>{n.success||this._displayErrorNotification(n.errorInfo)})}_displayErrorNotification(e){this._notifyService.show({message:e})}handle(e){return(0,y.isEmpty)(e.selectedIds)?Promise.resolve():this._insertSelectItemsInRecordModel(e)}};s3=(0,u.__decorate)([(0,Fn.l)({requestType:"crt.AddSelectedItemsInRecordRequest",type:"crt.AddSelectedItemsInRecordHandler"}),(0,u.__metadata)("design:paramtypes",[_o.F])],s3);let c3=class extends da.l{_getCreateCollectionItemsRequestConfig(e){return{type:"crt.CreateCollectionItemsRequest",$context:e.$context,scopes:e.scopes,collectionAttributeName:e.collectionAttributeName,items:e.selectedIds.map(n=>({initialModelValues:{[e.selectColumnName]:n,[e.recordRelationColumnName]:this._getRecordId(e)}})),index:0}}_getRecordId(e){const n=e.recordId;return(0,Oo.oX)(n)?n.value:n}handle(e){var n=this;return(0,bt.A)(function*(){const a=n._getCreateCollectionItemsRequestConfig(e);return yield n.handlerChain.process(a)})()}};c3=(0,u.__decorate)([(0,Fn.l)({requestType:"crt.AddSelectedItemsInRecordManualRequest",type:"crt.AddSelectedItemsInRecordManualHandler"})],c3);let So=class Iv{static{this.\u0275fac=function(n){return new(n||Iv)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Iv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[In.OverlayModule,_.CommonModule,Cl.H,ui,f.TranslateModule,Ge.A11yModule,_t.MatIconModule,Xl]})}};So=(0,u.__decorate)([(0,ie.g)({converters:[r3,o3,BC],requestHandlers:[s3,c3]})],So),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(So,{declarations:[fu,Ph,nb,_c,eb],imports:[In.OverlayModule,_.CommonModule,Cl.H,ui,f.TranslateModule,Ge.A11yModule,_t.MatIconModule,Xl],exports:[fu,Ph,nb,_c,eb]})}();class ql{static{this.\u0275fac=function(n){return new(n||ql)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:ql})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[lt.MatLegacyInputModule,jn.MatLegacySelectModule,oe.MatLegacyCheckboxModule,nt.MatLegacyButtonModule,q.MatLegacyFormFieldModule,mn.MatExpansionModule,c.MatLegacyAutocompleteModule,_t.MatIconModule,bs.MatLegacyRadioModule,dn.MatTooltipModule,lt.MatLegacyInputModule,jn.MatLegacySelectModule,oe.MatLegacyCheckboxModule,nt.MatLegacyButtonModule,q.MatLegacyFormFieldModule,mn.MatExpansionModule,c.MatLegacyAutocompleteModule,_t.MatIconModule,bs.MatLegacyRadioModule,dn.MatTooltipModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(ql,{imports:[lt.MatLegacyInputModule,jn.MatLegacySelectModule,oe.MatLegacyCheckboxModule,nt.MatLegacyButtonModule,q.MatLegacyFormFieldModule,mn.MatExpansionModule,c.MatLegacyAutocompleteModule,_t.MatIconModule,bs.MatLegacyRadioModule,dn.MatTooltipModule],exports:[lt.MatLegacyInputModule,jn.MatLegacySelectModule,oe.MatLegacyCheckboxModule,nt.MatLegacyButtonModule,q.MatLegacyFormFieldModule,mn.MatExpansionModule,c.MatLegacyAutocompleteModule,_t.MatIconModule,bs.MatLegacyRadioModule,dn.MatTooltipModule]})})();const IH="Tag",HF="TagInRecord",xH="Tag",WF="RecordId",SH="TagInSchema",wH="EntitySchemaName",GF="Entity",EH="TagType",$F="d6fb4de6-0809-41fe-a84f-6d245cbc5f32",KF="5d79e393-f8e0-4830-a76b-f3c7bce529ed",TH="8d7f6d6c-4ca5-4b43-bdd9-a5e01a582260",ZF=["selectListTrigger"],QF=["*"],YF=(r,e)=>({"crt-tag-select-input":!0,"crt-tag-select-input-with-label":r,"crt-tag-select-input-disabled":e}),JF=r=>({"crt-tag-select-input-label":!0,"crt-tag-select-input-label-auto-width":r});function XF(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",7)(1,"label",8),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(2,JF,n.isAutoLabelPosition)),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.label)}}function qF(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",9)(1,"crt-chip-list",10),t.\u0275\u0275listener("itemRemove",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onRemoveChipListItemClick(i))}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("items",n.chipListItems)("wrap",n.wrap)("ariaLabel",n.label)}}class Oh{constructor(){this._defaultItemColor="#8B9FDA",this._directionality=(0,t.inject)(me.Directionality),this._changeDetectorRef=(0,t.inject)(t.ChangeDetectorRef),this._elementRef=(0,t.inject)(t.ElementRef),this._initialLabelPosition="auto",this._disableContainerQueryMechanism=!0,this._labelOverModeResponsiveSize=320,this.isAutoLabelPosition=!0,this.wrap=!1,this.documentDirection=this._directionality?.value==="rtl"?"rtl":null,this.label="",this.deleteSelectedItems=new t.EventEmitter}get isNeedShowLabel(){return!!this.label&&this.displayLabelPosition!=="hidden"}get isResponsible(){return this.displayLabelPosition==="auto"}set selectedItems(e){this._selectedItems=e,this._initializeChipListItems(),this._changeDetectorRef.detectChanges()}get selectedItems(){return this._selectedItems}set labelPosition(e){this._initialLabelPosition=e||"auto",this.isAutoLabelPosition=this._initialLabelPosition==="auto",this._initLabelPosition()}get labelPosition(){return this._initialLabelPosition}get containerQueryMechanismAvailable(){return!this._disableContainerQueryMechanism}get displayLabelPosition(){return this.containerQueryMechanismAvailable?this._initialLabelPosition:this._displayLabelPosition}_initializeChipListItems(){this.chipListItems=this.selectedItems?.map(e=>({caption:e.name,value:e.relationRecordId,color:e.color||this._defaultItemColor}))||[]}_initLabelPosition(){this.containerQueryMechanismAvailable||(this._displayLabelPosition=this._getDisplayLabelPosition())}_getDisplayLabelPosition(e){return this._initialLabelPosition==null||this._initialLabelPosition==="auto"?(e??=this._elementRef?.nativeElement?.getBoundingClientRect()?.width,e>this._labelOverModeResponsiveSize?"left":"above"):this._initialLabelPosition}onRemoveChipListItemClick(e){const n=e?.value;n&&this.deleteSelectedItems.emit({ids:[n]})}onResized(e){this.containerQueryMechanismAvailable||(this._displayLabelPosition=this._getDisplayLabelPosition(e?.width))}ngAfterViewInit(){this.isAutoLabelPosition!==!1&&(this._initLabelPosition(),this._changeDetectorRef.detectChanges())}static{this.\u0275fac=function(n){return new(n||Oh)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Oh,selectors:[["crt-tag-select-input"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(ZF,7,In.CdkOverlayOrigin),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.selectListOverlayOrigin=i.first)}},hostVars:3,hostBindings:function(n,a){n&2&&(t.\u0275\u0275attribute("dir",a.documentDirection),t.\u0275\u0275classProp("crt-tag-select-input-label-responsible",a.isResponsible))},inputs:{disabled:"disabled",selectedItems:"selectedItems",label:"label",labelPosition:"labelPosition"},outputs:{deleteSelectedItems:"deleteSelectedItems"},features:[t.\u0275\u0275ProvidersFeature([{provide:JM,useExisting:Oh}])],ngContentSelectors:QF,decls:8,vars:9,consts:[["selectListTrigger",""],[1,"crt-tag-select-input-wrap"],["crtResizable","",3,"resized","ngClass"],["class","crt-tag-select-input-label-container",4,"ngIf"],[1,"crt-tag-select-input-chips-container-wrap"],["cdkOverlayOrigin","",1,"crt-tag-select-input-chips-add-action"],["class","crt-tag-select-input-chips-container",4,"ngIf"],[1,"crt-tag-select-input-label-container"],[3,"ngClass"],[1,"crt-tag-select-input-chips-container"],[3,"itemRemove","items","wrap","ariaLabel"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",1)(1,"div",2),t.\u0275\u0275listener("resized",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onResized(b))}),t.\u0275\u0275template(2,XF,3,4,"div",3),t.\u0275\u0275elementStart(3,"div",4)(4,"div",5,0),t.\u0275\u0275projection(6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,qF,2,3,"div",6),t.\u0275\u0275elementEnd()()()}n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275classMapInterpolate1("crt-tag-select-input-label-position-",a.displayLabelPosition,""),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(6,YF,a.isNeedShowLabel,a.disabled)),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isNeedShowLabel),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",(a.selectedItems==null?null:a.selectedItems.length)>0))},dependencies:[_.NgClass,_.NgIf,lr,Le.C,In.CdkOverlayOrigin],styles:["crt-placeholder[_ngcontent-%COMP%]{--crt-placeholder-background-color: var(--crt-palette-primary-contrast-500);--crt-placeholder-title-color: var(--crt-palette-foreground-500);--crt-placeholder-icon-color: var(--crt-palette-secondary-500);--crt-placeholder-subhead-color: var(--crt-palette-label-500)}crt-button[_ngcontent-%COMP%]{--crt-button-default-color: transparent;--crt-button-default-hover-color: var(--crt-palette-interaction-400);--crt-button-default-pressed-color: var(--crt-palette-interaction-900);--crt-button-default-disabled-color: transparent;--crt-button-default-contrast-color: var(--crt-palette-secondary-500);--crt-button-default-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-primary-color: var(--crt-palette-primary-500);--crt-button-primary-hover-color: var(--crt-palette-primary-800);--crt-button-primary-pressed-color: var(--crt-palette-primary-900);--crt-button-primary-disabled-color: var(--crt-palette-disabled-50);--crt-button-primary-contrast-color: var(--crt-palette-primary-contrast-500);--crt-button-primary-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-accent-color: var(--crt-palette-success-500);--crt-button-accent-hover-color: var(--crt-palette-success-800);--crt-button-accent-pressed-color: var(--crt-palette-success-900);--crt-button-accent-disabled-color: var(--crt-palette-disabled-50);--crt-button-accent-contrast-color: var(--crt-palette-success-contrast-500);--crt-button-accent-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-warning-color: var(--crt-palette-error-500);--crt-button-warning-hover-color: var(--crt-palette-error-800);--crt-button-warning-pressed-color: var(--crt-palette-error-900);--crt-button-warning-disabled-color: var(--crt-palette-disabled-50);--crt-button-warning-contrast-color: var(--crt-palette-error-contrast-500);--crt-button-warning-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-outline-color: var(--crt-palette-interaction-200);--crt-button-outline-hover-color: var(--crt-palette-interaction-400);--crt-button-outline-pressed-color: var(--crt-palette-interaction-900);--crt-button-outline-disabled-color: var(--crt-palette-disabled-50);--crt-button-outline-contrast-color: var(--crt-palette-secondary-500);--crt-button-outline-contrast-disabled-color: var(--crt-palette-disabled-500);--crt-button-outline-border-color: var(--crt-palette-secondary-100);--crt-button-outline-hover-border-color: var(--crt-palette-secondary-100);--crt-button-outline-pressed-border-color: var(--crt-palette-secondary-100);--crt-button-outline-disabled-border-color: var(--crt-palette-disabled-100);--crt-button-outline-divider-color: var(--crt-palette-secondary-100)}crt-button[_ngcontent-%COMP%]   .crt-button--text[_ngcontent-%COMP%]{--crt-button-default-color: var(--crt-palette-secondary-500);--crt-button-default-hover-color: var(--crt-palette-secondary-A400);--crt-button-default-pressed-color: var(--crt-palette-secondary-A700);--crt-button-default-contrast-color: var(--crt-palette-secondary-500)}crt-checkbox[_ngcontent-%COMP%]{--crt-checkbox-background-color: var(--crt-palette-primary-500);--crt-checkbox-background-hover-color: var(--crt-palette-primary-900);--crt-checkbox-background-contrast-color: var(--crt-palette-primary-contrast-500);--crt-checkbox-background-disabled-color: var(--crt-palette-disabled-200);--crt-checkbox-background-disabled-hover-color: var(--crt-palette-disabled-500);--crt-checkbox-border-unchecked-color: var(--crt-palette-label-500);--crt-checkbox-border-unchecked-disabled-color: var(--crt-palette-disabled-200);--crt-checkbox-foreground-color: var(--crt-palette-label-500)}crt-autocomplete[_ngcontent-%COMP%]{--crt-autocomplete-opened-color: var(--crt-palette-secondary-A700);--crt-autocomplete-closed-color: var(--crt-palette-secondary-500);--crt-autocomplete-selection-window-color: var(--crt-palette-secondary-500);--crt-autocomplete-selection-window-focused-color: var(--crt-palette-secondary-A700)}.crt-base-edit-input[_ngcontent-%COMP%]{--crt-base-input-label-color: var(--crt-palette-label-500);--crt-base-input-foreground-color: var(--crt-palette-foreground-500);--crt-base-input-disabled-color: var(--crt-palette-disabled-500);--crt-base-input-readonly-color: var(--crt-palette-label-500);--crt-base-input-invalid-color: var(--crt-palette-error-500);--crt-base-input-tooltip-icon-color: var(--crt-palette-secondary-500);--crt-base-input-border-color: var(--crt-palette-border-500);--crt-base-input-border-focus-color: var(--crt-palette-primary-500)}body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-data-table[_ngcontent-%COMP%]{--crt-data-table-icon-color: var(--crt-palette-secondary-500);--crt-data-table-icon-hover-color: var(--crt-palette-secondary-A400);--crt-data-table-icon-active-color: var(--crt-palette-secondary-A700);--crt-data-table-invalid-color: var(--crt-palette-error-500);--crt-data-table-disabled-color: var(--crt-palette-label-500);--crt-data-table-background-color: var(--crt-palette-background-500);--crt-data-table-header-foreground-color: var(--crt-palette-label-500);--crt-data-table-drag-preview-background-color: var(--crt-palette-interaction-50);--crt-data-table-drag-placeholder-background-color: var(--crt-palette-interaction-500);--crt-data-table-cell-border-color: var(--crt-palette-border-500);--crt-data-table-cell-border-selected-color: var(--crt-palette-primary-500);--crt-data-table-cell-border-editing-color: var(--crt-palette-primary-500);--crt-data-table-cell-foreground-color: var(--crt-palette-foreground-500);--crt-data-table-cell-edited-icon-color: var(--crt-palette-foreground-100);--crt-data-table-row-background-active-color: var(--crt-palette-interaction-400);--crt-data-table-row-background-selected-color: var(--crt-palette-interaction-900);--crt-data-table-no-data-foreground-color: var(--crt-palette-label-500);--crt-data-table-numeration-foreground-color: var(--crt-palette-label-500)}.crt-dialog[_ngcontent-%COMP%]{--crt-dialog-border-radius: 0;--crt-dialog-title-foreground-color: var(--crt-palette-primary-500)}crt-expansion-panel-header[_ngcontent-%COMP%]{--crt-expansion-panel-header-title-color: var(--crt-palette-navigation-secondary-500);--crt-expansion-panel-header-expanded-toggle-icon-color: var(--crt-palette-navigation-primary-contrast-500);--crt-expansion-panel-header-expanded-toggle-icon-background-color: var(--crt-palette-navigation-primary-500);--crt-expansion-panel-header-expanded-toggle-icon-background-hover-color: var(--crt-palette-navigation-primary-900);--crt-expansion-panel-header-collapsed-toggle-icon-color: var(--crt-palette-disabled-contrast-500);--crt-expansion-panel-header-collapsed-toggle-icon-background-color: var(--crt-palette-disabled-200);--crt-expansion-panel-header-collapsed-toggle-icon-background-hover-color: var(--crt-palette-disabled-500)}crt-link[_ngcontent-%COMP%]{--crt-link-color: var(--crt-palette-link-500);--crt-link-hover-color: var(--crt-palette-link-800)}[dir=rtl][_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .crt-menu.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]   .menu-items-container[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-submenu-trigger.mat-menu-trigger[_ngcontent-%COMP%]   crt-menu-item[dir=rtl][_ngcontent-%COMP%]   .crt-menu-item[_ngcontent-%COMP%], [dir=rtl][_ngcontent-%COMP%]   .cdk-overlay-pane[_ngcontent-%COMP%]   .crt-menu.mat-menu-panel[_ngcontent-%COMP%]   .mat-menu-content[_ngcontent-%COMP%]   .menu-items-container[_ngcontent-%COMP%]   .mat-menu-item.mat-menu-item-submenu-trigger.mat-menu-trigger[_ngcontent-%COMP%]   crt-menu-item[dir=rtl][_ngcontent-%COMP%]   .crt-menu-clickable-item[_ngcontent-%COMP%]{padding:8px 40px 8px 24px}crt-navigation-panel[_ngcontent-%COMP%]{--navigation-panel-scrollbar-thumb-color: rgba(255, 255, 255, .5);--navigation-panel-scrollbar-track-color: rgba(255, 255, 255, .1)}crt-navigation-panel[_ngcontent-%COMP%]   crt-placeholder[_ngcontent-%COMP%]{--crt-placeholder-title-color: var(--crt-palette-background-A100);--crt-placeholder-icon-color: var(--crt-palette-background-A100);--crt-placeholder-subhead-color: var(--crt-palette-background-A100);--crt-placeholder-background-color: var(--crt-glass-color-dark-300)}body[screen-size-type=small][left-panel-collapsed=false][_ngcontent-%COMP%]   crt-navigation-panel[_ngcontent-%COMP%]   .navigation-groups-wrapper[_ngcontent-%COMP%]   crt-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .crt-button-inner-container[_ngcontent-%COMP%]   .btn-reversible-content[_ngcontent-%COMP%]{max-width:calc(100% - 24px)}.crt-tag-select-input-label-responsible[_nghost-%COMP%]   .crt-tag-select-input-wrap[_ngcontent-%COMP%]{container-type:inline-size}@container (width <= 320px){[_nghost-%COMP%]   .crt-tag-select-input-label-position-auto[_ngcontent-%COMP%]{flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-tag-select-input-label-position-auto[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-tag-select-input-label-position-auto[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]   .crt-tag-select-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-tag-select-input-label-position-auto[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]   .crt-tag-select-input-label.crt-tag-select-input-label-auto-width[_ngcontent-%COMP%]{max-width:320px}}@container (width > 320px){[_nghost-%COMP%]   .crt-tag-select-input-label-position-auto[_ngcontent-%COMP%]{flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-tag-select-input-label-position-auto[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-tag-select-input-label-position-auto[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]   .crt-tag-select-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-align:right}[_nghost-%COMP%]   .crt-tag-select-input-label-position-auto[_ngcontent-%COMP%]   .crt-tag-select-input-chips-container-wrap[_ngcontent-%COMP%]{padding-top:6px}}@container (min-width: 320px){[dir=rtl][_nghost-%COMP%]   .crt-tag-select-input-label-position-auto[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]{text-align:left}[dir=rtl][_nghost-%COMP%]   .crt-tag-select-input-label-position-auto[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]   .crt-tag-select-input-label[_ngcontent-%COMP%]{text-align:left}}[dir=rtl][_nghost-%COMP%]   .crt-tag-select-input-label-position-left[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]{text-align:left}[dir=rtl][_nghost-%COMP%]   .crt-tag-select-input-label-position-left[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]   .crt-tag-select-input-label[_ngcontent-%COMP%]{text-align:left}.crt-tag-select-input-wrap[_ngcontent-%COMP%]{display:block}.crt-tag-select-input[_ngcontent-%COMP%]{display:flex;flex-direction:row;position:relative;gap:4px;max-width:100%}.crt-tag-select-input.crt-tag-select-input-label-position-left[_ngcontent-%COMP%]{flex-direction:row;padding-top:8px}.crt-tag-select-input.crt-tag-select-input-label-position-left[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}.crt-tag-select-input.crt-tag-select-input-label-position-left[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]   .crt-tag-select-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-align:right}.crt-tag-select-input.crt-tag-select-input-label-position-left[_ngcontent-%COMP%]   .crt-tag-select-input-chips-container-wrap[_ngcontent-%COMP%]{padding-top:6px}.crt-tag-select-input.crt-tag-select-input-label-position-above[_ngcontent-%COMP%]{flex-direction:column;padding-top:0}.crt-tag-select-input.crt-tag-select-input-label-position-above[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]{display:flex}.crt-tag-select-input.crt-tag-select-input-label-position-above[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]   .crt-tag-select-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}.crt-tag-select-input.crt-tag-select-input-label-position-above[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]   .crt-tag-select-input-label.crt-tag-select-input-label-auto-width[_ngcontent-%COMP%]{max-width:320px}.crt-tag-select-input.crt-tag-select-input-label-position-hidden[_ngcontent-%COMP%]{gap:0px;flex-direction:row;padding-top:8px}.crt-tag-select-input.crt-tag-select-input-label-position-hidden[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}.crt-tag-select-input.crt-tag-select-input-label-position-hidden[_ngcontent-%COMP%]   .crt-tag-select-input-label-container[_ngcontent-%COMP%]   .crt-tag-select-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-align:right}.crt-tag-select-input.crt-tag-select-input-label-position-hidden[_ngcontent-%COMP%]   .crt-tag-select-input-chips-container-wrap[_ngcontent-%COMP%]{padding-top:6px}.crt-tag-select-input-with-label[_ngcontent-%COMP%]{min-height:32px}.crt-tag-select-input-chips-add-action[_ngcontent-%COMP%]{display:flex;align-items:center}.crt-tag-select-input-chips-container[_ngcontent-%COMP%]{overflow:hidden}.crt-tag-select-input-chips-container-wrap[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:4px}"],changeDetection:0})}}const tj=["list"];class zC{constructor(){this._changeDetectorRef=(0,t.inject)(t.ChangeDetectorRef),this.destroyed$=new m.Subject,this.loadListItems=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.selectedItemsChange=new t.EventEmitter}set isOpen(e){e&&this._resetListboxState(),this.selectListComponent.isOpen=e}get isOpen(){return this.selectListComponent?.isOpen}set trigger(e){this._overlayTrigger=e,this.selectListComponent.trigger=e}set listItems(e){this._listItems=e,this.detectChanges()}get listItems(){return this._listItems}_initializeSelectListComponentData(){const e=this.selectListComponent;e&&(e.paginationChange.pipe((0,m.takeUntil)(this.destroyed$)).subscribe(n=>this.onListItemsPaginationChange(n)),e.filtering.pipe((0,m.takeUntil)(this.destroyed$)).subscribe(n=>this.onListFiltering(n)),e.isOpenChange.pipe((0,m.takeUntil)(this.destroyed$)).subscribe(n=>this.handleIsOpenChange(n)))}_getValuesFromLookupValueArray(e){return e?.map(n=>n.value).filter(Boolean)||[]}_updateSelectedListWidth(){if(!this.isOpen)return;const e=this._overlayTrigger?.elementRef?.nativeElement?.offsetWidth;this.selectListComponent.overlayWidth=e}_resetListboxState(){this.listboxComponent&&this.listboxComponent.resetState()}detectChanges(){this._changeDetectorRef.detectChanges()}handleIsOpenChange(e){e?this.onListOpen():this.onListClose()}trackBy(e,n){return n.displayValue+n.primaryColorValue}onListOpen(){this.lastSearchValue=null,this.loadListItems.emit()}onListClose(){this.listItems=[],this.lastSearchValue=null}onListItemsPaginationChange(e){this.paginationChange.emit({primaryDisplayFilterValue:e})}onListFiltering(e){this.lastSearchValue=e,this.loadListItems.emit({primaryDisplayFilterValue:e})}onItemsSelected(e){const n=this._getValuesFromLookupValueArray(e);n.length&&this.selectedItemsChange.emit({ids:n})}onListboxValueChange(e){this.onItemsSelected(e.value),this.selectListComponent.isOpen=!1}ngAfterContentInit(){this._initializeSelectListComponentData()}ngAfterViewChecked(){this._updateSelectedListWidth()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||zC)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:zC,viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(tj,7,fu),t.\u0275\u0275viewQuery(Jl,5,Jl)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.selectListComponent=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.listboxComponent=i.first)}},inputs:{listItems:"listItems"},outputs:{loadListItems:"loadListItems",paginationChange:"paginationChange",selectedItemsChange:"selectedItemsChange"}})}}function ej(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-select-list-item",5)(1,"crt-chip",6),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerStart(3,7),t.\u0275\u0275elementStart(4,"crt-button",8),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275listener("clicked",function(i){const s=t.\u0275\u0275restoreView(n).$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onEditActionButtonClick(s.value,i))})("keydown.enter",function(i){const s=t.\u0275\u0275restoreView(n).$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onEditActionButtonClick(s.value,i))})("keydown.space",function(i){const s=t.\u0275\u0275restoreView(n).$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onEditActionButtonClick(s.value,i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"crt-button",9),t.\u0275\u0275pipe(7,"translate"),t.\u0275\u0275listener("clicked",function(i){const s=t.\u0275\u0275restoreView(n).$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onDeleteActionButtonClick(s.value,i))})("keydown.enter",function(i){const s=t.\u0275\u0275restoreView(n).$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onDeleteActionButtonClick(s.value,i))})("keydown.space",function(i){const s=t.\u0275\u0275restoreView(n).$implicit,b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.onDeleteActionButtonClick(s.value,i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()}if(r&2){const n=e.$implicit;t.\u0275\u0275property("crtListboxOption",n),t.\u0275\u0275advance(),t.\u0275\u0275property("title",n.displayValue)("color",n.primaryColorValue),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.displayValue," "),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("caption",t.\u0275\u0275pipeBind1(5,6,"SelectList.EditItemActionButtonCaption")),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("caption",t.\u0275\u0275pipeBind1(7,8,"SelectList.DeleteItemActionButtonCaption"))}}class bu extends zC{constructor(){super(...arguments),this.createItem=new t.EventEmitter,this.editItem=new t.EventEmitter,this.deleteItem=new t.EventEmitter}onCreateItemButtonClick(){this.createItem.emit({primaryDisplayFilterValue:this.lastSearchValue})}onEditActionButtonClick(e,n){n.stopPropagation(),n.preventDefault(),this.editItem.emit({id:e})}onDeleteActionButtonClick(e,n){n.stopPropagation(),n.preventDefault(),this.deleteItem.emit({id:e})}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(bu)))(a||bu)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:bu,selectors:[["crt-tag-select-select-list"]],outputs:{createItem:"createItem",editItem:"editItem",deleteItem:"deleteItem"},features:[t.\u0275\u0275ProvidersFeature([{provide:XM,useExisting:bu}]),t.\u0275\u0275InheritDefinitionFeature],decls:8,vars:5,consts:[["list",""],["crt-select-list-actions",""],["displayType","text","size","small","iconSize","large","icon","add-button-icon","iconPosition","only-icon",3,"clicked","title"],["crtListboxViewport","","optionValueKeyPropertyName","value",3,"selectedChange"],[3,"crtListboxOption",4,"ngFor","ngForOf","ngForTrackBy"],[3,"crtListboxOption"],[3,"title","color"],["crt-select-list-item-actions",""],["color","default","displayType","text","size","small","icon","pen","iconPosition","only-icon","iconSize","large",3,"clicked","keydown.enter","keydown.space","caption"],["color","default","displayType","text","size","small","icon","delete-button-icon","iconPosition","only-icon","iconSize","large",3,"clicked","keydown.enter","keydown.space","caption"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-select-list",null,0),t.\u0275\u0275elementContainerStart(2,1),t.\u0275\u0275elementStart(3,"crt-button",2),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275listener("clicked",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onCreateItemButtonClick())}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementContainerStart(5),t.\u0275\u0275elementStart(6,"div",3),t.\u0275\u0275listener("selectedChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onListboxValueChange(b))}),t.\u0275\u0275template(7,ej,8,10,"crt-select-list-item",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()}n&2&&(t.\u0275\u0275advance(3),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(4,3,"TagSelect.CreateNewTagButtonCaption")),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngForOf",a.listItems)("ngForTrackBy",a.trackBy))},dependencies:[_.NgForOf,Jt,fu,_c,R_.j,Jl,_u,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-chip[_ngcontent-%COMP%]{font-family:var(--crt-caption-font-family);font-size:var(--crt-caption-font-size);line-height:var(--crt-caption-line-height);font-weight:var(--crt-caption-font-weight);letter-spacing:var(--crt-caption-letter-spacing);text-transform:var(--crt-caption-text-transform);-webkit-font-smoothing:antialiased;flex-shrink:1;min-width:0}"],changeDetection:0})}}const nj=r=>({"tag-select-open-list-add-button":r});let Pa=class O0 extends ue.K{constructor(){super(...arguments),this._defaultItemColor="#8B9FDA",this._itemsSubscriptions=new m.Subscription,this._listItemsSubscriptions=new m.Subscription,this.label="",this.labelPosition="",this.wrap=!1,this.showList=new t.EventEmitter,this.paginationChange=new t.EventEmitter,this.createTag=new t.EventEmitter,this.editTag=new t.EventEmitter,this.deleteTag=new t.EventEmitter,this.addTagsInRecord=new t.EventEmitter,this.deleteTagInRecord=new t.EventEmitter}get skeletonStyles(){return{height:this.label?"52px":"18px"}}set items(e){e instanceof Ni.A&&(this._itemsSubscriptions.unsubscribe(),this._itemsSubscriptions=new m.Subscription,this._itemsSubscriptions.add(e.changed.subscribe(()=>{this._updateItems(e)}))),this._updateItems(e)}set listItems(e){e instanceof Ni.A&&(this._listItemsSubscriptions.unsubscribe(),this._listItemsSubscriptions=new m.Subscription,this._listItemsSubscriptions.add(e.changed.subscribe(()=>{this._updateListItems(e)}))),this._updateListItems(e)}get selectedItems(){return this._items}_updateItems(e){Promise.all((e??[]).map(function(){var n=(0,bt.A)(function*(a){return{id:yield a.Id,name:yield a.Name,color:yield a.Color,relationRecordId:yield a.RelationRecordId}});return function(a){return n.apply(this,arguments)}}())).then(n=>{this._items=n,this.changeDetectorRef.detectChanges()})}_updateListItems(e){var n=this;Promise.all((e??[]).map(function(){var a=(0,bt.A)(function*(i){return{value:yield i.value,displayValue:yield i.displayValue,primaryColorValue:(yield i.primaryColorValue)||n._defaultItemColor}});return function(i){return a.apply(this,arguments)}}())).then(a=>{this.selectListItems=a,this.changeDetectorRef.detectChanges()})}get addTagInRecordIconPosition(){return this.selectedItems?.length?pe.OnlyIcon:pe.LeftIcon}onDeleteSelectedItems(e){this.deleteTagInRecord.emit({id:e.ids[0]})}ngOnDestroy(){this._itemsSubscriptions.unsubscribe(),this._listItemsSubscriptions.unsubscribe()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(O0)))(a||O0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:O0,selectors:[["crt-tag-select"]],inputs:{items:"items",listItems:"listItems",label:"label",labelPosition:"labelPosition",wrap:"wrap",disabled:"disabled"},outputs:{showList:"showList",paginationChange:"paginationChange",createTag:"createTag",editTag:"editTag",deleteTag:"deleteTag",addTagsInRecord:"addTagsInRecord",deleteTagInRecord:"deleteTagInRecord"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:8,vars:17,consts:[["baseList",""],["selectList",""],[3,"loadListItems","paginationChange","selectedItemsChange","deleteSelectedItems","listItems","selectedItems"],["select-input","",3,"labelPosition","label","disabled"],["displayType","text","size","small","icon","tag-icon","iconSize","large","aria-haspopup","dialog",3,"clicked","ngClass","title","caption","disabled","iconPosition"],["select-list","",3,"createItem","editItem","deleteItem"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-base-select",2,0),t.\u0275\u0275listener("loadListItems",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.showList.emit(b))})("paginationChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.paginationChange.emit(b))})("selectedItemsChange",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.addTagsInRecord.emit({tagIds:b.ids}))})("deleteSelectedItems",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onDeleteSelectedItems(b))}),t.\u0275\u0275elementStart(2,"crt-tag-select-input",3)(3,"crt-button",4),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(i);const b=t.\u0275\u0275reference(1);return t.\u0275\u0275resetView(b.openList())}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"crt-tag-select-select-list",5,1),t.\u0275\u0275listener("createItem",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.createTag.emit(b))})("editItem",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.editTag.emit(b))})("deleteItem",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.deleteTag.emit(b))}),t.\u0275\u0275elementEnd()()}if(n&2){const i=t.\u0275\u0275reference(1),s=t.\u0275\u0275reference(7);t.\u0275\u0275property("listItems",a.selectListItems)("selectedItems",a.selectedItems),t.\u0275\u0275advance(2),t.\u0275\u0275property("labelPosition",a.labelPosition)("label",a.label)("disabled",a.disabled),t.\u0275\u0275advance(),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(4,11,"TagSelect.AddTagInRecordButtonCaption")),t.\u0275\u0275propertyInterpolate("caption",t.\u0275\u0275pipeBind1(5,13,"TagSelect.AddTagInRecordButtonCaption")),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(15,nj,i.listComponent==null?null:i.listComponent.isOpen))("disabled",a.disabled)("iconPosition",a.addTagInRecordIconPosition),t.\u0275\u0275attribute("aria-controls",s==null||s.selectListComponent==null?null:s.selectListComponent.id)}},dependencies:[_.NgClass,Jt,Ph,Oh,bu,f.TranslatePipe],encapsulation:2,changeDetection:0})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],Pa.prototype,"items",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],Pa.prototype,"listItems",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Pa.prototype,"label",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Pa.prototype,"labelPosition",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],Pa.prototype,"wrap",void 0),(0,u.__decorate)([(0,J.k)({defaultValue:!1,propertyName:et.R.Disabled}),(0,u.__metadata)("design:type",Boolean)],Pa.prototype,"disabled",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Pa.prototype,"showList",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Pa.prototype,"paginationChange",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Pa.prototype,"createTag",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Pa.prototype,"editTag",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Pa.prototype,"deleteTag",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Pa.prototype,"addTagsInRecord",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],Pa.prototype,"deleteTagInRecord",void 0),Pa=(0,u.__decorate)([(0,Qt.v)({type:"crt.TagSelect",reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{position:180,icon:o(19450),defaultPropertyValues:{tagInRecordSourceSchemaName:HF}},propertiesPanelComponentTypeName:"crt.TagSelectPropertiesPanel",viewElementGroupType:pn.J.Components,typeCaption:"Components.TagSelect.Caption",placeholderSize:{height:"18px"}})],Pa);const qM="Type",aj="CreatedBy";function ij(r,e,n=""){e.isSSP||t9(r,n),e9(r,n)}function t9(r,e=""){const n=l3(qM,e);r.addSchemaColumnFilterWithParameter(He.H.Equal,n,KF,"CorporateTagTypeFilter")}function e9(r,e=""){const n=l3(qM,e);r.addSchemaColumnFilterWithParameter(He.H.Equal,n,$F,"PublicTagTypeFilter")}function n9(r,e,n=""){const a=l3(aj,n),i=new nr.X;i.addSchemaColumnFilterWithParameter(He.H.Equal,a,e.contactId,"CurrentUserFilter"),r.add(i,"PrivateTagTypeFilterGroup")}function l3(r,e){if(!e)return r;const n=e.slice(-1),a=".";return n!==a&&(e=e+a),e+r}function rj(r){const e="Tag.",n=new nr.X($b.H.Or);return ij(n,r,e),n9(n,r,e),n}function PH(r){const e=new FilterGroup(LogicalOperatorType.Or);return r.isSSP||(t9(e),e9(e)),n9(e,r),e}function OH(r){const e=new FilterGroup(LogicalOperatorType.Or),n=[];return r.canManageCorporateTags||n.push(OLD_CORPORATE_TAG_TYPE_ID),r.canManagePublicTags||n.push(OLD_PUBLIC_TAG_TYPE_ID),n.length?(e.addSchemaColumnInFilterWithParameters(ComparisonType.Not_equal,"Id",n,"OldTagTypeNotInFilter"),e):null}let d3=class extends jC{constructor(e){super(),this._userInfo=e,this._recordIdFilterKey="RecordIdFilter",this._recordSchemaNameFilterKey="RecordSchemaNameFilter",this._notNullableTagFilterKey="NullableTagFilter",this._tagTypeFilterGroup="TagTypeFilterGroup",this._recordSchemaNameColumnName="RecordSchemaName",this._tagColumnName="Tag.Id"}_createFilterGroupWithFakeRecordId(e){const n=new nr.X;return this._addRecordFilter(n,de.To,e),n}_createFilterGroup(e,n,a){const i=new nr.X($b.H.And);return this._addRecordFilter(i,e,a),a?this._addFiltersForOldStructure(i):this._addFiltersForNewStructure(i,n),i.addSchemaColumnIsNotNullFilter(this._tagColumnName,this._notNullableTagFilterKey),i}_addRecordFilter(e,n,a){e.addSchemaColumnFilterWithParameter(He.H.Equal,a?GF:WF,n,this._recordIdFilterKey)}_addFiltersForNewStructure(e,n){e.addSchemaColumnFilterWithParameter(He.H.Equal,this._recordSchemaNameColumnName,n,this._recordSchemaNameFilterKey)}_addFiltersForOldStructure(e){e.add(rj(this._userInfo),this._tagTypeFilterGroup)}_isNotCorrectParameters(e,n,a){return!this.isValidRecordId(e)||!a&&!n}convert(e,n,a,i){const s=this.getRecordIdFromValue(e);return this._isNotCorrectParameters(s,a,i)?this._createFilterGroupWithFakeRecordId(i):this._createFilterGroup(s,a,i)}};d3=(0,u.__decorate)([(0,so.a)({type:"crt.TagSelectFilterAttributeConverter"}),(0,u.__metadata)("design:paramtypes",[Ze.oq])],d3);class ab{constructor(){this._userInfo=(0,t.inject)(Ze.oq),this._httpClient=(0,t.inject)(l.HttpClient),this._tagRightsServiceEndpoint=(this._userInfo.isSSP?"ssp/":"")+"rest/TagRightsService/",this._tagRightsServiceEndpointMethod="GetAllowedTagAccessesForTagging"}_catchErrorResponse(e){return(0,m.of)({success:!1,errorInfo:{message:e.error?.errorInfo?.message??e.message},allowedTagAccessesForTagging:[]})}allowedTagAccessesForTagging(){return this._httpClient.post(`${this._tagRightsServiceEndpoint}${this._tagRightsServiceEndpointMethod}`,null).pipe((0,m.catchError)(e=>this._catchErrorResponse(e)))}static{this.\u0275fac=function(n){return new(n||ab)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ab,factory:ab.\u0275fac})}}let td=class xv{static{this.\u0275fac=function(n){return new(n||xv)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:xv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[ab],imports:[_.CommonModule,re,os,fe.q,So,In.OverlayModule,ql,Ha.a,Xl,f.TranslateModule]})}};td=(0,u.__decorate)([(0,ie.g)({viewElements:[Pa],converters:[BC,d3],includes:[So]})],td),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(td,{declarations:[Pa,Oh,bu],imports:[_.CommonModule,re,os,Le.C,fe.q,So,In.OverlayModule,ql,Ha.a,Xl,f.TranslateModule],exports:[Pa]})}();var oj=o(98297);const sj=["template"];function cj(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function lj(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0)(1,3),t.\u0275\u0275template(2,cj,1,0,"ng-container",4),t.\u0275\u0275elementContainerEnd()()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("crtViewModel",n),t.\u0275\u0275advance(),t.\u0275\u0275property("crtTemplateOutletWithCurrentInjector",a.template)}}let ed=class D0 extends ue.K{constructor(){super(...arguments),this._cdr=(0,t.inject)(t.ChangeDetectorRef),this.gap=c2.R.gap}_triggerChanges(){this.itemList=[...this.items],this._cdr.detectChanges()}ngOnChanges(e){if(e.items){if(this._itemsSubscription&&this._itemsSubscription.unsubscribe(),!(this.items instanceof Ni.A))return;this._itemsSubscription=this.items.changed.pipe((0,m.startWith)(()=>this.items),(0,m.tap)(()=>this._triggerChanges()),(0,h.takeUntil)(this.destroyed$)).subscribe()}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(D0)))(a||D0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:D0,selectors:[["crt-template-list"]],contentQueries:function(n,a,i){if(n&1&&t.\u0275\u0275contentQuery(i,sj,5,t.TemplateRef),n&2){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(a.template=s.first)}},inputs:{items:"items",direction:"direction",gap:"gap"},features:[t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature],decls:3,vars:4,consts:[[3,"ngClass"],[1,"container",3,"direction","gap"],[4,"ngFor","ngForOf"],[3,"crtViewModel"],[4,"crtTemplateOutletWithCurrentInjector"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"crt-flex",1),t.\u0275\u0275template(2,lj,3,2,"ng-container",2),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275property("ngClass",a.getClasses()),t.\u0275\u0275advance(),t.\u0275\u0275property("direction",a.direction)("gap",a.gap),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.itemList))},dependencies:[_.NgClass,_.NgForOf,Ad.aD,c2.Q,oj.v],styles:[".container[_ngcontent-%COMP%]{display:flex}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Ni.A)],ed.prototype,"items",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],ed.prototype,"direction",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],ed.prototype,"gap",void 0),ed=(0,u.__decorate)([(0,Qt.v)({type:"crt.TemplateList",reuseStrategy:$t.B.Reuse,contentSlots:[{name:"template",lazy:!0,input:!1}]})],ed);let nd=class Sv{static{this.\u0275fac=function(n){return new(n||Sv)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Sv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,Hi.X,Te.c,Je.V]})}};nd=(0,u.__decorate)([(0,ie.g)({viewElements:[ed]})],nd),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(nd,{declarations:[ed],imports:[_.CommonModule,Hi.X,Te.c,Je.V],exports:[ed]})}();const dj=[al,il,rl,dl,qo,re,ts,ga,os,oi,Io,Er,ls,Wl,Ul,ds,Ha.a,kr,Hl,mi,Sn.u,Ne,Mn.U,$l,vn,Kl,Sr,Gl,ra,Ql,ui,hs,Dr,td,nd,as,wr,Zl,rs,vl,xl,Ur,$i,es,hu,Yl,So,El,Lr,zl,ns];let Cu=class wv{static{this.\u0275fac=function(n){return new(n||wv)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:wv})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[nl.s,nf],imports:[dj,al,il,rl,dl,qo,re,ts,ga,os,oi,Io,Er,ls,Wl,Ul,ds,Ha.a,kr,Hl,mi,Sn.u,Ne,Mn.U,$l,vn,Kl,Sr,Gl,ra,Ql,ui,hs,Dr,td,nd,as,wr,Zl,rs,vl,xl,Ur,$i,es,hu,Yl,So,El,Lr,zl,ns]})}};Cu=(0,u.__decorate)([(0,ie.g)({includes:[al,il,rl,dl,qo,re,ts,ga,os,oi,Io,Er,ls,Wl,Ul,ds,Ha.a,kr,Hl,mi,Sn.u,Ne,Mn.U,$l,vn,Kl,Sr,Gl,ra,Ql,ui,hs,Dr,td,nd,as,wr,Zl,rs,El,So,ns]})],Cu),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Cu,{imports:[al,il,rl,dl,qo,re,ts,ga,os,oi,Io,Er,ls,Wl,Ul,ds,Ha.a,kr,Hl,mi,Sn.u,Ne,Mn.U,$l,vn,Kl,Sr,Gl,ra,Ql,ui,hs,Dr,td,nd,as,wr,Zl,rs,vl,xl,Ur,$i,es,hu,Yl,So,El,Lr,zl,ns],exports:[al,il,rl,dl,qo,re,ts,ga,os,oi,Io,Er,ls,Wl,Ul,ds,Ha.a,kr,Hl,mi,Sn.u,Ne,Mn.U,$l,vn,Kl,Sr,Gl,ra,Ql,ui,hs,Dr,td,nd,as,wr,Zl,rs,vl,xl,Ur,$i,es,hu,Yl,So,El,Lr,zl,ns]})}();var ib=o(10990);const a9=new t.InjectionToken("CkeditorThemeStyleUrl");var Dh;(function(r){r.SetHighlighting="setHighlighting",r.RemoveHighlighting="removeHighlighting"})(Dh||(Dh={}));class Ah{constructor(){this._currentSubscriptionIdentifier=null,this._currentSubscription=null,this._replaceSelectionSubject=new m.Subject}_unsubscribeLastEditor(){if(this._currentSubscription){const e={editorAction:Dh.RemoveHighlighting};this._replaceSelectionSubject?.next(e),this._currentSubscriptionIdentifier=null,this._currentSubscription.unsubscribe()}}subscribeToNotifications(e,n){this._currentSubscriptionIdentifier!==e&&(this._unsubscribeLastEditor(),this._currentSubscriptionIdentifier=e,this._currentSubscription=this._replaceSelectionSubject.subscribe(n))}notify(e){this._replaceSelectionSubject?.next(e)}static{this.\u0275fac=function(n){return new(n||Ah)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ah,factory:Ah.\u0275fac,providedIn:"root"})}}var ad;(function(r){r.Replace="replace",r.InsertAbove="insertAbove",r.InsertBelow="insertBelow"})(ad||(ad={}));class pj{}const uj=new t.InjectionToken("Represents a current application theme.",{factory:()=>{const r=(0,t.inject)(Ze.fv),e=(0,t.inject)(t.Injector);return r.loadCurrentUserInfo().pipe((0,h.map)(()=>e.get(pj)),(0,m.switchMap)(n=>n.getCurrentTheme()))}}),mj=1048576;function gj(r,e,n){const a=n?Math.min(e,n):e,i=a*mj,s=r.filter(W=>W.size<=i&&W.size>0),b=r.filter(W=>W.size>i),D=r.filter(W=>W.size===0);return{allowed:s,oversized:b,zerosized:D,maxFileSizeMB:a}}function i9(r,e,n){return{file:r,error:e,message:n}}class yu{constructor(e,n){this._translateService=e,this._sysSettingsService=n}_getMaxFileSizeExceededExceptionCode(){return"MaxFileSizeExceededException"}_getIsOversizedErrorExist(e){return e&&e.some(n=>n.error===this._getMaxFileSizeExceededExceptionCode())}_getOversizeErrorTipMessage(e){const n=this._getIsOversizedErrorExist(e),a=`{0}\r
\r
`;return n?jt.String.format(a,this._translateService.instant("InfoDialog.FileUpload.ChangeFileSizeInfoMessage")):jt.String.empty}_getFormattedFilesNames(e){return e.map(n=>"- "+n.file.name).join(`\r
`)}_getOversizedFilesLogs(e,n){const a=jt.String.format(this._translateService.instant("InfoDialog.FileUpload.MaxFileSizeExceededExceptionMessage"),n);return e.map(i=>i9(i,this._getMaxFileSizeExceededExceptionCode(),a))}_getZerosizedFilesLogs(e){return e.map(n=>i9(n,"FileWithZeroSizeException",this._translateService.instant("InfoDialog.FileUpload.EmptyFileMessage")))}_buildMessage(e){const n=this._translateService.instant("InfoDialog.FileUpload.InvalidExtension.Deny"),a=`\r
\r
`,i=this._translateService.instant("InfoDialog.FileUpload.FileListHeader");let s="";for(const b in e)if(Object.prototype.hasOwnProperty.call(e,b)){const D=e[b];let W=(0,jt.formatString)(n+a+i+`:\r
`,b);D.forEach(ot=>{W+="- "+ot.name+`\r
`}),s+=W+`\r
`}return s}isFileExtensionDeny(e){var n=this;return(0,bt.A)(function*(){const a=e.name.split(".").pop().toLowerCase();return(yield n._sysSettingsService.getByCode("FileExtensionsDenyList"))?.value.toLowerCase().indexOf(a)>-1})()}createExtensionAttachmentsErrorMessage(e){const n=(0,y.groupBy)(e,a=>a.name.split(".").pop().toLowerCase());return this._buildMessage(n)}createFileErrorMessageForLogs(e){e=e.reverse();const n=`\r
\r
`,a=this._translateService.instant("InfoDialog.FileUpload.FileListHeader"),i="{0}"+n+a+`:\r
{1}`,s=w().groupBy(e,"message");let b="";for(const[D,W]of Object.entries(s)){const ot=this._getFormattedFilesNames(W);b+=jt.String.format(i,D,ot),b+=n}return b+=this._getOversizeErrorTipMessage(e),b.slice(0,b.length-n.length)}processSelectedFiles(e,n){var a=this;return(0,bt.A)(function*(){const i=[...e],b=(yield a._sysSettingsService.getByCode("MaxFileSize"))?.value||0,{allowed:D,oversized:W,zerosized:ot,maxFileSizeMB:It}=gj(i,b,n),Pt=a._getOversizedFilesLogs(W,It).concat(a._getZerosizedFilesLogs(ot));return{files:D,errors:Pt}})()}static{this.\u0275fac=function(n){return new(n||yu)(t.\u0275\u0275inject(f.TranslateService),t.\u0275\u0275inject(Fa.A))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:yu,factory:yu.\u0275fac,providedIn:"root"})}}var hj=o(30268);class Wr{static{this.nameRegexPattern="^[a-zA-Z][a-zA-Z0-9._]*$"}static nameValidator(){return O.Validators.pattern(this.nameRegexPattern)}static linkValidator(){return O.Validators.pattern(/^[A-Za-z][A-Za-z\d.+-]*:\/*(?:\w+(?::\w+)?@)?[^\s/]+(?::\d+)?(?:\/[\w#!:.?+=&%@\-,~]*)*(?:\?[\w#!:.?+=&%@\-,~]*)?(?:#(?:[:~\w#!:.?+=&%@\-,]*)*)?$/)}static debounceValidator(e){return n=>(0,m.timer)(400).pipe((0,h.switchMap)(()=>e(n.value)))}static requiredWithPrefix(e){return n=>{const a=n.value,i=a?.startsWith(e);return e&&i?a.replace(e,"")?null:{requiredWithPrefix:{prefix:e}}:null}}static prefix(e){return n=>e&&!n.value?.startsWith(e)?{prefix:{requiredPrefix:e}}:null}static duplicate(e){return n=>{if(e){const a=e.map(s=>s.toLowerCase()),i=n.value?.toLowerCase();if(a.some(s=>i===s))return{duplicate:!0}}return null}}static duplicateAsync(e){return n=>e.pipe((0,h.map)(a=>{if(a){const i=a.map(b=>b.toLowerCase()),s=n.value?.toLowerCase();if(i.some(b=>s===b))return{duplicate:!0}}return null}))}}function _j(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",9),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.unlink())}),t.\u0275\u0275elementEnd()}r&2&&t.\u0275\u0275property("caption",t.\u0275\u0275pipeBind1(1,1,"RichTextEditorLink.UnlinkLinkButtonCaption"))}let Lh=class Ev{get linkControl(){return this.richTextLinkForm.get("linkControl")}get displayTextControl(){return this.richTextLinkForm.get("displayTextControl")}get editor(){return this._editor}set editor(e){!this._isEditorInitialize&&e&&(this._editor=e,this._isEditorInitialize=!0)}set tooltipConfig(e){this.editor=e.value.editor,this._tooltipConfig=e}constructor(e,n,a,i,s,b){this._translate=e,this.window=n,this._changeDetector=a,this._injector=i,this._crtControlStateAdapter=s,this._element=b,this._isEditorInitialize=!1,this.isUnlinkButtonVisible=!1,this.richTextLinkForm=new O.FormGroup({linkControl:new O.FormControl("",{validators:[this._crtControlStateAdapter.transform({instance:new vC(this._injector)}),this._createLinkPatternValidatorFn.bind(this)]}),displayTextControl:new O.FormControl("",{})})}_clearFields(){this.linkControl.reset(),this.linkControl.setErrors(null),this.linkControl.updateValueAndValidity(),this.displayTextControl.setValue(""),this.displayTextControl.updateValueAndValidity()}_createLinkPatternValidatorFn(e){return Wr.linkValidator()(e)!==null?this._createValidatorErrorsMessage("InvalidLink","Validators.Link.Message"):null}_createValidatorErrorsMessage(e,n){return{[e]:{message:this._translate.instant(`${n}`)}}}_initialize(){if(!this.editor)return;const e=this.editor.getSelection()?.getSelectedText(),n=CKEDITOR.plugins.link.getSelectedLink(this.editor,!0),a=n?.[0]||null;a?.is("a")?(this.displayTextControl.setValue(a.$.innerText),this.linkControl.setValue(a.getAttribute("href"))):e&&this.displayTextControl.setValue(e),this.isUnlinkButtonVisible=n?.length>0,this._changeDetector.detectChanges(),this.focusLink()}focusLink(){setTimeout(()=>this._element.nativeElement.querySelector(".rich-text-link-container .rich-text-link-field input").focus(),0)}closeLink(){this._clearFields(),this._tooltipConfig?.onClose?.()}openLink(){this.window.open(this.linkControl.value,"_blank")}unlink(){this.editor.execCommand("unlink"),this._tooltipConfig?.onUnlink?.()}save(){if(this.richTextLinkForm.updateValueAndValidity(),this.richTextLinkForm.valid){const e={url:this.linkControl.value,linkText:this.displayTextControl.value};CKEDITOR.plugins.creatiolink.insertOrUpdateLink(e,this.editor),this._clearFields(),this._tooltipConfig?.onSave?.()}}ngOnInit(){this._initialize()}static{this.\u0275fac=function(n){return new(n||Ev)(t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(E.ZP),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(wd.f),t.\u0275\u0275directiveInject(t.ElementRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ev,selectors:[["crt-rich-text-link"]],inputs:{editor:"editor"},decls:14,vars:25,consts:[[1,"rich-text-link-page"],[1,"rich-text-link-container"],["data-qa","input-link",1,"rich-text-link-field",3,"keyup.enter","control","labelPosition","appearance","label"],["data-qa","input-displayText",3,"keyup.enter","control","labelPosition","appearance","label"],[1,"link-button-container"],["iconPosition","left-icon","icon","open-link","size","small","displayType","text","color","default",1,"open-link-button","link-button",3,"clicked","disabled","caption"],["class","unlink-link-button link-button","iconPosition","left-icon","icon","unlink-link","size","small","displayType","text","color","default",3,"caption","clicked",4,"ngIf"],["iconPosition","left-icon","icon","close-link","size","small","displayType","text","color","default",1,"close-link-button","link-button",3,"clicked","caption"],["icon","save-link","size","small","displayType","text","color","default",1,"save-link-button","link-button",3,"clicked","disabled","iconPosition","caption"],["iconPosition","left-icon","icon","unlink-link","size","small","displayType","text","color","default",1,"unlink-link-button","link-button",3,"clicked","caption"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"crt-input",2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275listener("keyup.enter",function(){return a.save()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"crt-input",3),t.\u0275\u0275pipe(5,"translate"),t.\u0275\u0275listener("keyup.enter",function(){return a.save()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",4)(7,"crt-button",5),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275listener("clicked",function(){return a.openLink()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(9,_j,2,3,"crt-button",6),t.\u0275\u0275elementStart(10,"crt-button",7),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275listener("clicked",function(){return a.closeLink()}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(12,"crt-button",8),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275listener("clicked",function(){return a.save()}),t.\u0275\u0275elementEnd()()()()),n&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275property("control",a.richTextLinkForm.controls.linkControl)("labelPosition","above")("appearance","legacy")("label",t.\u0275\u0275pipeBind1(3,15,"RichTextEditorLink.LinkLabelCaption")),t.\u0275\u0275advance(2),t.\u0275\u0275property("control",a.richTextLinkForm.controls.displayTextControl)("labelPosition","above")("appearance","legacy")("label",t.\u0275\u0275pipeBind1(5,17,"RichTextEditorLink.TextLabelCaption")),t.\u0275\u0275advance(3),t.\u0275\u0275property("disabled",a.linkControl.invalid)("caption",t.\u0275\u0275pipeBind1(8,19,"RichTextEditorLink.OpenLinkButtonCaption")),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.isUnlinkButtonVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("caption",t.\u0275\u0275pipeBind1(11,21,"RichTextEditorLink.CloseLinkButtonCaption")),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",a.richTextLinkForm.invalid)("iconPosition","left-icon")("caption",t.\u0275\u0275pipeBind1(13,23,"RichTextEditorLink.SaveLinkButtonCaption")))},dependencies:[_.NgIf,Jt,ar.j,f.TranslatePipe],styles:[".rich-text-link-page[_ngcontent-%COMP%]{width:500px;box-shadow:0 2px 4px #0003;border-radius:4px;padding:16px 16px 0}.link-button-container[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;justify-content:right;margin:12px 0}"]})}};Lh=(0,u.__decorate)([(0,Qt.v)({type:"crt.RichTextLinkComponent"}),(0,u.__metadata)("design:paramtypes",[f.TranslateService,Window,t.ChangeDetectorRef,t.Injector,wd.f,t.ElementRef])],Lh);function fj(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-rich-text-url-video",12),t.\u0275\u0275listener("valueChanged",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onValueChanged())})("videoUploaded",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onVideoUploaded(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}}function bj(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-rich-text-local-video",13),t.\u0275\u0275listener("valueChanged",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onValueChanged())})("videoUploaded",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onVideoUploaded(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("editor",n.editor)("dataValue",n.data==null?null:n.data.value)("primaryDataSchemaName",n.data==null?null:n.data.primaryDataSchemaName)}}function Cj(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"crt-rich-text-embed-video",12),t.\u0275\u0275listener("valueChanged",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onValueChanged())})("videoUploaded",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onVideoUploaded(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}}var UC;(function(r){r[r.Url=0]="Url",r[r.Local=1]="Local",r[r.Embeded=2]="Embeded"})(UC||(UC={}));class Cs{constructor(){this.destroy$=new m.Subject,this.videoUploaded=new t.EventEmitter,this.valueChanged=new t.EventEmitter}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(n){return new(n||Cs)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Cs,outputs:{videoUploaded:"videoUploaded",valueChanged:"valueChanged"}})}}let kh=class Tv{constructor(e,n,a,i,s){this.data=e,this._notifyService=n,this._translateService=a,this._messageDialogProvider=i,this._dialog=s,this._defaultDuration=1e4,this._destroy$=new m.Subject,this._initialWidth=640,this._initialHeight=360,this.tabItems=[],this.currentTabIndex=UC.Url,this.hasUnsavedChanges=!1,this.TabType=UC,this.editor=e?.value?.editor}_initDialogTabs(){const e=this._translateService.instant("RichTextEditorVideo.PasteUrlTab"),n=this._translateService.instant("RichTextEditorVideo.UploadFileTab"),a=this._translateService.instant("RichTextEditorVideo.EmbedCodeTab");this.tabItems=[{caption:e,name:"PasteUrlTab",iconPosition:pe.OnlyText,type:"crt.GridContainer"},{caption:n,name:"UploadFileTab",iconPosition:pe.OnlyText,type:"crt.GridContainer"},{caption:a,name:"EmbedCodeTab",iconPosition:pe.OnlyText,type:"crt.GridContainer"}]}_checkUnsavedChanges(){return!this.currentTab||this.currentTab.hasUnsavedChanges()}_handleSecurityPolicyViolation(e){const n=`
			Blocked URI: ${e.blockedURI}
			Directive: ${e.violatedDirective}
			Document URI: ${e.documentURI}
		`;this._notifyService.show({message:n,duration:this._defaultDuration})}_insertVideo(e){if(!this.editor){console.warn("CKEditor is not initialized");return}const n=this.editor.document.createElement("div");n.setStyle("display","inline");const a=this.editor.document.createElement("span");a.setAttribute("contenteditable","false"),a.addClass("resizable-video-wrapper"),a.addClass("selectable"),a.setSize("width",this._initialWidth,!1),a.setSize("height",this._initialHeight,!1),a.setHtml(e),n.append(a),this.editor.insertElement(n)}onTabChanged(e){this.currentTabIndex=e}onSaveClick(){!this.currentTab||!this.currentTab.hasUnsavedChanges()||this.currentTab.onSaveClick()}onVideoUploaded(e){this._insertVideo(e),this._dialog.close()}onCloseClick(){if(this.currentTab)if(this.currentTab.hasUnsavedChanges()){const e=this._translateService.instant("RichTextEditorVideo.ConfirmMessage");this._messageDialogProvider.confirmation(e).pipe((0,m.takeUntil)(this._destroy$)).subscribe(n=>{n&&this._dialog.close()})}else this._dialog.close()}ngOnInit(){this._initDialogTabs(),document.addEventListener("securitypolicyviolation",this._handleSecurityPolicyViolation.bind(this))}onValueChanged(){this.hasUnsavedChanges=this._checkUnsavedChanges()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),document.removeEventListener("securitypolicyviolation",this._handleSecurityPolicyViolation.bind(this))}static{this.\u0275fac=function(n){return new(n||Tv)(t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA),t.\u0275\u0275directiveInject(_o.F),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(ji),t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Tv,selectors:[["crt-rich-text-video"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(Cs,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.currentTab=i.first)}},decls:20,vars:19,consts:[[1,"rich-text-video"],[1,"rich-text-video__container"],[1,"rich-text-video__header"],["labelType","headline-2","labelEllipsis","true","tabindex","0",1,"rich-text-video__header__title",3,"caption"],["icon","close-button-icon","iconPosition","icon-only","size","medium","color","default","clickMode","default",1,"rich-text-video__buttons_close",3,"clicked"],[3,"selectedTabIndexChange","items","showTabViewModelContent"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"rich-text-video__description",3,"innerHtml"],[1,"rich-text-video__buttons"],[1,"rich-text-video__buttons_action",3,"clicked"],["color","primary",1,"rich-text-video__buttons_action",3,"clicked","disabled"],[3,"valueChanged","videoUploaded"],[3,"valueChanged","videoUploaded","editor","dataValue","primaryDataSchemaName"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),t.\u0275\u0275element(3,"crt-label",3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementStart(5,"crt-button",4),t.\u0275\u0275listener("clicked",function(){return a.onCloseClick()}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(6,"crt-tab-panel",5),t.\u0275\u0275listener("selectedTabIndexChange",function(s){return a.onTabChanged(s)}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerStart(7,6),t.\u0275\u0275template(8,fj,2,0,"ng-container",7)(9,bj,2,3,"ng-container",7)(10,Cj,2,0,"ng-container",7),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275element(11,"label",8),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementStart(13,"div",9)(14,"crt-button",10),t.\u0275\u0275listener("clicked",function(){return a.onCloseClick()}),t.\u0275\u0275text(15),t.\u0275\u0275pipe(16,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(17,"crt-button",11),t.\u0275\u0275listener("clicked",function(){return a.onSaveClick()}),t.\u0275\u0275text(18),t.\u0275\u0275pipe(19,"translate"),t.\u0275\u0275elementEnd()()()()),n&2&&(t.\u0275\u0275advance(3),t.\u0275\u0275property("caption",t.\u0275\u0275pipeBind1(4,11,"RichTextEditorVideo.DialogTitle")),t.\u0275\u0275advance(3),t.\u0275\u0275property("items",a.tabItems)("showTabViewModelContent",!1),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitch",a.currentTabIndex),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.TabType.Url),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.TabType.Local),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.TabType.Embeded),t.\u0275\u0275advance(),t.\u0275\u0275property("innerHtml",t.\u0275\u0275pipeBind1(12,13,"RichTextEditorVideo.DialogDescription"),t.\u0275\u0275sanitizeHtml),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(16,15,"RichTextEditorVideo.CancelButton")," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",!a.hasUnsavedChanges),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(19,17,"RichTextEditorVideo.SaveButton")," "))},styles:[".rich-text-video[_ngcontent-%COMP%]{height:100%;border-radius:8px;padding:24px 32px 0}.rich-text-video__header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding-bottom:16px}.rich-text-video__input[_ngcontent-%COMP%]{margin-top:1px;display:block;height:154px}.rich-text-video__buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-flow:row nowrap;margin-top:16px;margin-bottom:32px}.rich-text-video__buttons_action[_ngcontent-%COMP%]{margin-left:16px}.rich-text-video__buttons_upload[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:16px}"]})}};kh=(0,u.__decorate)([(0,Qt.v)({type:"crt.RichTextVideoComponent"}),(0,u.__metadata)("design:paramtypes",[Object,_o.F,f.TranslateService,ji,Ot.MatLegacyDialogRef])],kh);class Rh{constructor(){this._editorClassName=".cke_editable"}_setSelectionActionsVisibility(e,n){if(e){const a=this._getSelectionActionsPanelPosition();n.nativeElement.style.display="unset",n.nativeElement.style.top=a.clientY,n.nativeElement.style.left=a.clientX}else n.nativeElement.style.display="none"}_getSelectionActionsPanelPosition(){return this._getPositionFromSelection()||{clientX:"50%",clientY:"50%"}}_getPositionFromSelection(){const e=getSelection()?.getRangeAt(0)?.getClientRects(),n=Array.from(e||[]);if(n.length===0)return null;let a=n[0];const i=getSelection()?.getRangeAt(0)?.getBoundingClientRect();return n.forEach(s=>{(s.top>a.top||s.top===a.top&&s.right>a.right)&&(a=s)}),{clientX:`${Math.min(a.right,i.right)}px`,clientY:`${a.bottom}px`}}updatePosition(e,n){if(!e)return!1;const a=getSelection(),i=a?.type==="Range",s=n?.contains(a?.focusNode),D=!!(a.focusNode?.nodeType===Node.ELEMENT_NODE?a.focusNode:a.focusNode?.parentElement)?.closest(this._editorClassName),W=i&&s&&D;return this._setSelectionActionsVisibility(W,e),W}static{this.\u0275fac=function(n){return new(n||Rh)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Rh,factory:Rh.\u0275fac,providedIn:"any"})}}class id{static{this.fileIconImageCssClass="file-icon-system-image"}static getLastSnapshotContent(e){const n=e.undoManager.snapshots;return n[n.length-1].contents}static getEditorImages(e){const n=e.editable().$.getElementsByTagName("img");return Array.from(n).filter(a=>!a.classList.contains(this.fileIconImageCssClass))}static getThemeCssLink(e,n){const a=e.styleSheets;let i;for(let s=0;s<a.length;s++)if(a[s].href&&(i=i??a[s].href,a[s].href?.toLowerCase().indexOf(n)>-1))return a[s].href;return i}static appendLink(e,n){function a(s){const b=document.createElement("link");return b.rel="stylesheet",b.type="text/css",b.href=s,b.media="all",b}function i(s,b){function D(It){const Pt=It.indexOf("?");return Pt>=0?It.substr(0,Pt):It}const W=D(b),ot=s.getElementsByTagName("link");for(let It=0;It<ot.length;It++)if(D(ot[It].href).endsWith(W.replace("./","")))return!0;return!1}n&&!i(e,n)&&e.appendChild(a(n))}}class rd{constructor(e,n,a){this._fileApiService=e,this._fileService=n,this.queryExecutor=a,this._sysDownloadMethod="/rest/FileService/Download"}_replaceSrc(e,n,a){e.removeAttribute("data-cke-saved-src"),e.setAttribute("src",n),e.setAttribute("data-uploaded-image-id",a)}_getFileType(e){const n=e.match(/data:(.*);base64/);return n?n[1]:null}_mapFileDto(e,n){return{...e,id:(0,de.qv)(),fileEntitySchemaName:n.fileSchemaName||"SysFile",recordColumnName:n.recordColumnName||"RecordId",recordEntitySchemaName:n.schemaName,recordId:n.recordId,tag:"inline"}}_getFile(e,n,a){const i=this._getFileData(e,n);return new File([i],a,{type:n})}_getFileData(e,n){const a=e.split(";base64,"),i=window.atob(a[1]),s=new Array(i.length);for(let W=0;W<i.length;W++)s[W]=i.charCodeAt(W);const b=new Uint8Array(s);return new Blob([b],{type:n})}_getImageIdentifiers(e){const n=/data-uploaded-image-id="([^"]*)"/gim,a=[];let i=n.exec(e);for(;i!=null;)a.push(i[1]),i=n.exec(e);return a}_catchErrorResponse(e){return console.error(e),(0,m.of)({success:!1,errorInfo:{errorCode:null,message:e.message,stackTrace:e.stack},result:null})}_getDeleteQuery(e){const n=new gd.x("SysFile");return n.filters.addSchemaColumnInFilterWithParameters(He.H.Equal,"Id",e),n}getUploadUrl(e){return"/"+(0,x.uJ)((0,x.Xq)(),this._sysDownloadMethod,e.fileEntitySchemaName||"SysFile",e.id)}uploadImages(e,n){const a=e.map(i=>{const s=id.getEditorImages(i),b=[];n.fileSchemaName=n.fileSchemaName||i.config.fileStorageName,n.recordColumnName=n.recordColumnName||i.config.recordColumnName;for(let D=0;D<s?.length;D++){const W=s[D],ot=W.getAttribute("src");if(!ot)continue;const It=W.getAttribute("crt-file-name"),Pt=this._getFileType(ot);if(Pt){const Se=Pt.match(/\/(\w+)/)?.[1],On=(0,de.qv)();let Da=It||`${n.schemaName}_${n.recordId}_${On}`;Se&&!It&&(Da+=`.${Se}`),b.push({element:W,file:this._getFile(ot,Pt,Da),fileId:On})}}return{editor:i,imageFiles:b}}).filter(i=>i.imageFiles.length>0);return a.length===0?(0,m.of)(!1):(0,m.from)(a).pipe((0,m.concatMap)(i=>(0,m.from)(i.imageFiles).pipe((0,m.concatMap)(s=>(0,m.zip)(this._fileService.read(s.file),(0,m.of)(s))),(0,m.map)(s=>({dto:this._mapFileDto(s[0],n),image:s[1]})),(0,m.concatMap)(s=>this._fileApiService.upload(s.dto).pipe((0,m.map)(()=>(this._replaceSrc(s.image.element,this.getUploadUrl(s.dto),s.dto.id),i.editor.fire("change"),!0)),(0,m.catchError)(b=>this._catchErrorResponse(b).pipe((0,m.map)(D=>D.success))))),(0,m.toArray)(),(0,m.map)(s=>s.some(b=>b===!0)))),(0,m.toArray)(),(0,m.map)(i=>i.some(s=>s===!0)))}removeImages(e){e.forEach(n=>{const a=this._getImageIdentifiers(id.getLastSnapshotContent(n)),i=this._getImageIdentifiers(n.getData()),s=a.filter(b=>!i.includes(b));if(s.length>0){const b=this._getDeleteQuery(s);this.queryExecutor.execute(b).pipe((0,m.map)(()=>({success:!0,errorInfo:null,result:[]})),(0,m.catchError)(D=>this._catchErrorResponse(D))).subscribe()}})}uploadFile(e,n,a){const i=e.filter(s=>s.uploadFilesData);return(0,m.from)(i).pipe((0,m.concatMap)(s=>{const{readyToUploadFiles:b,uploadEvent:D}=s.uploadFilesData,W=s.uploadFilesData.filesStorage;return D.stop(),(0,m.from)(b).pipe((0,m.concatMap)(ot=>this._fileService.read(ot.file).pipe((0,m.map)(It=>{let Pt=W.masterRecordColumnValue?a[W.masterRecordColumnValue.replace("$","")]:n.recordId;return Pt=Pt?.value?Pt.value:Pt,{...It,id:ot.fileId,fileEntitySchemaName:W.entitySchemaName,recordColumnName:W.recordColumnName,recordEntitySchemaName:W.recordEntitySchemaName||n.schemaName,recordId:Pt}}),(0,m.concatMap)(It=>this._fileApiService.upload(It).pipe((0,m.catchError)(Pt=>(Pt?.status!==200&&s.fire("CreatioFileUploadFailed",{fileName:It.file.name}),this._catchErrorResponse(Pt))))))),(0,m.toArray)())}),(0,m.toArray)())}updateColumnValue(e,n,a){const i=new md.N(e);return a.forEach(s=>{i.addColumn(s.name,s.value,X.r.Text)}),i.filters.addSchemaColumnFilterWithParameter(He.H.Equal,"Id",n),this.queryExecutor.executeUpdateQuery(i)}static{this.\u0275fac=function(n){return new(n||rd)(t.\u0275\u0275inject(au.k),t.\u0275\u0275inject(_s),t.\u0275\u0275inject(An.w))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:rd,factory:rd.\u0275fac,providedIn:"any"})}}class yj{constructor(e,n){this._injector=e,this.dialogName=n,this.componentFactoryResolver=e.get(t.ComponentFactoryResolver)}createComponent(e){return this.componentFactoryResolver.resolveComponentFactory(e).create(this._injector)}overrideDialog(e,n){if(!this.dialogName||this.dialogName!==e.data.name)return;const a=this,i=e.data.definition,s=e.editor.document;i.onShow=function(){a.onDialogOpen(this,s,n)}}}class vj extends yj{constructor(){super(...arguments),this._customComboboxClass="custom-combobox-input",this._customDialogBodyClass="code-snippet-override",this._focusSelectors=["a.cke_dialog_close_button",".cke_dialog_ui_select .crt-base-input-container input",".cke_dialog_ui_select .crt-base-input-container .combobox-expander.clear",".cke_dialog_ui_select .crt-base-input-container .combobox-expander.closed","textarea.cke_dialog_ui_input_textarea","a.cke_dialog_ui_button_cancel","a.cke_dialog_ui_button_ok"]}_replaceButtons(e){const n=e.findOne(".cke_dialog_footer");if(!n)return;const a=n.findOne(".cke_dialog_ui_button_ok"),i=n.findOne(".cke_dialog_ui_button_cancel");if(a&&i){const s=a.getParent(),b=i.getParent();if(s.getIndex()<b.getIndex()){const D=s.getParent();D.append(b),D.append(s)}}}_replaceCloseIcon(e){const n=e.findOne(".cke_dialog_close_button");if(!n)return;const a=n.findOne("span");if(a){const i=this.createComponent(_t.MatIcon);i.instance.svgIcon="close",i.location.nativeElement.classList.add("close-button-icon"),a.$.replaceWith(i.location.nativeElement)}}_replaceCombobox(e,n){const a=e.getContentElement("info","lang");if(!a)return;const i=n.findOne(".cke_dialog_ui_select");if(!i)return;const s=i.findOne(`.${this._customComboboxClass}`);s&&s.remove();const b=this._createAndSetupCombobox(a);i.$.appendChild(b.location.nativeElement);const D=b.instance.control.value;b.instance.control.setValue(D)}_createAndSetupCombobox(e){const n=this.createComponent(ke),a=e.items.map(([D,W])=>({displayValue:D,value:W||"-"}));n.instance.items=a,n.instance.label=e.label,n.instance.labelPosition="above";const i=e.getValue(),s=new O.FormControl(a.find(D=>D.value===i)??a[0]);return n.instance.control=s,n.instance.readonly=!1,n.instance.required=!0,n.instance.useStaticFiltering=!1,n.instance.showList.subscribe(D=>{n.instance.items=D?.filterValue?a.filter(W=>W.displayValue.includes(D.filterValue)):a}),n.instance.showValueAsLink=!0,n.instance.listActions=[],n.instance.valueChange.subscribe(D=>{if(!D||typeof D=="string")return;const W=D.value!=="-"?D.value:"";e.setValue(W)}),e.on("change",()=>{const D=e.getValue(),W=a.find(ot=>ot.value===D)??a[0];s.setValue(W,{emitEvent:!1})}),n.location.nativeElement.classList.add(this._customComboboxClass),n.location.nativeElement.classList.add("crt-base-edit-input"),n.location.nativeElement.querySelector(".crt-base-input-container input")?.addEventListener("blur",()=>this._removeComboboxInputFocus(n.location.nativeElement)),setTimeout(()=>{const W=n.instance.autocomplete?.autoCompleteTrigger?.autocomplete;W&&W.optionActivated.subscribe(()=>{n.changeDetectorRef.detectChanges()})},0),n}_removeComboboxInputFocus(e){const n="mat-focused",a=e.querySelector(".crt-autocomplete-input-control-container");a&&a.classList.contains(n)&&a.classList.remove(n)}_changeDialogZindex(e,n){const a=e.findOne(`.cke_dialog_container.cke_editor_${n}_dialog`);a&&a.setStyle("z-index","1010");const i=e.findOne(".cke_dialog_background_cover");i&&i.setStyle("z-index","1000");const s=e.getById(`cke_${n}`);s&&s.setStyle("z-index","999")}_initDialogFocusLogic(e){e.on("keydown",n=>{const a=n.data.getKeystroke();(a===27||a===13||[37,38,39,40].includes(a))&&n.stop()},this,null,-1),e.$.addEventListener("keydown",n=>{if(n.key!==Ht.Key.Tab)return;const a=n.target,i=this._focusSelectors.findIndex(s=>a.matches(s));i!==-1&&(n.preventDefault(),this._focusNextElement(i,n.shiftKey))})}_focusNextElement(e,n,a=!1){const i=n?(e-1+this._focusSelectors.length)%this._focusSelectors.length:(e+1)%this._focusSelectors.length,s=document.querySelector(this._focusSelectors[i]);if(!s&&!a){this._focusNextElement(i,n,!0);return}setTimeout(()=>{s.focus()},0)}onDialogOpen(e,n,a){this._changeDialogZindex(n,a);const i=e.getElement();i.addClass(this._customDialogBodyClass),i.removeAllListeners(),this._replaceCloseIcon(i),this._replaceButtons(i),this._replaceCombobox(e,i),this._initDialogFocusLogic(i)}}const Mj={codeSnippet:vj},Ij=new t.InjectionToken("DialogOverrideMap",{providedIn:"any",factory:()=>Mj});class Nh{constructor(e,n){this._injector=e,this._strategyMap=n}_isDialogOverrideType(e){return e in this._strategyMap}_createOverride(e){const n=this._strategyMap[e];if(!n)throw new Error(`Dialog override type "${e}" is not supported.`);return new n(this._injector,e)}overrideDialog(e,n){const a=e.data.name;this._isDialogOverrideType(a)&&this._createOverride(a).overrideDialog(e,n)}static{this.\u0275fac=function(n){return new(n||Nh)(t.\u0275\u0275inject(t.Injector),t.\u0275\u0275inject(Ij))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Nh,factory:Nh.\u0275fac,providedIn:"any"})}}var p3;(function(r){r[r.General=0]="General",r[r.External=1]="External"})(p3||(p3={}));class xj{constructor(e,n,a){this._contactColorService=e,this._initialsService=n,this._matIconRegistry=a,this._getMentionsWithDebounce=(0,y.debounce)(this._getMentions,500),this._mentionStyles="padding-inline-start: 5px;padding-inline-end: 10px;margin-top: 2px;margin-inline-start: 2px;border-radius: 16px;text-decoration: none;max-width: calc(100% - 10px);display: inline-flex;max-height: 1.23em;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;line-height: 1.23em;vertical-align: text-bottom;",this._mentionUserIconStyles="display: inline-flex;height: 2em;line-height: 1.9em;margin-inline-end: 5px;border-radius: 50%;width: 2em;align-self: center;color: white;font-size: 0.6em;justify-content: space-evenly;box-sizing: border-box;font-weight: 400;",this._generalUserMentionStyles="color: var(--crt-palette-primary-500);background-color: var(--crt-palette-interaction-900);",this._externalUserMentionStyles="color: var(--crt-palette-success-700);background-color: var(--crt-palette-success-100);",this._initialsBorderStyle="border: 1px solid var(--crt-palette-border-400)",this._loadExternalUserIcon()}_loadExternalUserIcon(){this._matIconRegistry.getNamedSvgIcon("external-user-type-icon").pipe((0,m.catchError)(()=>(0,m.of)(null))).subscribe(e=>{if(e){const n=(0,Zo.M6)(e.outerHTML);this._userIcon=`data:image/svg+xml;base64,${n}`}})}_getPhotoUrl(e){return!e||(0,de.gZ)(e)?"":(0,Zo.Mc)(e)}_mapMention(e){const n=e.connectionType===`${p3.External}`,a=this._getPhotoUrl(e.primaryImageValue),i=!(0,y.isEmpty)(a),s=i?"":this._contactColorService.getNextColor(e.value),b=this._mentionStyles+(n?this._externalUserMentionStyles:this._generalUserMentionStyles),D=i?this._mentionUserIconStyles:"display:none;";let W="display:none;";i||(W=this._mentionUserIconStyles+`background: ${s};`+this._initialsBorderStyle);const ot=this._initialsService.getInitials(e.displayValue),It=n?this._userIcon:"",Pt=JSON.stringify(e);return{id:e.value,name:e.displayValue,icon:a,typeIcon:It,pageUrl:(0,x.TX)("Contact",e.value),styles:b,iconStyles:D,initialsStyles:W,initials:ot,shortInitials:(0,y.isEmpty)(ot)?"":ot[0],color:s,contactDto:encodeURIComponent(Pt)}}_getMentions(e){this._mentionRequestOptions=e;const{mentionsService:n,queryString:a,callback:i}=e;n.getContacts(a).pipe((0,m.catchError)(()=>(0,m.of)(null))).subscribe(s=>{i&&i(s?.map(b=>this._mapMention(b))),this._processQueuedRequest(a)})}_processQueuedRequest(e){this._mentionRequestOptions&&this._mentionRequestOptions.queryString!==e?this._getMentions(this._mentionRequestOptions):this._mentionRequestOptions=null}getMentionsWithDebounce(e,n,a){if(!e)return a([]);if(this._mentionRequestOptions){this._mentionRequestOptions={mentionsService:e,queryString:n,callback:a};return}n===""?this._getMentions({mentionsService:e,queryString:n,callback:a}):this._getMentionsWithDebounce({mentionsService:e,queryString:n,callback:a})}getMentionsFromHtml(e){if((0,y.isEmpty)(e))return[];const n=new RegExp(/mention-info="(.+?)"/gi);return[...e.matchAll(n)].map(a=>{try{const i=decodeURIComponent(a[1]),s=JSON.parse(i);return s.value?s:null}catch{return null}}).filter(a=>!!a)}}class Vh{constructor(e){this._markdownService=e,this._highlightClass="rich-editor-highlight",this._wrapperClass="rich-editor-highlight-wrapper"}_highlightElements(e){const n=[],a=new CKEDITOR.dom.walker(e);let i;for(;i=a.next();)if(i.type===CKEDITOR.NODE_TEXT)n.push(i);else if(i.contains(e.endContainer)){n.push(i);break}n.forEach(s=>{this._wrapElements(s,e)})}_wrapElements(e,n){if(e.type===CKEDITOR.NODE_TEXT){const a=e.getUniqueId()===n.startContainer.getUniqueId()?n.startOffset:0,i=e.getUniqueId()===n.endContainer.getUniqueId()?n.endOffset:0;this._wrapTextElement(e,a,i)}else{const a=e.getChildren();for(let i=0;i<a.count();i++)this._wrapElements(a.getItem(i),n)}}_wrapTextElement(e,n=0,a=0){const i=this._createWrapElement(this._wrapperClass),s=e.getText();if(n>0&&a===0){const b=s.slice(0,n),D=new CKEDITOR.dom.text(b);i.append(D);const W=s.slice(n),ot=this._createWrapElement();ot.setHtml(W),i.append(ot)}else if(n===0&&a>0){const b=s.slice(0,a),D=this._createWrapElement();D.setHtml(b),i.append(D);const W=s.slice(a),ot=new CKEDITOR.dom.text(W);i.append(ot)}else if(n>0&&a>0){const b=s.slice(0,n),D=new CKEDITOR.dom.text(b);i.append(D);const W=s.slice(n,a),ot=this._createWrapElement();ot.setHtml(W),i.append(ot);const It=s.slice(a),Pt=new CKEDITOR.dom.text(It);i.append(Pt)}else if(n===0||a===0){const b=this._createWrapElement();b.setHtml(s),i.append(b)}i.replace(e)}_createWrapElement(e=this._highlightClass){const n=new CKEDITOR.dom.element("span");return(0,y.isEmpty)(e)||n.setAttribute("class",e),n}_removeHighlighting(e){this._getElementsBySelector(e,this._highlightClass).toArray().forEach(i=>{i.remove(!0)}),this._getElementsBySelector(e,this._wrapperClass).toArray().forEach(i=>{i.remove(!0)})}_removeSelection(e){if(!this.isEditorContainingSelection(e))return;e.getSelection()?.removeAllRanges(),getSelection()?.empty()}_getElementsBySelector(e,n){return e.editable().find("."+n)}_createRange(e,n,a){const i=e.createRange();return i.setStartBefore(n),i.setEndAfter(a),i}_cleanUpRange(e){const n=["ul","ol"],a=i=>{i.getText()===""&&n.includes(i.getName())&&i.remove(!1)};e?.deleteContents(),e.startContainer?.getChildren().toArray().forEach(i=>a(i))}_retrieveSelectionNodes(e){const n=document.createElement("div");n.innerHTML=e;const a=[];return Array.from(n.childNodes).forEach(i=>{const s=new CKEDITOR.dom.element(i),b=new CKEDITOR.dom.node(s.$);a.push(b)}),a}_sanitizeHtmlSelection(e){let n=e.replace(/&#10;/g,"");const a=["p"];for(const i of a)n=this._trimStartTag(n,i);return n}_trimStartTag(e,n){const a=new RegExp(`^<${n}>(.*?)</${n}>`),i=new RegExp(`(<${n}>[^<]*</${n}>)(?!.*<${n}>[^<]*</${n}>)`,"i");return e.replace(a,"$1").replace(i,s=>s.replace(/<\/?p>/gi,""))}highlightSelection(e){if(!e||e.readOnly)return;this._removeHighlighting(e),e.getSelection().getRanges().forEach(i=>{e.fire("saveSnapshot"),this._highlightElements(i)}),this.clearSelection(e),e.fire("saveSnapshot")}removeHighlight(e){!e||e.readOnly||(this._removeHighlighting(e),this._removeSelection(e))}isEditorContainingSelection(e){const n=getSelection();return!n||!e?!1:!!e?.container?.$?.contains(n?.focusNode)}clearSelection(e){!e||e.readOnly||this._removeSelection(e)}replaceSelection(e,n){if(!e||e.readOnly)return;const a=this._getElementsBySelector(e,this._highlightClass);if(a.count()===0)return;const i=a.getItem(0),s=a.getItem(a.count()-1),b=this._markdownService.parse(n.selection),D=this._sanitizeHtmlSelection(b),W=this._retrieveSelectionNodes(D);switch(n.editorAction){case ad.Replace:{const ot=this._createRange(e,i,s);this._cleanUpRange(ot);for(let It=W.length-1;It>=0;It--)ot.insertNode(W[It]);break}case ad.InsertAbove:for(let ot=0;ot<W.length;ot++)i.insertBeforeMe(W[ot]);break;case ad.InsertBelow:for(let ot=W.length-1;ot>=0;ot--)W[ot].insertAfter(s);break}this.removeHighlight(e)}selectHighlighted(e){if(!e||e.readOnly)return;const n=this._getElementsBySelector(e,this._highlightClass),a=n.getItem(0),i=n.getItem(n.count()-1);if(!a||!i)return;this._removeSelection(e);const s=this._createRange(e,a,i),b=e.getSelection();b.selectRanges([s]);const D=b.createBookmarks(s);this._removeHighlighting(e),b.selectBookmarks(D),e.fire("saveSnapshot")}static{this.\u0275fac=function(n){return new(n||Vh)(t.\u0275\u0275inject(mC.MarkdownService))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Vh,factory:Vh.\u0275fac})}}class HC{static{this._wrapperClass="crt-table-of-contents"}static{this._translatePrefix="RichTextEditor"}static _getTranslate(e){return this._translateService.instant(`${this._translatePrefix}.${e}`)}static _insertTableOfContentsPlaceholder(e){const n=`<div contenteditable="false" class="${this._wrapperClass}">
		<div class="placeholder">
			<div class="title-wrapper">
				<img src="${CKEDITOR.plugins.getPath("crtTableOfContents")+"icon.svg"}"></img>
				<span class="title">${this._getTranslate("TableOfContents.Title")}</span>
			</div>
			${this._getTranslate("TableOfContents.Placeholder")}
		</div></div><br/>`;e.editor.insertHtml(n)}static _buildNestedList(e){const n=this._renderer.createElement("ul"),a=[{level:0,list:n}];return e.forEach(i=>{if(!i.id)return;const s=parseInt(i.tagName[1]),b=this._renderer.createElement("li"),D=this._createLink(i);this._appendLinkToItem(b,D),this._updateStack(a,s),this._appendItemToList(a,b,s)}),n}static _createLink(e){const n=this._renderer.createElement("a");return this._renderer.setAttribute(n,"href",`#${e.id}`),this._renderer.setProperty(n,"textContent",e.textContent),this._renderer.setAttribute(n,"tabIndex","0"),n}static _appendLinkToItem(e,n){this._renderer.appendChild(e,n)}static _updateStack(e,n){for(;e.length>1&&e[e.length-1].level>=n;)e.pop()}static _appendItemToList(e,n,a){if(e[e.length-1].level<a){const i=this._renderer.createElement("ul");this._renderer.appendChild(e[e.length-1].list,i),this._renderer.appendChild(i,n),e.push({level:a,list:i})}else this._renderer.appendChild(e[e.length-1].list,n),e.push({level:a,list:e[e.length-1].list})}static init(e){this._translateService=e.get(f.TranslateService);const n=e.get(t.RendererFactory2);this._renderer=n.createRenderer(null,null)}static subscribeEvents(e){e.on("CrtInsertTableOfContentsPlaceholder",this._insertTableOfContentsPlaceholder.bind(this))}static generateTableOfContents(e){const n=e?.editable?.()?.$,a=n?.getElementsByClassName(this._wrapperClass)||[];if(a.length<1)return;const i=n.querySelectorAll("h1, h2, h3, h4, h5, h6");i.length!==0&&(Array.from(i).filter(s=>s?.innerText?.trim()?.length>0).forEach((s,b)=>{s.id||(s.id=`crtHeader${b+1}`)}),Array.from(a).forEach(s=>{s.innerHTML="",s.appendChild(this._buildNestedList(i)),setTimeout(()=>{s.setAttribute("contenteditable","false")},0)}))}}const Sj=["tooltipLink"],wj=["selectionActionsPanel"],Ej=["*"],Tj=r=>({"crt-input-required":r}),Pj=()=>["cke_widget_drag_handler","cke_widget_mask"];function Oj(r,e){r&1&&t.\u0275\u0275elementContainer(0)}function Dj(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-base-input-width-holder",12),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("label",n.label)("minWidth",180)}}function Aj(r,e){if(r&1&&t.\u0275\u0275element(0,"div",13,2),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("tooltipConfig",n.getLinkWindowTooltipConfig())}}function Lj(r,e){r&1&&t.\u0275\u0275element(0,"crt-skeleton-loader")}function kj(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"ckeditor",25),t.\u0275\u0275twoWayListener("dataChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275twoWayBindingSet(s.control.value,i)||(s.control.value=i),t.\u0275\u0275resetView(i)})("configChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275twoWayBindingSet(s.editorConfig,i)||(s.editorConfig=i),t.\u0275\u0275resetView(i)}),t.\u0275\u0275listener("ready",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onEditorReady(i))})("focus",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onEditorFocus(i))})("blur",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onEditorBlur(i))})("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.onClick(i))})("sizeChanged",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onVideoSizeChanged())})("keydown.escape",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.tryCloseToolbar(i))}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("crtAnchorScrollHandler",(!n.isFocused||n.readonly)&&n.isReady&&!n.loading)("ignoreImageClasses",t.\u0275\u0275pureFunction0(11,Pj))("toggleImageHandlers",(!n.isFocused||n.readonly)&&n.isReady&&!n.loading)("resetHighlightCode",n.control.value)("resetHighlightQuote",n.control.value)("resetResizeVideo",n.control.value)("enableSizeChanges",!0),t.\u0275\u0275twoWayProperty("data",n.control.value)("config",n.editorConfig),t.\u0275\u0275property("type",n.editorType)("editorUrl",n.editorUrl)}}function Rj(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",26),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onClipClicked())})("keyup.enter",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return i.stopPropagation(),t.\u0275\u0275resetView(s.onClipClicked())})("mousedown",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.setBlurLocked())})("focus",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.setBlurLocked())})("blur",function(i){t.\u0275\u0275restoreView(n),t.\u0275\u0275nextContext();const s=t.\u0275\u0275reference(8),b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.tryBlurToggle(i,s))}),t.\u0275\u0275elementEnd()}r&2&&(t.\u0275\u0275property("crtTooltip",t.\u0275\u0275pipeBind1(1,2,"RichTextEditor.UploadAttachments")),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(2,4,"RichTextEditor.UploadAttachments")))}function Nj(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",27),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.onSelectTemplateClicked())})("keyup.enter",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return i.stopPropagation(),t.\u0275\u0275resetView(s.onSelectTemplateClicked())})("focus",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.setBlurLocked())})("mousedown",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.setBlurLocked())})("blur",function(i){t.\u0275\u0275restoreView(n),t.\u0275\u0275nextContext();const s=t.\u0275\u0275reference(8),b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.tryBlurToggle(i,s))}),t.\u0275\u0275elementEnd()}r&2&&(t.\u0275\u0275property("crtTooltip",t.\u0275\u0275pipeBind1(1,2,"RichTextEditor.SelectTemplate")),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(2,4,"RichTextEditor.SelectTemplate")))}function Vj(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-icon",28),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.toggleToolbar(i.buttons===1&&i.isPrimary))})("focus",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.setBlurLocked())})("blur",function(i){t.\u0275\u0275restoreView(n),t.\u0275\u0275nextContext();const s=t.\u0275\u0275reference(8),b=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(b.tryBlurToggle(i,s))})("keyup.enter",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext(2);return i.stopPropagation(),t.\u0275\u0275resetView(s.toggleToolbar(!0))})("mousedown",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.setBlurLocked())}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275classMap("toggle-icon crt-input-icon toggle-"+(n.showToolbar?"selected":"default")),t.\u0275\u0275property("tooltipConfig",n.getToggleTooltipConfig(t.\u0275\u0275pipeBind1(1,4,"RichTextEditor.ToggleToolbar"))),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(2,6,"RichTextEditor.ToggleToolbar"))}}function Fj(r,e){r&1&&(t.\u0275\u0275element(0,"mat-icon",29),t.\u0275\u0275pipe(1,"translate")),r&2&&t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(1,1,"Input.Readonly"))}function jj(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"crt-icon-tooltip",30),t.\u0275\u0275elementContainerEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("tooltip",n.errorMessages)("ariaLabel",n.label)}}function Bj(r,e){if(r&1&&t.\u0275\u0275element(0,"crt-icon-tooltip",32),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("tooltip",n.tooltip)("ariaLabel",n.label)}}function zj(r,e){if(r&1&&t.\u0275\u0275template(0,Bj,1,2,"crt-icon-tooltip",31),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ngIf",n.tooltip)}}function Uj(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",14)(1,"label",15),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(3,"div",16)(4,"div",17)(5,"div",18),t.\u0275\u0275template(6,kj,1,12,"ckeditor",19),t.\u0275\u0275elementStart(7,"div",20,3),t.\u0275\u0275template(9,Rj,3,6,"mat-icon",21)(10,Nj,3,6,"mat-icon",22)(11,Vj,3,8,"mat-icon",23)(12,Fj,2,3,"mat-icon",24)(13,jj,2,2,"ng-container",11)(14,zj,1,1,"ng-template",null,4,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()()()),r&2){const n=t.\u0275\u0275reference(15),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(16,Tj,a.isShownRequiredMark)),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a.label),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass","label-position-"+a.displayLabelPosition),t.\u0275\u0275advance(2),t.\u0275\u0275classProp("invalid",a.invalid)("readonly",a.readonly)("hasTooltip",a.tooltip),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.control),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",a.showClip&&a.isFocused&&!a.readonly),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.useTemplates&&a.isFocused&&!a.readonly),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isFocused&&!a.readonly),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.readonly),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.invalid)("ngIfElse",n)}}let sn=class Pv extends ar.j{get _useMentions(){return!!this.mentionsService||!!this._mentionsConfig}get showToolbar(){return this._showToolbar}set showToolbar(e){this._showToolbar=e,this._setToolbarVisibility(e),this.currentEditor.fire("toggleToolbar",{display:e})}get editorConfig(){return this._editorConfig}set editorConfig(e){Object.assign(this._editorConfig,e)}get mentionsConfig(){return this._mentionsConfig||this._defaultMentionsConfig}set mentionsConfig(e){Object.assign(this._mentionsConfig,e)}set content(e){this.control.setValue(e)}constructor(e,n,a,i,s,b,D,W,ot,It,Pt,te,Se,On,Da,ba,$r,y_,Gz){super(e,n),this.matDateLocale=a,this.window=i,this.ckeditorUrl=s,this.themeCssUrlSearchTemplate=b,this._messageDialogProvider=D,this._contactColorService=W,this._initialsService=ot,this._currentTheme$=It,this._platform=Pt,this._featureValues=te,this._domPurifier=Se,this._fileUploadProcessingService=On,this._fileIconService=Da,this._uploadService=ba,this._rightsService=$r,this._dialogService=y_,this._dialogOverrideService=Gz,this._editorConfig={skin:"freedom",customConfig:"",toolbar:[["Format","-","CopyFormatting","Bold","Italic","Underline","Strike","-","TextColor","-","NumberedList","BulletedList","-","CreatioLink","CreatioImageFileUploadButton","CreatioFileUploadButton","CreatioVideo","CreatioTable","CrtTableOfContents","-","Blockquote","CodeSnippet","-","JustifyLeft","JustifyCenter","JustifyRight","-","Outdent","Indent","Expand","Collapse"]],extraPlugins:"creatioeditorplaceholder,expandcollapse,textmatch,autolink,link,creatiolink,imagebase,uploadimage,creatiouploadfile,creatioImageFileUpload,dragresize,creatiotabletools,tableresize,justify,copyformatting,indent,creatiofixedtoolbox,tableselection",removePlugins:"smiley,pagebreak,iframe,language,flash,image,magicline,scayt,editorplaceholder,imageresizerowandcolumn",format_tags:"p;h1;h2;h3",colorButton_enableMore:!1,context_menu:[],title:"",allowedContent:!0,removeButtons:"Link,Image",toolbarStartupExpanded:!1,enterMode:2,startupShowBorders:!1,entities_greek:!1,entities_latin:!1,disableNativeSpellChecker:!1,versionCheck:!1,codeSnippet_languages:{bash:"Bash",cpp:"C++",cs:"C#",css:"CSS",html:"HTML",http:"HTTP",java:"Java",javascript:"JavaScript",json:"JSON",php:"PHP",pgsql:"PostgreSQL",python:"Python",ruby:"Ruby",scss:"SCSS",sql:"SQL",typescript:"TypeScript",xml:"XML"}},this._toolbarClassName="crt-rich-text-editor-toolbar",this._defaultMentionsConfig={feed:($z,Kz)=>this._getMentions($z.query,Kz),itemTemplate:'<li data-id="{id}" data-qa="{id}-mention-option" class="mention-item"><span class="contact-no-photo" color="{color}" aria-hidden="true" style="background:{color}">{initials}</span><img src="{icon}">{name}<img src="{typeIcon}" class="user-type-icon"></li>',outputTemplate:'<a href="{pageUrl}" contentEditable="false" style="{styles}" data-value="{id}" mention-info="{contactDto}" data-mention-display-value="{name}" data-link="mention" target="_blank"><img style="{iconStyles}" src="{icon}"/><span color="{color}" style="{initialsStyles}">{shortInitials}</span>{name}</a>',minChars:0,marker:"@",throttle:0},this._uploadedFileClassName="file-download-link",this._uploadedFileNameAttribute="crt-uploaded-file-name",this._selectionDebounceDelay=250,this._primaryDataSchemaName="",this._showToolbar=!1,this._tooltipOffset=24,this._dialogIsShowing=!1,this._currentRecordChanged=!1,this._namespaceInitialized=!1,this._selectionDebounceFn=(0,y.debounce)(this._onSelectionChange,this._selectionDebounceDelay),this._onDomSelectionChangeHandler=this._onDocumentSelectionChange.bind(this),this.isFocused=!1,this.isReady=!1,this.lockBlur=!1,this._isVideoSizeChanged=!1,this.plainTextChange=new t.EventEmitter,this.editorType="inline",this.needHandleSave=!0,this.alwaysShowToolbar=!1,this.filesStorage={masterRecordColumnValue:"$Id",recordEntitySchemaName:"",recordColumnName:"RecordId",entitySchemaName:"SysFile"},this.selectAttachments=new t.EventEmitter,this.selectionChange=new t.EventEmitter,this.selectTemplate=new t.EventEmitter,this.filesUploaded=new t.EventEmitter,this.useBodyFilesLinks=!0,this.editorBlur=new t.EventEmitter,this.editorFocus=new t.EventEmitter,this.editorValueChanged=new t.EventEmitter,this.newMention=new t.EventEmitter,this.editorUrl=s,this._sanitizeHtmlPipe=this.injector.get(mh.b),this._matIconRegistry=this.injector.get(_t.MatIconRegistry),this._mentionUtils=new xj(this._contactColorService,this._initialsService,this._matIconRegistry),this._selectionActionsPositionService=e.get(Rh),this._copilotToEditorCommunicationService=e.get(Ah),this._selectionUtils=e.get(Vh),this._schemaService=e.get(gi),HC.init(e)}_getCurrentEditor(e){let n=CKEDITOR.currentInstance;return this._isVideoSizeChanged&&n&&(n=e?.editor),n}_updateValue(e){const n=this._getCurrentEditor(e);e?.editor?.name===this.currentEditor?.name&&this._currentRecordId!==this.control.parent?.value?.Id&&(this._currentRecordId=this.control.parent?.value?.Id,this.currentEditor.schemaRecordId=this._currentRecordId,this._currentRecordChanged=!0),n?.name===this.currentEditor?.name&&(this._updateValueInControl(n),this._isVideoSizeChanged=!1),this.editorValueChanged.emit()}_resetUndoCache(){this.currentEditor&&this.currentEditor.resetUndo()}_updateValueInControl(e){const n=e.getData();this.control.setValue(n);const i=e.editable().$?.innerText;this.plainTextChange.emit(i),this._updateValidity()}_setToolbarVisibility(e){const n=(this._lastEditor||CKEDITOR.currentInstance)?.name,a=document.getElementById("cke_"+n);a&&(e?(a.style.opacity="1",a.style.pointerEvents="auto",a.style.removeProperty("display"),this.alwaysShowToolbar||window.dispatchEvent(new Event("scroll"))):(a.style.opacity="0",a.style.display="none",a.style.pointerEvents="none"))}_updateValidity(){this.control.updateValueAndValidity(),this.control.markAsTouched()}_openUrl(e,n){e&&this.window.open(e,n)}_setContenteditable(e,n){e?.editable().$.setAttribute("contenteditable",n)}_subscribeBeforeDestroyEvent(e){e.editor.on("beforeDestroy",n=>{this.isReady=!1,this._hideTooltip(),n.editor.fire("blur"),this._unsubscribeFromSelectionChange(n.editor)},this)}_handleSelection(e){const n="selectable",a="selected",s=e.getSelection().getStartElement();s&&s.hasClass(n)?s.addClass(a):e.document.find(`.${n}.${a}`).toArray().forEach(b=>{b.removeClass(a)})}_subscribeEvents(e){const n=e.editor;CKEDITOR.on("ariaWidget",this.onPanelElementCreated.bind(this)),CKEDITOR.on("dialogDefinition",this._updateBaseDialogs.bind(this)),n.on("change",this._updateValue.bind(this)),n.on("insertHtml",this._onInsertHtml.bind(this)),n.on("fileUploadRequest",this._handleFileUploadRequest.bind(this)),n.on("CreatioImageClick",()=>this.lockBlur=!0,this),n.on("CreatioImageWindowClose",()=>this.lockBlur=!1,this),n.on("CreatioLinkClick",this._showTooltip.bind(this)),n.on("CreatioLinkDoubleClick",this._showTooltip.bind(this)),n.on("CreatioFileUploadFailed",this._removeFailedLink.bind(this)),n.on("beforeCommandExec",this._beforeCommandExec.bind(this)),n.on("selectionChange",this._handleSelection.bind(this,n)),HC.subscribeEvents(n),n.document.on("keydown",this._handleKeyDownEvent.bind(this)),n.on("CreatioVideoClick",this._showVideoDialog.bind(this)),this._subscribeImageResize(n),this._subscribeToSelectionChange(n),n.container.$.addEventListener("contextmenu",function(a){a.stopPropagation()},!0)}_subscribeToSelectionChange(e){this.disableSelectionOptions||!this._featureValues.SelectionRewriteActions||(e.document.$.body.append(this.selectionActionsPanel.nativeElement),e.document.$.addEventListener("selectionchange",this._onDomSelectionChangeHandler))}_unsubscribeFromSelectionChange(e){this.disableSelectionOptions||!this._featureValues.SelectionRewriteActions||(e.document.$.removeEventListener("selectionchange",this._onDomSelectionChangeHandler),this.selectionActionsPanel?.nativeElement?.remove())}_onDocumentSelectionChange(){const e=this._selectionUtils.isEditorContainingSelection(this.currentEditor);(this.selectionActionsPanel.nativeElement.style.display==="unset"||e)&&this._selectionDebounceFn()}_handleKeyDownEvent(e){switch(e.data.$.key){case Ht.Key.Backspace:case Ht.Key.Delete:this._removeBRBeforeFile(e),this._removeAllZWS();break;default:break}}_updateBaseDialogs(e){const n=(CKEDITOR.currentInstance||this._lastEditor)?.name;n&&this._dialogOverrideService.overrideDialog(e,n)}_removeBRBeforeFile(e){const n=this.currentEditor.getSelection();if(!n)return;const i=n.getRanges()[0]?.getNextNode(),s=i?.$;if(s){const b=s.previousElementSibling?.tagName?.toUpperCase()==="BR"&&s.previousSibling?.wholeText?.length===0,D=i.hasClass?.("crt-file-wrapper"),W=s.nextElementSibling?.classList.contains("crt-file-wrapper"),ot=s.nodeType===CKEDITOR.NODE_TEXT&&s.nodeValue?.length===0&&W,It=s.tagName?.toUpperCase()==="BR";b&&(D||ot)?(s.previousElementSibling.remove(),e.data.preventDefault()):It&&W&&(i.remove(),e.data.preventDefault())}}_removeAllZWS(){const e=this.currentEditor?.editable()?.$;if(!e)return;const n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,{acceptNode:()=>NodeFilter.FILTER_ACCEPT});let a;for(;a=n.nextNode();)a.nodeValue.includes("\u200B")&&(a.nodeValue=a.nodeValue.replace(/\u200B/g,""))}_removeFailedLink(e){this._replaceUploadedFileContainer(e.editor,e.data.fileName,""),this._showErrorDialog("InfoDialog.FileUpload.InvalidRequestParams")}_validateFileUploadRequest(){var e=this;return(0,bt.A)(function*(){if(e.filesStorage.entitySchemaName==="SysFile"&&e.filesStorage.recordColumnName==="RecordId")return!0;if(!e.filesStorage.masterRecordColumnValue||!e.filesStorage.entitySchemaName||!e.filesStorage.recordColumnName||!e.filesStorage.recordEntitySchemaName)return e._showErrorDialog("InfoDialog.FileUpload.InvalidRequestParams"),!1;const n=(yield(0,m.lastValueFrom)(e._rightsService.getCanAdd([e.filesStorage.entitySchemaName]).pipe((0,h.catchError)(()=>(0,m.of)([])))))[0];return n?.errorMessage&&e._showErrorDialog(n.errorMessage),n?.result})()}_handleFileUploadRequest(e){const{editor:n}=e,a=e?.data?.requestData?.upload?.file,i=e?.data?.fileLoader;i&&(i.abort=()=>{}),e.stop(),a&&(n.crtUploadingFiles=n.crtUploadingFiles||[],n.crtUploadingFiles.push(a)),!(n.crtPastedFiles?.length>n.crtUploadingFiles.length)&&(n.crtUploadingFiles=n.crtUploadingFiles.filter(s=>s.name&&this.currentEditor.editable().$?.innerText?.includes(s.name)),n.crtPastedFiles=[],this._processFilesUpload(n.crtUploadingFiles).then(s=>{n.crtUploadingFiles=[],n.uploadFilesData={readyToUploadFiles:n.uploadFilesData?.readyToUploadFiles||[],filesStorage:this.filesStorage,uploadEvent:e},s.forEach(b=>{const D=(0,de.qv)(),W=this._uploadService.getUploadUrl({fileEntitySchemaName:this.filesStorage.entitySchemaName,id:D});this._wrapFileLink(b.name,W),n.uploadFilesData.readyToUploadFiles.push({fileId:D,file:b})}),setTimeout(()=>{document.querySelectorAll(".crt-file-wrapper").forEach(b=>b.setAttribute("contenteditable","false"))},0),this.filesUploaded.emit(n.uploadFilesData?.readyToUploadFiles)}))}_processFilesUpload(e){var n=this;return(0,bt.A)(function*(){let a;if(!(yield n._validateFileUploadRequest()))return e.forEach(W=>n._replaceUploadedFileContainer(n.currentEditor,W.name,"")),[];const i=yield n._fileUploadProcessingService.processSelectedFiles(e,null),s=i?.files?(0,y.differenceBy)(e,i?.files,"name"):[],b=[];i?.errors?.length>0&&(a=n._fileUploadProcessingService.createFileErrorMessageForLogs(i.errors));for(const W of e)(yield n._fileUploadProcessingService.isFileExtensionDeny(W))&&b.push(W);if(b.length>0){const W=n._fileUploadProcessingService.createExtensionAttachmentsErrorMessage(b);a=a?`${W}\r
\r
${a}`:W}const D=[...s,...b];return i.files=(0,y.differenceBy)(e,D,"name"),a&&(n._showErrorDialog(a),D.forEach(W=>n._replaceUploadedFileContainer(n.currentEditor,W.name,""))),n.useBodyFilesLinks||i.files.forEach(W=>n._replaceUploadedFileContainer(n.currentEditor,W.name,"")),i.files})()}_showErrorDialog(e){this._dialogIsShowing||(this._dialogIsShowing=!0,this._messageDialogProvider.error(e).pipe((0,m.takeUntil)(this.destroyed$)).subscribe(()=>{this._dialogIsShowing=!1}))}_wrapFileLink(e,n){const a=this._fileIconService.getFileIcon(e);this._matIconRegistry.getNamedSvgIcon(a).pipe((0,h.catchError)(()=>(0,m.of)(null)),(0,h.map)(i=>{let s="";i&&(i.classList.add(id.fileIconImageCssClass),i.style.width="16px",i.style.height="16px",s=i.outerHTML);const b=`<a ${this._uploadedFileNameAttribute}="${e}" class="${this._uploadedFileClassName}" href="${n}" target="_self">${e}</a>`;return`<span contenteditable="false" class="crt-file-wrapper">${s}${b}</span> `}),(0,m.takeUntil)(this.destroyed$)).subscribe(i=>{this._replaceUploadedFileContainer(this.currentEditor,e,i),this._moveCaretPositionAfterFileLink(e)})}_moveCaretPositionAfterFileLink(e){const n=this.currentEditor,i=n.document?.find(`a[${this._uploadedFileNameAttribute}="${e}"]`)?.getItem(0)?.getParent()?.getNext();if(i){const s=n.getSelection(),b=n.createRange();b.setStart(i,1),b.setEnd(i,1),s.selectRanges([b])}}_replaceUploadedFileContainer(e,n,a){const s=e?.document?.$?.querySelector(`a[${this._uploadedFileNameAttribute}="${n}"]`)?.parentNode;s&&(s.parentNode?.querySelector("div[data-cke-hidden-sel]")?.remove(),s.outerHTML=a,this.currentEditor.fire("change"))}_replaceAnchorTags(e){return e.replace(/<a[^>]*data-mention-display-value="([^"]*)"[^>]*>(.*?)<\/a>/gs,function(n,a){return a})}_subscribeImageResize(e){const n=a=>{["*"].includes(a.data.type)&&(a.data.dataValue="")};e.on("paste",a=>{const i=a.editor?.elementPath()?.lastElement;i&&(a.data.dataValue=this._replaceAnchorTags(a.data.dataValue),a.editor.sizeBeforePaste={width:i.getSize("width"),height:i.getSize("height")}),a.editor.crtPastedFiles=a.data?.dataTransfer?.$?.files,n(a)}),e.on("resizeComplete",a=>{const i=a.data.element;i.style.width&&i.style.removeProperty("max-width")})}_onInsertHtml(e){const n=e?.data?.dataValue,a=this._mentionUtils.getMentionsFromHtml(n);a&&a.length>0&&this.newMention.next(a),e.editor?.elementPath()?.lastElement?.find("img").toArray().forEach(i=>{n.includes(CKEDITOR.tools.htmlEncode(i.getAttribute("src")))&&i.setStyle("max-width",`${e.editor.sizeBeforePaste?.width-20}px`)})}_loadSkin(){const e=this._getDomElement(this.window.document,"head");if(e){const n=this.ckeditorUrl.replace("ckeditor.js","");id.appendLink(e,n+"skins/freedom/editor.css")}}_overrideShowNotification(e){e.editor.showNotification=n=>{n&&(n=this._sanitizeHtmlPipe.transform(n,{mode:"textOnly",dataType:X.r.MAXSIZE_TEXT}),this._messageDialogProvider.info(n))}}_getDomElement(e,n){const a=e?.getElementsByTagName(n);return!a||a.length<1?null:a[0]}_restoreSelectionRanges(){this.currentEditor?.getSelection().selectRanges(this.currentEditor?.oldRanges)}_getMentions(e,n){this._mentionUtils.getMentionsWithDebounce(this.mentionsService,e,n)}_isFileLink(){const n=CKEDITOR.plugins.link.getSelectedLink(this.currentEditor,!0)?.[0]||null;return n?.is("a")&&n.hasClass(this._uploadedFileClassName)}_showTooltip(e){if(this._isFileLink())return;this.toggleLink(!0);const n=this.tooltipLink.nativeElement,a=e.editor.getSelectedRanges()[0];if(a){const i=a?.getClientRects()?.[0],s=e.editor.container.getClientRect(),b=(i?.x||0)-s.x,D=(i?.bottom||0)-s.y;n.style.left=`${b}px`,n.style.top=`${D}px`,n.click()}}_showVideoDialog(e){this._dialogService.open(kh,{data:{value:{editor:this.currentEditor,viewModel:this._viewModel,editorConfig:this.editorConfig,primaryDataSchemaName:this._primaryDataSchemaName}},panelClass:"rich-text-video-dialog",disableClose:!0,autoFocus:!1}).subscribe()}_hideTooltip(){this.tooltipLink.nativeElement.dispatchEvent(new Event("blur")),this.toggleLink(!1)}_sanitizeGlobalStyleTagContent(e){if(!e.data.sanitized&&!this._featureValues.DisableRemoveRichtextGlobalStyles){const n=this._domPurifier.sanitize(e.data.dataValue,{FORBID_TAGS:["style","base"],ADD_TAGS:["signature","iframe","video"],ADD_ATTR:["bodylimiter","crt-file-name"]});e.data.dataValue=n,e.data.sanitized=!0}}_disablePlugin(e,n,a){e()&&(this.editorConfig.toolbar[0]=this.editorConfig.toolbar[0].filter(i=>i!==a),this.editorConfig.extraPlugins=this.editorConfig.extraPlugins.replace(new RegExp(`${n},`,"g"),""))}_setAdditionalExtraPlugins(){this.extraPlugins&&this.extraPlugins.length>0&&(this.editorConfig.extraPlugins+=`,${this.extraPlugins.join(",")}`)}_subscribeInstanceCreated(){this._namespaceInitialized?this._namespaceInitialized=!0:CKEDITOR?.on("instanceCreated",e=>{e.editor.on("setData",this._sanitizeGlobalStyleTagContent.bind(this))})}_getSelection(){const e=this.currentEditor;return e?e.getSelection():null}_onSelectionChange(){const n=this._getSelection()?.getSelectedText()??"";if((0,y.isEmpty)(this.selection)&&this.selection===n)return;this.selectionChange.emit(n),this._selectionActionsPositionService.updatePosition(this.selectionActionsPanel,this.currentEditor?.container?.$)&&this._subscribeToHighlightSelection()}_subscribeToHighlightSelection(){this._copilotToEditorCommunicationService.subscribeToNotifications(this.currentEditor.id,e=>{if(!(!this.isReady||!this.currentEditor.editable))switch(e.editorAction){case Dh.SetHighlighting:this._selectionUtils.highlightSelection(this.currentEditor);break;case Dh.RemoveHighlighting:this._selectionUtils.removeHighlight(this.currentEditor),this._updateValueInControl(this.currentEditor);break;case ad.Replace:case ad.InsertAbove:case ad.InsertBelow:this._selectionUtils.replaceSelection(this.currentEditor,e);break}})}_beforeCommandExec(e){e.data.name==="toolbarFocus"&&(this.showToolbar=!0,this.detectChanges())}isFocusingOutside(e,n){let a=!0;const i=e?.relatedTarget?.parentElement;return i&&(a=i!==n),a}_applyCustomTagsSupport(e){CKEDITOR?.dtd?.span&&CKEDITOR?.dtd?.div&&(CKEDITOR.dtd[e]={...CKEDITOR.dtd.span,div:1},CKEDITOR.dtd.$inline[e]=1,CKEDITOR.dtd.div[e]=1,CKEDITOR.dtd.$editable[e]=1)}onPanelElementCreated(e){const n=this._getDomElement(e.data.$.contentDocument,"head");if(n){const i=this.ckeditorUrl.replace("ckeditor.js","");id.appendLink(n,i+"contents.css"),id.appendLink(n,i+"skins/freedom/editor.css");const s=id.getThemeCssLink(document,this.themeCssUrlSearchTemplate);s?id.appendLink(n,s):console.warn(`Not found css-file by ${this.themeCssUrlSearchTemplate}`)}const a=this._getDomElement(e.data.$.contentDocument,"body");a&&(a.classList.contains(this._currentTheme.cssSelector)||a.classList.add(this._currentTheme.cssSelector))}handleFinishLoadViewModelAttributes(){super.handleFinishLoadViewModelAttributes(),this._currentRecordChanged&&(this._currentRecordChanged=!1,this._resetUndoCache())}ngOnInit(){this.editorConfig.name=this.name,this.editorConfig.language=this.matDateLocale?.split("-")[0],this.editorConfig.editorplaceholder=this.placeholder,this.editorConfig.fileStorageName=this.filesStorage.entitySchemaName,this.editorConfig.recordColumnName=this.filesStorage.recordColumnName,this.editorConfig.recordEntitySchemaName=this.filesStorage.recordEntitySchemaName,this._loadSkin(),this._useMentions&&(Object.assign(this.editorConfig,{mentions:[this.mentionsConfig]}),this.editorConfig.extraPlugins+=", mentions"),this._setAdditionalExtraPlugins(),this._disablePlugin(()=>!this.needHandleSave||!this._featureValues.UseRichTextUploadFile,"creatiouploadfile","CreatioFileUploadButton"),(0,hj.$)(this.editorUrl).then(this._subscribeInstanceCreated.bind(this)),this._viewModel=this.control.parent?.value;const e=this._schemaService.schema?this._schemaService.getModelConfig():null;this._primaryDataSchemaName=e?e.dataSources[e.primaryDataSourceName]?.config?.entitySchemaName:""}ngAfterViewInit(){var e=()=>super.ngAfterViewInit,n=this;return(0,bt.A)(function*(){e().call(n),n._currentTheme=yield(0,m.firstValueFrom)(n._currentTheme$)})()}onEditorReady(e){e.editor.setActiveEnterMode(CKEDITOR.ENTER_DIV),this._applyCustomTagsSupport("signature"),this._subscribeEvents(e),e.editor.setReadOnly(this.readonly),this.editorName=e.editor.name;const n=document.querySelector(`#cke_${e.editor.name}.cke_float`);n?.classList.add(this._toolbarClassName),n?.classList.add("cdk-overlay-pane"),this.currentEditor=this._lastEditor=e.editor,e.editor.schemaRecordId=this._currentRecordId,e.editor.editable().changeAttr("aria-label",this.label),this._subscribeBeforeDestroyEvent(e),e.editor.needHandleSave=this.needHandleSave,this._overrideShowNotification(e),this.detectChanges(),this.isReady=!0}toggleLink(e){this.currentEditor.oldRanges=this.currentEditor.getSelectedRanges(),this._setToolbarVisibility(!e)}onEditorFocus(e){const n=document.querySelectorAll(":hover");if(n[n.length-1]instanceof HTMLAnchorElement){this._setContenteditable(e.editor,!1),this._setToolbarVisibility(!1);return}this.alwaysShowToolbar&&!this.readonly&&(this.showToolbar=!0),this.isFocused=!0,this.editorFocus.emit(),this.showToolbar?e.editor.focus():this._setToolbarVisibility(!1),e.editor.editable().setAttribute("spellcheck",!0),this._selectionUtils.selectHighlighted(e.editor)}clearSelection(){this._selectionUtils.clearSelection(this.currentEditor)}focus(){this.currentEditor?.focus()}onEditorBlur(e){this._lastEditor=e.editor,e.editor?.editable()&&e.editor.editable().setAttribute("spellcheck",!1),this.showToolbar=!1,this.lockBlur?e.stop():(this.isFocused&&(this.editorBlur.emit(),this.currentEditor?.focusManager?.blur(),this.isFocused=!1),this.readonly||(HC.generateTableOfContents(this.currentEditor),this.currentEditor.fire("change"),this._updateValidity()))}toggleToolbar(e=!1){this.lockBlur=!1,this.showToolbar=!this.showToolbar;const n=CKEDITOR.currentInstance||this._lastEditor;n?.focus(),e&&this.showToolbar&&n?.toolbox?.focus()}onClick(e){const n=e.target,a=n instanceof HTMLAnchorElement?n:n.parentElement;if(a instanceof HTMLAnchorElement&&!this.isFocused){const i=a.getAttribute("href");i.startsWith("#")||this._openUrl(i,a.target||"_blank")}this.currentEditor.readOnly||this._setContenteditable(CKEDITOR.currentInstance,!0)}tryBlurToggle(e,n){const a=this.isFocusingOutside(e,n);this.lockBlur&&a&&(this.lockBlur=!1,this.onEditorBlur({}))}onClipClicked(){this.selectAttachments.emit()}onSelectTemplateClicked(){this.selectTemplate.emit()}ngOnChanges(e){e.readonly&&this.currentEditor&&this.currentEditor.setReadOnly(e.readonly.currentValue)}removeReadyToUploadFile(e){const n=this.currentEditor?.uploadFilesData?.readyToUploadFiles;n&&(this.currentEditor.uploadFilesData.readyToUploadFiles=n.filter(a=>a.fileId!==e))}getLinkWindowTooltipConfig(){return new Bo.I({showEvent:"click",hideEvent:"blur",closeOnOutsideClick:!0,tooltipConfig:{value:{editor:this.currentEditor},onClose:this.onLinkWindowClosed.bind(this),onSave:this.onLinkSaved.bind(this),onUnlink:this.onLinkUnlink.bind(this)},preferredPositions:[{originX:"end",originY:"bottom",overlayX:"start",overlayY:"top",offsetY:this._tooltipOffset,offsetX:-this._tooltipOffset},{originX:"end",originY:"top",overlayX:"start",overlayY:"bottom",offsetY:-this._tooltipOffset,offsetX:-this._tooltipOffset}],componentType:Lh})}getToggleTooltipConfig(e){return new Bo.I({showEvent:["focus","mouseenter"],hideEvent:["blur","mouseleave"],closeOnOutsideClick:!0,tooltipConfig:{value:e},componentType:ll.x})}onLinkSaved(){this._hideTooltip(),this.focus(),this._updateValueInControl(this.currentEditor)}onLinkWindowClosed(){this.focus(),this._restoreSelectionRanges(),this._hideTooltip()}onLinkUnlink(){this._hideTooltip(),this._updateValueInControl(this.currentEditor)}onVideoSizeChanged(){this._isVideoSizeChanged=!0,this.currentEditor.fire("change")}onBeforeUnload(){this._selectionUtils.removeHighlight(this.currentEditor),this._updateValueInControl(this.currentEditor)}setBlurLocked(){this.lockBlur=!0}tryCloseToolbar(e){this.showToolbar&&(this.showToolbar=!1,e?.stopPropagation())}static{this.\u0275fac=function(n){return new(n||Pv)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(Fd.MAT_DATE_LOCALE,8),t.\u0275\u0275directiveInject(E.ZP),t.\u0275\u0275directiveInject(d2),t.\u0275\u0275directiveInject(a9),t.\u0275\u0275directiveInject(ji),t.\u0275\u0275directiveInject(nc),t.\u0275\u0275directiveInject(ac),t.\u0275\u0275directiveInject(uj),t.\u0275\u0275directiveInject(Y.Platform),t.\u0275\u0275directiveInject(ge.G),t.\u0275\u0275directiveInject(E.MV),t.\u0275\u0275directiveInject(yu),t.\u0275\u0275directiveInject(Gi),t.\u0275\u0275directiveInject(rd),t.\u0275\u0275directiveInject(Ld.f),t.\u0275\u0275directiveInject(Kt.o),t.\u0275\u0275directiveInject(Nh))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Pv,selectors:[["crt-rich-text-editor"]],viewQuery:function(n,a){if(n&1&&(t.\u0275\u0275viewQuery(Sj,5,t.ElementRef),t.\u0275\u0275viewQuery(wj,5,t.ElementRef)),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.tooltipLink=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.selectionActionsPanel=i.first)}},hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("beforeunload",function(){return a.onBeforeUnload()},!1,t.\u0275\u0275resolveWindow)},inputs:{plainText:"plainText",extraPlugins:"extraPlugins",editorConfig:"editorConfig",mentionsConfig:"mentionsConfig",mentionsService:"mentionsService",editorType:"editorType",content:"content",editorUrl:"editorUrl",needHandleSave:"needHandleSave",alwaysShowToolbar:"alwaysShowToolbar",showClip:"showClip",useTemplates:"useTemplates",filesStorage:"filesStorage",selection:"selection",disableSelectionOptions:"disableSelectionOptions",useBodyFilesLinks:"useBodyFilesLinks",selectionActions:"selectionActions"},outputs:{plainTextChange:"plainTextChange",selectAttachments:"selectAttachments",selectionChange:"selectionChange",selectTemplate:"selectTemplate",filesUploaded:"filesUploaded",editorBlur:"editorBlur",editorFocus:"editorFocus",editorValueChanged:"editorValueChanged",newMention:"newMention"},features:[t.\u0275\u0275ProvidersFeature([Oi.I]),t.\u0275\u0275InheritDefinitionFeature,t.\u0275\u0275NgOnChangesFeature],ngContentSelectors:Ej,decls:11,vars:7,consts:[["selectionActionsPanel",""],["input",""],["tooltipLink",""],["iconsContainer",""],["tooltipIcon",""],[1,"rich-text-selection-actions"],[4,"ngTemplateOutlet"],[3,"label","minWidth",4,"ngIf"],[1,"crt-base-input-container"],["class","link-tooltip","crtTooltip","",3,"tooltipConfig",4,"ngIf"],["crtResizable","",1,"crt-input",3,"resized","ngClass","crtResizableDisabled"],[4,"ngIf","ngIfElse"],[3,"label","minWidth"],["crtTooltip","",1,"link-tooltip",3,"tooltipConfig"],[1,"crt-input-label-container"],["crtTextOverflowTitle","",1,"crt-input-label",3,"ngClass"],["floatLabel","never",1,"crt-input-control-container","rich-editor","mat-form-field",3,"ngClass"],[1,"crt-input-control"],[1,"rich-editor-wrapper"],["crtFullSizeImage","","crtBlockQuoteHighlight","","crtCodeSnippetHighlight","","crtVideoBlockResize","","class","rich-editor",3,"crtAnchorScrollHandler","ignoreImageClasses","toggleImageHandlers","resetHighlightCode","resetHighlightQuote","resetResizeVideo","enableSizeChanges","data","config","type","editorUrl","dataChange","configChange","ready","focus","blur","click","sizeChanged","keydown.escape",4,"ngIf"],[1,"icons"],["matSuffix","","class","clip-icon crt-input-icon","svgIcon","clip-filled","tabindex","0","role","button","aria-hidden","false",3,"crtTooltip","click","keyup.enter","mousedown","focus","blur",4,"ngIf"],["matSuffix","","svgIcon","select-template-icon","tabindex","0","role","button","aria-hidden","false","class","select-template-icon crt-input-icon",3,"crtTooltip","click","keyup.enter","focus","mousedown","blur",4,"ngIf"],["matSuffix","","crtTooltip","","tabindex","0","role","button","aria-hidden","false","svgIcon","richtext-toggle",3,"class","tooltipConfig","click","focus","blur","keyup.enter","mousedown",4,"ngIf"],["matSuffix","","svgIcon","lock","class","readonly-icon crt-input-icon",3,"title",4,"ngIf"],["crtFullSizeImage","","crtBlockQuoteHighlight","","crtCodeSnippetHighlight","","crtVideoBlockResize","",1,"rich-editor",3,"dataChange","configChange","ready","focus","blur","click","sizeChanged","keydown.escape","crtAnchorScrollHandler","ignoreImageClasses","toggleImageHandlers","resetHighlightCode","resetHighlightQuote","resetResizeVideo","enableSizeChanges","data","config","type","editorUrl"],["matSuffix","","svgIcon","clip-filled","tabindex","0","role","button","aria-hidden","false",1,"clip-icon","crt-input-icon",3,"click","keyup.enter","mousedown","focus","blur","crtTooltip"],["matSuffix","","svgIcon","select-template-icon","tabindex","0","role","button","aria-hidden","false",1,"select-template-icon","crt-input-icon",3,"click","keyup.enter","focus","mousedown","blur","crtTooltip"],["matSuffix","","crtTooltip","","tabindex","0","role","button","aria-hidden","false","svgIcon","richtext-toggle",3,"click","focus","blur","keyup.enter","mousedown","tooltipConfig"],["matSuffix","","svgIcon","lock",1,"readonly-icon","crt-input-icon",3,"title"],["type","error",3,"tooltip","ariaLabel"],[3,"tooltip","ariaLabel",4,"ngIf"],[3,"tooltip","ariaLabel"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",5,0),t.\u0275\u0275projection(2),t.\u0275\u0275template(3,Oj,1,0,"ng-container",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(4,Dj,1,2,"crt-base-input-width-holder",7),t.\u0275\u0275elementStart(5,"div",8),t.\u0275\u0275template(6,Aj,2,1,"div",9),t.\u0275\u0275elementStart(7,"div",10),t.\u0275\u0275listener("resized",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onResized(b))}),t.\u0275\u0275template(8,Lj,1,0,"crt-skeleton-loader",11)(9,Uj,16,18,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(n&2){const i=t.\u0275\u0275reference(10);t.\u0275\u0275advance(3),t.\u0275\u0275property("ngTemplateOutlet",a.selectionActions),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.displayLabelPosition==="auto"),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",!a.loaderVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass","label-position-"+a.displayLabelPosition+" appearance-"+a.appearance)("crtResizableDisabled",!a.isAutoLabelPosition||a.containerQueryMechanismAvailable),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.loaderVisible)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgIf,_.NgTemplateOutlet,ib.CKEditorComponent,_t.MatIcon,yn.W,na.d,Hc.b,q.MatLegacySuffix,Le.C,Mr.q,Qs,rc,oc,Ys,sc,ai.y,f.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .link-tooltip[_ngcontent-%COMP%], [_nghost-%COMP%]   .video-tooltip[_ngcontent-%COMP%]{width:0px;height:0px;position:relative}[_nghost-%COMP%]   .crt-input-control-container.rich-editor[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]   .crt-input-control-container.rich-editor[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{pointer-events:none}[_nghost-%COMP%]   .crt-input-control-container.rich-editor[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]   .rich-editor[_ngcontent-%COMP%]{pointer-events:auto}[_nghost-%COMP%]   .rich-editor[_ngcontent-%COMP%]{width:100%;overflow:auto}[_nghost-%COMP%]   div[_ngcontent-%COMP%] > .rich-editor[_ngcontent-%COMP%]{padding-bottom:10px}[_nghost-%COMP%]   .rich-editor-wrapper[_ngcontent-%COMP%]{width:100%;float:left;overflow:hidden;display:flex;position:relative}[_nghost-%COMP%]   .rich-editor-wrapper.hasTooltip[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{min-width:48px;max-width:48px}[_nghost-%COMP%]   .rich-editor-wrapper[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:flex;align-self:flex-end;justify-content:flex-end;padding:0 0 4px;min-width:24px;max-width:24px;pointer-events:auto}[_nghost-%COMP%]   .rich-editor-wrapper[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .select-template-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   .rich-editor-wrapper[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .clip-icon[_ngcontent-%COMP%]{cursor:pointer;color:var(--crt-palette-secondary-500)}[_nghost-%COMP%]   .rich-editor-wrapper[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .select-template-icon[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .rich-editor-wrapper[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .clip-icon[_ngcontent-%COMP%]:hover{color:var(--crt-palette-primary-500)}[_nghost-%COMP%]   .rich-editor-wrapper[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .rich-editor-wrapper[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]   .hover-tooltip[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;bottom:var(--crt-body-2-line-height)}[_nghost-%COMP%]   .rich-editor-wrapper[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{max-width:16px;max-height:16px}[_nghost-%COMP%]   .rich-editor-wrapper[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.rich-text-selection-actions[_ngcontent-%COMP%]{position:fixed;display:none;z-index:2010}","body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{max-width:100%}.crt-base-edit-input-responsible[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{container-type:inline-size}@container (width <= 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}}@container (width > 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{width:0;min-width:0;margin:0}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{height:0;color:transparent}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]   .inner-tools-panel[_ngcontent-%COMP%]{opacity:1;display:inline-flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]:not(:hover)   .readonly-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;padding-inline-end:2px}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   textarea.mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;align-items:center;padding-inline-end:2px}"]})}};(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],sn.prototype,"plainText",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Array)],sn.prototype,"extraPlugins",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"plainTextChange",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],sn.prototype,"editorConfig",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],sn.prototype,"mentionsConfig",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"mentionsService",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],sn.prototype,"editorType",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object),(0,u.__metadata)("design:paramtypes",[Object])],sn.prototype,"content",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],sn.prototype,"editorUrl",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"needHandleSave",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"alwaysShowToolbar",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],sn.prototype,"showClip",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],sn.prototype,"useTemplates",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"filesStorage",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"selectAttachments",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",String)],sn.prototype,"selection",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"selectionChange",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Boolean)],sn.prototype,"disableSelectionOptions",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"selectTemplate",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"filesUploaded",void 0),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"useBodyFilesLinks",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"editorBlur",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"editorFocus",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"editorValueChanged",void 0),(0,u.__decorate)([(0,Ft.j)(),(0,u.__metadata)("design:type",Object)],sn.prototype,"newMention",void 0),sn=(0,u.__decorate)([(0,Qt.v)({type:"crt.RichTextEditor",contentSlots:["selectionActions"],formControlConfig:{relatesTo:"control"},reuseStrategy:$t.B.Reuse}),(0,$e.f)({toolbarConfig:{groupType:Gs.h.Inputs,position:41,icon:o(14560),defaultPropertyValues:{label:"",control:"",labelPosition:"auto",placeholder:"",tooltip:"",needHandleSave:!0,filesStorage:{masterRecordColumnValue:"$Id",entitySchemaName:"SysFile",recordColumnName:"RecordId",recordEntitySchemaName:""}},defaultLocalizableStrings:{caption:"Components.RichTextEditor.Caption",label:"Components.RichTextEditor.Caption"}},dataValueTypes:[X.r.RICH_TEXT],propertiesPanelComponentTypeName:"crt.RichTextPropertiesPanel",viewElementGroupType:pn.J.Inputs,typeCaption:"Components.RichTextEditor.Caption"}),(0,u.__metadata)("design:paramtypes",[t.Injector,t.ChangeDetectorRef,String,Window,String,String,ji,nc,ac,m.Observable,Y.Platform,zy.x,Function,yu,Gi,rd,Ld.f,Kt.o,Nh])],sn);class Fh extends Cs{constructor(e){super(),this._domSanitizer=e,this.urlControl=new O.FormControl("",{})}_convertToEmbedUrl(e){try{const n=new URL(e);return n.hostname.includes("youtube.com")&&n.searchParams.get("v")?`https://www.youtube.com/embed/${n.searchParams.get("v")}`:n.hostname.includes("youtu.be")?`https://www.youtube.com/embed/${n.pathname.substring(1)}`:n.hostname.includes("vimeo.com")?`https://player.vimeo.com/video/${n.pathname.split("/")[1]}`:e}catch{return""}}_getVideoTemplate(e){const n=this._domSanitizer.bypassSecurityTrustUrl(e),a=this._domSanitizer.sanitize(t.SecurityContext.URL,n);return'<iframe style="width: 100%; height: 100%;" src="'+CKEDITOR.tools.htmlEncode(this._convertToEmbedUrl(a))+'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'}hasUnsavedChanges(){return this.urlControl.value}onSaveClick(){const e=this._getVideoTemplate(this.urlControl.value);this.videoUploaded.emit(e)}ngOnInit(){this.urlControl.valueChanges.pipe((0,m.takeUntil)(this.destroy$)).subscribe(e=>{this.valueChanged.emit(e)})}static{this.\u0275fac=function(n){return new(n||Fh)(t.\u0275\u0275directiveInject(p.DomSanitizer))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Fh,selectors:[["crt-rich-text-url-video"]],features:[t.\u0275\u0275ProvidersFeature([{provide:Cs,useExisting:(0,t.forwardRef)(()=>Fh)}]),t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:7,consts:[[1,"rich-text-video__input",3,"control","labelPosition","appearance","placeholder","multiline"]],template:function(n,a){n&1&&(t.\u0275\u0275element(0,"crt-input",0),t.\u0275\u0275pipe(1,"translate")),n&2&&t.\u0275\u0275property("control",a.urlControl)("labelPosition","hidden")("appearance","outline")("placeholder",t.\u0275\u0275pipeBind1(1,5,"RichTextEditorVideo.InputPlaceholder"))("multiline",!0)},dependencies:[ar.j,f.TranslatePipe],styles:[".rich-text-video[_ngcontent-%COMP%]{height:100%;border-radius:8px;padding:24px 32px 0}.rich-text-video__header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding-bottom:16px}.rich-text-video__input[_ngcontent-%COMP%]{margin-top:1px;display:block;height:154px}.rich-text-video__buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-flow:row nowrap;margin-top:16px;margin-bottom:32px}.rich-text-video__buttons_action[_ngcontent-%COMP%]{margin-left:16px}.rich-text-video__buttons_upload[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:16px}"]})}}const Hj=["videoInput"];function Wj(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275element(1,"crt-placeholder",7),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementStart(3,"crt-button",8),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onUploadClick())}),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("image",null)("subhead",t.\u0275\u0275pipeBind1(2,4,"RichTextEditorVideo.DragAndDropPlaceholder")),t.\u0275\u0275advance(2),t.\u0275\u0275property("title",t.\u0275\u0275pipeBind1(4,6,"RichTextEditorVideo.UploadButton")),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,8,"RichTextEditorVideo.UploadButton")," "))}function Gj(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",9),t.\u0275\u0275element(1,"mat-icon",10),t.\u0275\u0275elementStart(2,"span",11),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"span",12),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"memoryFormat"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"mat-icon",13),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275listener("keydown.enter",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onClearClick())})("keydown.space",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onClearClick())})("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onClearClick())}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("svgIcon",n.selectedFileIcon),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.selectedFile.name),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,4,n.selectedFile.size)),t.\u0275\u0275advance(2),t.\u0275\u0275property("crtAccessibleAttributes",t.\u0275\u0275pipeBind1(8,6,"ComboBox.ClearValue")+" "+n.ariaLabel)}}const r9={elements:{video:function(r){return r},source:function(r){return r}}};class jh extends Cs{get selectedFileIcon(){return this._fileIconService.getFileIcon(this.selectedFile.name)}constructor(e,n,a,i,s,b,D,W){super(),this._maskService=e,this._notifyService=n,this._fileApiService=a,this._fileService=i,this._fileIconService=s,this._translateService=b,this._toFileLinkConverter=D,this._fileUploadProcessingService=W,this._defaultDuration=1e4,this.primaryDataSchemaName=""}_uploadedVideoToHtml(e){const n=new CKEDITOR.dom.element("video");n.setAttribute("controls","controls");const a=new CKEDITOR.dom.element("source");return a.setAttribute("src",e),a.setAttribute("type",this.selectedFile.type),n.append(a),n.getOuterHtml()}_getFileUploadObserver(e,n){return{next:a=>{if(a&&a[0]&&a[0].success){const i=this._toFileLinkConverter.convert(e,null,n.fileStorageName),s=this._uploadedVideoToHtml(i);this.videoUploaded.emit(s)}},complete:()=>{this._maskService.hideBodyMask()}}}_uploadVideoFile(){const e=this.dataValue.editorConfig,n=this.dataValue.viewModel,a=(0,de.qv)();let i=e.masterRecordColumnValue?n[e.masterRecordColumnValue.replace("$","")]:n.Id;if(i=i?.value?i.value:i,!i){const s=this._translateService.instant("InfoDialog.FileUpload.AttachedToUnsavedRecord");this._notifyService.show({message:s,duration:this._defaultDuration}),this._maskService.hideBodyMask();return}(0,m.from)(this._fileUploadProcessingService.processSelectedFiles([this.selectedFile],null)).pipe((0,m.map)(s=>{if(s?.errors?.length>0){const b=this._fileUploadProcessingService.createFileErrorMessageForLogs(s.errors);return this._notifyService.show({message:b,duration:this._defaultDuration}),!1}return!0}),(0,m.filter)(s=>s),(0,m.switchMap)(()=>this._fileService.read(this.selectedFile)),(0,m.map)(s=>({...s,id:a,fileEntitySchemaName:e.fileStorageName,recordColumnName:e.recordColumnName,recordEntitySchemaName:e.recordEntitySchemaName||this.primaryDataSchemaName,recordId:i})),(0,m.concatMap)(s=>this._fileApiService.upload(s)),(0,m.catchError)(s=>(s?.status!==200&&this._notifyService.show({message:s.message,duration:this._defaultDuration}),m.EMPTY)),(0,m.takeUntil)(this.destroy$)).subscribe(this._getFileUploadObserver(a,e))}_addProcessorRulesForVideo(){const e=this.editor.dataProcessor;e.dataFilter.addRules(r9),e.htmlFilter.addRules(r9)}_isVideoFileValid(e){if(!e.type.startsWith("video/")){const n=this._translateService.instant("RichTextEditorVideo.NotVideoFile");return this._notifyService.show({message:n,duration:this._defaultDuration}),!1}return!0}onUploadClick(){this.videoInput.nativeElement.click()}onClearClick(){this.selectedFile=null,this.valueChanged.emit()}hasUnsavedChanges(){return!!this.selectedFile}onVideoSelected(e){const a=(e instanceof Event?e.target.files:e.files)?.[0];a&&this._isVideoFileValid(a)&&(this.selectedFile=a,this.valueChanged.emit())}onSaveClick(){this._maskService.showBodyMask(),this.hasUnsavedChanges()&&(this._addProcessorRulesForVideo(),this._uploadVideoFile())}static{this.\u0275fac=function(n){return new(n||jh)(t.\u0275\u0275directiveInject(nl.s),t.\u0275\u0275directiveInject(_o.F),t.\u0275\u0275directiveInject(au.k),t.\u0275\u0275directiveInject(_s),t.\u0275\u0275directiveInject(Gi),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(NC.G),t.\u0275\u0275directiveInject(yu))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:jh,selectors:[["crt-rich-text-local-video"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(Hj,5),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.videoInput=i.first)}},inputs:{dataValue:"dataValue",editor:"editor",primaryDataSchemaName:"primaryDataSchemaName"},features:[t.\u0275\u0275ProvidersFeature([{provide:Cs,useExisting:(0,t.forwardRef)(()=>jh)}]),t.\u0275\u0275InheritDefinitionFeature],decls:8,vars:6,consts:[["fileSelected",""],["videoInput",""],[3,"fileDropped","ngClass","showOverlay","multiple","disabled"],[1,"rich-text-video__file-drop"],[1,"rich-text-video__file-drop__placeholder"],[4,"ngIf","ngIfElse"],["type","file","accept","video/*",2,"display","none",3,"change"],[3,"image","subhead"],["size","large","color","primary","icon","upload-button-icon","iconPosition","left-icon",1,"rich-text-video__buttons_upload",3,"clicked","title"],[1,"rich-text-video__file"],["matSuffix","",1,"rich-text-video__file_icon",3,"svgIcon"],[1,"rich-text-video__file_name"],[1,"rich-text-video__file_size"],["matSuffix","","svgIcon","small-close",1,"rich-text-video__file_icon",3,"keydown.enter","keydown.space","click","crtAccessibleAttributes"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-file-drop",2),t.\u0275\u0275listener("fileDropped",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onVideoSelected(b))}),t.\u0275\u0275elementStart(1,"div",3)(2,"div",4),t.\u0275\u0275template(3,Wj,7,10,"ng-container",5)(4,Gj,9,8,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(6,"input",6,1),t.\u0275\u0275listener("change",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onVideoSelected(b))}),t.\u0275\u0275elementEnd()}if(n&2){const i=t.\u0275\u0275reference(5);t.\u0275\u0275property("ngClass","drop-placeholder")("showOverlay",!0)("multiple",!1)("disabled",!1),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",!a.selectedFile)("ngIfElse",i)}},dependencies:[_.NgClass,_.NgIf,Jt,_t.MatIcon,q.MatLegacySuffix,zi,xo,Mo,f.TranslatePipe],styles:[".rich-text-video[_ngcontent-%COMP%]{height:100%;border-radius:8px;padding:24px 32px 0}.rich-text-video__header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding-bottom:16px}.rich-text-video__input[_ngcontent-%COMP%]{margin-top:1px;display:block;height:154px}.rich-text-video__buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-flow:row nowrap;margin-top:16px;margin-bottom:32px}.rich-text-video__buttons_action[_ngcontent-%COMP%]{margin-left:16px}.rich-text-video__buttons_upload[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:16px}",".rich-text-video__file-drop[_ngcontent-%COMP%]{padding:8px;width:100%;height:136px;align-items:center}.rich-text-video__file-drop__placeholder[_ngcontent-%COMP%]{align-items:center;width:100%;height:100%;text-align:center;display:flex;flex-direction:column;justify-content:center}.rich-text-video__file[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;height:100%}.rich-text-video__file_icon[_ngcontent-%COMP%]{width:16px;height:16px}.rich-text-video__file_name[_ngcontent-%COMP%]{white-space:nowrap}"]})}}class vu extends Cs{constructor(){super(...arguments),this.embededControl=new O.FormControl("",{})}purifyEmbedCode(e){const i=new DOMParser().parseFromString(e,"text/html").getElementsByTagName("iframe");if(i.length===0)return"";const s=i[0];return s.style.position="relative",s.outerHTML}hasUnsavedChanges(){return this.embededControl.value}onSaveClick(){this.videoUploaded.emit(this.purifyEmbedCode(this.embededControl.value))}ngOnInit(){this.embededControl.valueChanges.pipe((0,m.takeUntil)(this.destroy$)).subscribe(e=>{this.valueChanged.emit(e)})}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(vu)))(a||vu)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:vu,selectors:[["crt-rich-text-embed-video"]],features:[t.\u0275\u0275ProvidersFeature([{provide:Cs,useExisting:(0,t.forwardRef)(()=>vu)}]),t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:7,consts:[[1,"rich-text-video__input",3,"control","labelPosition","appearance","placeholder","multiline"]],template:function(n,a){n&1&&(t.\u0275\u0275element(0,"crt-input",0),t.\u0275\u0275pipe(1,"translate")),n&2&&t.\u0275\u0275property("control",a.embededControl)("labelPosition","hidden")("appearance","outline")("placeholder",t.\u0275\u0275pipeBind1(1,5,"RichTextEditorVideo.InputPlaceholder"))("multiline",!0)},dependencies:[ar.j,f.TranslatePipe],styles:[".rich-text-video[_ngcontent-%COMP%]{height:100%;border-radius:8px;padding:24px 32px 0}.rich-text-video__header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%;padding-bottom:16px}.rich-text-video__input[_ngcontent-%COMP%]{margin-top:1px;display:block;height:154px}.rich-text-video__buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-flow:row nowrap;margin-top:16px;margin-bottom:32px}.rich-text-video__buttons_action[_ngcontent-%COMP%]{margin-left:16px}.rich-text-video__buttons_upload[_ngcontent-%COMP%]{margin-top:8px;margin-bottom:16px}"]})}}var Bh;(function(r){r.AllSections="BaseGridSectionTemplate",r.AllCards="BasePageTemplate",r.AllMiniCards="BaseMiniPageTemplate",r.AllLookupSelectionWindows="BaseLookupPageTemplate"})(Bh||(Bh={}));let u3=class extends da.l{constructor(e,n,a){super(),this._service=e,this._maskService=n,this._copilotToEditorCommunicationService=a}_getEditors(e){return window.CKEDITOR?.instances?Object.values(CKEDITOR.instances).filter(a=>a.needHandleSave&&a.schemaRecordId===e):[]}_removeCopilotHighlighting(){this._copilotToEditorCommunicationService?.notify({editorAction:Dh.RemoveHighlighting})}_saveTableOfContents(e){e.forEach(n=>{HC.generateTableOfContents(n),n.fire("change")})}_saveFiles(e,n,a){var i=this;return(0,bt.A)(function*(){if(e.length>0){const s=i._service.uploadFile(e,{schemaName:n.name,recordId:a.$context.attributes.Id},a.$context.attributes).pipe((0,m.take)(1));yield(0,m.lastValueFrom)(s,{defaultValue:null}),e.forEach(b=>{b.uploadFilesData=null})}})()}_saveImages(e,n,a){var i=this;return(0,bt.A)(function*(){if(e.length>0){const s=i._service.uploadImages(e,{schemaName:n,recordId:a.$context.attributes.Id}).pipe((0,m.take)(1)),b=yield(0,m.lastValueFrom)(s,{defaultValue:null});return i._service.removeImages(e),b}})()}handle(e){var n=this;return(0,bt.A)(function*(){const a="RECORD_SAVING",i=e.$context,s=yield i.Id,b=yield i.getPrimaryDataSchema(),D=n._getEditors(s);if(!b||D.length===0)return n.next?.handle(e);yield n._maskService.showMask(a,e.$context);const W=yield e.$context.CardState;W===Xo.Edit&&(yield n._saveImages(D,b.name,e)),n._removeCopilotHighlighting(),n._saveTableOfContents(D);const ot=yield n.next?.handle(e);if(ot&&(yield n._saveFiles(D,b,e),W===Xo.Add&&(yield n._saveImages(D,b.name,e)))){const Pt=D.map(te=>{const Se=i.getAttributeNameByViewItemName(te.config.name);return{name:i.getBoundDataSchemaAttributeByAttributePath(Se).path,value:te.getData()}});yield(0,m.lastValueFrom)(n._service.updateColumnValue(b.name,s,Pt))}return yield n._maskService.hideMask(a,e.$context),ot})()}};u3=(0,u.__decorate)([(0,Fn.l)({type:"crt.RichTextEditorSaveHandler",requestType:"crt.SaveRecordRequest",scopes:[Bh.AllCards,"BasePageFreedomTemplate",Bh.AllSections]}),(0,u.__metadata)("design:paramtypes",[rd,nl.s,Ah])],u3);let m3=class extends da.l{constructor(){super()}handle(e){var n=this;return(0,bt.A)(function*(){const i=yield e.$context.Id;return window.CKEDITOR?.instances&&Object.values(CKEDITOR.instances).filter(b=>b.schemaRecordId===i&&b.uploadFilesData!==null).forEach(b=>{b.uploadFilesData=null}),yield n.next?.handle(e)})()}};m3=(0,u.__decorate)([(0,Fn.l)({type:"crt.RichTextEditorCancelHandler",requestType:"crt.CancelRecordChangesRequest",scopes:[Bh.AllCards,"BasePageFreedomTemplate",Bh.AllSections]}),(0,u.__metadata)("design:paramtypes",[])],m3);const $j=["EmailMiniPage","CommunicationsPanel_FeedsTab"];class zh{constructor(e,n,a){this._translateService=e,this._sysSettingsService=n,this._featureValues=a}_createAttribute(e,n,a){const i=e.viewModelConfig.attributes;return i[n]={value:a},n}_rewriteOptionsAvailable(e,n){var a=this;return(0,bt.A)(function*(){return a._featureValues.SelectionRewriteActions&&a._featureValues["GenAIFeatures.Copilot"]&&a._featureValues.SidebarExtensions&&!n.disableSelectionOptions&&(yield a._useNewShell())&&!$j.includes(e)})()}_useNewShell(){var e=this;return(0,bt.A)(function*(){return(yield e._sysSettingsService.getByCode("UseNewShell"))?.value})()}setRewriteOptions(e,n){var a=this;return(0,bt.A)(function*(){if(!(yield a._rewriteOptionsAvailable(e.name,n))){n.disableSelectionOptions=!0;return}const i=(0,y.isEmpty)(n.selection)?a._createAttribute(e,`${n.name}_Selection`,""):n.selection.replace("$","");n.selection=`$${i}`,(0,y.isEmpty)(n.selectionActions)&&(n.selectionActions=[{type:"crt.Button",icon:"copilot-rewrite-btn-icon",color:"outline",iconPosition:pe.OnlyIcon,clickMode:"menu",menuItems:[{type:"crt.MenuLabel",caption:a._translateService.instant("RichTextEditor.SelectionActions.RewriteCaption")},{type:"crt.MenuItem",caption:a._translateService.instant("RichTextEditor.SelectionActions.Friendly"),icon:"copilot-rewrite-friendly-icon",clicked:{request:"crt.SelectionActionRequest",params:{selectionAttributeName:i,rewriteAction:"Friendly"}}},{type:"crt.MenuItem",caption:a._translateService.instant("RichTextEditor.SelectionActions.Formal"),icon:"copilot-rewrite-formal-icon",clicked:{request:"crt.SelectionActionRequest",params:{selectionAttributeName:i,rewriteAction:"Formal"}}},{type:"crt.MenuItem",caption:a._translateService.instant("RichTextEditor.SelectionActions.Shorten"),icon:"copilot-rewrite-shorten-icon",clicked:{request:"crt.SelectionActionRequest",params:{selectionAttributeName:i,rewriteAction:"Shorten"}}},{type:"crt.MenuItem",caption:a._translateService.instant("RichTextEditor.SelectionActions.Extend"),icon:"copilot-rewrite-extend-icon",clicked:{request:"crt.SelectionActionRequest",params:{selectionAttributeName:i,rewriteAction:"Extend"}}},{type:"crt.MenuItem",caption:a._translateService.instant("RichTextEditor.SelectionActions.Rephrase"),icon:"copilot-rewrite-rephrase-icon",clicked:{request:"crt.SelectionActionRequest",params:{selectionAttributeName:i,rewriteAction:"Rephrase"}}},{type:"crt.MenuDivider"},{type:"crt.MenuItem",caption:a._translateService.instant("RichTextEditor.SelectionActions.AskCopilot"),icon:"copilot-action-button-icon",clicked:{request:"crt.SelectionActionRequest",params:{selectionAttributeName:i,rewriteAction:"AskCopilot"}}}]}])})()}static{this.\u0275fac=function(n){return new(n||zh)(t.\u0275\u0275inject(f.TranslateService),t.\u0275\u0275inject(Fa.A),t.\u0275\u0275inject(ge.G))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:zh,factory:zh.\u0275fac,providedIn:"any"})}}class rb{constructor(e){this._selectionActionsMetadataService=e,this._metadataSchemaUtils=(0,t.inject)(up.u)}_getViewConfigs(e,n){return this._metadataSchemaUtils.getViewConfigInfoByProperty("type",n,e.viewConfig).map(a=>a?.viewConfig).filter(Boolean)}crtOnMetaDataInit(e){var n=this;return(0,bt.A)(function*(){const a=e,i=n._getViewConfigs(a,"crt.RichTextEditor");for(const s of i)yield n._selectionActionsMetadataService.setRewriteOptions(a,s);return Promise.resolve(e)})()}static{this.\u0275fac=function(n){return new(n||rb)(t.\u0275\u0275inject(zh))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:rb,factory:rb.\u0275fac})}}let ob=class Ov{constructor(e,n){this._matIconRegistry=e,this._domSanitizer=n,this._registerIcons()}_registerIcons(){[{name:"clip-filled",icon:o(86142)},{name:"select-template-icon",icon:o(56148)},{name:"richtext-toggle",icon:o(54373)},{name:"open-link",icon:o(37480)},{name:"save-link",icon:o(42085)},{name:"unlink-link",icon:o(52655)},{name:"info-icon",icon:o(29759)}].forEach(({name:n,icon:a})=>{this._matIconRegistry.addSvgIconLiteral(n,this._domSanitizer.bypassSecurityTrustHtml(a))})}static{this.\u0275fac=function(n){return new(n||Ov)(t.\u0275\u0275inject(_t.MatIconRegistry),t.\u0275\u0275inject(p.DomSanitizer))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Ov})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:d2,useValue:(0,x.cI)()+"core/hash/CKEditor/ckeditor.js"},{provide:a9,useFactory:()=>window.Terrasoft?.isAngularHost?"shell/styles":"schema-view-component/styles.css"},{provide:Oy.m,useClass:rb,multi:!0},zh,Rh,rd,_s,Vh],imports:[_.CommonModule,ib.CKEditorModule,re,li,_t.MatIconModule,dn.MatTooltipModule,O.FormsModule,O.ReactiveFormsModule,fe.q,Je.V,_e.S,q.MatLegacyFormFieldModule,lt.MatLegacyInputModule,Sn.u,Rn.N,Pr,Dr,Cu,Te.c,za.MatDialogModule,$i,Br,f.TranslateModule,Vn.d,_.CommonModule,ib.CKEditorModule,re,li,_t.MatIconModule,dn.MatTooltipModule,O.FormsModule,O.ReactiveFormsModule,fe.q,Je.V,_e.S,q.MatLegacyFormFieldModule,lt.MatLegacyInputModule,Sn.u,Rn.N,Pr,Dr,Cu,Te.c,za.MatDialogModule,$i,Br,f.TranslateModule,Vn.d]})}};ob=(0,u.__decorate)([(0,ie.g)({viewElements:[sn,Lh],requestHandlers:[u3,m3]}),(0,u.__metadata)("design:paramtypes",[_t.MatIconRegistry,p.DomSanitizer])],ob),function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(ob,{declarations:[sn,Lh,kh,Fh,jh,vu],imports:[_.CommonModule,ib.CKEditorModule,re,li,_t.MatIconModule,dn.MatTooltipModule,O.FormsModule,O.ReactiveFormsModule,fe.q,Je.V,_e.S,q.MatLegacyFormFieldModule,lt.MatLegacyInputModule,Sn.u,Le.C,Rn.N,Pr,Dr,Cu,Te.c,za.MatDialogModule,$i,Br,rc,oc,Ys,sc,f.TranslateModule,Vn.d],exports:[sn,Lh,kh,_.CommonModule,ib.CKEditorModule,re,li,_t.MatIconModule,dn.MatTooltipModule,O.FormsModule,O.ReactiveFormsModule,fe.q,Je.V,_e.S,q.MatLegacyFormFieldModule,lt.MatLegacyInputModule,Sn.u,Le.C,Rn.N,Pr,Dr,Cu,Te.c,za.MatDialogModule,$i,Br,rc,oc,Ys,sc,f.TranslateModule,Vn.d]})}(),t.\u0275\u0275setComponentScope(kh,[_.NgSwitch,_.NgSwitchCase,Jt,Qn,hn,Fh,jh,vu],[f.TranslatePipe]);const ys="ConstValuePickerProvider";class Ki extends ya{constructor(){super(...arguments),this.destroyed$=new m.Subject,this.control=new O.FormControl}set value(e){e?.value&&this.control.setValue(e.value,{emitEvent:!1})}onValueChanged(e){this.valueChanged.emit(e)}ngOnInit(){this.control.valueChanges.pipe((0,m.distinctUntilChanged)(),(0,m.takeUntil)(this.destroyed$)).subscribe(e=>{this.onValueChanged(e)})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Ki)))(a||Ki)}})()}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Ki,inputs:{value:"value"},features:[t.\u0275\u0275InheritDefinitionFeature]})}}let WC=class A0 extends Ki{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(A0)))(a||A0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:A0,selectors:[["crt-value-picker-text-input"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:3,consts:[[3,"labelPosition","control","placeholder"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-input",0),n&2&&t.\u0275\u0275property("labelPosition","hidden")("control",a.control)("placeholder",a.placeholder)},dependencies:[ar.j],styles:["[_nghost-%COMP%]{min-height:40px;display:inline-block;padding-bottom:1px;box-sizing:border-box;max-width:184px;max-width:256px}"]})}};WC=(0,u.__decorate)([ln({dataValueTypes:[X.r.Text,X.r.SHORT_TEXT,X.r.MEDIUM_TEXT,X.r.MAXSIZE_TEXT,X.r.LONG_TEXT,X.r.PHONE_TEXT],selector:"crt-value-picker-text-input",sources:[ys]})],WC);var o9=o(84323);let GC=class Dv extends Ki{set value(e){this.control.setValue((0,o9._U)(e?.value),{emitEvent:!1})}set config(e){super.config=e,this._setDateTimePickerType()}get config(){return super.config}_setDateTimePickerType(){const e=this.config?.dataValueType;if(!e||!this._pickerTypeMap.has(e)){this.pickerType=si.DateTime;return}this.pickerType=this._pickerTypeMap.get(e)}constructor(){super(),this.pickerType=si.DateTime,this._pickerTypeMap=new Map([[X.r.DateTime,si.DateTime],[X.r.Date,si.Date],[X.r.Time,si.Time]])}ngOnInit(){this.control.valueChanges.pipe((0,m.distinctUntilChanged)(),(0,m.takeUntil)(this.destroyed$)).subscribe(e=>{this.valueChanged.emit((0,Yy.g)(e))})}static{this.\u0275fac=function(n){return new(n||Dv)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Dv,selectors:[["crt-value-picker-date-time-input"]],inputs:{value:"value",config:"config"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:3,consts:[["labelPosition","hidden",3,"control","placeholder","pickerType"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-datetimepicker",0),n&2&&t.\u0275\u0275property("control",a.control)("placeholder",a.placeholder)("pickerType",a.pickerType)},dependencies:[Wa],styles:["[_nghost-%COMP%]{min-height:40px;display:inline-block;padding-bottom:1px;box-sizing:border-box;max-width:184px}"]})}};GC=(0,u.__decorate)([ln({dataValueTypes:[X.r.DateTime,X.r.Date,X.r.Time],selector:"crt-value-picker-date-time-input",sources:[ys]}),(0,u.__metadata)("design:paramtypes",[])],GC);let $C=class L0 extends Ki{set value(e){e&&(this.control.setValue({value:e.value,displayValue:e.displayValue},{emitEvent:!1}),this._updateControlValue(e))}_updateControlValue(e){Vd.K.create(this.config.referenceSchemaName).pipe((0,m.switchMap)(n=>(0,m.forkJoin)([n.load({parameters:this._createDataSourceParameters(e)}),n.getSchema()])),(0,m.map)(([n,a])=>n.map(i=>({value:i[a.primaryAttributeName],displayValue:i[a.primaryDisplayAttributeName]}))),(0,m.tap)(n=>{const a=n.find(i=>i.value===e.value);a&&this.control.setValue(a,{emitEvent:!1})}),(0,m.takeUntil)(this.destroyed$)).subscribe()}_createDataSourceParameters(e){return[{type:Uo.E.PrimaryColumnValue,value:e.value}]}_isLookupValue(e){return typeof e!="string"}onValueChanged(e){this._isLookupValue(e)&&super.onValueChanged(e)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(L0)))(a||L0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:L0,selectors:[["crt-value-picker-lookup-input"]],inputs:{value:"value"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:3,consts:[["labelPosition","hidden",3,"control","dataSchemaName","placeholder"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-combobox-model",0),n&2&&t.\u0275\u0275property("control",a.control)("dataSchemaName",a.config==null?null:a.config.referenceSchemaName)("placeholder",a.placeholder)},dependencies:[om],styles:["[_nghost-%COMP%]{min-height:40px;display:inline-block;padding-bottom:1px;box-sizing:border-box;max-width:184px;max-width:256px}"]})}};$C=(0,u.__decorate)([ln({dataValueTypes:[X.r.Lookup],selector:"crt-value-picker-lookup-input",sources:[ys]})],$C);let KC=class k0 extends Ki{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(k0)))(a||k0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:k0,selectors:[["crt-value-picker-rich-text-input"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["labelPosition","hidden",3,"control","placeholder"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-rich-text-editor",0),n&2&&t.\u0275\u0275property("control",a.control)("placeholder",a.placeholder)},dependencies:[sn],styles:["[_nghost-%COMP%]{min-height:40px;display:inline-block;padding-bottom:1px;box-sizing:border-box;max-width:184px;display:block;max-width:unset;min-width:140px}"]})}};KC=(0,u.__decorate)([ln({dataValueTypes:[X.r.RICH_TEXT],selector:"crt-value-picker-rich-text-input",sources:[ys]})],KC);let ZC=class R0 extends Ki{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(R0)))(a||R0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:R0,selectors:[["crt-value-picker-email-text-input"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:3,consts:[["labelPosition","hidden",3,"control","placeholder","value"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-email-input",0),n&2&&t.\u0275\u0275property("control",a.control)("placeholder",a.placeholder)("value",a.value==null?null:a.value.value)},dependencies:[Kc],styles:["[_nghost-%COMP%]{min-height:40px;display:inline-block;padding-bottom:1px;box-sizing:border-box;max-width:184px;min-width:140px}"]})}};ZC=(0,u.__decorate)([ln({dataValueTypes:[X.r.EMAIL_TEXT],selector:"crt-value-picker-email-text-input",sources:[ys]})],ZC);let QC=class N0 extends Ki{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(N0)))(a||N0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:N0,selectors:[["crt-value-picker-web-text-input"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:3,consts:[["labelPosition","hidden",3,"value","control","placeholder"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-web-input",0),n&2&&t.\u0275\u0275property("value",a.value==null?null:a.value.value)("control",a.control)("placeholder",a.placeholder)},dependencies:[$c],styles:["[_nghost-%COMP%]{min-height:40px;display:inline-block;padding-bottom:1px;box-sizing:border-box;max-width:184px;min-width:140px}"]})}};QC=(0,u.__decorate)([ln({dataValueTypes:[X.r.WEB_TEXT],selector:"crt-value-picker-web-text-input",sources:[ys]})],QC);var Kj=o(53500);let YC=class V0 extends Ki{constructor(){super(...arguments),this.precision={decimalPrecision:0}}set config(e){super.config=e,this._setNumberPrecision()}get config(){return super.config}_setNumberPrecision(){const e=this.config?.dataValueType;this.precision={decimalPrecision:Kj.p.get(e)??0}}ngOnInit(){}onBlur(){this.valueChanged.emit(this.control.value)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(V0)))(a||V0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:V0,selectors:[["crt-value-picker-text-input"]],inputs:{config:"config"},features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:3,consts:[["labelPosition","hidden",3,"blurred","control","placeholder","format"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"crt-number-input",0),t.\u0275\u0275listener("blurred",function(){return a.onBlur()}),t.\u0275\u0275elementEnd()),n&2&&t.\u0275\u0275property("control",a.control)("placeholder",a.placeholder)("format",a.precision)},dependencies:[Gc],styles:["[_nghost-%COMP%]{min-height:40px;display:inline-block;padding-bottom:1px;box-sizing:border-box;max-width:184px}"]})}};YC=(0,u.__decorate)([ln({dataValueTypes:[X.r.Integer,X.r.Float,X.r.FLOAT1,X.r.FLOAT2,X.r.FLOAT3,X.r.FLOAT4,X.r.FLOAT8,X.r.Money],selector:"crt-value-picker-number-input",sources:[ys]})],YC);let JC=class F0 extends Ki{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(F0)))(a||F0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:F0,selectors:[["crt-value-picker-checkbox-input"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["labelPosition","hidden",3,"control","placeholder"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-checkbox",0),n&2&&t.\u0275\u0275property("control",a.control)("placeholder",a.placeholder)},dependencies:[xa],styles:["[_nghost-%COMP%]{min-height:40px;display:inline-block;padding-bottom:1px;box-sizing:border-box;max-width:184px;display:flex;align-items:center;max-width:16px}"]})}};JC=(0,u.__decorate)([ln({dataValueTypes:[X.r.Boolean],selector:"crt-value-picker-checkbox-input",sources:[ys]})],JC);var Zj=o(75214);let XC=class j0 extends Ki{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(j0)))(a||j0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:j0,selectors:[["crt-value-picker-phone-text-input"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["labelPosition","hidden",3,"control","placeholder"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-phone-input",0),n&2&&t.\u0275\u0275property("control",a.control)("placeholder",a.placeholder)},dependencies:[Zj.F],styles:["[_nghost-%COMP%]{min-height:40px;display:inline-block;padding-bottom:1px;box-sizing:border-box;max-width:184px}"]})}};XC=(0,u.__decorate)([ln({dataValueTypes:[],selector:"crt-value-picker-phone-text-input",sources:[ys]})],XC);let qC=class B0 extends Ki{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(B0)))(a||B0)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:B0,selectors:[["crt-value-picker-color-input"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["labelPosition","hidden",3,"control","placeholder"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"crt-color-picker",0),n&2&&t.\u0275\u0275property("control",a.control)("placeholder",a.placeholder)},dependencies:[ma],styles:["[_nghost-%COMP%]{min-height:40px;display:inline-block;padding-bottom:1px;box-sizing:border-box;max-width:184px;display:flex;align-items:flex-end;max-width:32px}"]})}};qC=(0,u.__decorate)([ln({dataValueTypes:[X.r.Color],selector:"crt-value-picker-color-input",sources:[ys]})],qC);class t0{get _viewElementRef(){return this._viewElementDirective?this._viewElementDirective.componentRef:null}get viewElementConfig(){return{type:this._crtControlType,label:this._translateService.instant("ConstValuePickerProvider.ConstValuePickerDialogComponent.Label")}}constructor(e,n,a){this._dialogRef=n,this._translateService=a,this._destroyed$=new m.Subject,this._referenceSchemaName=e.referenceSchemaName,this._dataValueType=e.dataValueType,this._crtControlType=e.crtControlType,this._value=e.value}_getFormControl(){return this._viewElementRef?this._viewElementRef.getPropertyValue("control"):null}_getIsDateTimeDataValueType(e){return AM.i.includes(e)}_getInputValueFromValuePickerResult(e){return!e||!e.value?null:this._getIsDateTimeDataValueType(this._dataValueType)?(0,o9._U)(e.value):this._dataValueType===X.r.Lookup?{value:e.value,displayValue:e.displayValue}:e.value}_updateInputValue(e){const n=this._getFormControl(),a=this._getInputValueFromValuePickerResult(e);n.setValue(a)}_loadLookupList(){var e=this;return(0,bt.A)(function*(){const n=yield(0,m.lastValueFrom)(Vd.K.create(e._referenceSchemaName)),a=yield(0,m.lastValueFrom)(n.load()),i=yield(0,m.lastValueFrom)(n.getSchema()),s=a.map(b=>({value:b[i.primaryAttributeName],displayValue:b[i.primaryDisplayAttributeName]}));e._viewElementRef.setPropertyValue("items",s)})()}_onInputRendered(e){e&&(this._updateInputValue(this._value),this._dataValueType===X.r.Lookup&&this._referenceSchemaName&&this._loadLookupList())}onApplyClick(){const e=this._getFormControl();let n={value:e.value};this._getIsDateTimeDataValueType(this._dataValueType)&&(n={value:(0,Yy.g)(e.value)}),this._dataValueType===X.r.Lookup&&e.value?.displayValue&&(n=e.value),this._dialogRef.close({cancel:!1,...n})}onCancelClick(){this._dialogRef.close({cancel:!0})}ngOnInit(){this._viewElementDirective.viewElementShow.pipe((0,m.tap)(e=>this._onInputRendered(e.visible)),(0,m.takeUntil)(this._destroyed$)).subscribe()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||t0)(t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA),t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef),t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:t0,selectors:[["ts-const-value-picker"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(rn.H,7),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a._viewElementDirective=i.first)}},decls:13,vars:11,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"const-value-ct"],[3,"crtViewElement"],["mat-dialog-actions","",1,"actions"],["data-item-marker","saveBtn",3,"clicked","color"],["data-item-marker","cancelBtn",3,"clicked"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"div",1),t.\u0275\u0275elementContainer(5,2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",3)(7,"crt-button",4),t.\u0275\u0275listener("clicked",function(){return a.onApplyClick()}),t.\u0275\u0275text(8),t.\u0275\u0275pipe(9,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(10,"crt-button",5),t.\u0275\u0275listener("clicked",function(){return a.onCancelClick()}),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,5,"ConstValuePickerProvider.ConstValuePickerDialogComponent.Title")),t.\u0275\u0275advance(3),t.\u0275\u0275property("crtViewElement",a.viewElementConfig),t.\u0275\u0275advance(2),t.\u0275\u0275property("color","primary"),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(9,7,"ConstValuePickerProvider.ConstValuePickerDialogComponent.Actions.OkButtonCaption")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(12,9,"ConstValuePickerProvider.ConstValuePickerDialogComponent.Actions.CancelButtonCaption")," "))},dependencies:[Ot.MatLegacyDialogTitle,Ot.MatLegacyDialogContent,Ot.MatLegacyDialogActions,rn.H,Jt,za.MatDialogTitle,za.MatDialogContent,za.MatDialogActions,f.TranslatePipe],styles:["[_nghost-%COMP%]{width:320px}[_nghost-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-end;justify-content:flex-end;align-items:flex-end}"]})}}class e0 extends Vs{constructor(e,n){super(Ye.Arithmetic,n||My(e)),this.arithmeticOperatorType=e}get id(){return My(this.arithmeticOperatorType)}accept(e){return this.checkVisitorAndVisitDefinition(e,n=>n.visitArithmeticOperatorDefinition(this))}}class sb extends Wt{constructor(e){super(),this._translateService=e,this._defaultPinnedOperatorsDefinitions=[new e0(ci.Addition,"+"),new e0(ci.Subtraction,"\u2212"),new e0(ci.Multiplication,"\u2217"),new e0(ci.Division,"/"),new yy(ia.Opening,"("),new yy(ia.Closing,")")],this._defaultOperatorsDefinitions=[...this._defaultPinnedOperatorsDefinitions,new Md("."),new Ku(",")],this.definitions=new Map,this._defaultFunctionDefinitions=this.getDefaultFunctionDefinitions()}get functionDefinitions(){return this._defaultFunctionDefinitions}get operandDefinitions(){return[]}get operatorDefinitions(){return this._defaultOperatorsDefinitions}getDefaultFunctionDefinitions(){return(0,y.cloneDeep)(w_).map(e=>{const n=e;return new gn(this._translateService.instant(n.caption),n.code,n.functionType,n.parameterDefinitions,n.returnDefinition)})}addDefinition(e){e&&this.definitions.set(e.id,e)}getDefinitions(){return[...this.definitions.values(),...this.functionDefinitions,...this.operandDefinitions,...this.operatorDefinitions]}getPinnedDefinitions(){return[...this._defaultPinnedOperatorsDefinitions]}addDefinitions(e){e&&e.length>0&&e.forEach(n=>this.addDefinition(n))}clearDefinitions(){this.definitions.clear()}static{this.\u0275fac=function(n){return new(n||sb)(t.\u0275\u0275inject(f.TranslateService))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:sb,factory:sb.\u0275fac})}}class cb extends sb{constructor(e){super(e),this._translate=e}get functionDefinitions(){return super.getDefaultFunctionDefinitions().filter(e=>!e.code.startsWith("DATEPART")&&!e.code.includes("SECONDS"))}static{this.\u0275fac=function(n){return new(n||cb)(t.\u0275\u0275inject(f.TranslateService))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:cb,factory:cb.\u0275fac})}}class Uh{constructor(e,n){this._customElements=[{name:"crt-value-picker-text-input",component:WC},{name:"crt-value-picker-date-time-input",component:GC},{name:"crt-value-picker-lookup-input",component:$C},{name:"crt-value-picker-rich-text-input",component:KC},{name:"crt-value-picker-email-text-input",component:ZC},{name:"crt-value-picker-web-text-input",component:QC},{name:"crt-value-picker-number-input",component:YC},{name:"crt-value-picker-checkbox-input",component:JC},{name:"crt-value-picker-phone-text-input",component:XC},{name:"crt-value-picker-color-input",component:qC}],this._customElements.forEach(({name:a,component:i})=>{e.defineComponent(a,i,n)})}static{this.\u0275fac=function(n){return new(n||Uh)(t.\u0275\u0275inject(E.SH),t.\u0275\u0275inject(t.Injector))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Uh})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[Yi.e,Vo,un,{provide:Wt,useClass:cb},{provide:Ro,useClass:Yc},{provide:Me,useClass:dm}],imports:[l.HttpClientModule,ki,Mm,ni,Ot.MatLegacyDialogModule,nt.MatLegacyButtonModule,Hd,_.CommonModule,io,Te.c,re,Sn.u,zd,oi,ob,Sr,wr,ga,b5.u,Er,zc,oo,f.TranslateModule,ki]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Uh,{declarations:[jc,t0,WC,GC,$C,KC,ZC,QC,YC,JC,XC,qC],imports:[l.HttpClientModule,ki,Mm,ni,Ot.MatLegacyDialogModule,nt.MatLegacyButtonModule,Hd,_.CommonModule,io,Te.c,re,Sn.u,zd,oi,ob,Sr,wr,ga,b5.u,Er,zc,oo,f.TranslateModule],exports:[ki]})})();const DH=null;class Hh{static{this.\u0275fac=function(n){return new(n||Hh)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Hh})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:bi,useClass:Zr},{provide:Kr,useClass:Ei,multi:!0},{provide:Kr,useClass:zs,multi:!0},A.wf,ct,an,Cn],imports:[_.CommonModule,nt.MatLegacyButtonModule,Q.MatLegacyMenuModule,lt.MatLegacyInputModule,c.MatLegacyAutocompleteModule,_t.MatIconModule,O.FormsModule,va,O.ReactiveFormsModule,we.RouterModule,ki,Uh,f.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(Hh,{declarations:[Be,Yt],imports:[_.CommonModule,nt.MatLegacyButtonModule,Q.MatLegacyMenuModule,lt.MatLegacyInputModule,c.MatLegacyAutocompleteModule,_t.MatIconModule,O.FormsModule,va,O.ReactiveFormsModule,we.RouterModule,ki,Uh,f.TranslateModule],exports:[Be]})})();class Qj{getFields(e){return[]}}var En;(function(r){r.General="general",r.Editability="editability",r.Appearance="appearance",r.Advanced="advanced",r.ObjectSettings="objectsettings",r.Inheritance="inheritance",r.Behavior="behavior",r.DataSource="datasource",r.AccessRights="accessRights",r.HistoryColumns="historyColumns"})(En||(En={}));var ce;(function(r){r.Input="Input",r.CheckBox="CheckBox",r.Select="Select",r.Button="Button",r.LocalizableText="LocalizableText",r.FieldsGroup="FieldsGroup",r.FormGroup="FormGroup",r.Autocomplete="Autocomplete",r.RadioButtonGroup="RadioButtonGroup",r.Custom="Custom",r.Lookup="Lookup"})(ce||(ce={}));class Mu extends Qj{constructor(e,n){super(),this.translateService=e,this.customEventService=n}getFields(e){const n=e.validationConfig?.schemaNamePrefix;return[{name:En.General,label:this.translateService.instant("generalCaption"),type:ce.FieldsGroup,children:[{name:"caption",label:this.translateService.instant("captionLabel"),type:ce.LocalizableText,validations:[]},{name:"name",label:this.translateService.instant("nameLabel"),type:ce.Input,validations:[{message:this.translateService.instant("columnEmpty"),name:"required",validator:O.Validators.required},{message:Fi(this.translateService.instant("wrongColumnNameWithPrefix"),[n]),name:"requiredWithPrefix",validator:Wr.requiredWithPrefix(n)},{message:this.translateService.instant("wrongColumnName"),name:"pattern",validator:O.Validators.pattern(/^[a-zA-Z_]{1}[a-zA-Z0-9_]*$/)}]}]}]}getModel(){return this.customEventService.getDataViaEvent("GetColumnConfig")}static{this.\u0275fac=function(n){return new(n||Mu)(t.\u0275\u0275inject(f.TranslateService),t.\u0275\u0275inject(E.Dj))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Mu,factory:Mu.\u0275fac})}}var od=o(93883),lb=o(13148);class sd{static{this.dataValueTypeConvertRules={[X.r.DateTime]:{canConvertTo:[]},[X.r.Date]:{canConvertTo:[X.r.DateTime]},[X.r.Time]:{canConvertTo:[X.r.DateTime]},[X.r.SHORT_TEXT]:{canConvertTo:[X.r.PHONE_TEXT,X.r.WEB_TEXT,X.r.EMAIL_TEXT,X.r.MEDIUM_TEXT,X.r.LONG_TEXT,X.r.MAXSIZE_TEXT,X.r.RICH_TEXT]},[X.r.PHONE_TEXT]:{canConvertTo:[X.r.MEDIUM_TEXT,X.r.LONG_TEXT,X.r.MAXSIZE_TEXT,X.r.RICH_TEXT]},[X.r.WEB_TEXT]:{canConvertTo:[X.r.MEDIUM_TEXT,X.r.LONG_TEXT,X.r.MAXSIZE_TEXT,X.r.RICH_TEXT]},[X.r.EMAIL_TEXT]:{canConvertTo:[X.r.MEDIUM_TEXT,X.r.LONG_TEXT,X.r.MAXSIZE_TEXT,X.r.RICH_TEXT]},[X.r.MEDIUM_TEXT]:{canConvertTo:[X.r.LONG_TEXT,X.r.MAXSIZE_TEXT,X.r.RICH_TEXT]},[X.r.LONG_TEXT]:{canConvertTo:[X.r.MAXSIZE_TEXT,X.r.RICH_TEXT]},[X.r.MAXSIZE_TEXT]:{canConvertTo:[X.r.RICH_TEXT]},[X.r.Integer]:{canConvertTo:[X.r.FLOAT1,X.r.FLOAT2,X.r.FLOAT3,X.r.FLOAT4,X.r.FLOAT8,X.r.Money]},[X.r.FLOAT1]:{canConvertTo:[X.r.FLOAT2,X.r.FLOAT3,X.r.FLOAT4,X.r.FLOAT8,X.r.Money]},[X.r.FLOAT2]:{canConvertTo:[X.r.FLOAT3,X.r.FLOAT4,X.r.FLOAT8,X.r.Money]},[X.r.FLOAT3]:{canConvertTo:[X.r.FLOAT4,X.r.FLOAT8]},[X.r.FLOAT4]:{canConvertTo:[X.r.FLOAT8]},[X.r.FLOAT8]:{canConvertTo:[]},[X.r.Money]:{canConvertTo:[]}}}static{this._changeColumnDataValueTypeGroup={DateTime:C.P.DateTime,Text:sd._removeItems(C.P.Text,[X.r.Text,X.r.LOCALIZABLE_STRING]),Number:sd._removeItems(C.P.Number,[X.r.Float]),RichText:[X.r.RICH_TEXT],PhoneText:sd._removeItems(C.P.Text,[X.r.Text,X.r.SHORT_TEXT,X.r.LOCALIZABLE_STRING]),EmailText:sd._removeItems(C.P.Text,[X.r.Text,X.r.SHORT_TEXT,X.r.LOCALIZABLE_STRING]),WebText:sd._removeItems(C.P.Text,[X.r.Text,X.r.SHORT_TEXT,X.r.LOCALIZABLE_STRING])}}static getDateTypeValueGroup(e){let n;switch(e){case X.r.Date:case X.r.Time:case X.r.DateTime:n=this._changeColumnDataValueTypeGroup.DateTime;break;case X.r.PHONE_TEXT:n=this._changeColumnDataValueTypeGroup.PhoneText;break;case X.r.WEB_TEXT:n=this._changeColumnDataValueTypeGroup.WebText;break;case X.r.EMAIL_TEXT:n=this._changeColumnDataValueTypeGroup.EmailText;break;case X.r.Text:case X.r.SHORT_TEXT:case X.r.MEDIUM_TEXT:case X.r.LONG_TEXT:case X.r.MAXSIZE_TEXT:n=this._changeColumnDataValueTypeGroup.Text;break;case X.r.RICH_TEXT:n=this._changeColumnDataValueTypeGroup.RichText;break;case X.r.Integer:case X.r.FLOAT1:case X.r.FLOAT2:case X.r.FLOAT3:case X.r.FLOAT4:case X.r.FLOAT8:case X.r.Money:n=this._changeColumnDataValueTypeGroup.Number;break;default:n=[]}return n.map(a=>C.Q[a])}static _removeItems(e,n){const a=[...e];return n.forEach(i=>{const s=a.indexOf(i);s>-1&&a.splice(s,1)}),a}static getAllowedChangeTypes(e){return this.getDateTypeValueGroup(e).filter(({type:a})=>a!==e)}static isPrecisionLost(e,n){return e===n?!1:!this.dataValueTypeConvertRules[e]?.canConvertTo.includes(n)}}class db{static required(e){return n=>n.value?.getValue(e)?null:{required:!0}}static maxLength(e,n){return a=>a.value?.getValue(e).length>n?{maxlength:!0}:null}}class s9{static prefixValidator(e,n){return n?()=>null:Wr.prefix(e)}static lookupPrimaryDisplayColumn(e){return n=>(0,y.isEmpty)(n.value)||!n.value.value||n.value.isNewLookup?(0,m.of)(null):e.checkLookupPrimaryDisplayColumn(n.value).pipe((0,h.map)(a=>a?null:{primaryDisplayColumn:{value:n.value}}))}}class bn{static _createControlConfig(e,n){return e.type=n,e}static findFieldByName(e,n){let a=null;return e.forEach(i=>{a||(i.name===n?a=i:i.type===ce.FieldsGroup&&(a=this.findFieldByName(i.children,n)))}),a}static addField(e,n,a){a===void 0&&(a=e.length),e.splice(a,0,n)}static addFieldToGroup(e,n,a,i){const s=this.findFieldByName(e,n);!s||s.type!==ce.FieldsGroup||this.addField(s.children,a,i)}static createCheckBoxFieldConfig(e){return this._createControlConfig(e,ce.CheckBox)}static createInputFieldConfig(e){return this._createControlConfig(e,ce.Input)}static createAutocompleteFieldConfig(e){return this._createControlConfig(e,ce.Autocomplete)}static createSelectFieldConfig(e){return this._createControlConfig(e,ce.Select)}static createLocalizableTextFieldConfig(e){return this._createControlConfig(e,ce.LocalizableText)}}class mr{get invalid(){return this.group.get(this.field.name).invalid}get required(){return this.field.validations&&this.field.validations.some(e=>e.name==="required")}get error(){const{validations:e,asyncValidations:n}=this.field;let a="";return[e,n].some(i=>{if(i){for(const s of i)if(this.group.get(this.field.name).hasError(s.name))return a=s.message,!0}}),a}ngOnInit(){this.field.value!==void 0&&this.group.get(this.field.name)&&this.group.get(this.field.name).setValue(this.field.value)}static{this.\u0275fac=function(n){return new(n||mr)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:mr})}}class Wh extends mr{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Wh)))(a||Wh)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Wh,selectors:[["ts-button-control"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[[1,"full-width","ts-button-control",3,"formGroup"],["type","submit","mat-raised-button","","color","primary"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"button",1),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275property("formGroup",a.group),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.field.label))},dependencies:[O.NgControlStatusGroup,O.FormGroupDirective,nt.MatLegacyButton],styles:["[_nghost-%COMP%]{display:block}"]})}}function Yj(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.error)}}class Gh extends mr{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Gh)))(a||Gh)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Gh,selectors:[["ts-checkbox-control"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:4,vars:4,consts:[[1,"full-width","ts-checkbox-control",3,"formGroup"],["disableRipple","",3,"formControlName"],[4,"ngIf"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"mat-checkbox",1),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,Yj,2,1,"mat-error",2),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("formGroup",a.group),t.\u0275\u0275advance(),t.\u0275\u0275property("formControlName",a.field.name),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a.field.label),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.invalid))},dependencies:[_.NgIf,O.NgControlStatus,O.NgControlStatusGroup,O.FormGroupDirective,O.FormControlName,q.MatLegacyError,oe.MatLegacyCheckbox],styles:[`:host{display:block}.ts-checkbox-control .mat-checkbox{display:block}
`],encapsulation:2})}}function Jj(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.error)}}class $h extends mr{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory($h)))(a||$h)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:$h,selectors:[["ts-input-control"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:5,consts:[["floatLabel","always",1,"full-width","ts-input-control",3,"formGroup"],["matInput","","autocomplete","off",3,"formControlName","required"],[4,"ngIf"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"mat-form-field",0)(1,"mat-label"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"input",1),t.\u0275\u0275template(4,Jj,2,1,"mat-error",2),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("formGroup",a.group),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.field.label),t.\u0275\u0275advance(),t.\u0275\u0275property("formControlName",a.field.name)("required",a.required),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.invalid))},dependencies:[_.NgIf,O.DefaultValueAccessor,O.NgControlStatus,O.NgControlStatusGroup,O.RequiredValidator,O.FormGroupDirective,O.FormControlName,q.MatLegacyError,q.MatLegacyFormField,q.MatLegacyLabel,lt.MatLegacyInput],styles:["[_nghost-%COMP%]{display:block}"]})}}function Xj(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275elementContainer(1,4),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275attribute("data-item-marker",a.field.name+" "+a.field.label),t.\u0275\u0275advance(),t.\u0275\u0275property("field",n)("group",a.nestedGroup)}}class Iu extends mr{get nestedGroup(){return this.group.get(this.field.name)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Iu)))(a||Iu)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Iu,selectors:[["ts-form-group-control"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[[3,"formGroup"],[1,"column-editor-cell-group",3,"formGroupName"],[1,"form-group"],[4,"ngFor","ngForOf"],["tsDynamicField","",3,"field","group"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",2),t.\u0275\u0275template(3,Xj,2,3,"div",3),t.\u0275\u0275elementEnd()()()),n&2&&(t.\u0275\u0275property("formGroup",a.group),t.\u0275\u0275advance(),t.\u0275\u0275property("formGroupName",a.field.name),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.field.nestedItems))},styles:["[_nghost-%COMP%]{display:block}"]})}}function qj(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",4),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n.value),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.name)}}function tB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.error)}}class Kh extends mr{get options$(){return this.field.options instanceof Array?(0,m.of)(this.field.options):this.field.options}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Kh)))(a||Kh)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Kh,selectors:[["ts-select-control"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:7,vars:8,consts:[["floatLabel","always",1,"full-width","ts-select-control",3,"formGroup"],["disableRipple","","disableOptionCentering","",3,"formControlName","required"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"mat-form-field",0)(1,"mat-label"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-select",1),t.\u0275\u0275template(4,qj,2,2,"mat-option",2),t.\u0275\u0275pipe(5,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(6,tB,2,1,"mat-error",3),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("formGroup",a.group),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.field.label),t.\u0275\u0275advance(),t.\u0275\u0275property("formControlName",a.field.name)("required",a.required),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(5,6,a.options$)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.invalid))},dependencies:[_.NgForOf,_.NgIf,O.NgControlStatus,O.NgControlStatusGroup,O.RequiredValidator,O.FormGroupDirective,O.FormControlName,q.MatLegacyError,q.MatLegacyFormField,q.MatLegacyLabel,jn.MatLegacySelect,Tt.MatLegacyOption,_.AsyncPipe],styles:["[_nghost-%COMP%]{display:block}"]})}}function eB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.error)}}class Zh extends mr{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Zh)))(a||Zh)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Zh,selectors:[["ts-localizable-text-control"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:5,vars:6,consts:[["floatLabel","always",1,"full-width","ts-localizable-text-control",3,"formGroup"],[3,"formControlName","label","required"],[4,"ngIf"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"mat-form-field",0)(1,"mat-label"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"ts-localizable-text-input",1),t.\u0275\u0275template(4,eB,2,1,"mat-error",2),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("formGroup",a.group),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.field.label),t.\u0275\u0275advance(),t.\u0275\u0275property("formControlName",a.field.name)("label",a.field.label)("required",a.required),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.invalid))},dependencies:[_.NgIf,O.NgControlStatus,O.NgControlStatusGroup,O.RequiredValidator,O.FormGroupDirective,O.FormControlName,ss,q.MatLegacyError,q.MatLegacyFormField,q.MatLegacyLabel],styles:["[_nghost-%COMP%]{display:block}"]})}}function nB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275elementContainer(1,3),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275attribute("data-item-marker",n.name+" "+n.label),t.\u0275\u0275advance(),t.\u0275\u0275property("field",n)("group",a.group)}}class xu extends mr{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(xu)))(a||xu)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:xu,selectors:[["ts-fields-group-control"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:8,vars:6,consts:[[1,"full-width","ts-fields-group-control",3,"formGroup"],[3,"expanded"],[4,"ngFor","ngForOf"],["tsDynamicField","",3,"field","group"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"mat-accordion")(2,"mat-expansion-panel",1)(3,"mat-expansion-panel-header")(4,"mat-panel-title"),t.\u0275\u0275element(5,"div"),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(7,nB,2,3,"div",2),t.\u0275\u0275elementEnd()()()),n&2&&(t.\u0275\u0275property("formGroup",a.group),t.\u0275\u0275advance(2),t.\u0275\u0275property("expanded",!0),t.\u0275\u0275advance(3),t.\u0275\u0275classMap("expansion-panel-icon expansion-panel-icon-"+a.field.name),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",a.field.label," "),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.field.children))},styles:["[_nghost-%COMP%]{display:block}"]})}}function aB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",9),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.name," ")}}function iB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.error)}}class cd extends mr{get _filterValue$(){return this.group.get(this.field.name).valueChanges.pipe((0,h.startWith)(""),(0,h.map)(n=>(0,y.isString)(n)?n.toLowerCase():n?.name?n.name.toLowerCase():""))}filterByContains(e,n){return e.filter(a=>a?.name?.toLowerCase()?.indexOf(n)>=0)}sortByLengthAsc(e){return e.sort((n,a)=>n?.name?.length>a?.name?.length?1:-1)}sortByStartWithAsc(e,n){return e.sort((a,i)=>a?.name?.toLowerCase()?.startsWith(n)&&i?.name?.toLowerCase()?.startsWith(n)?0:a?.name?.toLowerCase()?.startsWith(n)?-1:0)}updateValue(e){const n=this.group.get(this.field.name),a=n.value;if(a?.value){const i=e.find(s=>(0,y.isEqual)(s.value,a.value));i&&!(0,y.isEqual)(a,i)&&n.setValue(i)}}getOptions(){return(this.field.options instanceof Array?(0,m.of)(this.field.options):this.field.options).pipe((0,h.tap)(this.updateValue.bind(this)))}initOptions(){this.options=(0,m.combineLatest)([this._filterValue$,this.getOptions()]).pipe((0,h.map)(([e,n])=>({filterValue:e,options:e?this.filterByContains(n,e):n})),(0,h.map)(({filterValue:e,options:n})=>({filterValue:e,options:e?this.sortByLengthAsc(n):n})),(0,h.map)(({filterValue:e,options:n})=>this.sortByStartWithAsc(n,e)))}ngOnInit(){super.ngOnInit(),this.initOptions()}displayFn(e){return e?.name||""}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(cd)))(a||cd)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:cd,selectors:[["ts-autocomplete-control"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:12,vars:10,consts:[["auto","matAutocomplete"],["floatLabel","always",1,"full-width","ts-autocomplete-control",3,"formGroup"],[1,"input-wrapper"],["type","text","matInput","",3,"formControlName","matAutocomplete","required"],["autoActiveFirstOption","",3,"displayWith"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[4,"ngIf"],[3,"value"]],template:function(n,a){if(n&1&&(t.\u0275\u0275elementStart(0,"mat-form-field",1)(1,"mat-label"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"div",2),t.\u0275\u0275element(4,"input",3),t.\u0275\u0275elementStart(5,"mat-autocomplete",4,0),t.\u0275\u0275template(7,aB,2,2,"mat-option",5),t.\u0275\u0275pipe(8,"async"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(9,"div",6),t.\u0275\u0275element(10,"div",7),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(11,iB,2,1,"mat-error",8),t.\u0275\u0275elementEnd()),n&2){const i=t.\u0275\u0275reference(6);t.\u0275\u0275property("formGroup",a.group),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.field.label),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControlName",a.field.name)("matAutocomplete",i)("required",a.required),t.\u0275\u0275advance(),t.\u0275\u0275property("displayWith",a.displayFn),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(8,8,a.options)),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.invalid)}},dependencies:[_.NgForOf,_.NgIf,O.DefaultValueAccessor,O.NgControlStatus,O.NgControlStatusGroup,O.RequiredValidator,O.FormGroupDirective,O.FormControlName,q.MatLegacyError,q.MatLegacyFormField,q.MatLegacyLabel,q.MatLegacySuffix,lt.MatLegacyInput,Tt.MatLegacyOption,c.MatLegacyAutocomplete,c.MatLegacyAutocompleteTrigger,_.AsyncPipe],styles:[`.ts-autocomplete-control{display:flex;align-items:center;justify-content:space-between}.ts-autocomplete-control .mat-form-field-infix{display:flex;align-items:center}.ts-autocomplete-control .mat-form-field-wrapper{width:100%}.ts-autocomplete-control .input-wrapper{flex-grow:1}
`],encapsulation:2})}}function rB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-radio-button",5),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("value",n.value)("checked",n.checked)("disabled",a.field.disabled),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.name," ")}}function oB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.error)}}class Qh extends mr{ngOnInit(){super.ngOnInit(),this.options=this.field.options.map(e=>({name:e.name,value:e.value,checked:e.value===this.field.value}))}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Qh)))(a||Qh)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Qh,selectors:[["ts-radio-button-group"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:6,vars:5,consts:[[1,"full-width","ts-radio-button-group",3,"formGroup"],["id","radio-group-label"],[1,"ts-radio-group",3,"formControlName"],["disableRipple","","class","ts-radio-button",3,"value","checked","disabled",4,"ngFor","ngForOf"],[4,"ngIf"],["disableRipple","",1,"ts-radio-button",3,"value","checked","disabled"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"label",1),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-radio-group",2),t.\u0275\u0275template(4,rB,2,4,"mat-radio-button",3),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,oB,2,1,"mat-error",4),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("formGroup",a.group),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.field.label),t.\u0275\u0275advance(),t.\u0275\u0275property("formControlName",a.field.name),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.options),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.invalid))},dependencies:[_.NgForOf,_.NgIf,O.NgControlStatus,O.NgControlStatusGroup,O.FormGroupDirective,O.FormControlName,q.MatLegacyError,bs.MatLegacyRadioGroup,bs.MatLegacyRadioButton],styles:[".ts-radio-button-group   [_nghost-%COMP%]{display:block}.ts-radio-button-group[_ngcontent-%COMP%]   .ts-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]})}}const sB=new t.InjectionToken("FIELD_CONFIG");function cB(r,e){r&1&&t.\u0275\u0275elementContainer(0)}class pb extends mr{constructor(e){super(),this.injector=e}ngOnInit(){this.customComponentInjector=t.Injector.create({providers:[{provide:sB,useValue:this.field},{provide:O.FormGroup,useValue:this.group}],parent:this.injector})}static{this.\u0275fac=function(n){return new(n||pb)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:pb,selectors:[["ts-custom-template-control"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[[1,"full-width","ts-custom-template",3,"formGroup"],[4,"ngComponentOutlet","ngComponentOutletInjector"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,cB,1,0,"ng-container",1),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("formGroup",a.group),t.\u0275\u0275advance(),t.\u0275\u0275property("ngComponentOutlet",a.field.component)("ngComponentOutletInjector",a.customComponentInjector))},dependencies:[_.NgComponentOutlet,O.NgControlStatusGroup,O.FormGroupDirective],styles:["[_nghost-%COMP%]{display:block}"]})}}const lB=r=>[r];function dB(r,e){r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2&&(t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,"columnEmpty")," "))}function pB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"stringFormat"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind2(3,3,t.\u0275\u0275pipeBind1(2,1,n.codeError.message),t.\u0275\u0275pureFunction1(6,lB,n.codeError.parameter))," ")}}function uB(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"form",1)(1,"div",2),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-form-field",3)(4,"mat-label"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(7,"ts-localizable-text-input",4),t.\u0275\u0275template(8,dB,3,3,"mat-error",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"mat-form-field",6)(10,"mat-label"),t.\u0275\u0275text(11),t.\u0275\u0275pipe(12,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(13,"input",7),t.\u0275\u0275template(14,pB,4,8,"mat-error",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(15,"div",8)(16,"button",9),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.dialogRef.close())}),t.\u0275\u0275text(17),t.\u0275\u0275pipe(18,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(19,"button",10),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onSaveClick())}),t.\u0275\u0275text(20),t.\u0275\u0275pipe(21,"translate"),t.\u0275\u0275elementEnd()()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("formGroup",n.lookupForm),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.title),t.\u0275\u0275advance(),t.\u0275\u0275property("formGroup",n.lookupForm),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(6,11,"captionLabel")),t.\u0275\u0275advance(2),t.\u0275\u0275property("label",n.captionLabel),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.caption==null?null:n.caption.invalid),t.\u0275\u0275advance(),t.\u0275\u0275property("formGroup",n.lookupForm),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(12,13,"nameLabel")),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",n.name==null?null:n.name.invalid),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(18,15,"cancelButton")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(21,17,"saveButton")," ")}}class ub{constructor(e,n,a){this.translateService=e,this.dialogRef=n,this.data=a}setLookupFormDefaultValues(){this.name.setValue(this.data.schemaNamePrefix)}get caption(){return this.lookupForm.get("caption")}get name(){return this.lookupForm.get("name")}get codeError(){const e=this.name.errors,n={message:"",parameter:null};switch(!0){case!(0,y.isUndefined)(e.required):n.message="columnEmpty";break;case!(0,y.isUndefined)(e.requiredWithPrefix):n.message="wrongColumnNameWithPrefix",n.parameter=e.requiredWithPrefix.prefix;break;case!(0,y.isUndefined)(e.pattern):n.message="wrongColumnName";break;case!(0,y.isUndefined)(e.duplicate):n.message="duplicateColumnName";break;case!(0,y.isUndefined)(e.maxlength):n.message="wrongCaptionLength",n.parameter=e.maxlength.requiredLength;break;case!(0,y.isUndefined)(e.prefix):n.message="wrongPrefix",n.parameter=e.prefix.requiredPrefix}return n}ngOnInit(){this.captionLabel=this.translateService.instant("captionLabel"),this.lookupForm=this.data.group,this.title=this.data.title,this.name.value===null&&this.setLookupFormDefaultValues()}onSaveClick(){this.lookupForm.valid?this.dialogRef.close(!0):(this.lookupForm.updateValueAndValidity(),this.lookupForm.markAllAsTouched())}static{this.\u0275fac=function(n){return new(n||ub)(t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef),t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:ub,selectors:[["ts-lookup-form"]],decls:1,vars:1,consts:[["class","lookup-dialog-form",3,"formGroup",4,"ngIf"],[1,"lookup-dialog-form",3,"formGroup"],["mat-dialog-title",""],["data-item-marker","new-lookup-caption","floatLabel","always",1,"full-width","ts-localizable-text-control",3,"formGroup"],["formControlName","caption","required","",3,"label"],[4,"ngIf"],["data-item-marker","new-lookup-name","floatLabel","always",1,"full-width","ts-input-control",3,"formGroup"],["matInput","","formControlName","name","autocomplete","off","required",""],["mat-dialog-actions",""],["mat-button","","data-item-marker","new-lookup-cancel",3,"click"],["mat-flat-button","","color","primary","data-item-marker","new-lookup-save",3,"click"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,uB,22,19,"form",0),n&2&&t.\u0275\u0275property("ngIf",a.lookupForm)},dependencies:[_.NgIf,O.\u0275NgNoValidate,O.DefaultValueAccessor,O.NgControlStatus,O.NgControlStatusGroup,O.RequiredValidator,O.FormGroupDirective,O.FormControlName,ss,q.MatLegacyError,q.MatLegacyFormField,q.MatLegacyLabel,lt.MatLegacyInput,nt.MatLegacyButton,Ot.MatLegacyDialogTitle,Ot.MatLegacyDialogActions,f.TranslatePipe,lc],styles:["[_nghost-%COMP%]{display:block;margin:0;min-width:440px}[_nghost-%COMP%]   .lookup-dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .lookup-dialog-form[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{padding:0;margin-bottom:0;min-height:32px;margin-top:24px;justify-content:flex-end}"]})}}class n0{}function mB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",11),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.name," ")}}function gB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.error)}}function hB(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",12),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("click",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.openLookupDialog(i))}),t.\u0275\u0275element(2,"mat-icon",13),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,n.allowEdit?"editLookupTooltipCaption":"createLookupTooltipCaption")),t.\u0275\u0275advance(2),t.\u0275\u0275property("svgIcon",n.lookupDialogIcon)}}class mb extends cd{constructor(e,n,a,i,s){super(),this.lookupService=a,this.dialogService=i,this.translateService=s,this.editedItems={},e.addSvgIconLiteral("create-lookup-icon",n.bypassSecurityTrustHtml(o(55429))),e.addSvgIconLiteral("edit-lookup-icon",n.bypassSecurityTrustHtml(o(11213)))}get allowEdit(){return this.control.value?.allowEdit||this.control.value?.isNewLookup}get lookupDialogIcon(){return this.allowEdit?"edit-lookup-icon":"create-lookup-icon"}get control(){return this.group.get(this.field.name)}setLookupControl(e){const n=this.lookupForm.get("caption"),a=this.lookupForm.get("name"),i=n.value.getValue(this.translateService.currentLang),s=this.control.value?.value;this.control.patchValue({name:i,value:e?a.value:s,isNewLookup:e||this.control.value?.isNewLookup,newLookupCaption:n.value,newLookupName:a.value,allowEdit:!0}),this.editedItems[e?a.value:s]=this.control.value,this.control.updateValueAndValidity(),this.initOptions()}openDialog(e){this.dialogService.open(ub,{data:{group:this.lookupForm,title:this.translateService.instant(e?"newLookupCaption":"editLookupCaption"),schemaNamePrefix:this.field.validationConfig.schemaNamePrefix},panelClass:"lookup-detail-dialog",scrollStrategy:new In.NoopScrollStrategy}).pipe((0,h.take)(1)).subscribe(n=>{n&&this.setLookupControl(e)})}openEditLookupDialog(){const{newLookupCaption:e,newLookupName:n}=this.control.value;(e||n?(0,m.of)({caption:e,name:n}):this.lookupService.getLookupInfo(this.control.value.value)).subscribe(({caption:a,name:i})=>{const s=this.lookupService.getLookupNameList().pipe((0,h.map)(b=>b.filter(D=>D!==i)));this.lookupForm=this.createLookupForm(s),this.lookupForm.patchValue({caption:new Nr.h(a),name:i}),this.openDialog(!1)})}openCreateLookupDialog(){const e=this.lookupService.getLookupNameList();this.lookupForm=this.createLookupForm(e),this.openDialog(!0)}getOptions(){return super.getOptions().pipe((0,h.map)(e=>{for(const n of e)this.editedItems[n.value]&&Object.assign(n,this.editedItems[n.value]);return e}))}createLookupForm(e){const n=this.field.validationConfig;return new O.FormGroup({caption:new O.UntypedFormControl(null,{validators:[db.required(this.translateService.currentLang)]}),name:new O.UntypedFormControl(null,{validators:[O.Validators.required,Wr.requiredWithPrefix(n.schemaNamePrefix),O.Validators.pattern(/^[a-zA-Z_]{1}[a-zA-Z0-9_]*$/),O.Validators.maxLength(n.maxColumnNameLength),Wr.prefix(n.schemaNamePrefix)],asyncValidators:[Wr.duplicateAsync(e)]})},{updateOn:"change"})}openLookupDialog(e){e.preventDefault(),this.allowEdit?this.openEditLookupDialog():this.openCreateLookupDialog()}static{this.\u0275fac=function(n){return new(n||mb)(t.\u0275\u0275directiveInject(_t.MatIconRegistry),t.\u0275\u0275directiveInject(p.DomSanitizer),t.\u0275\u0275directiveInject(n0),t.\u0275\u0275directiveInject(Kt.o),t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:mb,selectors:[["ts-lookup-control"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:14,vars:11,consts:[["auto","matAutocomplete"],[1,"full-width","ts-lookup-control"],["floatLabel","always",3,"formGroup"],[1,"input-wrapper"],["type","text","matInput","",3,"formControlName","matAutocomplete","required"],["autoActiveFirstOption","",3,"displayWith"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[4,"ngIf"],["class","show-lookup-dialog","mat-icon-button","","data-item-marker","show-lookup-dialog",3,"matTooltip","click",4,"ngIf"],[3,"value"],["mat-icon-button","","data-item-marker","show-lookup-dialog",1,"show-lookup-dialog",3,"click","matTooltip"],[1,"lookup-form-icon",3,"svgIcon"]],template:function(n,a){if(n&1&&(t.\u0275\u0275elementStart(0,"div",1)(1,"mat-form-field",2)(2,"mat-label"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",3),t.\u0275\u0275element(5,"input",4),t.\u0275\u0275elementStart(6,"mat-autocomplete",5,0),t.\u0275\u0275template(8,mB,2,2,"mat-option",6),t.\u0275\u0275pipe(9,"async"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",7),t.\u0275\u0275element(11,"div",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,gB,2,1,"mat-error",9),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(13,hB,3,4,"button",10),t.\u0275\u0275elementEnd()),n&2){const i=t.\u0275\u0275reference(7);t.\u0275\u0275advance(),t.\u0275\u0275property("formGroup",a.group),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.field.label),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControlName",a.field.name)("matAutocomplete",i)("required",a.required),t.\u0275\u0275advance(),t.\u0275\u0275property("displayWith",a.displayFn),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(9,9,a.options)),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.invalid),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.field.isSupportCreatingMode)}},dependencies:[_.NgForOf,_.NgIf,O.DefaultValueAccessor,O.NgControlStatus,O.NgControlStatusGroup,O.RequiredValidator,O.FormGroupDirective,O.FormControlName,q.MatLegacyError,q.MatLegacyFormField,q.MatLegacyLabel,q.MatLegacySuffix,lt.MatLegacyInput,Tt.MatLegacyOption,nt.MatLegacyButton,dn.MatTooltip,_t.MatIcon,c.MatLegacyAutocomplete,c.MatLegacyAutocompleteTrigger,_.AsyncPipe,f.TranslatePipe],styles:[`.ts-lookup-control{display:flex;align-items:center;justify-content:space-between}.ts-lookup-control .mat-form-field-infix{display:flex;align-items:center}.ts-lookup-control .input-wrapper{flex-grow:1}.ts-lookup-control .mat-icon-button.show-lookup-dialog{display:flex;align-items:center;justify-content:center;height:32px;width:32px;min-width:32px;padding:0;border-radius:0;position:relative;bottom:4px}.ts-lookup-control .mat-icon-button.show-lookup-dialog:hover{background-color:#f2f5ff}.ts-lookup-control .mat-icon-button.show-lookup-dialog[disabled]{opacity:.6}.ts-lookup-control .mat-icon-button.show-lookup-dialog .mat-button-wrapper{line-height:16px}.ts-lookup-control .mat-icon-button.show-lookup-dialog .mat-button-wrapper .mat-icon{height:16px;width:16px;line-height:16px}.ts-lookup-control .mat-icon-button.show-lookup-dialog .mat-button-wrapper .mat-icon svg{position:relative;bottom:1px}
`],encapsulation:2})}}class fc{constructor(){this.controlRegistry=new Map}getControlsConfig(){return{[ce.Button]:Wh,[ce.CheckBox]:Gh,[ce.Input]:$h,[ce.FormGroup]:Iu,[ce.Select]:Kh,[ce.LocalizableText]:Zh,[ce.FieldsGroup]:xu,[ce.Autocomplete]:cd,[ce.RadioButtonGroup]:Qh,[ce.Custom]:pb,[ce.Lookup]:mb}}registerDynamicControlComponent(e,n){this.controlRegistry.set(e,n)}unregisterDynamicControlComponent(e){this.controlRegistry.delete(e)}getDynamicControlComponent(e){return this.controlRegistry.get(e)}static{this.\u0275fac=function(n){return new(n||fc)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:fc,factory:fc.\u0275fac})}}class Su{constructor(e,n){this.container=e,this.dynamicFieldsService=n}ngOnInit(){this.components=this.dynamicFieldsService.getControlsConfig(),this.components[this.field.type]&&(this.componentRef=this.container.createComponent(this.components[this.field.type]),this.componentRef.instance.field=this.field,this.componentRef.instance.group=this.group,this.dynamicFieldsService.registerDynamicControlComponent(this.field.name,this.componentRef.instance))}ngOnDestroy(){this.componentRef?.destroy(),this.dynamicFieldsService.unregisterDynamicControlComponent(this.field.name)}static{this.\u0275fac=function(n){return new(n||Su)(t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(fc))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Su,selectors:[["","tsDynamicField",""]],inputs:{field:"field",group:"group"}})}}function _B(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275elementContainer(1,2),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275attribute("data-item-marker",n.name+" "+n.label),t.\u0275\u0275advance(),t.\u0275\u0275property("field",n)("group",a.form)}}class Yh{get value(){return this.form.value}get invalid(){return this.form.invalid}constructor(e,n){this.formBuilder=e,this.dynamicFieldsService=n,this.fields=[],this.submit=new t.EventEmitter}set updateOn(e){(!this.form||this.form.updateOn!==e)&&(this.form=this.createForm(e))}createForm(e="change"){const n=this.formBuilder.group({},{updateOn:e});return this.fields.forEach(a=>{const i=a.children;i?i.forEach(s=>this.setFormControl(n,s)):this.setFormControl(n,a)}),n}setFormControl(e,n){n.type===ce.FormGroup?this.setFormGroup(e,n):this.setFormField(e,n)}setFormGroup(e,n){const a=this.formBuilder.group({});n.nestedItems.forEach(i=>{const s={value:n.value,disabled:i.disabled},b=this.formBuilder.control(s,this.bindValidations(n.validations||[]));a.addControl(i.name,b)}),e.addControl(n.name,a)}setFormField(e,n){if(n.type===ce.Button||n.type===ce.FieldsGroup)return;const a=this.formBuilder.control(n.value,this.bindValidations(n.validations||[]),this.bindAsyncValidations(n.asyncValidations||[]));n.disabled===!0&&a.disable(),e.addControl(n.name,a)}bindValidations(e){if(e.length>0){const n=this.getValidList(e);return O.Validators.compose(n)}return null}bindAsyncValidations(e){if(e.length>0){const n=this.getValidList(e);return O.Validators.composeAsync(n)}return null}getValidList(e){const n=[];return e.forEach(a=>{n.push(a.validator)}),n}validateAllFormFields(e){Object.keys(e.controls).forEach(n=>{e.get(n).markAsTouched({onlySelf:!0})})}ngOnInit(){this.form||(this.form=this.createForm())}onSubmit(e){e.preventDefault(),e.stopPropagation(),this.form.valid?this.submit.emit(this.form.value):this.validateAllFormFields(this.form)}addFieldValidation(e,n){const a=bn.findFieldByName(this.fields,e);a&&(a.validations||(a.validations=[]),a.validations.push(n),this.form.get(e).setValidators(this.bindValidations(a.validations||[])))}setFieldValidations(e,n=[]){const a=bn.findFieldByName(this.fields,e);a.validations=n,this.form.get(e).setValidators(this.bindValidations(a.validations))}findControlComponent(e){return this.dynamicFieldsService.getDynamicControlComponent(e)}static{this.\u0275fac=function(n){return new(n||Yh)(t.\u0275\u0275directiveInject(O.FormBuilder),t.\u0275\u0275directiveInject(fc))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Yh,selectors:[["ts-dynamic-form"]],inputs:{updateOn:"updateOn",fields:"fields"},outputs:{submit:"submit"},decls:2,vars:2,consts:[[1,"dynamic-form",3,"submit","formGroup"],[4,"ngFor","ngForOf"],["tsDynamicField","",3,"field","group"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"form",0),t.\u0275\u0275listener("submit",function(s){return a.onSubmit(s)}),t.\u0275\u0275template(1,_B,2,3,"div",1),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("formGroup",a.form),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.fields))},dependencies:[_.NgForOf,O.\u0275NgNoValidate,O.NgControlStatusGroup,O.FormGroupDirective,Su],styles:[`.dynamic-form .mat-expansion-panel-body{display:grid;grid-column-gap:32px;grid-template-columns:repeat(auto-fill,minmax(318px,1fr));max-width:768px;width:100%}@media all and (-ms-high-contrast: none){.dynamic-form .mat-expansion-panel-body{display:flex;flex-direction:column}}.dynamic-form .full-width{width:100%}.dynamic-form .mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}
`],encapsulation:2})}}class Oa{constructor(e,n){this.container=e,this.translateService=n,this.destroyed$=new m.Subject,this.formCreated=new t.EventEmitter,this.valueChanged=new t.EventEmitter}get formComponent(){return this.componentRef.instance}onConfigLoaded(e){for(const a of Object.keys(e)){const i=this.formComponent.form.get(a);i&&(this.getField(a).type===ce.LocalizableText&&(e[a]=new Nr.h(e[a])),i.setValue(e[a]),i.updateValueAndValidity())}const{validationConfig:n}=e;this.setAdditionalValidators(n,e)}setAdditionalValidators(e,n){e.maxColumnCaptionLength&&this.formComponent.addFieldValidation("caption",{message:Fi(this.translateService.instant("wrongCaptionLength"),[e.maxColumnCaptionLength]),name:"maxlength",validator:db.maxLength(this.translateService.currentLang,e.maxColumnCaptionLength)}),n.allowEmptyCaption||this.formComponent.addFieldValidation("caption",{message:this.translateService.instant("columnEmpty"),name:"required",validator:db.required(this.translateService.currentLang)}),e.maxColumnNameLength&&this.formComponent.addFieldValidation("name",{message:Fi(this.translateService.instant("wrongCaptionLength"),[e.maxColumnNameLength]),name:"maxlength",validator:O.Validators.maxLength(e.maxColumnNameLength)}),this.formComponent.addFieldValidation("name",{message:Fi(this.translateService.instant("wrongPrefix"),[e.schemaNamePrefix]),name:"prefix",validator:s9.prefixValidator(e.schemaNamePrefix,e.isInherited)}),this.formComponent.addFieldValidation("name",{message:Fi(this.translateService.instant("duplicateColumnName"),[]),name:"duplicate",validator:Wr.duplicate(e.schemaColumnsNames)})}ngOnInit(){this.componentRef=this.container.createComponent(Yh),this.componentRef.instance.fields=this.fields,this.componentRef.instance.updateOn="change",this.onConfigLoaded(this.model),this.formCreated.emit(this.formComponent),this.formComponent.form.valueChanges.pipe((0,h.takeUntil)(this.destroyed$)).subscribe(e=>{this.valueChanged.next(e)})}getField(e){return bn.findFieldByName(this.fields,e)}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||Oa)(t.\u0275\u0275directiveInject(t.ViewContainerRef),t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:Oa,selectors:[["","tsMetaItemPropertiesPage",""]],inputs:{fields:"fields",model:"model"},outputs:{formCreated:"formCreated",valueChanged:"valueChanged"}})}}class Gr{constructor(e){this.translateService=e,this.destroyed$=new m.Subject,this.valueChanged=new t.EventEmitter}setAllControlDisableState(){this.model.isDisabled&&this.formComponent.form.disable()}onFormCreated(e){this.formComponent=e,this.formComponent.form.valueChanges.pipe((0,h.takeUntil)(this.destroyed$)).subscribe(n=>{this.valueChanged.next(n)}),this.setAllControlDisableState()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}checkValidity(){const e=this.formComponent.form;return e.valid?!0:(e.updateValueAndValidity(),e.markAllAsTouched(),!1)}static{this.\u0275fac=function(n){return new(n||Gr)(t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Gr,selectors:[["ts-meta-item-properties-page"]],inputs:{model:"model",fields:"fields"},outputs:{valueChanged:"valueChanged"},decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"formCreated","model","fields"]],template:function(n,a){n&1&&(t.\u0275\u0275elementContainerStart(0,0),t.\u0275\u0275listener("formCreated",function(s){return a.onFormCreated(s)}),t.\u0275\u0275elementContainerEnd()),n&2&&t.\u0275\u0275property("model",a.model)("fields",a.fields)},dependencies:[Oa],encapsulation:2})}}class bc extends Gr{constructor(e,n){super(n),this.snackBar=e,this._subscriptions=new m.Subscription,this._messageDuration=1e4}_showChangeTypeMessage(){const e=this.formComponent.form.get("name"),n=Fi(this.translateService.instant("changeTypeMessage"),[e.value]),a=this.translateService.instant("undoButtonCaption");return this.snackBar.open(n,a,{duration:this._messageDuration,panelClass:"change-type-message"})}_showPageDateValueTypeMessage(){return this.snackBar.open(this.translateService.instant("pageDataValueTypeTypeMessage"),null,{duration:this._messageDuration,panelClass:"page-data-value-type-message"})}_setDataValueType(e){const n=this.formComponent.form.get("dataValueType");n.setValue(e),n.updateValueAndValidity({emitEvent:!1})}_onDataValueTypeValueChanges(e,n,a){if(this._needShowNotice(e,n,a))this._showChangeTypeMessage().afterDismissed().pipe((0,h.first)(),(0,h.filter)(s=>s.dismissedByAction)).subscribe(()=>{setTimeout(()=>this._setDataValueType(e),0)});else{this.snackBar.dismiss();const i=bn.findFieldByName(this.formComponent.fields,"dataValueType");this.fillAllowedDataValueType(n,i),this._changeDataValueTypeDependedProperties(n)}}_changeDataValueTypeDependedProperties(e){if(!C.P.Text.includes(e))return;const a=this.formComponent.form.get("defValue");let i=a?.value??{};(e===X.r.PHONE_TEXT||e===X.r.RICH_TEXT)&&(i={valueSourceType:lb.b.None,value:null,valueSource:null},a.setValue(i)),this._updateIsMultiLineControlSettings(i,e),this._updateIsMaskedControlSettings(i,e),this._updateIsFormatValidatedControlSettings(i,e),this._updateIsLocalizableTextControlSettings(i,e),this._updateIsValueCloneableControlSettings(i)}_updateIsMultiLineControlSettings(e,n){const a=this.formComponent.form.get("isMultiLineText");a&&([X.r.PHONE_TEXT,X.r.EMAIL_TEXT,X.r.WEB_TEXT].includes(n)?this._changeControlSettings(a,!1,!1):n===X.r.RICH_TEXT?this._changeControlSettings(a,!0,!1):e.valueSourceType===lb.b.Sequence?this._changeControlSettings(a,!1,!1):a.enable())}_updateIsMaskedControlSettings(e,n){const a=this.formComponent.form.get("isMasked");a&&(n===X.r.PHONE_TEXT?a.enable():n===X.r.RICH_TEXT?this._changeControlSettings(a,!1,!1):e.valueSourceType===lb.b.Sequence?this._changeControlSettings(a,!1,!1):this._changeControlSettings(a,!1,!1))}_updateIsFormatValidatedControlSettings(e,n){const a=this.formComponent.form.get("isFormatValidated");a&&(n===X.r.EMAIL_TEXT?a.enable():this._changeControlSettings(a,!1,!1))}_updateIsLocalizableTextControlSettings(e,n){const a=this.formComponent.form.get("isLocalizableText");a&&([X.r.PHONE_TEXT,X.r.EMAIL_TEXT,X.r.WEB_TEXT].includes(n)?this._changeControlSettings(a,!1,!1):n===X.r.RICH_TEXT?a.enable():e.valueSourceType===lb.b.Sequence?this._changeControlSettings(a,!1,!1):a.enable())}_updateIsValueCloneableControlSettings(e){const n=this.formComponent.form.get("isValueCloneable");n&&(e.valueSourceType===lb.b.Sequence?this._changeControlSettings(n,!1,!1):n.enable())}_updateDefaultValueDependedProperties(e){const a=this.formComponent.form.get("dataValueType").value;C.P.Text.includes(a)&&(this._updateIsMultiLineControlSettings(e,a),this._updateIsMaskedControlSettings(e,a),this._updateIsLocalizableTextControlSettings(e,a),this._updateIsValueCloneableControlSettings(e))}_changeControlSettings(e,n,a){e.setValue(n),a?e.enable():e.disable()}_needShowNotice(e,n,a){return a.checkTypeConversion&&a.dataValueType!==n&&sd.isPrecisionLost(e,n)}fillAllowedDataValueType(e,n){n.value=e,n.options=sd.getAllowedChangeTypes(e).map(a=>({name:this.translateService.instant(C.Q[a.type].translateKey),value:a.type})),n.options.unshift({name:this.translateService.instant(C.Q[e].translateKey),value:C.Q[e].type})}ngOnInit(){const e={name:"dataValueType",type:ce.Select,label:this.translateService.instant("columnFormat")};bn.addFieldToGroup(this.fields,En.General,e,2),this.fillAllowedDataValueType(this.model.dataValueType,e)}ngAfterViewInit(){this.model.needShowPageDataValueTypeMessage&&this._showPageDateValueTypeMessage()}onFormCreated(e){super.onFormCreated(e);const n=e.form.get("dataValueType"),a=this.model.initialDataValueType||this.model.dataValueType;this._subscriptions.add(n.valueChanges.subscribe(s=>this._onDataValueTypeValueChanges(a,s,this.model)));const i=e.form.get("defValue");i&&(this._updateDefaultValueDependedProperties(i.value),this._subscriptions.add(i.valueChanges.subscribe(s=>this._updateDefaultValueDependedProperties(s))))}ngOnDestroy(){super.ngOnDestroy(),this.snackBar.dismiss(),this._subscriptions.unsubscribe()}static{this.\u0275fac=function(n){return new(n||bc)(t.\u0275\u0275directiveInject(od.MatLegacySnackBar),t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:bc,selectors:[["ts-meta-item-with-data-value-type-properties-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"formCreated","model","fields"]],template:function(n,a){n&1&&(t.\u0275\u0275elementContainerStart(0,0),t.\u0275\u0275listener("formCreated",function(s){return a.onFormCreated(s)}),t.\u0275\u0275elementContainerEnd()),n&2&&t.\u0275\u0275property("model",a.model)("fields",a.fields)},dependencies:[Oa],encapsulation:2})}}class wu extends bc{ngOnInit(){super.ngOnInit();const e=bn.findFieldByName(this.fields,"dataValueType");e.label=this.translateService.instant("columnNumberFormat")}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(wu)))(a||wu)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:wu,selectors:[["ts-number-meta-item-properties-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"formCreated","model","fields"]],template:function(n,a){n&1&&(t.\u0275\u0275elementContainerStart(0,0),t.\u0275\u0275listener("formCreated",function(s){return a.onFormCreated(s)}),t.\u0275\u0275elementContainerEnd()),n&2&&t.\u0275\u0275property("model",a.model)("fields",a.fields)},dependencies:[Oa],encapsulation:2})}}class Eu extends bc{ngOnInit(){super.ngOnInit();const e=bn.findFieldByName(this.fields,"dataValueType");e.label=this.translateService.instant("columnTextFormat"),this.model.dataValueType!==X.r.PHONE_TEXT&&this.model.dataValueType!==X.r.WEB_TEXT&&this.model.dataValueType!==X.r.EMAIL_TEXT&&this.model.dataValueType!==X.r.RICH_TEXT&&bn.addFieldToGroup(this.fields,En.Appearance,{name:"isMultilineText",value:this.model.isMultilineText,type:ce.CheckBox,label:this.translateService.instant("isMultilineTextLabel")})}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Eu)))(a||Eu)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Eu,selectors:[["ts-text-meta-item-properties-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"formCreated","model","fields"]],template:function(n,a){n&1&&(t.\u0275\u0275elementContainerStart(0,0),t.\u0275\u0275listener("formCreated",function(s){return a.onFormCreated(s)}),t.\u0275\u0275elementContainerEnd()),n&2&&t.\u0275\u0275property("model",a.model)("fields",a.fields)},dependencies:[Oa],encapsulation:2})}}class Tu extends bc{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Tu)))(a||Tu)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Tu,selectors:[["ts-date-time-meta-item-properties-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"formCreated","model","fields"]],template:function(n,a){n&1&&(t.\u0275\u0275elementContainerStart(0,0),t.\u0275\u0275listener("formCreated",function(s){return a.onFormCreated(s)}),t.\u0275\u0275elementContainerEnd()),n&2&&t.\u0275\u0275property("model",a.model)("fields",a.fields)},dependencies:[Oa],encapsulation:2})}}class Pu extends Gr{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Pu)))(a||Pu)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Pu,selectors:[["ts-boolean-meta-item-properties-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"formCreated","model","fields"]],template:function(n,a){n&1&&(t.\u0275\u0275elementContainerStart(0,0),t.\u0275\u0275listener("formCreated",function(s){return a.onFormCreated(s)}),t.\u0275\u0275elementContainerEnd()),n&2&&t.\u0275\u0275property("model",a.model)("fields",a.fields)},dependencies:[Oa],encapsulation:2})}}class c9{static acceptableOptionsValidator(e){return n=>{const a=n.value;return(e instanceof Array?(0,m.of)(e):e).pipe((0,h.map)(i=>{if((0,y.isEmpty)(a))return!0;const s=typeof a=="string"?a.toLowerCase():a.name.toLowerCase();return i.some(b=>b?.name?.toLowerCase()===s||b?.value===a?.value)}),(0,h.first)(),(0,h.map)(i=>i?null:{acceptableOptions:{value:name}}))}}}class gb{static acceptableOptionsValidator(e){return n=>n.value&&n.value.isNewLookup?(0,m.of)(null):c9.acceptableOptionsValidator(e)(n)}}class Ou extends Gr{constructor(e,n){super(e),this.translateService=e,this.lookupService=n,this._isCascadeDisabled=!1,this.lookupControlValidations=[{name:"required",validator:O.Validators.required,message:this.translateService.instant("selectValueCaption")}]}setLookupControlDisabledState(){this.model.canChangeReferenceSchema||this.formComponent.form.get(this.lookupControlName).disable()}get referenceSchemaList(){return this.lookupService.getLookupList()}get lookupControlName(){return"lookup"}addDataSourceFieldsGroup(){bn.addField(this.fields,{name:En.DataSource,label:this.translateService.instant("dataSource"),type:ce.FieldsGroup,children:[]},1)}addLookupField(){const e=this.referenceSchemaList;bn.addFieldToGroup(this.fields,En.DataSource,{label:this.translateService.instant(this.lookupControlName),name:this.lookupControlName,type:ce.Lookup,value:this.model.referenceSchemaConfig?.uId?{value:this.model.referenceSchemaConfig.uId,name:this.model.referenceSchemaConfig.caption,allowEdit:this.model.referenceSchemaConfig.allowEdit}:null,options:e,isSupportCreatingMode:this.model.canCreateReferenceSchema,validationConfig:this.model.validationConfig,validations:this.lookupControlValidations,asyncValidations:[{name:"acceptableOptions",validator:gb.acceptableOptionsValidator(e),message:this.translateService.instant("selectValueCaption")},{name:"primaryDisplayColumn",validator:s9.lookupPrimaryDisplayColumn(this.lookupService),message:this.translateService.instant("lookupSchemaDoesNotHavePrimaryDisplayColumnMsg")}]})}addIsSimpleLookupField(){bn.addFieldToGroup(this.fields,En.DataSource,{type:ce.RadioButtonGroup,label:this.translateService.instant("lookupView"),name:"isSimpleLookup",value:this.model.isSimpleLookup,options:[{name:this.translateService.instant("selectionWindow"),value:!1},{name:this.translateService.instant("list"),value:!0}]})}get isCascadeDisabled(){return this._isCascadeDisabled}set isCascadeDisabled(e){this._isCascadeDisabled=e}addIsCascadeField(){const e=typeof this.model.isCascade=="boolean"?this.model.isCascade:!1;bn.addFieldToGroup(this.fields,En.DataSource,{type:ce.RadioButtonGroup,label:this.translateService.instant("lookupValueDeletion"),disabled:this.isCascadeDisabled,name:"isCascade",value:e,options:[{name:this.translateService.instant("blockDeletionCaption"),value:!1},{name:this.translateService.instant("DeleteRecordsCaption"),value:!0}]})}addFields(){this.addDataSourceFieldsGroup(),this.addLookupField(),this.addIsSimpleLookupField(),this.addIsCascadeField()}ngOnInit(){this.addFields()}onFormCreated(e){super.onFormCreated(e),this.setLookupControlDisabledState()}static{this.\u0275fac=function(n){return new(n||Ou)(t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(n0))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ou,selectors:[["ts-lookup-meta-item-properties-page"]],features:[t.\u0275\u0275ProvidersFeature([]),t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"formCreated","model","fields"]],template:function(n,a){n&1&&(t.\u0275\u0275elementContainerStart(0,0),t.\u0275\u0275listener("formCreated",function(s){return a.onFormCreated(s)}),t.\u0275\u0275elementContainerEnd()),n&2&&t.\u0275\u0275property("model",a.model)("fields",a.fields)},dependencies:[Oa],encapsulation:2})}}class Jh extends Ou{addFields(){this.addDataSourceFieldsGroup(),this.addLookupField(),this.addIsSimpleLookupField()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Jh)))(a||Jh)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Jh,selectors:[["ts-lookup-meta-item-parameter-properties-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"formCreated","model","fields"]],template:function(n,a){n&1&&(t.\u0275\u0275elementContainerStart(0,0),t.\u0275\u0275listener("formCreated",function(s){return a.onFormCreated(s)}),t.\u0275\u0275elementContainerEnd()),n&2&&t.\u0275\u0275property("model",a.model)("fields",a.fields)},dependencies:[Oa],encapsulation:2})}}class Xh extends Ou{get isCascadeDisabled(){return this.model.isReplacementColumn}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Xh)))(a||Xh)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Xh,selectors:[["ts-lookup-page-item-properties-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"formCreated","model","fields"]],template:function(n,a){n&1&&(t.\u0275\u0275elementContainerStart(0,0),t.\u0275\u0275listener("formCreated",function(s){return a.onFormCreated(s)}),t.\u0275\u0275elementContainerEnd()),n&2&&t.\u0275\u0275property("model",a.model)("fields",a.fields)},dependencies:[Oa],encapsulation:2})}}var wo;(function(r){r.processParameter="processParameter",r.entityColumn="entityColumn",r.controlGroup="controlGroup",r.tab="tab",r.detail="detail",r.button="button"})(wo||(wo={}));class qh extends Gr{addFields(){bn.addField(this.fields,{name:En.Appearance,label:this.translateService.instant("appearenceCaption"),type:ce.FieldsGroup,children:[{name:"color",label:this.translateService.instant("colorCaption"),type:ce.Select,options:this.model.colorsList,value:this.model.color,validations:[]}]}),bn.addField(this.fields,{name:En.Advanced,label:this.translateService.instant("advancedCaption"),type:ce.FieldsGroup,children:[{name:"performClosePage",label:this.translateService.instant("performClosePageCaption"),type:ce.CheckBox,value:this.model.performClosePage},{name:"performSaveData",label:this.translateService.instant("performSaveDataCaption"),type:ce.CheckBox,value:this.model.performSaveData},{name:"generateSignal",label:this.translateService.instant("generateSignalCaption"),type:ce.Input,value:this.model.generateSignal},{name:"active",label:this.translateService.instant("activeCaption"),type:ce.CheckBox,value:this.model.active}]})}ngOnInit(){this.addFields()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(qh)))(a||qh)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:qh,selectors:[["ts-button-properties-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"formCreated","model","fields"]],template:function(n,a){n&1&&(t.\u0275\u0275elementContainerStart(0,0),t.\u0275\u0275listener("formCreated",function(s){return a.onFormCreated(s)}),t.\u0275\u0275elementContainerEnd()),n&2&&t.\u0275\u0275property("model",a.model)("fields",a.fields)},dependencies:[Oa],encapsulation:2})}}var a0;(function(r){r.Detail="Detail"})(a0||(a0={}));class ld extends Mu{constructor(e,n){super(e,n),this.translateService=e,this.customEventService=n}save(e){this.customEventService.createOutboundChannel("Save").next(e)}cancel(){this.customEventService.createOutboundChannel("Cancel").next()}static{this.\u0275fac=function(n){return new(n||ld)(t.\u0275\u0275inject(f.TranslateService),t.\u0275\u0275inject(E.Dj))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ld,factory:ld.\u0275fac})}}class Cc extends ld{getDetailList(){return this.customEventService.getDataViaEvent("GetDetailList")}getMasterColumnList(e){return this.customEventService.getDataViaEvent("GetMasterColumnList",e)}getDetailColumnList(e){return this.customEventService.getDataViaEvent("GetDetailColumnList",e)}getEntitySchemaList(){return this.customEventService.getDataViaEvent("GetEntitySchemaList")}getCaption(e){return this.customEventService.getDataViaEvent("GetCaption",e)}setNewDetailObject(e){return this.customEventService.getDataViaEvent("SetNewDetailObject",e)}reInitializeDetail(){return this.customEventService.getDataStreamViaEvent("ReInitializeDetail")}editDetail(e){this.customEventService.createOutboundChannel("EditDetail").next(e)}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Cc)))(a||Cc)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Cc,factory:Cc.\u0275fac})}}class hb extends Gr{constructor(e,n){super(e),this.translateService=e,this.detailPropertiesService=n,this._defaultMasterColumnName="Id",this._masterColumns$=new m.ReplaySubject(1),this._detailColumns$=new m.ReplaySubject(1),this._details$=new m.ReplaySubject(1),this._unsubscribe$=new m.Subject,this._lookupControlValidations=[{name:"required",validator:O.Validators.required,message:this.translateService.instant("selectValueCaption")}]}get detailList(){return this.detailPropertiesService.getDetailList()}_getDetailColumnList(e){return this.detailPropertiesService.getDetailColumnList(e)}_getCaption(e){return this.detailPropertiesService.getCaption(e)}_setCaption(e){const n=this.formComponent.form.get("caption"),a=new Nr.h(e);n.setValue(a)}_generateUniqueName(e){const n=(0,de.qv)().toString();return e+n.substring(0,8)}_setName(e){const n=this.formComponent.form.get("name");let a;e&&(a=this._generateUniqueName(e)),n.setValue(a)}_setFieldValidations(){const n=bn.findFieldByName(this.fields,"name").validations.filter(a=>a.name!=="prefix").filter(a=>a.name!=="maxlength");this.formComponent.setFieldValidations("name",n)}_addFieldToGroup(){const e=this.model.detailConfig,n=this.model.detailColumnConfig;bn.addFieldToGroup(this.fields,En.General,{name:"detail",value:e&&e.value?{value:e.value,name:e.name}:null,type:a0.Detail,options:this._details$,label:this.translateService.instant("detailCaption"),disabled:e?!e.canEdit:!1,validations:this._lookupControlValidations,validationConfig:this.model.validationConfig,isSupportCreatingMode:this.model.canEdit??!0,model:this.model,asyncValidations:[{name:"acceptableOptions",validator:gb.acceptableOptionsValidator(this.detailList),message:this.translateService.instant("selectValueCaption")}]},0);const a=this.model.masterColumnConfig;bn.addField(this.fields,{name:En.DataSource,label:this.translateService.instant("dataSource"),type:ce.FieldsGroup,children:[{name:"detailColumn",value:n?.value?{value:this.model.detailColumnConfig.value,name:this.model.detailColumnConfig.name}:null,type:ce.Lookup,options:this._detailColumns$,label:this.translateService.instant("detailColumnCaption"),disabled:n?!n.canEdit:!1,validations:this._lookupControlValidations,asyncValidations:[{name:"acceptableOptions",validator:gb.acceptableOptionsValidator(this._detailColumns$),message:this.translateService.instant("selectValueCaption")}]},{name:"masterColumn",value:a?.value?{value:a.value,name:a.name}:null,type:ce.Lookup,options:this._masterColumns$,label:this.translateService.instant("masterColumnCaption"),disabled:a?!a.canEdit:!1,validations:this._lookupControlValidations,asyncValidations:[{name:"acceptableOptions",validator:gb.acceptableOptionsValidator(this._masterColumns$),message:this.translateService.instant("selectValueCaption")}]}]})}_clearControlValues(){this._setCaption(),this._setName();const e=this.formComponent.form.get("detailColumn");this._detailColumns$.next([]),e.setValue("")}_setDetailColumnList(e){var n=this;return(0,bt.A)(function*(){const a=yield(0,m.lastValueFrom)(n._getDetailColumnList(e),{defaultValue:null});n._detailColumns$.next(a)})()}_setDetailList(){var e=this;return(0,bt.A)(function*(){const n=yield(0,m.lastValueFrom)(e.detailList,{defaultValue:null});e._details$.next(n)})()}_setMasterColumnList(e){this.detailPropertiesService.getMasterColumnList(e).subscribe(n=>{this._masterColumns$.next(n)})}_isMasterColumnCompatibleToDetailColumn(e,n){const a=n?.value,i=e.value;return a&&i.dataValueType===X.r.Lookup&&a.dataValueType===X.r.Lookup&&i.referenceSchemaUId!==a.referenceSchemaUId}_isMasterEntityCompatibleToDetailColumn(e){return e.value.dataValueType===X.r.Lookup&&this.model.connectByLookup?.value===e.value.referenceSchemaUId}_updateDetailColumnValue(){const e=this.formComponent.form.get("detailColumn");this._detailColumns$.pipe((0,h.take)(1)).subscribe(n=>{const a=e.value;if(!a||!n.some(s=>s.value.name===a.value.name)){const s=n.filter(D=>this._isMasterEntityCompatibleToDetailColumn(D)),b=s.length===1?s[0]:"";e.setValue(b)}})}_setDefaultMasterColumnValue(){const e=this.formComponent.form.get("masterColumn");this._masterColumns$.pipe((0,h.take)(1)).subscribe(n=>{const a=n.find(i=>i?.value.name===this._defaultMasterColumnName);a&&e.setValue(a)})}_subscribeOnDetailValueChange(){var e=this;const n=this.formComponent.form.get("detail");n.valueChanges.pipe((0,h.takeUntil)(this._unsubscribe$)).subscribe(function(){var a=(0,bt.A)(function*(i){const s=i&&i.value;if(s&&s.entitySchemaUId){if(yield e._setDetailColumnList(s.entitySchemaUId),n.dirty){const b=yield(0,m.lastValueFrom)(e._getCaption(s.detailSchemaUId),{defaultValue:null});e._setCaption(b),e._setName(s.detailSchemaName)}e.formComponent.form.dirty&&e._setDefaultMasterColumnValue(),e._updateDetailColumnValue()}else e._clearControlValues()});return function(i){return a.apply(this,arguments)}}())}_subscribeOnDetailColumnValueChange(){const e=this.formComponent.form.get("detailColumn"),n=this.formComponent.form.get("masterColumn");e.valueChanges.pipe((0,h.takeUntil)(this._unsubscribe$)).subscribe(a=>{const i=n?.value;this._setMasterColumnList(a),a?.value&&this._isMasterColumnCompatibleToDetailColumn(a,i)&&n.setValue("")})}_editDetail(){if(this.checkValidity()){const e=Object.assign({},this.model,this.formComponent.form.getRawValue());this.detailPropertiesService.editDetail(e)}}_reInitializeDetail(){var e=this;return(0,bt.A)(function*(){const a=e.formComponent.form.getRawValue().detail?.value,i=a?.entitySchemaUId;if(i){yield e._setDetailList();const s=yield(0,m.lastValueFrom)(e._getCaption(a.detailSchemaUId),{defaultValue:null});e._setCaption(s),yield e._setDetailColumnList(i)}})()}ngOnInit(){this._addFieldToGroup(),this._setDetailList(),this._setMasterColumnList()}ngAfterViewInit(){this.formComponent.findControlComponent("detail").editDetail$.pipe((0,h.takeUntil)(this._unsubscribe$)).subscribe(()=>{this._editDetail()}),this.detailPropertiesService.reInitializeDetail().pipe((0,h.takeUntil)(this._unsubscribe$)).subscribe(()=>{this._reInitializeDetail()})}onFormCreated(e){super.onFormCreated(e),this._setFieldValidations(),this._subscribeOnDetailValueChange(),this._subscribeOnDetailColumnValueChange()}ngOnDestroy(){super.ngOnDestroy(),this._unsubscribe$.next(),this._unsubscribe$.complete()}static{this.\u0275fac=function(n){return new(n||hb)(t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(Cc))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:hb,selectors:[["ts-detail-properties-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"formCreated","model","fields"]],template:function(n,a){n&1&&(t.\u0275\u0275elementContainerStart(0,0),t.\u0275\u0275listener("formCreated",function(s){return a.onFormCreated(s)}),t.\u0275\u0275elementContainerEnd()),n&2&&t.\u0275\u0275property("model",a.model)("fields",a.fields)},dependencies:[Oa],encapsulation:2})}}class yc extends ld{constructor(e,n){super(e,n),this.translateService=e,this.customEventService=n}getFields(e){const n=super.getFields(e);return bn.addField(n,{name:En.Editability,label:this.translateService.instant("editabilityCaption"),type:ce.FieldsGroup,children:[{name:"readOnly",type:ce.CheckBox,label:this.translateService.instant("readOnlyLabel")}]}),bn.addField(n,{name:En.Appearance,label:this.translateService.instant("appearenceCaption"),type:ce.FieldsGroup,children:[{name:"hideCaption",type:ce.CheckBox,label:this.translateService.instant("hideCaptionLabel")}]}),e.showTooltipField&&bn.addFieldToGroup(n,En.Appearance,{name:"tip",type:ce.LocalizableText,label:this.translateService.instant("tooltipLabel")}),e.supportIsRequiredOnPage&&e.dataValueType!==X.r.Boolean&&bn.addFieldToGroup(n,En.Appearance,{name:"isRequiredOnPage",type:ce.CheckBox,label:this.translateService.instant("isRequiredOnPageLabel")}),n}getModel(){return super.getModel().pipe((0,h.map)(e=>({...e,checkTypeConversion:e.itemType===wo.entityColumn&&!e.isNew,canChangeReferenceSchema:e.isNew,canCreateReferenceSchema:e.isNew})))}static{this.\u0275fac=function(n){return new(n||yc)(t.\u0275\u0275inject(f.TranslateService),t.\u0275\u0275inject(E.Dj))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:yc,factory:yc.\u0275fac})}}const fB=["metaItemPropertiesPageContainer"];class Du{constructor(e){this.pageItemPropertiesService=e}_addIsRequiredFieldListener(){const{form:e}=this.metaItemPropertiesPage.formComponent,n=e.get("isRequired"),a=e.get("isRequiredOnPage");!a||!n||n.valueChanges.subscribe(i=>{i?a.disable():a.enable()})}_setFormFieldsDisabledState(e){const{form:n}=this.metaItemPropertiesPage.formComponent,a=n.get("name"),i=n.get("isRequiredOnPage");e.disableNameEditing&&a.disable(),i&&e.isRequired&&i.disable()}onSaveButtonClick(){if(this.metaItemPropertiesPage.checkValidity()){const{form:e}=this.metaItemPropertiesPage.formComponent;this.pageItemPropertiesService.save(Object.assign({},this.metaItemPropertiesPage.model,e.getRawValue()))}}onCancelButtonClick(){this.pageItemPropertiesService.cancel()}ngAfterViewInit(){this.pageItemPropertiesService.getModel().subscribe(e=>{let n,a;switch(!0){case C.P.Number.includes(e.dataValueType):n=wu,a="number";break;case C.P.Text.includes(e.dataValueType):n=Eu,a="text";break;case C.P.DateTime.includes(e.dataValueType):n=Tu,a="date-time";break;case e.dataValueType===X.r.Boolean:n=Pu,a="boolean";break;case(e.dataValueType===X.r.Lookup&&this.itemType===wo.processParameter):n=Jh,a="lookup";break;case e.dataValueType===X.r.Lookup:n=Xh,a="lookup";break;case e.itemType===wo.controlGroup:n=Gr,a="control-group";break;case e.itemType===wo.tab:n=Gr,a="tab";break;case e.itemType===wo.detail:n=hb,a="detail";break;case e.itemType===wo.button:n=qh,a="button";break;default:console.error("Unsupported data value type.");break}this.className=a+"-page-item-properties-page";const i=this.metaItemPropertiesPageContainer.createComponent(n);this.metaItemPropertiesPage=i.instance,this.metaItemPropertiesPage.fields=this.pageItemPropertiesService.getFields(e),this.metaItemPropertiesPage.model=e,i.changeDetectorRef.detectChanges(),this._addIsRequiredFieldListener(),this._setFormFieldsDisabledState(e)})}static{this.\u0275fac=function(n){return new(n||Du)(t.\u0275\u0275directiveInject(yc))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Du,selectors:[["ts-page-item-properties-page"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(fB,5,t.ViewContainerRef),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.metaItemPropertiesPageContainer=i.first)}},decls:15,vars:11,consts:[["metaItemPropertiesPageContainer",""],[1,"page-item-properties-page"],[1,"page-item-properties-page-header"],[1,"page-item-properties-page-title"],[1,"page-item-properties-page-buttons"],[1,"page-item-properties-page-button","save-button",3,"click"],[1,"page-item-properties-page-button","cancel-button",3,"click"],[1,"properties-page-general-section"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"div",3),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"div",4)(6,"div",5),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onSaveButtonClick())}),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",6),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onCancelButtonClick())}),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(12,"div",7),t.\u0275\u0275elementContainer(13,null,0),t.\u0275\u0275elementEnd()()}n&2&&(t.\u0275\u0275classMap(a.className),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,5,"caption")),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,7,"saveButton")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(11,9,"cancelButton")))},dependencies:[f.TranslatePipe],styles:[`.cdk-overlay-container{z-index:1500}.cdk-overlay-container .mat-select-panel{border-radius:2px;box-shadow:0 0 2px #0000001f,0 2px 4px #0000003d;min-width:100%!important;margin:28px 0 0 16px;background-color:#fff}.page-item-properties-page{display:flex;align-items:flex-start;flex-direction:column;padding:0 24px;width:540px}.page-item-properties-page>*{width:100%}.page-item-properties-page .dynamic-form>div:last-child .mat-expansion-panel{margin-bottom:0}.page-item-properties-page.detail-form-properties-page{width:430px;padding:0}.page-item-properties-page.detail-form-properties-page .properties-page-general-section{margin-top:initial;max-height:513px;padding-right:10px}.page-item-properties-page.control-group-page-item-properties-page .mat-accordion>.mat-expansion-panel .mat-expansion-panel-header,.page-item-properties-page.tab-page-item-properties-page .mat-accordion>.mat-expansion-panel .mat-expansion-panel-header,.page-item-properties-page.detail-page-item-properties-page .mat-accordion>.mat-expansion-panel .mat-expansion-panel-header,.page-item-properties-page.detail-form-properties-page .mat-accordion>.mat-expansion-panel .mat-expansion-panel-header{padding-bottom:18px}.page-item-properties-page .mat-accordion>.mat-expansion-panel,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel{box-shadow:none;border-radius:0}.page-item-properties-page .mat-accordion>.mat-expansion-panel.mat-expansion-panel-spacing,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel.mat-expansion-panel-spacing{margin-bottom:16px}.page-item-properties-page .mat-accordion>.mat-expansion-panel .mat-expansion-panel-header,.page-item-properties-page .mat-accordion>.mat-expansion-panel .mat-expansion-panel-body,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .mat-expansion-panel-header,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .mat-expansion-panel-body{padding:0}.page-item-properties-page .mat-accordion>.mat-expansion-panel .mat-expansion-panel-header,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .mat-expansion-panel-header{height:48px!important}.page-item-properties-page .mat-accordion>.mat-expansion-panel .mat-expansion-panel-header:hover,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .mat-expansion-panel-header:hover{background:transparent}.page-item-properties-page .mat-accordion>.mat-expansion-panel .mat-expansion-panel-header-title,.page-item-properties-page .mat-accordion>.mat-expansion-panel .mat-expansion-indicator:after,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .mat-expansion-panel-header-title,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .mat-expansion-indicator:after{color:#006ce0}.page-item-properties-page .mat-accordion>.mat-expansion-panel .mat-expansion-indicator,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .mat-expansion-indicator{margin-right:2px}.page-item-properties-page .mat-accordion>.mat-expansion-panel .mat-expansion-indicator:after,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .mat-expansion-indicator:after{border-width:0 1px 1px 0;padding:3.7px}.page-item-properties-page .mat-accordion>.mat-expansion-panel .expansion-panel-icon,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .expansion-panel-icon{display:inline-block;width:24px;height:24px;background-size:24px;margin:-1px 8px 0 -4px}.page-item-properties-page .mat-accordion>.mat-expansion-panel .expansion-panel-icon-general,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .expansion-panel-icon-general{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PGRlZnM+PHN0eWxlPi5hLC5je2ZpbGw6bm9uZTt9LmJ7Y2xpcC1wYXRoOnVybCgjYSk7fS5je3N0cm9rZTojNTQ2NTdkO3N0cm9rZS1taXRlcmxpbWl0OjEwO30uZHtmaWxsOiM1NDY1N2Q7fTwvc3R5bGU+PGNsaXBQYXRoIGlkPSJhIj48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+PC9jbGlwUGF0aD48L2RlZnM+PGcgY2xhc3M9ImIiPjxyZWN0IGNsYXNzPSJhIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiLz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4LjUgNi41KSI+PHBhdGggY2xhc3M9ImMiIGQ9Ik01LDQuNWg2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNSAtMC41KSIvPjxwYXRoIGNsYXNzPSJjIiBkPSJNNSw0LjVoNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTUgLTMuNSkiLz48cGF0aCBjbGFzcz0iYyIgZD0iTTUsNC41aDYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01IC00LjUpIi8+PHBhdGggY2xhc3M9ImMiIGQ9Ik01LDQuNzM0SDciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zIC0yLjczNCkiLz48cGF0aCBjbGFzcz0iYyIgZD0iTTUsNi41SDkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01IC0wLjUpIi8+PHBhdGggY2xhc3M9ImMiIGQ9Ik01LDguNWg2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNSAtMC41KSIvPjxwYXRoIGNsYXNzPSJjIiBkPSJNNSwxMC41aDUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC01IC0wLjUpIi8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYgNSkiPjxwYXRoIGNsYXNzPSJkIiBkPSJNMTMuNSwyVjE1SDMuNVYyaDEwbTEtMUgyLjVWMTZoMTJWMVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yLjUgLTEpIi8+PC9nPjwvZz48L3N2Zz4=)}.page-item-properties-page .mat-accordion>.mat-expansion-panel .expansion-panel-icon-editability,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .expansion-panel-icon-editability{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojNTQ2NTdkO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTYuMDA4LTE2LjksNi44LTcuNzExbC4xMTcuOTg0QTIuNDI5LDIuNDI5LDAsMCwxLDUuOTA2LTQuNzExcS4yMTEuMjM0LjM0LjM2M3QuMzYzLjM0YTMuMTQ3LDMuMTQ3LDAsMCwxLDEuMTYtLjc4NSwzLjE2MSwzLjE2MSwwLDAsMSwxLjAyLS4yLDMuMDI1LDMuMDI1LDAsMCwxLC42LjA0N2wuMjIzLjA0Nyw5LjI4MS05LjA5NFptMCwxLjQwNiwxLjUsMS41TDE2LjEtMTIuNjA5LDE0LjctMTMuOTkyWk05LjQtNS45MDZIOXEtLjIzNCwwLS41MTYuMDIzQTEuNSwxLjUsMCwwLDAsNy45LTUuN2E3LjM3OCw3LjM3OCwwLDAsMCwuMDctLjkzNyw0LjE4OSw0LjE4OSwwLDAsMC0uMDctLjc3M2w2LTZMMTUuMy0xMloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMjEuOTk5KSIvPjxyZWN0IGNsYXNzPSJiIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiLz48L3N2Zz4=)}.page-item-properties-page .mat-accordion>.mat-expansion-panel .expansion-panel-icon-appearance,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .expansion-panel-icon-appearance{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojNTQ2NTdkO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTEuNi01LjM5MWgtLjIxMWE3LjU3LDcuNTcsMCwwLDEtMi4xNTYtLjNBNy4yMzMsNy4yMzMsMCwwLDEsNy4zLTYuNTM5LDcuNzI5LDcuNzI5LDAsMCwxLDUuNjcyLTcuOSw3LjgsNy44LDAsMCwxLDQuNDA2LTkuN2wtLjExNy0uMTg3LjExNy0uMjExYTcuNTIzLDcuNTIzLDAsMCwxLDEuMjY2LTEuNzU4LDguMTI3LDguMTI3LDAsMCwxLDEuNjY0LTEuMzU5LDguMDQ1LDguMDQ1LDAsMCwxLDEuOTQ1LS44NjcsNy40MDYsNy40MDYsMCwwLDEsMi4xMDktLjNoMGE3LjgxNCw3LjgxNCwwLDAsMSwyLjE4LjMsNy45NDQsNy45NDQsMCwwLDEsMS45NjkuODY3LDcuNiw3LjYsMCwwLDEsMS42NDEsMS4zNTlBNy4zNTIsNy4zNTIsMCwwLDEsMTguNC0xMC4xbC4wOTQuMjExTDE4LjQtOS43YTYuOTM5LDYuOTM5LDAsMCwxLTEuMSwxLjc4MUE3LjcsNy43LDAsMCwxLDE1LjctNi41ODZhOC4yODgsOC4yODgsMCwwLDEtMS45MjIuODkxQTcuODE0LDcuODE0LDAsMCwxLDExLjYtNS4zOTFabTAtMS4wMDhoMGE2Ljg1NCw2Ljg1NCwwLDAsMCwzLjUyNy0uOTI2QTYuNTEzLDYuNTEzLDAsMCwwLDE3LjYtOS44OTFhNi42LDYuNiwwLDAsMC0xLjEtMS40NTMsNy4wNiw3LjA2LDAsMCwwLTEuNDA2LTEuMDksNy4xODEsNy4xODEsMCwwLDAtMS42NjQtLjcxNSw2LjU0Miw2LjU0MiwwLDAsMC0xLjgyOC0uMjU4LDYuOTEyLDYuOTEyLDAsMCwwLTMuNDkyLjkyNkE2LjQsNi40LDAsMCwwLDUuNi05Ljg5MSw1LjczMyw1LjczMywwLDAsMCw4LjA3NC03LjM1OSw3Ljk2OCw3Ljk2OCwwLDAsMCwxMS42LTYuNFptMC03LjAwOGEzLjI0NywzLjI0NywwLDAsMC0xLjE4NC4yMjMsMi43ODMsMi43ODMsMCwwLDAtMS4wMi42OTFoLjIxMWExLjA3OCwxLjA3OCwwLDAsMSwuNzczLjMxNiwxLjA0NywxLjA0NywwLDAsMSwuMzI4Ljc4NSwxLjA1OCwxLjA1OCwwLDAsMS0uMzI4Ljc3MywxLjA1OCwxLjA1OCwwLDAsMS0uNzczLjMyOCwxLjIxNCwxLjIxNCwwLDAsMS0uNTg2LS4xNTJBLjk2Mi45NjIsMCwwLDEsOC42LTEwLjl2LjQ5MmEyLjk3NiwyLjk3NiwwLDAsMCwuODQ0LDIuMSwyLjcxNiwyLjcxNiwwLDAsMCwyLjA2My45SDExLjZhMi45NzYsMi45NzYsMCwwLDAsMi4xLS44NDQsMi42OSwyLjY5LDAsMCwwLC45LTIuMDM5di0uMTE3YTIuOTU1LDIuOTU1LDAsMCwwLS44NTUtMi4xLDIuNzI3LDIuNzI3LDAsMCwwLTIuMDUxLS45SDExLjZaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxIDIyKSIvPjxyZWN0IGNsYXNzPSJiIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiLz48L3N2Zz4=)}.page-item-properties-page .mat-accordion>.mat-expansion-panel .expansion-panel-icon-advanced,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .expansion-panel-icon-advanced{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojNTQ2NTdkO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGNsYXNzPSJhIiBkPSJNMTIuNDkyLTEuOTkyaC0uOTg0YTEuMzkzLDEuMzkzLDAsMCwxLTEuMDktLjQ1NywxLjUxOCwxLjUxOCwwLDAsMS0uNDEtMS4wNDN2LS44YS45NTIuOTUyLDAsMCwwLS4yOTMtLjExN0EuNTIuNTIsMCwwLDEsOS40OTItNC41bC0uNTg2LjQ5MmExLjQ1OSwxLjQ1OSwwLDAsMS0xLjEuNDY5LDEuNDU5LDEuNDU5LDAsMCwxLTEuMS0uNDY5bC0uNy0uN2ExLjQ2MiwxLjQ2MiwwLDAsMS0uMzYzLS41LDEuNDE5LDEuNDE5LDAsMCwxLS4xMjktLjU3NCwxLjQ3MSwxLjQ3MSwwLDAsMSwuMTI5LS42QTEuNDYyLDEuNDYyLDAsMCwxLDYtNi44OTFMNi42MDktNy41cS0uMDk0LS4xNDEtLjE1Mi0uMjQ2QS41LjUsMCwwLDEsNi40LTcuOTkySDUuNTA4YTEuNDUxLDEuNDUxLDAsMCwxLTEuMDktLjQyMiwxLjQ4MywxLjQ4MywwLDAsMS0uNDEtMS4wNzhWLTEwLjVhMS40NzMsMS40NzMsMCwwLDEsLjQxLTEuMDlBMS40NzMsMS40NzMsMCwwLDEsNS41MDgtMTJoLjhhLjk5My45OTMsMCwwLDAsLjA5NC0uMjgxLjM3OS4zNzksMCwwLDEsLjA5NC0uMjExTDYtMTMuMWExLjc3MSwxLjc3MSwwLDAsMS0uMzYzLS41MTYsMS4zOTEsMS4zOTEsMCwwLDEtLjEyOS0uNTg2LDEuMzkxLDEuMzkxLDAsMCwxLC4xMjktLjU4NkExLjc3MSwxLjc3MSwwLDAsMSw2LTE1LjNsLjctLjdhMS41LDEuNSwwLDAsMSwxLjEtLjQ0NSwxLjUsMS41LDAsMCwxLDEuMS40NDVsLjU4Ni42MDlhLjQ1OS40NTksMCwwLDEsLjIyMy0uMTg3cS4xMjktLjA0Ny4yOTMtLjExN3YtLjhhMS40NzMsMS40NzMsMCwwLDEsLjQxLTEuMDksMS40NzMsMS40NzMsMCwwLDEsMS4wOS0uNDFoLjk4NGExLjQ3MywxLjQ3MywwLDAsMSwxLjA5LjQxLDEuNDczLDEuNDczLDAsMCwxLC40MSwxLjA5di44YTEuMzksMS4zOSwwLDAsMCwuMjkzLjA5NC40MTMuNDEzLDAsMCwxLC4yMjMuMTE3bC41ODYtLjUxNmExLjUsMS41LDAsMCwxLDEuMS0uNDQ1LDEuNSwxLjUsMCwwLDEsMS4xLjQ0NWwuNy43YTEuNSwxLjUsMCwwLDEsLjQ0NSwxLjFBMS41LDEuNSwwLDAsMSwxOC0xMy4xbC0uNjA5LjYwOXEuMDk0LjE0MS4xNTIuMjQ2QS41LjUsMCwwLDEsMTcuNi0xMmguOGExLjQxMSwxLjQxMSwwLDAsMSwxLjA5LjQ0NUExLjUsMS41LDAsMCwxLDE5LjktMTAuNXYxLjAwOGExLjQyLDEuNDIsMCwwLDEtLjQ0NSwxLjA3OCwxLjQ4MiwxLjQ4MiwwLDAsMS0xLjA1NS40MjJoLS44YS45OTMuOTkzLDAsMCwwLS4wOTQuMjgxLjMxNi4zMTYsMCwwLDEtLjExNy4yMTFMMTgtNi44OTFhMS40ODIsMS40ODIsMCwwLDEsLjQ0NSwxLjA5QTEuNDgyLDEuNDgyLDAsMCwxLDE4LTQuNzExbC0uNy43YTEuNDU5LDEuNDU5LDAsMCwxLTEuMS40NjksMS40NTksMS40NTksMCwwLDEtMS4xLS40NjlsLS41ODYtLjU4NmExLjk1NywxLjk1NywwLDAsMC0uMjU4LjEyOS40ODUuNDg1LDAsMCwxLS4yNTguMDU5di44YTEuNjUyLDEuNjUyLDAsMCwxLS40MSwxLjE4NEExLjQzLDEuNDMsMCwwLDEsMTIuNDkyLTEuOTkyWk05LjIxMS01LjkwNmwuNC4yMTFhMi4wMDgsMi4wMDgsMCwwLDAsLjUuMjM0cS4yOTMuMDk0LjYuMTY0bC40LjA5NHYxLjU5NGEuNTc5LjU3OSwwLDAsMCwuMTI5LjM0LjQyNC40MjQsMCwwLDAsLjM2My4xNzZoMS4wMDhhLjUzMS41MzEsMCwwLDAsLjMxNi0uMTQxLjQ1Ni40NTYsMCwwLDAsLjE3Ni0uMzc1Vi01LjJsLjQtLjA5NGEyLjI5MywyLjI5MywwLDAsMCwuNTUxLS4yLDIuMjkzLDIuMjkzLDAsMCwxLC41NTEtLjJsLjQtLjIxMSwxLjEsMS4yYS40MjIuNDIyLDAsMCwwLC4zMjguMTY0LjMuMywwLDAsMCwuMjgxLS4xNjRsLjY4LS42OGEuNDkzLjQ5MywwLDAsMCwuMTY0LS4zNTJBLjI1Ny4yNTcsMCwwLDAsMTcuMzkxLTZMMTYuMi03LjFsLjIxMS0uNGEyLjU5MSwyLjU5MSwwLDAsMCwuMjM0LS41MTZxLjA5NC0uMjgxLjE2NC0uNTg2TDE2LjktOWgxLjU5NGEuNTUxLjU1MSwwLDAsMCwuMzQtLjE0MS40MzMuNDMzLDAsMCwwLC4xNzYtLjM1MlYtMTAuNWEuNTMxLjUzMSwwLDAsMC0uMTQxLS4zMTYuNDU2LjQ1NiwwLDAsMC0uMzc1LS4xNzZIMTYuOWwtLjA5NC0uNGEyLjUyLDIuNTIsMCwwLDAtLjItLjU2MiwyLjYyNiwyLjYyNiwwLDAsMS0uMi0uNTM5bC0uMjExLS40LDEuMi0xLjIxOWEuNDIyLjQyMiwwLDAsMCwuMTY0LS4zMjguMjU3LjI1NywwLDAsMC0uMTY0LS4yNThsLS42OC0uN2EuNTMxLjUzMSwwLDAsMC0uMzUyLS4xNDEuMjYyLjI2MiwwLDAsMC0uMjU4LjE0MUwxNS0xNC4ybC0uNC0uMTg3YTEuNzQ0LDEuNzQ0LDAsMCwwLS41MTYtLjI0NnEtLjI4MS0uMDgyLS41ODYtLjE1MmwtLjQ5Mi0uMTE3Vi0xNi41YS40ODUuNDg1LDAsMCwwLS4xNzYtLjMxNi41LjUsMCwwLDAtLjM0LS4xNzZoLS45ODRhLjUuNSwwLDAsMC0uMzQuMTc2LjQ4NS40ODUsMCwwLDAtLjE3Ni4zMTZ2MS41OTRsLS40LjExN2EyLjY4LDIuNjgsMCwwLDAtLjU1MS4xODgsNC4wNTgsNC4wNTgsMCwwLDEtLjU1MS4yMTFsLS4yODEuMjgxLTEuMS0xLjJhLjUzMS41MzEsMCwwLDAtLjM1Mi0uMTQxQS4yNjIuMjYyLDAsMCwwLDcuNS0xNS4zbC0uOC43YS40MjIuNDIyLDAsMCwwLS4xNjQuMzI4LjMuMywwLDAsMCwuMTY0LjI4MWwxLjIsMS4xLS4xODcuNDkyYTEuNzQ0LDEuNzQ0LDAsMCwwLS4yNDYuNTE2cS0uMDgyLjI4MS0uMTc2LjU4NmwtLjE4Ny4zSDUuNTA4YS41LjUsMCwwLDAtLjM0LjE3Ni40ODUuNDg1LDAsMCwwLS4xNzYuMzE2djEuMDA4YS40ODUuNDg1LDAsMCwwLC4xNzYuMzE2QS41LjUsMCwwLDAsNS41MDgtOUg3LjFsLjA5NC40YTIuMjkzLDIuMjkzLDAsMCwwLC4yLjU1MSwyLjI5MywyLjI5MywwLDAsMSwuMi41NTFsLjIxMS40TDYuNjA5LTZhLjIzOS4yMzksMCwwLDAtLjEwNS4xNTIsMS4wODIsMS4wODIsMCwwLDAtLjAxMi4xNTIuODU0Ljg1NCwwLDAsMCwuMDEyLjE0MS4zMzYuMzM2LDAsMCwwLC4xMDUuMTY0bC42OC42OGEuNDkzLjQ5MywwLDAsMCwuMzUyLjE2NEEuMjU3LjI1NywwLDAsMCw3LjktNC43MTFaTTEyLTcuMDA4QTIuODYsMi44NiwwLDAsMSw5Ljg2Ny03LjksMi45MjIsMi45MjIsMCwwLDEsOS0xMC4wMDhhMi44NzcsMi44NzcsMCwwLDEsLjktMi4xLDIuODc3LDIuODc3LDAsMCwxLDIuMS0uOSwyLjg3NywyLjg3NywwLDAsMSwyLjEuOSwyLjg3NywyLjg3NywwLDAsMSwuOSwyLjFBMi45MjIsMi45MjIsMCwwLDEsMTQuMTMzLTcuOSwyLjg2LDIuODYsMCwwLDEsMTItNy4wMDhaTTEyLTEyYTEuOTE4LDEuOTE4LDAsMCwwLTEuNDA2LjU4NiwxLjkxOCwxLjkxOCwwLDAsMC0uNTg2LDEuNDA2LDEuOTQ1LDEuOTQ1LDAsMCwwLC41ODYsMS40M0ExLjkxOCwxLjkxOCwwLDAsMCwxMi03Ljk5MmExLjkxOCwxLjkxOCwwLDAsMCwxLjQwNi0uNTg2LDEuOTQ1LDEuOTQ1LDAsMCwwLC41ODYtMS40MywxLjkxOCwxLjkxOCwwLDAsMC0uNTg2LTEuNDA2QTEuOTE4LDEuOTE4LDAsMCwwLDEyLTEyWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyMikiLz48cmVjdCBjbGFzcz0iYiIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+PC9zdmc+)}.page-item-properties-page .mat-accordion>.mat-expansion-panel .expansion-panel-icon-datasource,.lookup-detail-dialog .mat-accordion>.mat-expansion-panel .expansion-panel-icon-datasource{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48ZGVmcz48c3R5bGU+LmEsLmN7ZmlsbDpub25lO30uYntmaWxsOnJnYmEoMCwwLDAsMCk7fS5iLC5je3N0cm9rZTojNTQ2NTdkO3N0cm9rZS1taXRlcmxpbWl0OjEwO308L3N0eWxlPjwvZGVmcz48cmVjdCBjbGFzcz0iYSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ii8+PGVsbGlwc2UgY2xhc3M9ImIiIGN4PSI1LjUiIGN5PSIxLjUiIHJ4PSI1LjUiIHJ5PSIxLjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYuNSA1KSIvPjxwYXRoIGNsYXNzPSJjIiBkPSJNMi41LDJWMTRjMCwuODMsMi40NiwxLjUsNS41LDEuNXM1LjUtLjY3LDUuNS0xLjVWMiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNCA0LjUpIi8+PHBhdGggY2xhc3M9ImMiIGQ9Ik0xMy41LDZjMCwuODMtMi40NiwxLjUtNS41LDEuNVMyLjUsNi44MywyLjUsNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNCA0LjUpIi8+PHBhdGggY2xhc3M9ImMiIGQ9Ik0xMy41LDEwYzAsLjgzLTIuNDYsMS41LTUuNSwxLjVTMi41LDEwLjgzLDIuNSwxMCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNCA0LjUpIi8+PC9zdmc+)}.page-item-properties-page .mat-form-field,.lookup-detail-dialog .mat-form-field{width:100%}.page-item-properties-page .mat-form-field.mat-focused .mat-form-field-ripple,.lookup-detail-dialog .mat-form-field.mat-focused .mat-form-field-ripple{transition:0ms;background-color:#58aeda}.page-item-properties-page .mat-form-field.mat-form-field-appearance-legacy .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix,.lookup-detail-dialog .mat-form-field.mat-form-field-appearance-legacy .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix{padding-bottom:1px}.page-item-properties-page .mat-form-field.mat-form-field-appearance-legacy .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix .mat-input-element,.page-item-properties-page .mat-form-field.mat-form-field-appearance-legacy .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix .mat-select .mat-select-value-text,.lookup-detail-dialog .mat-form-field.mat-form-field-appearance-legacy .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix .mat-input-element,.lookup-detail-dialog .mat-form-field.mat-form-field-appearance-legacy .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix .mat-select .mat-select-value-text{font-size:13px}.page-item-properties-page .mat-form-field.mat-form-field-appearance-legacy .mat-form-field-ripple,.lookup-detail-dialog .mat-form-field.mat-form-field-appearance-legacy .mat-form-field-ripple{height:1px}.page-item-properties-page .mat-form-field.mat-form-field-invalid .mat-form-field-ripple,.lookup-detail-dialog .mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:0}.page-item-properties-page .mat-form-field .mat-form-field-subscript-wrapper,.lookup-detail-dialog .mat-form-field .mat-form-field-subscript-wrapper{margin-top:0!important;z-index:1}.page-item-properties-page .mat-form-field .mat-input-element,.lookup-detail-dialog .mat-form-field .mat-input-element{color:#444;text-align:left;min-height:28px;border:1px solid white;width:100%}.page-item-properties-page .mat-form-field .mat-form-field-wrapper .mat-form-field-underline,.lookup-detail-dialog .mat-form-field .mat-form-field-wrapper .mat-form-field-underline{border-bottom:1px dotted #c8c8c8}.page-item-properties-page .mat-form-field .mat-form-field-suffix .mat-select-arrow-wrapper,.lookup-detail-dialog .mat-form-field .mat-form-field-suffix .mat-select-arrow-wrapper{position:relative;bottom:8px}.page-item-properties-page .properties-page-general-section,.lookup-detail-dialog .properties-page-general-section{margin-top:14px;max-height:456px;overflow-y:auto;padding-right:10px;margin-bottom:10px}.page-item-properties-page-title,.lookup-detail-dialog-title{font-family:Bpmonline Open Sans Light;color:#64b8df;font-size:22px;letter-spacing:-.01em;margin-bottom:22px}.page-item-properties-page-buttons,.lookup-detail-dialog-buttons{display:flex;font-family:Bpmonline Open Sans;font-size:15px}.page-item-properties-page-buttons .page-item-properties-page-button,.lookup-detail-dialog-buttons .page-item-properties-page-button{color:#006ce0;border-radius:2px;text-transform:uppercase;padding:4.5px 10.5px;margin-right:10px;cursor:pointer}.page-item-properties-page-buttons .page-item-properties-page-button.save-button,.lookup-detail-dialog-buttons .page-item-properties-page-button.save-button{background-color:#22ac14;color:#fff}.page-item-properties-page .mat-select,.lookup-detail-dialog .mat-select{padding:6px 0 5px;font-size:14px}.page-item-properties-page .mat-select.mat-select-disabled,.lookup-detail-dialog .mat-select.mat-select-disabled{opacity:.7}.page-item-properties-page .mat-error,.lookup-detail-dialog .mat-error{background-color:#58aeda;color:#fff;font-size:13px;padding:3px 5px;display:inline-block}.page-item-properties-page .mat-radio-ripple,.lookup-detail-dialog .mat-radio-ripple{display:none}.page-item-properties-page .mat-checkbox,.lookup-detail-dialog .mat-checkbox{font-size:13px;font-family:Open Sans,Regular,sans-serif;color:#444;margin-bottom:10px}.page-item-properties-page .mat-checkbox .mat-checkbox-ripple,.lookup-detail-dialog .mat-checkbox .mat-checkbox-ripple{display:none}.page-item-properties-page .mat-checkbox .cdk-visually-hidden,.lookup-detail-dialog .mat-checkbox .cdk-visually-hidden{border:0;width:1px;height:1px;opacity:0}.page-item-properties-page .mat-checkbox .mat-checkbox-frame,.lookup-detail-dialog .mat-checkbox .mat-checkbox-frame{color:#a7a7a7}.page-item-properties-page .mat-checkbox .mat-checkbox-inner-container,.lookup-detail-dialog .mat-checkbox .mat-checkbox-inner-container{margin-right:16px}.page-item-properties-page .mat-checkbox.mat-checkbox-checked .mat-checkbox-background,.lookup-detail-dialog .mat-checkbox.mat-checkbox-checked .mat-checkbox-background{background-color:#006ce0}.page-item-properties-page .ts-radio-button-group,.lookup-detail-dialog .ts-radio-button-group{display:block;margin-bottom:10px}.page-item-properties-page .ts-radio-button-group .mat-radio-group,.page-item-properties-page .ts-radio-button-group .ts-radio-button+.ts-radio-button,.lookup-detail-dialog .ts-radio-button-group .mat-radio-group,.lookup-detail-dialog .ts-radio-button-group .ts-radio-button+.ts-radio-button{margin-top:10px}.page-item-properties-page .ts-radio-button-group .ts-radio-button.mat-radio-checked .mat-radio-outer-circle,.lookup-detail-dialog .ts-radio-button-group .ts-radio-button.mat-radio-checked .mat-radio-outer-circle{border-color:#006ce0}.page-item-properties-page .ts-radio-button-group .ts-radio-button.mat-radio-checked .mat-radio-inner-circle,.page-item-properties-page .ts-radio-button-group .ts-radio-button.mat-radio-checked .mat-radio-ripple .mat-ripple-element,.lookup-detail-dialog .ts-radio-button-group .ts-radio-button.mat-radio-checked .mat-radio-inner-circle,.lookup-detail-dialog .ts-radio-button-group .ts-radio-button.mat-radio-checked .mat-radio-ripple .mat-ripple-element{background-color:#006ce0}.page-item-properties-page .ts-radio-button-group .ts-radio-button.mat-radio-disabled,.lookup-detail-dialog .ts-radio-button-group .ts-radio-button.mat-radio-disabled{opacity:.7}.page-item-properties-page .ts-radio-button-group>label,.lookup-detail-dialog .ts-radio-button-group>label{font-size:13px;color:#999}.page-item-properties-page .ts-lookup-control .mat-icon-button.show-lookup-dialog,.lookup-detail-dialog .ts-lookup-control .mat-icon-button.show-lookup-dialog{position:relative;bottom:2px}.ts-localizable-dialog .mat-form-field .mat-input-element{box-sizing:content-box}.change-type-message .mat-button-wrapper{text-transform:uppercase}
`],encapsulation:2})}}class Au extends yc{getFields(e){const n=super.getFields(e);return e.dataValueType!==X.r.Boolean&&bn.addFieldToGroup(n,En.General,{name:"isRequired",type:ce.CheckBox,label:this.translateService.instant("isRequiredLabel")}),bn.addFieldToGroup(n,En.General,{name:"isValueCloneable",type:ce.CheckBox,label:this.translateService.instant("isValueCloneableLabel")}),bn.addFieldToGroup(n,En.Appearance,{name:"captionLabel",type:ce.LocalizableText,label:this.translateService.instant("captionLabelLabel")},1),n}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Au)))(a||Au)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Au,factory:Au.\u0275fac})}}class Lu extends yc{getFields(e){const n=super.getFields(e);return e.dataValueType!==X.r.Boolean&&bn.addField(n,{name:En.Advanced,label:this.translateService.instant("advancedCaption"),type:ce.FieldsGroup,children:[{name:"isRequired",type:ce.CheckBox,label:this.translateService.instant("isRequiredLabel")}]}),n}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(Lu)))(a||Lu)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Lu,factory:Lu.\u0275fac})}}const bB=["propertiesContainer"];class t_{constructor(e,n,a){this.injector=e,this.changeDetectorRef=n,this.translateService=a}initCurrentCulture(){this.translateService.langs.find(e=>e===this.currentCulture)||(this.translateService.addLangs([this.currentCulture]),this.translateService.setTranslation(this.currentCulture,this.translateService.store.translations[this.translateService.defaultLang])),this.translateService.use(this.currentCulture)}ngAfterViewInit(){setTimeout(()=>{this.initCurrentCulture();const e=this.injector.get(Au),n=this.injector.get(Lu),a=this.injector.get(ld),i=this.injector.get(Cc),s=t.Injector.create({providers:[{provide:Mu,useFactory:()=>{let b;switch(!0){case this.itemType===wo.processParameter:b=n;break;case this.itemType===wo.entityColumn:b=e;break;case this.itemType===wo.detail:b=i;break;default:b=a}return b}},{provide:yc,useExisting:Mu}],parent:this.injector});this.pageItemPropertiesPageComponent=this.viewContainer.createComponent(Du,{index:0,injector:s}),this.pageItemPropertiesPageComponent.instance.itemType=this.itemType,this.changeDetectorRef.detectChanges()},0)}static{this.\u0275fac=function(n){return new(n||t_)(t.\u0275\u0275directiveInject(t.Injector),t.\u0275\u0275directiveInject(t.ChangeDetectorRef),t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:t_,selectors:[["ts-page-item-properties-page-host"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(bB,5,t.ViewContainerRef),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.viewContainer=i.first)}},inputs:{itemType:"itemType",currentCulture:"currentCulture"},decls:2,vars:0,consts:[["propertiesContainer",""]],template:function(n,a){n&1&&t.\u0275\u0275elementContainer(0,null,0)},encapsulation:2})}}class ku extends n0{constructor(e){super(),this.customEventService=e}checkLookupPrimaryDisplayColumn(e){return this.customEventService.getDataViaEvent("CheckLookupPrimaryDisplayColumn",e)}getLookupInfo(e){return this.customEventService.getDataViaEvent("GetLookupInfo",e)}getLookupList(){return this.customEventService.getDataViaEvent("GetLookupList")}getLookupNameList(){return this.customEventService.getDataViaEvent("GetLookupNameList")}static{this.\u0275fac=function(n){return new(n||ku)(t.\u0275\u0275inject(E.Dj))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:ku,factory:ku.\u0275fac})}}const g3={id:"B4F1A3C1-2E6A-4B3B-94F7-67C4A89D89AA",caption:"ValueMaskingSettings.HideAllMaskTitle",description:"********",value:{pattern:".*",replacement:"********"}},CB=[g3,{id:"F27C2D63-AB5F-4A32-BBD4-9E1E19F1F7C3",caption:"ValueMaskingSettings.ShowOnlyLast4CharsMaskTitle",description:"******1234",value:{pattern:"(.+)(.{4})",replacement:"******$2"}},{id:"13A7DF2C-6714-420F-AF62-8F9D90354E70",caption:"ValueMaskingSettings.BankCardMaskTitle",description:"****-****-****-1234",value:{pattern:"(\\d{4})([^\\p{L}\\d])?(\\d{4})([^\\p{L}\\d])?(\\d{4})([^\\p{L}\\d])?(\\d{4})",replacement:"****-****-****-$7"}},{id:"A8D2C6E4-4F3B-4597-91E2-3CB79A6D2B8F",caption:"ValueMaskingSettings.SSNMaskTitle",description:"***-**-1234",value:{pattern:"(\\d{3})([^\\p{L}\\d])?(\\d{2})([^\\p{L}\\d])?(\\d{4})",replacement:"***-**-$5"}},{id:"3F5E8D1A-9C2B-4726-8A44-BE5D5F1F2C01",caption:"ValueMaskingSettings.SINMaskTitle",description:"***-***-123",value:{pattern:"(\\d{3})([^\\p{L}\\d])?(\\d{3})([^\\p{L}\\d])?(\\d{3})",replacement:"***-***-$5"}}],AH={...g3.value,adminOperationCode:null};class _b{constructor(){this._translateService=(0,t.inject)(f.TranslateService)}getMaskTypeOptions(){return CB.map(e=>({id:e.id,displayValue:this._translateService.instant(e.caption),description:e.description,value:e.value}))}static{this.\u0275fac=function(n){return new(n||_b)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:_b,factory:_b.\u0275fac,providedIn:"root"})}}const yB=new t.InjectionToken("SYS_ADMIN_OPERATIONS");class fb extends bc{get _valueMaskingSettingsControl(){return this.formComponent.form.get("valueMaskingSettings")}constructor(e,n,a){super(e,n),this._valueMaskingSettingsService=(0,t.inject)(_b),this._maskOperationOptions=[],this._initializeMaskOperationOptions(a)}_initializeMaskOperationOptions(e){this._maskOperationOptions=e.map(n=>({name:n.name,value:n.code}))}_addFields(){this._addBehaviorFields()}_addBehaviorFields(){this._addIsValueMaskedField(),this._addValueMaskingSettingsField()}_addIsValueMaskedField(){bn.addFieldToGroup(this.fields,En.Behavior,{name:"isValueMasked",value:this.model.isValueMasked,type:ce.CheckBox,label:this.translateService.instant("isValueMaskedCaption")})}_addValueMaskingSettingsField(){this._addMaskTypeField(),this._addMaskOperationField()}_addMaskTypeField(){const e=this._getMaskTypeOptions(),n=this._getSelectedMaskTypeOptions(e);bn.addFieldToGroup(this.fields,En.Behavior,{name:"maskType",value:n?.value,type:ce.Select,label:this.translateService.instant("maskTypeCaption"),options:e,disabled:!this.model.isValueMasked})}_getMaskTypeOptions(){return this._valueMaskingSettingsService.getMaskTypeOptions().map(e=>({name:e.displayValue,value:e.value}))}_getSelectedMaskTypeOptions(e){return e.find(n=>n.value.pattern===this.model.valueMaskingSettings?.pattern&&n.value.replacement===this.model.valueMaskingSettings?.replacement)}_addMaskOperationField(){bn.addFieldToGroup(this.fields,En.Behavior,{name:"maskOperation",value:this._getSelectedMaskOperationFieldOption(),type:ce.Lookup,label:this.translateService.instant("maskOperationCaption"),options:this._maskOperationOptions,disabled:!this.model.isValueMasked})}_getSelectedMaskOperationFieldOption(){const e=this.model.valueMaskingSettings?.adminOperationCode;return this._maskOperationOptions.find(n=>n.value===e)}_initializeControls(e){this._initializeValueMaskingSettingsControl(e)}_initializeValueMaskingSettingsControl(e){const n=this.model.valueMaskingSettings?this.model.valueMaskingSettings:null;e.form.addControl("valueMaskingSettings",new O.FormControl(n))}_initializeSubscriptions(e){this._initializeValueMaskingSettingsDisabledState(e),this._subscribeOnMaskTypeChanges(e),this._subscribeOnMaskOperationChanges(e)}_initializeValueMaskingSettingsDisabledState(e){this.model.isValueMasked||this._setValueMaskingSettingsDisabledState(e,!1),this._subscribeOnIsValueMaskedChanges(e)}_subscribeOnIsValueMaskedChanges(e){e.form.get("isValueMasked").valueChanges.pipe((0,h.distinctUntilChanged)(),(0,h.takeUntil)(this.destroyed$)).subscribe(n=>this._setValueMaskingSettingsDisabledAndDefaultValuesState(e,n))}_setValueMaskingSettingsDisabledAndDefaultValuesState(e,n){this._setValueMaskingSettingsDisabledState(e,n),this._setValueMaskingSettingsDefaultValuesState(e,n)}_setValueMaskingSettingsDisabledState(e,n){if(this.model.isDisabled)return;const a=e.form.get("maskType"),i=e.form.get("maskOperation");n?(a.enable(),i.enable()):(a.disable(),i.disable())}_setValueMaskingSettingsDefaultValuesState(e,n){const a=e.form.get("maskType"),i=e.form.get("maskOperation");n?a.setValue(g3.value):(a.setValue(null),i.setValue(null))}_subscribeOnMaskTypeChanges(e){e.form.get("maskType").valueChanges.pipe((0,h.distinctUntilChanged)(),(0,h.takeUntil)(this.destroyed$)).subscribe(()=>this._setValueMaskingSettings())}_subscribeOnMaskOperationChanges(e){e.form.get("maskOperation").valueChanges.pipe((0,h.distinctUntilChanged)(),(0,h.takeUntil)(this.destroyed$)).subscribe(()=>this._setValueMaskingSettings())}_setValueMaskingSettings(){const e=this.formComponent.form.get("maskType").value,n=this.formComponent.form.get("maskOperation").value?.value;let a={pattern:e?.pattern,replacement:e?.replacement,adminOperationCode:n};(0,y.every)(a,y.isUndefined)&&(a=null),!(0,y.isEqual)(a,this._valueMaskingSettingsControl.value)&&this._valueMaskingSettingsControl.setValue(a)}ngOnInit(){super.ngOnInit(),this._addFields()}onFormCreated(e){this._initializeControls(e),super.onFormCreated(e),this._initializeSubscriptions(e)}static{this.\u0275fac=function(n){return new(n||fb)(t.\u0275\u0275directiveInject(od.MatLegacySnackBar),t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(yB))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:fb,selectors:[["ts-secure-text-meta-item-properties-page"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[["tsMetaItemPropertiesPage","",3,"formCreated","model","fields"]],template:function(n,a){n&1&&(t.\u0275\u0275elementContainerStart(0,0),t.\u0275\u0275listener("formCreated",function(s){return a.onFormCreated(s)}),t.\u0275\u0275elementContainerEnd()),n&2&&t.\u0275\u0275property("model",a.model)("fields",a.fields)},dependencies:[Oa],encapsulation:2})}}const vB=r=>({visible:r}),MB=(r,e)=>({"add-image-button-icon":r,"add-disabled-image-button-icon":e}),l9=()=>{},IB={provide:O.NG_VALUE_ACCESSOR,useExisting:(0,t.forwardRef)(()=>vc),multi:!0};class vc extends ue.K{set value(e){this._model=e,this.onChange(this._model),this.valueChange.emit(this._model)}get value(){return this._model}constructor(e){super(e),this.required=!1,this.clearButtonVisible=!1,this.label="",this.valueChange=new t.EventEmitter,this.disabled=!1,this.onChange=l9,this.onTouched=l9}get fileName(){return this._model?this._model.name:""}dataQaAttribute(){return this.label.toLowerCase()+"_input"}get isClearButtonVisible(){return this.clearButtonVisible&&!!this._model&&!this.disabled}onFilesSelected(e){e.length!==0&&(this.value=e[0])}clearFile(){this.value=null}writeValue(e){this._model=e}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}static{this.\u0275fac=function(n){return new(n||vc)(t.\u0275\u0275directiveInject(t.Injector))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:vc,selectors:[["ts-image-input"]],inputs:{value:"value",required:"required",clearButtonVisible:"clearButtonVisible",label:"label",disabled:"disabled"},outputs:{valueChange:"valueChange"},features:[t.\u0275\u0275ProvidersFeature([IB]),t.\u0275\u0275InheritDefinitionFeature],decls:11,vars:18,consts:[["addImageButton",""],["fileInput",""],["floatLabel","always",1,"image-input",3,"hideRequiredMarker","ngStyle","ngClass"],["matInput","",1,"file-name-input",3,"ngModel","disabled","tsDataItemMarker","required"],["matSuffix","","mat-icon-button","","aria-label","Clear",1,"close-button",3,"click","ngClass"],["svgIcon","close"],["mat-icon-button","","matSuffix","",1,"add-image-button",3,"click","disabled","tsDataItemMarker"],[3,"ngClass"],["hidden","","type","file","accept","image/*",3,"change"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-form-field",2)(1,"mat-label"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"input",3),t.\u0275\u0275elementStart(4,"button",4),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.clearFile())}),t.\u0275\u0275element(5,"mat-icon",5),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"button",6),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(i);const b=t.\u0275\u0275reference(10);return t.\u0275\u0275resetView(b.click())}),t.\u0275\u0275element(7,"div",7,0),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"input",8,1),t.\u0275\u0275listener("change",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onFilesSelected(b.target.files))}),t.\u0275\u0275elementEnd()()}n&2&&(t.\u0275\u0275property("hideRequiredMarker",!0)("ngStyle",a.styles)("ngClass",a.classes),t.\u0275\u0275attribute("id",a.id),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.label),t.\u0275\u0275advance(),t.\u0275\u0275property("ngModel",a.fileName)("disabled",!0)("tsDataItemMarker",a.dataQaAttribute())("required",a.required),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(13,vB,a.isClearButtonVisible)),t.\u0275\u0275advance(2),t.\u0275\u0275property("disabled",a.disabled)("tsDataItemMarker","add_image_button_"+a.label),t.\u0275\u0275advance(),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(15,MB,!a.disabled,a.disabled)))},dependencies:[_.NgClass,_.NgStyle,O.DefaultValueAccessor,O.NgControlStatus,O.RequiredValidator,O.NgModel,q.MatLegacyFormField,q.MatLegacyLabel,q.MatLegacySuffix,lt.MatLegacyInput,nt.MatLegacyButton,_t.MatIcon,Hn],styles:[".add-image-button[_ngcontent-%COMP%]   .add-image-button-icon[_ngcontent-%COMP%]{background:url(add-image-icon.svg) no-repeat;width:16px;height:16px;margin:auto;display:inline-block}.add-image-button[_ngcontent-%COMP%]   .add-disabled-image-button-icon[_ngcontent-%COMP%]{background:url(add-image-disable-icon.svg) no-repeat;width:16px;height:16px;margin:auto;display:inline-block}.close-button[_ngcontent-%COMP%]{visibility:hidden}.image-input[_ngcontent-%COMP%]:hover   .visible[_ngcontent-%COMP%]{visibility:visible}.mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}}(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",File),(0,u.__metadata)("design:paramtypes",[File])],vc.prototype,"value",null),(0,u.__decorate)([(0,J.k)(),(0,u.__metadata)("design:type",Object)],vc.prototype,"label",void 0);class e_{static{this.\u0275fac=function(n){return new(n||e_)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:e_})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,nt.MatLegacyButtonModule,_t.MatIconModule,tn]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(e_,{declarations:[vc],imports:[_.CommonModule,O.FormsModule,lt.MatLegacyInputModule,nt.MatLegacyButtonModule,_t.MatIconModule,tn],exports:[vc]})})();var i0;(function(r){r[r.Unknown=0]="Unknown",r[r.TextBox=1]="TextBox",r[r.TextArea=2]="TextArea",r[r.DropDown=3]="DropDown",r[r.DateTime=4]="DateTime",r[r.LocalizableText=5]="LocalizableText",r[r.CheckBox=6]="CheckBox",r[r.ImageUploader=7]="ImageUploader",r[r.Autocomlete=8]="Autocomlete",r[r.LabelWithInnerLink=9]="LabelWithInnerLink"})(i0||(i0={}));var xB=o(29101),SB=o(8721);function wB(r,e){r&1&&t.\u0275\u0275element(0,"mat-icon",13)}function EB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.getErrorMessage," ")}}function TB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-form-field",9)(1,"mat-label"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"input",10),t.\u0275\u0275template(4,wB,1,0,"mat-icon",11)(5,EB,2,1,"mat-error",12),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.formComponent.label),t.\u0275\u0275advance(),t.\u0275\u0275property("formControlName",n.formComponent.key)("tsDataItemMarker",n.dataQaAttribute(n.formComponent.key))("required",n.formComponent.required),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.formComponent.isDisabled),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isInvalidComponent)}}function PB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-form-field",9)(1,"mat-label"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"textarea",14),t.\u0275\u0275text(4,"			"),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.formComponent.label),t.\u0275\u0275advance(),t.\u0275\u0275property("rows",n.formComponent.areaRows)("formControlName",n.formComponent.key)("tsDataItemMarker",n.dataQaAttribute(n.formComponent.key))("required",n.formComponent.required)}}function OB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",17),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n.key),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.value," ")}}function DB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.getErrorMessage," ")}}function AB(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-form-field",9)(1,"mat-label"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-select",15),t.\u0275\u0275listener("selectionChange",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.formComponent.changeValue?s.formComponent.changeValue(i,s.form):null)}),t.\u0275\u0275template(4,OB,2,2,"mat-option",16),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,DB,2,1,"mat-error",12),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.formComponent.label),t.\u0275\u0275advance(),t.\u0275\u0275property("formControlName",n.formComponent.key)("tsDataItemMarker",n.dataQaAttribute(n.formComponent.key))("required",n.formComponent.required),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.formComponent.options),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.isInvalidComponent)}}function LB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",17),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.value," ")}}function kB(r,e){if(r&1&&t.\u0275\u0275element(0,"ts-info-tooltip-icon",25),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("message",n.formComponent.info)}}function RB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.getErrorMessage," ")}}function NB(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",26),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.actionButtonClick())}),t.\u0275\u0275element(1,"mat-icon",27),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("title",n.formComponent.actionButton.caption),t.\u0275\u0275advance(),t.\u0275\u0275property("svgIcon",n.formComponent.actionButton.icon)}}function VB(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",18)(1,"mat-form-field",9)(2,"mat-label"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(4,"input",19),t.\u0275\u0275elementStart(5,"div",20),t.\u0275\u0275element(6,"div",21),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"mat-autocomplete",22,0),t.\u0275\u0275listener("optionSelected",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.formComponent.changeValue?s.formComponent.changeValue(i,s.form):null)}),t.\u0275\u0275template(9,LB,2,2,"mat-option",16),t.\u0275\u0275pipe(10,"async"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(11,kB,1,1,"ts-info-tooltip-icon",23)(12,RB,2,1,"mat-error",12),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(13,NB,2,2,"button",24),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275reference(8),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(a.formComponent.label),t.\u0275\u0275advance(),t.\u0275\u0275property("formControlName",a.formComponent.key)("matAutocomplete",n)("required",a.formComponent.required)("tsDataItemMarker",a.dataQaAttribute(a.formComponent.key)),t.\u0275\u0275advance(3),t.\u0275\u0275property("displayWith",a.getDisplayValueFormDropDownOptions),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(10,10,a.filteredOptions)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.formComponent.info),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isInvalidComponent),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.formComponent.actionButton)}}function FB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-form-field",9)(1,"mat-label"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"input",28)(4,"mat-datepicker-toggle",29)(5,"mat-datepicker",null,1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275reference(6),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.formComponent.label),t.\u0275\u0275advance(),t.\u0275\u0275property("matDatepicker",n)("formControlName",a.formComponent.key)("tsDataItemMarker",a.dataQaAttribute(a.formComponent.key))("required",a.formComponent.required),t.\u0275\u0275advance(),t.\u0275\u0275property("for",n)}}function jB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-form-field",9)(1,"mat-label"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(3,"ts-localizable-text-input",30),t.\u0275\u0275elementStart(4,"mat-error"),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.formComponent.label),t.\u0275\u0275advance(),t.\u0275\u0275property("formControlName",n.formComponent.key)("label",n.formComponent.label)("required",n.formComponent.required),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,5,"LocalizableStringsDialog.Validations.RequiredNameCaption")," ")}}function BB(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",31)(1,"mat-checkbox",32),t.\u0275\u0275listener("change",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.formComponent.changeValue?s.formComponent.changeValue(i,s.form):null)}),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("formControlName",n.formComponent.key)("tsDataItemMarker",n.dataQaAttribute(n.formComponent.key))("required",n.formComponent.required),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.formComponent.label," ")}}function zB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275element(1,"ts-image-input",33),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("required",n.formComponent.required)("formControlName",n.formComponent.key)("label",n.formComponent.label)}}function UB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",34)(1,"span"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"a",35),t.\u0275\u0275text(4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"span"),t.\u0275\u0275text(6),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.formComponent.label),t.\u0275\u0275advance(),t.\u0275\u0275property("href",n.formComponent.value,t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.formComponent.key),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.formComponent.info)}}class bb{constructor(e,n){this.typeControl=i0,e.addSvgIconLiteral("lock-icon",n.bypassSecurityTrustHtml(o(53023)))}get groupComponent(){return this.form.formGroup.get(this.formComponent.key)}get isInvalidComponent(){return this.groupComponent?this.groupComponent.invalid:!1}get getErrorMessage(){return this.groupComponent.errors.message}_getFilteredOptions(e){const n=e?.toLowerCase()||"";return this.formComponent.options.filter(a=>a.value?a.value.toLowerCase().indexOf(n)>-1:!1)}_autocompleteValueChangesHandlerInit(){this.formComponent.controlType===i0.Autocomlete&&(this.filteredOptions=this.groupComponent.valueChanges.pipe((0,h.startWith)(""),(0,h.map)(e=>typeof e=="string"?e:e?.value),(0,h.map)(e=>e?this._getFilteredOptions(e):this.formComponent.options)))}ngOnInit(){this._autocompleteValueChangesHandlerInit()}dataQaAttribute(e){return e+"_input"}getDisplayValueFormDropDownOptions(e){return e&&e.value?e.value:""}actionButtonClick(){this.formComponent.actionButton.clicked()}static{this.\u0275fac=function(n){return new(n||bb)(t.\u0275\u0275directiveInject(_t.MatIconRegistry),t.\u0275\u0275directiveInject(p.DomSanitizer))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:bb,selectors:[["ts-dynamic-element"]],inputs:{formComponent:"formComponent",form:"form"},decls:11,vars:11,consts:[["auto","matAutocomplete"],["picker",""],[3,"formGroup"],[3,"ngSwitch"],["floatLabel","always",4,"ngSwitchCase"],["class","autocomplete-field",4,"ngSwitchCase"],["class","dynamic-checkbox",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","label-with-inner-link",4,"ngSwitchCase"],["floatLabel","always"],["matInput","","autocomplete","off",3,"formControlName","tsDataItemMarker","required"],["matSuffix","","class","lock-icon","svgIcon","lock-icon",4,"ngIf"],[4,"ngIf"],["matSuffix","","svgIcon","lock-icon",1,"lock-icon"],["matInput","",3,"rows","formControlName","tsDataItemMarker","required"],["disableOptionCentering","true",3,"selectionChange","formControlName","tsDataItemMarker","required"],["class","dynamic-element-select-option",3,"value",4,"ngFor","ngForOf"],[1,"dynamic-element-select-option",3,"value"],[1,"autocomplete-field"],["type","text","matInput","",3,"formControlName","matAutocomplete","required","tsDataItemMarker"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["disableOptionCentering","true",3,"optionSelected","displayWith"],["class","info-icon","matSuffix","",3,"message",4,"ngIf"],["class","action-button","type","button","mat-icon-button","",3,"title","click",4,"ngIf"],["matSuffix","",1,"info-icon",3,"message"],["type","button","mat-icon-button","",1,"action-button",3,"click","title"],[1,"action-icon",3,"svgIcon"],["matInput","",3,"matDatepicker","formControlName","tsDataItemMarker","required"],["matSuffix","",3,"for"],[3,"formControlName","label","required"],[1,"dynamic-checkbox"],[3,"change","formControlName","tsDataItemMarker","required"],[3,"required","formControlName","label"],[1,"label-with-inner-link"],["target","_blank","rel","noopener noreferrer",3,"href"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",2)(1,"div",3),t.\u0275\u0275template(2,TB,6,6,"mat-form-field",4)(3,PB,5,5,"mat-form-field",4)(4,AB,6,6,"mat-form-field",4)(5,VB,14,12,"div",5)(6,FB,7,6,"mat-form-field",4)(7,jB,7,7,"mat-form-field",4)(8,BB,3,4,"div",6)(9,zB,2,3,"div",7)(10,UB,7,4,"div",8),t.\u0275\u0275elementEnd()()),n&2&&(t.\u0275\u0275property("formGroup",a.form.formGroup),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitch",a.formComponent.controlType),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.typeControl.TextBox),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.typeControl.TextArea),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.typeControl.DropDown),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.typeControl.Autocomlete),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.typeControl.DateTime),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.typeControl.LocalizableText),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.typeControl.CheckBox),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.typeControl.ImageUploader),t.\u0275\u0275advance(),t.\u0275\u0275property("ngSwitchCase",a.typeControl.LabelWithInnerLink))},dependencies:[_.NgForOf,_.NgIf,_.NgSwitch,_.NgSwitchCase,O.DefaultValueAccessor,O.NgControlStatus,O.NgControlStatusGroup,O.RequiredValidator,O.FormGroupDirective,O.FormControlName,Hn,ss,q.MatLegacyError,q.MatLegacyFormField,q.MatLegacyLabel,q.MatLegacySuffix,lt.MatLegacyInput,jn.MatLegacySelect,Tt.MatLegacyOption,jd.MatDatepicker,jd.MatDatepickerInput,jd.MatDatepickerToggle,nt.MatLegacyButton,_t.MatIcon,oe.MatLegacyCheckbox,xB.MatCheckboxRequiredValidator,vc,c.MatLegacyAutocomplete,c.MatLegacyAutocompleteTrigger,SB.M,_.AsyncPipe,f.TranslatePipe],styles:[".mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-form-field[_ngcontent-%COMP%]   .lock-icon[_ngcontent-%COMP%]{width:16px;height:16px;display:none;overflow:visible}.mat-form-field[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{width:22px;height:22px;padding-left:8px;bottom:-3px}.mat-form-field[_ngcontent-%COMP%]:hover   .lock-icon[_ngcontent-%COMP%]{display:block}ts-localizable-text[_ngcontent-%COMP%], ts-image-input[_ngcontent-%COMP%]{width:100%}.dynamic-checkbox[_ngcontent-%COMP%]{padding-top:7px;overflow:hidden}.label-with-inner-link[_ngcontent-%COMP%]{font-family:Open Sans,serif;font-style:normal;font-weight:400;font-size:12px;line-height:17px;color:#444;padding-top:8px;padding-bottom:24px}  .mat-checkbox-label{font-size:14px}.autocomplete-field[_ngcontent-%COMP%]{display:flex;align-items:center}.action-button[_ngcontent-%COMP%]{height:32px;width:32px;line-height:1;margin-bottom:8px}.action-button[_ngcontent-%COMP%]:hover{background-color:var(--crt-palette-primary-50)}.action-button[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{width:16px;height:16px;vertical-align:baseline;color:#8095b3}"]})}}function HB(r,e){if(r&1&&t.\u0275\u0275element(0,"ts-dynamic-element",1),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("formComponent",n)("form",a.dynamicForm)}}class Cb{static{this.\u0275fac=function(n){return new(n||Cb)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Cb,selectors:[["ts-dynamic-column"]],inputs:{formColumn:"formColumn",dynamicForm:"dynamicForm"},decls:1,vars:1,consts:[[3,"formComponent","form",4,"ngFor","ngForOf"],[3,"formComponent","form"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,HB,1,2,"ts-dynamic-element",0),n&2&&t.\u0275\u0275property("ngForOf",a.formColumn.formComponents)},dependencies:[_.NgForOf,bb],encapsulation:2})}}function WB(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",5),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.expandRow=!i.expandRow)}),t.\u0275\u0275elementStart(1,"mat-icon"),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.buttonIcon)}}function GB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",2)(1,"label",3),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(3,WB,3,1,"button",4),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate1(" ",n.formRow.rowSectionName," "),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.formRow.expandableRow)}}function $B(r,e){if(r&1&&t.\u0275\u0275element(0,"ts-dynamic-column",6),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275property("dynamicForm",a.dynamicForm)("formColumn",n)}}class yb{get buttonIcon(){return this.expandRow?"keyboard_arrow_down":"keyboard_arrow_up"}static{this.\u0275fac=function(n){return new(n||yb)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:yb,selectors:[["ts-dynamic-row"]],inputs:{formRow:"formRow",dynamicForm:"dynamicForm"},decls:3,vars:4,consts:[["class","section-row",4,"ngIf"],["class","column-flex",3,"dynamicForm","formColumn",4,"ngFor","ngForOf"],[1,"section-row"],[1,"section-name"],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"click"],[1,"column-flex",3,"dynamicForm","formColumn"]],template:function(n,a){n&1&&(t.\u0275\u0275template(0,GB,4,2,"div",0),t.\u0275\u0275elementStart(1,"div"),t.\u0275\u0275template(2,$B,1,2,"ts-dynamic-column",1),t.\u0275\u0275elementEnd()),n&2&&(t.\u0275\u0275property("ngIf",a.formRow.rowSectionName),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("display",a.expandRow?"none":"flex"),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",a.formRow.columns))},dependencies:[_.NgForOf,_.NgIf,nt.MatLegacyButton,_t.MatIcon,Cb],styles:[".section-row[_ngcontent-%COMP%]{justify-content:space-between;display:flex}.section-row[_ngcontent-%COMP%]   .section-name[_ngcontent-%COMP%]{font-size:20px;color:#00b2f2}.column-flex[_ngcontent-%COMP%]{flex:1}"]})}}function KB(r,e){if(r&1&&t.\u0275\u0275element(0,"ts-dynamic-row",5),r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("dynamicForm",a.dynamicForm)("formRow",n)}}function ZB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"form",3),t.\u0275\u0275template(1,KB,1,2,"ts-dynamic-row",4),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("formGroup",n.dynamicForm.formGroup),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.dynamicForm.rows)}}function QB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,ZB,2,2,"form",2),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.dynamicForm.formGroup)}}class n_{static{this.\u0275fac=function(n){return new(n||n_)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:n_,selectors:[["ts-dynamic-form-grid"]],inputs:{dynamicForm:"dynamicForm"},decls:1,vars:1,consts:[["class","container-fluid",4,"ngIf"],[1,"container-fluid"],["novalidate","",3,"formGroup",4,"ngIf"],["novalidate","",3,"formGroup"],[3,"dynamicForm","formRow",4,"ngFor","ngForOf"],[3,"dynamicForm","formRow"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,QB,2,1,"div",0),n&2&&t.\u0275\u0275property("ngIf",a.dynamicForm)},dependencies:[_.NgForOf,_.NgIf,O.\u0275NgNoValidate,O.NgControlStatusGroup,O.FormGroupDirective,yb],encapsulation:2})}}function YB(r,e){if(r&1&&t.\u0275\u0275element(0,"ts-dynamic-form-grid",10),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("dynamicForm",n.formDialog.dynamicForm)}}function JB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"button",11),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,1,n.formDialog.cancelBtnTitle)," ")}}function XB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"button",12),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("disabled",!n.isValid&&n.formDialog.useValidation)("mat-dialog-close",n.formDialog.dynamicForm),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,3,n.formDialog.okBtnTitle)," ")}}function qB(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",1)(1,"div",2)(2,"span"),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"button",3),t.\u0275\u0275element(6,"mat-icon",4),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",5),t.\u0275\u0275template(8,YB,1,1,"ts-dynamic-form-grid",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"div",7),t.\u0275\u0275template(10,JB,3,3,"button",8)(11,XB,3,5,"button",9),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(4,4,n.formDialog.title)," "),t.\u0275\u0275advance(5),t.\u0275\u0275property("ngIf",n.formDialog.dynamicForm),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",n.formDialog.cancelBtnTitle),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.formDialog.okBtnTitle)}}class r0{constructor(e){this.formDialog=e}get isValid(){return this.formDialog.dynamicForm.isValid}static{this.\u0275fac=function(n){return new(n||r0)(t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:r0,selectors:[["ts-form-dialog"]],decls:1,vars:1,consts:[["class","form-dialog",4,"ngIf"],[1,"form-dialog"],["mat-dialog-title",""],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],["mat-dialog-content","",1,"dialog-content-wrapper"],[3,"dynamicForm",4,"ngIf"],["mat-dialog-actions","",1,"dialog-action-buttons"],["mat-button","",3,"mat-dialog-close",4,"ngIf"],["mat-flat-button","","color","primary",3,"disabled","mat-dialog-close",4,"ngIf"],[3,"dynamicForm"],["mat-button","",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"disabled","mat-dialog-close"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,qB,12,6,"div",0),n&2&&t.\u0275\u0275property("ngIf",a.formDialog)},dependencies:[_.NgIf,nt.MatLegacyButton,_t.MatIcon,Ot.MatLegacyDialogClose,Ot.MatLegacyDialogTitle,Ot.MatLegacyDialogContent,Ot.MatLegacyDialogActions,n_,f.TranslatePipe],styles:[".form-dialog[_ngcontent-%COMP%]   .dialog-content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;width:356px;height:100%;overflow:auto!important}[mat-dialog-actions][_ngcontent-%COMP%]{margin:0 0 9px!important;display:flex;flex-direction:row;justify-content:flex-end}"]})}}class vs{static{this.\u0275fac=function(n){return new(n||vs)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:vs})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[fc],imports:[_.CommonModule,O.ReactiveFormsModule,O.FormsModule,tn,Vr,lt.MatLegacyInputModule,jn.MatLegacySelectModule,jd.MatDatepickerModule,Fd.MatNativeDateModule,nt.MatLegacyButtonModule,dn.MatTooltipModule,_t.MatIconModule,oe.MatLegacyCheckboxModule,e_,f.TranslateModule,c.MatLegacyAutocompleteModule,_e.S,Ot.MatLegacyDialogModule,_.CommonModule,ql,O.ReactiveFormsModule,O.FormsModule,Vr,Ot.MatLegacyDialogModule,f.TranslateModule.forChild(),f.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(vs,{declarations:[n_,Cb,yb,bb,r0,Yh,Su,$h,Iu,Kh,Gh,Wh,Zh,xu,cd,Qh,pb,mb,ub],imports:[_.CommonModule,O.ReactiveFormsModule,O.FormsModule,tn,Vr,lt.MatLegacyInputModule,jn.MatLegacySelectModule,jd.MatDatepickerModule,Fd.MatNativeDateModule,nt.MatLegacyButtonModule,dn.MatTooltipModule,_t.MatIconModule,oe.MatLegacyCheckboxModule,e_,f.TranslateModule,c.MatLegacyAutocompleteModule,_e.S,Ot.MatLegacyDialogModule,_.CommonModule,ql,O.ReactiveFormsModule,O.FormsModule,Vr,Ot.MatLegacyDialogModule,f.TranslateModule,lc],exports:[n_,f.TranslateModule,Yh]})})(),t.\u0275\u0275setComponentScope(Iu,function(){return[_.NgForOf,O.NgControlStatusGroup,O.FormGroupDirective,O.FormGroupName,Su]},[]),t.\u0275\u0275setComponentScope(xu,function(){return[_.NgForOf,O.NgControlStatusGroup,O.FormGroupDirective,mn.MatAccordion,mn.MatExpansionPanel,mn.MatExpansionPanelHeader,mn.MatExpansionPanelTitle,Su]},[]);class a_{static{this.\u0275fac=function(n){return new(n||a_)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:a_})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:n0,useClass:ku}],imports:[_.CommonModule,vs,od.MatLegacySnackBarModule,_t.MatIconModule,lt.MatLegacyInputModule,nt.MatLegacyButtonModule,O.ReactiveFormsModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(a_,{declarations:[Oa,Gr,bc,Pu,Tu,wu,fb,Eu,Ou],imports:[_.CommonModule,vs,od.MatLegacySnackBarModule,_t.MatIconModule,lt.MatLegacyInputModule,nt.MatLegacyButtonModule,O.ReactiveFormsModule],exports:[Oa,Gr,bc,Pu,Tu,wu,fb,Eu,Ou]})})();var Ms=o(31843);class i_ extends op.x{constructor(e){super(),this._dialogService=e}processErrorMessage(e){this._dialogService.openErrorDialog(e)}static{this.\u0275fac=function(n){return new(n||i_)(t.\u0275\u0275inject(Kt.o))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:i_,factory:i_.\u0275fac})}}const LH={provide:op.x,useClass:i_};class r_{constructor(e){this._window=e}get(e){return this._window.localStorage.getItem(e)}set(e,n){this._window.localStorage.setItem(e,n)}remove(e){this._window.localStorage.removeItem(e)}static{this.\u0275fac=function(n){return new(n||r_)(t.\u0275\u0275inject(E.ZP))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:r_,factory:r_.\u0275fac})}}class vb{constructor(e){this._storageService=e,this._isBusinessRulesPropertiesPanelExpandedKey="isBusinessRulesPropertiesPanelExpanded",this._isBusinessRulePropertiesPanelExpanded=!0;const n=this._storageService.get(this._isBusinessRulesPropertiesPanelExpandedKey);this._isBusinessRulePropertiesPanelExpanded=n==="true",this.businessRulesPropertiesPanelExpandedChanged$=new m.BehaviorSubject(this._isBusinessRulePropertiesPanelExpanded)}changeBusinessRulePropertiesPanelExpandedState(e){e===void 0&&(e=!this._isBusinessRulePropertiesPanelExpanded),this._isBusinessRulePropertiesPanelExpanded=e,this._storageService.set(this._isBusinessRulesPropertiesPanelExpandedKey,`${e}`),this.businessRulesPropertiesPanelExpandedChanged$.next(e)}static{this.\u0275fac=function(n){return new(n||vb)(t.\u0275\u0275inject(r_))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:vb,factory:vb.\u0275fac})}}function tz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",7),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.innerValue=i)})("keyup.enter",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.innerValue=i)}),t.\u0275\u0275element(2,"mat-icon",8),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()}if(r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275classProp("selected",n===a.value),t.\u0275\u0275advance(),t.\u0275\u0275property("svgIcon",n)}}class o_ extends gr.F{constructor(e,n,a,i){super(e,n,a),this._changeDetectorRef=i,this.controlType="crt-icon-selector",this.icons=[],this.panelClass=""}writeValue(e){super.writeValue(e),this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(n){return new(n||o_)(t.\u0275\u0275directiveInject(O.NgControl,10),t.\u0275\u0275directiveInject(be.AutofillMonitor),t.\u0275\u0275directiveInject(Ge.FocusMonitor),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:o_,selectors:[["crt-icon-selector"]],inputs:{icons:"icons",panelClass:"panelClass"},features:[t.\u0275\u0275ProvidersFeature([{provide:q.MatLegacyFormFieldControl,useExisting:o_}]),t.\u0275\u0275InheritDefinitionFeature],decls:8,vars:10,consts:[["input",""],["iconMenu","matMenu"],[1,"icon-selector-menu-trigger",3,"matMenuTriggerFor"],["data-item-marker","iconMenu",1,"icon-selector-value",3,"svgIcon","title"],["svgIcon","dropdown-arrow",1,"icon-menu-arrow"],[1,"icon-selector-menu"],[4,"ngFor","ngForOf"],["mat-menu-item","",1,"icon-menu-item",3,"click","keyup.enter"],[3,"svgIcon"]],template:function(n,a){if(n&1&&(t.\u0275\u0275elementStart(0,"div",2,0),t.\u0275\u0275element(2,"mat-icon",3),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275element(4,"mat-icon",4),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(5,"mat-menu",5,1),t.\u0275\u0275template(7,tz,3,3,"ng-container",6),t.\u0275\u0275elementEnd()),n&2){const i=t.\u0275\u0275reference(6);t.\u0275\u0275classProp("disabled",a.disabled),t.\u0275\u0275property("matMenuTriggerFor",a.disabled?null:i),t.\u0275\u0275advance(2),t.\u0275\u0275propertyInterpolate("title",t.\u0275\u0275pipeBind1(3,8,"CrtIconSelectorComponent.Tooltip")),t.\u0275\u0275property("svgIcon",a.value),t.\u0275\u0275advance(3),t.\u0275\u0275classMap(a.panelClass),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",a.icons)}},dependencies:[_.NgForOf,_t.MatIcon,Q.MatLegacyMenu,Q.MatLegacyMenuItem,Q.MatLegacyMenuTrigger,f.TranslatePipe],styles:[`crt-icon-selector .icon-selector-menu-trigger{display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none}crt-icon-selector .icon-selector-menu-trigger mat-icon{width:16px;height:16px}crt-icon-selector .icon-selector-menu-trigger mat-icon.icon-selector-value{background-color:var(--selected-background);padding:8px;margin-left:8px;border-radius:2px}crt-icon-selector .icon-selector-menu-trigger.disabled{cursor:default}.cdk-overlay-pane .mat-menu-panel.icon-selector-menu .mat-menu-content{display:flex;flex-wrap:wrap;margin:4px;gap:8px;width:232px}.cdk-overlay-pane .mat-menu-panel.icon-selector-menu .mat-menu-content .icon-menu-item{padding:8px;line-height:inherit;border-radius:2px}.cdk-overlay-pane .mat-menu-panel.icon-selector-menu .mat-menu-content .icon-menu-item .mat-icon{width:16px;height:16px;color:inherit;margin:0;vertical-align:baseline}
`],encapsulation:2,changeDetection:0})}}class s_{static{this.\u0275fac=function(n){return new(n||s_)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:s_})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[_.CommonModule,_t.MatIconModule,Q.MatLegacyMenuModule,f.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(s_,{declarations:[o_],imports:[_.CommonModule,_t.MatIconModule,Q.MatLegacyMenuModule,f.TranslateModule],exports:[o_]})})();function d9(r,e,n){if(!r)return null;let a=r.find(i=>e(i));return a||(r.forEach(i=>{a||(a=d9(n(i),e,n))}),a)}function ez(r,e,n){if(!r)return null;let a=e(r);return a||(r.forEach(i=>{a||(a=ez(n(i),e,n))}),a)}class o0{constructor(e){this.actions=[],this.newChildActions=[],this.children=[],Object.assign(this,e),this.uId=this.uId||(0,de.qv)(),this.actions=this.actions||[],this.newChildActions=this.newChildActions||[],this.children=this.children||[]}static create(e){return new o0(e)}_createChildren(e){return o0.create({caption:e.name,uId:e.uId,parentUId:this.uId,actions:this.newChildActions,newChildActions:this.newChildActions})}addChildren(e){!e||e.length===0||e.forEach(n=>{const a=this._createChildren(n);this.children.push(a)})}hasChildren(){return this.children&&this.children.length>0}addChild(e){this.children.push(e)}}var c_;(function(r){r.editIcon="schema-descriptor-edit-icon.svg",r.showIcon="structure-item-show-icon.svg",r.addIcon="add-structure-item.svg",r.deleteIcon="structure-item-delete-icon.svg"})(c_||(c_={}));var l_;(function(r){r[r.Button=0]="Button",r[r.Menu=1]="Menu"})(l_||(l_={}));var dd;(function(r){r[r.show=0]="show",r[r.add=1]="add",r[r.delete=2]="delete",r[r.edit=3]="edit",r[r.nestedEdit=4]="nestedEdit"})(dd||(dd={}));class Ru{constructor(e){this.actionControlType=l_.Button,this.menuItems=[],this.isDisabled=!1,this.canHover=!1,Object.assign(this,e)}static createAddAction(e=null){return new Ru({tag:dd.add,icon:c_.addIcon,designerCommandType:e})}static createNestedEditAction(e=null){return new Ru({tag:dd.nestedEdit,icon:c_.editIcon,designerCommandType:e})}static createShowAction(e=null){return new Ru({tag:dd.show,icon:c_.showIcon,designerCommandType:e})}static createDeleteAction(e=null){return new Ru({tag:dd.delete,icon:c_.deleteIcon,designerCommandType:e})}static createEditAction(){return new Ru({tag:dd.edit,icon:"schema-descriptor-edit-icon.svg"})}}class h3{constructor(e){Object.assign(this,e)}}function nz(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",10),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.caption," ")}}function az(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-optgroup",8),t.\u0275\u0275template(1,nz,2,2,"mat-option",9),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("label",n.caption),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.children)}}class Mb{constructor(){this.selectedValue=new t.EventEmitter,this.clearValue=new t.EventEmitter,this.searchValue="",this.foundStructureElements$=new m.Subject}_createFoundElement(e,n){return{caption:e,uId:n}}_createChildFoundElement(e,n){const a=this._createFoundElement(e.caption.toString(),e.uId);return a.parentUId=e.parentUId||n,a}_createGroupFoundElements(e,n){const a=this._createFoundElement(e.caption.toString(),e.uId);return a.children=this._elementChildrenFilter(e,n),a}_createListGroup(e){const n=[e],a=[];for(;n.length!==0;){const i=n.shift();this._visitNode(i,a),i.hasChildren()&&i.children.forEach(s=>{n.push(s)})}return a}_visitNode(e,n){n.find(i=>i.uId===e.uId)||n.push(e)}_elementChildrenFilter(e,n){const a=n.toLowerCase(),i=[];return e.children.forEach(s=>{i.push(...this._createListGroup(s))}),i.filter(s=>s.caption.toString().toLowerCase().indexOf(a)!==-1).map(s=>this._createChildFoundElement(s,e.uId))}getElementCaption(e){return e?e.caption.toString():""}search(e){if(this.searchValue=e,!e){this.foundStructureElements$.next([]);return}e=e.toLocaleLowerCase(),this.foundStructureElements$.next(this.dataStructureElements.filter(n=>n.hasChildren()).map(n=>this._createGroupFoundElements(n,e)).filter(n=>n.children.length>0))}onClear(){this.search(""),this.clearValue.emit()}filterSelected(e){this.selectedValue.emit(e.option.value)}static{this.\u0275fac=function(n){return new(n||Mb)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Mb,selectors:[["ts-schema-designer-search"]],inputs:{placeholder:"placeholder",dataStructureElements:"dataStructureElements"},outputs:{selectedValue:"selectedValue",clearValue:"clearValue"},decls:9,vars:9,consts:[["auto","matAutocomplete"],["svgIcon","search"],["floatLabel","never"],["matInput","","type","text","tsDataItemMarker","search-in-structure","spellcheck","false",1,"search-input-field",3,"input","focus","value","placeholder","matAutocomplete"],["matSuffix","","mat-icon-button","","aria-label","Clear",1,"close",3,"click"],["svgIcon","close"],[3,"optionSelected","displayWith"],[3,"label",4,"ngFor","ngForOf"],[3,"label"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275element(0,"mat-icon",1),t.\u0275\u0275elementStart(1,"mat-form-field",2)(2,"input",3),t.\u0275\u0275listener("input",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.search(b.target.value))})("focus",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.search(b.target.value))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"button",4),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onClear())}),t.\u0275\u0275element(4,"mat-icon",5),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(5,"mat-autocomplete",6,0),t.\u0275\u0275listener("optionSelected",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.filterSelected(b))}),t.\u0275\u0275template(7,az,2,2,"mat-optgroup",7),t.\u0275\u0275pipe(8,"async"),t.\u0275\u0275elementEnd()}if(n&2){const i=t.\u0275\u0275reference(6);t.\u0275\u0275advance(2),t.\u0275\u0275property("value",a.searchValue)("placeholder",a.placeholder)("matAutocomplete",i),t.\u0275\u0275advance(),t.\u0275\u0275styleProp("visibility",a.searchValue?"inherit":"hidden"),t.\u0275\u0275advance(2),t.\u0275\u0275property("displayWith",a.getElementCaption),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(8,7,a.foundStructureElements$))}},dependencies:[_.NgForOf,_t.MatIcon,nt.MatLegacyButton,q.MatLegacyFormField,q.MatLegacySuffix,lt.MatLegacyInput,c.MatLegacyAutocomplete,c.MatLegacyAutocompleteTrigger,Tt.MatLegacyOption,Tt.MatLegacyOptgroup,Hn,_.AsyncPipe],styles:["[_nghost-%COMP%]{display:flex;line-height:18px}[_nghost-%COMP%]   .search-input-field[_ngcontent-%COMP%]{line-height:18px!important}[_nghost-%COMP%]   mat-icon[svgicon=search][_ngcontent-%COMP%]{width:16px;height:16px;margin-right:6px;padding-top:8px}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .mat-form-field[_ngcontent-%COMP%]   .mat-form-field-wrapper[_ngcontent-%COMP%]{display:inline}[_nghost-%COMP%]   button.close[_ngcontent-%COMP%]{position:relative;bottom:2px;height:21px;width:21px}"]})}}function iz(r,e){if(r&1&&t.\u0275\u0275element(0,"img",13),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("src",n.getBackgroundImage(n.node.icon),t.\u0275\u0275sanitizeUrl)}}function rz(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-icon",14),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("svgIcon",n.node.icon)}}function oz(r,e){r&1&&(t.\u0275\u0275elementStart(0,"div",15)(1,"span",16),t.\u0275\u0275text(2,"*"),t.\u0275\u0275elementEnd()())}function sz(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",17),t.\u0275\u0275element(1,"ts-schema-designer-node-marker",18),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("nodeCaption",n.node.caption)("toolTipConfig",n.node.schemaDesignerNodeTooltipConfig)}}function cz(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div",19),t.\u0275\u0275element(1,"mat-icon",20),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("svgIcon","info-icon")("tooltipConfig",n.tooltipConfig)}}function lz(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-icon",25),r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("svgIcon",n.node.tooltipIcon)("tooltipConfig",n.tooltipConfig)}}function dz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",26),t.\u0275\u0275elementContainerStart(1,27),t.\u0275\u0275listener("actionClick",function(i){const s=t.\u0275\u0275restoreView(n).$implicit,b=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(b.onNodeActionItemClick(b.node,s,i))}),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd()}if(r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("tsDataItemMarker",n.tag+"-"+a.node.caption),t.\u0275\u0275advance(),t.\u0275\u0275property("useFreedomComponents",a.useFreedomComponents)("structureAction",n)("isHovered",a.isNodeHovered)}}function pz(r,e){if(r&1&&t.\u0275\u0275element(0,"img",31),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("src",n.getGroupActionImagePath(n.node),t.\u0275\u0275sanitizeUrl)}}function uz(r,e){if(r&1&&t.\u0275\u0275element(0,"mat-icon",14),r&2){const n=t.\u0275\u0275nextContext(3);t.\u0275\u0275property("svgIcon",n.getGroupActionImagePath(n.node))}}function mz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",28)(1,"button",29),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.expandTreeNode(i.node.uId))}),t.\u0275\u0275template(2,pz,1,1,"img",30)(3,uz,1,1,"mat-icon",6),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(),t.\u0275\u0275property("tsDataItemMarker",n.getExpandedDataItemMarker(n.node)),t.\u0275\u0275attribute("aria-label","toggle "+n.node.caption),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!n.useMaterialIcons),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.useMaterialIcons)}}function gz(r,e){if(r&1&&(t.\u0275\u0275template(0,lz,1,2,"mat-icon",21),t.\u0275\u0275elementStart(1,"div",22),t.\u0275\u0275template(2,dz,2,4,"div",23)(3,mz,4,4,"div",24),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",n.node.tooltipIcon),t.\u0275\u0275advance(),t.\u0275\u0275classProp("hover-action-block",!n.useFreedomComponents),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",n.node.actions),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",n.useExpandButton)}}class d_{get tooltipConfig(){const e=this.node.disableTooltipConfig?.tooltipConfig?.value;if(e)return this._tooltipConfig||(this._tooltipConfig=new Bo.I({tooltipConfig:{value:this._translateService.instant(e)},preferredPositions:[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}],componentType:ll.x})),this._tooltipConfig}get showDisableEditTooltip(){return this.node.disabled}constructor(){this._imagePath="./assets/schema-designers/",this.useExpandButton=!1,this.suppressExpandOnClick=!1,this.canSelectRootTreeNode=!1,this.useFreedomComponents=!1,this.nodeActionClick=new t.EventEmitter,this.nodeClick=new t.EventEmitter,this.groupNodeClick=new t.EventEmitter,this.expandNode=new t.EventEmitter,this._translateService=(0,t.inject)(f.TranslateService)}_setNodeState(){this.control.isExpanded(this.node)?this.control.collapse(this.node):this.control.expand(this.node)}_getIconName(e){return this.control.isExpanded(e)?"up-arrows-icon":"down-arrows-icon"}_setIsNodeHovered(e){this.useFreedomComponents&&(this.isNodeHovered=e)}onNodeActionItemClick(e,n,a){const i=new h3;i.item=e,i.tag=n.tag,n.actionControlType===l_.Menu&&(i.menuItemType=a.type,i.tag=a.tag||n.tag),i.designerCommandType=n.designerCommandType,this.nodeActionClick.emit(i)}onNodeClick(){if(!this.node.canSelected){this._setNodeState();return}this.useExpandButton&&!this.suppressExpandOnClick&&this._setNodeState();const e=new h3;if(e.item=this.node,!e.item.disabled){if(!this.node.hasChildren()||this.canSelectRootTreeNode){this.nodeClick.emit(e);return}this.groupNodeClick.emit(e)}}getBackgroundImage(e){return e?`${this._imagePath}${e}`:""}getExpandedDataItemMarker(e){return`${e.caption}-${this.control.isExpanded(e)?"up":"down"}`}getGroupActionImagePath(e){const n=this._getIconName(e);return this.useMaterialIcons?n:`${this._imagePath}${n}.svg`}expandTreeNode(e){this.expandNode.emit(e)}mouseover(){this._setIsNodeHovered(!0)}mouseout(){this._setIsNodeHovered(!1)}static{this.\u0275fac=function(n){return new(n||d_)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:d_,selectors:[["ts-schema-designer-node"]],hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("mouseover",function(){return a.mouseover()})("mouseout",function(){return a.mouseout()})},inputs:{node:"node",control:"control",useExpandButton:"useExpandButton",suppressExpandOnClick:"suppressExpandOnClick",canSelectRootTreeNode:"canSelectRootTreeNode",useMaterialIcons:"useMaterialIcons",useFreedomComponents:"useFreedomComponents"},outputs:{nodeActionClick:"nodeActionClick",nodeClick:"nodeClick",groupNodeClick:"groupNodeClick",expandNode:"expandNode"},decls:15,vars:15,consts:[["actions",""],[1,"schema-structure-item",3,"ngStyle"],[1,"schema-structure-item-selected-ground"],[1,"schema-structure-item-left",3,"click"],[1,"schema-structure-icon"],["alt","node caption icon","draggable","false",3,"src",4,"ngIf"],[3,"svgIcon",4,"ngIf"],[1,"schema-structure-caption"],[3,"title"],["class","schema-structure-required",4,"ngIf"],["class","schema-structure-marked",4,"ngIf"],[1,"schema-structure-item-right"],["class","info-icon",4,"ngIf","ngIfElse"],["alt","node caption icon","draggable","false",3,"src"],[3,"svgIcon"],[1,"schema-structure-required"],["tsDataItemMarker","required_node",1,"required"],[1,"schema-structure-marked"],[3,"nodeCaption","toolTipConfig"],[1,"info-icon"],["crtTooltip","","matSuffix","","tabindex","0",3,"svgIcon","tooltipConfig"],["class","action-icon","crtTooltip","","matSuffix","","tabindex","0",3,"svgIcon","tooltipConfig",4,"ngIf"],[1,"schema-structure-actions"],[3,"tsDataItemMarker",4,"ngFor","ngForOf"],["class","exp-btn",4,"ngIf"],["crtTooltip","","matSuffix","","tabindex","0",1,"action-icon",3,"svgIcon","tooltipConfig"],[3,"tsDataItemMarker"],["tsActionsDesignerStructure","",3,"actionClick","useFreedomComponents","structureAction","isHovered"],[1,"exp-btn"],["mat-flat-button","","matTreeNodeToggle","",1,"expandable",3,"click","tsDataItemMarker"],["alt","node button icon",3,"src",4,"ngIf"],["alt","node button icon",3,"src"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275element(1,"div",2),t.\u0275\u0275elementStart(2,"div",3),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onNodeClick())}),t.\u0275\u0275elementStart(3,"div",4),t.\u0275\u0275template(4,iz,1,1,"img",5)(5,rz,1,1,"mat-icon",6),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(6,"div",7)(7,"span",8),t.\u0275\u0275text(8),t.\u0275\u0275elementEnd()(),t.\u0275\u0275template(9,oz,3,0,"div",9)(10,sz,2,2,"div",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"div",11),t.\u0275\u0275template(12,cz,2,2,"div",12)(13,gz,4,5,"ng-template",null,0,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()()}if(n&2){const i=t.\u0275\u0275reference(14);t.\u0275\u0275classProp("schema-structure-item-hover",a.node.canSelected)("schema-structure-item-selected",a.node.selected)("schema-structure-item-disabled",a.node.disabled),t.\u0275\u0275property("ngStyle",a.node.styles),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",!a.useMaterialIcons&&a.node.icon),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.useMaterialIcons&&a.node.icon),t.\u0275\u0275advance(2),t.\u0275\u0275property("title",a.node.caption),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(a.node.caption),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.node.required),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.node.isMarked),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.showDisableEditTooltip&&!a.node.tooltipIcon)("ngIfElse",i)}},styles:[".schema-structure-item[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center;position:relative;z-index:1}.schema-structure-item-left[_ngcontent-%COMP%]{overflow:hidden;width:100%;height:100%;display:flex;align-items:center;z-index:inherit}.schema-structure-item-left[_ngcontent-%COMP%]   .schema-structure-icon[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.schema-structure-item-left[_ngcontent-%COMP%]   .schema-structure-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-bottom:1px}.schema-structure-item-left[_ngcontent-%COMP%]   .schema-structure-caption[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}.schema-structure-item-left[_ngcontent-%COMP%]   .schema-structure-required[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.schema-structure-item-right[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:8px}.schema-structure-item-right[_ngcontent-%COMP%]   .schema-structure-actions[_ngcontent-%COMP%]{display:flex;margin-left:auto;justify-content:flex-end}.schema-structure-item-right[_ngcontent-%COMP%]   .schema-structure-actions[_ngcontent-%COMP%]   .exp-btn[_ngcontent-%COMP%]   .mat-flat-button[_ngcontent-%COMP%]{height:30px;min-width:30px;line-height:0;padding:0;border-radius:50%;background-color:transparent}.schema-structure-item-right[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 8px}.schema-structure-item-right[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .schema-structure-item-right[_ngcontent-%COMP%]   .action-icon[_ngcontent-%COMP%]{width:16px;height:16px;z-index:1}.schema-structure-item.schema-structure-item-disabled[_ngcontent-%COMP%]   .schema-structure-item-left[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none;cursor:default}.schema-structure-item-selected-ground[_ngcontent-%COMP%]{display:none;height:inherit;width:1000%;right:0;position:absolute}"]})}}const hz=["schemaDesignerStructureWrapper"];function _z(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",8)(1,"ts-schema-designer-node",9),t.\u0275\u0275listener("nodeActionClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onTreeItemActionClick(i))})("nodeClick",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onEditSchema())}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275classProp("schema-structure-item-hover",n.schemaDescriptor.canSelected)("schema-structure-item-selected",n.schemaDescriptor.selected),t.\u0275\u0275property("node",n.schemaDescriptor)("control",n.treeControl)("useMaterialIcons",n.useMaterialIcons)}}function fz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",10)(1,"ts-schema-designer-search",11),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("selectedValue",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onFilteredStructureElementSelected(i))})("clearValue",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.onFilteredStructureElementClear())}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("placeholder",t.\u0275\u0275pipeBind1(2,2,"SelectSysAdminUnitDialog.Search"))("dataStructureElements",n.treeDataSource.data)}}function bz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-tree-node",12)(1,"ts-schema-designer-node",13),t.\u0275\u0275listener("nodeClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onTreeItemClick(i))})("nodeActionClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onTreeItemActionClick(i))}),t.\u0275\u0275elementEnd()()}if(r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("schema-structure-item-hover",n.canSelected)("schema-structure-item-selected",n.selected),t.\u0275\u0275property("tsDataItemMarker",n.caption),t.\u0275\u0275advance(),t.\u0275\u0275property("node",n)("control",a.treeControl)("useMaterialIcons",a.useMaterialIcons)("useFreedomComponents",a.useFreedomComponents)}}function Cz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"mat-nested-tree-node",14)(1,"ts-schema-designer-node",15),t.\u0275\u0275listener("nodeClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onTreeItemClick(i))})("nodeActionClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onTreeItemActionClick(i))})("groupNodeClick",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onTreeGroupClick(i))})("expandNode",function(i){t.\u0275\u0275restoreView(n);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onExpandNode(i))}),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(2,"div",16),t.\u0275\u0275elementContainer(3,17),t.\u0275\u0275elementEnd()()}if(r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext();t.\u0275\u0275classProp("schema-structure-item-hover",n.canSelected)("schema-structure-item-selected",n.selected),t.\u0275\u0275property("tsDataItemMarker",n.caption),t.\u0275\u0275advance(),t.\u0275\u0275property("node",n)("control",a.treeControl)("useExpandButton",!0)("suppressExpandOnClick",a.suppressExpandGroupOnClick)("canSelectRootTreeNode",a.canSelectRootTreeNode)("useMaterialIcons",a.useMaterialIcons)("useFreedomComponents",a.useFreedomComponents),t.\u0275\u0275advance(),t.\u0275\u0275classProp("schema-structure-item-invisible",!a.treeControl.isExpanded(n)),t.\u0275\u0275property("tsDataItemMarker",n.caption)}}class Is{constructor(){this.isHeaderVisibled=!0,this.suppressExpandGroupOnClick=!1,this.canSelectRootTreeNode=!1,this.useMaterialIcons=!1,this.useFreedomComponents=!1,this._schemaDescription=o0.create({icon:"",caption:"",actions:[Ru.createEditAction()],selected:!1}),this._expandsNodeUIds=new Set,this.treeControl=new a3.NestedTreeControl(Is._getChildren),this.treeDataSource=new Ms.MatTreeNestedDataSource,this.itemClick=new t.EventEmitter,this.groupClick=new t.EventEmitter,this.itemActionClick=new t.EventEmitter}set dataSource(e){this._dataSource=e||[],this._refreshTree(),this._markSelectItem(),this._expandNodes()}set caption(e){this._schemaDescription.caption=e}set designerTypeCaptionImage(e){this._schemaDescription.icon=e}set canSelectSchemaDescriptor(e){this._schemaDescription.canSelected=e}set hideSchemaDescriptorActions(e){e&&(this._schemaDescription.actions=[])}get schemaDescriptor(){return this._schemaDescription}static _setElementSelectedValue(e,n){e&&(e.selected=n)}static _getChildren(e){return e.hasChildren()?e.children:null}_markSelectItem(){const{itemForSelect:e,parentItem:n}=this._findItemForSelect(this._dataSource)||{};let a=e;this._schemaDescription.canSelected&&(a?n&&this.treeControl.expand(n):a=this._schemaDescription),this._selectStructureElement(a)}_findItemForSelect(e){if(!e)return null;let n=null,a=null;for(const i of e)if(i.hasChildren()?(a=i,n=this._findItemForSelect(i.children).itemForSelect):n=i.canSelected&&i.selected?i:null,n)break;return{itemForSelect:n,parentItem:a}}_unMarkNestedStructureElement(){Is._setElementSelectedValue(this._selectedNestedStructureElement,!1),this._selectedNestedStructureElement=null}_markNestedStructureElement(e){this._selectedNestedStructureElement=e,Is._setElementSelectedValue(this._selectedNestedStructureElement,!0)}_unMarkRootStructureElement(){Is._setElementSelectedValue(this._selectedRootStructureElement,!1),this._selectedRootStructureElement=null}_markRootStructureElement(e){e.canSelected&&(this._selectedRootStructureElement=e,Is._setElementSelectedValue(this._selectedRootStructureElement,!0))}_selectFoundNode(e){this._unMarkNestedStructureElement();const n=this._findNode(e.parentUId,this.treeDataSource.data);if(n){const a=n.children.find(i=>i.caption===e.caption);this._markNestedStructureElement(a)}}_selectStructureElement(e){e?.canSelected&&(this._unMarkNestedStructureElement(),this._unMarkRootStructureElement(),e.parentUId?this._markNestedStructureElement(e):this._markRootStructureElement(e))}_scrollToSelectedItem(){setTimeout(()=>{const n=this.treeControlWrapper.nativeElement.querySelector(".schema-structure-item-selected");n&&n.scrollIntoView()},0)}_refreshTree(){this.treeDataSource.data=null,this.treeDataSource.data=this._dataSource}_findNode(e,n){return d9(n,a=>a.uId===e,a=>a.children)}_expandNodes(){this._expandsNodeUIds.size!==0&&this._expandsNodeUIds.forEach(e=>{const n=this._findNode(e,this._dataSource);n&&this.treeControl.expand(n)})}onExpandNode(e){this._expandsNodeUIds.has(e)?this._expandsNodeUIds.delete(e):this._expandsNodeUIds.add(e)}trackByFn(e,n){return n.uId}onEditSchema(){if(!this._schemaDescription.canSelected)return;const e=new h3;e.tag=dd.edit,e.item=this._schemaDescription,this._selectStructureElement(this._schemaDescription),this.itemActionClick.emit(e)}hasChild(e,n){return n&&n.hasChildren()}onTreeItemActionClick(e){this._unMarkNestedStructureElement(),this.itemActionClick.emit(e)}onTreeItemClick(e){this._selectStructureElement(e.item),this.itemClick.emit(e)}onTreeGroupClick(e){this.groupClick.emit(e)}getBackgroundImage(e){return e?"./assets/schema-designers/"+e:""}onFilteredStructureElementSelected(e){const n=this.treeDataSource.data,a=e.parentUId;let i=this._findNode(a,n);if(i){for(;i;)this.treeControl.expand(i),i=this._findNode(i.parentUId,n);this._selectFoundNode(e),this._scrollToSelectedItem()}}onFilteredStructureElementClear(){this._unMarkNestedStructureElement()}addNewItemIntoStructure(e,n,a=!0){const i=this._findNode(e,this._dataSource);i.children.unshift(n),this._refreshTree(),this.treeControl.expand(i),a&&this._selectStructureElement(n)}editItemIntoStructure(e){const n=this._findNode(e.parentUId,this._dataSource),a=n.children.findIndex(i=>i.uId===e.uId);a>=0&&(n.children[a]=e),this._refreshTree(),this.treeControl.expand(n),this._selectStructureElement(e)}removeItemFromStructure(e){const n=this._findNode(e.parentUId,this._dataSource),a=n.children.findIndex(i=>i.uId===e.uId);a>=0&&(n.children.splice(a,1),this._refreshTree())}ngAfterViewInit(){this._scrollToSelectedItem()}static{this.\u0275fac=function(n){return new(n||Is)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Is,selectors:[["ts-schema-designer-structure"]],viewQuery:function(n,a){if(n&1&&t.\u0275\u0275viewQuery(hz,7),n&2){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(a.treeControlWrapper=i.first)}},inputs:{dataSource:"dataSource",caption:"caption",designerTypeCaptionImage:"designerTypeCaptionImage",canSelectSchemaDescriptor:"canSelectSchemaDescriptor",hideSchemaDescriptorActions:"hideSchemaDescriptorActions",isHeaderVisibled:"isHeaderVisibled",suppressExpandGroupOnClick:"suppressExpandGroupOnClick",canSelectRootTreeNode:"canSelectRootTreeNode",useMaterialIcons:"useMaterialIcons",useFreedomComponents:"useFreedomComponents",isSearchEnabled:"isSearchEnabled"},outputs:{itemClick:"itemClick",groupClick:"groupClick",itemActionClick:"itemActionClick"},decls:8,vars:6,consts:[["schemaDesignerStructureWrapper",""],[1,"schema-designer-structure"],["class","designer-type",4,"ngIf"],["class","search-container",4,"ngIf"],[1,"tree-wrapper"],[3,"dataSource","treeControl","trackBy"],["matTreeNodeToggle","",3,"tsDataItemMarker","schema-structure-item-hover","schema-structure-item-selected",4,"matTreeNodeDef"],[3,"tsDataItemMarker","schema-structure-item-hover","schema-structure-item-selected",4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"designer-type"],[3,"nodeActionClick","nodeClick","node","control","useMaterialIcons"],[1,"search-container"],[3,"selectedValue","clearValue","placeholder","dataStructureElements"],["matTreeNodeToggle","",3,"tsDataItemMarker"],[3,"nodeClick","nodeActionClick","node","control","useMaterialIcons","useFreedomComponents"],[3,"tsDataItemMarker"],[3,"nodeClick","nodeActionClick","groupNodeClick","expandNode","node","control","useExpandButton","suppressExpandOnClick","canSelectRootTreeNode","useMaterialIcons","useFreedomComponents"],[1,"mat-nested-tree-node-properties",3,"tsDataItemMarker"],["matTreeNodeOutlet",""]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",1),t.\u0275\u0275template(1,_z,2,7,"div",2)(2,fz,3,4,"div",3),t.\u0275\u0275elementStart(3,"div",4,0)(5,"mat-tree",5),t.\u0275\u0275template(6,bz,2,9,"mat-tree-node",6)(7,Cz,4,15,"mat-nested-tree-node",7),t.\u0275\u0275elementEnd()()()),n&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isHeaderVisibled),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isSearchEnabled),t.\u0275\u0275advance(3),t.\u0275\u0275property("dataSource",a.treeDataSource)("treeControl",a.treeControl)("trackBy",a.trackByFn),t.\u0275\u0275advance(2),t.\u0275\u0275property("matTreeNodeDefWhen",a.hasChild))},dependencies:[_.NgIf,Ms.MatNestedTreeNode,Ms.MatTreeNodeDef,Ms.MatTreeNodeToggle,Ms.MatTree,Ms.MatTreeNode,Ms.MatTreeNodeOutlet,Hn,Mb,d_,f.TranslatePipe],styles:[`ts-schema-designer-structure{display:block;width:100%}.schema-designer-structure .schema-structure-item-selected{background-color:#e3e9f9}.schema-designer-structure .designer-type{background:#fff 0% 0% no-repeat padding-box;border-bottom:1px solid #e6e6e6;width:100%;display:flex;align-items:center;height:42px}.schema-designer-structure .designer-type ts-schema-designer-node{width:100%;font-size:14px}.schema-designer-structure .search-container{margin-left:15px;margin-top:10px;margin-bottom:10px;height:32px}.schema-designer-structure .tree-wrapper{display:block;overflow:auto;max-height:initial;height:calc(100vh - 172px)}.schema-designer-structure .tree-wrapper>.mat-tree .mat-tree-node{line-height:19px;min-height:36px;height:36px;white-space:nowrap}.schema-designer-structure .tree-wrapper>.mat-tree>.mat-tree-node{font-size:16px}.schema-designer-structure .tree-wrapper>.mat-tree>.mat-nested-tree-node{font-size:16px}.schema-designer-structure .tree-wrapper .mat-nested-tree-node .schema-structure-item{line-height:19px;height:36px;white-space:nowrap}.schema-designer-structure .tree-wrapper .mat-nested-tree-node .schema-structure-item-invisible{display:none}.schema-designer-structure .tree-wrapper .mat-nested-tree-node .schema-structure-item-selected{background-color:#e3e9f9}.schema-designer-structure .tree-wrapper .mat-nested-tree-node .schema-structure-item-selected>ts-schema-designer-node>.schema-structure-item>.schema-structure-item-selected-ground{display:block}.schema-designer-structure .tree-wrapper .mat-nested-tree-node .mat-tree-node{font-size:14px}.schema-designer-structure .tree-wrapper .mat-nested-tree-node .mat-tree-node ts-schema-designer-node .schema-structure-actions.hover-action-block{display:none}.schema-designer-structure .tree-wrapper .mat-nested-tree-node .mat-tree-node:hover{cursor:pointer}.schema-designer-structure .tree-wrapper .mat-nested-tree-node .mat-tree-node:hover>ts-schema-designer-node>.schema-structure-item>.schema-structure-item-selected-ground{display:block;background-color:#f2f5ff}.schema-designer-structure .tree-wrapper .mat-nested-tree-node .mat-tree-node:hover>ts-schema-designer-node .schema-structure-actions.hover-action-block{display:flex}.schema-designer-structure .tree-wrapper ts-schema-designer-node{width:100%;height:100%}.schema-designer-structure .tree-wrapper .mat-nested-tree-node-properties{padding-left:14px}.schema-structure-icon{margin-left:16px;display:inline-block;width:16px;min-width:16px;height:16px;margin-right:8px}
`],encapsulation:2})}}function kH(r){const{altKey:e,code:n,ctrlKey:a,shiftKey:i,metaKey:s}=r;return n==="Escape"&&!a&&!i&&!e&&!s}function yz(r){const{altKey:e,code:n,ctrlKey:a,shiftKey:i,metaKey:s}=r;return n==="KeyS"&&(a||s)&&!i&&!e}function RH(r){const{altKey:e,code:n,ctrlKey:a,shiftKey:i,metaKey:s}=r;return n==="KeyZ"&&(a||s)&&i&&!e}function NH(r){const{altKey:e,code:n,ctrlKey:a,shiftKey:i,metaKey:s}=r;return n==="KeyZ"&&(a||s)&&!i&&!e}var vz=o(8883);const Mz=["*"];function Iz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",7),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.save())}),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("disabled",!n.saveButtonEnabled)("menuItems",n.saveMenuItems)("caption",t.\u0275\u0275pipeBind1(1,8,n.captionKey))("title",t.\u0275\u0275pipeBind1(2,10,n.captionKey))("textTransform","uppercase")("disableRipple",!0)("ariaLabel",t.\u0275\u0275pipeBind1(3,12,n.captionKey))("tsDataItemMarker","SaveAndPublish")}}function xz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",8),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.cancel())}),t.\u0275\u0275elementEnd()}r&2&&t.\u0275\u0275property("ariaLabel",t.\u0275\u0275pipeBind1(1,7,"BasePageComponent.Cancel"))("iconPosition","left-icon")("displayType","contained")("textTransform","uppercase")("caption",t.\u0275\u0275pipeBind1(2,9,"BasePageComponent.Cancel"))("color","primary")("tsDataItemMarker","Cancel")}function Sz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"crt-button",9),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.close())}),t.\u0275\u0275elementEnd()}r&2&&t.\u0275\u0275property("displayType","contained")("textTransform","uppercase")("caption",t.\u0275\u0275pipeBind1(1,6,"BasePageComponent.Close"))("color","primary")("ariaLabel",t.\u0275\u0275pipeBind1(2,8,"BasePageComponent.Close"))("tsDataItemMarker","Close")}function wz(r,e){if(r&1&&(t.\u0275\u0275element(0,"crt-button",10),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275pipe(2,"translate")),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("menuItems",n.actionsMenuItems)("caption",t.\u0275\u0275pipeBind1(1,9,"BasePageComponent.Actions"))("textTransform","uppercase")("disableRipple",!0)("displayType","contained")("iconPosition","left-icon")("clickMode","menu")("ariaLabel",t.\u0275\u0275pipeBind1(2,11,"BasePageComponent.Actions"))("tsDataItemMarker","Actions")}}class Ib{set captionKey(e){this._captionKey=e}get captionKey(){return this._captionKey}constructor(e){this._dialogService=e,this._captionKey="BasePageComponent.Save",this.iconPositionEnum=pe,this.sizeEnum=ht.Z,this.saveButtonVisible=!1,this.saveButtonEnabled=!0,this.actionsMenuItems=[],this.saveMenuItems=[],this.defaultSaveClicked=new t.EventEmitter,this.cancelClick=new t.EventEmitter,this.closeClick=new t.EventEmitter}save(){this.defaultSaveClicked.emit()}cancel(){this.cancelClick.emit()}close(){this.closeClick.emit()}onKeyDown(e){yz(e)&&(e.preventDefault(),this.saveButtonVisible&&!this._dialogService.hasOpenDialogs()&&this.save())}static{this.\u0275fac=function(n){return new(n||Ib)(t.\u0275\u0275directiveInject(Kt.o))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ib,selectors:[["ts-schema-designer-page-header"]],hostBindings:function(n,a){n&1&&t.\u0275\u0275listener("keydown",function(s){return a.onKeyDown(s)},!1,t.\u0275\u0275resolveWindow)},inputs:{saveButtonVisible:"saveButtonVisible",saveButtonEnabled:"saveButtonEnabled",actionsMenuItems:"actionsMenuItems",captionKey:"captionKey",saveMenuItems:"saveMenuItems"},outputs:{defaultSaveClicked:"defaultSaveClicked",cancelClick:"cancelClick",closeClick:"closeClick"},ngContentSelectors:Mz,decls:9,vars:4,consts:[[1,"header"],[1,"pane"],["header","",1,"header-action"],["class","save-action-button",3,"disabled","menuItems","caption","title","textTransform","disableRipple","ariaLabel","tsDataItemMarker","clicked",4,"ngIf"],[3,"ariaLabel","iconPosition","displayType","textTransform","caption","color","tsDataItemMarker","clicked",4,"ngIf"],[3,"displayType","textTransform","caption","color","ariaLabel","tsDataItemMarker","clicked",4,"ngIf"],["class","actions-menu",3,"menuItems","caption","textTransform","disableRipple","displayType","iconPosition","clickMode","ariaLabel","tsDataItemMarker",4,"ngIf"],[1,"save-action-button",3,"clicked","disabled","menuItems","caption","title","textTransform","disableRipple","ariaLabel","tsDataItemMarker"],[3,"clicked","ariaLabel","iconPosition","displayType","textTransform","caption","color","tsDataItemMarker"],[3,"clicked","displayType","textTransform","caption","color","ariaLabel","tsDataItemMarker"],[1,"actions-menu",3,"menuItems","caption","textTransform","disableRipple","displayType","iconPosition","clickMode","ariaLabel","tsDataItemMarker"]],template:function(n,a){n&1&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"ts-header")(3,"div",2),t.\u0275\u0275template(4,Iz,4,14,"crt-button",3)(5,xz,3,11,"crt-button",4)(6,Sz,3,10,"crt-button",5),t.\u0275\u0275projection(7),t.\u0275\u0275template(8,wz,3,13,"crt-button",6),t.\u0275\u0275elementEnd()()()()),n&2&&(t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.saveButtonVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.saveButtonVisible),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!a.saveButtonVisible),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",a.actionsMenuItems.length>0))},dependencies:[_.NgIf,vz.l,Hn,Jt,f.TranslatePipe],styles:[".header[_ngcontent-%COMP%]{position:absolute;height:67px!important}.header[_ngcontent-%COMP%]   .pane[_ngcontent-%COMP%]{height:55px;border-radius:3px!important}.header[_ngcontent-%COMP%]   .pane[_ngcontent-%COMP%]   ts-header[_ngcontent-%COMP%]{padding-bottom:12px}.header[_ngcontent-%COMP%]   .pane[_ngcontent-%COMP%]   ts-header[_ngcontent-%COMP%]   .header-action[_ngcontent-%COMP%]{display:flex;gap:10px}"]})}}class xb{constructor(){this.buttonClick=new t.EventEmitter,this._useFreedomComponents=!1,this.isVisible=!0}get useFreedomComponents(){return this._useFreedomComponents}set useFreedomComponents(e){this._useFreedomComponents=e,this.onUseFreedomComponentsChanged()}get actionInfo(){return this._actionInfo}set actionInfo(e){this._actionInfo=e,this.onActionItemChanged()}onActionItemChanged(){}onUseFreedomComponentsChanged(){}getBackgroundImage(e){return e?"./assets/schema-designers/"+e:""}btnClick(e){e.isDisabled||this.buttonClick.emit(e)}static{this.\u0275fac=function(n){return new(n||xb)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:xb,outputs:{buttonClick:"buttonClick"}})}}function Ez(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"crt-button",1),t.\u0275\u0275listener("clicked",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.btnClick(i.actionInfo))}),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275styleProp("display",n.isVisible?"block":"none"),t.\u0275\u0275property("icon",n.actionInfo.icon)}}function Tz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"button",2),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.btnClick(i.actionInfo))}),t.\u0275\u0275element(2,"img",3),t.\u0275\u0275elementEnd()()}if(r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275property("src",n.getBackgroundImage(n.actionInfo.icon),t.\u0275\u0275sanitizeUrl)}}class p_ extends xb{static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(p_)))(a||p_)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:p_,selectors:[["ts-action-button"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:2,consts:[[4,"ngIf"],[3,"clicked","icon"],["mat-icon-button","",3,"click"],["alt","node button icon",3,"src"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,Ez,2,3,"div",0)(1,Tz,3,1,"div",0),n&2&&(t.\u0275\u0275property("ngIf",a.useFreedomComponents),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!a.useFreedomComponents))},dependencies:[_.NgIf,nt.MatLegacyButton,Jt],styles:[".mat-icon-button[_ngcontent-%COMP%], .mat-mdc-icon-button[_ngcontent-%COMP%]{height:30px;width:30px;line-height:0}"]})}}function Pz(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div"),t.\u0275\u0275element(1,"crt-button",7,0)(3,"crt-menu",8,1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275reference(2),a=t.\u0275\u0275reference(4),i=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275styleProp("display",i.isVisible||n!=null&&n.menuOpen?"block":"none"),t.\u0275\u0275property("crtMenuTriggerFor",a)("icon",i.menuIcon)("tsDataItemMarker","schema-designer-structure-action-menu-"+i.actionInfo.tag),t.\u0275\u0275advance(2),t.\u0275\u0275property("panelClass","schema-designer-structure-menu")("menuItems",i.menuItems)}}function Oz(r,e){r&1&&t.\u0275\u0275element(0,"span")}function Dz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",17),t.\u0275\u0275listener("click",function(){const i=t.\u0275\u0275restoreView(n).$implicit,s=t.\u0275\u0275nextContext(4);return t.\u0275\u0275resetView(s.btnClick(i))}),t.\u0275\u0275element(1,"img",15),t.\u0275\u0275elementStart(2,"span"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()}if(r&2){const n=e.$implicit,a=t.\u0275\u0275nextContext(4);t.\u0275\u0275property("tsDataItemMarker","sub_menu_"+n.title),t.\u0275\u0275advance(),t.\u0275\u0275property("src",a.getBackgroundImage(n.icon),t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(n.title)}}function Az(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"button",14),t.\u0275\u0275element(1,"img",15),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-menu",null,5),t.\u0275\u0275template(5,Dz,4,3,"button",16),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275reference(4),a=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("matMenuTriggerFor",n)("ngClass",a.isDisabled?"btn-menu-disabled":"btn-menu")("tsDataItemMarker","menu_"+a.title),t.\u0275\u0275advance(),t.\u0275\u0275property("src",i.getBackgroundImage(a.icon),t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",a.title," "),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",a.items)}}function Lz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",17),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext().$implicit,s=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(s.btnClick(i))}),t.\u0275\u0275element(1,"img",15),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext().$implicit,a=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("tsDataItemMarker","menu_"+n.title),t.\u0275\u0275advance(),t.\u0275\u0275property("src",a.getBackgroundImage(n.icon),t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.title," ")}}function kz(r,e){if(r&1&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,Oz,1,0,"span",13)(2,Az,6,6,"ng-template",null,3,t.\u0275\u0275templateRefExtractor)(4,Lz,3,3,"ng-template",null,4,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementContainerEnd()),r&2){const n=e.$implicit,a=t.\u0275\u0275reference(3),i=t.\u0275\u0275reference(5);t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",(n.items==null?null:n.items.length)>0)("ngIfThen",a)("ngIfElse",i)}}function Rz(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"div")(1,"button",9),t.\u0275\u0275element(2,"img",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(3,"mat-menu",11,2),t.\u0275\u0275template(5,kz,6,3,"ng-container",12),t.\u0275\u0275elementEnd()()),r&2){const n=t.\u0275\u0275reference(4),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("matMenuTriggerFor",n),t.\u0275\u0275advance(),t.\u0275\u0275property("src",a.getBackgroundImage(a.actionInfo.icon),t.\u0275\u0275sanitizeUrl),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngForOf",a.actionInfo.menuItems)}}class u_ extends xb{_initMenu(){this.useFreedomComponents&&(this.menuIcon=this.actionInfo.icon,this.menuItems=this.actionInfo.menuItems.map(e=>({caption:e.title,icon:e.icon,type:"action",disabled:e.isDisabled,handler:()=>{this.btnClick({tag:e.tag})}})))}onActionItemChanged(){super.onActionItemChanged(),this._initMenu()}onUseFreedomComponentsChanged(){super.onUseFreedomComponentsChanged(),this._initMenu()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(u_)))(a||u_)}})()}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:u_,selectors:[["ts-action-menu"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:2,vars:2,consts:[["trigger","crtMenuTrigger"],["menu",""],["menu","matMenu"],["btnMenu",""],["btn",""],["sub_menu","matMenu"],[4,"ngIf"],[3,"crtMenuTriggerFor","icon","tsDataItemMarker"],[3,"panelClass","menuItems"],["mat-icon-button","",3,"matMenuTriggerFor"],["alt","node button icon",3,"src"],[1,"schema-designer-structure-menu"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfThen","ngIfElse"],["mat-menu-item","",3,"matMenuTriggerFor","ngClass","tsDataItemMarker"],["alt","menu button icon",1,"btn-menu-icon",3,"src"],["mat-menu-item","","class","btn-menu",3,"tsDataItemMarker","click",4,"ngFor","ngForOf"],["mat-menu-item","",1,"btn-menu",3,"click","tsDataItemMarker"]],template:function(n,a){n&1&&t.\u0275\u0275template(0,Pz,5,7,"div",6)(1,Rz,6,3,"div",6),n&2&&(t.\u0275\u0275property("ngIf",a.useFreedomComponents),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",!a.useFreedomComponents))},dependencies:[_.NgClass,_.NgForOf,_.NgIf,nt.MatLegacyButton,Q.MatLegacyMenu,Q.MatLegacyMenuItem,Q.MatLegacyMenuTrigger,Hn,Ua,ri,Jt],styles:[".mat-icon-button[_ngcontent-%COMP%], .mat-mdc-icon-button[_ngcontent-%COMP%]{height:30px;width:30px;line-height:0}.btn-menu[_ngcontent-%COMP%]{display:flex;align-items:center}.btn-menu-icon[_ngcontent-%COMP%]{padding-right:10px}"]})}}class Sb{constructor(){this.svgIconName="schema-designer-marker-icon"}set toolTipConfig(e){e&&(this.tooltipConfig=new Bo.I({tooltipConfig:{value:e.toolTipMessage},preferredPositions:[{originX:"end",originY:"top",overlayX:"center",overlayY:"bottom"}],panelClass:["base-tooltip",e.tooltipPanelClass],componentType:ll.x}))}set nodeCaption(e){this.dataMarker=e+"-marker"}static{this.\u0275fac=function(n){return new(n||Sb)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Sb,selectors:[["ts-schema-designer-node-marker"]],inputs:{toolTipConfig:"toolTipConfig",nodeCaption:"nodeCaption"},decls:1,vars:3,consts:[["crtTooltip","",1,"changed-item-marker",3,"tsDataItemMarker","svgIcon","tooltipConfig"]],template:function(n,a){n&1&&t.\u0275\u0275element(0,"mat-icon",0),n&2&&t.\u0275\u0275property("tsDataItemMarker",a.dataMarker)("svgIcon",a.svgIconName)("tooltipConfig",a.tooltipConfig)},dependencies:[_t.MatIcon,Hn,na.d],styles:[".changed-item-marker[_ngcontent-%COMP%]{display:flex;margin:0 8px;width:9px;height:9px;align-content:center}"]})}}class m_{static{this._components={[l_.Button]:p_,[l_.Menu]:u_}}set isHovered(e){!this.componentRef||!this.structureAction.canHover||(this.componentRef.instance.isVisible=e)}constructor(e){this.container=e,this._destroyed=new m.Subject,this.useFreedomComponents=!1,this.actionClick=new t.EventEmitter}ngOnInit(){const e=m_._components[this.structureAction.actionControlType];e&&(this.componentRef=this.container.createComponent(e),this.componentRef.instance.actionInfo=this.structureAction,this.componentRef.instance.useMaterialIcons=this.useMaterialIcons,this.componentRef.instance.useFreedomComponents=this.useFreedomComponents,this.componentRef.instance.isVisible=!this.structureAction.canHover,this.componentRef.instance.buttonClick.pipe((0,h.takeUntil)(this._destroyed)).subscribe(n=>{this.actionClick.emit(n)}))}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}static{this.\u0275fac=function(n){return new(n||m_)(t.\u0275\u0275directiveInject(t.ViewContainerRef))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:m_,selectors:[["","tsActionsDesignerStructure",""]],inputs:{structureAction:"structureAction",useMaterialIcons:"useMaterialIcons",useFreedomComponents:"useFreedomComponents",isHovered:"isHovered"},outputs:{actionClick:"actionClick"}})}}const p9=new t.InjectionToken("Panel class of detailed warning dialog that is used before operation execution");var nn;(function(r){r[r.SqlScript=0]="SqlScript",r[r.SchemaData=1]="SchemaData",r[r.Assembly=2]="Assembly",r[r.EntitySchema=3]="EntitySchema",r[r.ClientUnitSchema=4]="ClientUnitSchema",r[r.SourceCodeSchema=5]="SourceCodeSchema",r[r.ProcessSchema=6]="ProcessSchema",r[r.DcmSchema=7]="DcmSchema",r[r.ProcessUserTaskSchema=8]="ProcessUserTaskSchema",r[r.CampaignSchema=9]="CampaignSchema",r[r.ServiceSchema=10]="ServiceSchema",r[r.AddonSchema=11]="AddonSchema",r[r.CopilotIntentSchema=12]="CopilotIntentSchema"})(nn||(nn={}));class Xe{static{this._sourceCodeSchemaDesignerCodeUrl="SourceCodeSchemaDesigner"}static{this._clientUnitSchemaDesignerUrl="ClientUnitSchemaDesigner"}constructor(e){this._features=e}static _getClientUnitSchemaInfo(e,n={isInterfaceDesignerFeatureOn:!1}){const a=n.isInterfaceDesignerFeatureOn?this.getInterfaceDesignerOpenTemplate():Xe._clientUnitSchemaDesignerUrl+"/{0}";return{itemTypes:[nn.ClientUnitSchema],itemType:nn.ClientUnitSchema,createTemplate:n.createTemplate,createDialogComponentName:n.createDialogComponentName,openTemplate:e+a,itemTitle:n.itemTitle,name:n.name}}static _addAngularSchemaInfo(e,n){e.splice(3,0,Xe._getClientUnitSchemaInfo(n,{createTemplate:n+"InterfaceDesigner?packageUId={0}&useFullHierarchy={1}",itemTitle:"WorkspaceExplorer.Section.Items.Add.ClientUnit.AngularSchema",createDialogComponentName:"page-template-lookup",isInterfaceDesignerFeatureOn:!0,name:"angular-schema"}))}static _addExtendingAngularSchemaInfo(e,n){const a={createTemplate:n+Xe._clientUnitSchemaDesignerUrl+"/new?packageId={0}&packageName={1}&schemaType=9&extendParent=true",itemTitle:"WorkspaceExplorer.Section.Items.Add.ClientUnit.ExtendedAngularSchema",name:"extended-angular-schema"};e.splice(10,0,Xe._getClientUnitSchemaInfo(n,a))}static _getEntitySchemaInfo(e,n){return{itemTypes:[nn.EntitySchema],itemType:nn.EntitySchema,createTemplate:e+`EntitySchemaDesigner/new?packageId={0}&packageName={1}&useFullHierarchy={2}&extendParent=${n.isExtendParent}`,openTemplate:e+this.getEntitySchemaDesignerOpenTemplate(),itemTitle:n.itemTitle,name:n.name}}static _getEntitySchemaDesignerOpenToExtendTemplate(){return"EntitySchemaDesigner/new?packageId={0}&packageName={1}&useFullHierarchy={2}&extendParent=true&parentSchemaUId={3}"}static getEntitySchemaDesignerOpenTemplate(){return"EntitySchemaDesigner/{0}?packageId={1}&packageName={2}&useFullHierarchy={3}"}static getInterfaceDesignerOpenTemplate(){return"InterfaceDesigner/{0}?packageUId={1}&useFullHierarchy={2}&userLevelSchema={3}"}static getSourceCodeDesignerOpenTemplate(){return`${this._sourceCodeSchemaDesignerCodeUrl}/{0}`}static getUserCodeDesignerOpenTemplate(){return"UserTaskSchemaDesigner/{0}"}static getSqlScriptDesignerOpenTemplate(){return"SqlScriptSchemaDesigner/{0}"}static getCurrentAppUrl(){let e=location.href;return e=e.replace(location.hash,""),_.Location.joinWithSlash(e,"#/")}getSchemaMetaDataUrl(e,n,a,i=!1){let s=`${Xe.getCurrentAppUrl()}SchemaMetaDataDesigner/${e}/${n}/${a}`;return i&&(s+=`?userLevelSchema=${i}`),s}getClientUnitSchemaDesignerUrl(e,n=!1){let a=`${Xe.getCurrentAppUrl()}${Xe._clientUnitSchemaDesignerUrl}/${e}`;return n&&(a+=`?userLevelSchema=${n}`),a}getMetaItemsSourceCodeUrl(e){return`${Xe.getCurrentAppUrl()}${Xe._sourceCodeSchemaDesignerCodeUrl}/${e}?showMetaItemSourceCode=true`}getAppsInfo(){const e=Xe.getCurrentAppUrl(),n=(0,x.Xq)(),a=(0,x.cI)(),i=["DisableUserTaskSchemaDesignerComponent","AllowCreateAngularSchema"];return this._features.getFeaturesState(i).pipe((0,h.map)(([s,b])=>{const D=[Xe._getEntitySchemaInfo(e,{name:"entity-schema",isExtendParent:!1,itemTitle:"WorkspaceExplorer.Section.Items.Add.Entity"}),Xe._getEntitySchemaInfo(e,{name:"replacing-entity-schema",isExtendParent:!0,itemTitle:"WorkspaceExplorer.Section.Items.Add.ReplacingEntity"}),{itemTypes:[nn.EntitySchema],itemType:nn.EntitySchema,name:"extend-entity-schema",openTemplate:e+Xe._getEntitySchemaDesignerOpenToExtendTemplate(),itemTitle:""},{name:"source-code-schema-designer",itemTypes:[nn.SourceCodeSchema],itemType:nn.SourceCodeSchema,createTemplate:e+`${Xe._sourceCodeSchemaDesignerCodeUrl}/new?packageId={0}&packageName={1}`,openTemplate:e+Xe.getSourceCodeDesignerOpenTemplate(),itemTitle:"WorkspaceExplorer.Section.Items.Add.SourceCode"},Xe._getClientUnitSchemaInfo(e,{createTemplate:e+Xe._clientUnitSchemaDesignerUrl+"/new?packageId={0}&packageName={1}&schemaType=1",itemTitle:"WorkspaceExplorer.Section.Items.Add.ClientUnit.Module",name:"client-unit-schema-module"}),Xe._getClientUnitSchemaInfo(e,{createTemplate:e+"ClientUnitSchemaDesigner/new?packageId={0}&packageName={1}&schemaType=2",itemTitle:"WorkspaceExplorer.Section.Items.Add.ClientUnit.EditViewModelSchema",name:"client-unit-schema-page-view-model"}),Xe._getClientUnitSchemaInfo(e,{createTemplate:e+"ClientUnitSchemaDesigner/new?packageId={0}&packageName={1}&schemaType=3",itemTitle:"WorkspaceExplorer.Section.Items.Add.ClientUnit.ModuleViewModelSchema",name:"client-unit-schema-section-view-model"}),Xe._getClientUnitSchemaInfo(e,{createTemplate:e+"ClientUnitSchemaDesigner/new?packageId={0}&packageName={1}&schemaType=5",itemTitle:"WorkspaceExplorer.Section.Items.Add.ClientUnit.GridDetailViewModelSchema",name:"client-unit-schema-detail-list-view-model"}),Xe._getClientUnitSchemaInfo(e,{createTemplate:e+"ClientUnitSchemaDesigner/new?packageId={0}&packageName={1}&schemaType=6",itemTitle:"WorkspaceExplorer.Section.Items.Add.ClientUnit.EditControlsDetailViewModelSchema",name:"client-unit-schema-detail-fields-view-model"}),Xe._getClientUnitSchemaInfo(e,{createTemplate:e+Xe._clientUnitSchemaDesignerUrl+"/new?packageId={0}&packageName={1}&schemaType=0&extendParent=true",itemTitle:"WorkspaceExplorer.Section.Items.Add.ClientUnit.ExtendedClientUnitSchema",name:"client-unit-schema-replacing-view-model"}),{name:"business-process-schema-designer",itemTypes:[nn.ProcessSchema],itemType:nn.ProcessSchema,createTemplate:a+"Nui/ViewModule.aspx?vm=SchemaDesigner#process/add/{0}",openTemplate:a+"Nui/ViewModule.aspx?vm=SchemaDesigner#process/{0}/{1}",itemTitle:"WorkspaceExplorer.Section.Items.Add.BusinessProcess"},{name:"rest-services",itemTypes:[nn.ServiceSchema],itemType:nn.ServiceSchema,createTemplate:a+"Nui/ViewModule.aspx?vm=WebServicesDesigner#add/Rest/packageUId/{0}",openTemplate:a+"Nui/ViewModule.aspx?vm=WebServicesDesigner#edit/{0}",itemTitle:"WorkspaceExplorer.Section.Items.Add.RestService"},{name:"soap-services",itemTypes:[nn.ServiceSchema],itemType:nn.ServiceSchema,createTemplate:a+"Nui/ViewModule.aspx?vm=WebServicesDesigner#add/Soap/packageUId/{0}",openTemplate:a+"Nui/ViewModule.aspx?vm=WebServicesDesigner#edit/{0}",itemTitle:"WorkspaceExplorer.Section.Items.Add.SoapService"},{name:"dcm-designer",itemTypes:[nn.DcmSchema],itemType:nn.DcmSchema,createTemplate:"",openTemplate:n+"/Nui/ViewModule.aspx?vm=DcmDesigner#case/{0}",itemTitle:"DcmDesigner"},{name:"user-task-schema-designer",itemTypes:[nn.ProcessUserTaskSchema],itemType:nn.ProcessUserTaskSchema,createTemplate:s?n+"/Designers/ProcessUserTaskSchemaDesigner.aspx?packageUId={0}&isExtendParent=false&isNewSchema=1&autoCreateDesignInstance=true":e+"UserTaskSchemaDesigner/new?packageId={0}&packageName={1}",openTemplate:s?n+"/Designers/ProcessUserTaskSchemaDesigner.aspx?id={0}&autoCreateDesignInstance=true":e+Xe.getUserCodeDesignerOpenTemplate(),itemTitle:"WorkspaceExplorer.Section.Items.Add.UserTask"},{name:"campaign-designer",itemTypes:[nn.CampaignSchema],itemType:nn.CampaignSchema,createTemplate:"",openTemplate:n+"/Nui/ViewModule.aspx?vm=CampaignDesigner#campaign/{0}",itemTitle:"CampaignDesigner"},{name:"sql-script-schema-designer",itemTypes:[nn.SqlScript],itemType:nn.SqlScript,createTemplate:e+"SqlScriptSchemaDesigner/new?packageId={0}&packageName={1}",openTemplate:e+Xe.getSqlScriptDesignerOpenTemplate(),itemTitle:"WorkspaceExplorer.Section.Items.Add.Sql"},{name:"data-binding",itemTypes:[nn.SchemaData],itemType:nn.SchemaData,createTemplate:e+"SchemaDataDesigner/new?packageId={0}&packageName={1}",openTemplate:e+"SchemaDataDesigner/{0}",itemTitle:"WorkspaceExplorer.Section.Items.Add.DataBinding"},{name:"addon-schema",itemTypes:[nn.AddonSchema],itemType:nn.AddonSchema,createTemplate:"",openTemplate:this.getSchemaMetaDataUrl("{0}",nn.AddonSchema,"{1}"),itemTitle:""},{name:"copilot-intent-schema",itemTypes:[nn.CopilotIntentSchema],itemType:nn.CopilotIntentSchema,createTemplate:"",openTemplate:this.getSchemaMetaDataUrl("{0}",nn.CopilotIntentSchema,"{1}"),itemTitle:""}];return Xe._addAngularSchemaInfo(D,e),b&&Xe._addExtendingAngularSchemaInfo(D,e),{success:!0,appsInfo:D}}))}static{this.\u0275fac=function(n){return new(n||Xe)(t.\u0275\u0275inject(A.wf))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Xe,factory:Xe.\u0275fac,providedIn:"root"})}}class wb{constructor(e,n){this._window=e,this._appInfoService=n}openMetaData(e){const n=this._appInfoService.getSchemaMetaDataUrl(e.uId,e.type,e.packageUId,e.isUserLevelSchema??!1);this._window.open(n,"_blank")}static{this.\u0275fac=function(n){return new(n||wb)(t.\u0275\u0275inject(E.ZP),t.\u0275\u0275inject(Xe))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:wb,factory:wb.\u0275fac})}}class Eb{constructor(e,n){this._window=e,this._appInfoService=n}openSourceCode(e){const n=this._appInfoService.getMetaItemsSourceCodeUrl(e);this._window.open(n,"_blank")}openClientUnitSourceCode(e,n=!1){const a=this._appInfoService.getClientUnitSchemaDesignerUrl(e,n);this._window.open(a,"_blank")}static{this.\u0275fac=function(n){return new(n||Eb)(t.\u0275\u0275inject(E.ZP),t.\u0275\u0275inject(Xe))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Eb,factory:Eb.\u0275fac})}}class Tb{constructor(e,n){this._translateService=e,this._detailedDialogPanelClass=n,this._internalBlockContent=[{message:this._translate("InternalBlockFirstMessage"),type:Or.PlainText,classes:["crt-dialog-message-content-block-item"]},{message:this._translate("InternalBlockSecondMessage"),type:Or.PlainText,classes:["crt-dialog-message-content-block-item"]}],this._adviceMessage={message:this._translate("AdviseMessage"),type:Or.PlainText},this._divider={type:"divider"},this._proceedActionQuestion={message:this._translate("ProceedActionQuestion"),type:Or.PlainText}}_translate(e){return this._translateService.instant(`WorkspaceExplorer.DetailedMessageDialog.${e}`)}_translateForBaseDeleteOperation(e,n){return this._translateService.instant(`WorkspaceExplorer.DetailedMessageDialog.${e}Action.WithConnectedApplications.${n}`)}_getTitleMessage(e){return{message:jt.String.format(this._translate("OperationTitleMessage"),e),type:Or.PlainText}}_getInternalBlockContent(e){return{type:Or.Block,title:this._translate("InternalBlockTitle"),icon:"warning-filled-icon",classes:["container-border-area","container-border-radius-small","container-gap-small","crt-dialog-message-content-block-content-bullet-list"],content:e}}_generateFromTemplate(e){const n=this._translate("ExecuteOperationCaption");return{type:"error",data:{title:this._translate("Title"),message:e,approveAction:{key:po.YES.key,config:{...po.YES.config,caption:n,textTransform:"uppercase",title:n}},rejectAction:{key:po.CANCEL.key,config:{...po.CANCEL.config,textTransform:"uppercase"}}},panelClass:this._detailedDialogPanelClass}}generate(e){const n=[this._getTitleMessage(e),this._getInternalBlockContent(this._internalBlockContent),this._adviceMessage,this._divider,this._proceedActionQuestion];return this._generateFromTemplate(n)}generateForBaseDelete(e,n){const a=this._translateService.instant(`WorkspaceExplorer.Section.Actions.${e}`);if(!n||n.length===0)return this.generate(a);const i=[this._getTitleMessage(a),{message:jt.String.format(this._translateForBaseDeleteOperation(e,"Message"),n.join(", ")),type:Or.PlainText},this._getInternalBlockContent([{message:this._translateForBaseDeleteOperation(e,"InternalBlockMessage"),type:Or.PlainText,classes:["crt-dialog-message-content-block-item"]},...this._internalBlockContent]),this._adviceMessage,this._divider,this._proceedActionQuestion];return this._generateFromTemplate(i)}static{this.\u0275fac=function(n){return new(n||Tb)(t.\u0275\u0275inject(f.TranslateService),t.\u0275\u0275inject(p9))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Tb,factory:Tb.\u0275fac})}}class Pb{constructor(e){this._applicationInfoService=e}execute(e,n,a,i){return this._applicationInfoService.getIsProductionEnvironment().pipe((0,h.switchMap)(s=>s&&e?n(i):a(i)))}static{this.\u0275fac=function(n){return new(n||Pb)(t.\u0275\u0275inject(g1.my))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Pb,factory:Pb.\u0275fac})}}class g_{constructor(e){this._materialIconsRegistrator=e,this._materialIconsRegistrator.addIcons([{name:"schema-designer-marker-icon",icon:o(44991)}])}static{this.\u0275fac=function(n){return new(n||g_)(t.\u0275\u0275inject(Ce.K))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:g_})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[rp,i_,wb,Eb,vb,r_,{provide:op.x,useClass:Wm},Tb,Pb,{provide:p9,useValue:"workplace-explorer-detailed-confirmation-dialog"}],imports:[_.CommonModule,Je.V,_t.MatIconModule,nt.MatLegacyButtonModule,q.MatLegacyFormFieldModule,Ms.MatTreeModule,lt.MatLegacyInputModule,c.MatLegacyAutocompleteModule,Q.MatLegacyMenuModule,od.MatLegacySnackBarModule,f.TranslateModule,vs,tn,dn.MatTooltipModule,vn,re,_e.S,s_,f.TranslateModule,vs]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(g_,{declarations:[Is,Mb,d_,Ib,m_,p_,u_,Sb],imports:[_.CommonModule,Je.V,_t.MatIconModule,nt.MatLegacyButtonModule,q.MatLegacyFormFieldModule,Ms.MatTreeModule,lt.MatLegacyInputModule,c.MatLegacyAutocompleteModule,Q.MatLegacyMenuModule,od.MatLegacySnackBarModule,f.TranslateModule,vs,tn,dn.MatTooltipModule,vn,re,_e.S,s_,f.TranslateModule],exports:[Is,Ib,vs]})})(),t.\u0275\u0275setComponentScope(d_,[_.NgForOf,_.NgIf,_.NgStyle,_t.MatIcon,nt.MatLegacyButton,q.MatLegacySuffix,Ms.MatTreeNodeToggle,Hn,na.d,m_,Sb],[]);var pd;(function(r){r[r.NewObject=0]="NewObject",r[r.ExistingObject=1]="ExistingObject"})(pd||(pd={}));class Ob{constructor(e,n,a,i,s){this.translateService=e,this.detailPropertiesService=n,this.lookupService=a,this.dialogRef=i,this.data=s,this._destroyed$=new m.Subject}get generalFields(){const e=[{name:"detailTitle",label:this.translateService.instant("detailTitleLabel"),type:ce.LocalizableText,validations:[{...this.validators.requiredCaption},{...this.validators.maxCaptionLength}]}];return this.data.mode===pd.NewObject?(e.unshift({name:"objectTitle",label:this.translateService.instant("objectTitleLabel"),type:ce.LocalizableText,validations:[{...this.validators.requiredCaption},{...this.validators.maxCaptionLength}]}),e.push({name:"objectCode",label:this.translateService.instant("objectCodeLabel"),type:ce.Input,value:this.model.validationConfig.schemaNamePrefix,validations:[{...this.validators.requiredCode},{...this.validators.maxLength},{...this.validators.pattern},{...this.validators.schemaNamePrefix}],asyncValidations:[{...this.validators.duplicateAsync}]})):e.unshift({name:"entitySchema",label:this.translateService.instant("entitySchemaLabel"),type:ce.Autocomplete,options:this._entitySchemaList,validations:[{...this.validators.required}],asyncValidations:[{...this.validators.acceptableEntitySchemaOptions}]}),this.data.model.showEditableDetailOption&&e.push({name:"isEditable",label:this.translateService.instant("isEditableLabel"),type:ce.CheckBox}),e}_initValidators(){const e=this.translateService.currentLang,{maxColumnNameLength:n,maxColumnCaptionLength:a,schemaColumnsNames:i,schemaNamePrefix:s}=this.validationConfig,b=this.lookupService.getLookupNameList(),D=this.lookupService.getLookupList(),W=Object.keys(this.model.baseEntity.columns);this.validators={required:{message:this.translateService.instant("columnEmpty"),name:"required",validator:O.Validators.required},requiredCode:{message:Fi(this.translateService.instant("wrongColumnNameWithPrefix"),[s]),name:"requiredWithPrefix",validator:Wr.requiredWithPrefix(s)},requiredCaption:{message:this.translateService.instant("columnEmpty"),name:"required",validator:db.required(e)},maxCaptionLength:{message:Fi(this.translateService.instant("wrongCaptionLength"),[n]),name:"maxlength",validator:db.maxLength(e,a)},maxLength:{message:Fi(this.translateService.instant("wrongCaptionLength"),[n]),name:"maxLength",validator:O.Validators.maxLength(n)},pattern:{message:this.translateService.instant("wrongColumnName"),name:"pattern",validator:O.Validators.pattern(/^[a-zA-Z_]{1}[a-zA-Z0-9_]*$/)},duplicate:{message:Fi(this.translateService.instant("duplicateColumnName"),[]),name:"duplicate",validator:Wr.duplicate(i)},duplicateAsync:{message:Fi(this.translateService.instant("duplicateDetailName"),[]),name:"duplicate",validator:Wr.duplicateAsync(b)},duplicateBaseEntityColumn:{message:Fi(this.translateService.instant("duplicateColumnName"),[]),name:"duplicate",validator:Wr.duplicate(W)},schemaNamePrefix:{message:Fi(this.translateService.instant("wrongPrefixName"),[s]),name:"prefix",validator:Wr.prefix(s)},acceptableOptions:{name:"acceptableOptions",validator:gb.acceptableOptionsValidator(D),message:this.translateService.instant("selectValueCaption")},acceptableEntitySchemaOptions:{name:"acceptableOptions",validator:c9.acceptableOptionsValidator(this._entitySchemaList),message:this.translateService.instant("selectValueCaption")}}}_initFields(){const e=this.lookupService.getLookupList();this.fields=[{name:En.General,label:this.translateService.instant("detailObjectSettingsGroupLabel"),type:ce.FieldsGroup,children:this.generalFields}],this.data.mode===pd.NewObject&&this.fields.push({name:En.DataSource,label:this.translateService.instant("howToConnectDetailToCurrentPageGroupLabel"),type:ce.FieldsGroup,children:[{name:"connectByLookup",label:this.translateService.instant("connectByLookupLabel"),type:ce.Lookup,options:e,validations:[{...this.validators.required},{...this.validators.maxLength}],asyncValidations:[{...this.validators.acceptableOptions}]},{name:"lookupColumnTitle",label:this.translateService.instant("lookupColumnTitleLabel"),type:ce.LocalizableText,validations:[{...this.validators.requiredCaption}]},{name:"lookupColumnCode",label:this.translateService.instant("lookupColumnCodeLabel"),type:ce.Input,validations:[{...this.validators.required},{...this.validators.requiredCode},{...this.validators.maxLength},{...this.validators.pattern},{...this.validators.schemaNamePrefix},{...this.validators.duplicateBaseEntityColumn}]}]})}_initEntitySchemaList(){this._entitySchemaList=this.detailPropertiesService.getEntitySchemaList().pipe((0,h.takeUntil)(this._destroyed$),(0,h.shareReplay)(1))}_initEntitySchemaFieldListener(){const e=this.formComponent.form.get("entitySchema"),n=this.formComponent.form.get("detailTitle");e.valueChanges.pipe((0,h.takeUntil)(this._destroyed$),(0,h.filter)(a=>!n.dirty&&a&&a.value)).subscribe(a=>{const i=this.translateService.currentLang;n.setValue(new Nr.h([{cultureName:i,value:a.name}]))})}_initConnectByLookupListener(){this.formComponent.form.get("connectByLookup").valueChanges.pipe((0,h.takeUntil)(this._destroyed$)).subscribe(n=>{n?.value?this.onConnectByLookupChanged(n):this.onConnectByLookupCleared()})}ngOnInit(){this.model=this.data.model,this.validationConfig=this.model.validationConfig,this.data.mode===pd.ExistingObject&&this._initEntitySchemaList(),this._initValidators(),this._initFields()}onFormCreated(e){this.formComponent=e,this.data.mode===pd.NewObject&&this._initConnectByLookupListener(),this.data.mode===pd.ExistingObject&&this._initEntitySchemaFieldListener()}onConnectByLookupChanged(e){const n=this.formComponent.form.get("lookupColumnTitle"),a=this.formComponent.form.get("lookupColumnCode"),i=this.validationConfig.schemaNamePrefix||"";if(!n.dirty){const s=this.translateService.currentLang;n.setValue(new Nr.h([{cultureName:s,value:e.name}]))}a.dirty||a.setValue(i+e.code)}onConnectByLookupCleared(){const e=this.formComponent.form.get("lookupColumnTitle"),n=this.formComponent.form.get("lookupColumnCode");e.dirty||e.setValue(new Nr.h),n.dirty||n.setValue("")}onSaveButtonClick(){const{form:e}=this.formComponent;if(e.valid){const n=Object.assign({},this.model,e.getRawValue());this.detailPropertiesService.setNewDetailObject(n).subscribe(a=>{this.dialogRef.close(a)})}else e.updateValueAndValidity(),e.markAllAsTouched()}onCancelButtonClick(){this.dialogRef.close()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(n){return new(n||Ob)(t.\u0275\u0275directiveInject(f.TranslateService),t.\u0275\u0275directiveInject(Cc),t.\u0275\u0275directiveInject(ku),t.\u0275\u0275directiveInject(Ot.MatLegacyDialogRef),t.\u0275\u0275directiveInject(Ot.MAT_LEGACY_DIALOG_DATA))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Ob,selectors:[["ts-detail-form-component"]],inputs:{model:"model",fields:"fields"},decls:14,vars:11,consts:[["detailFormContainer",""],[1,"page-item-properties-page","detail-form-properties-page"],["mat-dialog-title",""],[1,"properties-page-general-section"],["tsMetaItemPropertiesPage","",3,"formCreated","model","fields"],["mat-dialog-actions",""],["mat-button","","data-item-marker","new-detail-cancel",3,"click"],["mat-flat-button","","color","primary","data-item-marker","new-detail-save",3,"click"]],template:function(n,a){if(n&1){const i=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",1)(1,"div",2),t.\u0275\u0275text(2),t.\u0275\u0275pipe(3,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",3),t.\u0275\u0275elementContainerStart(5,4,0),t.\u0275\u0275listener("formCreated",function(b){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onFormCreated(b))}),t.\u0275\u0275elementContainerEnd(),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(7,"div",5)(8,"button",6),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onCancelButtonClick())}),t.\u0275\u0275text(9),t.\u0275\u0275pipe(10,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(11,"button",7),t.\u0275\u0275listener("click",function(){return t.\u0275\u0275restoreView(i),t.\u0275\u0275resetView(a.onSaveButtonClick())}),t.\u0275\u0275text(12),t.\u0275\u0275pipe(13,"translate"),t.\u0275\u0275elementEnd()()()}n&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(3,5,"detailFormPropertiesPageCaption")),t.\u0275\u0275advance(3),t.\u0275\u0275property("model",a.model)("fields",a.fields),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(10,7,"cancelButton")," "),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(13,9,"saveButton")," "))},dependencies:[nt.MatLegacyButton,Ot.MatLegacyDialogTitle,Ot.MatLegacyDialogActions,Oa,f.TranslatePipe],styles:["[_nghost-%COMP%]{display:block;margin:0;min-width:440px}[_nghost-%COMP%]   .detail-dialog-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.mat-dialog-actions[_ngcontent-%COMP%]{padding:0;margin:0!important;min-height:32px;justify-content:flex-end}"]})}}function Nz(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-option",13),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=e.$implicit;t.\u0275\u0275property("value",n),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",n.name," ")}}function Vz(r,e){if(r&1&&(t.\u0275\u0275elementStart(0,"mat-error"),t.\u0275\u0275text(1),t.\u0275\u0275elementEnd()),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate(n.error)}}function Fz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div")(1,"button",14),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275element(3,"mat-icon",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"mat-menu",16,2)(6,"button",17),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.detailAction(i.mode.NewObject))}),t.\u0275\u0275text(7),t.\u0275\u0275pipe(8,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(9,"button",17),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(i.detailAction(i.mode.ExistingObject))}),t.\u0275\u0275text(10),t.\u0275\u0275pipe(11,"translate"),t.\u0275\u0275elementEnd()()()}if(r&2){const n=t.\u0275\u0275reference(5),a=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(2,5,"createDetailTooltipCaption"))("matMenuTriggerFor",n),t.\u0275\u0275advance(2),t.\u0275\u0275property("svgIcon",a.getDetailActionIcon),t.\u0275\u0275advance(4),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(8,7,"createDetailUsingNewObject")),t.\u0275\u0275advance(3),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(11,9,"createDetailUsingExistingObject"))}}function jz(r,e){if(r&1){const n=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",19),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("click",function(){t.\u0275\u0275restoreView(n);const i=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(i.detailAction())}),t.\u0275\u0275element(2,"mat-icon",15),t.\u0275\u0275elementEnd()}if(r&2){const n=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("matTooltip",t.\u0275\u0275pipeBind1(1,2,"editDetailTooltipCaption")),t.\u0275\u0275advance(2),t.\u0275\u0275property("svgIcon",n.getDetailActionIcon)}}function Bz(r,e){if(r&1&&t.\u0275\u0275template(0,jz,3,4,"button",18),r&2){const n=t.\u0275\u0275nextContext();t.\u0275\u0275property("ngIf",n.isSupportCreatingMode)}}var h_;(function(r){r.add="add-icon",r.edit="edit-icon"})(h_||(h_={}));class Db extends cd{constructor(e,n,a,i){super(),this.dialogService=a,this.translateService=i,this.editDetail$=new m.Subject,this.mode=pd,e.addSvgIconLiteral(h_.add,n.bypassSecurityTrustHtml(o(97985))),e.addSvgIconLiteral(h_.edit,n.bypassSecurityTrustHtml(o(4946)))}get control(){return this.group.get(this.field.name)}get isNewDetailMode(){return!this.control.value?.value}get isSupportCreatingMode(){return this.field?.isSupportCreatingMode===!0}setDetailControl(e){this.initOptions(),this.control.setValue(e),this.control.markAsDirty()}openDetailDialog(e){this.dialogService.open(Ob,{data:{model:this.field?.model,mode:e},panelClass:"detail-form-dialog",scrollStrategy:new In.NoopScrollStrategy,autoFocus:!1}).pipe((0,h.take)(1),(0,h.filter)(n=>n?.value)).subscribe(n=>{this.setDetailControl(n)})}get getDetailActionIcon(){return this.isNewDetailMode?h_.add:h_.edit}detailAction(e){this.isNewDetailMode?this.openDetailDialog(e):this.editDetail$.next()}static{this.\u0275fac=function(n){return new(n||Db)(t.\u0275\u0275directiveInject(_t.MatIconRegistry),t.\u0275\u0275directiveInject(p.DomSanitizer),t.\u0275\u0275directiveInject(Kt.o),t.\u0275\u0275directiveInject(f.TranslateService))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:Db,selectors:[["ts-detail-control"]],features:[t.\u0275\u0275InheritDefinitionFeature],decls:16,vars:13,consts:[["auto","matAutocomplete"],["editDetailTemplate",""],["menu","matMenu"],[1,"full-width","ts-detail-control",3,"formGroup"],["floatLabel","always",3,"formGroup"],[1,"input-wrapper"],["type","text","matInput","",3,"formControlName","matAutocomplete","required"],["autoActiveFirstOption","",3,"displayWith"],[3,"value",4,"ngFor","ngForOf"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"value"],["type","button","mat-icon-button","",1,"detail-dialog-menu",3,"matTooltip","matMenuTriggerFor"],[3,"svgIcon"],[1,"create-detail-mode-menu"],["mat-menu-item","",3,"click"],["type","button","class","show-detail-dialog","mat-icon-button","","data-item-marker","show-detail-dialog",3,"matTooltip","click",4,"ngIf"],["type","button","mat-icon-button","","data-item-marker","show-detail-dialog",1,"show-detail-dialog",3,"click","matTooltip"]],template:function(n,a){if(n&1&&(t.\u0275\u0275elementStart(0,"div",3)(1,"mat-form-field",4)(2,"mat-label"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementStart(4,"div",5),t.\u0275\u0275element(5,"input",6),t.\u0275\u0275elementStart(6,"mat-autocomplete",7,0),t.\u0275\u0275template(8,Nz,2,2,"mat-option",8),t.\u0275\u0275pipe(9,"async"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(10,"div",9),t.\u0275\u0275element(11,"div",10),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(12,Vz,2,1,"mat-error",11),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(13,Fz,12,11,"div",12)(14,Bz,1,1,"ng-template",null,1,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275elementEnd()),n&2){const i=t.\u0275\u0275reference(7),s=t.\u0275\u0275reference(15);t.\u0275\u0275property("formGroup",a.group),t.\u0275\u0275advance(),t.\u0275\u0275property("formGroup",a.group),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(a.field.label),t.\u0275\u0275advance(2),t.\u0275\u0275property("formControlName",a.field.name)("matAutocomplete",i)("required",a.required),t.\u0275\u0275advance(),t.\u0275\u0275property("displayWith",a.displayFn),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngForOf",t.\u0275\u0275pipeBind1(9,11,a.options)),t.\u0275\u0275advance(4),t.\u0275\u0275property("ngIf",a.invalid),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",a.isSupportCreatingMode&&a.isNewDetailMode)("ngIfElse",s)}},dependencies:[_.NgForOf,_.NgIf,q.MatLegacyError,q.MatLegacyFormField,q.MatLegacyLabel,q.MatLegacySuffix,lt.MatLegacyInput,Tt.MatLegacyOption,_t.MatIcon,c.MatLegacyAutocomplete,c.MatLegacyAutocompleteTrigger,nt.MatLegacyButton,Q.MatLegacyMenu,Q.MatLegacyMenuItem,Q.MatLegacyMenuTrigger,dn.MatTooltip,O.DefaultValueAccessor,O.NgControlStatus,O.NgControlStatusGroup,O.RequiredValidator,O.FormGroupDirective,O.FormControlName,_.AsyncPipe,f.TranslatePipe],styles:[`.ts-detail-control{display:flex;align-items:center;justify-content:space-between}.ts-detail-control .mat-form-field-infix{display:flex;align-items:center}.ts-detail-control .input-wrapper{flex-grow:1}.ts-detail-control .mat-icon-button.detail-dialog-menu,.ts-detail-control .mat-icon-button.show-detail-dialog{display:flex;align-items:center;justify-content:center;height:32px;width:32px;min-width:32px;line-height:32px;padding:0;border-radius:0;position:relative;bottom:1px}.ts-detail-control .mat-icon-button.detail-dialog-menu:hover,.ts-detail-control .mat-icon-button.show-detail-dialog:hover{background-color:#f2f5ff}.ts-detail-control .mat-icon-button.detail-dialog-menu[disabled],.ts-detail-control .mat-icon-button.show-detail-dialog[disabled]{opacity:.6}.ts-detail-control .mat-icon-button.detail-dialog-menu .mat-icon,.ts-detail-control .mat-icon-button.show-detail-dialog .mat-icon{height:16px;width:16px;line-height:16px}.ts-detail-control .mat-icon-button.detail-dialog-menu .mat-icon svg,.ts-detail-control .mat-icon-button.show-detail-dialog .mat-icon svg{position:relative;bottom:2px}.create-detail-mode-menu.mat-menu-panel{max-width:initial}
`],encapsulation:2})}}const zz=[lt.MatLegacyInputModule,oe.MatLegacyCheckboxModule,jn.MatLegacySelectModule,_t.MatIconModule,c.MatLegacyAutocompleteModule,q.MatLegacyFormFieldModule,nt.MatLegacyButtonModule,Ot.MatLegacyDialogModule,Q.MatLegacyMenuModule,dn.MatTooltipModule];class __{static{this.\u0275fac=function(n){return new(n||__)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:__})}static{this.\u0275inj=t.\u0275\u0275defineInjector({imports:[zz,lt.MatLegacyInputModule,oe.MatLegacyCheckboxModule,jn.MatLegacySelectModule,_t.MatIconModule,c.MatLegacyAutocompleteModule,q.MatLegacyFormFieldModule,nt.MatLegacyButtonModule,Ot.MatLegacyDialogModule,Q.MatLegacyMenuModule,dn.MatTooltipModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(__,{imports:[lt.MatLegacyInputModule,oe.MatLegacyCheckboxModule,jn.MatLegacySelectModule,_t.MatIconModule,c.MatLegacyAutocompleteModule,q.MatLegacyFormFieldModule,nt.MatLegacyButtonModule,Ot.MatLegacyDialogModule,Q.MatLegacyMenuModule,dn.MatTooltipModule],exports:[lt.MatLegacyInputModule,oe.MatLegacyCheckboxModule,jn.MatLegacySelectModule,_t.MatIconModule,c.MatLegacyAutocompleteModule,q.MatLegacyFormFieldModule,nt.MatLegacyButtonModule,Ot.MatLegacyDialogModule,Q.MatLegacyMenuModule,dn.MatTooltipModule]})})();class f_ extends fc{getControlsConfig(){return{...super.getControlsConfig(),[a0.Detail]:Db}}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(f_)))(a||f_)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:f_,factory:f_.\u0275fac})}}class b_{static{this.\u0275fac=function(n){return new(n||b_)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:b_})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[E.Dj,yc,Au,Lu,ld,Cc,ku,{provide:fc,useClass:f_}],imports:[_.CommonModule,__,Ry.BrowserAnimationsModule,O.ReactiveFormsModule,O.FormsModule,tn,Je.V,od.MatLegacySnackBarModule,f.TranslateModule,Vr,a_,g_]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(b_,{declarations:[Du,t_,hb,Db,Ob,qh,Xh,Jh],imports:[_.CommonModule,__,Ry.BrowserAnimationsModule,O.ReactiveFormsModule,O.FormsModule,tn,Je.V,od.MatLegacySnackBarModule,f.TranslateModule,Vr,a_,g_],exports:[t_,Du]})})();class Ab{_buildRequestUrl(e){return this._isAbsoluteUrl(e)?e:_.Location.joinWithSlash(this.getUrl(),e)}_isAbsoluteUrl(e){return/^https?:\/\//i.test(e)}getUrl(){return(0,x.Xq)()}intercept(e,n){return e=e.clone({url:this._buildRequestUrl(e.url)}),n.handle(e).pipe((0,h.catchError)(a=>(console.log(a),(0,m.throwError)(a))))}static{this.\u0275fac=function(n){return new(n||Ab)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:Ab,factory:Ab.\u0275fac})}}class C_ extends Ab{getUrl(){return(0,x.cI)()}static{this.\u0275fac=(()=>{let e;return function(a){return(e||(e=t.\u0275\u0275getInheritedFactory(C_)))(a||C_)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:C_,factory:C_.\u0275fac})}}var Uz=o(93248);function Hz(r){return()=>(0,m.lastValueFrom)(r.loadCurrentUserInfo(),{defaultValue:null})}class Lb{static{this.\u0275fac=function(n){return new(n||Lb)}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:Lb})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[Ze.vn,{provide:N5.P,useValue:{name:Uz.Oi,type:V5.P.PersistentAndMemory,options:{tableName:F5.w.UserInfo}},multi:!0},{provide:t.APP_INITIALIZER,useFactory:Hz,deps:[Ze.fv],multi:!0}]})}}class s0{static{this.\u0275fac=function(n){return new(n||s0)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:s0,selectors:[["ts-enterprise-page-wizard"]],decls:2,vars:0,consts:[[1,"enterprise-page-wizard"]],template:function(n,a){n&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275element(1,"ts-page-item-properties-page"),t.\u0275\u0275elementEnd())},dependencies:[Du]})}}const Wz=o.p+"assets/i18n/libs/";class kb{constructor(e,n,a){this._customElementsBootstrapService=e,this._translateService=n,this._fetchMultiTranslateHttpLoader=a,this._customElements=[{componentName:"ts-page-item-properties-page-host",componentType:t_},{componentName:"ts-business-rule-visible-item-action",componentType:Be},{componentName:"ts-business-rule-populate-item-action",componentType:Yt}]}ngDoBootstrap(){this._fetchMultiTranslateHttpLoader.getTranslation("en-US").subscribe(e=>{this._translateService.setTranslation("en-US",e,!0),this._customElements.forEach(({componentName:n,componentType:a})=>{this._customElementsBootstrapService.defineComponent(n,a)})})}static{this.\u0275fac=function(n){return new(n||kb)(t.\u0275\u0275inject(E.SH),t.\u0275\u0275inject(f.TranslateService),t.\u0275\u0275inject(L))}}static{this.\u0275mod=t.\u0275\u0275defineNgModule({type:kb})}static{this.\u0275inj=t.\u0275\u0275defineInjector({providers:[{provide:l.HTTP_INTERCEPTORS,useClass:C_,multi:!0},{provide:U,useValue:"GetPageWizardTranslation"},Z,A.wN],imports:[l.HttpClientModule,p.BrowserModule,b_,l.HttpClientXsrfModule.withOptions({cookieName:"BPMCSRF",headerName:"BPMCSRF"}),Hh,Lb,f.TranslateModule.forRoot({defaultLanguage:"en-US",loader:{provide:f.TranslateLoader,useClass:B}}),G.with({resourceSources:[{prefix:Wz,suffix:".json"}]})]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&t.\u0275\u0275setNgModuleScope(kb,{declarations:[s0],imports:[l.HttpClientModule,p.BrowserModule,b_,l.HttpClientXsrfModule,Hh,Lb,f.TranslateModule,G]})})(),p.platformBrowser().bootstrapModule(kb).catch(r=>console.error(r))},16397:(P,j,o)=>{o.d(j,{g:()=>E,q:()=>y});function p(w){return w.getFullYear()<1970}function g(w){const m=w.getTimezoneOffset()*6e4;return new Date(w.getTime()-m).toISOString().slice(0,-1)}function l(w){const m=w.getFullYear(),h=t(w.getMonth()+1),_=t(w.getDate()),x=t(w.getHours()),I=t(w.getMinutes()),k=t(w.getSeconds()),A=f(w.getMilliseconds());return`${m}-${h}-${_}T${x}:${I}:${k}.${A}`}function t(w){return String(w).padStart(2,"0")}function f(w){return String(w).padStart(3,"0")}function E(w){if(!(w instanceof Date))throw new TypeError;return p(w)?l(w):g(w)}function y(w){return`"${E(w)}"`}},73335:(P,j,o)=>{o.d(j,{D:()=>p,O:()=>g});var p;(function(l){l.OwnAttribute="Own",l.ForwardReferenceAttribute="ForwardReference",l.BackReferenceAttribute="BackReference",l.AggregationAttribute="Aggregation",l.FunctionAttribute="Function"})(p||(p={}));var g;(function(l){l[l.General=0]="General",l[l.Advanced=1]="Advanced",l[l.None=2]="None"})(g||(g={}))},89100:(P,j,o)=>{o.d(j,{Z:()=>p});var p;(function(g){g.ViewElement="viewElement",g.Page="page"})(p||(p={}))},13148:(P,j,o)=>{o.d(j,{b:()=>p});var p;(function(g){g[g.None=0]="None",g[g.Const=1]="Const",g[g.Settings=2]="Settings",g[g.SystemValue=3]="SystemValue",g[g.Sequence=4]="Sequence"})(p||(p={}))},56558:(P,j,o)=>{o.d(j,{q:()=>p});var p;(function(g){g.List="List",g.SelectionWindow="SelectionWindow"})(p||(p={}))},6744:(P,j,o)=>{o.d(j,{q:()=>p});var p;(function(g){g.None="",g.Count="Count",g.Sum="Sum",g.Avg="Avg",g.Min="Min",g.Max="Max",g.TopOne="TopOne"})(p||(p={}))},38772:(P,j,o)=>{o.d(j,{C:()=>p});var p;(function(g){g[g.None=0]="None",g[g.Count=1]="Count",g[g.Sum=2]="Sum",g[g.Avg=3]="Avg",g[g.Min=4]="Min",g[g.Max=5]="Max",g[g.TopOne=6]="TopOne"})(p||(p={}))},40706:(P,j,o)=>{o.d(j,{P:()=>p});var p;(function(g){g.Entity="Entity",g.ClientUnit="ClientUnit",g.Intent="Intent"})(p||(p={}))},86464:(P,j,o)=>{o.d(j,{r:()=>p});var p;(function(g){g[g.Guid=0]="Guid",g[g.Text=1]="Text",g[g.Integer=4]="Integer",g[g.Float=5]="Float",g[g.Money=6]="Money",g[g.DateTime=7]="DateTime",g[g.Date=8]="Date",g[g.Time=9]="Time",g[g.Lookup=10]="Lookup",g[g.Enum=11]="Enum",g[g.Boolean=12]="Boolean",g[g.Blob=13]="Blob",g[g.Image=14]="Image",g[g.CUSTOM_OBJECT=15]="CUSTOM_OBJECT",g[g.IMAGELOOKUP=16]="IMAGELOOKUP",g[g.COLLECTION=17]="COLLECTION",g[g.Color=18]="Color",g[g.LOCALIZABLE_STRING=19]="LOCALIZABLE_STRING",g[g.ENTITY=20]="ENTITY",g[g.ENTITY_COLLECTION=21]="ENTITY_COLLECTION",g[g.ENTITY_COLUMN_MAPPING_COLLECTION=22]="ENTITY_COLUMN_MAPPING_COLLECTION",g[g.HASH_TEXT=23]="HASH_TEXT",g[g.SECURE_TEXT=24]="SECURE_TEXT",g[g.FILE=25]="FILE",g[g.MAPPING=26]="MAPPING",g[g.SHORT_TEXT=27]="SHORT_TEXT",g[g.MEDIUM_TEXT=28]="MEDIUM_TEXT",g[g.MAXSIZE_TEXT=29]="MAXSIZE_TEXT",g[g.LONG_TEXT=30]="LONG_TEXT",g[g.FLOAT1=31]="FLOAT1",g[g.FLOAT2=32]="FLOAT2",g[g.FLOAT3=33]="FLOAT3",g[g.FLOAT4=34]="FLOAT4",g[g.LOCALIZABLE_PARAMETER_VALUES_LIST=35]="LOCALIZABLE_PARAMETER_VALUES_LIST",g[g.METADATA_TEXT=36]="METADATA_TEXT",g[g.STAGE_INDICATOR=37]="STAGE_INDICATOR",g[g.OBJECT_LIST=38]="OBJECT_LIST",g[g.COMPOSITE_OBJECT_LIST=39]="COMPOSITE_OBJECT_LIST",g[g.FLOAT8=40]="FLOAT8",g[g.FILE_LOCATOR=41]="FILE_LOCATOR",g[g.PHONE_TEXT=42]="PHONE_TEXT",g[g.RICH_TEXT=43]="RICH_TEXT",g[g.WEB_TEXT=44]="WEB_TEXT",g[g.EMAIL_TEXT=45]="EMAIL_TEXT",g[g.COMPOSITE_OBJECT=46]="COMPOSITE_OBJECT"})(p||(p={}))},82863:(P,j,o)=>{o.d(j,{G:()=>p});var p;(function(g){g.PTP="PTPMsg",g.BROADCAST="BroadcastMsg",g.SERVER="ServerMsg"})(p||(p={}))},58504:(P,j,o)=>{o.d(j,{H:()=>p});var p;(function(g){g[g.Between=0]="Between",g[g.Contain=11]="Contain",g[g.End_with=13]="End_with",g[g.Equal=3]="Equal",g[g.Exists=15]="Exists",g[g.Greater=7]="Greater",g[g.Greater_or_equal=8]="Greater_or_equal",g[g.Is_not_null=2]="Is_not_null",g[g.Is_null=1]="Is_null",g[g.Less=5]="Less",g[g.Less_or_equal=6]="Less_or_equal",g[g.Not_contain=12]="Not_contain",g[g.Not_end_with=14]="Not_end_with",g[g.Not_equal=4]="Not_equal",g[g.Not_exists=16]="Not_exists",g[g.Not_start_with=10]="Not_start_with",g[g.Start_with=9]="Start_with"})(p||(p={}))},40779:(P,j,o)=>{o.d(j,{i:()=>p});var p;(function(g){g[g.SchemaColumn=0]="SchemaColumn",g[g.Function=1]="Function",g[g.Parameter=2]="Parameter",g[g.SubQuery=3]="SubQuery",g[g.ArithmeticOperation=4]="ArithmeticOperation"})(p||(p={}))},77895:(P,j,o)=>{o.d(j,{C:()=>p});var p;(function(g){g[g.None=0]="None",g[g.Compare=1]="Compare",g[g.IsNull=2]="IsNull",g[g.Between=3]="Between",g[g.In=4]="In",g[g.Exists=5]="Exists",g[g.FilterGroup=6]="FilterGroup"})(p||(p={}))},54329:(P,j,o)=>{o.d(j,{c:()=>p});var p;(function(g){g[g.None=0]="None",g[g.Macros=1]="Macros",g[g.Aggregation=2]="Aggregation",g[g.DatePart=3]="DatePart",g[g.Length=4]="Length",g[g.Window=5]="Window",g[g.DateAdd=6]="DateAdd",g[g.DateDiff=7]="DateDiff"})(p||(p={}))},56267:(P,j,o)=>{o.d(j,{H:()=>p});var p;(function(g){g[g.And=0]="And",g[g.Or=1]="Or"})(p||(p={}))},61320:(P,j,o)=>{o.d(j,{Z:()=>p});var p;(function(g){g[g.None=0]="None",g[g.Asc=1]="Asc",g[g.Desc=2]="Desc"})(p||(p={}))},92831:(P,j,o)=>{o.d(j,{V:()=>p});var p;(function(g){g[g.None=0]="None",g[g.CurrentUser=1]="CurrentUser",g[g.CurrentUserContact=2]="CurrentUserContact",g[g.Yesterday=3]="Yesterday",g[g.Today=4]="Today",g[g.Tomorrow=5]="Tomorrow",g[g.PreviousWeek=6]="PreviousWeek",g[g.CurrentWeek=7]="CurrentWeek",g[g.NextWeek=8]="NextWeek",g[g.PreviousMonth=9]="PreviousMonth",g[g.CurrentMonth=10]="CurrentMonth",g[g.NextMonth=11]="NextMonth",g[g.PreviousQuarter=12]="PreviousQuarter",g[g.CurrentQuarter=13]="CurrentQuarter",g[g.NextQuarter=14]="NextQuarter",g[g.PreviousHalfYear=15]="PreviousHalfYear",g[g.CurrentHalfYear=16]="CurrentHalfYear",g[g.NextHalfYear=17]="NextHalfYear",g[g.PreviousYear=18]="PreviousYear",g[g.CurrentYear=19]="CurrentYear",g[g.PreviousHour=20]="PreviousHour",g[g.CurrentHour=21]="CurrentHour",g[g.NextHour=22]="NextHour",g[g.NextYear=23]="NextYear",g[g.NextNDays=24]="NextNDays",g[g.PreviousNDays=25]="PreviousNDays",g[g.NextNHours=26]="NextNHours",g[g.PreviousNHours=27]="PreviousNHours",g[g.PrimaryColumn=34]="PrimaryColumn",g[g.PrimaryDisplayColumn=35]="PrimaryDisplayColumn",g[g.PrimaryImageColumn=36]="PrimaryImageColumn",g[g.DayOfYearToday=37]="DayOfYearToday",g[g.DayOfYearTodayPlusDaysOffset=38]="DayOfYearTodayPlusDaysOffset",g[g.NextNDaysOfYear=39]="NextNDaysOfYear",g[g.PreviousNDaysOfYear=40]="PreviousNDaysOfYear",g[g.PrimaryColorColumn=41]="PrimaryColorColumn"})(p||(p={}))},66214:(P,j,o)=>{o.d(j,{c:()=>l});var p=o(40779),g=o(29360);class l extends g.F{static{this._instanceOfKey="devkit_ArithmeticExpression"}static get _instanceOfKeys(){return[...g.F._instanceOfKeys,this._instanceOfKey]}constructor(f){super(f),this.expressionType=p.i.ArithmeticOperation,this.arithmeticOperation=f?.arithmeticOperation,this.leftArithmeticOperand=f?.leftArithmeticOperand.clone(),this.rightArithmeticOperand=f?.rightArithmeticOperand.clone()}static fromJson(f,E,y){const w=y?.fromJson(f.leftArithmeticOperand,E),m=y?.fromJson(f.rightArithmeticOperand,E),h={leftArithmeticOperand:w,rightArithmeticOperand:m,arithmeticOperation:f.arithmeticOperation,isBlock:f.isBlock};return new l(h)}clone(){return new l(this)}_getUsedColumns(){return[...this.leftArithmeticOperand._getUsedColumns(),...this.rightArithmeticOperand._getUsedColumns()]}}},29360:(P,j,o)=>{o.d(j,{F:()=>l});var p=o(78240),g=o.n(p);class l{static{this._instanceOfKey="devkit_BaseExpression"}static get _instanceOfKeys(){return[this._instanceOfKey]}static[Symbol.hasInstance](f){return(f?.constructor?._instanceOfKeys??[]).includes(this._instanceOfKey)}constructor(f){this.isBlock=!1,this.isBlock=f?.isBlock}static fromJson(f,E,y){throw new Error(`fromJson not supported on expression type ${this.constructor.name}`)}serializeItem(f){return typeof f.toJson=="function"?f.toJson():(0,p.classToPlain)(f,{exposeUnsetFields:!1,excludePrefixes:["_"]})}toJson(){return(0,p.classToPlain)(this,{exposeUnsetFields:!1,excludePrefixes:["_"]})}}},29025:(P,j,o)=>{o.d(j,{g:()=>l});var p=o(40779),g=o(29360);class l extends g.F{static{this._instanceOfKey="devkit_ColumnExpression"}static get _instanceOfKeys(){return[...g.F._instanceOfKeys,this._instanceOfKey]}constructor(f){super(f),this.expressionType=p.i.SchemaColumn,this.columnPath=f?.columnPath}static fromJson(f){return new l({columnPath:f.columnPath})}clone(){return new l(this)}_getUsedColumns(){return[{path:this.columnPath}]}}},39765:(P,j,o)=>{o.d(j,{z:()=>g});var p=o(17761);class g extends p._{static{this._instanceOfKey="devkit_ArgumentFunctionExpression"}static get _instanceOfKeys(){return[...p._._instanceOfKeys,this._instanceOfKey]}constructor(t){super(t),this.functionArgument=t?.functionArgument?.clone()}toJson(){const t=super.toJson();return this.functionArgument&&(t.functionArgument=this.serializeItem(this.functionArgument)),t}_getUsedColumns(){return this.functionArgument?._getUsedColumns()??[]}}},28850:(P,j,o)=>{o.d(j,{F:()=>l});var p=o(39765),g=o(54329);class l extends p.z{static{this._instanceOfKey="devkit_DatePartFunctionExpression"}static get _instanceOfKeys(){return[...p.z._instanceOfKeys,this._instanceOfKey]}constructor(f){super(f),this.functionType=g.c.DatePart,this.datePartType=f?.datePartType}static fromJson(f,E,y){const w=y?.fromJson(f.functionArgument,E),m=f.datePartType;return new l({functionArgument:w,datePartType:m,isBlock:f.isBlock})}clone(){return new l(this)}}},17761:(P,j,o)=>{o.d(j,{_:()=>l});var p=o(40779),g=o(29360);class l extends g.F{static{this._instanceOfKey="devkit_FunctionExpression"}static get _instanceOfKeys(){return[...g.F._instanceOfKeys,this._instanceOfKey]}constructor(f){super(f),this.expressionType=p.i.Function}}},4102:(P,j,o)=>{o.d(j,{O:()=>l});var p=o(39765),g=o(54329);class l extends p.z{static{this._instanceOfKey="devkit_LengthFunctionExpression"}static get _instanceOfKeys(){return[...p.z._instanceOfKeys,this._instanceOfKey]}constructor(f){super(f),this.functionType=g.c.Length}static fromJson(f,E,y){const w=y?.fromJson(f.functionArgument,E);return new l({functionArgument:w,isBlock:f.isBlock})}clone(){return new l(this)}}},38819:(P,j,o)=>{o.d(j,{B:()=>l});var p=o(17761),g=o(54329);class l extends p._{static{this._instanceOfKey="devkit_MacrosFunctionExpression"}static get _instanceOfKeys(){return[...p._._instanceOfKeys,this._instanceOfKey]}constructor(f){super(f),this.functionType=g.c.Macros,this.macrosType=f?.macrosType,this.functionArgument=f?.functionArgument}static fromJson(f,E,y){const w=E&&y&&f.functionArgument?y.fromJson(f.functionArgument,E):void 0;return new l({functionArgument:w,macrosType:f.macrosType})}clone(){return new l(this)}_getUsedColumns(){return this.functionArgument?._getUsedColumns()??[]}}},28790:(P,j,o)=>{o.d(j,{g:()=>l});var p=o(39765),g=o(54329);class l extends p.z{static{this._instanceOfKey="devkit_WindowFunctionExpression"}static get _instanceOfKeys(){return[...p.z._instanceOfKeys,this._instanceOfKey]}constructor(f){super(f),this.functionType=g.c.Window}static fromJson(f,E,y){const w=y?.fromJson(f.functionArgument,E);return new l({functionArgument:w,isBlock:f.isBlock})}clone(){return new l(this)}}},53163:(P,j,o)=>{o.d(j,{J:()=>m});var p=o(5960),g=o.n(p),l=o(78240),t=o.n(l),f=o(16397),E=o(86464),y=o(40779),w=o(29360);class m extends w.F{static{this._instanceOfKey="devkit_ParameterExpression"}static get _instanceOfKeys(){return[...w.F._instanceOfKeys,this._instanceOfKey]}constructor(_){super(_),this.expressionType=y.i.Parameter;const x=_?.value;if(x instanceof Date){const I=new Date;I.setTime(x.getTime()),this.value=I}else x?this.value=typeof x=="object"?{...x}:x:this.value=x;this.dataValueType=_?.dataValueType??E.r.Text,this.parameter={dataValueType:this.dataValueType,...this._getParameterValueMetadata()}}static fromJson(_){return new m(_.parameter)}_convertStringToBlobArray(_){const x=[];let I=0;for(let k=0;k<_.length;k++){const A=_.charCodeAt(k);A<128?x[I++]=String.fromCharCode(A):A<2048?(x[I++]=String.fromCharCode(A>>6|192),x[I++]=String.fromCharCode(A&63|128)):(x[I++]=String.fromCharCode(A>>12|224),x[I++]=String.fromCharCode(A>>6&63|128),x[I++]=String.fromCharCode(A&63|128))}return x}_getParameterValueMetadata(){return this.dataValueType===E.r.Blob?{arrayValue:this.value?this._convertStringToBlobArray(this.value):[]}:this.value instanceof Date?{value:(0,f.q)(this.value)}:{value:this.value}}clone(){return new m(this)}_getUsedColumns(){return[]}}(0,p.__decorate)([(0,l.Exclude)(),(0,p.__metadata)("design:type",Object)],m.prototype,"value",void 0),(0,p.__decorate)([(0,l.Exclude)(),(0,p.__metadata)("design:type",Number)],m.prototype,"dataValueType",void 0)},52059:(P,j,o)=>{o.d(j,{M:()=>f});var p=o(40779),g=o(41108),l=o(29360);class t extends l.F{static{this._instanceOfKey="devkit_SubQueryExpression"}static get _instanceOfKeys(){return[...l.F._instanceOfKeys,this._instanceOfKey]}constructor(y){super(y),this.expressionType=p.i.SubQuery,this.columnPath=y?.columnPath;const w=y?.subFilters;typeof w?.clone=="function"?this.subFilters=w.clone():w?(this.subFilters=new g.X(w.logicalOperation,w.rootSchemaName),this.subFilters.isEnabled=w.isEnabled,Object.entries(w.items).forEach(([m,h])=>{this.subFilters.add(h,m)})):this.subFilters=w,this.subOrderDirection=y.subOrderDirection,this.subOrderColumn=y.subOrderColumn}static fromJson(y,w){return new t({columnPath:y.columnPath,subFilters:w.fromJson(y.subFilters),subOrderDirection:y.subOrderDirection,subOrderColumn:y.subOrderColumn})}clone(){return new t(this)}toJson(){const y=super.toJson();return this.subFilters&&(y.subFilters=this.serializeItem(this.subFilters)),y}_getUsedColumns(){return[{path:this.columnPath},...this.subFilters?._getUsedColumns()??[]]}}class f extends t{static{this._instanceOfKey="devkit_AggregationSubQueryExpression"}static get _instanceOfKeys(){return[...t._instanceOfKeys,this._instanceOfKey]}constructor(y){super(y),this.aggregationType=y?.aggregationType,this.functionType=y?.functionType}static fromJson(y,w){const m=super.fromJson(y,w);return new f({aggregationType:y.aggregationType,functionType:y.functionType,...m})}clone(){return new f(this)}}},76196:(P,j,o)=>{o.d(j,{h:()=>l});var p=o(78240),g=o.n(p);class l{static{this._instanceOfKey="devkit_BaseFilter"}static get _instanceOfKeys(){return[this._instanceOfKey]}static[Symbol.hasInstance](f){return(f?.constructor?._instanceOfKeys??[]).includes(this._instanceOfKey)}constructor(f){this.isEnabled=!0,this.trimDateTimeParameterToDate=!1,this.filterType=f}static fromJson(f,E,y){throw new Error(`fromJson not supported on filter type ${this.constructor.name}`)}serializeItem(f){return typeof f.toJson=="function"?f.toJson():(0,p.classToPlain)(f,{exposeUnsetFields:!1,excludePrefixes:["_"]})}toJson(){return(0,p.classToPlain)(this,{exposeUnsetFields:!1,excludePrefixes:["_"]})}}},60341:(P,j,o)=>{o.d(j,{y:()=>t});var p=o(55171),g=o(77895),l=o(58504);class t extends p.q{static{this._instanceOfKey="devkit_BetweenFilter"}static get _instanceOfKeys(){return[...p.q._instanceOfKeys,this._instanceOfKey]}constructor(E,y,w){super(g.C.Between,l.H.Between,E),this.filterType=g.C.Between,this.rightLessExpression=y?.clone(),this.rightGreaterExpression=w?.clone()}static fromJson(E,y,w){return new t(w.fromJson(E.leftExpression,y),w.fromJson(E.rightLessExpression,y),w.fromJson(E.rightGreaterExpression,y))}clone(){const E=new t(this.leftExpression,this.rightLessExpression,this.rightGreaterExpression);return E.isEnabled=this.isEnabled,E.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,E}toJson(){return{...super.toJson(),rightLessExpression:this.serializeItem(this.rightLessExpression),rightGreaterExpression:this.serializeItem(this.rightGreaterExpression)}}_getUsedColumns(){return[...super._getUsedColumns(),...this.rightLessExpression._getUsedColumns(),...this.rightGreaterExpression._getUsedColumns()]}}},5704:(P,j,o)=>{o.d(j,{x:()=>l});var p=o(55171),g=o(77895);class l extends p.q{static{this._instanceOfKey="devkit_CompareFilter"}static get _instanceOfKeys(){return[...p.q._instanceOfKeys,this._instanceOfKey]}constructor(f,E,y){super(g.C.Compare,f,E),this.filterType=g.C.Compare,this.rightExpression=y?.clone()}static fromJson(f,E,y){return new l(f.comparisonType,y.fromJson(f.leftExpression,E),y.fromJson(f.rightExpression,E))}clone(){const f=new l(this.comparisonType,this.leftExpression,this.rightExpression);return f.isEnabled=this.isEnabled,f.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,f}toJson(){return{...super.toJson(),rightExpression:this.serializeItem(this.rightExpression)}}_getUsedColumns(){return[...super._getUsedColumns(),...this.rightExpression._getUsedColumns()]}}},17591:(P,j,o)=>{o.d(j,{u:()=>t});var p=o(55171),g=o(58504),l=o(77895);class t extends p.q{static{this._instanceOfKey="devkit_ExistsFilter"}static get _instanceOfKeys(){return[...p.q._instanceOfKeys,this._instanceOfKey]}constructor(E,y,w=g.H.Exists,m=!0){super(l.C.Exists,w,E),this.filterType=l.C.Exists,this.subFilters=y?.clone(),this.isAggregative=m}static fromJson(E,y,w){const m=w.fromJson(E.leftExpression,y),h=E.subFilters;let _;return h&&(_=y.fromJson(E.subFilters)),new t(m,_,E.comparisonType,E.isAggregative)}clone(){const E=new t(this.leftExpression,this.subFilters,this.comparisonType,this.isAggregative);return E.isEnabled=this.isEnabled,E.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,E}toJson(){const E=super.toJson();return this.subFilters&&(E.subFilters=this.serializeItem(this.subFilters)),E}_getUsedColumns(){return[...super._getUsedColumns(),...this.subFilters?._getUsedColumns()??[]]}}},41108:(P,j,o)=>{o.d(j,{X:()=>L});var p=o(5960),g=o.n(p),l=o(78240),t=o.n(l),f=o(76196),E=o(60341),y=o(5704),w=o(17591),m=o(57014),h=o(26584),_=o(6530),x=o(3672),I=o(58504),k=o(77895),A=o(56267),F=o(92831),z=o(29025),N=o(38819),T=o(53163);class L extends f.h{static{this._instanceOfKey="devkit_FilterGroup"}static get _instanceOfKeys(){return[...f.h._instanceOfKeys,this._instanceOfKey]}get items(){const B={};return this.filters.forEach((tt,Z)=>{B[Z]=this.serializeItem(tt)}),B}constructor(B=A.H.And,tt){super(k.C.FilterGroup),this.filterType=k.C.FilterGroup,this.filters=new Map,this.logicalOperation=B,this.rootSchemaName=tt}static fromJson(B,tt){const Z=B.logicalOperation,G=new L(Z||A.H.And,B.rootSchemaName);return Object.entries(B.items).forEach(([Y,O])=>{G.add(tt.fromJson(O),Y)}),G}toJson(){const B={};return B.filterType=this.filterType,B.isEnabled=this.isEnabled,B.logicalOperation=this.logicalOperation,B.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,B.items=this.items,this.rootSchemaName&&(B.rootSchemaName=this.rootSchemaName),B}_createParameterValueExpressions(B){return B.map(tt=>new T.J({value:tt}))}getItemByIndex(B){return this.items[Object.keys(this.items)[B]]}addSchemaColumnFilterWithParameter(B,tt,Z,G){const Y=new z.g({columnPath:tt}),O=new T.J({value:Z}),st=new y.x(B,Y,O);this.add(st,G)}addSchemaColumnInFilterWithParameters(B,tt,Z,G){const Y=new z.g({columnPath:tt}),O=this._createParameterValueExpressions(Z),st=new m.f(B,Y,O);this.add(st,G)}addPrimarySchemaColumnInFilter(B,tt){const Z=new N.B({macrosType:F.V.PrimaryColumn}),G=this._createParameterValueExpressions(B),Y=new m.f(I.H.Equal,Z,G);this.add(Y,tt)}addSchemaColumnIsNullFilter(B,tt){const Z=new z.g({columnPath:B}),G=new h.p(I.H.Is_null,Z);this.add(G,tt)}addSchemaColumnIsNotNullFilter(B,tt){const Z=new z.g({columnPath:B}),G=new h.p(I.H.Is_not_null,Z);this.add(G,tt)}addSchemaColumnBetweenFilterWithParameters(B,tt,Z,G){const Y=new z.g({columnPath:B}),O=new T.J({value:tt}),st=new T.J({value:Z}),gt=new E.y(Y,O,st);this.add(gt,G)}addExistsFilter(B,tt,Z){const G=new z.g({columnPath:B}),Y=new w.u(G,tt);this.add(Y,Z)}addNotExistsFilter(B,tt,Z){const G=new z.g({columnPath:B}),Y=new w.u(G,tt,I.H.Not_exists);this.add(Y,Z)}add(B,tt){x.z.checkArgumentEmpty("filter",B);const Z=tt||(0,_.qv)();this.filters.set(Z,B)}clone(){const B=new L(this.logicalOperation,this.rootSchemaName);return this.filters.forEach((tt,Z)=>{B.filters.set(Z,tt.clone())}),B.isEnabled=this.isEnabled,B.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,B}_getUsedColumns(){const B=[];return this.filters.forEach(tt=>{let Z=tt._getUsedColumns?tt._getUsedColumns():[];Z=Z.map(G=>({path:G.path,schemaName:G.schemaName??this.rootSchemaName})),B.push(...Z)}),B}}(0,p.__decorate)([(0,l.Exclude)(),(0,p.__metadata)("design:type",Object)],L.prototype,"filters",void 0),(0,p.__decorate)([(0,l.Expose)(),(0,p.__metadata)("design:type",Object),(0,p.__metadata)("design:paramtypes",[])],L.prototype,"items",null)},50237:(P,j,o)=>{o.d(j,{b:()=>Z});class p{static fromJson(Y){throw new Error("not implemented")}}var g=o(77895),l=o(60341),t=o(5704),f=o(17591),E=o(41108),y=o(57014),w=o(26584);class m{static resolve(Y){return{[g.C.Compare]:t.x,[g.C.FilterGroup]:E.X,[g.C.In]:y.f,[g.C.IsNull]:w.p,[g.C.Exists]:f.u,[g.C.Between]:l.y}[Y]}}class h{static fromJson(Y,O){throw new Error("not implemented")}}var _=o(40779),x=o(54329),I=o(66214),k=o(29025),A=o(38819),F=o(4102),z=o(28790),N=o(28850),T=o(53163),L=o(52059);class U{static resolve(Y){return{[x.c.Macros]:A.B,[x.c.Length]:F.O,[x.c.Window]:z.g,[x.c.DatePart]:N.F,[x.c.DateAdd]:N.F,[x.c.DateDiff]:N.F}[Y.functionType]}}class B{static resolve(Y,O){return{[_.i.SchemaColumn]:k.g,[_.i.Parameter]:T.J,[_.i.SubQuery]:L.M,[_.i.ArithmeticOperation]:I.c,[_.i.Function]:U.resolve(O)}[Y]}}class tt extends h{static fromJson(Y,O){const st=Y.expressionType;return B.resolve(st,Y).fromJson(Y,O,tt)}}class Z extends p{static fromJson(Y){const O=Y.filterType,st=Y.isEnabled,gt=Y.trimDateTimeParameterToDate,ct=m.resolve(O).fromJson(Y,Z,tt);return ct.isEnabled=st!==!1,ct.trimDateTimeParameterToDate=gt===!0,ct}}},57014:(P,j,o)=>{o.d(j,{f:()=>l});var p=o(55171),g=o(77895);class l extends p.q{static{this._instanceOfKey="devkit_InFilter"}static get _instanceOfKeys(){return[...p.q._instanceOfKeys,this._instanceOfKey]}constructor(f,E,y){super(g.C.In,f,E),this.filterType=g.C.In,this.rightExpressions=y.map(w=>w?.clone())??[]}static fromJson(f,E,y){const w=f.rightExpressions??[];return new l(f.comparisonType,y.fromJson(f.leftExpression,E),w.map(m=>y.fromJson(m,E)))}clone(){const f=new l(this.comparisonType,this.leftExpression,this.rightExpressions);return f.isEnabled=this.isEnabled,f.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,f}toJson(){return{...super.toJson(),rightExpressions:this.rightExpressions.map(f=>this.serializeItem(f))}}_getUsedColumns(){const f=this.rightExpressions.map(E=>E._getUsedColumns()).flat();return[...super._getUsedColumns(),...f]}}},26584:(P,j,o)=>{o.d(j,{p:()=>t});var p=o(55171),g=o(58504),l=o(77895);class t extends p.q{static{this._instanceOfKey="devkit_IsNullFilter"}static get _instanceOfKeys(){return[...p.q._instanceOfKeys,this._instanceOfKey]}constructor(E,y){[g.H.Is_null,g.H.Is_not_null].includes(E)||console.warn(`Invalid comparison type: ${g.H[E]} in IsNullFilter.`),super(l.C.IsNull,t._getComparisonType(E),y),this.filterType=l.C.IsNull,this.isNull=!0,this.isNull=this.comparisonType===g.H.Is_null}static _getComparisonType(E){return E===g.H.Is_not_null?E:g.H.Is_null}static fromJson(E,y,w){return new t(t._getComparisonType(E.comparisonType),w.fromJson(E.leftExpression,y))}clone(){const E=new t(t._getComparisonType(this.comparisonType),this.leftExpression);return E.isEnabled=this.isEnabled,E.trimDateTimeParameterToDate=this.trimDateTimeParameterToDate,E}}},55171:(P,j,o)=>{o.d(j,{q:()=>g});var p=o(76196);class g extends p.h{static{this._instanceOfKey="devkit_SingleFilter"}static get _instanceOfKeys(){return[...p.h._instanceOfKeys,this._instanceOfKey]}constructor(t,f,E){super(t),this.comparisonType=f,this.leftExpression=E?.clone()}toJson(){return{...super.toJson(),leftExpression:this.serializeItem(this.leftExpression)}}_getUsedColumns(){return this.leftExpression._getUsedColumns()}}},93138:(P,j,o)=>{o.d(j,{r:()=>y});var p=o(5960),g=o.n(p),l=o(78240),t=o.n(l),f=o(65785),E=o(41108);class y extends f.h{constructor(m,h){super(m,h),this.filters=new E.X}clearFilters(){this.filters.filters.clear()}getMetadata(){return{...super.getMetadata(),filters:this.filters.toJson()}}_getUsedColumns(){const m=this.filters._getUsedColumns();return m.forEach(h=>{h.schemaName||(h.schemaName=this.rootSchemaName)}),m}}(0,p.__decorate)([(0,l.Exclude)(),(0,p.__metadata)("design:type",Object)],y.prototype,"filters",void 0)},65785:(P,j,o)=>{o.d(j,{h:()=>E});var p=o(5960),g=o.n(p),l=o(78240),t=o.n(l),f=o(3672);class E{get queryDtoType(){return this._queryDtoType}constructor(w,m){this.operationType=w,this.rootSchemaName=m,f.z.checkArgumentEmpty("_operationType",w),f.z.checkArgumentEmpty("_rootSchemaName",m)}getMetadata(){return(0,l.instanceToPlain)(this,{exposeUnsetFields:!1,excludePrefixes:["_"]})}}(0,p.__decorate)([(0,l.Exclude)(),(0,p.__metadata)("design:type",String)],E.prototype,"_queryDtoType",void 0),(0,p.__decorate)([(0,l.Expose)({name:"__type"}),(0,p.__metadata)("design:type",String),(0,p.__metadata)("design:paramtypes",[])],E.prototype,"queryDtoType",null)},18587:(P,j,o)=>{o.d(j,{x:()=>l});var p=o(93138),g=o(38498);class l extends p.r{constructor(f){super(g.z.Delete,f),this._queryDtoType="Terrasoft.Nui.ServiceModel.DataContract.DeleteQuery"}}},63741:(P,j,o)=>{o.d(j,{s:()=>gt});var p=o(78240),g=o(93138),l=o(38498);class t extends Error{constructor(nt){super(`Item with key '${nt}' does not exist.`)}}var f=o(3672),E=o(29025),y=o(61320);class w{constructor(nt){this.orderDirection=y.Z.None,this.orderPosition=-1,this.isVisible=!0,this.expression=nt}withOrdering(nt,Q){return f.z.checkArgumentEmpty("orderDirection",nt),f.z.checkArgumentEmpty("orderPosition",Q),f.z.checkArgumentOutOfRange("orderPosition",Q,{begin:-1}),this.orderDirection=nt,this.orderPosition=Q,this}withOptions(nt){return f.z.checkArgumentEmpty("options",nt),this.isVisible=nt.isVisible??!0,this}withCaption(nt){return f.z.checkArgumentEmpty("caption",nt),this.caption=nt,this}_getUsedColumns(){return this.expression._getUsedColumns()}toJson(){return(0,p.instanceToPlain)(this,{exposeUnsetFields:!1,excludePrefixes:["_"]})}}class m extends w{constructor(nt){super(new E.g({columnPath:nt}))}}var h=o(52059);class _ extends w{constructor(nt,Q,q,lt,c){super(new h.M({aggregationType:Q,columnPath:nt,subFilters:q,subOrderDirection:lt,subOrderColumn:c}))}}var x=o(53163);class I extends w{constructor(nt,Q){super(new x.J({value:nt,dataValueType:Q}))}}var k=o(66214);class A extends w{constructor(nt,Q,q){super(new k.c({arithmeticOperation:nt,leftArithmeticOperand:Q,rightArithmeticOperand:q}))}}var F=o(38819);class z extends w{constructor(nt){super(new F.B({macrosType:nt}))}}var N=o(28850);class T extends w{constructor(nt,Q){super(new N.F({datePartType:nt,functionArgument:Q}))}get datePartType(){return this.expression?.datePartType}}var L=o(39765),U=o(54329);class B extends L.z{static{this._instanceOfKey="devkit_AggregationFunctionExpression"}static get _instanceOfKeys(){return[...L.z._instanceOfKeys,this._instanceOfKey]}constructor(nt){super(nt),this.functionType=U.c.Aggregation,this.aggregationType=nt?.aggregationType,this.aggregationEvalType=nt?.aggregationEvalType}static fromJson(nt,Q,q){const lt=q?.fromJson(nt.functionArgument,Q),c=nt.aggregationType,Tt=nt.aggregationEvalType;return new B({functionArgument:lt,aggregationType:c,aggregationEvalType:Tt,isBlock:nt.isBlock})}clone(){return new B(this)}}class tt extends w{constructor(nt,Q,q){super(new B({aggregationType:nt,aggregationEvalType:Q,functionArgument:q}))}}var Z=o(4102);class G extends w{constructor(nt){super(new Z.O({functionArgument:nt}))}}var Y=o(28790);class O extends w{constructor(nt){super(new Y.g({functionArgument:nt}))}}var st;(function(ct){ct[ct.None=0]="None",ct[ct.All=1]="All",ct[ct.Distinct=2]="Distinct"})(st||(st={}));class gt extends g.r{constructor(nt){super(l.z.Select,nt),this._columns=new Map,this._queryDtoType="Terrasoft.Nui.ServiceModel.DataContract.SelectQuery",this.isDistinct=!1,this.rowCount=-1,this.rowsOffset=-1,this.useLocalization=!0,this.useRecordDeactivation=!1,this._getIsPageable=()=>this.rowCount>0&&this.rowsOffset>-1}_internalAddColumn(nt,Q){this._columns.has(nt)||this._columns.set(nt,Q)}getColumn(nt){if(!this._columns.has(nt))throw new t(nt);return this.findColumn(nt)}findColumn(nt){return this._columns.get(nt)}getMetadata(){return{...super.getMetadata(),columns:{items:(0,p.classToPlain)(this._columns,{exposeUnsetFields:!1,excludePrefixes:["_"]})},allColumns:!1,isDistinct:this.isDistinct,ignoreDisplayValues:!1,rowCount:this.rowCount,rowsOffset:this.rowsOffset,adminUnitRoleSources:this.adminUnitRoleSources,isPageable:this._getIsPageable(),conditionalValues:this.conditionalValues?this.conditionalValues:null,isHierarchical:!1,hierarchicalMaxDepth:0,hierarchicalColumnName:null,hierarchicalColumnValue:null,useLocalization:this.useLocalization,useRecordDeactivation:this.useRecordDeactivation}}addColumn(nt,Q){return this._internalAddColumn(Q,nt),nt}addSchemaColumn(nt,Q){f.z.checkArgumentEmpty("columnPath",nt);const q=new m(nt);return this._internalAddColumn(Q||nt,q),q}addAggregationSubQueryColumn(nt,Q,q,lt){const c=new _(nt,Q,q.filter,q.sortByDirection,q.sortByColumn);return this._internalAddColumn(lt||nt,c),c}addParameterColumn(nt,Q,q){const lt=new I(nt,Q);return this._internalAddColumn(q,lt),lt}addArithmeticColumn(nt,Q,q,lt){const c=new A(nt,Q,q);return this._internalAddColumn(lt,c),c}addMacrosFunctionColumn(nt,Q){const q=new z(nt);return this._internalAddColumn(Q,q),q}addDatePartFunctionColumn(nt,Q,q){const lt=new E.g({columnPath:nt}),c=new T(Q,lt);return this._internalAddColumn(q,c),c}addAggregationFunctionColumn(nt,Q,q,lt=st.None){const c=new E.g({columnPath:nt}),Tt=new tt(Q,lt,c);return this._internalAddColumn(q,Tt),Tt}addLengthFunctionColumn(nt,Q){const q=new E.g({columnPath:nt}),lt=new G(q);return this._internalAddColumn(Q,lt),lt}addWindowFunctionColumn(nt,Q,q,lt=st.None){const c=new B({aggregationType:Q,aggregationEvalType:lt,functionArgument:new E.g({columnPath:nt})}),Tt=new O(c);return this._internalAddColumn(q,Tt),Tt}_getUsedColumns(){const nt=[];return this._columns.forEach(Q=>{nt.push(...Q._getUsedColumns())}),nt.forEach(Q=>{Q.schemaName||(Q.schemaName=this.rootSchemaName)}),[...nt,...super._getUsedColumns()]}}},43785:(P,j,o)=>{o.d(j,{L:()=>m});var p=o(5960),g=o.n(p),l=o(78240),t=o.n(l),f=o(65785),E=o(38498),y=o(3672),w=o(53163);class m extends f.h{constructor(_){super(E.z.Insert,_),this._columnValues=new Map,this._queryDtoType="Terrasoft.Nui.ServiceModel.DataContract.InsertQuery"}get columnValues(){return{items:(0,l.classToPlain)(this._columnValues)}}addColumn(_,x,I){y.z.checkArgumentEmpty("columnName",_),this._columnValues.set(_,new w.J({value:x,dataValueType:I}))}}(0,p.__decorate)([(0,l.Expose)(),(0,p.__metadata)("design:type",Object),(0,p.__metadata)("design:paramtypes",[])],m.prototype,"columnValues",null)},38498:(P,j,o)=>{o.d(j,{z:()=>p});var p;(function(g){g[g.Select=0]="Select",g[g.Insert=1]="Insert",g[g.Update=2]="Update",g[g.Delete=3]="Delete"})(p||(p={}))},74709:(P,j,o)=>{o.d(j,{N:()=>m});var p=o(5960),g=o.n(p),l=o(78240),t=o.n(l),f=o(93138),E=o(38498),y=o(3672),w=o(53163);class m extends f.r{constructor(_){super(E.z.Update,_),this._columnValues=new Map,this._queryDtoType="Terrasoft.Nui.ServiceModel.DataContract.UpdateQuery",this.isForceUpdate=!1}get columnValues(){return{items:(0,l.classToPlain)(this._columnValues)}}addColumn(_,x,I){y.z.checkArgumentEmpty("columnName",_),this._columnValues.set(_,new w.J({value:x,dataValueType:I}))}}(0,p.__decorate)([(0,l.Expose)(),(0,p.__metadata)("design:type",Object),(0,p.__metadata)("design:paramtypes",[])],m.prototype,"columnValues",null)},29241:(P,j,o)=>{o.d(j,{h:()=>p});class p extends Error{constructor(l){super(`Argument with name '${l}' is empty.`)}}},89684:(P,j,o)=>{o.d(j,{K:()=>p});class p extends Error{constructor(l){super(`Argument with name '${l}' is out of range.`)}}},74236:(P,j,o)=>{o.d(j,{W:()=>p});class p extends Error{constructor(){super("Next handler already specified")}}},3672:(P,j,o)=>{o.d(j,{z:()=>l});var p=o(29241),g=o(89684);class l{static checkArgumentEmpty(f,E){if(E==null)throw new p.h(f)}static checkArrayEmpty(f,E){if(l.checkArgumentEmpty(f,E),E.length===0)throw new p.h(f)}static checkStringIsNotEmpty(f,E){if(this.checkArgumentEmpty(f,E),E==="")throw new p.h(f);return E}static checkArgumentOutOfRange(f,E,y){if(y.begin&&E<y.begin)throw new g.K(f);if(y.end&&E>y.end)throw new g.K(f)}static checkEnumOutOfRange(f,E,y){if(!y||!Object.values(y).includes(E))throw new g.K(f)}}},81517:(P,j,o)=>{o.d(j,{S:()=>p});class p{}},65288:(P,j,o)=>{o.d(j,{E:()=>p});var p;(function(g){g.PrimaryColumnValue="primaryColumnValue",g.ColumnValue="columnValue",g.Filter="filter",g.PrimaryDisplayValueFilter="primaryDisplayValueFilter",g.Empty="empty",g.Never="never"})(p||(p={}))},6530:(P,j,o)=>{o.d(j,{To:()=>p,gZ:()=>E,n7:()=>f,qv:()=>t});const p="00000000-0000-0000-0000-000000000000",g=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i");function l(y){let w="";for(let m=0;m<y;m++)w+=((1+Math.random())*65536|0).toString(16).substring(1);return w}function t(){return[l(2),l(1),l(1),l(1),l(3)].join("-")}function f(y){return!!y&&g.test(y)}function E(y){return!y||y===p}},64751:(P,j,o)=>{o.d(j,{BC:()=>l,fV:()=>g,hk:()=>t,mm:()=>p});const p="crtInput:",g="crtOutput:",l="crtValidationInput:",t="crtInject:"},83836:(P,j,o)=>{o.d(j,{D:()=>g});var p=o(70941);function g(l){return function(t,f,E){const y=function(...w){return p.t.instance.process({type:l?.requestType?l.requestType:this.requestType,method:l?.methodName?l.methodName:f,args:w})};E?E.value=y:t[f]=y}}},62800:(P,j,o)=>{o.d(j,{$:()=>t});var p=o(4930),g=o(95639);class l{static{this._requestsMap=new Map}static{this._requestsRegistrationInfos=new Map}static get requestsRegistrationInfos(){return this._requestsRegistrationInfos}static register(E,y){const w=E.type;l._requestsMap.set(w,y),l._requestsRegistrationInfos.set(w,E)}static get(E){const y=l._requestsMap.get(E);return(0,g.Il)(E,y),y&&new y}}function t(f){return function(E){(0,g.zo)(f.type,"RequestTypeName"),(0,g.jL)(f.type),l.register(f,E)}}},50999:(P,j,o)=>{o.d(j,{h:()=>l});var p=o(10098),g;(function(t){t.Data="Data"})(g||(g={}));const l={...g,...p.J}},10098:(P,j,o)=>{o.d(j,{J:()=>p});var p;(function(g){g.Charts="Charts",g.Components="Components",g.LayoutElements="LayoutElements",g.Inputs="Inputs",g.CustomElements="CustomElements"})(p||(p={}))},94933:(P,j,o)=>{o.d(j,{I:()=>p});class p{}},6813:(P,j,o)=>{o.d(j,{o:()=>t});var p=o(28399),g=o.n(p);const l=window;class t{constructor(){this.store={typeInfos:new Map}}static{this._prefix="creatio.registry."}static get store(){if(!this._instance){let E=(0,p.get)(l,this._prefix+this.registryKey);E||(E=new this,(0,p.set)(l,this._prefix+this.registryKey,E)),this._instance=E}return this._instance.store}}},95639:(P,j,o)=>{o.d(j,{Il:()=>w,iY:()=>f,jL:()=>E,wo:()=>m,zo:()=>l});var p=o(28399),g=o.n(p);function l(h,_){if(h.split(".").length<2)throw new Error(`Error when register ${h}. Type property should have format "VendorPrefix.${_}"`)}function t(h,_){return l(h,_)}function f(h){const[_,x]=h.split("."),I=y(x);if(!_||I!==x)throw new Error(`Error when register ${h}. Type property should have Pascal case, e.g. ${_+"."+I}. The first letter of each word in a compound word should be capitalized`)}function E(h){const[_,x]=h.split("."),I=y(x);if(_.toLowerCase()==="crt"&&I!==x)throw new Error(`Error when register ${h}. Type property should have Pascal case, e.g. ${_+"."+I}. The first letter of each word in a compound word should be capitalized`)}function y(h){return(0,p.upperFirst)((0,p.camelCase)(h))}function w(h,_){if(!_)throw new Error(`Error when resolve ${h}. Type was not registered.`)}function m(h,_,x){if(x.has(h)&&!(0,p.isEqual)(x.get(h),_))throw new Error(`Error when register ${h}. Element with this type has already exist`)}},18872:(P,j,o)=>{o.d(j,{c:()=>l});var p=o(6813),g=o(95639);class l extends p.o{static{this.registryKey="ConverterRegistry"}static has(f){return this.store.typeInfos.has(f)}static find(f){return this.store.typeInfos.get(f)}static get(f){const E=this.find(f);if(!E)throw new Error(`'${f}' converter doesn't exist`);return E}static register(f){(0,g.zo)(f.type,"ConverterTypeName"),(0,g.jL)(f.type);const E=this.find(f.type);this.store.typeInfos.set(f.type,{...E??{},...f})}static clear(){this.store.typeInfos.clear()}}},66875:(P,j,o)=>{o.d(j,{l:()=>l});var p=o(28399),g=o.n(p);class l{constructor(){this._refs=new Set,this.lazyLoadingDisabled=!1}static{this._globalInstancePath="creatio._lazyModulesManager"}static get instance(){if(!this._instance){let f=(0,p.get)(window,this._globalInstancePath);f||(f=new this,(0,p.set)(window,this._globalInstancePath,f)),this._instance=f}return this._instance}add(f){this._refs.add(f)}size(){return this._refs.size}loadAll(){return Promise.all(Array.from(this._refs).map(f=>f.loadAndBootstrap()))}clear(){this._refs.clear()}}},46089:(P,j,o)=>{o.d(j,{D:()=>f});var p=o(6813),g=o(95639);class l extends p.o{static validate(y){(0,g.zo)(y.type,"ViewElementTypeName");const w=this.viewElements.get(y.type);w?.lazy&&!("selector"in w)&&!w.typeRef||(0,g.wo)(y.type,y,this.viewElements)}static get viewElements(){return this.store.typeInfos}static register(y){const w=this.viewElements.get(y.type);this.viewElements.set(y.type,{...w??{},...y})}static getFormControlRelatesAttribute(y){const w=this.store.typeInfos.get(y);return w&&"formControlConfig"in w&&w.formControlConfig?.relatesTo||null}static getViewElementInputs(y){return this.store.typeInfos.get(y)?.inputs??{}}static getViewElementOutputs(y){return this.store.typeInfos.get(y)?.outputs??{}}static getViewElementPropertiesDefaultValues(y){const w=this.store.typeInfos.get(y);return[...Object.entries(w?.inputs??{}).filter(([h,_])=>Object.prototype.hasOwnProperty.call(_,"defaultValue")).map(([h,_])=>({name:h,defaultValue:_.defaultValue})),{name:"visible",defaultValue:!0}]}static getViewElementCompatiblePlatformAPIsOptions(y,w){return this.store.typeInfos.get(y)?.compatibleAPIs?.[w]??{}}static isViewElementAvailableByCompatibleAPIs(y,...w){const m=this.store.typeInfos.get(y);return Object.entries(m?.compatibleAPIs??{}).filter(([h,_])=>w.includes(h)).some(([h,_])=>typeof _=="boolean"?_:(_||{}).enable)}}const t="ViewElementRegistry";class f extends l{static{this.registryKey=t}}},35738:(P,j,o)=>{o.d(j,{Ac:()=>I,BK:()=>Tt,G3:()=>k,Js:()=>nt,Lk:()=>A,OF:()=>O,UG:()=>T,XR:()=>tt,Yc:()=>lt,b9:()=>F,pC:()=>c,xz:()=>Z,y6:()=>U});var p=o(4930),g=o.n(p),l=o(64751);const t="module",f="viewElement",E="mobileViewElement",y="interfaceDesignerItem",w="mobileInterfaceDesignerItem",m="requestHandler",h="designTimeViewElement",_="validator",x="converter";function I(vt,Rt){Reflect.defineMetadata(t,vt,Rt)}function k(vt){const Rt=Reflect.getMetadata(t,vt);if(!Rt)throw new Error(`Module metadata was not found on '${vt.name}' class`);return Rt}function A(vt,Rt){Reflect.defineMetadata(f,vt,Rt)}function F(vt,Rt){Reflect.defineMetadata(E,vt,Rt)}function z(vt){return Reflect.getMetadata(f,vt)}function N(vt){return Reflect.getMetadata(E,vt)}function T(vt,Rt){Reflect.defineMetadata(_,vt,Rt)}function L(vt){const Rt=Reflect.getOwnMetadata(_,vt);if(!Rt)throw new Error(`Validator metadata was not found on '${vt.name}' class`);return Rt}function U(vt,Rt){Reflect.defineMetadata(x,vt,Rt)}function B(vt){const Rt=Reflect.getOwnMetadata(x,vt);if(!Rt)throw new Error(`Converter metadata was not found on '${vt.name}' class`);return Rt}function tt(vt,Rt){Reflect.defineMetadata(y,vt,Rt)}function Z(vt,Rt){Reflect.defineMetadata(w,vt,Rt)}function G(vt){return Reflect.getOwnMetadata(y,vt)}function Y(vt){return Reflect.getOwnMetadata(w,vt)}function O(vt,Rt){Reflect.defineMetadata(h,vt,Rt)}function st(vt){const Rt=Reflect.getOwnMetadata(h,vt);if(!Rt)throw new Error(`Design time view element metadata was not found on '${vt.name}' class`);return Rt}function gt(vt){return Reflect.hasOwnMetadata(y,vt)}function ct(vt){return Reflect.hasOwnMetadata(w,vt)}function nt(vt,Rt){Reflect.defineMetadata(m,vt,Rt)}function Q(vt){const Rt=Reflect.getMetadata(m,vt);if(!Rt)throw new Error(`Request handler metadata was not found on '${vt.name}' class`);return Rt}function q(vt){const Rt=Reflect.getMetadata("requestType",vt);if(!Rt)throw new Error(`requestType was not found on '${vt.name}' class`);return{requestType:Rt,typeRef:vt}}function lt(vt){const xe=Reflect.getMetadataKeys(vt).filter(le=>le.startsWith(l.mm));return Object.fromEntries(xe.map(le=>{const Ve=Reflect.getMetadata(le,vt);return[le.replace(l.mm,""),Ve]}))}function c(vt){const xe=Reflect.getMetadataKeys(vt).filter(le=>le.startsWith(l.fV));return Object.fromEntries(xe.map(le=>{const Ve=Reflect.getMetadata(le,vt);return[le.replace(l.fV,""),Ve]}))}function Tt(vt){const xe=Reflect.getMetadataKeys(vt).filter(le=>le.startsWith(l.BC));return Object.fromEntries(xe.map(le=>{const Ve=Reflect.getMetadata(le,vt);return[le.replace(l.BC,""),Ve]}))}function Nt(vt){const xe=Reflect.getOwnMetadataKeys(vt).filter(le=>le.startsWith(crtInjectPrefix));return Object.fromEntries(xe.map(le=>{const Ve=Number(le.replace(crtInjectPrefix,"")),Be=Reflect.getMetadata(le,vt);return[Ve,Be]}))}function wt(vt){const Rt=vt.prototype?Object.getPrototypeOf(vt.prototype):null;return Rt?Rt.constructor:null}function Et(vt){const Rt=Reflect.getOwnMetadata("design:paramtypes",vt);if(!Rt){if(vt.length>0)throw new Error(`Dependency Injection error. Cannot read dependencies of class '${vt.name}'. Please make sure class '${vt.name}' has decorator and 'emitDecoratorMetadata' option is enabled in your 'tsconfig.json' file.`);const le=wt(vt);return le&&le!==Object?Et(le):[]}const xe=Nt(vt);return Object.entries(xe).forEach(([le,Ve])=>Rt[le]=Ve),Rt}},4579:(P,j,o)=>{o.d(j,{_:()=>l});var p=o(35738);function g(t){console.error("Not supported: lazy modules should not be dependent on other lazy modules. Some functions may not work correctly",t)}function l(t){if(!Array.isArray(t))return[];if(t.length===0)return[];const f=new Set,E=[...t];for(;E.length>0;){const y=E.pop();if(!y||f.has(y))continue;if(typeof y!="function"){g(y);continue}f.add(y);const w=(0,p.G3)(y)?.includes||[];E.push(...w)}return[...f]}},66125:(P,j,o)=>{o.d(j,{p:()=>p});function p(g,l){return g?.length?g.some(t=>l?.includes(t)):!0}},4164:(P,j,o)=>{o.d(j,{a:()=>l});var p=o(95639),g=o(35738);function l(t){return t?function(f){const E=typeof t=="string"?t:t.type;(0,p.zo)(E,"converterTypeName");const y={type:E,typeRef:f};(0,g.y6)(y,f)}:f=>{}}},40968:(P,j,o)=>{o.d(j,{j:()=>t});var p=o(4930),g=o.n(p),l=o(64751);function t(f){return function(E,y,w){Reflect.defineMetadata(l.hk+w,f,E)}}},77592:(P,j,o)=>{o.d(j,{k:()=>t});var p=o(4930),g=o.n(p),l=o(64751);function t(f){return function(E,y){f||(f={propertyBindable:!1}),Reflect.defineMetadata(l.mm+y.toString(),f,E.constructor)}}},52793:(P,j,o)=>{o.d(j,{f:()=>f});var p=o(10098),g=o(35738),l=o(45999);function t(E,y){function w(){if(!E.typeCaption&&E.toolbarConfig){const m=Array.isArray(E.toolbarConfig)?E.toolbarConfig[0]:E.toolbarConfig;E.typeCaption=m.caption}}return function(m){E.typeRef=m,E.viewElementGroupType??=p.J.CustomElements,w(),(0,l.o)(E),y==="mobile"?(0,g.xz)(E,m):(0,g.XR)(E,m)}}function f(E){return t(E,"web")}},55642:(P,j,o)=>{o.d(j,{g:()=>t});var p=o(35738),g=o(4930),l=o.n(g);function t(f){return E=>(0,p.Ac)(f,E)}},34760:(P,j,o)=>{o.d(j,{j:()=>t});var p=o(4930),g=o.n(p),l=o(64751);function t(){return function(f,E){Reflect.defineMetadata(l.fV+E.toString(),{},f.constructor)}}},844:(P,j,o)=>{o.d(j,{l:()=>f});var p=o(4930),g=o.n(p),l=o(95639),t=o(35738);function f(E){return E?function(y){(0,l.zo)(E.type,"RequestHandlerTypeName"),(0,l.jL)(E.type),(0,t.Js)(E,y)}:y=>{}}},3671:(P,j,o)=>{o.d(j,{v:()=>E});var p=o(95639),g=o(35738),l=o(45999),t=o(96677);function f(y,w){return function(m){(0,p.iY)(y.type);const h=(0,g.Yc)(m),_=(0,g.pC)(m),x=(0,g.BK)(m),I={...y,inputs:h,outputs:_,validationInputs:x},k="selector"in y?{...I,selector:y.selector}:{...I,typeRef:m};k.reuseStrategy=y?.reuseStrategy??t.B.Rerender,(0,l.o)(k),w==="web"?(0,g.Lk)(k,m):(0,g.b9)(k,m)}}function E(y){return f(y,"web")}},82517:(P,j,o)=>{o.d(j,{I:()=>p});var p;(function(g){g.LoadNext="loadNext",g.Load="load",g.Reload="reload"})(p||(p={}))},66823:(P,j,o)=>{o.d(j,{R:()=>p});var p;(function(g){g.Readonly="READONLY_PROPERTY",g.Disabled="DISABLED_PROPERTY"})(p||(p={}))},40129:(P,j,o)=>{o.d(j,{g:()=>g});const p=window;p.creatio??={},p.creatio._bootstrappedCrtModules??=new Map;const g=p.creatio._bootstrappedCrtModules},65182:(P,j,o)=>{o.d(j,{oM:()=>t,zt:()=>f});var p=o(40129);function g(E){p.g.forEach((y,w)=>{y.root&&E(y,w)})}function l(E){g(y=>y.options?.onContextCreate?.(E))}function t(E){g(y=>y.options?.onContextUpdate?.(E))}function f(E){g(y=>y.options?.onContextDestroy?.(E))}},45999:(P,j,o)=>{o.d(j,{o:()=>t});var p=o(28399);const g="39px";var l=o(29982);function t(f){(0,p.isEmpty)(f.renderStrategy)&&"placeholderSize"in f&&(f.renderStrategy=l.D.OnViewport),f.renderStrategy===l.D.OnViewport&&!f.placeholderSize&&(f.placeholderSize={height:g})}},41287:(P,j,o)=>{o.d(j,{l:()=>l});var p=o(74236),g=o(70941);class l{constructor(){this.handlerChain=g.t.instance}static{this._instanceOfKey="devkit_BaseRequestHandler"}get next(){return this._next}static[Symbol.hasInstance](f){return f?.constructor?._instanceOfKey===l._instanceOfKey}setNext(f){if(this._next)throw new p.W;this._next=f}}},29982:(P,j,o)=>{o.d(j,{D:()=>p});var p;(function(g){g.Default="default",g.OnViewport="on-viewport"})(p||(p={}))},96677:(P,j,o)=>{o.d(j,{B:()=>p});var p;(function(g){g[g.Reuse=0]="Reuse",g[g.Rerender=1]="Rerender"})(p||(p={}))},94950:(P,j,o)=>{o.d(j,{w:()=>f});var p=o(5960),g=o.n(p),l=o(83836),t=o(94933);class f extends t.I{constructor(){super(...arguments),this.requestType="crt.FeatureService"}}(0,p.__decorate)([(0,l.D)(),(0,p.__metadata)("design:type",Function)],f.prototype,"getFeatureState",void 0),(0,p.__decorate)([(0,l.D)(),(0,p.__metadata)("design:type",Function)],f.prototype,"getFeaturesState",void 0)},70941:(P,j,o)=>{o.d(j,{t:()=>k});var p=o(73308),g=o(6530),l=o(74236),t=o(66875),f;(function(A){A[A.Schema=0]="Schema",A[A.Remote=1]="Remote",A[A.Host=2]="Host"})(f||(f={}));var E=o(6813);class y extends E.o{static{this.registryKey="pkgTopology"}static get items(){return this.store.typeInfos}static get(F){const z=this.items.get(F);if(z===void 0)throw new Error(`Package with name ${F} not found in topology`);return z}}class w{constructor(F){this._request=F;const z=[...this._request.scopes??[]].reverse().map((N,T)=>[N,T]);this._scopesOrder=Object.fromEntries(z)}_getOrderByScopes(F){if(!F.scopes)return Number.MAX_VALUE;const z=F.scopes.filter(N=>N in this._scopesOrder).map(N=>this._scopesOrder[N]);return Math.min(...z)}_getOrderByPkgTopology(F){return F.source.type===f.Host?Number.MAX_VALUE:y.get(F.source.packageName)}compare(F,z){const N=this._getOrderByScopes(F),T=this._getOrderByScopes(z);let L=N-T;if(L)return L;const U=this._getOrderByPkgTopology(F),B=this._getOrderByPkgTopology(z);return L=U-B,L||(L=F.source.type-z.source.type,L)}}var m=o(4579),h=o(66125),_=o(65182);class x{constructor(){var F=this;this._handlers=[],this._requestListeners=new Map,this._handlersCache=new Map,this._handlersScopesByContextId=new Map,this.handlerChain$={process:function(){var z=(0,p.A)(function*(N){let T;if(F._hasCacheHandler(N))T=F._getCacheHandler(N);else{const L=F._getMatchedHandlers(N);t.l.instance.lazyLoadingDisabled||(yield F._loadLazyHandlers(N,L)),T=F._buildHandlersChain(N,L)}return F._requestListeners.forEach(L=>L?.(N)),T?.handle(N)});return function(T){return z.apply(this,arguments)}}(),register:z=>(this._handlersCache.delete(z.requestType),this._handlers.push(z),()=>{const N=this._handlers.indexOf(z);N>-1?(this._handlers.splice(N,1),this._handlersCache.delete(z.requestType)):console.warn(`${z?.requestType} not found to unsubscribe`)}),update:z=>{const N=this._handlers.find(T=>T.type===z.type);N&&(N.createHandler=z.createHandler)},subscribe:(z,N)=>{if(!z)return()=>{};const T=(0,g.qv)(),L=U=>{(!N||U.$context===N)&&z(U)};return this._requestListeners.set(T,L),()=>this._requestListeners.delete(T)}}}clearContextedHandlersCache(F){return(this._handlersScopesByContextId.get(F)??[]).every(({requestType:N,scope:T})=>this._handlersCache.get(N)?.delete(T))}clear(){this._handlers.splice(0),this._requestListeners.clear(),this._handlersCache.clear(),this._handlersScopesByContextId.clear()}_getCacheHandler(F){const z=this._handlersCache.get(F.type),N=this._getCacheScopesKey(F);return z.get(N)}_hasCacheHandler(F){const z=this._handlersCache.get(F.type),N=this._getCacheScopesKey(F);return z&&z.has(N)}_getCacheScopesKey(F){const z=this._getInjectionContext(F?.$context)?.id??"";return(F.scopes||[""]).join("_").concat(z)}_getInjectionContext(F){return F?._injectionContext||F?.parent&&this._getInjectionContext(F.parent)}_setContextedScopes(F,z){const N=this._getInjectionContext(F?.$context)?.id,T=this._handlersScopesByContextId.has(N)?this._handlersScopesByContextId.get(N):[];T.push({requestType:F.type,scope:z}),this._handlersScopesByContextId.set(N,T)}_setCacheHandler(F,z){const N=this._handlersCache.has(F.type)?this._handlersCache.get(F.type):new Map,T=this._getCacheScopesKey(F);N.set(T,z),this._getInjectionContext(F?.$context)?.id&&this._setContextedScopes(F,T),this._handlersCache.set(F.type,N)}_isRequestHandler(F){return typeof F.handle=="function"&&typeof F.setNext=="function"}_checkHandlerInstanceOf(F){if(!this._isRequestHandler(F))throw new Error('Handler should implement "BaseRequestHandler"')}_loadLazyHandlers(F,z){var N=this;return(0,p.A)(function*(){const T=new Set;z.forEach(B=>{B.lazy&&!B.createHandler&&T.add(B.lazyModuleRef)});const L=[...T];yield Promise.all(L.map(B=>B.loadAndBootstrap()));const U=N._getInjectionContext(F?.$context);if(U&&T.size){const B=yield(0,m._)(L.map(tt=>tt.typeRef));for(const tt of B)U.addLazyModule(tt);(0,_.oM)(U)}})()}_getMatchedHandlers(F){return this._handlers.filter(z=>z.requestType!==F.type?!1:(0,h.p)(z.scopes,F.scopes))}_buildHandlersChain(F,z){const N=new w(F);z.sort((B,tt)=>N.compare(B,tt));const T=this._getInjectionContext(F?.$context),L=z.map(B=>B.createHandler.call(B,T));L.forEach(B=>this._checkHandlerInstanceOf(B)),this._joinHandlersInChain(L);const U=L[0];return this._setCacheHandler(F,U),U}_joinHandlersInChain(F){for(let z=0;z<F.length-1;z++)try{F[z].setNext(F[z+1])}catch(N){throw N instanceof l.W?new Error("Handler factory should return new instance of BaseRequestHandler class or its subclass (next handler should not be specified)"):N}}}const I=window;class k{get _chain(){return I.handlerChain}set _chain(F){I.handlerChain=F}static get instance(){return k._instance||(k._instance=new k)}constructor(){this._chain||this._createGlobalHandlerChain()}_createGlobalHandlerChain(){this._chain=new x}clearContextedHandlersCache(F){return this._chain.clearContextedHandlersCache(F)}register(F){return this._chain.handlerChain$.register(F)}update(F){return this._chain.handlerChain$.update(F)}process(F){return this._chain.handlerChain$.process(F)}subscribe(F,z){return this._chain.handlerChain$.subscribe(F,z)}clear(){this._chain.clear()}}},50069:(P,j,o)=>{o.d(j,{s:()=>m});var p=o(73308),g=o(5960),l=o(81517),t;(function(h){h.AddTask="addTask",h.RemoveTask="removeTask"})(t||(t={}));class f extends l.S{constructor(_,x,I){super(),this.action=_,this.taskName=x,this.$context=I,this.type="crt.SchemaViewMaskRequest"}}var E=o(83836),y=o(94933),w=o(70941);class m extends y.I{constructor(){super(...arguments),this.requestType="crt.MaskService"}showMask(_,x){return(0,p.A)(function*(){const I=new f(t.AddTask,_,x);yield w.t.instance.process(I)})()}hideMask(_,x){return(0,p.A)(function*(){const I=new f(t.RemoveTask,_,x);yield w.t.instance.process(I)})()}}(0,g.__decorate)([(0,E.D)(),(0,g.__metadata)("design:type",Function)],m.prototype,"showBodyMask",void 0),(0,g.__decorate)([(0,E.D)(),(0,g.__metadata)("design:type",Function)],m.prototype,"hideBodyMask",void 0)},40269:(P,j,o)=>{o.d(j,{K:()=>y});var p=o(73308),g=o(5960),l=o.n(g),t=o(83836),f=o(94933);const E=Symbol("CreateModelFrom");class y extends f.I{constructor(m){super(),this.requestType="crt.ModelGenerator",this._crtModel=m}static get instance(){return this._instance||(this._instance=new y),this._instance}get name(){return this._crtModel?.name}static[E](m){return new y(m)}static create(m){var h=this;return(0,p.A)(function*(){const _=yield h.instance._create({type:"crt.EntityDataSource",config:{entitySchemaName:m}},"");return new y(_)})()}getSchema(){return this._crtModel._getAsyncResult(this._crtModel.getSchema())}load(m){return m?.loadOptions&&!m?.options&&(m.options=m.loadOptions),this._crtModel._getAsyncResult(this._crtModel.load(m))}insert(m){return this._crtModel._getAsyncResult(this._crtModel.insert(m))}update(m,h){var _=this;return(0,p.A)(function*(){const x=Object.keys(m);if(x.length){const k=(yield _.getSchema()).primaryAttributeName;x.filter(A=>A!==k).forEach(A=>_._crtModel.attributeChanged(A))}return _._crtModel._getAsyncResult(_._crtModel.update(m,h))})()}copy(m,h={}){return this._crtModel._getAsyncResult(this._crtModel.copy(m,h))}create(m={}){return this._crtModel._getAsyncResult(this._crtModel.create(m))}delete(m){return this._crtModel._getAsyncResult(this._crtModel.delete(m))}canSave(m){return this._crtModel._getAsyncResult(this._crtModel.canSave(m))}canDelete(m){return this._crtModel._getAsyncResult(this._crtModel.canDelete(m))}insertInTransaction(m,h){return this._crtModel.insertInTransaction(m,h)}updateInTransaction(m,h,_){return this._crtModel.updateInTransaction(m,h,_)}deleteInTransaction(m,h){return this._crtModel.deleteInTransaction(m,h)}}(0,g.__decorate)([(0,t.D)({methodName:"generateOne"}),(0,g.__metadata)("design:type",Function)],y.prototype,"_create",void 0)},21928:(P,j,o)=>{o.d(j,{A:()=>f});var p=o(5960),g=o.n(p),l=o(83836),t=o(94933);class f extends t.I{constructor(){super(...arguments),this.requestType="crt.SysSettingsService"}}(0,p.__decorate)([(0,l.D)(),(0,p.__metadata)("design:type",Function)],f.prototype,"getByCodes",void 0),(0,p.__decorate)([(0,l.D)(),(0,p.__metadata)("design:type",Function)],f.prototype,"getByCode",void 0),(0,p.__decorate)([(0,l.D)(),(0,p.__metadata)("design:type",Function)],f.prototype,"update",void 0),(0,p.__decorate)([(0,l.D)(),(0,p.__metadata)("design:type",Function)],f.prototype,"updateMany",void 0)},89199:(P,j,o)=>{o.d(j,{N:()=>t});var p=o(58083),g=o(59131),l=o.n(g);class t{static{this.\u0275fac=function(y){return new(y||t)}}static{this.\u0275mod=g.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=g.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&g.\u0275\u0275setNgModuleScope(t,{declarations:[p.q],exports:[p.q]})})()},58083:(P,j,o)=>{o.d(j,{q:()=>l});var p=o(59131),g=o.n(p);class l{static{this.\u0275fac=function(E){return new(E||l)}}static{this.\u0275cmp=p.\u0275\u0275defineComponent({type:l,selectors:[["crt-base-input-width-holder"]],inputs:{label:"label",minWidth:"minWidth"},decls:3,vars:3,consts:[[1,"crt-base-input-width-holder-label"],[1,"crt-base-input-width-holder-control"]],template:function(E,y){E&1&&(p.\u0275\u0275elementStart(0,"div",0),p.\u0275\u0275text(1),p.\u0275\u0275elementEnd(),p.\u0275\u0275element(2,"div",1)),E&2&&(p.\u0275\u0275advance(),p.\u0275\u0275textInterpolate(y.label),p.\u0275\u0275advance(),p.\u0275\u0275styleProp("width",y.minWidth,"px"))},styles:["[_nghost-%COMP%]{display:block;height:0;overflow:hidden}.crt-base-input-width-holder-label[_ngcontent-%COMP%]{box-sizing:border-box;height:0;max-width:320px;padding-inline-end:2px;overflow:hidden}.crt-base-input-width-holder-control[_ngcontent-%COMP%]{height:0;min-width:0;max-width:320px}"],changeDetection:0})}}},82944:(P,j,o)=>{o.d(j,{F:()=>T});var p=o(5960),g=o.n(p),l=o(93277),t=o.n(l),f=o(24897),E=o.n(f),y=o(90865),w=o.n(y),m=o(59131),h=o.n(m),_=o(56711),x=o.n(_),I=o(77592),k=o(62278),A=o.n(k),F=o(36486),z=o.n(F);const N=["input"];class T{constructor(U,B,tt){this.ngControl=U,this.autofillMonitor=B,this.focusMonitor=tt,this._disabled=!1,this._placeholder="",this._required=!1,this._focused=!1,this.destroy=new k.Subject,this.autofilled=!1,this.stateChanges=new k.Subject,this.onTouched=()=>{},U&&(this.ngControl.valueAccessor=this)}set elementRef(U){U&&(this._elementRef=U)}get elementRef(){return this._elementRef}get disabled(){return this._disabled}set disabled(U){this.setDisabledState((0,f.coerceBooleanProperty)(U)),this.stateChanges.next()}get placeholder(){return this._placeholder}set placeholder(U){this._placeholder=U,this.stateChanges.next()}get required(){return this._required}set required(U){this._required=(0,f.coerceBooleanProperty)(U),this.stateChanges.next()}get value(){return this.innerValue}set value(U){this.writeValue(U)}get innerValue(){return this._innerValue}set innerValue(U){this.setInnerValueSilent(U),this.callChangeHandler()}get empty(){return!this.autofilled&&!this.value}get focused(){return this._focused}set focused(U){this._focused=U,this.stateChanges.next()}get shouldLabelFloat(){return this.focused||!this.empty}setInnerValueSilent(U){this._innerValue=U}callChangeHandler(){this.onChange?this.onChange(this._innerValue):this.stateChanges.next()}focusElementViaMouse(){this.focusMonitor.focusVia(this.elementRef.nativeElement,"mouse")}initMonitors(){this.focusMonitor.monitor(this.elementRef.nativeElement,!0).pipe((0,F.takeUntil)(this.destroy)).subscribe(U=>{this.focused=!!U}),this.autofillMonitor.monitor(this.elementRef).pipe((0,F.map)(U=>U.isAutofilled),(0,F.filter)(U=>U),(0,F.startWith)(!1),(0,F.takeUntil)(this.destroy)).subscribe(U=>this.autofilled=U)}onContainerClick(U){U.target.tagName.toLowerCase()!=="input"&&this.focusElementViaMouse()}setDescribedByIds(){}registerOnChange(U){this.onChange=U}registerOnTouched(U){this.onTouched=U}writeValue(U){this._innerValue=U,this.stateChanges.next()}setDisabledState(U){if(this._disabled===U)return;this._disabled=U;const B=this.ngControl?.control;B&&B.disabled!==U&&(U?B.disable():B.enable())}ngDoCheck(){this.ngControl&&(this.errorState=this.ngControl.invalid&&this.ngControl.touched,this.stateChanges.next())}ngAfterViewInit(){this.initMonitors()}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.elementRef?.nativeElement),this.autofillMonitor.stopMonitoring(this.elementRef),this._elementRef=null,this.stateChanges.next(),this.stateChanges.complete(),this.destroy.next(),this.destroy.complete()}static{this.\u0275fac=function(B){return new(B||T)(m.\u0275\u0275directiveInject(_.NgControl),m.\u0275\u0275directiveInject(y.AutofillMonitor),m.\u0275\u0275directiveInject(l.FocusMonitor))}}static{this.\u0275dir=m.\u0275\u0275defineDirective({type:T,viewQuery:function(B,tt){if(B&1&&m.\u0275\u0275viewQuery(N,5,m.ElementRef),B&2){let Z;m.\u0275\u0275queryRefresh(Z=m.\u0275\u0275loadQuery())&&(tt.elementRef=Z.first)}},hostVars:2,hostBindings:function(B,tt){B&1&&m.\u0275\u0275listener("focusout",function(){return tt.onTouched()}),B&2&&m.\u0275\u0275classProp("floating",tt.shouldLabelFloat)},inputs:{disabled:"disabled",placeholder:"placeholder",required:"required",value:"value"}})}}(0,p.__decorate)([(0,I.k)(),(0,p.__metadata)("design:type",Boolean),(0,p.__metadata)("design:paramtypes",[Boolean])],T.prototype,"disabled",null),(0,p.__decorate)([(0,I.k)(),(0,p.__metadata)("design:type",String),(0,p.__metadata)("design:paramtypes",[String])],T.prototype,"placeholder",null),(0,p.__decorate)([(0,I.k)(),(0,p.__metadata)("design:type",Boolean),(0,p.__metadata)("design:paramtypes",[Boolean])],T.prototype,"required",null),(0,p.__decorate)([(0,I.k)(),(0,p.__metadata)("design:type",Object),(0,p.__metadata)("design:paramtypes",[Object])],T.prototype,"value",null)},78748:(P,j,o)=>{o.d(j,{w:()=>g});var p=o(73308);class g{constructor(){}copyTextToBuffer(t){var f=this;return(0,p.A)(function*(){const y=(Array.isArray(t)?t:[t]).map(w=>({data:w,mimeType:"text/plain"}));try{return yield f.copyToBuffer(y)}catch{return console.log("Copy to clipboard is not allowed")}})()}}},91966:(P,j,o)=>{o.d(j,{D:()=>k});var p=o(76923),g=o.n(p),l=o(52667),t=o(59131),f=o.n(t),E=o(40297),y=o.n(E),w=o(23023),m=o.n(w),h=o(79772),_=o.n(h);function x(A,F){if(A&1&&(t.\u0275\u0275elementStart(0,"button",6),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),A&2){const z=t.\u0275\u0275nextContext();t.\u0275\u0275property("mat-dialog-close",z.secondaryButton.result),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,z.secondaryButton.caption)," ")}}function I(A,F){if(A&1&&(t.\u0275\u0275elementStart(0,"button",6),t.\u0275\u0275text(1),t.\u0275\u0275pipe(2,"translate"),t.\u0275\u0275elementEnd()),A&2){const z=F.$implicit;t.\u0275\u0275property("mat-dialog-close",z.result),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(2,2,z.caption)," ")}}class k{constructor(F){this.data=F,this.buttons=[],F&&(this.primaryButton=F.primaryButton,this.secondaryButton=F.secondaryButton,this.message=F.message,this.buttons=F.buttons),this.buttons?.length||(this.primaryButton??=l.ut,this.secondaryButton??=l.ch)}static{this.\u0275fac=function(z){return new(z||k)(t.\u0275\u0275directiveInject(p.MAT_LEGACY_DIALOG_DATA))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:k,selectors:[["ts-confirmation-dialog"]],decls:9,vars:7,consts:[["mat-dialog-content",""],[1,"message"],["mat-dialog-actions",""],["mat-flat-button","","color","primary","cdkFocusInitial","",1,"action-button",3,"mat-dialog-close"],["class","action-button","mat-button","",3,"mat-dialog-close",4,"ngIf"],["class","action-button","mat-button","",3,"mat-dialog-close",4,"ngFor","ngForOf"],["mat-button","",1,"action-button",3,"mat-dialog-close"]],template:function(z,N){z&1&&(t.\u0275\u0275elementStart(0,"div",0)(1,"span",1),t.\u0275\u0275text(2),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(3,"div",2)(4,"button",3),t.\u0275\u0275text(5),t.\u0275\u0275pipe(6,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,x,3,4,"button",4)(8,I,3,4,"button",5),t.\u0275\u0275elementEnd()),z&2&&(t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(N.data==null?null:N.data.message),t.\u0275\u0275advance(2),t.\u0275\u0275property("mat-dialog-close",N.primaryButton.result),t.\u0275\u0275advance(),t.\u0275\u0275textInterpolate1(" ",t.\u0275\u0275pipeBind1(6,5,N.primaryButton.caption)," "),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",N.secondaryButton),t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",N.buttons))},dependencies:[E.NgForOf,E.NgIf,w.MatLegacyButton,p.MatLegacyDialogClose,p.MatLegacyDialogContent,p.MatLegacyDialogActions,h.TranslatePipe],styles:["[mat-dialog-content][_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{white-space:pre-line;word-break:break-word}[mat-dialog-actions][_ngcontent-%COMP%]{margin:27px 0 0!important;justify-content:flex-end}"]})}}},52667:(P,j,o)=>{o.d(j,{ut:()=>l,ch:()=>g});var p;(function(E){E[E.Primary=0]="Primary",E[E.Secondary=1]="Secondary",E[E.Cancel=2]="Cancel",E[E.Delete=3]="Delete"})(p||(p={}));const g={caption:"ConfirmationDialog.YES",result:p.Secondary},l={caption:"ConfirmationDialog.NO",result:p.Primary},t={caption:"ConfirmationDialog.CANCEL",result:p.Cancel},f={caption:"ConfirmationDialog.DELETE",result:p.Delete}},76222:(P,j,o)=>{o.d(j,{E:()=>m});var p=o(76923),g=o.n(p),l=o(59131),t=o.n(l),f=o(23023),E=o.n(f),y=o(79772),w=o.n(y);class m{constructor(_){this.data=_}static{this.\u0275fac=function(x){return new(x||m)(l.\u0275\u0275directiveInject(p.MAT_LEGACY_DIALOG_DATA))}}static{this.\u0275cmp=l.\u0275\u0275defineComponent({type:m,selectors:[["ts-error-dialog"]],decls:7,vars:4,consts:[["mat-dialog-content",""],[1,"message"],["mat-dialog-actions",""],["type","button","mat-flat-button","","color","warn","cdkFocusInitial","",1,"action-button",3,"mat-dialog-close"]],template:function(x,I){x&1&&(l.\u0275\u0275elementStart(0,"div",0)(1,"span",1),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(3,"div",2)(4,"button",3),l.\u0275\u0275text(5),l.\u0275\u0275pipe(6,"translate"),l.\u0275\u0275elementEnd()()),x&2&&(l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(I.data==null?null:I.data.message),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate1(" ",l.\u0275\u0275pipeBind1(6,2,"InfoDialog.OK")," "))},dependencies:[f.MatLegacyButton,p.MatLegacyDialogClose,p.MatLegacyDialogContent,p.MatLegacyDialogActions,y.TranslatePipe],styles:["[mat-dialog-content][_ngcontent-%COMP%]{max-height:450px;overflow-y:auto!important}[mat-dialog-content][_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{white-space:pre-line;word-break:break-word}[mat-dialog-actions][_ngcontent-%COMP%]{justify-content:right;margin:27px 0 0!important}"]})}}},79806:(P,j,o)=>{o.d(j,{u:()=>m});var p=o(76923),g=o.n(p),l=o(59131),t=o.n(l),f=o(23023),E=o.n(f),y=o(79772),w=o.n(y);class m{constructor(_){this.data=_}static{this.\u0275fac=function(x){return new(x||m)(l.\u0275\u0275directiveInject(p.MAT_LEGACY_DIALOG_DATA))}}static{this.\u0275cmp=l.\u0275\u0275defineComponent({type:m,selectors:[["ts-info-dialog"]],decls:7,vars:4,consts:[["mat-dialog-content",""],[1,"message"],["mat-dialog-actions",""],["type","button","mat-flat-button","","color","primary","cdkFocusInitial","",1,"action-button",3,"mat-dialog-close"]],template:function(x,I){x&1&&(l.\u0275\u0275elementStart(0,"div",0)(1,"span",1),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(3,"div",2)(4,"button",3),l.\u0275\u0275text(5),l.\u0275\u0275pipe(6,"translate"),l.\u0275\u0275elementEnd()()),x&2&&(l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(I.data==null?null:I.data.message),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate1(" ",l.\u0275\u0275pipeBind1(6,2,"InfoDialog.OK")," "))},dependencies:[f.MatLegacyButton,p.MatLegacyDialogClose,p.MatLegacyDialogContent,p.MatLegacyDialogActions,y.TranslatePipe],styles:["[mat-dialog-content][_ngcontent-%COMP%]{max-height:450px;overflow-y:auto!important}[mat-dialog-content][_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{white-space:pre-line;word-break:break-word}[mat-dialog-actions][_ngcontent-%COMP%]{justify-content:right;margin:27px 0 0!important}"]})}}},90808:(P,j,o)=>{o.d(j,{P:()=>x});var p=o(93277),g=o(40297),l=o(23023),t=o(76923),f=o(79772),E=o(91966),y=o(76222),w=o(79806),m=o(59131);class h{constructor(k){this.data=k}static{this.\u0275fac=function(A){return new(A||h)(m.\u0275\u0275directiveInject(t.MAT_LEGACY_DIALOG_DATA))}}static{this.\u0275cmp=m.\u0275\u0275defineComponent({type:h,selectors:[["ts-info-with-header-dialog"]],decls:9,vars:10,consts:[[1,"header-message"],[1,"message"],[1,"action-button",3,"mat-dialog-close"]],template:function(A,F){A&1&&(m.\u0275\u0275elementStart(0,"div",0),m.\u0275\u0275text(1),m.\u0275\u0275pipe(2,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(3,"div",1),m.\u0275\u0275text(4),m.\u0275\u0275pipe(5,"translate"),m.\u0275\u0275elementEnd(),m.\u0275\u0275elementStart(6,"button",2),m.\u0275\u0275text(7),m.\u0275\u0275pipe(8,"translate"),m.\u0275\u0275elementEnd()),A&2&&(m.\u0275\u0275advance(),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(2,4,F.data==null?null:F.data.headerMessage)),m.\u0275\u0275advance(3),m.\u0275\u0275textInterpolate(m.\u0275\u0275pipeBind1(5,6,F.data==null?null:F.data.message)),m.\u0275\u0275advance(2),m.\u0275\u0275property("mat-dialog-close",F.data==null||F.data.button==null?null:F.data.button.result),m.\u0275\u0275advance(),m.\u0275\u0275textInterpolate1(" ",m.\u0275\u0275pipeBind1(8,8,F.data==null||F.data.button==null?null:F.data.button.caption),`
`))},dependencies:[t.MatLegacyDialogClose,f.TranslatePipe],styles:[".header-message[_ngcontent-%COMP%]{margin-bottom:24px}.message[_ngcontent-%COMP%]{margin-bottom:40px;white-space:pre-wrap}.action-button[_ngcontent-%COMP%]{float:right;text-transform:none;border-radius:16px;padding:0 16px}"]})}}var _=o(7471);class x{static{this.\u0275fac=function(A){return new(A||x)}}static{this.\u0275mod=m.\u0275\u0275defineNgModule({type:x})}static{this.\u0275inj=m.\u0275\u0275defineInjector({providers:[_.o,{provide:p.FocusTrapFactory,useClass:p.ConfigurableFocusTrapFactory}],imports:[g.CommonModule,l.MatLegacyButtonModule,t.MatLegacyDialogModule,f.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&m.\u0275\u0275setNgModuleScope(x,{declarations:[E.D,y.E,w.u,h],imports:[g.CommonModule,l.MatLegacyButtonModule,t.MatLegacyDialogModule,f.TranslateModule],exports:[E.D,w.u,h,y.E]})})()},7471:(P,j,o)=>{o.d(j,{o:()=>F});var p=o(40297),g=o.n(p),l=o(59131),t=o.n(l),f=o(76923),E=o.n(f),y=o(79772),w=o.n(y),m=o(36486),h=o.n(m),_=o(29957),x=o.n(_),I=o(91966),k=o(76222),A=o(79806);class F{constructor(N,T,L,U){this.document=N,this._ngZone=T,this._translateService=L,this.dialog=U}_stopEventPropagation(N,T){N.afterOpened().pipe((0,m.takeUntil)(T)).subscribe(L=>{const B=this.document.getElementsByClassName("cdk-overlay-container")[0];B&&B.addEventListener("click",function(tt){tt.stopImmediatePropagation()})})}getMessageDialogConfig(N){const T={width:"450px",panelClass:["dialog-top-border"],data:{}};if(typeof N=="string")return T.data.message=N,T;N.panelClass&&N.panelClass.length&&T.panelClass.push(...N.panelClass);const L=N;return L.primaryButton&&(T.data.primaryButton=L.primaryButton),L.secondaryButton&&(T.data.secondaryButton=L.secondaryButton),L.buttons&&(T.data.buttons=L.buttons),T.data.message=L.message,T}open(N,T){return this._ngZone.run(()=>{const L=this.dialog.open(N,T),U=L.afterClosed();return this._stopEventPropagation(L,U),U})}openInfoDialog(N){return this.open(A.u,this.getMessageDialogConfig(N))}openErrorDialog(N){return this.open(k.E,this.getMessageDialogConfig(N))}openConfirmationDialog(N){return this.open(I.D,this.getMessageDialogConfig(N))}openOperationPermissionsErrorDialog(N){const T=_.String.format(this._translateService.instant("OperationPermissionsErrorDialog.ErrorTemplate"),N);return this.openInfoDialog(T)}closeById(N){this.dialog.getDialogById(N)?.close()}closeAll(){this.dialog.closeAll()}hasOpenDialogs(){return!!this.dialog.openDialogs?.length}getOpenDialogs(){return this.dialog.openDialogs}static{this.\u0275fac=function(T){return new(T||F)(l.\u0275\u0275inject(p.DOCUMENT),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(y.TranslateService),l.\u0275\u0275inject(f.MatLegacyDialog))}}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac})}}},4872:(P,j,o)=>{o.d(j,{I:()=>w});var p=o(59131),g=o.n(p),l=o(40297),t=o.n(l),f=o(50301),E=o.n(f);function y(m,h){if(m&1){const _=p.\u0275\u0275getCurrentView();p.\u0275\u0275elementStart(0,"div",1),p.\u0275\u0275listener("click",function(I){p.\u0275\u0275restoreView(_);const k=p.\u0275\u0275nextContext();return p.\u0275\u0275resetView(k.onClick(I))}),p.\u0275\u0275element(1,"mat-spinner",2),p.\u0275\u0275elementEnd()}if(m&2){const _=p.\u0275\u0275nextContext();p.\u0275\u0275styleProp("opacity",_.opacity),p.\u0275\u0275classProp("containerized-mask",_.containerized)}}class w{constructor(h){this._cdr=h,this._isVisible=!0,this._opacity=.6,this.containerized=!1}get isVisible(){return this._isVisible}set isVisible(h){this._isVisible!==h&&(this._isVisible=h,this._cdr.detectChanges())}set opacity(h){this._opacity=h,this._cdr.detectChanges()}get opacity(){return this._opacity}_assertIsBodyMask(){if(this.containerized)throw new Error("Is not body mask")}onClick(h){h.stopImmediatePropagation()}hideBodyMask(){this._assertIsBodyMask(),this.isVisible=!1}showBodyMask(){this._assertIsBodyMask(),this.isVisible=!0}static{this.\u0275fac=function(_){return new(_||w)(p.\u0275\u0275directiveInject(p.ChangeDetectorRef))}}static{this.\u0275cmp=p.\u0275\u0275defineComponent({type:w,selectors:[["ts-mask"]],inputs:{isVisible:"isVisible",opacity:"opacity"},decls:1,vars:1,consts:[["class","mask-wrap",3,"containerized-mask","opacity","click",4,"ngIf"],[1,"mask-wrap",3,"click"],["mode","indeterminate","diameter","32","aria-hidden","true",1,"mask-element"]],template:function(_,x){_&1&&p.\u0275\u0275template(0,y,2,4,"div",0),_&2&&p.\u0275\u0275property("ngIf",x.isVisible)},dependencies:[l.NgIf,f.MatProgressSpinner],styles:[".component-mask[_nghost-%COMP%]   .mask-wrap[_ngcontent-%COMP%], .component-mask   [_nghost-%COMP%]   .mask-wrap[_ngcontent-%COMP%]{position:absolute}.component-mask[_nghost-%COMP%]   .mask-wrap[_ngcontent-%COMP%]   .mask-element[_ngcontent-%COMP%], .component-mask   [_nghost-%COMP%]   .mask-wrap[_ngcontent-%COMP%]   .mask-element[_ngcontent-%COMP%]{position:absolute}.mask-wrap[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:2011;width:100%;height:100%;background-color:#fff}.mask-wrap[_ngcontent-%COMP%]   .mask-element[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;margin-top:-16px;margin-left:-16px;z-index:999}.mask-wrap.containerized-mask[_ngcontent-%COMP%], .mask-wrap.containerized-mask[_ngcontent-%COMP%]   .mask-element[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}}},99947:(P,j,o)=>{o.d(j,{R:()=>m});var p=o(40297),g=o(50301),l=o(79772),t=o(4872),f=o(59131),E=o(20673),y=o(62281);class w extends E.t{constructor(_,x,I,k){super(I,k),this._viewContainerRef=_,this._maskComponentType=x,this._tasks=new Set}_setMaskStateAttribute(){const _=this._viewContainerRef?.element.nativeElement.parentElement;if(!_)return;const x=_.getAttribute("maskstate"),I=this.isVisible?"visible":"none";_.setAttribute("aria-busy",this.isVisible?"true":"false"),this.isVisible?_.setAttribute("inert","true"):_.removeAttribute("inert"),x!==I&&_.setAttribute("maskstate",I)}createMaskComponent(){this.maskComponentRef=this._viewContainerRef.createComponent(this._maskComponentType??t.I),this.maskComponentRef.instance.containerized=!0,this.maskComponentRef.instance.isVisible=!1}updateMaskStateAttribute(){super.updateMaskStateAttribute(),this._setMaskStateAttribute()}addTask(_,x){return this.shouldShow!==!1&&(this._tasks.add(_),this.show(x??this.settings)),_}removeTask(_){this.shouldShow!==!1&&(this._tasks.delete(_),this._tasks.size===0&&this.hide())}clearTasks(){this.shouldShow!==!1&&this._tasks.size>0&&(this._tasks.clear(),this.hide())}static{this.\u0275fac=function(x){return new(x||w)(f.\u0275\u0275directiveInject(f.ViewContainerRef),f.\u0275\u0275directiveInject(y.X,8),f.\u0275\u0275directiveInject(p.DOCUMENT),f.\u0275\u0275directiveInject(f.NgZone))}}static{this.\u0275dir=f.\u0275\u0275defineDirective({type:w,selectors:[["","crtMask",""]],inputs:{shouldShow:[f.\u0275\u0275InputFlags.None,"crtMask","shouldShow"],settings:[f.\u0275\u0275InputFlags.None,"crtMaskSettings","settings"]},features:[f.\u0275\u0275InheritDefinitionFeature]})}}class m{static{this.\u0275fac=function(x){return new(x||m)}}static{this.\u0275mod=f.\u0275\u0275defineNgModule({type:m})}static{this.\u0275inj=f.\u0275\u0275defineInjector({imports:[p.CommonModule,g.MatProgressSpinnerModule,l.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&f.\u0275\u0275setNgModuleScope(m,{declarations:[t.I,w],imports:[p.CommonModule,g.MatProgressSpinnerModule,l.TranslateModule],exports:[t.I,w]})})()},20673:(P,j,o)=>{o.d(j,{t:()=>l});var p=o(59131),g=o.n(p);class l{static{this._visibleMasks=new Set}get maskComponent(){return this.maskComponentRef?.instance}get isVisible(){return!!this.maskComponent?.isVisible}set isVisible(f){f?(this.maskComponent||this.createMaskComponent(),this.maskComponent.isVisible=!0):this.maskComponent&&(this.maskComponent.isVisible=!1)}constructor(f,E){this.document=f,this.ngZone=E,this._defaultMaskDelayMilliseconds=300,this._defaultMinimumMaskDuration=500,this._immediateDisplayAfterHideMaxDelay=50,this._maskShouldBeShown=!1,this._maskShownTimestamp=0,this._maskHiddenTimestamp=0,this.updateMaskStateAttribute()}updateMaskStateAttribute(){const f=this.document?.body;f&&(l._visibleMasks.size>0?f.getAttribute("maskstate")!=="visible"&&f.setAttribute("maskstate","visible"):f.getAttribute("maskstate")!=="none"&&f.setAttribute("maskstate","none"))}_internalShow(){this.isVisible||(this.isVisible=!0,l._visibleMasks.add(this),this.updateMaskStateAttribute(),this._maskShownTimestamp=Date.now())}_internalHide(){this.isVisible&&(this.isVisible=!1,l._visibleMasks.delete(this),this.updateMaskStateAttribute(),this._maskHiddenTimestamp=Date.now())}show(f){this._maskShouldBeShown=!0;const E=Date.now()-this._maskHiddenTimestamp;f?.delay===0||E<this._immediateDisplayAfterHideMaxDelay?this._internalShow():this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._maskShouldBeShown&&this.ngZone.run(()=>this._internalShow())},f?.delay||this._defaultMaskDelayMilliseconds)})}hide(){this._maskShouldBeShown=!1;const f=Date.now()-this._maskShownTimestamp;f>=this._defaultMinimumMaskDuration?this._internalHide():this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._maskShouldBeShown||this.ngZone.run(()=>this._internalHide())},this._defaultMinimumMaskDuration-f)})}ngOnDestroy(){this.maskComponentRef?.destroy(),this.maskComponentRef=null,l._visibleMasks.delete(this)}static{this.\u0275fac=function(E){return new(E||l)(p.\u0275\u0275inject(Document),p.\u0275\u0275inject(p.NgZone))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac})}}},88033:(P,j,o)=>{o.d(j,{s:()=>h});var p=o(5960),g=o(40297),l=o(59131),t=o(22524),f=o(20673),E=o(4872);const y=new l.InjectionToken("Flag indicating that mask has startup loading animation");var w=o(62281),m;let h=class z0 extends f.t{static{m=this}constructor(x,I,k,A,F,z,N){super(k,A),this._appRef=x,this._injector=I,this._window=F,this.loadingAnimationVisible=z,this._maskComponentType=N,this.createMaskComponent(),this.maskComponent.isVisible=!1}static _getHtmlElement(x){const I=x;if(!I||I.rootNodes.length===0)throw new Error("Not found HTMLElement Mask");return I.rootNodes[0]}_createMaskComponentRef(){this.maskComponentRef=(0,l.createComponent)(this._maskComponentType||E.I,{environmentInjector:this._appRef.injector})}_appendMaskComponentToBody(){const x=this.maskComponentRef.hostView;this._appRef.attachView(x);const I=m._getHtmlElement(x);this.document.body.appendChild(I)}_hideLoadingAnimation(){this._window?.dispatchEvent(new CustomEvent("hide_loading_animation"))}createMaskComponent(){this._createMaskComponentRef(),this._appendMaskComponentToBody(),this.maskComponent.isVisible=!1}showBodyMask(x){this.loadingAnimationVisible||this.show(x)}hideBodyMask(){if(this.loadingAnimationVisible){this.loadingAnimationVisible=!1,this._hideLoadingAnimation();return}this.hide()}static{this.\u0275fac=function(I){return new(I||z0)(l.\u0275\u0275inject(l.ApplicationRef),l.\u0275\u0275inject(l.Injector),l.\u0275\u0275inject(g.DOCUMENT),l.\u0275\u0275inject(l.NgZone),l.\u0275\u0275inject(t.ZP,8),l.\u0275\u0275inject(y,8),l.\u0275\u0275inject(w.X,8))}}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:z0,factory:z0.\u0275fac,providedIn:"root"})}};h=m=(0,p.__decorate)([(0,t.op)({requestType:"crt.MaskService"}),(0,p.__metadata)("design:paramtypes",[l.ApplicationRef,l.Injector,Document,l.NgZone,Window,Boolean,l.Type])],h)},62281:(P,j,o)=>{o.d(j,{X:()=>l});var p=o(59131),g=o.n(p);const l=new p.InjectionToken("CRT_MASK_COMPONENT")},50663:(P,j,o)=>{o.d(j,{K:()=>y});var p=o(52989),g=o.n(p),l=o(71252),t=o.n(l),f=o(59131),E=o.n(f);class y{constructor(m,h){this._domSanitizer=m,this._matIconRegistry=h}addIcons(m){m.forEach(({name:h,icon:_})=>{const x=this._domSanitizer.bypassSecurityTrustHtml(_);this._matIconRegistry.addSvgIconLiteral(h,x)})}static{this.\u0275fac=function(h){return new(h||y)(f.\u0275\u0275inject(l.DomSanitizer),f.\u0275\u0275inject(p.MatIconRegistry))}}static{this.\u0275prov=f.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"})}}},50067:(P,j,o)=>{o.d(j,{Q:()=>T});var p=o(73308),g=o(93883),l=o.n(g),t=o(59131),f=o.n(t),E=o(40297),y=o.n(E),w=o(23023),m=o.n(w),h=o(52989),_=o.n(h),x=o(79772),I=o.n(x);function k(L,U){if(L&1&&t.\u0275\u0275element(0,"mat-icon",5),L&2){const B=t.\u0275\u0275nextContext();t.\u0275\u0275property("svgIcon",B.icon)}}function A(L,U){if(L&1&&t.\u0275\u0275element(0,"mat-icon",10),L&2){const B=t.\u0275\u0275nextContext().$implicit;t.\u0275\u0275property("svgIcon",B==null?null:B.icon)}}function F(L,U){if(L&1){const B=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",8),t.\u0275\u0275listener("click",function(Z){const G=t.\u0275\u0275restoreView(B).$implicit,Y=t.\u0275\u0275nextContext(2);return t.\u0275\u0275resetView(Y.onActionClick(G==null?null:G.handler,Z))}),t.\u0275\u0275template(1,A,1,1,"mat-icon",9),t.\u0275\u0275elementStart(2,"span"),t.\u0275\u0275text(3),t.\u0275\u0275elementEnd()()}if(L&2){const B=U.$implicit;t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",B==null?null:B.icon),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(B==null?null:B.caption)}}function z(L,U){if(L&1&&(t.\u0275\u0275elementStart(0,"div",6),t.\u0275\u0275template(1,F,4,2,"button",7),t.\u0275\u0275elementEnd()),L&2){const B=t.\u0275\u0275nextContext();t.\u0275\u0275advance(),t.\u0275\u0275property("ngForOf",B.actions)}}function N(L,U){if(L&1){const B=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"button",11),t.\u0275\u0275pipe(1,"translate"),t.\u0275\u0275listener("click",function(Z){t.\u0275\u0275restoreView(B);const G=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(G.onClose(Z))}),t.\u0275\u0275element(2,"mat-icon",12),t.\u0275\u0275elementEnd()}L&2&&t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(1,1,"Dialog.Close"))}class T{constructor(U,B){this.snackBarRef=U,this.data=B,this.message=B.message,this.actions=B.actions,this.closeMode=B.closeMode,this.icon=B.icon}onClose(U){U?.stopPropagation(),this.snackBarRef.dismiss()}onActionClick(U,B){var tt=this;return(0,p.A)(function*(){yield U?.call(tt,B),tt.snackBarRef.dismiss()})()}static{this.\u0275fac=function(B){return new(B||T)(t.\u0275\u0275directiveInject(g.MatLegacySnackBarRef),t.\u0275\u0275directiveInject(g.MAT_LEGACY_SNACK_BAR_DATA))}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:T,selectors:[["ts-notify"]],decls:7,vars:6,consts:[[1,"crt-notify-container"],["class","crt-notify-icon",3,"svgIcon",4,"ngIf"],["data-qa","notificationPopup",1,"crt-notify-message"],["class","crt-notify-actions",4,"ngIf"],["mat-flat-button","","class","crt-notify-close-button-icon","type","button",3,"click",4,"ngIf"],[1,"crt-notify-icon",3,"svgIcon"],[1,"crt-notify-actions"],["type","button","mat-flat-button","",3,"click",4,"ngFor","ngForOf"],["type","button","mat-flat-button","",3,"click"],["class","crt-notify-action-button-icon",3,"svgIcon",4,"ngIf"],[1,"crt-notify-action-button-icon",3,"svgIcon"],["mat-flat-button","","type","button",1,"crt-notify-close-button-icon",3,"click"],["svgIcon","icon_close_24"]],template:function(B,tt){B&1&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275template(1,k,1,1,"mat-icon",1),t.\u0275\u0275elementStart(2,"output",2),t.\u0275\u0275text(3),t.\u0275\u0275pipe(4,"translate"),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,z,2,1,"div",3)(6,N,3,3,"button",4),t.\u0275\u0275elementEnd()),B&2&&(t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",tt.icon),t.\u0275\u0275advance(2),t.\u0275\u0275textInterpolate(t.\u0275\u0275pipeBind1(4,4,tt.message)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",tt.actions==null?null:tt.actions.length),t.\u0275\u0275advance(),t.\u0275\u0275property("ngIf",tt.closeMode!=="auto"))},dependencies:[E.NgForOf,E.NgIf,w.MatLegacyButton,h.MatIcon,x.TranslatePipe],styles:[".crt-notify-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.crt-notify-container[_ngcontent-%COMP%]   .crt-notify-message[_ngcontent-%COMP%]{flex:1}.crt-notify-container[_ngcontent-%COMP%]   .crt-notify-icon[_ngcontent-%COMP%]{width:16px;margin-inline-end:8px}.crt-notify-container[_ngcontent-%COMP%]   .crt-notify-close-button-icon[_ngcontent-%COMP%]{padding:0;min-width:initial;margin-inline-start:16px}.crt-notify-container[_ngcontent-%COMP%]   .crt-notify-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;margin-inline-start:40px}.crt-notify-container[_ngcontent-%COMP%]   .crt-notify-actions[_ngcontent-%COMP%]   .crt-notify-action-button-icon[_ngcontent-%COMP%]{width:16px;margin-inline-end:4px}"]})}}},36943:(P,j,o)=>{o.d(j,{k:()=>F});var p=o(40297),g=o.n(p),l=o(52989),t=o.n(l),f=o(23023),E=o.n(f),y=o(93883),w=o.n(y),m=o(79772),h=o.n(m),_=o(50067),x=o(6503),I=o(59131),k=o.n(I),A=o(50663);class F{constructor(N){this._materialIconsRegistrar=N,this._materialIconsRegistrar.addIcons([{name:"icon_close_24",icon:o(26242)}])}static{this.\u0275fac=function(T){return new(T||F)(I.\u0275\u0275inject(A.K))}}static{this.\u0275mod=I.\u0275\u0275defineNgModule({type:F})}static{this.\u0275inj=I.\u0275\u0275defineInjector({providers:[x.F],imports:[p.CommonModule,f.MatLegacyButtonModule,l.MatIconModule,y.MatLegacySnackBarModule,m.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&I.\u0275\u0275setNgModuleScope(F,{declarations:[_.Q],imports:[p.CommonModule,f.MatLegacyButtonModule,l.MatIconModule,y.MatLegacySnackBarModule,m.TranslateModule],exports:[_.Q]})})()},6503:(P,j,o)=>{o.d(j,{F:()=>E});var p=o(59131),g=o.n(p),l=o(93883),t=o.n(l),f=o(50067);class E{constructor(w,m,h){this._snackBar=w,this._zone=m,this._environment=h,this._defaultDuration=this._environment?.defaultNotifyPopupDuration||5e3}show(w){const{message:m,duration:h,panelClass:_,icon:x,closeMode:I="default",actions:k=[]}=w||{},A=_?Array.isArray(_)?_:[_]:[],F=this._zone.run(()=>this._snackBar.openFromComponent(f.Q,{data:{message:m,actions:k,closeMode:I,icon:x},duration:I==="manual"?0:h??this._defaultDuration,verticalPosition:"bottom",panelClass:["crt-notify",...A]}));return Promise.resolve(F)}error({message:w,duration:m}){return this.show({message:w,duration:m,panelClass:"notify-service-error"})}warn({message:w,duration:m}){return this.show({message:w,duration:m,panelClass:"notify-service-warn"})}info({message:w,duration:m}){return this.show({message:w,duration:m,panelClass:"notify-service-info"})}static{this.\u0275fac=function(m){return new(m||E)(p.\u0275\u0275inject(l.MatLegacySnackBar),p.\u0275\u0275inject(p.NgZone),p.\u0275\u0275inject("environment",8))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac})}}},41571:(P,j,o)=>{o.d(j,{w:()=>l});var p=o(59131),g=o.n(p);class l{set observationConfig(f){this._config=f,this._startObserve()}constructor(f){this._elementRef=f,this.elementStateChange=new p.EventEmitter}_startObserve(){this._stopObserve(),this._observableElement=this._elementRef?.nativeElement,this._observableElement&&(this._observer=new IntersectionObserver(f=>this._emitElementStateChange(f),this._config),this._observer.observe(this._observableElement))}_emitElementStateChange(f){f.filter(y=>this._isObservableElement(y)).forEach(y=>{this.elementStateChange.emit({visible:y.isIntersecting})})}_isObservableElement(f){return f.target===this._observableElement}_stopObserve(){this._observer&&this._observableElement&&this._observer.unobserve(this._observableElement)}ngOnInit(){this._startObserve()}ngOnDestroy(){this._stopObserve()}static{this.\u0275fac=function(E){return new(E||l)(p.\u0275\u0275directiveInject(p.ElementRef))}}static{this.\u0275dir=p.\u0275\u0275defineDirective({type:l,selectors:[["","crtObserveElementInViewport",""]],inputs:{observationConfig:[p.\u0275\u0275InputFlags.None,"crtObserveElementInViewportConfig","observationConfig"]},outputs:{elementStateChange:"crtObserveElementInViewportStateChange"}})}}},1891:(P,j,o)=>{o.d(j,{H:()=>t});var p=o(41571),g=o(59131),l=o.n(g);class t{static{this.\u0275fac=function(y){return new(y||t)}}static{this.\u0275mod=g.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=g.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&g.\u0275\u0275setNgModuleScope(t,{declarations:[p.w],exports:[p.w]})})()},48067:(P,j,o)=>{o.d(j,{C:()=>w});var p=o(59131),g=o(62278),l=o(36486),t=o(26828),f=o.n(t);const E="crt-resize",y=new p.InjectionToken("Represents the resize observer",{factory:()=>new(f())(m=>{window.requestAnimationFrame(()=>{m.forEach(h=>{const _={width:h.target?.clientWidth||h.contentRect.width,height:h.target?.clientHeight||h.contentRect.height};h.target.dispatchEvent(new CustomEvent(E,{detail:_}))})})}),providedIn:"root"});class w{set crtResizableDisabled(h){this._resizeDisabled$.next(h)}get resized(){const h=this._resized.asObservable().pipe((0,l.filter)(k=>this._isElementSizeValid(k))),_=new g.BehaviorSubject(null),x=_.pipe((0,l.switchMap)(()=>h.pipe((0,l.take)(1)))),I=h.pipe((0,l.debounce)(()=>(0,g.timer)(this.delay)),(0,l.tap)(()=>_.next()));return(0,g.merge)(x,I).pipe((0,l.distinctUntilChanged)((k,A)=>this._isElementSizesEqual(k,A)))}constructor(h,_){this.elementRef=h,this._resizeObserver=_,this._resized=new p.EventEmitter,this._destroyed$=new g.Subject,this._resizeDisabled$=new g.BehaviorSubject(!1),this.delay=200}_isElementSizeValid(h){return h&&h.width>0&&h.height>0}_isElementSizesEqual(h,_){return h.width===_.width&&h.height===_.height}ngOnInit(){this._nativeElement=this.elementRef?.nativeElement,this._nativeElement&&this._resizeDisabled$.pipe((0,l.distinctUntilChanged)(),(0,l.takeUntil)(this._destroyed$)).subscribe(h=>{h?this._resizeObserver.unobserve(this._nativeElement):this._resizeObserver.observe(this._nativeElement)})}onResized(h){this._resizeDisabled$.value||this._resized.emit(h?.detail)}ngOnDestroy(){this._nativeElement&&this._resizeObserver.unobserve(this._nativeElement),this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(_){return new(_||w)(p.\u0275\u0275directiveInject(p.ElementRef),p.\u0275\u0275directiveInject(y))}}static{this.\u0275dir=p.\u0275\u0275defineDirective({type:w,selectors:[["","crtResizable",""]],hostBindings:function(_,x){_&1&&p.\u0275\u0275listener("crt-resize",function(k){return x.onResized(k)})},inputs:{delay:"delay",crtResizableDisabled:"crtResizableDisabled"},outputs:{resized:"resized"},standalone:!0})}}},58433:(P,j,o)=>{o.d(j,{W:()=>m});var p=o(13053),g=o.n(p),l=o(59131),t=o.n(l),f=o(78927),E=o.n(f),y=o(79772),w=o.n(y);class m{constructor(){this._directionality=(0,l.inject)(p.Directionality),this.loadingText="SkeletonLoader.Loading",this.documentDirection=this._directionality?.value,this.animation="progress",this.appearance="line",this.count=1,this.styles={}}set ariaLabel(_){this.loadingText=_??this.loadingText}ngOnInit(){this.documentDirection=this._directionality?.value==="rtl"?"rtl":null}static{this.\u0275fac=function(x){return new(x||m)}}static{this.\u0275cmp=l.\u0275\u0275defineComponent({type:m,selectors:[["crt-skeleton-loader"]],inputs:{animation:"animation",appearance:"appearance",count:"count",styles:"styles",ariaLabel:"ariaLabel"},decls:3,vars:14,consts:[[1,"crt-skeleton-loader",3,"theme","appearance","count","ariaLabel","loadingText","animation"]],template:function(x,I){x&1&&(l.\u0275\u0275element(0,"ngx-skeleton-loader",0),l.\u0275\u0275pipe(1,"translate"),l.\u0275\u0275pipe(2,"translate")),x&2&&(l.\u0275\u0275styleProp("width",I.styles==null?null:I.styles.width),l.\u0275\u0275property("theme",I.styles)("appearance",I.appearance)("count",I.count)("ariaLabel",l.\u0275\u0275pipeBind1(1,10,I.loadingText))("loadingText",l.\u0275\u0275pipeBind1(2,12,I.loadingText))("animation",I.animation),l.\u0275\u0275attribute("appearance",I.appearance)("dir",I.documentDirection))},dependencies:[f.NgxSkeletonLoaderComponent,y.TranslatePipe],styles:["[_nghost-%COMP%]{overflow:hidden;display:flex;width:100%}[_nghost-%COMP%]   .crt-skeleton-loader[_ngcontent-%COMP%]{display:block;min-width:0;flex:auto;width:200px}[_nghost-%COMP%]   .crt-skeleton-loader[appearance=circle][_ngcontent-%COMP%]{width:50px}"]})}}},5476:(P,j,o)=>{o.d(j,{q:()=>w});var p=o(59131),g=o(79772),l=o(78927),t=o(58433);const f="crt-web-element-skeleton-loader";var E=o(3633);class y{static init(h){const{injector:_,tag:x,component:I}=h;if(customElements.get(x))return;const k=(0,E.createCustomElement)(I,{injector:_});customElements.define(x,k)}}class w{constructor(h){this.injector=h;const _={injector:this.injector,tag:f,component:t.W};y.init(_)}static{this.\u0275fac=function(_){return new(_||w)(p.\u0275\u0275inject(p.Injector))}}static{this.\u0275mod=p.\u0275\u0275defineNgModule({type:w})}static{this.\u0275inj=p.\u0275\u0275defineInjector({imports:[l.NgxSkeletonLoaderModule,g.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&p.\u0275\u0275setNgModuleScope(w,{declarations:[t.W],imports:[l.NgxSkeletonLoaderModule,g.TranslateModule],exports:[t.W]})})()},80775:(P,j,o)=>{o.d(j,{x:()=>_});var p=o(13053),g=o.n(p),l=o(59131),t=o.n(l),f=o(71252),E=o.n(f),y=o(40297),w=o.n(y);const m=["tooltipEl"],h=x=>({rtl:x});class _{constructor(I,k){this._directionality=I,this._sanitizer=k,this._defaultCssClass="base-tooltip crt-base-tooltip"}setInnerHTML(){this.tooltipEl&&(this.tooltipEl.nativeElement.innerHTML=this._sanitizer.sanitize(l.SecurityContext.HTML,this._tooltipConfig?.value))}set tooltipConfig(I){this._tooltipConfig!==I&&(this._tooltipConfig=I)}get tooltipConfig(){return this._tooltipConfig}get cssClasses(){let I=this._tooltipConfig?.cssClasses||this._defaultCssClass;const k=typeof I=="string";return k&&(I=I.split(" ")),I.includes("base-tooltip")&&this._directionality.value==="rtl"&&!I.includes("base-tooltip_rtl")&&I.push("base-tooltip_rtl"),k?I.join(" "):I}isRtl(){return this._directionality.value==="rtl"}ngAfterViewInit(){this.setInnerHTML()}static{this.\u0275fac=function(k){return new(k||_)(l.\u0275\u0275directiveInject(p.Directionality),l.\u0275\u0275directiveInject(f.DomSanitizer))}}static{this.\u0275cmp=l.\u0275\u0275defineComponent({type:_,selectors:[["crt-base-tooltip"]],viewQuery:function(k,A){if(k&1&&l.\u0275\u0275viewQuery(m,5,l.ElementRef),k&2){let F;l.\u0275\u0275queryRefresh(F=l.\u0275\u0275loadQuery())&&(A.tooltipEl=F.first)}},inputs:{tooltipConfig:"tooltipConfig"},decls:3,vars:6,consts:[["tooltipEl",""],[1,"tooltip-value",3,"ngClass"]],template:function(k,A){k&1&&(l.\u0275\u0275elementStart(0,"div"),l.\u0275\u0275element(1,"span",1,0),l.\u0275\u0275elementEnd()),k&2&&(l.\u0275\u0275classMap(A.cssClasses),l.\u0275\u0275advance(),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(4,h,A.isRtl())))},dependencies:[y.NgClass],styles:[".base-tooltip[_ngcontent-%COMP%]{max-width:320px;max-height:50vh;overflow-y:auto;overflow-x:auto;box-shadow:0 2px 4px #18181840;padding-left:8px;padding-right:8px;margin:10px;opacity:1;word-wrap:break-word}.base-tooltip_rtl[_ngcontent-%COMP%]{padding-left:0;padding-right:8px}.base-tooltip[_ngcontent-%COMP%]   .rtl[_ngcontent-%COMP%]{direction:rtl;text-align:right}  .base-tooltip img{max-width:100%;height:auto}"]})}}},26657:(P,j,o)=>{o.d(j,{b:()=>I});var p=o(6530),g=o(70936),l=o(80775),t=o(59131),f=o.n(t),E=o(40297),y=o.n(E),w=o(52989),m=o.n(w),h=o(84137),_=o(79772),x=o.n(_);class I{constructor(){this.tooltipId=(0,p.qv)(),this.ariaLabel="",this.type="default",this.tabIndex=0,this.icon="info-icon"}set tooltip(A){A instanceof g.I?this._tooltipConfig=A:this._tooltipConfig=this._createTooltipConfig(A)}get tooltip(){return this._tooltipConfig}get tooltipMode(){return{error:"Tooltip.Mode.Error",default:"Tooltip.Mode.Default",none:""}[this.type]||""}get iconClass(){return{error:"invalid-icon",default:"tooltip-icon",none:""}[this.type]||""}_createTooltipConfig(A){return new g.I({showEvent:["focus","mouseenter"],hideEvent:["blur","mouseleave"],componentType:l.x,tooltipConfig:{value:A},preferredPositions:[{originX:"end",originY:"center",overlayX:"start",overlayY:"center"}]})}static{this.\u0275fac=function(F){return new(F||I)}}static{this.\u0275cmp=t.\u0275\u0275defineComponent({type:I,selectors:[["crt-icon-tooltip"]],inputs:{tooltip:"tooltip",ariaLabel:"ariaLabel",type:"type",tabIndex:"tabIndex",icon:"icon"},decls:2,vars:9,consts:[["matSuffix","","crtTooltip","","role","button","aria-hidden","false",3,"crtTooltipId","tooltipConfig","ngClass","svgIcon","tabindex"]],template:function(F,z){F&1&&(t.\u0275\u0275element(0,"mat-icon",0),t.\u0275\u0275pipe(1,"translate")),F&2&&(t.\u0275\u0275property("crtTooltipId",z.tooltipId)("tooltipConfig",z.tooltip)("ngClass",z.iconClass)("svgIcon",z.icon)("tabindex",z.tabIndex),t.\u0275\u0275attribute("aria-label",t.\u0275\u0275pipeBind1(1,7,z.tooltipMode)+" "+z.ariaLabel)("aria-describedby",z.tooltipId))},dependencies:[E.NgClass,w.MatIcon,h.d,_.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{height:20px}.mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;padding:2px}.mat-icon[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}"],changeDetection:0})}}},8721:(P,j,o)=>{o.d(j,{M:()=>y});var p=o(59131),g=o.n(p),l=o(52989),t=o.n(l),f=o(39371),E=o.n(f);class y{constructor(){this.showDelay=100,this.hideDelay=100,this.infoTooltipClass="",this.icon="info-tooltip",this.tooltipPosition="above"}static{this.\u0275fac=function(h){return new(h||y)}}static{this.\u0275cmp=p.\u0275\u0275defineComponent({type:y,selectors:[["ts-info-tooltip-icon"]],inputs:{message:"message",showDelay:"showDelay",hideDelay:"hideDelay",infoTooltipClass:"infoTooltipClass",icon:"icon",tooltipPosition:"tooltipPosition"},decls:1,vars:6,consts:[[3,"svgIcon","matTooltip","matTooltipClass","matTooltipShowDelay","matTooltipHideDelay","matTooltipPosition"]],template:function(h,_){h&1&&p.\u0275\u0275element(0,"mat-icon",0),h&2&&p.\u0275\u0275property("svgIcon",_.icon)("matTooltip",_.message)("matTooltipClass",_.infoTooltipClass)("matTooltipShowDelay",_.showDelay)("matTooltipHideDelay",_.hideDelay)("matTooltipPosition",_.tooltipPosition)},dependencies:[l.MatIcon,f.MatTooltip],styles:["[_nghost-%COMP%]{height:22px;width:22px}mat-icon[_ngcontent-%COMP%]{color:#22ac14;width:22px;height:22px;cursor:pointer}"]})}}},84137:(P,j,o)=>{o.d(j,{d:()=>I});var p=o(5960),g=o(31555),l=o(73969),t=o(59131),f=o(77592),E=o(22524),y=o(62278),w=o(36486),m=o(89422);const h=500;var _=o(80775),x=o(70936);class I{constructor(A,F,z,N){this._overlay=A,this._overlayPositionBuilder=F,this._elementRef=z,this._ngZone=N,this._delayTime=h,this._allowedKeyboardEvent=[m.Key.Enter,m.Key.Escape,m.Key.Tab],this._class="crt-tooltip-trigger"}set tooltipConfig(A){if(!A)return;this._tooltipConfig=this._normalizeTooltipEvents(A);const F=E.cn.isMobile?"touchstart":"click";if(this._tooltipConfig.showEvent.includes(F)||this._elementRef.nativeElement.addEventListener(F,this._handleScreenReaderEnterEvent.bind(this)),this._tooltipRef){if(this._tooltipRef.instance.tooltipConfig=this._tooltipConfig.tooltipConfig,!this._tooltipRef.instance.tooltipConfig)return;this._tooltipRef.instance.tooltipConfig.cssClasses=this._tooltipConfig?.panelClass}}get tooltipConfig(){return this._tooltipConfig}set crtTooltip(A){!A||Array.isArray(A)&&A.length===0||(this.tooltipConfig=new x.I({tooltipConfig:{value:Array.isArray(A)?A.join("<br>"):A},componentType:_.x}))}_createEventObservables(A,F){return A?A?.map(z=>(0,y.fromEvent)(F,z,{capture:this._tooltipConfig?.capture})):[]}_createShowEventStream(A){const F=this._createEventObservables(this._tooltipConfig?.showEvent,this._elementRef.nativeElement);return this._ngZone.runOutsideAngular(()=>(0,y.merge)(...F).pipe((0,w.auditTime)(this._delayTime),(0,w.takeUntil)(A)))}_createHideEventStream(A){const F=this._createEventObservables(this._tooltipConfig?.hideEvent,A);return this._ngZone.runOutsideAngular(()=>(0,y.merge)(...F))}_createEventsStream(A,F){this._subscription=F.subscribe(),this._subscription.add(A.subscribe());const z=(0,y.merge)(A,F);z.pipe((0,w.takeUntil)(F));const N=z.subscribe(T=>{if(this._tooltipConfig.showEvent?.includes(T.type)&&this.show(T),this._tooltipConfig.hideEvent?.includes(T.type)){let L=T.relatedTarget;this._overlayRef?.overlayElement.contains(L)||(L=this._elementRef.nativeElement,this.hide(),this._subscription.unsubscribe());const U=this._createHideEventStream(L),B=this._createShowEventStream(U);this._createEventsStream(B,U)}});this._subscription.add(N)}_createKeyboardEvent(){const A=this._ngZone.runOutsideAngular(()=>(0,y.fromEvent)(this._elementRef.nativeElement,"keydown",{capture:this._tooltipConfig?.capture}).pipe((0,w.filter)(z=>this._allowedKeyboardEvent.includes(z.key)))),F=this._ngZone.runOutsideAngular(()=>(0,y.fromEvent)(this._elementRef.nativeElement,"blur",{capture:this._tooltipConfig?.capture}));this._createKeyboardEventsStream(A,F)}_createKeyboardEventsStream(A,F){this._keypressSubscription=F.subscribe();const z=(0,y.merge)(A,F);z.pipe((0,w.takeUntil)(F));const N=z.subscribe(T=>{T instanceof KeyboardEvent?this._onHandleKeyboardEvent(T):T instanceof FocusEvent&&this._onHandleFocusEvent(T)});this._keypressSubscription.add(N)}_onHandleKeyboardEvent(A){switch(A.key){case m.Key.Enter:A.stopPropagation(),this._overlayRef?.hasAttached()?this.hide():this.show(A);break;case m.Key.Escape:this._overlayRef?.hasAttached()&&A.stopPropagation(),this.hide(),this._keypressSubscription.unsubscribe(),this._createKeyboardEvent();break;case m.Key.Tab:this._overlayRef?.hasAttached()&&(this.hide(),this._keypressSubscription.unsubscribe(),this._createKeyboardEvent());break}}_handleScreenReaderEnterEvent(A){A.stopPropagation();const F=document.activeElement===this._elementRef.nativeElement;if(A.isPrimary&&A.buttons===1&&F){const z=new KeyboardEvent("keydown",{key:"Enter",code:"Enter",keyCode:13,charCode:13,bubbles:!0,cancelable:!0});this._onHandleKeyboardEvent(z)}}_onHandleFocusEvent(A){if(A.type!=="blur")return;const F=A.relatedTarget;this._overlayRef?.overlayElement.contains(F)||(this.hide(),this._keypressSubscription.unsubscribe()),this._createKeyboardEvent()}_getPreferredPositions(){return[{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:0,offsetY:0,panelClass:this._tooltipConfig?.panelClass},{originX:"end",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0,panelClass:this._tooltipConfig?.panelClass},{originX:"center",originY:"center",overlayX:"end",overlayY:"top",offsetX:0,offsetY:0,panelClass:this._tooltipConfig?.panelClass}]}_prepareTooltipConfigFromOverlayConfig(A){const F=A.tooltipConfig;return this._tooltipConfig.tooltipConfig&&A.panelClass&&(F.cssClasses=A.panelClass),F}_createOverlay(){if(!this._tooltipConfig)return;const A=this._tooltipConfig?.preferredPositions??this._getPreferredPositions(),F=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions(A),z={scrollStrategy:this._overlay.scrollStrategies.close(),positionStrategy:F};this._tooltipConfig?.width&&Object.assign(z,{width:this._tooltipConfig?.width}),this._tooltipConfig?.height&&Object.assign(z,{height:this._tooltipConfig?.height}),this._overlayRef=this._overlay.create(z),this._tooltipConfig.closeOnOutsideClick&&this._overlayRef.outsidePointerEvents().subscribe(()=>this.hide()),this._overlayRef.keydownEvents().pipe((0,w.filter)(N=>N.key===m.Key.Escape)).subscribe(()=>{this.hide()})}_subscribeOnClickToHide(){this._ngZone.runOutsideAngular(()=>(0,y.fromEvent)(this._elementRef.nativeElement,E.cn.isMobile?"touchstart":"click").subscribe(A=>{A.ignoreHandle=this._overlayRef?.hasAttached(),this.hide()}))}_normalizeTooltipEvents(A){const F=Array.isArray(A.showEvent)?A.showEvent:[A.showEvent],z=Array.isArray(A.hideEvent)?A.hideEvent:[A.hideEvent];return{...A,showEvent:F,hideEvent:z}}hide(){this._overlayRef?.hasAttached()&&(this._overlayRef.detach(),this._overlayRef.dispose(),this._overlayRef=null)}show(A){if(A.ignoreHandle)return;const F=A.relatedTarget;!this._tooltipConfig||F&&!document.body.contains(F)||(A?.stopPropagation(),this._overlayRef||this._createOverlay(),this._overlayRef.hasAttached()||(this._tooltipRef=this._overlayRef.attach(new l.ComponentPortal(this._tooltipConfig.componentType))),this._tooltipRef&&(this._tooltipRef.instance.tooltipConfig=this._prepareTooltipConfigFromOverlayConfig(this._tooltipConfig),this._tooltipRef.location.nativeElement.setAttribute("id",this.id)))}ngAfterViewInit(){const A=this._createHideEventStream(this._elementRef.nativeElement),F=this._createShowEventStream(A);this._createEventsStream(F,A),this._createKeyboardEvent(),this._subscribeOnClickToHide()}ngOnDestroy(){this.hide(),this._subscription?.unsubscribe(),this._keypressSubscription?.unsubscribe()}static{this.\u0275fac=function(F){return new(F||I)(t.\u0275\u0275directiveInject(g.Overlay),t.\u0275\u0275directiveInject(g.OverlayPositionBuilder),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:I,selectors:[["","crtTooltip",""]],hostVars:2,hostBindings:function(F,z){F&2&&t.\u0275\u0275classMap(z._class)},inputs:{id:[t.\u0275\u0275InputFlags.None,"crtTooltipId","id"],tooltipConfig:"tooltipConfig",crtTooltip:"crtTooltip"},exportAs:["crtTooltip"]})}}(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",String)],I.prototype,"id",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",x.I),(0,p.__metadata)("design:paramtypes",[x.I])],I.prototype,"tooltipConfig",null),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object),(0,p.__metadata)("design:paramtypes",[Object])],I.prototype,"crtTooltip",null)},70936:(P,j,o)=>{o.d(j,{I:()=>g});var p=o(22524);class g{constructor(t){this.showEvent="mouseenter",this.hideEvent="mouseleave",this.capture=!1,this.closeOnOutsideClick=!1,p.cn.isMobile&&(t.closeOnOutsideClick=!0,t.showEvent="touchstart",t.hideEvent="touched"),Object.assign(this,t)}}},34439:(P,j,o)=>{o.d(j,{S:()=>Y});var p=o(40297),g=o(52989),l=o(39371),t=o(79772),f=o(80775),E=o(26657),y=o(8721),w=o(13053),m=o(71252),h=o(62278),_=o(52667),x=o(59131),I=o(7471);function k(O,st){if(O&1&&(x.\u0275\u0275elementStart(0,"span"),x.\u0275\u0275text(1),x.\u0275\u0275elementEnd()),O&2){const gt=x.\u0275\u0275nextContext();x.\u0275\u0275advance(),x.\u0275\u0275textInterpolate(gt.translate("OperationsPoint"))}}function A(O,st){if(O&1&&(x.\u0275\u0275elementStart(0,"li"),x.\u0275\u0275text(1),x.\u0275\u0275elementEnd()),O&2){const gt=st.$implicit;x.\u0275\u0275advance(),x.\u0275\u0275textInterpolate(gt)}}function F(O,st){if(O&1&&(x.\u0275\u0275elementStart(0,"ol"),x.\u0275\u0275template(1,A,2,1,"li",3),x.\u0275\u0275elementEnd()),O&2){const gt=x.\u0275\u0275nextContext();x.\u0275\u0275advance(),x.\u0275\u0275property("ngForOf",gt.data==null?null:gt.data.byOperations)}}function z(O,st){if(O&1&&(x.\u0275\u0275elementStart(0,"span"),x.\u0275\u0275text(1),x.\u0275\u0275elementEnd()),O&2){const gt=x.\u0275\u0275nextContext();x.\u0275\u0275advance(),x.\u0275\u0275textInterpolate(gt.translate("RecordsPoint"))}}function N(O,st){if(O&1&&(x.\u0275\u0275elementStart(0,"li"),x.\u0275\u0275text(1),x.\u0275\u0275elementEnd()),O&2){const gt=st.$implicit;x.\u0275\u0275advance(),x.\u0275\u0275textInterpolate(gt)}}function T(O,st){if(O&1&&(x.\u0275\u0275elementStart(0,"ol"),x.\u0275\u0275template(1,N,2,1,"li",3),x.\u0275\u0275elementEnd()),O&2){const gt=x.\u0275\u0275nextContext();x.\u0275\u0275advance(),x.\u0275\u0275property("ngForOf",gt.data==null?null:gt.data.byRecords)}}class L extends f.x{set tooltipConfig(st){this.data=st.value}constructor(st,gt,ct,nt,Q){super(st,gt),this.directionality=st,this._translateService=ct,this._dialogService=nt,this._environment=Q,this._translatePrefix="ObjectPermissions."}translate(st){return this._translateService.instant(this._translatePrefix+st)}getUrl(){return this._url||(this._url=this._environment.workspaceBaseUrl+"ClientApp/#/AdministratedObjects"),this._url}updateObjectPermissions(){this._dialogService.openConfirmationDialog(this.translate("UpdateObjectPermissionsMessage")).pipe((0,h.map)(st=>{st===_.ch.result&&this.data.setObjectPermissionsFn(this.data.targetId).subscribe()})).subscribe()}static{this.\u0275fac=function(gt){return new(gt||L)(x.\u0275\u0275directiveInject(w.Directionality),x.\u0275\u0275directiveInject(m.DomSanitizer),x.\u0275\u0275directiveInject(t.TranslateService),x.\u0275\u0275directiveInject(I.o),x.\u0275\u0275directiveInject("environment"))}}static{this.\u0275cmp=x.\u0275\u0275defineComponent({type:L,selectors:[["crt-object-permissions-warning"]],features:[x.\u0275\u0275InheritDefinitionFeature],decls:17,vars:14,consts:[[4,"ngIf"],["target","_blank",3,"href"],["target","_blank",1,"update-permissions-link",3,"click"],[4,"ngFor","ngForOf"]],template:function(gt,ct){gt&1&&(x.\u0275\u0275elementStart(0,"div")(1,"span"),x.\u0275\u0275text(2),x.\u0275\u0275elementEnd(),x.\u0275\u0275template(3,k,2,1,"span",0)(4,F,2,1,"ol",0)(5,z,2,1,"span",0)(6,T,2,1,"ol",0),x.\u0275\u0275elementStart(7,"span"),x.\u0275\u0275text(8),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(9,"a",1),x.\u0275\u0275text(10),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(11,"span"),x.\u0275\u0275text(12),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(13,"a",2),x.\u0275\u0275listener("click",function(){return ct.updateObjectPermissions()}),x.\u0275\u0275text(14),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(15,"p"),x.\u0275\u0275text(16),x.\u0275\u0275elementEnd()()),gt&2&&(x.\u0275\u0275classMapInterpolate1("component-container ",ct.cssClasses,""),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate(ct.translate("Warning")),x.\u0275\u0275advance(),x.\u0275\u0275property("ngIf",(ct.data==null||ct.data.byOperations==null?null:ct.data.byOperations.length)>0),x.\u0275\u0275advance(),x.\u0275\u0275property("ngIf",(ct.data==null||ct.data.byOperations==null?null:ct.data.byOperations.length)>0),x.\u0275\u0275advance(),x.\u0275\u0275property("ngIf",(ct.data==null||ct.data.byRecords==null?null:ct.data.byRecords.length)>0),x.\u0275\u0275advance(),x.\u0275\u0275property("ngIf",(ct.data==null||ct.data.byRecords==null?null:ct.data.byRecords.length)>0),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate(ct.translate("SetProperPermissionsBegin")),x.\u0275\u0275advance(),x.\u0275\u0275propertyInterpolate("href",ct.getUrl(),x.\u0275\u0275sanitizeUrl),x.\u0275\u0275advance(),x.\u0275\u0275textInterpolate(ct.translate("ObjectPermissions")),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate(ct.translate("SetProperPermissionsEnd")),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate(ct.translate("Link")),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate(ct.translate("End")))},dependencies:[p.NgForOf,p.NgIf],styles:[".component-container[_ngcontent-%COMP%]{min-width:450px;max-width:450px;border-bottom:0px!important}.component-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.component-container[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:4px;padding-inline-start:20px}.component-container[_ngcontent-%COMP%]   a.update-permissions-link[_ngcontent-%COMP%]{display:block;line-height:40px}"]})}}function U(O,st){if(O&1&&(x.\u0275\u0275elementStart(0,"div"),x.\u0275\u0275text(1),x.\u0275\u0275elementEnd()),O&2){const gt=st.$implicit,ct=x.\u0275\u0275nextContext();x.\u0275\u0275classMapInterpolate1("rule ",ct.getValidationClass(gt.valid),""),x.\u0275\u0275advance(),x.\u0275\u0275textInterpolate1(" ",gt.caption," ")}}class B extends f.x{set tooltipConfig(st){this.validationTooltipConfig=st.value}constructor(st,gt){super(st,gt),this.directionality=st}getValidationClass(st){return st?"valid":typeof st=="boolean"?"invalid":"not-validated"}setInnerHTML(){}static{this.\u0275fac=function(gt){return new(gt||B)(x.\u0275\u0275directiveInject(w.Directionality),x.\u0275\u0275directiveInject(m.DomSanitizer))}}static{this.\u0275cmp=x.\u0275\u0275defineComponent({type:B,selectors:[["crt-validation-result-tooltip"]],features:[x.\u0275\u0275InheritDefinitionFeature],decls:5,vars:5,consts:[[1,"header"],[1,"rules"],[3,"class",4,"ngFor","ngForOf"]],template:function(gt,ct){gt&1&&(x.\u0275\u0275elementStart(0,"div")(1,"div",0),x.\u0275\u0275text(2),x.\u0275\u0275elementEnd(),x.\u0275\u0275elementStart(3,"div",1),x.\u0275\u0275template(4,U,2,4,"div",2),x.\u0275\u0275elementEnd()()),gt&2&&(x.\u0275\u0275classMapInterpolate1("component-container ",ct.cssClasses,""),x.\u0275\u0275advance(2),x.\u0275\u0275textInterpolate1("",ct.validationTooltipConfig==null?null:ct.validationTooltipConfig.header,":"),x.\u0275\u0275advance(2),x.\u0275\u0275property("ngForOf",ct.validationTooltipConfig==null?null:ct.validationTooltipConfig.validations))},dependencies:[p.NgForOf],styles:[".component-container[_ngcontent-%COMP%]{max-width:400px;display:flex;flex-direction:column;padding:16px;border-width:1px;border-style:solid}.component-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{text-align:left;font-weight:700;padding-bottom:6px}.component-container[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.component-container[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]   .rule[_ngcontent-%COMP%]{width:50%;position:relative;left:24px;text-indent:-24px;padding-right:30px;box-sizing:border-box;margin-bottom:9px}.component-container[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]   .rule[_ngcontent-%COMP%]:before{padding-right:8px;top:3px;position:relative}.component-container[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]   .rule.valid[_ngcontent-%COMP%]:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8ZyBpZD0iR3JvdXBfMTY1OTUiIGRhdGEtbmFtZT0iR3JvdXAgMTY1OTUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00ODYgLTU3MikiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV80MjUxMyIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgNDI1MTMiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDg2IDU3MikiIGZpbGw9Im5vbmUiLz4KICAgIDxnIGlkPSJFbGxpcHNlXzMwODciIGRhdGEtbmFtZT0iRWxsaXBzZSAzMDg3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0ODcgNTczKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjM2M4MjIzIiBzdHJva2Utd2lkdGg9IjIiPgogICAgICA8Y2lyY2xlIGN4PSI3IiBjeT0iNyIgcj0iNyIgc3Ryb2tlPSJub25lIi8+CiAgICAgIDxjaXJjbGUgY3g9IjciIGN5PSI3IiByPSI2IiBmaWxsPSJub25lIi8+CiAgICA8L2c+CiAgICA8cGF0aCBpZD0iUGF0aF8xMTg3OSIgZGF0YS1uYW1lPSJQYXRoIDExODc5IiBkPSJNMTcuMDkzLDI4LjE4bDIuNSwzLDQuNS01IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0NzMuNDA3IDU1MS4zMikiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzNjODIyMyIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgPC9nPgo8L3N2Zz4K)}.component-container[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]   .rule.invalid[_ngcontent-%COMP%]:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8ZyBpZD0iR3JvdXBfMTY1OTQiIGRhdGEtbmFtZT0iR3JvdXAgMTY1OTQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00ODYgLTU3MikiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV80MjUxMyIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgNDI1MTMiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDg2IDU3MikiIGZpbGw9Im5vbmUiLz4KICAgIDxnIGlkPSJFbGxpcHNlXzMwODciIGRhdGEtbmFtZT0iRWxsaXBzZSAzMDg3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0ODcgNTczKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjYzIzZjIzIiBzdHJva2Utd2lkdGg9IjIiPgogICAgICA8Y2lyY2xlIGN4PSI3IiBjeT0iNyIgcj0iNyIgc3Ryb2tlPSJub25lIi8+CiAgICAgIDxjaXJjbGUgY3g9IjciIGN5PSI3IiByPSI2IiBmaWxsPSJub25lIi8+CiAgICA8L2c+CiAgICA8cGF0aCBpZD0iUGF0aF8xMTg3NyIgZGF0YS1uYW1lPSJQYXRoIDExODc3IiBkPSJNMTQyOCw0ODF2NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE3My41MDkgLTc3MS45ODgpIHJvdGF0ZSg0NSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2MyM2YyMyIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBpZD0iUGF0aF8xMTg3OCIgZGF0YS1uYW1lPSJQYXRoIDExODc4IiBkPSJNMTQyOCw0ODF2NiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTg0NS45ODggLTg3LjUwOSkgcm90YXRlKDEzNSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2MyM2YyMyIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgPC9nPgo8L3N2Zz4K)}.component-container[_ngcontent-%COMP%]   .rules[_ngcontent-%COMP%]   .rule.not-validated[_ngcontent-%COMP%]:before{content:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8ZyBpZD0iR3JvdXBfMTY1OTMiIGRhdGEtbmFtZT0iR3JvdXAgMTY1OTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC00ODYgLTU3MikiPgogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV80MjUxMyIgZGF0YS1uYW1lPSJSZWN0YW5nbGUgNDI1MTMiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDg2IDU3MikiIGZpbGw9Im5vbmUiLz4KICAgIDxnIGlkPSJFbGxpcHNlXzMwODciIGRhdGEtbmFtZT0iRWxsaXBzZSAzMDg3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0ODcgNTczKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNzU3NTc1IiBzdHJva2Utd2lkdGg9IjIiPgogICAgICA8Y2lyY2xlIGN4PSI3IiBjeT0iNyIgcj0iNyIgc3Ryb2tlPSJub25lIi8+CiAgICAgIDxjaXJjbGUgY3g9IjciIGN5PSI3IiByPSI2IiBmaWxsPSJub25lIi8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K)}"]})}}var tt=o(84137),Z=o(90808),G=o(50663);class Y{constructor(st){this._materialIconsRegistrator=st,this._materialIconsRegistrator.addIcons([{name:"tooltip-icon",icon:o(92825)}])}static{this.\u0275fac=function(gt){return new(gt||Y)(x.\u0275\u0275inject(G.K))}}static{this.\u0275mod=x.\u0275\u0275defineNgModule({type:Y})}static{this.\u0275inj=x.\u0275\u0275defineInjector({imports:[p.CommonModule,g.MatIconModule,l.MatTooltipModule,t.TranslateModule,Z.P]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&x.\u0275\u0275setNgModuleScope(Y,{declarations:[y.M,f.x,tt.d,B,L,E.b],imports:[p.CommonModule,g.MatIconModule,l.MatTooltipModule,t.TranslateModule,Z.P],exports:[y.M,f.x,tt.d,B,E.b]})})()},94123:(P,j,o)=>{o.d(j,{PH:()=>t,M_:()=>g,OK:()=>p});const p={ShortTextCaption:50,MediumTextCaption:250,LongTextCaption:500},g={Integer:{max:2147483647,min:-2147483647},Float:{max:6999999999999999e-2,min:-6999999999999999e-2}};class l{get id(){return this._id}constructor(E,y){this._id=E,this.data=y,this.children=[],this.parent=null}}class t{get root(){return this._root}constructor(E,y){this._root=new l(y,E)}_recurse(E,y){const w=y.children;for(let m=0;w&&m<w.length;m++)this._recurse(E,w[m]);E(y)}traverseDepthFirstSearch(E,y=this._root){this._recurse(E,y)}get(E,y=this._root){let w=null;const m=h=>{h.id===E&&(w=h)};return this.traverseDepthFirstSearch(m,y),w}add({data:E,id:y},w){const m=new l(y,E);w.children.push(m),m.parent=w}remove(E,y=this.root){let w=null;const m=h=>{h.id===E&&(w=h)};if(this.traverseDepthFirstSearch(m,y),w){const h=w.parent;w.children=[];const _=h.children.findIndex(x=>x===w);return h.children.splice(_,1),!0}return!1}contains(E,y=this._root){let w=null;const m=h=>{h.id===E&&(w=h)};return this.traverseDepthFirstSearch(m,y),!!w}}},22524:(P,j,o)=>{o.d(j,{NS:()=>Nt,Vx:()=>gt,op:()=>le,SH:()=>Ie,Dj:()=>y,X4:()=>ta,MV:()=>T,G8:()=>w,GX:()=>x,gX:()=>Tt,DW:()=>$n,sj:()=>Xt,gP:()=>nt,kW:()=>Fe,$A:()=>Lt,pO:()=>ct,DA:()=>Oe,am:()=>qt,wZ:()=>ye,cn:()=>fn,rK:()=>qe,ZP:()=>Zt,_d:()=>B,S:()=>tt,Le:()=>oe,zX:()=>Gt,BB:()=>_t,hk:()=>X,mh:()=>vt,BV:()=>an,DH:()=>de,pR:()=>qn});var p=o(40297),g=o(59131),l=o(62278),t=o(36486);const f=new g.InjectionToken("CustomEventApplicationIdToken"),E=new g.InjectionToken("CustomEventServiceToken");class y{constructor(yt,St=null){this.document=yt,this.appId=St,this.customEventName="TSCustomEventChannel",this.appId=St||Math.random().toString()}subscribe(yt){return this.customEventObserver$=this.customEventObserver$||(0,l.fromEvent)(document,this.customEventName),this.customEventObserver$.pipe((0,t.filter)(St=>St.detail.eventName===yt&&St.detail.sender!==this.appId),(0,t.map)(St=>St.detail.payload))}createOutboundChannel(yt){const St=new l.Subject;return St.asObservable().subscribe(Bt=>{const Kt=new CustomEvent(this.customEventName,{detail:{eventName:yt,sender:this.appId,payload:Bt}});this.document.dispatchEvent(Kt)}),St}getDataViaEvent(yt,St={}){return new l.Observable(Bt=>{this.subscribe(yt).pipe((0,t.first)()).subscribe(Kt=>{Bt.next(Kt),Bt.complete()}),this.createOutboundChannel(yt).next(St)})}getDataStreamViaEvent(yt,St={}){return new l.Observable(Bt=>{const Kt=this.subscribe(yt).subscribe(ze=>{Bt.next(ze)},l.noop,()=>Bt.complete());return this.createOutboundChannel(yt).next(St),()=>{Kt.unsubscribe()}})}static{this.\u0275fac=function(St){return new(St||y)(g.\u0275\u0275inject(p.DOCUMENT),g.\u0275\u0275inject(f,8))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"})}}const w=["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","title","video","xmp"];var m=o(34268),h=o.n(m);const x="(?=^.{1,250}$)^[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9](?:[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9-]*[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9])?\\.)+[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9](?:[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9-]*[\u0430-\u044F\u0410-\u042Fa-zA-Z0-9])?$",I=()=>new RegExp(x,"g"),k=()=>new RegExp(CONTAINS_EMAIL_PATTERN,"g");function A(kt){return I().test(kt)}function F(kt){return CONTAINS_EMAIL_REGEXP().test(kt)}const z={name:"uponSanitizeElement",func:(kt,yt)=>{const St=yt.tagName;A(St)&&kt.insertAdjacentText("afterbegin",`<${St}>`)}},N={name:"afterSanitizeAttributes",func:(kt,yt)=>{const St=window?.location?.origin;if(kt.nodeName==="A"&&!kt.getAttribute("href")?.toLowerCase().startsWith(St)){kt.setAttribute("target","_blank");let Bt=kt.getAttribute("rel")||"";["noopener","noreferrer"].forEach(Kt=>{Bt.includes(Kt)||(Bt+=" "+Kt)}),kt.setAttribute("rel",Bt.trim())}}},T=new g.InjectionToken("Represents a DOM purifier",{factory:()=>(h().addHook(z.name,z.func),h().addHook(N.name,N.func),h()),providedIn:"platform"});function L(kt){return kt?Array.isArray(kt)?kt:[kt]:[]}function U(kt){return kt||{}}function B(){}function tt(){return()=>{}}var Z=o(26714);class G{static create(yt){return new yt}}class Y{constructor(){this.speechResult=new l.Subject,this.speechEnd=new l.Subject}static _getInternalApiClass(){return window.SpeechRecognition||window.webkitSpeechRecognition}static isSupported(){return Y._getInternalApiClass()!==void 0}_subscribeEvents(){this._internalApi.addEventListener("result",this.onResult.bind(this)),this._internalApi.addEventListener("speechend",this.onSpeechEnd.bind(this))}_unsubscribeEvents(){this._internalApi.removeEventListener("result",this.onResult),this._internalApi.removeEventListener("speechend",this.onSpeechEnd)}init(yt){const St=Y._getInternalApiClass();this._internalApi=G.create(St),this._internalApi.continuous=!0,this._internalApi.lang=yt.lang||"en-US",this._subscribeEvents()}onResult(yt){const{resultIndex:St,results:Bt}=yt,Kt=Bt[St][0];if(!Kt)throw new Error("No results to transcript");this.speechResult.next(Kt.transcript)}onSpeechEnd(){this.speechEnd.next()}destroy(){this._unsubscribeEvents(),this._internalApi=null}startRecognition(){this._internalApi.start()}stopRecognition(){this._internalApi.stop()}static{this.\u0275fac=function(St){return new(St||Y)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Y,factory:Y.\u0275fac})}}var O=o(73436);class st{get messages$(){return this._messages$}constructor(yt,St){this._ngZone=St;const Bt=new l.Subject;this._messages$=Bt.pipe(this._runInZone(this._ngZone)),this._broadcastChannel=new O.BroadcastChannel(yt),this._broadcastChannel.onmessage=Kt=>Bt.next(Kt)}_runInZone(yt){return St=>new l.Observable(Bt=>{St.subscribe(Kt=>yt.run(()=>Bt.next(Kt)))})}publish(yt){return(0,l.from)(this._broadcastChannel.postMessage(yt))}}class gt{constructor(yt){this._ngZone=yt}createInstance(yt){return new st(yt,this._ngZone)}static{this.\u0275fac=function(St){return new(St||gt)(g.\u0275\u0275inject(g.NgZone))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:gt,factory:gt.\u0275fac,providedIn:"root"})}}class ct{static toColdObservable(yt){return new l.Observable(St=>{yt().subscribe(Kt=>{St.next(Kt),St.complete()})})}}class nt{log(yt,St,...Bt){console.log(yt,...Bt)}warn(yt,St,...Bt){console.warn(yt,...Bt)}error(yt,St,...Bt){console.error(yt,...Bt)}exception(yt,St,...Bt){(console.exception||console.error)(yt,...Bt)}static{this.\u0275fac=function(St){return new(St||nt)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:nt,factory:nt.\u0275fac})}}const Q={dataAccess:"data-access",feature:"feature",ui:"ui",util:"util",components:"components",deprecated:"deprecated"},q={studioFree:"studio-free",studioEnterprise:"studio-enterprise",sdk:"sdk"};class lt{constructor(yt,St,Bt=null){this._injector=yt,this._registrationMap=St,this._defaultInstanceType=Bt}_getInstance(yt,St){return St?"injectable"in St&&St.injectable!=null?this._injector.get(St.injectable):"useFactory"in St&&typeof St.useFactory=="function"?St.useFactory(yt):"useValue"in St?St.useValue:null:null}_getDefaultInstance(yt){return this._getInstance(yt,this._defaultInstanceType)}_getInstanceByType(yt){if(this._registrationMap.has(yt)){const St=this._registrationMap.get(yt);return this._getInstance(yt,St)}}_getInstanceByPredicate(yt){for(const[St,Bt]of this._registrationMap)if(typeof St=="function"&&St(yt))return this._getInstance(yt,Bt)}create(yt=null){return yt==null?this._getDefaultInstance(yt):this._getInstanceByType(yt)??this._getInstanceByPredicate(yt)??this._getDefaultInstance(yt)}static{this.\u0275fac=function(St){g.\u0275\u0275invalidFactory()}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:lt,factory:lt.\u0275fac,providedIn:"root"})}}var c=o(28399);class Tt{static _createMappings(yt){const St=new Map;return yt=yt??[],yt.forEach(Bt=>{const Kt=Bt.predicate,ze=(0,c.omit)(Bt,"predicate");St.set(Kt,ze)}),St}static create(yt){const{mappings:St,default:Bt,token:Kt}=yt??{};return{provide:Kt,useFactory:ze=>{const Ke=this._createMappings(St);return new lt(ze,Ke,Bt)},deps:[g.Injector]}}}class Nt{setNext(yt){return this.nextHandler=yt,yt}handle(yt){if(this.nextHandler)return this.nextHandler.handle(yt)}}function wt(kt){return Array.isArray(kt)?kt:[kt]}function Et(kt,yt){return yt.forEach(({replaceMacros:St,replaceValue:Bt})=>{kt=kt.map(Kt=>Kt===St?Bt??"":Kt)}),kt}function vt(kt,yt){if(!kt)return"";if(!yt)return kt;let St=[kt];return yt=wt(yt),St=Rt(St,yt),St=Et(St,yt),St.join("")}function Rt(kt,yt){if(!kt)return[];let St=wt(kt);if(!yt)return St;const Bt=wt(yt),Kt=Bt.map(({replaceMacros:ze})=>ze);return Bt.forEach(({searchValue:ze,replaceMacros:Ke})=>{if(ze&&Ke){const Cn=new RegExp(`(${Ke})`,"g"),Ge=St.map(be=>Kt.includes(be)?be:be.split(ze).join(Ke).split(Cn));St=(0,c.flatten)(Ge)}}),St}var xe=o(4930);function le(kt){return function(yt){Reflect.defineMetadata("requestType",kt.requestType,yt)}}function Ve(kt){return yt=>{const St=yt.pipe(share()),Bt=St.pipe(tap(kt),take(1));return concat(Bt,St)}}function Be(kt){return yt=>yt.pipe(concatMap((St,Bt)=>kt(St,Bt).pipe(map(Kt=>[St,Kt]))))}function _t(kt){return yt=>yt.pipe((0,t.mergeMap)((St,Bt)=>kt(St,Bt).pipe((0,t.map)(Kt=>[St,Kt]))))}function X(kt){return yt=>yt.pipe((0,t.mergeMap)((St,Bt)=>kt(St,Bt).pipe((0,t.map)(()=>St))))}function de(kt){return yt=>yt.pipe((0,t.switchMap)((St,Bt)=>kt(St,Bt).pipe((0,t.map)(Kt=>[St,Kt]))))}function qn(kt){return yt=>yt.pipe((0,t.switchMap)((St,Bt)=>kt(St,Bt).pipe((0,t.map)(()=>St))))}function an(kt){return yt=>kt?new l.Observable(St=>{const Bt=Ke=>kt.run(()=>St.next(Ke)),Kt=Ke=>kt.run(()=>St.error(Ke)),ze=()=>kt.run(()=>St.complete());return yt.subscribe({next:Bt,error:Kt,complete:ze})}):yt}function me(kt){return yt=>kt?new Observable(St=>{const Bt=Ke=>kt.runOutsideAngular(()=>St.next(Ke)),Kt=Ke=>kt.runOutsideAngular(()=>St.error(Ke)),ze=()=>kt.runOutsideAngular(()=>St.complete());return yt.subscribe({next:Bt,error:Kt,complete:ze})}):yt}var Ot=o(23710);class Lt{static initialize(){Ot.config({disableDefaultAlphabetLength:!0,disableDefaultIdLength:!0,idLength:7}),Ot.characters("0123456789abcdefghijklmnopqrstuvwxyz")}static generateUnique(yt,St="",Bt="_"){const Kt=new RegExp(`^${St}`);return St+yt.replace(Kt,"")+Bt+Ot.generate()}static getUniqueIncrementalName(yt,St){if(!St.includes(yt))return yt;let Bt;for(let Kt=1;Kt<=St.length;Kt++)if(Bt=`${yt}-${Kt}`,!St.includes(Bt))return Bt;return Bt}}Lt.initialize();const Fe=new g.InjectionToken("An abstraction over window.navigator object",{factory:()=>window.navigator,providedIn:"root"});var ve=o(6530);const ge=new g.InjectionToken("CURRENT_TAB_ID_TOKEN"),jt={provide:ge,useValue:(0,ve.qv)()},ee=new g.InjectionToken("Dialog token");function Gt(kt,yt){kt=kt.replace(/^#/,""),kt.length===3&&(kt=kt[0]+kt[0]+kt[1]+kt[1]+kt[2]+kt[2]);let[St,Bt,Kt]=kt.match(/.{2}/g);[St,Bt,Kt]=[parseInt(St,16),parseInt(Bt,16),parseInt(Kt,16)];const ze=(St.length<2?"0":"")+St,Ke=(Bt.length<2?"0":"")+Bt,Cn=(Kt.length<2?"0":"")+Kt;return`rgba(${ze},${Ke},${Cn},${yt})`}function oe(kt,yt){kt=kt.replace(/^#/,""),kt.length===3&&(kt=kt[0]+kt[0]+kt[1]+kt[1]+kt[2]+kt[2]);const[St,Bt,Kt]=kt.match(/.{2}/g);let[ze,Ke,Cn]=[parseInt(St,16),parseInt(Bt,16),parseInt(Kt,16)];return ze=Math.round(ze*(1-yt)),Ke=Math.round(Ke*(1-yt)),Cn=Math.round(Cn*(1-yt)),`rgb(${ze},${Ke},${Cn})`}const Zt=new g.InjectionToken("WindowToken",{providedIn:"root",factory:Ht});function Ht(){return window}const qe={provide:Zt,useFactory:Ht};class Gn{constructor(yt){this._window=yt,this._hasFocus=!1,this._window.addEventListener("focus",()=>{this._hasFocus=!0}),this._window.addEventListener("blur",()=>{this._hasFocus=!1})}_getIsDocumentVisible(){return document.visibilityState!=="hidden"}get hasFocus(){return this._hasFocus}get isActive(){return this._getIsDocumentVisible()}focus(){this._window.focus()}static{this.\u0275fac=function(St){return new(St||Gn)(g.\u0275\u0275inject(Zt))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Gn,factory:Gn.\u0275fac,providedIn:"root"})}}var Ca=o(3633);class Ie{constructor(yt){this._injector=yt}defineComponent(yt,St,Bt=null){const Kt=(0,Ca.createCustomElement)(St,{injector:Bt||this._injector});customElements.get(yt)||customElements.define(yt,Kt)}static{this.\u0275fac=function(St){return new(St||Ie)(g.\u0275\u0275inject(g.Injector))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}}function ne(kt,yt){return kt.creatio.tabId=yt,(0,l.of)(void 0)}const ut={provide:g.APP_INITIALIZER,multi:!0,useFactory:(kt,yt)=>()=>ne(kt,yt),deps:[Zt,ge]},xt=new g.InjectionToken("LOCAL_STORAGE_SERVICE_CONFIG");class Vt{static forRoot(yt={}){return{ngModule:Vt,providers:[{provide:xt,useValue:yt}]}}static{this.\u0275fac=function(St){return new(St||Vt)}}static{this.\u0275mod=g.\u0275\u0275defineNgModule({type:Vt})}static{this.\u0275inj=g.\u0275\u0275defineInjector({})}}const Ut="LOCAL_STORAGE_NOT_SUPPORTED";class Xt{constructor(yt={}){this._isSupported=!1,this._prefix="ls",this._storageType="localStorage";const{prefix:St,storageType:Bt}=yt||{};St!=null&&this._setPrefix(St),Bt!=null&&this._setStorageType(Bt),this._isSupported=this._checkSupport()}_deriveKey(yt){return`${this._prefix}${yt}`}_checkSupport(){try{const yt=this._storageType in window&&window[this._storageType]!==null;if(yt){this._webStorage=window[this._storageType];const St=this._deriveKey(`__${Math.round(Math.random()*1e7)}`);this._webStorage.setItem(St,""),this._webStorage.removeItem(St)}return yt}catch(yt){return console.error(yt.message),!1}}_setPrefix(yt){this._prefix=yt;const St=".";this._prefix&&!this._prefix.endsWith(St)&&(this._prefix=this._prefix?`${this._prefix}${St}`:"")}_setStorageType(yt){this._storageType=yt}get(yt){if(!this._isSupported)return console.warn(Ut),null;const St=this._webStorage?this._webStorage.getItem(this._deriveKey(yt)):null;if(!St||St==="null")return null;try{return JSON.parse(St)}catch{return null}}set(yt,St){const Bt=St===void 0?null:JSON.stringify(St);if(!this._isSupported)return console.warn(Ut),!1;try{this._webStorage&&this._webStorage.setItem(this._deriveKey(yt),Bt)}catch(Kt){return console.error(Kt.message),!1}return!0}remove(...yt){let St=!0;return yt.forEach(Bt=>{this._isSupported||(console.warn(Ut),St=!1);try{this._webStorage.removeItem(this._deriveKey(Bt))}catch(Kt){console.error(Kt.message),St=!1}}),St}static{this.\u0275fac=function(St){return new(St||Xt)(g.\u0275\u0275inject(xt,8))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Xt,factory:Xt.\u0275fac,providedIn:"root"})}}var he=o(73308);class ye{playFromSource(yt,St=!1){return(0,he.A)(function*(){const Bt=new Audio(yt),Kt=Bt.play();if(Kt!==void 0)try{yield Kt}catch(ze){if(Bt.muted=!0,St)throw ze}})()}static{this.\u0275fac=function(St){return new(St||ye)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}var qt;(function(kt){kt.Small="small",kt.Medium="medium",kt.Large="large",kt.XL="xl",kt.XXL="xxl"})(qt||(qt={}));class Oe{constructor(yt,St){this._window=yt,this._document=St,this._minScreenSize=600,this._mediumScreenSize=790,this._largeScreenSize=1079,this._xlScreenSize=1280,this._screenSizeChanges$=new l.BehaviorSubject(this._currentScreenSizeType),this._changeScreenSizeType()}get currentScreenSizeType(){return this._currentScreenSizeType}get currentScreenSize(){return this._currentScreenSize}get isSmallScreen(){return this._currentScreenSizeType===qt.Small}_setScreenSizeTypeAttribute(yt){this._document.body.setAttribute("screen-size-type",yt)}_getScreenSizeType(){return this._currentScreenSize=this._window.innerWidth,this._currentScreenSize<=this._minScreenSize?qt.Small:this._currentScreenSize<=this._mediumScreenSize?qt.Medium:this._currentScreenSize<=this._largeScreenSize?qt.Large:this._currentScreenSize<=this._xlScreenSize?qt.XL:qt.XXL}_changeScreenSizeType(){const yt=this._getScreenSizeType();return yt===this._currentScreenSizeType?!1:(this._currentScreenSizeType=yt,this._setScreenSizeTypeAttribute(yt),!0)}screenSizeTypeChangeNotifier(){return this._screenSizeChanges$.asObservable()}refreshCurrentScreenSizeType(){this._changeScreenSizeType()&&this._screenSizeChanges$.next(this._currentScreenSizeType)}static{this.\u0275fac=function(St){return new(St||Oe)(g.\u0275\u0275inject(Zt),g.\u0275\u0275inject(p.DOCUMENT))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Oe,factory:Oe.\u0275fac,providedIn:"root"})}}const ta=new g.InjectionToken("DESKTOP_NOTIFICATION_SENDER_PROVIDER");class fn{static get isMobile(){const yt=window.navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobile|mobile|CriOS/i.test(yt)}}var Tn;(function(kt){kt[kt.StayLoggedIn=0]="StayLoggedIn",kt[kt.Exit=1]="Exit",kt[kt.NotSet=2]="NotSet"})(Tn||(Tn={}));var De=o(93277),fi=o(79772);class $n{constructor(){this._liveAnnouncer=(0,g.inject)(De.LiveAnnouncer),this._translateService=(0,g.inject)(fi.TranslateService)}announce(yt,St,Bt=200){var Kt=this;return(0,he.A)(function*(){const ze=Kt._translateService.instant(yt);yield Kt._liveAnnouncer.announce(ze,St,Bt)})()}static{this.\u0275fac=function(St){return new(St||$n)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:$n,factory:$n.\u0275fac,providedIn:"root"})}}},66486:(P,j,o)=>{o.d(j,{t:()=>h});var p=o(63721),g=o.n(p),l=o(59131),t=o.n(l),f=o(28399),E=o.n(f),y=o(62278),w=o.n(y),m=o(34251);class h extends m.${constructor(){super(...arguments),this.httpClient=(0,l.inject)(p.HttpClient)}_createCacheKey(x,I={}){return`${x}!${JSON.stringify(I)}`}_cacheRequest(x,I){const k=this.getFromCache(I);if((0,f.isUndefined)(k)){const A=x().pipe((0,y.shareReplay)({bufferSize:1,refCount:!1}));return this.setToCache(I,A),A}return k}_getMethodEndpoint(x){return`${this.serviceEndpoint.replace(/\/$/,"")}/${x}`}executePostRequestWithCache(x,I={}){const k=this._getMethodEndpoint(x),A=this._createCacheKey(x,I),F=()=>this.httpClient.post(k,I);return this._cacheRequest(F,A)}executeGetRequestWithCache(x){const I=this._getMethodEndpoint(x),k=this._createCacheKey(x),A=()=>this.httpClient.get(I);return this._cacheRequest(A,k)}resetCache(x,I={}){const k=this._createCacheKey(x,I);this.deleteFromCache(k)}}},34251:(P,j,o)=>{o.d(j,{$:()=>p});class p{constructor(){this._cache=new Map}setToCache(l,t){this._cache.set(l,t)}deleteFromCache(l){this._cache.delete(l)}getFromCache(l){return this._cache.get(l)}}},38071:(P,j,o)=>{o.d(j,{wN:()=>F,wf:()=>N});var p=o(5960),g=o.n(p),l=o(63721),t=o.n(l),f=o(59131),E=o.n(f),y=o(22524),w=o(26594),m=o(62278),h=o.n(m),_=o(36486),x=o.n(_);const I=new Array("constructor","ngOnDestroy");let k=!1;const A=new Proxy({},{get(T,L){if(k||I.includes(L))return T[L];throw new Error(`FEATURE_VALUES. "${String(L)}" not loaded`)}}),F={provide:w.G,useFactory:()=>A},z=new f.InjectionToken("FEATURE_SERVICE_GET_FEATURES_STATES_ENDPOINT",{factory:()=>"rest/FeatureService/GetFeatureStates",providedIn:"root"});let N=class U0{constructor(L,U){this.httpClient=L,this._getFeatureStatesEndpoint=U,this._cachedCodes=new Map,this._destroyed$=new m.Subject}_checkFeaturesFromURL(){const L=tt=>{new URLSearchParams(tt.startsWith("?")?tt.slice(1):tt).forEach((G,Y)=>{if(Y.startsWith("feature:")){const O=Y.substring(8),st=G==="true";this._cachedCodes.set(O,st)}})},U=location.hash,B=U.indexOf("?");if(B>=0){const tt=U.substring(B+1);L(tt)}}loadFeatureStates(){return this._featureStates$?this._featureStates$:(this._featureStates$=this.httpClient.post(this._getFeatureStatesEndpoint,{}).pipe((0,_.map)(L=>(L.GetFeatureStatesResult.forEach(U=>{this._cachedCodes.set(U.Key,U.Value===1)}),(0,f.isDevMode)()&&this._checkFeaturesFromURL(),Object.fromEntries(this._cachedCodes.entries()))),(0,_.tap)(L=>{Object.assign(A,L),Object.freeze(A),k=!0}),(0,_.catchError)(()=>(k=!0,(0,m.of)(null))),(0,m.shareReplay)({bufferSize:1,refCount:!1}),(0,_.takeUntil)(this._destroyed$)),this._featureStates$)}getFeatureState(L){return L?this._cachedCodes.size>0?(0,m.of)(this._cachedCodes.get(L)||!1):this.loadFeatureStates().pipe((0,_.map)(()=>this._cachedCodes.get(L)||!1)):(0,m.of)(!1)}getFeaturesState(L){return(0,m.from)(this.getFeaturesStateAsync(L))}getFeaturesStateAsync(L){return Promise.all(L.map(U=>{const B=typeof U=="string"?this.getFeatureState(U):U;return new Promise(tt=>B.pipe((0,_.first)()).subscribe({next:tt}))}))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(U){return new(U||U0)(f.\u0275\u0275inject(l.HttpClient),f.\u0275\u0275inject(z))}}static{this.\u0275prov=f.\u0275\u0275defineInjectable({token:U0,factory:U0.\u0275fac,providedIn:"root"})}};N=(0,p.__decorate)([(0,y.op)({requestType:"crt.FeatureService"}),(0,p.__metadata)("design:paramtypes",[l.HttpClient,String])],N)},50485:(P,j,o)=>{o.d(j,{f:()=>I});var p=o(5960),g=o.n(p),l=o(22524),t=o(28399),f=o.n(t),E=o(62278),y=o.n(E),w=o(36486),m=o.n(w),h=o(66486),_=o(59131),x=o.n(_);let I=class Nb extends h.t{constructor(){super(...arguments),this.serviceEndpoint="rest/RightsService"}_getSchemaDeleteRights(A){return this.executePostRequestWithCache("GetSchemaDeleteRights",A).pipe((0,w.map)(F=>({result:F&&F.GetSchemaDeleteRightsResult?.length===0,message:F?.GetSchemaDeleteRightsResult})))}_getCanDeleteByRecord(A){const F=`${this.serviceEndpoint}/GetCanDelete`;return this.httpClient.post(F,A).pipe((0,w.map)(z=>({result:z&&z.GetCanDeleteResult?.length===0,message:z?.GetCanDeleteResult})))}_getCanAddData(A){const F=A.map(N=>this.getFromCache(`GetCanAdd_${N}`)).filter(N=>!!N),z=A.filter(N=>!F.find(T=>T.schemaName===N));return{cachedResult:F,requestSchemaNames:z}}getCanExecuteOperation(A){return this.getCanExecuteOperations([A]).pipe((0,w.mergeMap)(F=>(0,E.of)((F||[])[0])))}getCanExecuteOperations(A){return(0,E.combineLatest)(A.map(F=>this.executePostRequestWithCache("GetCanExecuteOperation",{operation:F}).pipe((0,w.map)(z=>z?.GetCanExecuteOperationResult))))}getIsTechnicalUser(){const A=`${this.serviceEndpoint}/GetIsTechnicalUser`;return this.httpClient.post(A,null).pipe((0,w.map)(F=>F?.GetIsTechnicalUserResult))}getCanAdd(A){const F="GetCanAdd",{cachedResult:z,requestSchemaNames:N}=this._getCanAddData(A);if(!N.length)return(0,E.of)(z);const T=`${this.serviceEndpoint}/${F}`;return this.httpClient.post(T,N).pipe((0,w.map)(L=>L.map(U=>({schemaName:U.Key,result:(0,t.isEmpty)(U.Value),errorMessage:U.Value}))),(0,w.tap)(L=>L.forEach(U=>this.setToCache(`${F}_${U.schemaName}`,U))),(0,w.map)(L=>L.concat(z)))}getCanEdit(A){const F=`${this.serviceEndpoint}/GetCanEdit`;return this.httpClient.post(F,A).pipe((0,w.map)(z=>({result:z&&z.GetCanEditResult?.length===0,message:z?.GetCanEditResult})))}getCanDelete(A){if(A.primaryColumnValue)return this._getCanDeleteByRecord(A);const F={schemaName:A.schemaName};return this._getSchemaDeleteRights(F)}copyRights(A){const F=`${this.serviceEndpoint}/CopyRights`;return this.httpClient.post(F,A)}getCanEditColumns(A){return this.executePostRequestWithCache("GetCanEditColumns",A).pipe((0,w.map)(F=>{const z=F?.GetCanEditColumnsResult??[],N={};return z.forEach(T=>N[T.Key]=T.Value),N}))}getCanReadColumns(A){return this.executePostRequestWithCache("GetCanReadColumns",A).pipe((0,w.map)(F=>{const z=F?.GetCanReadColumnsResult??[],N={};return z.forEach(T=>N[T.Key]=T.Value),N}))}getCanExecuteEntityOperation(A,F){const z=`${this.serviceEndpoint}/GetCanExecuteEntityOperation`,N={entitySchemaName:A,entityOperationCode:F};return this.httpClient.post(z,N).pipe((0,w.mergeMap)(T=>(0,E.of)(T?.GetCanExecuteEntityOperationResult)))}getAclGranted(A){return(0,E.firstValueFrom)(this.executeGetRequestWithCache("GetReadDeniedEntityList")).then(F=>!F.GetReadDeniedEntityListResult.includes(A),F=>(console.error(`Error while making request to ReadDeniedEntityList: ${F}`),!0))}applyChanges(A){const F=`${this.serviceEndpoint}/ApplyChanges`;return(0,E.firstValueFrom)(this.httpClient.post(F,A)).then(()=>!0,z=>{throw console.error(`Error while making request to ApplyChanges: ${z}`),z})}getRecordRights(A){return(0,E.firstValueFrom)(this.executePostRequestWithCache("GetRecordRights",A)).then(F=>F,F=>{throw console.error(`Error while making request to GetRecordRights: ${F}`),F})}static{this.\u0275fac=(()=>{let A;return function(z){return(A||(A=_.\u0275\u0275getInheritedFactory(Nb)))(z||Nb)}})()}static{this.\u0275prov=_.\u0275\u0275defineInjectable({token:Nb,factory:Nb.\u0275fac,providedIn:"root"})}};I=(0,p.__decorate)([(0,l.op)({requestType:"crt.RightsService"})],I)},65751:(P,j,o)=>{o.d(j,{w:()=>l});var p=o(59131),g=o.n(p);class l{static{this.\u0275fac=function(E){return new(E||l)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac})}}},93291:(P,j,o)=>{o.d(j,{V:()=>Di,L:()=>zc});var p=o(5960),g=o(40297),l=o(56711),t=o(59445),f=o(92011),E=o(44059),y=o(6675),w=o(52989),m=o(55231),h=o(23023),_=o(53135),x=o(76923),I=o(4091),k=o(70987),A=o(67047),F=o(63035),z=o(50301),N=o(39371),T=o(42828),L=o(27397),U=o(55642),B=o(79772),tt=o(36943),Z=o(50663),G=o(22524),Y=o(14276),O=o(46352),st=o(23092),gt=o(93248),ct=o(70027),nt=o(26628),Q=o(55524),q=o(83248),lt=o(57852),c=o(59131);const Tt=new c.InjectionToken("CRT_REQUIRE_JS");var Nt=o(63721),wt=o(62278),Et=o(36486);class vt{}var Rt=o(90983);class xe extends vt{constructor(v,M){super(),this._requireJs=v,this._httpClient=M,this._serviceEndpoint="ServiceModel/ClientUnitSchemaPathService.svc/",this.paths=new Map}_loadPartOfSchema(v){const M=this._serviceEndpoint+"GetPathsBySchemaName/"+v;return this._httpClient.post(M,null).pipe((0,Et.map)(R=>R?.paths??[]))}register(v){return this.paths.has(v)?(0,wt.of)(void 0):this._loadPartOfSchema(v).pipe((0,Et.map)(M=>{const R=Object.fromEntries(M.map(et=>[et.name,g.Location.joinWithSlash((0,Rt.cI)(),et.path)]));this._requireJs.config({paths:R});for(const{name:et,path:mt}of M)this.paths.set(et,mt)}))}registerDescriptors(v){const M=Object.fromEntries(v.map(R=>[R.schemaName,g.Location.joinWithSlash(g.Location.joinWithSlash((0,Rt.cI)(),R.path),R.schemaName)]));this._requireJs.config({paths:M})}static{this.\u0275fac=function(M){return new(M||xe)(c.\u0275\u0275inject(Tt),c.\u0275\u0275inject(Nt.HttpClient))}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:xe,factory:xe.\u0275fac})}}class le extends vt{register(){return(0,wt.of)(void 0)}registerDescriptors(v){}static{this.\u0275fac=(()=>{let v;return function(R){return(v||(v=c.\u0275\u0275getInheritedFactory(le)))(R||le)}})()}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:le,factory:le.\u0275fac})}}var Ve=o(92141);class Be extends vt{constructor(v,M){super(),this._requireJs=v,this._appInfo=M,this._hashParamName="hash",this._workspaceBaseUrl=(0,Rt.cI)(),this._emptyResourcesModulePath="Terrasoft/configuration/resources/empty-resources.js"}_getSchemaRuntimePath(v){return g.Location.joinWithSlash(this._workspaceBaseUrl,v.staticFileContent.schemasRuntimePath)}_getResourceRuntimePath(v){return g.Location.joinWithSlash(this._workspaceBaseUrl,v.staticFileContent.resourcesRuntimePath)}_getEmptyResourcesPath(v){const M=g.Location.joinWithSlash(this._workspaceBaseUrl,v.coreModulesPath),R=new URL(g.Location.joinWithSlash(M,this._emptyResourcesModulePath));return R.searchParams.set(this._hashParamName,v.configurationContentHash),R.toString()}_getSchemaPath(v,M){const R=new URL(g.Location.joinWithSlash(this._getSchemaRuntimePath(M),`${v}.js`));return R.searchParams.set(this._hashParamName,M.configurationContentHash),R.toString()}_getResourcePath(v,M){const R=new URL(g.Location.joinWithSlash(this._getResourceRuntimePath(M),`${v}Resources.js`));return R.searchParams.set(this._hashParamName,M.configurationContentHash),R.toString()}register(v){return this._requireJs.config({paths:{[v]:this._getSchemaPath(v,this._appInfo),[`${v}Resources`]:[this._getResourcePath(v,this._appInfo),this._getEmptyResourcesPath(this._appInfo)]}}),(0,wt.of)(void 0)}registerDescriptors(v,M){v.forEach(R=>{const et=R.schemaName;this._requireJs.config({paths:{[et]:this._getSchemaPath(et,M),[`${et}Resources`]:[this._getResourcePath(et,M),this._getEmptyResourcesPath(M)]}})})}static{this.\u0275fac=function(M){return new(M||Be)(c.\u0275\u0275inject(Tt),c.\u0275\u0275inject(Ve.z))}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:Be,factory:Be.\u0275fac})}}var _t=o(55585),X=o(70372),de=o(71260),qn=o(72051),an=o(41483),me=o(30293),Ot=o(73308),Lt=o(41287),Fe=o(844),ve=o(78748),ge=o(6503);let jt=class extends Lt.l{constructor(v,M){super(),this._copyClipboardService=v,this._notifyService=M}handle(v){var M=this;return(0,Ot.A)(function*(){yield M._copyClipboardService.copyTextToBuffer(v.value),yield M._notifyService.show({message:"CopyClipboard.Copied"}),yield M.next?.handle(v)})()}};jt=(0,p.__decorate)([(0,Fe.l)({type:"crt.CopyClipboardRequestHandler",requestType:"crt.CopyClipboardRequest"}),(0,p.__metadata)("design:paramtypes",[ve.w,ge.F])],jt);var ee=o(40968);let Gt=class extends Lt.l{constructor(v){super(),this.notificationSender=v}handle(v){var M=this;return(0,Ot.A)(function*(){yield M.notificationSender.notify(v.config),yield M.next?.handle(v)})()}};Gt=(0,p.__decorate)([(0,Fe.l)({type:"crt.ShowDesktopNotificationHandler",requestType:"crt.ShowDesktopNotificationRequest"}),(0,p.__param)(0,(0,ee.j)(G.X4)),(0,p.__metadata)("design:paramtypes",[Object])],Gt);let oe=class extends Lt.l{constructor(v){super(),this._soundPlayerService=v}handle(v){var M=this;return(0,Ot.A)(function*(){yield M._soundPlayerService.playFromSource(v.source,v.throwErrors),yield M.next?.handle(v)})()}};oe=(0,p.__decorate)([(0,Fe.l)({type:"crt.SoundNotificationHandler",requestType:"crt.SoundNotificationRequest"}),(0,p.__metadata)("design:paramtypes",[G.wZ])],oe);let Zt=class Av{static{this.\u0275fac=function(M){return new(M||Av)}}static{this.\u0275mod=c.\u0275\u0275defineNgModule({type:Av})}static{this.\u0275inj=c.\u0275\u0275defineInjector({providers:[ct.e,nt.k,Q.D,de.B4,q.t,lt.Q,{provide:Tt,useFactory:v=>v.requirejs,deps:[G.ZP]},xe,le,Be,_t.a,{provide:X.Ac,useValue:v=>v?.header?.sender==="SchemaManagerItemEventNotifier"&&v?.header?.bodyTypeName==="ChangedSchema",multi:!0},{provide:X.Oj,useValue:v=>v?.header?.sender==="SchemaManagerItemEventNotifier"&&v?.header?.bodyTypeName==="RemovedSchema",multi:!0},{provide:X.LQ,useValue:v=>v?.header?.sender==="SchemaManagerItemEventNotifier"&&v?.header?.bodyTypeName==="SchemaRightsChanged",multi:!0},{provide:X.LQ,useValue:v=>v?.header?.sender==="SchemaManagerItemRightsChangedNotifier",multi:!0},{provide:qn.P,useValue:{name:gt.HO,type:an.P.PersistentAndMemory,options:{tableName:me.w.ApplicationInfo}},multi:!0}],imports:[B.TranslateModule]})}};Zt=(0,p.__decorate)([(0,U.g)({requestHandlers:[jt,Gt,oe]})],Zt),function(){(typeof ngJitMode>"u"||ngJitMode)&&c.\u0275\u0275setNgModuleScope(Zt,{imports:[B.TranslateModule]})}();var Ht=o(4164),qe=o(14646);let Gn=class{constructor(v){this._formatValuePipe=v}convert(v,M,R){return this._formatValuePipe.transform(v,R)}};Gn=(0,p.__decorate)([(0,Ht.a)({type:"crt.FormatValue"}),(0,p.__metadata)("design:paramtypes",[qe.L])],Gn);let Ca=class{convert(v){return!v}};Ca=(0,p.__decorate)([(0,Ht.a)({type:"crt.InvertBooleanValue"})],Ca);var Ie=o(28399);let ne=class{convert(v,M,R){return(0,Ie.isEqual)(v,R)}};ne=(0,p.__decorate)([(0,Ht.a)({type:"crt.IsEqual"})],ne);let ut=class{convert(v){return!!v}};ut=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToBoolean"})],ut);let xt=class{convert(v){return v?`mailTo: ${v}`:""}};xt=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToEmailLink"})],xt);const Vt=new c.InjectionToken("A factory of empty placeholder creators");class Ut{constructor(v){this._emptyPlaceholderCreatorFactory=v}transform(v,M){return v==null||v===""?this._emptyPlaceholderCreatorFactory?.create(M)?.create(M)??"":v}static{this.\u0275fac=function(M){return new(M||Ut)(c.\u0275\u0275directiveInject(Vt,16))}}static{this.\u0275pipe=c.\u0275\u0275definePipe({name:"toEmptyPlaceholder",type:Ut,pure:!0})}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:Ut,factory:Ut.\u0275fac})}}let Xt=class{constructor(v){this._toEmptyPlaceholder=v}convert(v,M,R){return this._toEmptyPlaceholder.transform(v,R)}};Xt=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToEmptyPlaceholder"}),(0,p.__metadata)("design:paramtypes",[Ut])],Xt);let he=class{convert(v){return v?.displayValue||v?.value||v}};he=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToDisplayValue"})],he);let ye=class{constructor(v){this._userInfo=v}convert(v){const M=this._userInfo?.cultureInfo,R=(0,Ie.isEmpty)(M?.dateTimeFormat?.code)?(0,Ie.isEmpty)(M?.sysCultureName)?"en-US":M.sysCultureName:M.dateTimeFormat.code,et=!(0,Ie.isEmpty)(M?.dateTimeFormat?.amDesignator);return new Intl.DateTimeFormat(R,{hour:"2-digit",minute:"2-digit",hour12:et}).format(v)}};ye=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToLocalTimeValue"}),(0,p.__metadata)("design:paramtypes",[st.oq])],ye);var qt=o(41314);let Oe=class{convert(v,M){return v?typeof v=="string"?v:(0,qt.Mc)(v.value):""}};Oe=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToImageLink"})],Oe);let ta=class{convert(v,M,R,et=null){const mt=v&&v[R];return mt==null||mt===""?et:mt}};ta=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToObjectProp"})],ta);let fn=class{convert(v){return v?`tel: ${v}`:""}};fn=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToPhoneLink"})],fn);var Tn=o(51025),De=o(63741),fi=o(29025),$n=o(53163),kt=o(57014),yt=o(58504),St=o(40269),Bt=o(65288),Kt=o(6530),ze=o(67634),Ke=o(73723);let Cn=class{_tryGetLookupValueFromCollection(v,M,{primaryAttributeName:R,primaryDisplayAttributeName:et,primaryColorAttributeName:mt}){const ht=M.find(xn=>xn.attributes[R]===v);if(!ht)return null;const pe=ht.attributes[et];if(et&&!pe)return null;const ue=ht.attributes[mt];return mt&&!ue?null:{value:v,displayValue:pe,primaryColorValue:ue}}_getAttributeValue(v,M){let R=v;for(const et of M)if(R?.attributes&&et in R.attributes)R=R.attributes[et];else return;return R}_getCollectionForSearch(v,M){const R=v.dataSchemas[M],et=v.getViewModelAttributePath(M,R.primaryAttributeName).split(".").slice(0,-1);let mt;const ht=this._getAttributeValue(v,et);if(ht instanceof ze.o)mt=[ht];else if(ht instanceof Ke.A&&ht.length)mt=ht;else return null;const pe=mt[0].getViewModelAttributePath(M,R.primaryAttributeName),ue=mt[0].getViewModelAttributePath(M,R.primaryDisplayAttributeName);if(R.primaryDisplayAttributeName&&!ue)return null;const xn=mt[0].getViewModelAttributePath(M,R.primaryColorAttributeName);return R.primaryColorAttributeName&&!xn?null:{collection:mt,keys:{primaryAttributeName:pe,primaryDisplayAttributeName:ue,primaryColorAttributeName:xn}}}_getModelsBoundToEntity(v,M){const R=v.dataSchemas;return Object.entries(R).filter(([,et])=>et.name===M).map(([et])=>et)}_getFilterByPrimaryValues(v,M){const R=new De.s("tempTable"),et=new fi.g({columnPath:v}),mt=M.map(ue=>new $n.J({value:ue})),ht=new kt.f(yt.H.Equal,et,mt);return R.filters.add(ht),R.getMetadata().filters}_getLookupValuesFromDataSource(v,M){var R=this;return(0,Ot.A)(function*(){if(!v.length)return[];const et=yield St.K.create(M),mt=yield et.getSchema(),{primaryAttributeName:ht,primaryDisplayAttributeName:pe,primaryColorAttributeName:ue}=mt,xn=R._getFilterByPrimaryValues(ht,v),aa=[ht,pe,ue].filter(Boolean),jo=yield et.load({attributes:aa,parameters:[{type:Bt.E.Filter,value:xn}]});return v.map(rn=>{const xr=jo.find(Pd=>Pd[ht]===rn);return xr?{value:xr[ht],displayValue:xr[pe],primaryColorValue:xr[ue]}:{value:rn}})})()}getLookupValuesFromContext(v,M,R){const et=()=>({lookupValues:[],notFound:v.slice()});if(!v.length)return et();const mt=this._getModelsBoundToEntity(M,R);if(!mt.length)return et();const ht=mt.map(ue=>this._getCollectionForSearch(M,ue)).filter(Boolean);if(!ht.length)return et();const pe={lookupValues:[],notFound:[]};return v.forEach(ue=>{let xn;for(let aa=0;!xn&&aa<ht.length;aa++){const{collection:jo,keys:rn}=ht[aa];xn=this._tryGetLookupValueFromCollection(ue,jo,rn)}xn?pe.lookupValues.push(xn):pe.notFound.push(ue)}),pe}convert(v,M,R){var et=this;return(0,Ot.A)(function*(){const mt=Array.isArray(v),ht=mt?v:[v],pe=ht.filter(Kt.n7),ue=et.getLookupValuesFromContext(pe,M,R),{lookupValues:xn,notFound:aa}=ue,jo=yield et._getLookupValuesFromDataSource(aa,R),rn=ht.map(xr=>xn.find(Pd=>Pd.value===xr)??jo.find(Pd=>Pd.value===xr)??xr);return mt?rn:rn[0]})()}};Cn=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToLookup"})],Cn);let Ge=class{_isEncodedUri(v){return/%[0-9A-Fa-f]{2}/g.test(v)}_getEncodedUri(v){return this._isEncodedUri(v)?v:encodeURI(v)}convert(v){return(0,Ie.isEmpty)(v)?"":(v=v.trim(),this._getEncodedUri(v.startsWith("http://")||v.startsWith("https://")?v:`//${v}`))}};Ge=(0,p.__decorate)([(0,Ht.a)({type:"crt.LinkPrefix"})],Ge);var be=o(86464),gr=o(70668),Re=o(78240);let bi=class{_normalizePrimaryAttributeValues(v){return v?Array.isArray(v)?v:[v]:[]}_getFilteredPrimaryAttributeValues(v,M,R){return(0,Ot.A)(function*(){const{filterByPrimaryAttributeValues:et}=R??{},mt=yield v.getPrimaryAttributeValues();return et===!1?mt:M.filter(ht=>mt.includes(ht))})()}_getViewModelAttributeName(v,M,R){const mt=v.getBoundDataSchemaByAttributePath(M)?.attributes?.find(({path:xn})=>xn===R);if(!mt)return null;const pe=v.getBoundDataSourceNameByAttributePath(M);return v.getViewModelAttributePath(pe,mt.name).split(".").pop()}_getValuesFromCollection(v,M){var R=this;return(0,Ot.A)(function*(){const{context:et,collectionAttributeName:mt,primaryAttributeValues:ht,dataSourceAttributePath:pe}=M,ue=R._getViewModelAttributeName(et,mt,pe);if(!ue)return null;const xn=yield v.filterByPrimaryAttributes(ht),aa=`${mt}.${ue}`;return(yield Promise.all(xn.map(rn=>rn[ue]))).filter(rn=>R._isAttributeValueValid(et,aa,rn))})()}_isAttributeValueValid(v,M,R){return v._getDataSourceAttributeDataValueType(M)===be.r.Lookup?(0,gr.oX)(R):!0}_loadValuesByCollection(v){return(0,Ot.A)(function*(){const{context:M,collectionAttributeName:R,primaryAttributeValues:et,dataSourceAttributePath:mt}=v,ht=M.getBoundDataSchemaByAttributePath(R),pe=yield St.K.create(ht.name),ue=new kt.f(yt.H.Equal,new fi.g({columnPath:ht.primaryAttributeName}),et.map(aa=>new $n.J({value:aa}))),xn=yield pe.load({attributes:[mt],parameters:[{type:Bt.E.Filter,value:(0,Re.classToPlain)(ue)}]});return xn?xn.map(aa=>aa[mt]):[]})()}convert(v,M,R,et,mt){var ht=this;return(0,Ot.A)(function*(){const[pe,ue]=v??[];if(!pe||!R||!et||!M)return[];const xn=ht._normalizePrimaryAttributeValues(ue),aa=mt?.filterByPrimaryAttributeValues!==!1;if(!xn?.length&&aa)return[];const jo=yield ht._getFilteredPrimaryAttributeValues(pe,xn,mt);if(!jo?.length)return[];const rn={context:M,primaryAttributeValues:jo,collectionAttributeName:R,dataSourceAttributePath:et};return(yield ht._getValuesFromCollection(pe,rn))||ht._loadValuesByCollection(rn)})()}};bi=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToValuesFromCollection"})],bi);var Kr;(function(rt){rt.Sum="sum"})(Kr||(Kr={}));let Eo=class{_summarize(v){let M=0;return!Array.isArray(v)&&!Number.isNaN(v)?v:(v.map(R=>M+=Number(R)),M)}convert(v,M,R){return v&&R===Kr.Sum?this._summarize(v):0}};Eo=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToAggregatedValue"})],Eo);let Ci=class{constructor(v){this._injector=v,this._httpClient=this._injector.get(Nt.HttpClient)}_getDcmStagesList(v){return this._httpClient.post("/rest/PlaybookStageService/"+"GetDcmStages",{dcmId:v}).pipe((0,wt.map)(R=>R.stageValues))}convert(v){return v?(0,wt.lastValueFrom)(this._getDcmStagesList(v.value)):Promise.resolve([])}};Ci=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToDcmStageValue"}),(0,p.__metadata)("design:paramtypes",[c.Injector])],Ci);var Zi=o(29957);let Qa=class{convert(v,M,R,...et){return Zi.String.format(R,v,...et)}};Qa=(0,p.__decorate)([(0,Ht.a)({type:"crt.InterpolateString"})],Qa);let yi=class extends ne{convert(v,M,R){const et=Array.isArray(v)?v:[v];return et.length?et.every(mt=>super.convert(mt,M,R)):!0}};yi=(0,p.__decorate)([(0,Ht.a)({type:"crt.IsEveryEqualTo"})],yi);var xs=o(44040);let Aa=class{constructor(v){this._lookupFormatPipe=v}convert(v){return this._lookupFormatPipe.transform(v)}};Aa=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToLookupDisplayValue"}),(0,p.__metadata)("design:paramtypes",[xs.e])],Aa);var Ss=o(47149);let ws=class{constructor(v){this._translateService=v}_getEmptyDisplayValue(){return this._translateService.instant("LookupFormat.EmptyDisplayValue")}convert(v){if(!v)return this._getEmptyDisplayValue();const M=Object.values(Ss.Q).find(R=>R.id===v)?.translateKey;return M?this._translateService.instant(M):this._getEmptyDisplayValue()}};ws=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToDataValueTypeDisplayValue"}),(0,p.__metadata)("design:paramtypes",[B.TranslateService])],ws);let La=class{constructor(v){this._translateService=v}convert(v){if(!v)return null;const M=Object.values(Ss.Q).find(R=>R.id===v);return M?{value:M.id,displayValue:this._translateService.instant(M.translateKey)}:null}};La=(0,p.__decorate)([(0,Ht.a)({type:"crt.ToDataValueTypeLookupValue"}),(0,p.__metadata)("design:paramtypes",[B.TranslateService])],La);let ka=class{convert(v,M,R,et){return v?R:et}};ka=(0,p.__decorate)([(0,Ht.a)({type:"crt.IfElse"})],ka);let ae=class{convert(v,M,R){Array.isArray(v)||(v=[v,R]);const et=v[0],mt=v[1];return et||mt}};ae=(0,p.__decorate)([(0,Ht.a)({type:"crt.OrBooleanValue"})],ae);let H=class{convert(v,M,R){return(0,Ot.A)(function*(){return(v?.shift()||M.attributes[R])?.length?{}:{display:"none"}})()}};H=(0,p.__decorate)([(0,Ht.a)({type:"crt.HideComponentWithNoItems"})],H);let K=class H0{convert(v,M,R,et){return(0,Ot.A)(function*(){const mt=yield M[R];if(!mt||!Array.isArray(mt))return null;for(const ht of mt)if(typeof ht=="object"&&ht!==null&&et){if((yield ht[et])===v)return ht}else if(ht===v)return ht;return null})()}static{this.\u0275fac=function(M){return new(M||H0)}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:H0,factory:H0.\u0275fac})}};K=(0,p.__decorate)([(0,Ht.a)({type:"crt.FindInCollection"})],K);let it=class W0{convert(v,M,R){return M.getModelByName(R).isLoaded}static{this.\u0275fac=function(M){return new(M||W0)}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:W0,factory:W0.\u0275fac})}};it=(0,p.__decorate)([(0,Ht.a)({type:"crt.IsModelLoaded"})],it);var dt=o(81517),ft=o(62800);let At=class extends dt.S{constructor(){super(...arguments),this.type="crt.ChangeViewModelAttributeValueRequest"}};At=(0,p.__decorate)([(0,ft.$)({type:"crt.ChangeViewModelAttributeValueRequest"})],At);let Yt=class extends Lt.l{handle(v){return(0,Ot.A)(function*(){const{$context:M,attributeName:R,attributeValue:et}=v||{};if(!M||!R)return;const mt=M;return yield(0,wt.lastValueFrom)(mt.setValue({[R]:et}),{defaultValue:null}),et})()}};Yt=(0,p.__decorate)([(0,Fe.l)({type:"crt.ChangeViewModelAttributeValueHandler",requestType:"crt.ChangeViewModelAttributeValueRequest"})],Yt);var we=o(27084),Ae=o(63193),cn=o(90824),u=o(93277),ln=o(90865),ya=o(71252),vi=o(82944),To=o(30046),Po=o.n(To);const Zr=["originalPickerToggle"];function ki(rt,v){rt&1&&c.\u0275\u0275element(0,"mat-icon",11)}function jn(rt,v){rt&1&&c.\u0275\u0275element(0,"mat-icon",12)}function Ra(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"button",9),c.\u0275\u0275listener("click",function(){c.\u0275\u0275restoreView(M);const et=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(et.onPickerIconClick())}),c.\u0275\u0275template(1,ki,1,0,"mat-icon",10)(2,jn,1,0,"ng-template",null,3,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementEnd()}if(rt&2){const M=c.\u0275\u0275reference(3),R=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",R.type==="time")("ngIfElse",M)}}class hr extends vi.F{get convertedValue(){return this._convertedValue}set convertedValue(v){this._convertedValue=v,this.innerValue=v.toDate()}constructor(v,M,R,et,mt){super(v,M,R),this._matIconRegistry=et,this._domSanitizer=mt,this.controlType="ts-datetime-picker",this.type="datetime",this._registerIcons()}_registerIcons(){["datetime-picker-toggle-date","datetime-picker-toggle-time"].forEach(v=>{this._matIconRegistry.addSvgIconLiteral(v,this._domSanitizer.bypassSecurityTrustHtml(o(48104)("./"+v+"-icon.svg")))}),this._matIconRegistry.addSvgIconLiteral("read-only",this._domSanitizer.bypassSecurityTrustHtml(o(75670)))}writeValue(v){this._convertedValue=Po()(v),super.writeValue(v)}onPickerIconClick(){this.originalPickerToggle.nativeElement.dispatchEvent(new MouseEvent("click"))}static{this.\u0275fac=function(M){return new(M||hr)(c.\u0275\u0275directiveInject(l.NgControl,10),c.\u0275\u0275directiveInject(ln.AutofillMonitor),c.\u0275\u0275directiveInject(u.FocusMonitor),c.\u0275\u0275directiveInject(w.MatIconRegistry),c.\u0275\u0275directiveInject(ya.DomSanitizer))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:hr,selectors:[["ts-datetime-picker"]],viewQuery:function(M,R){if(M&1&&c.\u0275\u0275viewQuery(Zr,5,c.ElementRef),M&2){let et;c.\u0275\u0275queryRefresh(et=c.\u0275\u0275loadQuery())&&(R.originalPickerToggle=et.first)}},inputs:{label:"label",minDate:"minDate",maxDate:"maxDate",type:"type"},features:[c.\u0275\u0275ProvidersFeature([{provide:I.MatLegacyFormFieldControl,useExisting:hr}]),c.\u0275\u0275InheritDefinitionFeature],decls:8,vars:10,consts:[["input",""],["originalPickerToggle",""],["datetimePicker",""],["dateIcon",""],[1,"datetime-picker-input-wrapper"],["matInput","","type","text","autocomplete","false","spellcheck","false",3,"ngModelChange","ngModel","matDatetimepicker","required","min","max","disabled"],[3,"for"],["mat-icon-button","",3,"click",4,"ngIf"],["openOnFocus","true","mode","portrait",3,"type","disabled"],["mat-icon-button","",3,"click"],["svgIcon","datetime-picker-toggle-time",4,"ngIf","ngIfElse"],["svgIcon","datetime-picker-toggle-time"],["svgIcon","datetime-picker-toggle-date"]],template:function(M,R){if(M&1){const et=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"div",4)(1,"input",5,0),c.\u0275\u0275twoWayListener("ngModelChange",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275twoWayBindingSet(R.convertedValue,ht)||(R.convertedValue=ht),c.\u0275\u0275resetView(ht)}),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(3,"mat-datetimepicker-toggle",6,1),c.\u0275\u0275template(5,Ra,4,2,"button",7),c.\u0275\u0275element(6,"mat-datetimepicker",8,2),c.\u0275\u0275elementEnd()}if(M&2){const et=c.\u0275\u0275reference(7);c.\u0275\u0275advance(),c.\u0275\u0275twoWayProperty("ngModel",R.convertedValue),c.\u0275\u0275property("matDatetimepicker",et)("required",R.required)("min",R.minDate)("max",R.maxDate)("disabled",R.disabled),c.\u0275\u0275advance(2),c.\u0275\u0275property("for",et),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",!R.disabled),c.\u0275\u0275advance(),c.\u0275\u0275property("type",R.type)("disabled",R.disabled)}},dependencies:[g.NgIf,l.DefaultValueAccessor,l.NgControlStatus,l.RequiredValidator,l.NgModel,h.MatLegacyButton,Ae.MatDatetimepickerComponent,Ae.MatDatetimepickerToggleComponent,Ae.MatDatetimepickerInputDirective,w.MatIcon,k.MatLegacyInput],styles:[`ts-datetime-picker{width:100%}ts-datetime-picker .datetime-picker-input-wrapper{display:flex;align-items:center;position:relative;min-width:calc(18ch + 26px)}ts-datetime-picker .datetime-picker-input-wrapper mat-datetimepicker-toggle{display:none}ts-datetime-picker .datetime-picker-input-wrapper button[mat-icon-button]{height:26px;width:26px;line-height:26px;position:absolute;right:0}ts-datetime-picker .datetime-picker-input-wrapper button[mat-icon-button] mat-icon{height:16px!important;width:16px!important;line-height:16px;position:relative;bottom:2px}
`],encapsulation:2})}}class Ya{static{this.\u0275fac=function(M){return new(M||Ya)}}static{this.\u0275mod=c.\u0275\u0275defineNgModule({type:Ya})}static{this.\u0275inj=c.\u0275\u0275defineInjector({imports:[g.CommonModule,l.FormsModule,h.MatLegacyButtonModule,f.MatDatepickerModule,Ae.MatDatetimepickerModule,I.MatLegacyFormFieldModule,w.MatIconModule,k.MatLegacyInputModule,cn.MatMomentDatetimeModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&c.\u0275\u0275setNgModuleScope(Ya,{declarations:[hr],imports:[g.CommonModule,l.FormsModule,h.MatLegacyButtonModule,f.MatDatepickerModule,Ae.MatDatetimepickerModule,I.MatLegacyFormFieldModule,w.MatIconModule,k.MatLegacyInputModule,cn.MatMomentDatetimeModule],exports:[hr]})})();var Mc=o(13443),ea=o(3672),Ja=o(41108),Xa=o(38772),Qr=o(52667),Kn=o(56911),Qi=o(22457),Ic=o(65751),Na=o(7471),xc=o(11802),Oo=o(61320);class Dn{constructor(v){this._queryExecutor=v}_getColumnPath(v){return typeof v=="string"?v:v.columnPath}_addSchemaColumn(v,M){v.addSchemaColumn(this._getColumnPath(M))}_addPrimaryColumnIfNeeded(v,M,R){const et=v.getPrimaryColumn().name;M.some(mt=>this._getColumnPath(mt)===et)||R.addSchemaColumn(et)}_getEsqOrderDirection(v){return v?v==="asc"?Oo.Z.Asc:Oo.Z.Desc:Oo.Z.None}_applySort(v,M){if(!M?.sort)return;const R=this._getEsqOrderDirection(M.sort.direction);v.getColumn(M.sort.columnName).withOrdering(R,0)}_buildEsq(v,M){const R=new De.s(v.name);return M.columns.forEach(et=>this._addSchemaColumn(R,et)),this._addPrimaryColumnIfNeeded(v,M.columns,R),this._applySort(R,M),M.filter&&R.filters.add(M.filter),R.rowCount=M.rowCount,R.rowsOffset=M.rowsOffset,R}loadEntityData(v,M){ea.z.checkArgumentEmpty("entitySchema",v),ea.z.checkArgumentEmpty("config",M);const R=this._buildEsq(v,M);return this._queryExecutor.executeSelectQuery(R)}static{this.\u0275fac=function(M){return new(M||Dn)(c.\u0275\u0275inject(Ic.w))}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:Dn,factory:Dn.\u0275fac,providedIn:"root"})}}class Sc{_mapEntityColumnDataSchema(v){return{name:v.name,caption:v.caption,valueType:v.dataValueType}}_getColumnPath(v){return typeof v=="string"?v:v.columnPath}buildTableDataSchema(v,M){ea.z.checkArgumentEmpty("entitySchema",v),ea.z.checkArgumentEmpty("columns",M);const R=M.map(mt=>v.columns.find(ht=>this._getColumnPath(mt)===ht.name)),et=v.getPrimaryColumn().name;return{columns:R.map(this._mapEntityColumnDataSchema.bind(this)),trackBy:mt=>mt[et]}}static{this.\u0275fac=function(M){return new(M||Sc)}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:Sc,factory:Sc.\u0275fac,providedIn:"root"})}}const Mi=["tableNgContainer"],Yi=["dataViewWrapper"];class Va{set config(v){this._validateConfig(v);const M=this._config;this._config=v,(0,Ie.isEqual)(v,M)||this._applyConfig(v,M)}get sort(){return this._sort}get selectedRecords(){if(!this._entitySchema)return[];const v=this._entitySchema.getPrimaryColumn().name;return this.selectedIds?this._data.filter(M=>this.selectedIds.includes(M[v])):[]}set selectedRecords(v){const M=this._entitySchema.getPrimaryColumn().name,R=this.selectedIds.filter(ht=>!this.data.some(pe=>pe[M]===ht)),et=new Set(this.selectedIds),mt=new Set(v.map(ht=>ht[M]).concat(R));this.selectedIds=[...mt],(0,Ie.isEqual)(et,mt)||this.selectedIdsChange.emit(this.selectedIds)}get tableDataSchema(){return this._tableDataSchema}get data(){return this._data}get tableConfig(){return this._config?.tableConfig}constructor(v,M,R,et,mt){this._restHandler=v,this._entitySchemaService=M,this._loaderService=R,this._tableDataSchemaBuilder=et,this._scrollToBottomObserverFactory=mt,this._destroyed$=new wt.Subject,this._defaultPageSize=20,this._data=[],this._tableDataSchema={columns:[]},this._allPagesWasLoaded=!1,this._isDataLoading=!1,this.selectedIds=[],this.selectedIdsChange=new c.EventEmitter,this.dataChange=new c.EventEmitter,this.rowDoubleClick=new c.EventEmitter}_setTableDataChange(){this._table.dataSchema=this.tableDataSchema,this._table.config=this.tableConfig,this._table.data=this.data}_renderTableComponent(v){var M=this;return(0,Ot.A)(function*(){yield Promise.all([o.e(2225),o.e(4576)]).then(o.bind(o,24576)).then(R=>{const et=R.TableComponent;M._tableRef=v.createComponent(et),M._table=M._tableRef.instance,M.dataChange.subscribe(()=>M._setTableDataChange()),M._table.selectedChange.subscribe(mt=>M.selectedRecords=mt),M._table.sortChange.subscribe(mt=>M.onSortChange(mt)),M._table.rowDoubleClick.subscribe(mt=>M.rowDoubleClick.emit(mt))})})()}_getPageSize(v){return v.pageSize??this._defaultPageSize}_afterLoaded(v,M){const R=M.length<this._getPageSize(v);this._allPagesWasLoaded=R,this.dataChange.emit({data:this._data.slice(),isLastPage:R})}_executeLoading(v,M){const R=this._restHandler.handleRequest(M()).pipe((0,Et.share)());return R.subscribe(et=>this._afterLoaded(v,et)),R}_validateConfig(v){if(ea.z.checkArgumentEmpty("config",v),ea.z.checkArgumentEmpty("entitySchema",v.entitySchema),typeof v.entitySchema=="string"&&ea.z.checkStringIsNotEmpty("entitySchema",v.entitySchema),ea.z.checkArgumentEmpty("columns",v.columns),v.columns.length===0)throw new Error("Entity data view config should contain at least one column.")}_initScrollToBottomObserver(){this._scrollToBottomObserver=this._scrollToBottomObserverFactory.createObserver(this.dataViewWrapper.nativeElement,this._onScrollToBottom.bind(this))}_initDefaultSort(v,M){const R=v.getPrimaryDisplayColumn()?.name,mt=R&&M.columns.some(ht=>this._getColumnPath(ht)===R)?R:this._getColumnPath(M.columns[0]);this._sort={columnName:mt,direction:"asc"}}_getEntitySchema(v){if(typeof v=="object")return this._entitySchema=v,(0,wt.of)(v);const M=this._restHandler.handleRequest(this._entitySchemaService.getEntitySchemaByUId(v),{skipBodyMask:!0}).pipe((0,Et.takeUntil)(this._destroyed$),(0,Et.map)(R=>R.entitySchema),(0,Et.share)());return M.subscribe(R=>this._entitySchema=R),M}_prepareLoaderFilters(v){let M=null;if(v.excludedIds?.length>0){let R;R=new Ja.X,R.addSchemaColumnInFilterWithParameters(yt.H.Not_equal,this._entitySchema.getPrimaryColumn().name,v.excludedIds),v.filter&&R.add(v.filter),M=R}else M=v.filter;return M}_createDefaultLoaderConfig(v){return{rowCount:this._getPageSize(v),rowsOffset:-1,sort:this._sort,columns:v.columns,filter:this._prepareLoaderFilters(v)}}_loadRows(v,M){return this._isDataLoading=!0,this._loaderService.loadEntityData(v,M).pipe((0,Et.take)(1),(0,Et.tap)(()=>this._isDataLoading=!1),(0,Et.takeUntil)(this._destroyed$),(0,Et.share)())}_loadNextData(v,M){const R=this._createDefaultLoaderConfig(M);R.rowsOffset=this._data.length;const et=this._loadRows(v,R);return et.subscribe(mt=>this._data=this._data.concat(mt)),et}_getColumnPath(v){return typeof v=="string"?v:v.columnPath}_resetScroll(){this.dataViewWrapper?.nativeElement&&(this.dataViewWrapper.nativeElement.scrollTop=0),this._scrollToBottomObserver?.resetScrollMaxPosition()}_loadFirstData(v,M){this._resetScroll();const R=this._createDefaultLoaderConfig(M),et=this._loadRows(v,R);return this._data=[],et.subscribe(mt=>{this._data=mt,this._tableDataSchema=this._tableDataSchemaBuilder.buildTableDataSchema(v,M.columns)}),et}_applyConfig(v,M){const R=v.columns;let et;if(!M||!(0,Ie.isEqual)(v.entitySchema,M.entitySchema))et=this._getEntitySchema(v.entitySchema).pipe((0,Et.tap)(mt=>this._initDefaultSort(mt,v)),(0,Et.mergeMap)(mt=>this._loadFirstData(mt,v)));else{const mt=!(0,Ie.isEqual)(R,M.columns);mt&&this._initDefaultSort(this._entitySchema,v),this._entitySchema&&(mt||!(0,Ie.isEqual)(v.filter,M.filter)||!(0,Ie.isEqual)(v.excludedIds,M.excludedIds))&&(et=this._loadFirstData(this._entitySchema,v))}et&&this._executeLoading(v,()=>et)}_onScrollToBottom(){if(this._isDataLoading||this._allPagesWasLoaded)return;const v=this._config;this._executeLoading(v,()=>this._loadNextData(this._entitySchema,v))}onSortChange(v){if((0,Ie.isEqual)(v,this._sort))return;const M=this._config;this._sort=v,this._executeLoading(M,()=>this._loadFirstData(this._entitySchema,M))}ngOnInit(){var v=this;return(0,Ot.A)(function*(){yield v._renderTableComponent(v.tableNgContainer)})()}ngOnChanges(v){this._tableRef?.setInput("selected",this.selectedRecords)}ngAfterViewInit(){this._initScrollToBottomObserver()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this._scrollToBottomObserver.destroy()}static{this.\u0275fac=function(M){return new(M||Va)(c.\u0275\u0275directiveInject(Qi.D),c.\u0275\u0275directiveInject(ct.e),c.\u0275\u0275directiveInject(Dn),c.\u0275\u0275directiveInject(Sc),c.\u0275\u0275directiveInject(xc.S))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:Va,selectors:[["ts-entity-data-view"]],viewQuery:function(M,R){if(M&1&&(c.\u0275\u0275viewQuery(Mi,7,c.ViewContainerRef),c.\u0275\u0275viewQuery(Yi,7)),M&2){let et;c.\u0275\u0275queryRefresh(et=c.\u0275\u0275loadQuery())&&(R.tableNgContainer=et.first),c.\u0275\u0275queryRefresh(et=c.\u0275\u0275loadQuery())&&(R.dataViewWrapper=et.first)}},inputs:{config:"config",selectedIds:"selectedIds"},outputs:{selectedIdsChange:"selectedIdsChange",dataChange:"dataChange",rowDoubleClick:"rowDoubleClick"},features:[c.\u0275\u0275NgOnChangesFeature],decls:4,vars:2,consts:[["dataViewWrapper",""],["tableNgContainer",""],[1,"entity-data-view-wrapper"]],template:function(M,R){M&1&&(c.\u0275\u0275elementStart(0,"div",2,0),c.\u0275\u0275elementContainer(2,null,1),c.\u0275\u0275elementEnd()),M&2&&c.\u0275\u0275styleProp("display",R.data.length>0?null:"none")},styles:[".entity-data-view-wrapper[_ngcontent-%COMP%]{height:100%;overflow:auto}"]})}}var qa=o(56267),ti=o(88033),Fa=o(283),An;(function(rt){rt.Contains="contains",rt.StartsWith="starts-with",rt.Equals="equals"})(An||(An={}));var bt=o(31555),Ii=o(73969);class ud{constructor(v){this._overlayRef=v,this.afterClosed$=new wt.Subject}_close(v){this._overlayRef.dispose(),this.afterClosed$.next(v),this.afterClosed$.complete()}close(v){this._close(v)}}var Es=o(6149);function md(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"mat-checkbox",8),c.\u0275\u0275listener("change",function(et){const mt=c.\u0275\u0275restoreView(M).$implicit,ht=c.\u0275\u0275nextContext(2);return c.\u0275\u0275resetView(ht.onColumnSelectedChange(mt.name,et))}),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()}if(rt&2){const M=v.$implicit,R=c.\u0275\u0275nextContext(2);c.\u0275\u0275property("checked",R.isColumnSelected(M.name)),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(R.getColumnCheckboxCaption(M))}}function gd(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"div"),c.\u0275\u0275template(1,md,2,2,"mat-checkbox",7),c.\u0275\u0275element(2,"mat-divider"),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275property("ngForOf",M.columnConfigs)}}function Yr(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"mat-radio-button",9),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),rt&2){const M=v.$implicit;c.\u0275\u0275property("value",M.value),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate1(" ",M.caption," ")}}const Ln=new c.InjectionToken("SEARCH_INPUT_SETTINGS_DATA");class _r{constructor(v,M,R){this._settingsOverlayRef=v,this._translateService=M,this.searchStrategyOptions=[{value:An.StartsWith,caption:this._translateService.instant("SearchInput.Settings.StartsWith")},{value:An.Contains,caption:this._translateService.instant("SearchInput.Settings.Contains")},{value:An.Equals,caption:this._translateService.instant("SearchInput.Settings.Equals")}];const et=R?.settings||{};this.settings={searchStrategy:et.searchStrategy??An.Contains,columns:et.columns?.slice()??[]},this.columnConfigs=R?.columnConfigs??[]}_setColumnSelected(v,M){const R=this.settings.columns;if(M)R.includes(v)||R.push(v);else{const et=R.indexOf(v);et!==-1&&R.splice(et,1)}}close(){this._settingsOverlayRef.close(null)}apply(){this._settingsOverlayRef.close(this.settings)}isColumnSelected(v){return this.settings.columns.includes(v)}onColumnSelectedChange(v,M){this._setColumnSelected(v,M.checked)}getColumnCheckboxCaption(v){const M=v.caption,R=this._translateService.instant("SearchInput.Settings.SearchColumnTemplate");return Zi.String.Format(R,M)}static{this.\u0275fac=function(M){return new(M||_r)(c.\u0275\u0275directiveInject(ud),c.\u0275\u0275directiveInject(B.TranslateService),c.\u0275\u0275directiveInject(Ln))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:_r,selectors:[["ts-search-input-settings"]],decls:11,vars:9,consts:[[1,"search-input-settings-container"],[4,"ngIf"],[3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"bottom-actions"],["mat-button","",1,"",3,"click"],["mat-flat-button","","color","primary",1,"action-button",3,"click"],[3,"checked","change",4,"ngFor","ngForOf"],[3,"change","checked"],[3,"value"]],template:function(M,R){M&1&&(c.\u0275\u0275elementStart(0,"div",0),c.\u0275\u0275template(1,gd,3,1,"div",1),c.\u0275\u0275elementStart(2,"mat-radio-group",2),c.\u0275\u0275twoWayListener("ngModelChange",function(mt){return c.\u0275\u0275twoWayBindingSet(R.settings.searchStrategy,mt)||(R.settings.searchStrategy=mt),mt}),c.\u0275\u0275template(3,Yr,2,2,"mat-radio-button",3),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"div",4)(5,"button",5),c.\u0275\u0275listener("click",function(){return R.close()}),c.\u0275\u0275text(6),c.\u0275\u0275pipe(7,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(8,"button",6),c.\u0275\u0275listener("click",function(){return R.apply()}),c.\u0275\u0275text(9),c.\u0275\u0275pipe(10,"translate"),c.\u0275\u0275elementEnd()()()),M&2&&(c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",R.columnConfigs.length>0),c.\u0275\u0275advance(),c.\u0275\u0275twoWayProperty("ngModel",R.settings.searchStrategy),c.\u0275\u0275advance(),c.\u0275\u0275property("ngForOf",R.searchStrategyOptions),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(7,5,"SearchInput.Settings.Cancel")),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(10,7,"SearchInput.Settings.Apply")))},dependencies:[g.NgForOf,g.NgIf,Es.MatLegacyRadioGroup,Es.MatLegacyRadioButton,l.NgControlStatus,l.NgModel,h.MatLegacyButton,_.MatLegacyCheckbox,E.MatDivider,B.TranslatePipe],styles:[`.search-input-settings-container{background:#fff 0% 0% no-repeat padding-box;box-shadow:0 0 3px #0000001a;border:1px solid #e2e2e2;opacity:1;padding:11px;min-width:220px}.search-input-settings-container mat-checkbox{display:block}.search-input-settings-container mat-checkbox,.search-input-settings-container mat-radio-button{margin-left:4px;margin-right:4px}.search-input-settings-container mat-checkbox:not(:first-child),.search-input-settings-container mat-radio-button:not(:first-child){margin-top:8px}.search-input-settings-container mat-divider{margin:14px 0}.search-input-settings-container .bottom-actions{display:flex;justify-content:flex-end;margin:8px 0 4px}.search-input-settings-container .bottom-actions button:not(:first-child){margin-left:12px}
`],encapsulation:2})}}const wc={hasBackdrop:!0,backdropClass:"search-settings-backdrop",alignToElementRef:null,data:null};class xi{constructor(v,M){this._injector=v,this._overlay=M}_getOverlayConfig(v){const R=this._overlay.position().flexibleConnectedTo(v.alignToElementRef).withPositions([{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top",offsetY:6}]);return new bt.OverlayConfig({hasBackdrop:v.hasBackdrop,backdropClass:v.backdropClass,panelClass:v.panelClass,scrollStrategy:this._overlay.scrollStrategies.block(),positionStrategy:R})}_createOverlay(v){const M=this._getOverlayConfig(v);return this._overlay.create(M)}_createInjector(v,M){return c.Injector.create({providers:[{provide:ud,useValue:M},{provide:Ln,useValue:v.data}]})}_attachContainerPortal(v,M,R){const et=this._createInjector(M,R),mt=new Ii.ComponentPortal(_r,null,et);return v.attach(mt).instance}openSettingsMenu(v){const M={...wc,...v},R=this._createOverlay(M),et=new ud(R),mt=this._attachContainerPortal(R,M,et);return R.backdropClick().subscribe(ht=>{mt.close()}),et.afterClosed$}static{this.\u0275fac=function(M){return new(M||xi)(c.\u0275\u0275inject(c.Injector),c.\u0275\u0275inject(bt.Overlay))}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:xi,factory:xi.\u0275fac})}}const fr=["searchSettingsButton"],Do=["*"];function hd(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"button",8),c.\u0275\u0275listener("click",function(){c.\u0275\u0275restoreView(M);const et=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(et.openSettingsMenu())}),c.\u0275\u0275element(1,"div",9,0),c.\u0275\u0275elementEnd()}}class Si{set value(v){this._value=v,this._emittedValue=v}get value(){return this._value}constructor(v,M){this._translateService=v,this._searchInputSettingsService=M,this._value="",this._valueChangeDebounceTime=500,this._emitValueChangeWithDebounce=(0,Ie.debounce)(R=>this._emitValueChange(R),this._valueChangeDebounceTime),this.showSettings=!1,this.settings={searchStrategy:An.Contains,columns:[]},this.settingsChange=new c.EventEmitter,this.valueChange=new c.EventEmitter,this.columnConfigs=[]}_emitValueChange(v){this._emittedValue!==v&&(this._emittedValue=v,this.valueChange.emit(v))}_changeSettings(v){v&&!(0,Ie.isEqual)(v,this.settings)&&(this.settings=v,this.settingsChange.emit(v))}ngOnInit(){this.placeholder||(this.placeholder=this._translateService.instant("SearchInput.Placeholder"))}onValueChanged(v){const M=v.target.value;M!==this._value&&(this._value=M,this._emitValueChangeWithDebounce(M))}onClear(){const v="";this._value=v,this._emitValueChangeWithDebounce.cancel(),this._emitValueChange(v)}openSettingsMenu(){this._searchInputSettingsService.openSettingsMenu({alignToElementRef:this.settingsButton,data:{settings:this.settings,columnConfigs:this.columnConfigs}}).subscribe(v=>this._changeSettings(v))}static{this.\u0275fac=function(M){return new(M||Si)(c.\u0275\u0275directiveInject(B.TranslateService),c.\u0275\u0275directiveInject(xi))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:Si,selectors:[["ts-search-input"]],viewQuery:function(M,R){if(M&1&&c.\u0275\u0275viewQuery(fr,5),M&2){let et;c.\u0275\u0275queryRefresh(et=c.\u0275\u0275loadQuery())&&(R.settingsButton=et.first)}},inputs:{showSettings:"showSettings",value:"value",placeholder:"placeholder",settings:"settings",columnConfigs:"columnConfigs"},outputs:{settingsChange:"settingsChange",valueChange:"valueChange"},ngContentSelectors:Do,decls:8,vars:5,consts:[["searchSettingsButton",""],["matPrefix","","svgIcon","search",1,"search-icon"],["floatLabel","never",1,"search-container-form-field"],["matInput","","type","text","spellcheck","false","autocomplete","off",1,"search-input-field",3,"input","placeholder","value"],["matSuffix","","mat-icon-button","","aria-label","Clear",1,"close",3,"click"],["svgIcon","close"],["matSuffix","",1,"search-settings-tools"],["mat-icon-button","","matSuffix","","class","search-settings-button",3,"click",4,"ngIf"],["mat-icon-button","","matSuffix","",1,"search-settings-button",3,"click"],[1,"search-settings-button-icon"]],template:function(M,R){M&1&&(c.\u0275\u0275projectionDef(),c.\u0275\u0275element(0,"mat-icon",1),c.\u0275\u0275elementStart(1,"mat-form-field",2)(2,"input",3),c.\u0275\u0275listener("input",function(mt){return R.onValueChanged(mt)}),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"button",4),c.\u0275\u0275listener("click",function(){return R.onClear()}),c.\u0275\u0275element(4,"mat-icon",5),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(5,"div",6),c.\u0275\u0275projection(6),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(7,hd,3,0,"button",7),c.\u0275\u0275elementEnd()),M&2&&(c.\u0275\u0275advance(2),c.\u0275\u0275property("placeholder",R.placeholder)("value",R.value),c.\u0275\u0275advance(),c.\u0275\u0275styleProp("visibility",R.value?"inherit":"hidden"),c.\u0275\u0275advance(4),c.\u0275\u0275property("ngIf",R.showSettings))},dependencies:[g.NgIf,h.MatLegacyButton,I.MatLegacyFormField,I.MatLegacyPrefix,I.MatLegacySuffix,w.MatIcon,k.MatLegacyInput],styles:[`ts-search-input{display:flex}ts-search-input mat-icon[svgicon=search]{width:16px;height:16px;margin-inline-end:6px!important;padding-top:8px!important}ts-search-input .search-container-form-field .mat-form-field-infix,ts-search-input .search-container-form-field .mat-form-field-suffix{display:flex;gap:4px}ts-search-input mat-form-field{flex-grow:1}ts-search-input mat-form-field .mat-form-field-wrapper{margin-bottom:-1em}ts-search-input mat-form-field .mat-form-field-wrapper button.close,ts-search-input mat-form-field .mat-form-field-wrapper .search-settings-button{height:22px!important;width:22px!important;vertical-align:middle!important}ts-search-input mat-form-field .mat-form-field-wrapper button.close mat-icon{display:block;margin:auto}ts-search-input mat-form-field .mat-form-field-wrapper button.close:focus{border:1px solid #c8c8c8}ts-search-input mat-form-field .mat-form-field-wrapper .search-settings-button .search-settings-button-icon{background:url(settings.svg) no-repeat;width:16px;height:16px;margin:auto;display:block}ts-search-input mat-form-field.mat-focused .mat-form-field-label{opacity:0!important}
`],encapsulation:2})}}function Ts(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"mat-option",9),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),rt&2){const M=v.$implicit;c.\u0275\u0275property("value",M),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(M.caption)}}class Ze{get searchKey(){return this._searchKey}set searchKey(v){if(this._searchKey=v,this._selectedColumn){const M=!v;this._changeFilter(M)}}get filteredColumns(){return this._filteredColumns}set entitySchema(v){this._entitySchema=v,this._columns=v.columns.filter(M=>Ss.P.Text.includes(M.dataValueType)||M.dataValueType===be.r.Lookup||M.dataValueType===be.r.Guid),this._filteredColumns=this._columns}get selectedColumn(){return this._selectedColumn}constructor(v,M,R,et){this._entitySchemaService=v,this._maskService=M,this._dialogService=R,this._translateService=et,this._destroyed$=new wt.Subject,this._searchKey="",this.valueChange=new c.EventEmitter}_buildFilterGroup(v){const M=new Ja.X;M.logicalOperation=qa.H.And;const R=this._selectedColumn.dataValueType===be.r.Guid?yt.H.Equal:yt.H.Contain,et=this._selectedColumn.dataValueType===be.r.Guid?this._searchKey?.trim():this._searchKey;return M.addSchemaColumnFilterWithParameter(R,v,et),M}_getFilterColumnPath(){return this._selectedColumn.dataValueType!==be.r.Lookup?(0,wt.of)(this._selectedColumn.name):(this._maskService.showBodyMask(),this._entitySchemaService.getEntitySchemaByUId(this._selectedColumn.referenceSchemaUId).pipe((0,Et.map)(v=>{this._maskService.hideBodyMask();const M=v.entitySchema.getPrimaryDisplayColumn()?.name;if(M)return this._selectedColumn.name+"."+M;const R=v.entitySchema.getPrimaryColumn()?.name;return this._selectedColumn.name+"."+R})))}_changeFilter(v=!1){if(v){this.valueChange.emit(null);return}if(this._selectedColumn.dataValueType===be.r.Guid&&!(0,Kt.n7)(this._searchKey?.trim())){this._dialogService.openInfoDialog(this._translateService.instant("QuickEntityFilter.NonGuidMessage"));return}this._getFilterColumnPath().pipe((0,Et.takeUntil)(this._destroyed$)).subscribe(M=>{const R=this._buildFilterGroup(M);this.valueChange.emit(R)})}searchColumn(v){v||this.selectColumn(null),v=v.toLocaleLowerCase().trim(),this._filteredColumns=this._columns.filter(M=>M.caption.toLocaleLowerCase().includes(v))}getColumnCaption(v){return v.caption}selectColumn(v){if(this._selectedColumn=v,!v){this._changeFilter(!0);return}this._searchKey&&this._changeFilter()}ngOnInit(){this._selectedColumn=this._entitySchema?.getPrimaryDisplayColumn()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(M){return new(M||Ze)(c.\u0275\u0275directiveInject(ct.e),c.\u0275\u0275directiveInject(ti.s),c.\u0275\u0275directiveInject(Na.o),c.\u0275\u0275directiveInject(B.TranslateService))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:Ze,selectors:[["ts-quick-entity-filter"]],inputs:{entitySchema:"entitySchema"},outputs:{valueChange:"valueChange"},decls:10,vars:5,consts:[["auto","matAutocomplete"],[1,"select-column-container"],["type","text","matInput","","spellcheck","false",3,"input","matAutocomplete","value"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],[1,"search-container"],[3,"valueChange","value"],[3,"value"]],template:function(M,R){if(M&1){const et=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"div",1)(1,"mat-form-field")(2,"input",2),c.\u0275\u0275listener("input",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.searchColumn(ht.target.value))}),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"div",3),c.\u0275\u0275element(4,"div",4),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(5,"mat-autocomplete",5,0),c.\u0275\u0275listener("optionSelected",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.selectColumn(ht.option.value))}),c.\u0275\u0275template(7,Ts,2,2,"mat-option",6),c.\u0275\u0275elementEnd()()(),c.\u0275\u0275elementStart(8,"div",7)(9,"ts-search-input",8),c.\u0275\u0275twoWayListener("valueChange",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275twoWayBindingSet(R.searchKey,ht)||(R.searchKey=ht),c.\u0275\u0275resetView(ht)}),c.\u0275\u0275elementEnd()()}if(M&2){const et=c.\u0275\u0275reference(6);c.\u0275\u0275advance(2),c.\u0275\u0275property("matAutocomplete",et)("value",R.selectedColumn==null?null:R.selectedColumn.caption),c.\u0275\u0275advance(3),c.\u0275\u0275property("displayWith",R.getColumnCaption),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngForOf",R.filteredColumns),c.\u0275\u0275advance(2),c.\u0275\u0275twoWayProperty("value",R.searchKey)}},dependencies:[g.NgForOf,m.MatLegacyAutocomplete,m.MatLegacyAutocompleteTrigger,Fa.MatLegacyOption,I.MatLegacyFormField,I.MatLegacySuffix,k.MatLegacyInput,Si],styles:[`ts-quick-entity-filter{display:flex}ts-quick-entity-filter .select-column-container{flex-basis:50%;padding-right:20px}ts-quick-entity-filter .select-column-container .mat-form-field{width:100%!important}ts-quick-entity-filter .search-container{flex-basis:50%}
`],encapsulation:2})}}const pa=rt=>({"lookup-dialog-counter-value-hidden":rt});function Ec(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"ts-quick-entity-filter",14),c.\u0275\u0275listener("valueChange",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(mt.onFilterChanged(et))}),c.\u0275\u0275elementEnd()}if(rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275property("entitySchema",M.entitySchema)}}function br(rt,v){rt&1&&c.\u0275\u0275element(0,"mat-spinner",20)}function _d(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"div",15)(1,"span",16),c.\u0275\u0275text(2),c.\u0275\u0275pipe(3,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"div",17)(5,"div",18),c.\u0275\u0275text(6),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(7,br,1,0,"mat-spinner",19),c.\u0275\u0275elementEnd()()),rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(3,4,"LookupDialog.Selected")),c.\u0275\u0275advance(3),c.\u0275\u0275property("ngClass",c.\u0275\u0275pureFunction1(6,pa,M.displayedSelectedRecordsCount===null)),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(M.displayedSelectedRecordsCount||0),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",M.displayedSelectedRecordsCount===null)}}function v_(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"ts-entity-data-view",21),c.\u0275\u0275listener("dataChange",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(mt.onEntityRecordsLoaded(et))}),c.\u0275\u0275twoWayListener("selectedIdsChange",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext();return c.\u0275\u0275twoWayBindingSet(mt.selectedIds,et)||(mt.selectedIds=et),c.\u0275\u0275resetView(et)}),c.\u0275\u0275listener("selectedIdsChange",function(){c.\u0275\u0275restoreView(M);const et=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(et.onSelectedIdsChange())})("rowDoubleClick",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(mt.onRowDoubleClick(et))}),c.\u0275\u0275elementEnd()}if(rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275property("config",M.entityDataViewConfig),c.\u0275\u0275twoWayProperty("selectedIds",M.selectedIds)}}function ei(rt,v){rt&1&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275elementStart(1,"span"),c.\u0275\u0275text(2),c.\u0275\u0275pipe(3,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementContainerEnd()),rt&2&&(c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(3,1,"LookupDialog.Blankslate")))}function M_(rt,v){rt&1&&(c.\u0275\u0275elementStart(0,"span"),c.\u0275\u0275text(1),c.\u0275\u0275pipe(2,"translate"),c.\u0275\u0275elementEnd()),rt&2&&(c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(2,1,"BaseTableDetail.BlankslateWithFilters")))}function Nu(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"div",22),c.\u0275\u0275template(1,ei,4,3,"ng-container",23)(2,M_,3,3,"ng-template",null,0,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275reference(3),R=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",!R.entityFilter)("ngIfElse",M)}}class Jr{get entityFilter(){return this._quickEntityFilter}get entityDataViewConfig(){return{entitySchema:this._entitySchema,columns:this._getDisplayedColumns(),tableConfig:this._getTableConfig(),excludedIds:this._getLookupDialogConfig().excludedIds,filter:this._quickEntityFilter,pageSize:this._pageSize}}get selectMode(){return this._dialogData.tableConfig.selectMode}get entitySchema(){return this._entitySchema}get defaultBlankslateVisible(){return this._defaultBlankslateVisible}get displayedSelectedRecordsCount(){return this._allPagesSelectionEnabled?this._allPagesSelectedCount:this._loadedSelectedCount}constructor(v,M,R,et,mt,ht,pe){this._dialogData=v,this._dialogRef=M,this._entitySchemaService=R,this._restHandler=et,this._translateService=mt,this._queryExecutor=ht,this._dialogService=pe,this._pageSize=20,this._allPagesSelectionWarningRecordsNumber=1e3,this._destroyed$=new wt.Subject,this._allPagesRecordsCountRequestCancel$=new wt.Subject,this._defaultBlankslateVisible=!1,this._loadedRecords=[],this._allPagesWasLoaded=!1,this._allPagesSelectionEnabled=!1,this._allPagesUnselectedIds=null,this._allPagesRecordsCount=null,this._allPagesSelectedCount=null,this._allRowsSelectState=null,this._loadedSelectedCount=0,this.selectedIds=[],ea.z.checkArgumentEmpty("data",v),ea.z.checkArgumentEmpty("lookupDialogConfig",v.lookupDialogConfig),this.selectedIds=v.lookupDialogConfig.selectedIds?.slice()??[],this._getEntitySchema(v.lookupDialogConfig.entitySchema).pipe((0,Et.takeUntil)(this._destroyed$)).subscribe(ue=>this._entitySchema=ue),this._applyIncomingFilter()}_getPrimaryColumnName(){return this._entitySchema.getPrimaryColumn().name}_getLoadedRecordIds(){const v=this._getPrimaryColumnName();return this._loadedRecords.map(M=>M[v])}_unselectAllExceptLoaded(){const v=this.selectedIds;this.selectedIds=this._getLoadedRecordIds().filter(M=>v.includes(M))}_getLookupDialogConfig(){return this._dialogData.lookupDialogConfig}_actualizeLoadedSelectedCount(){this._loadedSelectedCount=this.selectedIds.length}_canExistNotLoadedSelectedRecords(v){return v===Kn.K.None&&!this._allPagesSelectionEnabled&&!this._allPagesWasLoaded}_actualizeAllPagesUnselectedIds(){const v=this.selectedIds,M=this._getLoadedRecordIds(),R=M.filter(mt=>!v.includes(mt)),et=M.filter(mt=>v.includes(mt));for(const mt of R)this._allPagesUnselectedIds.add(mt);for(const mt of et)this._allPagesUnselectedIds.delete(mt)}_calculateAllPagesSelectedCount(){this._allPagesSelectedCount=this._allPagesRecordsCount===null?null:this._allPagesRecordsCount-this._allPagesUnselectedIds.size}_setAllPagesRecordsCount(v){this._allPagesRecordsCount=v,this._calculateAllPagesSelectedCount()}_handleRequest(v){return M=>this._restHandler.handleRequest(M,v)}_getDisplayedColumns(){let v=this._getLookupDialogConfig().displayedColumns;if(!v){const M=this._entitySchema.getPrimaryDisplayColumn();v=M?[M.name]:[this._getPrimaryColumnName()]}return v}_getTableConfig(){return{...this._dialogData.tableConfig,allRowsSelectState:()=>this._allRowsSelectState,allRowsSelectToggleHandler:()=>this._allRowsSelectToggle()}}_applyIncomingFilter(){const v=this._getLookupDialogConfig().filter;v&&(this._quickEntityFilter||(this._quickEntityFilter=new Ja.X),this._quickEntityFilter.add(v))}_getEntitySchema(v){return typeof v=="object"?(0,wt.of)(v):this._entitySchemaService.getEntitySchemaByUId(v).pipe(this._handleRequest(),(0,Et.map)(M=>M.entitySchema))}_actualizeDefaultBlankslateVisibility(v){this._defaultBlankslateVisible=v.length===0}_confirmAllPagesSelection(){if(this.displayedSelectedRecordsCount<this._allPagesSelectionWarningRecordsNumber)return(0,wt.of)(!0);const v=this._translateService.instant("LookupDialog.AllPagesSelectionWarning");return this._dialogService.openConfirmationDialog(v).pipe((0,Et.map)(M=>M===Qr.ch.result))}_enableAllPagesSelection(){this._unselectAllExceptLoaded(),this._allPagesSelectionEnabled=!0,this._allPagesRecordsCount||this._loadAllPagesRecordsCount(),this._allRowsSelectState=Kn.K.All,this._allPagesUnselectedIds=new Set}_disableAllPagesSelection({unselectAllRecords:v}){this._allPagesRecordsCountRequestCancel$.next(),this._allPagesSelectionEnabled=!1,v&&(this.selectedIds=[],this._allRowsSelectState=Kn.K.None),this._actualizeLoadedSelectedCount(),this._allPagesUnselectedIds=null}_createAllFilteredRecordsEsq(){const v=this._getPrimaryColumnName(),M=new De.s(this._entitySchema.name);this._quickEntityFilter&&M.filters.add(this._quickEntityFilter);const R=this._getLookupDialogConfig().excludedIds;return R?.length>0&&M.filters.addSchemaColumnInFilterWithParameters(yt.H.Not_equal,v,R),M}_createAllFilteredIdsEsq(){const v=this._createAllFilteredRecordsEsq();return v.addSchemaColumn(this._getPrimaryColumnName()),v}_loadAllPagesRecordsCount(){const v=this._getPrimaryColumnName(),M=this._createAllFilteredRecordsEsq();M.addAggregationFunctionColumn(v,Xa.C.Count,"Count"),this._queryExecutor.executeSelectQuery(M).pipe(this._handleRequest({skipBodyMask:!0}),(0,Et.takeUntil)((0,wt.merge)(this._allPagesRecordsCountRequestCancel$,this._destroyed$)),(0,Et.catchError)(()=>(this._disableAllPagesSelection({unselectAllRecords:!1}),wt.EMPTY)),(0,Et.map)(R=>R[0].Count)).subscribe(R=>this._setAllPagesRecordsCount(R))}_loadIsAnyRecordExist(v){const M=this._createAllFilteredIdsEsq();return M.rowCount=1,v(M),this._queryExecutor.executeSelectQuery(M).pipe((0,Et.takeUntil)(this._destroyed$),this._handleRequest({maskDelay:0}),(0,Et.map)(R=>R.length===1),(0,Et.catchError)(()=>(0,wt.of)(!0)),(0,Et.shareReplay)())}_clearNotLoadedRecordsCachedInfo(){this._isAnyNotLoadedRecordSelected$=null,this._isAnyNotLoadedRecordUnselected$=null}_loadIsAnyNotLoadedRecordSelected(){return this._isAnyNotLoadedRecordSelected$??(this._isAnyNotLoadedRecordSelected$=this._loadIsAnyRecordExist(v=>v.filters.addSchemaColumnInFilterWithParameters(yt.H.Equal,this._getPrimaryColumnName(),this.selectedIds)))}_loadIsAnyNotLoadedRecordUnselected(){return this._isAnyNotLoadedRecordUnselected$??(this._isAnyNotLoadedRecordUnselected$=this._loadIsAnyRecordExist(v=>v.filters.addSchemaColumnInFilterWithParameters(yt.H.Not_equal,this._getPrimaryColumnName(),this.selectedIds)))}_loadAllPagesSelectedIds(){const v=this._getPrimaryColumnName(),M=this._getLoadedRecordIds().filter(R=>this._allPagesUnselectedIds.has(R));return this._queryExecutor.executeSelectQuery(this._createAllFilteredIdsEsq()).pipe((0,Et.takeUntil)(this._destroyed$),this._handleRequest(),(0,Et.map)(R=>R.map(et=>et[v])),(0,Et.map)(R=>R.filter(et=>!M.includes(et))))}_actualizeAllRowsSelectState(){let v;const M=this._getLoadedRecordIds(),R=M.length>0&&M.some(mt=>this.selectedIds.includes(mt)),et=R&&M.every(mt=>this.selectedIds.includes(mt));return this.selectedIds.length===0||!R&&this._allPagesWasLoaded?v=(0,wt.of)(Kn.K.None):et&&(this._allPagesWasLoaded||this._allPagesSelectionEnabled)?v=(0,wt.of)(Kn.K.All):R&&!et?v=(0,wt.of)(Kn.K.Intermediate):v=R?this._loadIsAnyNotLoadedRecordUnselected().pipe((0,Et.map)(mt=>mt?Kn.K.Intermediate:Kn.K.All)):this._loadIsAnyNotLoadedRecordSelected().pipe((0,Et.map)(mt=>mt?Kn.K.Intermediate:Kn.K.None)),v.subscribe(mt=>this._allRowsSelectState=mt),v}_unselectNotLoadedRecords(){const v=this._getPrimaryColumnName(),M=this._createAllFilteredIdsEsq();M.filters.addSchemaColumnInFilterWithParameters(yt.H.Equal,v,this.selectedIds);const R=this._queryExecutor.executeSelectQuery(M).pipe(this._handleRequest(),(0,Et.takeUntil)((0,wt.merge)(this._destroyed$)),(0,Et.map)(et=>et.map(mt=>mt[v])),(0,Et.catchError)(()=>(0,wt.of)([])),(0,Et.share)());return R.subscribe(et=>{this.selectedIds=this.selectedIds.filter(mt=>!et.includes(mt))}),R}_toggleLoadedRecordsSelection(v){const M=this._getLoadedRecordIds();v===Kn.K.None?this.selectedIds=this.selectedIds.filter(R=>!M.includes(R)):this.selectedIds=[...new Set(this.selectedIds.concat(M))]}_toggleAllPagesSelectionIfRequired(v){const M=!this._allPagesSelectionEnabled&&this.selectedIds.length>0&&v===Kn.K.All&&!this._allPagesWasLoaded,R=this._allPagesSelectionEnabled&&v===Kn.K.None;return M?(this._enableAllPagesSelection(),!0):R?(this._disableAllPagesSelection({unselectAllRecords:!0}),!1):null}_allRowsSelectToggle(){const v=this._allRowsSelectState===Kn.K.All?Kn.K.None:Kn.K.All;this._allRowsSelectState=v,this._toggleLoadedRecordsSelection(v),this._canExistNotLoadedSelectedRecords(v)?(this._loadedSelectedCount=null,this._unselectNotLoadedRecords().subscribe(()=>this._actualizeLoadedSelectedCount())):this._actualizeLoadedSelectedCount(),this._toggleAllPagesSelectionIfRequired(v)===null&&this._allPagesSelectionEnabled&&(this._allPagesUnselectedIds.clear(),this._calculateAllPagesSelectedCount())}_resetSelectionOnFilterChanged(){this._allPagesSelectionEnabled&&this._disableAllPagesSelection({unselectAllRecords:!0}),this.selectMode!=="multi"&&(this.selectedIds=[]),this._setAllPagesRecordsCount(null),this._allRowsSelectState=null}_closeWithSelection(v){const M=this._getPrimaryColumnName();this._dialogRef.close({selectedIds:v,selectedRecords:this._loadedRecords.filter(R=>v.includes(R[M]))})}getDialogTitle(){if(!this._entitySchema)return"";const v=this._translateService.instant("LookupDialog.TitleTemplate");return Zi.String.Format(v,this._entitySchema.caption)}ngOnDestroy(){this._destroyed$.next()}onFilterChanged(v){this._resetSelectionOnFilterChanged(),this._quickEntityFilter=v,this._applyIncomingFilter()}onEntityRecordsLoaded({data:v,isLastPage:M}){if(this._loadedRecords=v,this._clearNotLoadedRecordsCachedInfo(),this._actualizeDefaultBlankslateVisibility(v),this._allPagesWasLoaded=M,this._allPagesSelectionEnabled){const R=this._getPrimaryColumnName();this.selectedIds=v.map(et=>et[R]).filter(et=>!this._allPagesUnselectedIds.has(et)),this._actualizeLoadedSelectedCount(),M&&this._disableAllPagesSelection({unselectAllRecords:!1})}!this._allRowsSelectState&&this.selectMode==="multi"&&this._actualizeAllRowsSelectState()}isAnyRecordSelected(){return this.displayedSelectedRecordsCount>0}onRowDoubleClick(v){if(this.selectMode!=="single")return;const M=this._getPrimaryColumnName();this._dialogRef.close({selectedIds:[v[M]],selectedRecords:[v]})}closeWithCurrentSelection(){this._allPagesSelectionEnabled?this._confirmAllPagesSelection().pipe((0,Et.filter)(v=>v),(0,Et.mergeMap)(()=>this._loadAllPagesSelectedIds())).subscribe(v=>this._closeWithSelection(v)):this._closeWithSelection(this.selectedIds)}onSelectedIdsChange(){this._allPagesSelectionEnabled?(this._actualizeAllPagesUnselectedIds(),this._calculateAllPagesSelectedCount()):this._actualizeLoadedSelectedCount(),this._actualizeAllRowsSelectState()}static{this.\u0275fac=function(M){return new(M||Jr)(c.\u0275\u0275directiveInject(x.MAT_LEGACY_DIALOG_DATA),c.\u0275\u0275directiveInject(x.MatLegacyDialogRef),c.\u0275\u0275directiveInject(ct.e),c.\u0275\u0275directiveInject(Qi.D),c.\u0275\u0275directiveInject(B.TranslateService),c.\u0275\u0275directiveInject(Ic.w),c.\u0275\u0275directiveInject(Na.o))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:Jr,selectors:[["ts-lookup-dialog"]],decls:20,vars:12,consts:[["blankslateWithFilters",""],["mat-dialog-title",""],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],[1,"lookup-dialog-top-panel"],[1,"dialog-filters"],[3,"entitySchema","valueChange",4,"ngIf"],["class","counter-container",4,"ngIf"],["mat-dialog-content",""],[3,"config","selectedIds","dataChange","selectedIdsChange","rowDoubleClick",4,"ngIf"],["class","lookup-dialog-blank-slate",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"click","disabled"],[3,"valueChange","entitySchema"],[1,"counter-container"],[1,"counter-label"],[1,"lookup-dialog-counter-value-wrapper"],[1,"counter-value",3,"ngClass"],["diameter","18",4,"ngIf"],["diameter","18"],[3,"dataChange","selectedIdsChange","rowDoubleClick","config","selectedIds"],[1,"lookup-dialog-blank-slate"],[4,"ngIf","ngIfElse"]],template:function(M,R){M&1&&(c.\u0275\u0275elementStart(0,"div",1)(1,"div")(2,"span"),c.\u0275\u0275text(3),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"button",2),c.\u0275\u0275element(5,"mat-icon",3),c.\u0275\u0275elementEnd()()(),c.\u0275\u0275elementStart(6,"div",4)(7,"div",5),c.\u0275\u0275template(8,Ec,1,1,"ts-quick-entity-filter",6),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(9,_d,8,8,"div",7),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(10,"div",8),c.\u0275\u0275template(11,v_,1,2,"ts-entity-data-view",9)(12,Nu,4,2,"div",10),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(13,"div",11)(14,"button",12),c.\u0275\u0275text(15),c.\u0275\u0275pipe(16,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(17,"button",13),c.\u0275\u0275listener("click",function(){return R.closeWithCurrentSelection()}),c.\u0275\u0275text(18),c.\u0275\u0275pipe(19,"translate"),c.\u0275\u0275elementEnd()()),M&2&&(c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(R.getDialogTitle()),c.\u0275\u0275advance(5),c.\u0275\u0275property("ngIf",R.entitySchema),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",R.selectMode==="multi"),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",R.entitySchema),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",R.defaultBlankslateVisible),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(16,8,"LookupDialog.CancelButton")),c.\u0275\u0275advance(2),c.\u0275\u0275property("disabled",!R.isAnyRecordSelected()),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(19,10,"LookupDialog.SelectButton")))},dependencies:[g.NgClass,g.NgIf,Va,h.MatLegacyButton,x.MatLegacyDialogClose,x.MatLegacyDialogTitle,x.MatLegacyDialogContent,x.MatLegacyDialogActions,w.MatIcon,z.MatProgressSpinner,Ze,B.TranslatePipe],styles:["[_nghost-%COMP%]{padding:4px 10px;width:834px;max-width:100%;min-width:420px;box-sizing:border-box}.counter-container[_ngcontent-%COMP%]{display:flex;align-items:baseline}.counter-container[_ngcontent-%COMP%]   .counter-label[_ngcontent-%COMP%]{font-size:13px;color:#757575;margin-right:4px}.counter-container[_ngcontent-%COMP%]   .lookup-dialog-counter-value-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.counter-container[_ngcontent-%COMP%]   .lookup-dialog-counter-value-wrapper[_ngcontent-%COMP%]   .counter-value[_ngcontent-%COMP%]{font-size:14px;color:#444}.counter-container[_ngcontent-%COMP%]   .lookup-dialog-counter-value-wrapper[_ngcontent-%COMP%]   .counter-value.lookup-dialog-counter-value-hidden[_ngcontent-%COMP%]{visibility:hidden;width:0}[mat-dialog-content][_ngcontent-%COMP%]{max-height:55vh!important;min-height:267px;height:862px}[mat-dialog-content][_ngcontent-%COMP%]   .lookup-dialog-blank-slate[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:14px;color:#999;text-align:center;padding-top:22px}[mat-dialog-actions][_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}"]})}}class Ao{constructor(v){this._dialogService=v,this._defaultTableConfig={headerSticky:!0}}_createTableConfig(v){return{...this._defaultTableConfig,...v}}openWithMultiselect(v){const M={lookupDialogConfig:v,tableConfig:this._createTableConfig({selectMode:"multi"}),gtmData:null};return this._dialogService.open(Jr,{data:M}).pipe((0,Et.map)(R=>({selectedIds:R?.selectedIds})))}open(v){const M={lookupDialogConfig:v,tableConfig:this._createTableConfig({selectMode:"single"}),gtmData:null};return this._dialogService.open(Jr,{data:M}).pipe((0,Et.map)(R=>({selectedId:R?.selectedIds[0],selectedRecord:R?.selectedRecords[0]})))}static{this.\u0275fac=function(M){return new(M||Ao)(c.\u0275\u0275inject(Na.o))}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:Ao,factory:Ao.\u0275fac})}}var Ps=o(13053);class wi extends vi.F{set maxValue(v){this._maxValue=v}set selected(v){this._selected=v}get formattedValue(){return this._formattedValue}constructor(v,M,R,et,mt,ht){super(v,M,R),this._element=et,this._cdRef=mt,this._formatUtility=ht,this._formattedValue="",this._selected=!1,this._maxValue=99999999999e-2,this._maxLargeValue=999999999999,this.controlType="ts-number-input",this.isLargeNumberEnabled=!1,this.inputBlur=new c.EventEmitter,this.precision=2}_updateFormattedValue(){this._formattedValue=this._formatUtility.formatNumberValue(this.innerValue,new de.V_({precision:this.precision}))}_exceededMaxValue(v){const M=Math.abs(v),R=M%1;return this.isLargeNumberEnabled&&R===0?M>this._maxLargeValue:M>this._maxValue}ngAfterViewInit(){this._selected&&(this._element.nativeElement.lastElementChild.focus(),this._cdRef.detectChanges())}ngOnInit(){this._updateFormattedValue()}onInputValueChange(){this.callChangeHandler()}onInputFocus(){this.innerValue&&(this._formattedValue=this._formatUtility.formatNumberValue(this.innerValue,new de.V_({ignoreThousandSeparator:!0,precision:this.precision})))}writeValue(v){this.setInnerValueSilent(v),this._updateFormattedValue(),this.stateChanges.next(),this._cdRef.detectChanges()}onBlur(v){this._updateFormattedValue(),v&&(v.currentTarget.value=this._formattedValue),this.inputBlur.emit()}onInput(v){let M=v.currentTarget.value;if(M===""){this.setInnerValueSilent(0),this._formattedValue="";return}if(M=this._formatUtility.formatStringValue(M),this.precision===0){const et=this._formatUtility.getNumberFormatInfo().decimalSeparator;M=M.replace(new RegExp(`\\${et}$`),"")}v.currentTarget.value=M;let R=this._formatUtility.parseStringToNumber(M,this.precision);M==="-"&&(R=0),(isNaN(R)||this._exceededMaxValue(R))&&(R=this.innerValue,v.currentTarget.value=this._formatUtility.formatNumberValue(R,new de.V_({ignoreThousandSeparator:!0,precision:this.precision}))),this.setInnerValueSilent(R)}static{this.\u0275fac=function(M){return new(M||wi)(c.\u0275\u0275directiveInject(l.NgControl,10),c.\u0275\u0275directiveInject(ln.AutofillMonitor),c.\u0275\u0275directiveInject(u.FocusMonitor),c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(c.ChangeDetectorRef),c.\u0275\u0275directiveInject(de.B4))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:wi,selectors:[["ts-number-input"]],inputs:{isLargeNumberEnabled:"isLargeNumberEnabled",maxValue:"maxValue",selected:"selected",precision:"precision"},outputs:{inputBlur:"inputBlur"},features:[c.\u0275\u0275ProvidersFeature([{provide:I.MatLegacyFormFieldControl,useExisting:wi}]),c.\u0275\u0275InheritDefinitionFeature],decls:2,vars:3,consts:[["input",""],["matInput","","dir","ltr",3,"change","blur","input","focus","value","disabled","required"]],template:function(M,R){if(M&1){const et=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"input",1,0),c.\u0275\u0275listener("change",function(){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onInputValueChange())})("blur",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onBlur(ht))})("input",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onInput(ht))})("focus",function(){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onInputFocus())}),c.\u0275\u0275elementEnd()}M&2&&c.\u0275\u0275property("value",R.formattedValue)("disabled",R.disabled)("required",R.required)},dependencies:[Ps.Dir,k.MatLegacyInput],styles:["input[_ngcontent-%COMP%]{text-align:left;border:0;height:100%;width:100%}input[_ngcontent-%COMP%]:focus{outline-style:none}"],changeDetection:0})}}function I_(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"mat-checkbox",6),c.\u0275\u0275twoWayListener("ngModelChange",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext(2);return c.\u0275\u0275twoWayBindingSet(mt.innerValue,et)||(mt.innerValue=et),c.\u0275\u0275resetView(et)}),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()}if(rt&2){const M=c.\u0275\u0275nextContext(2);c.\u0275\u0275twoWayProperty("ngModel",M.innerValue),c.\u0275\u0275property("disabled",M.disabled),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(M.label)}}function va(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"button",11),c.\u0275\u0275listener("click",function(){c.\u0275\u0275restoreView(M);const et=c.\u0275\u0275nextContext(3);return c.\u0275\u0275resetView(et.openSelectLookupValueDialog())}),c.\u0275\u0275element(1,"mat-icon",12),c.\u0275\u0275elementEnd()}}function Vu(rt,v){rt&1&&c.\u0275\u0275element(0,"mat-icon",13)}function Ei(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"mat-form-field",7)(1,"mat-label"),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(3,"input",8),c.\u0275\u0275template(4,va,2,0,"button",9)(5,Vu,1,0,"mat-icon",10),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(M.label),c.\u0275\u0275advance(),c.\u0275\u0275property("value",M.getLookupDisplayValue())("required",M.required),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",!M.disabled),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",M.disabled)}}function kn(rt,v){rt&1&&c.\u0275\u0275element(0,"mat-icon",13)}function Ue(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"mat-form-field",7)(1,"mat-label"),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"input",14),c.\u0275\u0275twoWayListener("ngModelChange",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext(2);return c.\u0275\u0275twoWayBindingSet(mt.innerValue,et)||(mt.innerValue=et),c.\u0275\u0275resetView(et)}),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(4,kn,1,0,"mat-icon",10),c.\u0275\u0275elementEnd()}if(rt&2){const M=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(M.label),c.\u0275\u0275advance(),c.\u0275\u0275twoWayProperty("ngModel",M.innerValue),c.\u0275\u0275property("required",M.required)("disabled",M.disabled),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",M.disabled)}}function Os(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"textarea",14),c.\u0275\u0275twoWayListener("ngModelChange",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext(3);return c.\u0275\u0275twoWayBindingSet(mt.innerValue,et)||(mt.innerValue=et),c.\u0275\u0275resetView(et)}),c.\u0275\u0275elementEnd()}if(rt&2){const M=c.\u0275\u0275nextContext(3);c.\u0275\u0275twoWayProperty("ngModel",M.innerValue),c.\u0275\u0275property("required",M.required)("disabled",M.disabled)}}function Tc(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"mat-form-field",7)(1,"mat-label"),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(3,Os,1,3,"textarea",15),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(M.label),c.\u0275\u0275advance(),c.\u0275\u0275property("ngSwitchCase",M.inputTypes.LongText)}}function ua(rt,v){rt&1&&c.\u0275\u0275element(0,"mat-icon",13)}function Ds(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"mat-form-field",7)(1,"mat-label"),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"ts-datetime-picker",17),c.\u0275\u0275twoWayListener("ngModelChange",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext(3);return c.\u0275\u0275twoWayBindingSet(mt.innerValue,et)||(mt.innerValue=et),c.\u0275\u0275resetView(et)}),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(4,ua,1,0,"mat-icon",10),c.\u0275\u0275elementEnd()}if(rt&2){const M=c.\u0275\u0275nextContext(3);c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(M.label),c.\u0275\u0275advance(),c.\u0275\u0275twoWayProperty("ngModel",M.innerValue),c.\u0275\u0275property("label",M.label)("required",M.required)("disabled",M.disabled)("type",M.getDatetimePickerType()),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",M.disabled)}}function fd(rt,v){rt&1&&c.\u0275\u0275element(0,"mat-icon",13)}function Fu(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"mat-form-field",7)(1,"mat-label"),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"ts-number-input",18),c.\u0275\u0275twoWayListener("ngModelChange",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext(3);return c.\u0275\u0275twoWayBindingSet(mt.innerValue,et)||(mt.innerValue=et),c.\u0275\u0275resetView(et)}),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(4,fd,1,0,"mat-icon",10),c.\u0275\u0275elementEnd()}if(rt&2){const M=c.\u0275\u0275nextContext(3);c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(M.label),c.\u0275\u0275advance(),c.\u0275\u0275twoWayProperty("ngModel",M.innerValue),c.\u0275\u0275property("required",M.required)("disabled",M.disabled)("precision",M.getNumberInputPrecision())("maxValue",M.numberMaxValue),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",M.disabled)}}function Ji(rt,v){if(rt&1&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275template(1,Ds,5,7,"mat-form-field",16)(2,Fu,5,7,"mat-form-field",16),c.\u0275\u0275elementContainerEnd()),rt&2){const M=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",M.useDatepicker()),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",M.useNumberInput())}}function Mt(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"div",1),c.\u0275\u0275elementContainerStart(1,2),c.\u0275\u0275template(2,I_,2,3,"mat-checkbox",3)(3,Ei,6,5,"mat-form-field",4)(4,Ue,5,5,"mat-form-field",4)(5,Tc,4,2,"mat-form-field",4)(6,Ji,3,2,"ng-container",5),c.\u0275\u0275elementContainerEnd(),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275property("ngClass","input-type-"+M.inputTypes[M.inputType].toLowerCase()),c.\u0275\u0275advance(),c.\u0275\u0275property("ngSwitch",M.inputType),c.\u0275\u0275advance(),c.\u0275\u0275property("ngSwitchCase",M.inputTypes.Boolean),c.\u0275\u0275advance(),c.\u0275\u0275property("ngSwitchCase",M.inputTypes.Lookup),c.\u0275\u0275advance(),c.\u0275\u0275property("ngSwitchCase",M.inputTypes.Text),c.\u0275\u0275advance(),c.\u0275\u0275property("ngSwitchCase",M.inputTypes.LongText)}}var d;(function(rt){rt[rt.Boolean=0]="Boolean",rt[rt.Integer=1]="Integer",rt[rt.Float=2]="Float",rt[rt.Date=3]="Date",rt[rt.Time=4]="Time",rt[rt.DateTime=5]="DateTime",rt[rt.Lookup=6]="Lookup",rt[rt.Text=7]="Text",rt[rt.LongText=8]="LongText"})(d||(d={}));const C={[d.Boolean]:[be.r.Boolean],[d.Integer]:[be.r.Integer],[d.Float]:[be.r.Float,be.r.FLOAT1,be.r.FLOAT2,be.r.FLOAT3,be.r.FLOAT4,be.r.FLOAT8,be.r.Money],[d.Date]:[be.r.Date],[d.Time]:[be.r.Time],[d.DateTime]:[be.r.DateTime],[d.Lookup]:[be.r.Lookup],[d.Text]:[be.r.Text,be.r.SHORT_TEXT,be.r.PHONE_TEXT,be.r.WEB_TEXT,be.r.EMAIL_TEXT,be.r.MEDIUM_TEXT,be.r.Color,be.r.RICH_TEXT],[d.LongText]:[be.r.LONG_TEXT,be.r.MAXSIZE_TEXT]};class S extends vi.F{get column(){return this._column}set column(v){this._specifyInputType(v),this._column=v}get inputType(){return this._inputType}get numberMaxValue(){return this._column?.dataValueType===be.r.Integer?this._integerMaxValue:this._floatMaxValue}constructor(v,M,R,et,mt,ht,pe,ue,xn){super(v,M,R),this._entitySchemaService=et,this._lookupDialogService=mt,this._restErrorHandler=ht,this._maskService=pe,this._matIconRegistry=ue,this._domSanitizer=xn,this._integerMaxValue=2147483647,this._floatMaxValue=1175494351e29,this.inputTypes=d,this._registerIcons()}_specifyInputType(v){const M=Object.keys(C).find(R=>C[R].includes(v.dataValueType));this._inputType=M?parseInt(M):null}_registerIcons(){this._matIconRegistry.addSvgIconLiteral("read-only",this._domSanitizer.bypassSecurityTrustHtml(o(75670)))}_getLookupDialogConfig(v){const M=this.innerValue;return{entitySchema:v,displayedColumns:null,selectedIds:M?.value?[M.value]:null}}_setLookupValue(v,M){if(!M.selectedRecord)return;const R=v.getPrimaryDisplayColumn();this.innerValue={value:M.selectedId,displayValue:R?M.selectedRecord[R.name]:M.selectedId}}focusElementViaMouse(){}initMonitors(){}useDatepicker(){return[d.Date,d.Time,d.DateTime].includes(this._inputType)}getDatetimePickerType(){return{[be.r.Date]:"date",[be.r.Time]:"time",[be.r.DateTime]:"datetime"}[this._column.dataValueType]}useNumberInput(){return[d.Integer,d.Float].includes(this._inputType)}getNumberInputPrecision(){return{[be.r.Integer]:0,[be.r.Float]:2,[be.r.FLOAT1]:1,[be.r.FLOAT2]:2,[be.r.FLOAT3]:3,[be.r.FLOAT4]:4,[be.r.FLOAT8]:8,[be.r.Money]:2}[this._column.dataValueType]}openSelectLookupValueDialog(){this._maskService.showBodyMask();let v;this._restErrorHandler.handleRequest(this._entitySchemaService.getEntitySchemaByUId(this._column.referenceSchemaUId)).pipe((0,Et.tap)(M=>{this._maskService.hideBodyMask(),v=M.entitySchema}),(0,Et.mergeMap)(M=>this._lookupDialogService.open(this._getLookupDialogConfig(M.entitySchema)))).subscribe(M=>this._setLookupValue(v,M))}getLookupDisplayValue(){const v=this.innerValue;return v?.displayValue??v?.value??""}static{this.\u0275fac=function(M){return new(M||S)(c.\u0275\u0275directiveInject(l.NgControl,10),c.\u0275\u0275directiveInject(ln.AutofillMonitor),c.\u0275\u0275directiveInject(u.FocusMonitor),c.\u0275\u0275directiveInject(ct.e),c.\u0275\u0275directiveInject(Ao),c.\u0275\u0275directiveInject(Mc.x),c.\u0275\u0275directiveInject(ti.s),c.\u0275\u0275directiveInject(w.MatIconRegistry),c.\u0275\u0275directiveInject(ya.DomSanitizer))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:S,selectors:[["ts-entity-column-value-input"]],inputs:{column:"column",label:"label"},features:[c.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","entity-column-value-input-wrapper",3,"ngClass",4,"ngIf"],[1,"entity-column-value-input-wrapper",3,"ngClass"],[3,"ngSwitch"],[3,"ngModel","disabled","ngModelChange",4,"ngSwitchCase"],["floatLabel","always",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ngModelChange","ngModel","disabled"],["floatLabel","always"],["matInput","","type","text","disabled","true",3,"value","required"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["matSuffix","","svgIcon","read-only",4,"ngIf"],["matSuffix","","mat-icon-button","",3,"click"],["svgIcon","search"],["matSuffix","","svgIcon","read-only"],["matInput","","type","text",3,"ngModelChange","ngModel","required","disabled"],["matInput","","type","text",3,"ngModel","required","disabled","ngModelChange",4,"ngSwitchCase"],["floatLabel","always",4,"ngIf"],[3,"ngModelChange","ngModel","label","required","disabled","type"],[3,"ngModelChange","ngModel","required","disabled","precision","maxValue"]],template:function(M,R){M&1&&c.\u0275\u0275template(0,Mt,7,6,"div",0),M&2&&c.\u0275\u0275property("ngIf",R.inputType!==null)},dependencies:[g.NgClass,g.NgIf,g.NgSwitch,g.NgSwitchCase,g.NgSwitchDefault,l.DefaultValueAccessor,l.NgControlStatus,l.RequiredValidator,l.NgModel,hr,h.MatLegacyButton,_.MatLegacyCheckbox,I.MatLegacyFormField,I.MatLegacyLabel,I.MatLegacySuffix,w.MatIcon,k.MatLegacyInput,wi],styles:[`ts-entity-column-value-input .entity-column-value-input-wrapper{display:flex;align-items:center}ts-entity-column-value-input .entity-column-value-input-wrapper:not(.input-type-longtext){height:44px}ts-entity-column-value-input .entity-column-value-input-wrapper.input-type-lookup button[matsuffix]{height:25px;width:25px}ts-entity-column-value-input .entity-column-value-input-wrapper.input-type-lookup button[matsuffix] mat-icon{height:16px;width:16px}ts-entity-column-value-input .entity-column-value-input-wrapper mat-form-field{width:100%}ts-entity-column-value-input .entity-column-value-input-wrapper mat-form-field textarea{min-height:calc(1em + 1px)}
`],encapsulation:2})}}class V{static{this.\u0275fac=function(M){return new(M||V)}}static{this.\u0275mod=c.\u0275\u0275defineNgModule({type:V})}static{this.\u0275inj=c.\u0275\u0275defineInjector({providers:[de.B4],imports:[g.CommonModule,l.FormsModule,I.MatLegacyFormFieldModule,k.MatLegacyInputModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&c.\u0275\u0275setNgModuleScope(V,{declarations:[wi],imports:[g.CommonModule,l.FormsModule,I.MatLegacyFormFieldModule,k.MatLegacyInputModule],exports:[wi]})})();class ${static{this.\u0275fac=function(M){return new(M||$)}}static{this.\u0275mod=c.\u0275\u0275defineNgModule({type:$})}static{this.\u0275inj=c.\u0275\u0275defineInjector({imports:[g.CommonModule,l.FormsModule,Ya,h.MatLegacyButtonModule,_.MatLegacyCheckboxModule,I.MatLegacyFormFieldModule,w.MatIconModule,k.MatLegacyInputModule,V]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&c.\u0275\u0275setNgModuleScope($,{declarations:[S],imports:[g.CommonModule,l.FormsModule,Ya,h.MatLegacyButtonModule,_.MatLegacyCheckboxModule,I.MatLegacyFormFieldModule,w.MatIconModule,k.MatLegacyInputModule,V],exports:[S]})})();const at=(rt,v)=>({expanded:rt,collapsed:v});class pt{constructor(){this._direction="right",this.animationState="initial",this.isExpanded=!1,this.toggle=new c.EventEmitter}set direction(v){this._direction=v}get direction(){return this._direction}set animationDisabled(v){this._animationDisabled=v}get animationDisabled(){return this._animationDisabled}_setDefaultAnimationState(){this.animationState="initial"}_changeAnimationState(v){this.animationState=v}_onMouseEnter(){this.isExpanded||this._changeAnimationState(`slide-${this.direction}`)}_onMouseLeave(){this._changeAnimationState("initial")}onMouseAction(v){if(this.animationDisabled){this._setDefaultAnimationState();return}switch(v){case"enter":this._onMouseEnter();break;case"leave":this._onMouseLeave();break}}onToggle(){this.toggle.emit()}static{this.\u0275fac=function(M){return new(M||pt)}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:pt,selectors:[["crt-expansion-button"]],inputs:{isExpanded:"isExpanded",direction:"direction",animationDisabled:"animationDisabled"},outputs:{toggle:"toggle"},decls:5,vars:17,consts:[[3,"mouseenter","mouseleave","click","ngClass","title"],["svgIcon","collapse",1,"arrow-icon"]],template:function(M,R){M&1&&(c.\u0275\u0275elementStart(0,"div",0),c.\u0275\u0275pipe(1,"translate"),c.\u0275\u0275pipe(2,"translate"),c.\u0275\u0275listener("mouseenter",function(){return R.onMouseAction("enter")})("mouseleave",function(){return R.onMouseAction("leave")})("click",function(){return R.onToggle()}),c.\u0275\u0275elementStart(3,"div"),c.\u0275\u0275element(4,"mat-icon",1),c.\u0275\u0275elementEnd()()),M&2&&(c.\u0275\u0275classMapInterpolate1("expansion-button-wrapper ",R.direction,""),c.\u0275\u0275property("ngClass",c.\u0275\u0275pureFunction2(14,at,R.isExpanded,!R.isExpanded))("title",R.isExpanded?c.\u0275\u0275pipeBind1(1,10,"ExpansionButton.CollapseTooltip"):c.\u0275\u0275pipeBind1(2,12,"ExpansionButton.ExpandTooltip")),c.\u0275\u0275advance(3),c.\u0275\u0275classMapInterpolate1("expansion-btn ",R.animationState,""),c.\u0275\u0275advance(),c.\u0275\u0275classProp("reversed",R.isExpanded))},dependencies:[g.NgClass,w.MatIcon,B.TranslatePipe],styles:[`.expansion-button-wrapper{height:40px;display:flex;position:absolute}.expansion-button-wrapper.expanded{width:16px}.expansion-button-wrapper.collapsed{width:29px}.expansion-button-wrapper.left{justify-content:flex-end}.expansion-button-wrapper.left.expanded{left:-4px}.expansion-button-wrapper.left.collapsed{left:-17px}.expansion-button-wrapper.left .expansion-btn{border-radius:8px 0 0 8px}.expansion-button-wrapper.left .expansion-btn .arrow-icon{transform:rotate(0)}.expansion-button-wrapper.left .expansion-btn .arrow-icon.reversed{transform:rotate(180deg)}.expansion-button-wrapper.right{justify-content:flex-start}.expansion-button-wrapper.right.expanded{left:4px}.expansion-button-wrapper.right.collapsed{left:17px}.expansion-button-wrapper.right .expansion-btn{border-radius:0 8px 8px 0}.expansion-button-wrapper.right .expansion-btn .arrow-icon{transform:rotate(180deg)}.expansion-button-wrapper.right .expansion-btn .arrow-icon.reversed{transform:rotate(0)}.expansion-button-wrapper .expansion-btn{display:flex;justify-content:center;align-items:center;height:100%;cursor:pointer;transition:.3s cubic-bezier(.18,.89,.32,1.28)}.expansion-button-wrapper .expansion-btn.initial{width:16px}.expansion-button-wrapper .expansion-btn.slide-left,.expansion-button-wrapper .expansion-btn.slide-right{width:25px}.expansion-button-wrapper .expansion-btn .arrow-icon{height:16px;width:16px}
`],encapsulation:2})}}class Ct{constructor(v,M){this._matIconRegistry=v,this._domSanitizer=M,this._registerIcons()}_registerIcons(){this._matIconRegistry.addSvgIconLiteral("collapse",this._domSanitizer.bypassSecurityTrustHtml(o(14186)))}static{this.\u0275fac=function(M){return new(M||Ct)(c.\u0275\u0275inject(w.MatIconRegistry),c.\u0275\u0275inject(ya.DomSanitizer))}}static{this.\u0275mod=c.\u0275\u0275defineNgModule({type:Ct})}static{this.\u0275inj=c.\u0275\u0275defineInjector({imports:[g.CommonModule,w.MatIconModule,B.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&c.\u0275\u0275setNgModuleScope(Ct,{declarations:[pt],imports:[g.CommonModule,w.MatIconModule,B.TranslateModule],exports:[pt]})})();var Dt=o(12886),Wt=o(75816),zt=o(77592),Me=o(3671),un=o(96677),Ma=o(68712),Ee=o(6975),mn=o(30491);function Pc(rt,v){if(rt&1&&c.\u0275\u0275elementContainer(0,3),rt&2){const M=v.$implicit,R=c.\u0275\u0275nextContext(2);c.\u0275\u0275property("crtViewModel",M)("crtViewElement",R.itemViewConfig)}}function ja(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"div"),c.\u0275\u0275template(1,Pc,1,2,"ng-container",2),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275property("ngForOf",M.viewModels)}}let la=class G0 extends Ma.K{static{this.\u0275fac=(()=>{let v;return function(R){return(v||(v=c.\u0275\u0275getInheritedFactory(G0)))(R||G0)}})()}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:G0,selectors:[["ts-component-list"]],inputs:{itemViewConfig:"itemViewConfig",viewModels:"viewModels"},features:[c.\u0275\u0275InheritDefinitionFeature],decls:2,vars:4,consts:[[1,"ts-component-list",3,"ngStyle","ngClass"],[4,"ngIf"],[3,"crtViewModel","crtViewElement",4,"ngFor","ngForOf"],[3,"crtViewModel","crtViewElement"]],template:function(M,R){M&1&&(c.\u0275\u0275elementStart(0,"div",0),c.\u0275\u0275template(1,ja,2,1,"div",1),c.\u0275\u0275elementEnd()),M&2&&(c.\u0275\u0275property("ngStyle",R.styles)("ngClass",R.classes),c.\u0275\u0275attribute("id",R.id),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",R.viewModels))},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgStyle,Ee.aD,mn.H],encapsulation:2})}};(0,p.__decorate)([(0,zt.k)(),(0,p.__metadata)("design:type",Object)],la.prototype,"itemViewConfig",void 0),(0,p.__decorate)([(0,zt.k)(),(0,p.__metadata)("design:type",Ke.A)],la.prototype,"viewModels",void 0),la=(0,p.__decorate)([(0,Me.v)({type:"crt.ComponentList",reuseStrategy:un.B.Reuse})],la);let As=class $0 extends Ma.K{static{this.\u0275fac=(()=>{let v;return function(R){return(v||(v=c.\u0275\u0275getInheritedFactory($0)))(R||$0)}})()}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:$0,selectors:[["ts-list"]],features:[c.\u0275\u0275InheritDefinitionFeature],decls:16,vars:3,consts:[[1,"ts-list",3,"ngStyle","ngClass"]],template:function(M,R){M&1&&(c.\u0275\u0275elementStart(0,"div",0)(1,"ul")(2,"li"),c.\u0275\u0275text(3,"1 Item"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"li"),c.\u0275\u0275text(5,"2 Item"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(6,"li"),c.\u0275\u0275text(7,"3 Item"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(8,"li"),c.\u0275\u0275text(9,"4 Item"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(10,"li"),c.\u0275\u0275text(11,"5 Item"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(12,"li"),c.\u0275\u0275text(13,"6 Item"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(14,"li"),c.\u0275\u0275text(15,"7 Item"),c.\u0275\u0275elementEnd()()()),M&2&&(c.\u0275\u0275property("ngStyle",R.styles)("ngClass",R.classes),c.\u0275\u0275attribute("id",R.id))},dependencies:[g.NgClass,g.NgStyle],encapsulation:2})}};As=(0,p.__decorate)([(0,Me.v)({type:"crt.List",reuseStrategy:un.B.Reuse})],As);const Bn=["*"],Lo=rt=>({"actions-menu-button-with-icon":rt});function bd(rt,v){if(rt&1&&c.\u0275\u0275element(0,"mat-icon",11),rt&2){const M=c.\u0275\u0275nextContext(2);c.\u0275\u0275property("svgIcon",M.config.trigger.svgIconName)}}function ju(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"span",12),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(M.config.trigger.caption)}}function Bu(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"button",6),c.\u0275\u0275listener("menuOpened",function(){c.\u0275\u0275restoreView(M);const et=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(et.onMenuOpened())}),c.\u0275\u0275template(1,bd,1,1,"mat-icon",7)(2,ju,2,1,"span",8),c.\u0275\u0275elementStart(3,"div",9),c.\u0275\u0275element(4,"div",10),c.\u0275\u0275elementEnd()()}if(rt&2){const M=c.\u0275\u0275nextContext(),R=c.\u0275\u0275reference(4);c.\u0275\u0275property("matMenuTriggerFor",R)("disabled",M.config.trigger.disabled),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",M.config.trigger.svgIconName),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",M.config.trigger.caption)}}function Oc(rt,v){if(rt&1&&c.\u0275\u0275element(0,"mat-divider"),rt&2){const M=c.\u0275\u0275nextContext().index;c.\u0275\u0275styleProp("visibility",M===0?"hidden":"visible")}}function Vb(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"div",15),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext().$implicit;c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(M.caption)}}function Cd(rt,v){if(rt&1&&c.\u0275\u0275element(0,"mat-icon",23),rt&2){const M=c.\u0275\u0275nextContext(3).$implicit;c.\u0275\u0275property("svgIcon",M.svgIconName)}}function gn(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"span",21),c.\u0275\u0275template(1,Cd,1,1,"mat-icon",22),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext(2).$implicit;c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",M.svgIconName)}}function Fb(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"div",16),c.\u0275\u0275listener("click",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext().$implicit,ht=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(ht.onMenuItemContainerClick(et,mt))}),c.\u0275\u0275elementStart(1,"button",17),c.\u0275\u0275listener("click",function(){c.\u0275\u0275restoreView(M);const et=c.\u0275\u0275nextContext().$implicit,mt=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(mt.onMenuItemClick(et))}),c.\u0275\u0275elementStart(2,"div",18),c.\u0275\u0275template(3,gn,2,1,"span",19),c.\u0275\u0275elementStart(4,"span",20),c.\u0275\u0275text(5),c.\u0275\u0275elementEnd()()()()}if(rt&2){const M=c.\u0275\u0275nextContext().$implicit,R=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275property("disabled",R.isMenuItemDisabled(M))("ngClass",c.\u0275\u0275pureFunction1(4,Lo,R.hasIcons())),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",R.hasIcons()),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(M.caption)}}function Xr(rt,v){if(rt&1&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275template(1,Oc,1,2,"mat-divider",13)(2,Vb,2,1,"div",14)(3,Fb,6,6,"ng-template",null,1,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementContainerEnd()),rt&2){const M=v.$implicit,R=c.\u0275\u0275reference(4),et=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",M.code===et.dividerItemCode)("ngIfElse",R),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",M.code===et.dividerItemCode&&M.caption)}}const Cr={code:"__divider",caption:null};Object.freeze(Cr);class Xi{constructor(){this.menuItemClick=new c.EventEmitter}static{this.\u0275fac=function(M){return new(M||Xi)}}static{this.\u0275dir=c.\u0275\u0275defineDirective({type:Xi,outputs:{menuItemClick:"menuItemClick"}})}}class zn extends Xi{constructor(){super(...arguments),this.dividerItemCode=Cr.code}isMenuItemDisabled(v){return v.disabled===!0}onMenuItemClick(v){v.handler&&v.handler(),this.menuItemClick.emit(v.code)}onMenuItemContainerClick(v,M){this.isMenuItemDisabled(M)&&v.stopPropagation()}hasIcons(){return this.config?.menuItems?.some(v=>v.svgIconName)}trackByCode(v,M){return M.code}onMenuOpened(){this.visibleMenuItems=this.config?.menuItems?.filter(v=>!v.hidden)??[]}static{this.\u0275fac=(()=>{let v;return function(R){return(v||(v=c.\u0275\u0275getInheritedFactory(zn)))(R||zn)}})()}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:zn,selectors:[["ts-actions-menu"]],inputs:{config:"config"},features:[c.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Bn,decls:6,vars:7,consts:[["menu","matMenu"],["menuItem",""],[1,"actions-menu-trigger-wrapper",3,"menuOpened","matMenuTriggerFor"],["mat-button","","class","actions-menu-trigger default",3,"matMenuTriggerFor","disabled","menuOpened",4,"ngIf"],[1,"actions-menu-panel",3,"overlapTrigger"],[4,"ngFor","ngForOf","ngForTrackBy"],["mat-button","",1,"actions-menu-trigger","default",3,"menuOpened","matMenuTriggerFor","disabled"],["class","actions-menu-trigger-icon",3,"svgIcon",4,"ngIf"],["class","actions-menu-trigger-caption",4,"ngIf"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[1,"actions-menu-trigger-icon",3,"svgIcon"],[1,"actions-menu-trigger-caption"],[3,"visibility",4,"ngIf","ngIfElse"],["class","menu-divider-caption",4,"ngIf"],[1,"menu-divider-caption"],[3,"click"],["mat-menu-item","",3,"click","disabled","ngClass"],[1,"actions-menu-item-button-content"],["class","actions-menu-item-icon-wrapper",4,"ngIf"],[1,"actions-menu-item-text"],[1,"actions-menu-item-icon-wrapper"],[3,"svgIcon",4,"ngIf"],[3,"svgIcon"]],template:function(M,R){if(M&1){const et=c.\u0275\u0275getCurrentView();c.\u0275\u0275projectionDef(),c.\u0275\u0275elementStart(0,"div",2),c.\u0275\u0275listener("menuOpened",function(){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onMenuOpened())}),c.\u0275\u0275projection(1),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(2,Bu,5,4,"button",3),c.\u0275\u0275elementStart(3,"mat-menu",4,0),c.\u0275\u0275template(5,Xr,5,3,"ng-container",5),c.\u0275\u0275elementEnd()}if(M&2){const et=c.\u0275\u0275reference(4);c.\u0275\u0275property("matMenuTriggerFor",et),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",R.config==null?null:R.config.trigger),c.\u0275\u0275advance(),c.\u0275\u0275classMap(R.config==null?null:R.config.cssClasses),c.\u0275\u0275property("overlapTrigger",R.config==null?null:R.config.overlapTrigger),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngForOf",R.visibleMenuItems)("ngForTrackBy",R.trackByCode)}},dependencies:[g.NgClass,g.NgForOf,g.NgIf,h.MatLegacyButton,E.MatDivider,w.MatIcon,A.MatLegacyMenu,A.MatLegacyMenuItem,A.MatLegacyMenuTrigger],styles:[`ts-actions-menu .actions-menu-trigger-wrapper{display:flex;align-items:center}.mat-menu-content .menu-divider-caption{padding:0 16px;text-transform:uppercase;font-size:14px;color:#4b7fc7;height:33px;line-height:33px}.actions-menu-panel{max-width:500px!important}.actions-menu-panel button.mat-menu-item{height:33px!important;line-height:33px!important;padding-right:30px}.actions-menu-panel button.mat-menu-item.actions-menu-button-with-icon{padding-left:12px!important}.actions-menu-panel button.mat-menu-item .actions-menu-item-button-content{display:flex;flex-direction:row;align-items:center}.actions-menu-panel button.mat-menu-item .actions-menu-item-button-content .actions-menu-item-icon-wrapper{width:16px;height:16px;padding-right:8px;line-height:16px}.actions-menu-panel button.mat-menu-item .actions-menu-item-button-content .actions-menu-item-icon-wrapper mat-icon{width:16px;height:16px;margin:0!important}.actions-menu-panel mat-divider{margin:5px 12px}
`],encapsulation:2,changeDetection:0})}}var Ls=o(38892),x_=o(81398);function qr(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"mat-checkbox",1),c.\u0275\u0275listener("change",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(mt.setValue(et.checked))}),c.\u0275\u0275elementEnd()}if(rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275property("disabled",M.isDisabled())("checked",M.getValue())("matTooltip",M.getTooltipText())}}class ko extends Ls.P{constructor(v){super(v),this.cellComponentClass=ks,this.valueType=be.r.Boolean}}class ks extends x_.P{isDisabled(){const v=this.columnDataSchema.disabled;return typeof v=="function"?v(this.record):v}getTooltipText(){const v=this.columnDataSchema.tooltip;return typeof v=="function"?v(this.record):v}static{this.\u0275fac=(()=>{let v;return function(R){return(v||(v=c.\u0275\u0275getInheritedFactory(ks)))(R||ks)}})()}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:ks,selectors:[["ts-checkbox-table-cell"]],features:[c.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[[3,"disabled","checked","matTooltip","change",4,"ngIf"],[3,"change","disabled","checked","matTooltip"]],template:function(M,R){M&1&&c.\u0275\u0275template(0,qr,1,3,"mat-checkbox",0),M&2&&c.\u0275\u0275property("ngIf",!R.isEmpty())},dependencies:[g.NgIf,_.MatLegacyCheckbox,N.MatTooltip],encapsulation:2})}}const to=(rt,v,M)=>({menuItems:rt,overlapTrigger:v,cssClasses:M});class Ti extends Xi{constructor(v,M){super(),this._matIconRegistry=v,this._domSanitizer=M,this.menuItems=[],this.cssClasses="",this.overlapTrigger=!0,this._registerIcons()}_registerIcons(){this._matIconRegistry.addSvgIconLiteral("vertical-dots",this._domSanitizer.bypassSecurityTrustHtml(o(112)))}static{this.\u0275fac=function(M){return new(M||Ti)(c.\u0275\u0275directiveInject(w.MatIconRegistry),c.\u0275\u0275directiveInject(ya.DomSanitizer))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:Ti,selectors:[["ts-compact-actions-menu"]],inputs:{menuItems:"menuItems",cssClasses:"cssClasses",overlapTrigger:"overlapTrigger"},features:[c.\u0275\u0275InheritDefinitionFeature],decls:2,vars:5,consts:[[3,"menuItemClick","config"],["svgIcon","vertical-dots"]],template:function(M,R){M&1&&(c.\u0275\u0275elementStart(0,"ts-actions-menu",0),c.\u0275\u0275listener("menuItemClick",function(mt){return R.menuItemClick.emit(mt)}),c.\u0275\u0275element(1,"mat-icon",1),c.\u0275\u0275elementEnd()),M&2&&c.\u0275\u0275property("config",c.\u0275\u0275pureFunction3(1,to,R.menuItems,R.overlapTrigger,R.cssClasses))},dependencies:[w.MatIcon,zn],styles:["[_nghost-%COMP%]{display:block}mat-icon[_ngcontent-%COMP%]{width:16px;height:16px;cursor:pointer}"],changeDetection:0})}}var S_=o(84323);class Rs{}class qi{constructor(){this._value=new Rs,this.valueChange=new c.EventEmitter}get startDate(){return this._startDate}set startDate(v){v.isSame(this._startDate)||(this._value.startDate=v.toDate(),this._startDate=v)}get endDate(){return this._endDate}set endDate(v){v.isSame(this._endDate)||(this._value.endDate=v.toDate(),this._endDate=v)}set value(v){const M={startDate:(0,S_.ol)(v.startDate),endDate:(0,S_.D0)(v.endDate)};this._value=M,this._startDate=Po()(M.startDate),this._endDate=Po()(M.endDate)}get value(){return this._value}onValueChanged(){this.value.endDate=(0,S_.D0)(this.value.endDate),this.valueChange.emit(this.value)}static{this.\u0275fac=function(M){return new(M||qi)}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:qi,selectors:[["ts-date-range"]],inputs:{startDateRequired:"startDateRequired",endDateRequired:"endDateRequired",maxDate:"maxDate",value:"value"},outputs:{valueChange:"valueChange"},decls:15,vars:14,consts:[["startDatePicker",""],["endDatePicker",""],["floatLabel","never",1,"date-picker"],["matInput","",3,"ngModelChange","dateChange","max","matDatepicker","ngModel","disabled"],["matSuffix","",3,"for"],["svgIcon","start-date","matDatepickerToggleIcon","",1,"date-picker-icon"],["disabled","false"],[1,"period-separator"],["matInput","",3,"ngModelChange","dateChange","min","max","matDatepicker","ngModel","disabled"],["svgIcon","end-date","matDatepickerToggleIcon","",1,"date-picker-icon"]],template:function(M,R){if(M&1){const et=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"mat-form-field",2)(1,"input",3),c.\u0275\u0275twoWayListener("ngModelChange",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275twoWayBindingSet(R.startDate,ht)||(R.startDate=ht),c.\u0275\u0275resetView(ht)}),c.\u0275\u0275listener("dateChange",function(){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onValueChanged())}),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(2,"mat-datepicker-toggle",4),c.\u0275\u0275element(3,"mat-icon",5),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(4,"mat-datepicker",6,0),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(6,"span",7),c.\u0275\u0275text(7),c.\u0275\u0275pipe(8,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(9,"mat-form-field",2)(10,"input",8),c.\u0275\u0275twoWayListener("ngModelChange",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275twoWayBindingSet(R.endDate,ht)||(R.endDate=ht),c.\u0275\u0275resetView(ht)}),c.\u0275\u0275listener("dateChange",function(){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onValueChanged())}),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(11,"mat-datepicker-toggle",4),c.\u0275\u0275element(12,"mat-icon",9),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(13,"mat-datepicker",6,1),c.\u0275\u0275elementEnd()}if(M&2){const et=c.\u0275\u0275reference(5),mt=c.\u0275\u0275reference(14);c.\u0275\u0275advance(),c.\u0275\u0275property("max",R.value.endDate)("matDatepicker",et),c.\u0275\u0275twoWayProperty("ngModel",R.startDate),c.\u0275\u0275property("disabled",R.startDateRequired),c.\u0275\u0275advance(),c.\u0275\u0275property("for",et),c.\u0275\u0275advance(5),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(8,12,"DateRange.To")),c.\u0275\u0275advance(3),c.\u0275\u0275property("min",R.value.startDate)("max",R.maxDate)("matDatepicker",mt),c.\u0275\u0275twoWayProperty("ngModel",R.endDate),c.\u0275\u0275property("disabled",R.endDateRequired),c.\u0275\u0275advance(),c.\u0275\u0275property("for",mt)}},dependencies:[l.DefaultValueAccessor,l.NgControlStatus,l.NgModel,f.MatDatepicker,f.MatDatepickerInput,f.MatDatepickerToggle,f.MatDatepickerToggleIcon,I.MatLegacyFormField,I.MatLegacySuffix,w.MatIcon,k.MatLegacyInput,B.TranslatePipe],styles:["[_nghost-%COMP%]{display:flex}[_nghost-%COMP%]   .period-separator[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px;padding-top:5px}[_nghost-%COMP%]   .date-picker-icon[_ngcontent-%COMP%]{width:20px!important;height:20px;padding-bottom:4px}[_nghost-%COMP%]   .date-picker-icon[_ngcontent-%COMP%]     svg{width:20px;height:20px}[_nghost-%COMP%]   mat-form-field[_ngcontent-%COMP%]{margin-bottom:-1em}"]})}}var ty=o(91592);class Dc extends ty.X{constructor(){super(...arguments),this.getRegisteredEvents=()=>[{name:"click"}]}static{this.\u0275fac=(()=>{let v;return function(R){return(v||(v=c.\u0275\u0275getInheritedFactory(Dc)))(R||Dc)}})()}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:Dc,selectors:[["ts-delete-button-table-cell"]],features:[c.\u0275\u0275InheritDefinitionFeature],decls:3,vars:3,consts:[["mat-icon-button","",1,"trash-icon",3,"click","title"],["svgIcon","trash"]],template:function(M,R){M&1&&(c.\u0275\u0275elementStart(0,"button",0),c.\u0275\u0275pipe(1,"translate"),c.\u0275\u0275listener("click",function(){return R.fireEvent("click")}),c.\u0275\u0275element(2,"mat-icon",1),c.\u0275\u0275elementEnd()),M&2&&c.\u0275\u0275property("title",c.\u0275\u0275pipeBind1(1,1,"DeleteButtonTableCell.Tooltip"))},dependencies:[h.MatLegacyButton,w.MatIcon,B.TranslatePipe],encapsulation:2})}}var jb=o(45179),w_=o(8883);function zu(rt,v,M){const R=rt.toLowerCase();switch(M){case An.Contains:return R.includes(v);case An.StartsWith:return R.indexOf(v)===0;case An.Equals:return R===v}}function Uu(rt,v=An.Contains){return ea.z.checkArgumentEmpty("columnSelectors",rt),(M,R)=>R?rt.some(et=>{const mt=typeof et=="string"?M[et]:et(M);return!mt||typeof mt!="string"?!1:zu(mt,R,v)}):!0}var Hu=o(74026);const Bb=["tableWrapper"],ey=["tableNgContainer"];function ny(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"div",16)(1,"span",17),c.\u0275\u0275text(2),c.\u0275\u0275pipe(3,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"span",18),c.\u0275\u0275text(5),c.\u0275\u0275elementEnd()()),rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(3,2,"MultiselectDialog.Selected")),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate1(" ",M.selectedValues.length,"")}}function ay(rt,v){rt&1&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275elementStart(1,"span"),c.\u0275\u0275text(2),c.\u0275\u0275pipe(3,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementContainerEnd()),rt&2&&(c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(3,1,"MultiselectDialog.Blankslate")))}function Wu(rt,v){rt&1&&(c.\u0275\u0275elementStart(0,"span"),c.\u0275\u0275text(1),c.\u0275\u0275pipe(2,"translate"),c.\u0275\u0275elementEnd()),rt&2&&(c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(2,1,"MultiselectDialog.BlankslateWithFilters")))}function iy(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"div",19),c.\u0275\u0275template(1,ay,4,3,"ng-container",20)(2,Wu,3,3,"ng-template",null,2,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275reference(3),R=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",!R.searchKey)("ngIfElse",M)}}class Ye{get searchKey(){return this.searchKeyValue}set searchKey(v){this.searchKeyValue=v,this.tableDataSource.filter=v&&v.trim().toLowerCase()}constructor(v,M,R){this._dialogData=v,this._scrollToBottomObserverFactory=M,this._dialogRef=R,this.searchColumns=[],this.tableData=[],this.searchKeyValue="",this.title="",this.selectedValues=[],this.tableDataSource=new Hu.L}renderTableComponent(v){var M=this;return(0,Ot.A)(function*(){yield Promise.all([o.e(2225),o.e(4576)]).then(o.bind(o,24576)).then(R=>{const et=R.TableComponent;M.table=v.createComponent(et).instance,M.table.selectMode=M.selectMode,M.table.dataSchema=M.dataSchema,M.table.dataSource=M.tableDataSource,M.table.sortColumn=M.sortColumn,M.table.sortDirection=M.sortDirection,M.table.showSelectAllButton=M.showSelectAllButton,M.table.headerSticky=!0,M.table.selected=M.selectedValues,M.table.selectedChange.subscribe(mt=>M.selectedValues=mt),M.table.rowDoubleClick.subscribe(mt=>M.closeWithSelection(mt))})})()}initDataSource(){this.tableDataSource.data=this.tableData,this.tableDataSource.filterPredicate=Uu(this.searchColumns)}loadNextData(){this.tableDataSource.loadNext()}ngOnInit(){var v=this;return(0,Ot.A)(function*(){!v._dialogData||!v._dialogData.data||(v.tableData=v._dialogData.data,v.dataSchema=v._dialogData.dataSchema,v.sortDirection=v._dialogData.sortDirection||"asc",v.sortColumn=v._dialogData.sortColumn,v.title=v._dialogData.title||v.title,v.selectMode=v._dialogData.selectMode||"multi",v.showSelectAllButton=v._dialogData.showSelectAllButton!==void 0?v._dialogData.showSelectAllButton:!0,v.searchColumns=v._dialogData.searchColumns||[],v.initDataSource(),yield v.renderTableComponent(v.tableNgContainer))})()}ngAfterViewInit(){const v=this.tableWrapper.nativeElement;v&&(this.scrollTableToBottomObserver=this._scrollToBottomObserverFactory.createObserver(v,this.loadNextData.bind(this)))}isEmpty(){return this.table?this.table.isEmpty():!0}closeWithSelection(v){this.selectMode==="single"&&this._dialogRef.close([v])}static{this.\u0275fac=function(M){return new(M||Ye)(c.\u0275\u0275directiveInject(x.MAT_LEGACY_DIALOG_DATA),c.\u0275\u0275directiveInject(xc.S),c.\u0275\u0275directiveInject(x.MatLegacyDialogRef))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:Ye,selectors:[["ts-multiselect-dialog"]],viewQuery:function(M,R){if(M&1&&(c.\u0275\u0275viewQuery(Bb,7),c.\u0275\u0275viewQuery(ey,7,c.ViewContainerRef)),M&2){let et;c.\u0275\u0275queryRefresh(et=c.\u0275\u0275loadQuery())&&(R.tableWrapper=et.first),c.\u0275\u0275queryRefresh(et=c.\u0275\u0275loadQuery())&&(R.tableNgContainer=et.first)}},decls:22,vars:14,consts:[["tableWrapper",""],["tableNgContainer",""],["blankslateWithFilters",""],["mat-dialog-title",""],[1,"title"],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],[1,"multiselect-dialog-top-panel"],[1,"dialog-filters"],[3,"valueChange","value"],["class","select-counter-container",4,"ngIf"],["mat-dialog-content",""],["class","multiselect-dialog-blank-slate",4,"ngIf"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-flat-button","","color","primary",3,"mat-dialog-close","disabled"],[1,"select-counter-container"],[1,"counter-label"],[1,"counter-value"],[1,"multiselect-dialog-blank-slate"],[4,"ngIf","ngIfElse"]],template:function(M,R){if(M&1){const et=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"div",3)(1,"span",4),c.\u0275\u0275text(2),c.\u0275\u0275pipe(3,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"button",5),c.\u0275\u0275element(5,"mat-icon",6),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(6,"div",7)(7,"div",8)(8,"ts-search-input",9),c.\u0275\u0275twoWayListener("valueChange",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275twoWayBindingSet(R.searchKey,ht)||(R.searchKey=ht),c.\u0275\u0275resetView(ht)}),c.\u0275\u0275elementEnd()(),c.\u0275\u0275template(9,ny,6,4,"div",10),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(10,"div",11,0),c.\u0275\u0275elementContainer(12,null,1),c.\u0275\u0275template(14,iy,4,2,"div",12),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(15,"div",13)(16,"button",14),c.\u0275\u0275text(17),c.\u0275\u0275pipe(18,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(19,"button",15),c.\u0275\u0275text(20),c.\u0275\u0275pipe(21,"translate"),c.\u0275\u0275elementEnd()()}M&2&&(c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(3,8,R.title||"MultiselectDialog.Select")),c.\u0275\u0275advance(6),c.\u0275\u0275twoWayProperty("value",R.searchKey),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",R.selectMode==="multi"),c.\u0275\u0275advance(5),c.\u0275\u0275property("ngIf",R.isEmpty()),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(18,10,"MultiselectDialog.Cancel")),c.\u0275\u0275advance(2),c.\u0275\u0275property("mat-dialog-close",R.selectedValues)("disabled",R.selectedValues.length==0),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(21,12,"MultiselectDialog.Select")))},dependencies:[g.NgIf,h.MatLegacyButton,x.MatLegacyDialogClose,x.MatLegacyDialogTitle,x.MatLegacyDialogContent,x.MatLegacyDialogActions,w.MatIcon,Si,B.TranslatePipe],styles:["[_nghost-%COMP%]{padding:4px 10px;width:834px;max-width:100%;min-width:420px;box-sizing:border-box}[mat-dialog-title][_ngcontent-%COMP%]{display:flex}[mat-dialog-title][_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:calc(100% - 20px);display:inline-block;overflow:hidden;text-overflow:ellipsis}.multiselect-dialog-top-panel[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;font-size:14px;font-family:Bpmonline Open Sans,serif;line-height:19px;margin-top:20px;margin-bottom:5px}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .dialog-filters[_ngcontent-%COMP%]{flex-grow:1}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .dialog-filters[_ngcontent-%COMP%]   ts-search-input[_ngcontent-%COMP%]{width:max(40%,300px)}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .select-counter-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .select-counter-container[_ngcontent-%COMP%]   .counter-label[_ngcontent-%COMP%]{font-size:13px;color:#757575}.multiselect-dialog-top-panel[_ngcontent-%COMP%]   .select-counter-container[_ngcontent-%COMP%]   .counter-value[_ngcontent-%COMP%]{padding-left:3px;font-size:14px;color:#444}[mat-dialog-content][_ngcontent-%COMP%]{overflow:auto!important;max-height:55vh!important;min-height:267px;height:862px}[mat-dialog-content][_ngcontent-%COMP%]   .multiselect-dialog-blank-slate[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:14px;color:#999;text-align:center}[mat-dialog-actions][_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end}"]})}}var Ns=o(89684),ry=o(75956);function oy(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"a",6),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),rt&2){const M=v.$implicit,R=c.\u0275\u0275nextContext(2).$implicit,et=c.\u0275\u0275nextContext();c.\u0275\u0275property("routerLink",M),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(et.formatTextValue(R,et.columnDataSchema.valueType))}}function sy(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"span"),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext(2).$implicit,R=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(R.formatTextValue(M,R.columnDataSchema.valueType))}}function cy(rt,v){if(rt&1&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275template(1,oy,2,2,"a",5)(2,sy,2,1,"ng-template",null,0,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementContainerEnd()),rt&2){const M=c.\u0275\u0275reference(3),R=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",R.columnDataSchema.linkGenerator&&R.columnDataSchema.linkGenerator(R.record))("ngIfElse",M)}}function ly(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"div",2),c.\u0275\u0275element(1,"span",3),c.\u0275\u0275template(2,cy,4,2,"ng-container",4),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",M.isDisplayedAsText())}}class Ac extends ry.U{getValue(){if(!this.isDisplayedAsText())throw new Ns.K("Only text columns can be displayed via NamedFolderTableCellComponent.");return super.getValue()}static{this.\u0275fac=(()=>{let v;return function(R){return(v||(v=c.\u0275\u0275getInheritedFactory(Ac)))(R||Ac)}})()}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:Ac,selectors:[["ts-named-folder-table-cell"]],features:[c.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["elseBlock",""],["class","named-folder-cell-wrapper",4,"ngIf"],[1,"named-folder-cell-wrapper"],[1,"folder-icon"],[4,"ngIf"],[3,"routerLink",4,"ngIf","ngIfElse"],[3,"routerLink"]],template:function(M,R){M&1&&c.\u0275\u0275template(0,ly,3,1,"div",1),M&2&&c.\u0275\u0275property("ngIf",!R.isEmpty()&&R.getValue())},dependencies:[g.NgIf,L.RouterLink],styles:[".named-folder-cell-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center}.named-folder-cell-wrapper[_ngcontent-%COMP%]   .folder-icon[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;margin-right:8px;background:url(folder-icon.svg) no-repeat}"]})}}var Lc;(function(rt){rt.All="0",rt.Section="1",rt.Lookup="2"})(Lc||(Lc={}));class yd{constructor(){this.value=Lc.All,this.valueChange=new c.EventEmitter}onValueChanged(v){this.value=v.value,this.valueChange.emit(this.value)}static{this.\u0275fac=function(M){return new(M||yd)}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:yd,selectors:[["ts-object-type-filter"]],inputs:{value:"value"},outputs:{valueChange:"valueChange"},decls:22,vars:14,consts:[["typeViewFilter",""],[1,"type-filter"],["disableOptionCentering","true",3,"valueChange","selectionChange","value"],[1,"filter-type-caption"],["value","0",1,"type-mat-option"],[1,"filter-type-icon","filter-type-icon-0"],["value","1",1,"type-mat-option"],[1,"filter-type-icon","filter-type-icon-1"],["value","2",1,"type-mat-option"],[1,"filter-type-icon","filter-type-icon-2"]],template:function(M,R){if(M&1){const et=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"mat-form-field",1)(1,"mat-select",2,0),c.\u0275\u0275twoWayListener("valueChange",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275twoWayBindingSet(R.value,ht)||(R.value=ht),c.\u0275\u0275resetView(ht)}),c.\u0275\u0275listener("selectionChange",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onValueChanged(ht))}),c.\u0275\u0275elementStart(3,"mat-select-trigger"),c.\u0275\u0275element(4,"span"),c.\u0275\u0275elementStart(5,"span",3),c.\u0275\u0275text(6),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(7,"mat-option",4),c.\u0275\u0275element(8,"span",5),c.\u0275\u0275elementStart(9,"span"),c.\u0275\u0275text(10),c.\u0275\u0275pipe(11,"translate"),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(12,"mat-option",6),c.\u0275\u0275element(13,"span",7),c.\u0275\u0275elementStart(14,"span"),c.\u0275\u0275text(15),c.\u0275\u0275pipe(16,"translate"),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(17,"mat-option",8),c.\u0275\u0275element(18,"span",9),c.\u0275\u0275elementStart(19,"span"),c.\u0275\u0275text(20),c.\u0275\u0275pipe(21,"translate"),c.\u0275\u0275elementEnd()()()()}if(M&2){const et=c.\u0275\u0275reference(2);c.\u0275\u0275advance(),c.\u0275\u0275twoWayProperty("value",R.value),c.\u0275\u0275advance(3),c.\u0275\u0275classMapInterpolate1("filter-type-icon filter-type-icon-",R.value,""),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(et.triggerValue),c.\u0275\u0275advance(4),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(11,8,"ObjectTypeFilter.AllObjects")),c.\u0275\u0275advance(5),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(16,10,"ObjectTypeFilter.Sections")),c.\u0275\u0275advance(5),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(21,12,"ObjectTypeFilter.Lookups"))}},dependencies:[Fa.MatLegacyOption,I.MatLegacyFormField,F.MatLegacySelect,F.MatLegacySelectTrigger,B.TranslatePipe],styles:["[_nghost-%COMP%]{line-height:16px;padding:4px 10px 0 0;min-width:100px}.filter-type-icon[_ngcontent-%COMP%]{width:16px;height:16px;background-repeat:no-repeat;margin-right:6px;display:inline-block}.filter-type-icon.filter-type-icon-0[_ngcontent-%COMP%]{background-image:url(filter_objects.svg)}.filter-type-icon.filter-type-icon-1[_ngcontent-%COMP%]{background-image:url(filter_sections.svg)}.filter-type-icon.filter-type-icon-2[_ngcontent-%COMP%]{background-image:url(filter_lookups.svg)}"]})}}function kc(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"mat-option",14),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),rt&2){const M=v.$implicit;c.\u0275\u0275property("value",M),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate1(" ",M.caption," ")}}class vd{constructor(v,M){this.entitySchemaService=v,this.data=M,this.isLoading=!1}_prepareEntityColumns(v){if(!v||!v.success){this.isLoading=!1;return}this.entitySchemaColumns=v.entitySchema.columns,this.entitySchemaColumns.sort((M,R)=>M.caption<R.caption?-1:1),this.data&&this.data.excludeFilter&&(this.entitySchemaColumns=this.entitySchemaColumns.filter(this.data.excludeFilter)),this.isLoading=!1}ngOnInit(){!this.data||!this.data.entitySchemaUId||(this.isLoading=!0,this.entitySchemaService.getEntitySchemaByUId(this.data.entitySchemaUId).subscribe(this._prepareEntityColumns.bind(this)))}onFilteredEntitySchemaColumnSelected(v){const M=v.option.value;this.selectedColumn=M}getEntitySchemaColumnCaption(v){return v&&v.caption}search(v){if(!v){this.filteredEntitySchemaColumns=this.entitySchemaColumns;return}v=v.toLowerCase(),this.filteredEntitySchemaColumns=this.entitySchemaColumns.filter(M=>M.caption.toLowerCase().indexOf(v)!==-1)}static{this.\u0275fac=function(M){return new(M||vd)(c.\u0275\u0275directiveInject(ct.e),c.\u0275\u0275directiveInject(x.MAT_LEGACY_DIALOG_DATA))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:vd,selectors:[["ts-select-entity-schema-column-dialog"]],decls:22,vars:17,consts:[["auto","matAutocomplete"],["mat-dialog-title",""],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],["mat-dialog-actions",""],["mat-flat-button","","color","accent",3,"mat-dialog-close","disabled"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-dialog-content",""],["floatLabel","never",1,"entity-schema-column"],["type","text","matInput","",3,"input","focus","placeholder","matAutocomplete"],["matSuffix","",1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[3,"optionSelected","displayWith"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(M,R){if(M&1){const et=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"div",1)(1,"span"),c.\u0275\u0275text(2),c.\u0275\u0275pipe(3,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"button",2),c.\u0275\u0275element(5,"mat-icon",3),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(6,"div",4)(7,"button",5),c.\u0275\u0275text(8),c.\u0275\u0275pipe(9,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(10,"button",6),c.\u0275\u0275text(11),c.\u0275\u0275pipe(12,"translate"),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(13,"div",7)(14,"mat-form-field",8)(15,"input",9),c.\u0275\u0275pipe(16,"translate"),c.\u0275\u0275listener("input",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.search(ht.target.value))})("focus",function(){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.search(""))}),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(17,"div",10),c.\u0275\u0275element(18,"div",11),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(19,"mat-autocomplete",12,0),c.\u0275\u0275listener("optionSelected",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onFilteredEntitySchemaColumnSelected(ht))}),c.\u0275\u0275template(21,kc,2,2,"mat-option",13),c.\u0275\u0275elementEnd()()}if(M&2){const et=c.\u0275\u0275reference(20);c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(3,9,"SelectEntitySchemaColumnDialog.Title")),c.\u0275\u0275advance(5),c.\u0275\u0275property("mat-dialog-close",R.selectedColumn)("disabled",!R.selectedColumn),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(9,11,"SelectEntitySchemaColumnDialog.Select")),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(12,13,"SelectEntitySchemaColumnDialog.Cancel")),c.\u0275\u0275advance(4),c.\u0275\u0275property("placeholder",c.\u0275\u0275pipeBind1(16,15,"SelectEntitySchemaColumnDialog.SelectFieldPlaceholder"))("matAutocomplete",et),c.\u0275\u0275advance(4),c.\u0275\u0275property("displayWith",R.getEntitySchemaColumnCaption),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngForOf",R.filteredEntitySchemaColumns)}},dependencies:[g.NgForOf,m.MatLegacyAutocomplete,m.MatLegacyAutocompleteTrigger,Fa.MatLegacyOption,h.MatLegacyButton,x.MatLegacyDialogClose,x.MatLegacyDialogTitle,x.MatLegacyDialogContent,x.MatLegacyDialogActions,I.MatLegacyFormField,I.MatLegacySuffix,w.MatIcon,k.MatLegacyInput,B.TranslatePipe],styles:["[_nghost-%COMP%]{padding:4px 10px 0;min-width:420px;min-height:136px}[mat-dialog-actions][_ngcontent-%COMP%]{margin-bottom:23px!important}[mat-dialog-content][_ngcontent-%COMP%]   .field-title[_ngcontent-%COMP%]{font-family:Bpmonline Open Sans,serif;color:#444;font-size:14px;line-height:18px;text-align:left}[mat-dialog-content][_ngcontent-%COMP%]   .entity-schema-column[_ngcontent-%COMP%]{width:100%;line-height:19px;font-size:14px}[mat-dialog-content][_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%;line-height:18px!important}"]})}}var zb=o(33707);function Rc(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"span",7),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(M.data.additionalText)}}function Un(rt,v){if(rt&1&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275elementStart(1,"button",8),c.\u0275\u0275text(2),c.\u0275\u0275pipe(3,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"button",9),c.\u0275\u0275text(5),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementContainerEnd()),rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275property("mat-dialog-close",!1),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(3,4,"ValidationErrorDialogComponent.Cancel")),c.\u0275\u0275advance(2),c.\u0275\u0275property("mat-dialog-close",!0),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(M.data.continueButtonCaption)}}function Wv(rt,v){rt&1&&(c.\u0275\u0275elementStart(0,"button",8),c.\u0275\u0275text(1),c.\u0275\u0275pipe(2,"translate"),c.\u0275\u0275elementEnd()),rt&2&&(c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(2,1,"ValidationErrorDialogComponent.Close")))}class yr{constructor(v){this.data=v}static{this.\u0275fac=function(M){return new(M||yr)(c.\u0275\u0275directiveInject(x.MAT_LEGACY_DIALOG_DATA))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:yr,selectors:[["ts-validation-error-dialog"]],decls:11,vars:5,consts:[["withoutContinue",""],["mat-dialog-title",""],["mat-dialog-content",""],["class","validation-dialog-additional-text",4,"ngIf"],[1,"validation-dialog-error"],["mat-dialog-actions",""],[4,"ngIf","ngIfElse"],[1,"validation-dialog-additional-text"],["mat-flat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(M,R){if(M&1&&(c.\u0275\u0275elementStart(0,"div",1)(1,"span"),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(3,"div",2),c.\u0275\u0275template(4,Rc,2,1,"span",3),c.\u0275\u0275elementStart(5,"span",4),c.\u0275\u0275text(6),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(7,"div",5),c.\u0275\u0275template(8,Un,6,6,"ng-container",6)(9,Wv,3,3,"ng-template",null,0,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementEnd()),M&2){const et=c.\u0275\u0275reference(10);c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(R.data.title),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",R.data.additionalText),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(R.data.validationError),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",R.data.continueButtonCaption)("ngIfElse",et)}},dependencies:[g.NgIf,h.MatLegacyButton,x.MatLegacyDialogClose,x.MatLegacyDialogTitle,x.MatLegacyDialogContent,x.MatLegacyDialogActions,B.TranslatePipe],styles:[`ts-validation-error-dialog{margin:0!important;padding:0 6px;width:720px}ts-validation-error-dialog [mat-dialog-actions]{float:right}ts-validation-error-dialog [mat-dialog-content] .validation-dialog-error,ts-validation-error-dialog [mat-dialog-content] .validation-dialog-additional-text{white-space:pre-wrap}ts-validation-error-dialog [mat-dialog-content] .validation-dialog-error{font-family:monospace;font-size:13px}
`],encapsulation:2})}}var Gu=o(98297);function $u(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"mat-option",9),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),rt&2){const M=v.$implicit,R=c.\u0275\u0275nextContext();c.\u0275\u0275property("value",M),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate1(" ",R.selectDisplayValue(M)," ")}}class vr{constructor(){this.label="",this.selectedItem=null,this.selectedItemChange=new c.EventEmitter,this.list=[],this.fieldFocus=new c.EventEmitter,this.disabled="false"}_filterList(v){v?this.filteredList=this.list.filter(M=>M.displayValue.toLowerCase().indexOf(v.toLowerCase())>=0):this.filteredList=this.list}ngOnInit(){console.warn('Component "ComboboxEditComponent" is deprecated and will removed in future versions'),this.list$&&this.list$.pipe((0,Et.map)(v=>this.list=v)).subscribe()}selectDisplayValue(v){return v&&v.displayValue||""}onOptionSelected(v){const M=v.option.value;this.selectedItem=M,this.selectedItemChange.emit(M)}onFieldInput(v){this._filterList(v.target.value)}onFieldFocus(){this.filteredList=this.list,this.fieldFocus.emit()}onAutocompleteClosed(v){this.list.some(R=>R.displayValue.toLowerCase()===v.toLowerCase())||(this.selectedItem=null,this.selectedItemChange.emit(null),this._filterList(""))}static{this.\u0275fac=function(M){return new(M||vr)}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:vr,selectors:[["ts-combobox-edit"]],inputs:{label:"label",selectedItem:"selectedItem",list$:"list$",disabled:"disabled"},outputs:{selectedItemChange:"selectedItemChange",fieldFocus:"fieldFocus"},decls:11,vars:6,consts:[["input",""],["auto","matAutocomplete"],["floatLabel","always",1,"combobox-edit"],[1,"combobox-edit-search-input"],["type","text","matInput","","spellcheck","false",3,"input","focus","matAutocomplete","value","disabled"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],[3,"optionSelected","closed","displayWith"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(M,R){if(M&1){const et=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"mat-form-field",2)(1,"mat-label"),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"div",3)(4,"input",4,0),c.\u0275\u0275listener("input",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onFieldInput(ht))})("focus",function(){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onFieldFocus())}),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(6,"div",5),c.\u0275\u0275element(7,"div",6),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(8,"mat-autocomplete",7,1),c.\u0275\u0275listener("optionSelected",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onOptionSelected(ht))})("closed",function(){c.\u0275\u0275restoreView(et);const ht=c.\u0275\u0275reference(5);return c.\u0275\u0275resetView(R.onAutocompleteClosed(ht.value))}),c.\u0275\u0275template(10,$u,2,2,"mat-option",8),c.\u0275\u0275elementEnd()()()}if(M&2){const et=c.\u0275\u0275reference(9);c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(R.label),c.\u0275\u0275advance(2),c.\u0275\u0275property("matAutocomplete",et)("value",R.selectDisplayValue(R.selectedItem))("disabled",R.disabled),c.\u0275\u0275advance(4),c.\u0275\u0275property("displayWith",R.selectDisplayValue),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngForOf",R.filteredList)}},dependencies:[g.NgForOf,m.MatLegacyAutocomplete,m.MatLegacyAutocompleteTrigger,Fa.MatLegacyOption,I.MatLegacyFormField,I.MatLegacyLabel,k.MatLegacyInput],styles:[".combobox-edit[_ngcontent-%COMP%]{width:100%}.combobox-edit[_ngcontent-%COMP%]   .combobox-edit-search-input[_ngcontent-%COMP%]{width:100%;display:inline-flex;align-items:center}"]})}}var Vs=o(11587),Md=o(34760);const Ku=new c.InjectionToken("Represents a set of configuration properties for getting resources");class Ro{constructor(v,M,R){this._getResourcesEventName=v,this._setResourcesEventName=M,this._defaultResources=R}get defaultResources(){return this._defaultResources}get getResourcesEventName(){return ea.z.checkStringIsNotEmpty("getResourcesEventName",this._getResourcesEventName)}get setResourcesEventName(){return ea.z.checkStringIsNotEmpty("setResourcesEventName",this._setResourcesEventName)}}class Ri{constructor(v,M){this._customEventService=v,this._destroyed$=new wt.Subject,this._defaultResources=this._getSafeResources(M.defaultResources),this._setResourcesEventName=M.setResourcesEventName,this._getResourcesEventName=M.getResourcesEventName}_getSafeResources(v){return v=v||{},v.localizableStrings=v.localizableStrings||{},v}getResources(){const v=new wt.ReplaySubject;return this._customEventService.subscribe(this._setResourcesEventName).pipe((0,Et.take)(1),(0,Et.map)(M=>this._getSafeResources(M)),(0,Et.map)(M=>(0,Ie.merge)(this._defaultResources,M)),(0,Et.takeUntil)(this._destroyed$)).subscribe(M=>{v.next(M),v.complete()}),this._customEventService.createOutboundChannel(this._getResourcesEventName).next({}),v}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(M){return new(M||Ri)(c.\u0275\u0275inject(G.Dj),c.\u0275\u0275inject(Ku))}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:Ri,factory:Ri.\u0275fac})}}class eo{constructor(v,M){this._value=v,this._property=M}get property(){return this._property}get value(){return this._value}canMatchItem(v){if(!v)return!1;const M=v[this.property],R=M!=null,et=typeof M===this._value.constructor.name.toLowerCase();return R&&et}isItemMatch(v){return this.canMatchItem(v)&&this.isValueMatch(v[this.property])}}class no extends eo{static{this.DEFAULT_PROPERTY="caption"}constructor(v,M){super(v,M||no.DEFAULT_PROPERTY)}isValueMatch(v){const M=v.toLowerCase(),R=this.value.toLowerCase(),et=(0,Ie.compact)(M.split(" "));return(0,Ie.compact)(R.split(" ")).every(ht=>et.find(pe=>pe.includes(ht)))}}class Fs extends eo{isValueMatch(v){return v===this.value}}class tr{_isFilterNotFalsy(v){return v&&v.value!==null&&v.value!==void 0}transform(v,M){if(!v)return[];if(!M)return v;let R=[...v];return M.filter(this._isFilterNotFalsy).forEach(mt=>{R=R.filter(ht=>mt.isItemMatch(ht))}),R}static{this.\u0275fac=function(M){return new(M||tr)}}static{this.\u0275pipe=c.\u0275\u0275definePipe({name:"filter",type:tr,pure:!0})}}function dn(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"button",10),c.\u0275\u0275listener("click",function(){c.\u0275\u0275restoreView(M);const et=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(et.filteringValue="")}),c.\u0275\u0275element(1,"mat-icon",11),c.\u0275\u0275pipe(2,"async"),c.\u0275\u0275elementEnd()}if(rt&2){let M;const R=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275property("title",(M=c.\u0275\u0275pipeBind1(2,1,R.localizableStrings$))==null?null:M.ClearButtonTitle)}}function js(rt,v){rt&1&&c.\u0275\u0275element(0,"mat-icon",12)}function Bs(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"mat-list-item",16),c.\u0275\u0275listener("click",function(){const et=c.\u0275\u0275restoreView(M).$implicit,mt=c.\u0275\u0275nextContext(3);return c.\u0275\u0275resetView(mt.onItemSelected(et))}),c.\u0275\u0275elementStart(1,"button",17),c.\u0275\u0275pipe(2,"async"),c.\u0275\u0275pipe(3,"async"),c.\u0275\u0275listener("click",function(et){const mt=c.\u0275\u0275restoreView(M).$implicit,ht=c.\u0275\u0275nextContext(3);return c.\u0275\u0275resetView(ht.toggleFavorite(mt,et))}),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"div",18),c.\u0275\u0275text(5),c.\u0275\u0275elementEnd()()}if(rt&2){let M;const R=v.$implicit,et=c.\u0275\u0275nextContext(3);c.\u0275\u0275classProp("active",R.isActive),c.\u0275\u0275attribute("data-qa",R.caption),c.\u0275\u0275advance(),c.\u0275\u0275property("ngClass",R.isFavorite?et.favoriteCssClass:et.regularCssClass)("title",R.isFavorite?(M=c.\u0275\u0275pipeBind1(2,6,et.localizableStrings$))==null?null:M.RemoveFromFavoriteButtonTitle:(M=c.\u0275\u0275pipeBind1(3,8,et.localizableStrings$))==null?null:M.AddToFavoriteButtonTitle),c.\u0275\u0275advance(4),c.\u0275\u0275textInterpolate1(" ",R.caption," ")}}function Id(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"div",14),c.\u0275\u0275template(1,Bs,6,10,"mat-list-item",15),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext().ngIf;c.\u0275\u0275advance(),c.\u0275\u0275property("ngForOf",M)}}function dy(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"div",19),c.\u0275\u0275element(1,"div",20),c.\u0275\u0275elementStart(2,"div",21),c.\u0275\u0275text(3),c.\u0275\u0275pipe(4,"async"),c.\u0275\u0275elementEnd()()),rt&2){let M;const R=c.\u0275\u0275nextContext(2);c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate1(" ",(M=c.\u0275\u0275pipeBind1(4,1,R.localizableStrings$))==null?null:M.NoDataPlaceholder," ")}}function py(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"mat-action-list"),c.\u0275\u0275template(1,Id,2,1,"div",13)(2,dy,5,3,"ng-template",null,1,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementEnd()),rt&2){const M=v.ngIf,R=c.\u0275\u0275reference(3);c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",M.length>0)("ngIfElse",R)}}let Pi=class Lv extends Ma.K{constructor(v,M,R){super(R),this._resourcesService=v,this._changeDetector=M,this._filters=[],this.regularCssClass="regular",this.favoriteCssClass="favorite",this.filteringValue="",this.displayOnlyFavorites=!1,this.items=[],this.itemSelected=new c.EventEmitter,this.favoriteStateChanged=new c.EventEmitter}get _searchFilter(){return new no(this.filteringValue)}get _favoritesFilter(){return new Fs(this.displayOnlyFavorites,"isFavorite")}get filters(){return this._filters=[this._searchFilter],this.displayOnlyFavorites&&this._filters.push(this._favoritesFilter),this._filters}get localizableStrings$(){return this._resources$.pipe((0,Et.map)(v=>v.localizableStrings))}ngOnInit(){this._resources$=this._resourcesService.getResources()}onItemSelected(v){const M={id:v.id};this.itemSelected.emit(M)}toggleFavorite(v,M){M.stopPropagation();const{id:R,isFavorite:et}=v,mt={id:R,isFavorite:!et};this.favoriteStateChanged.emit(mt)}onFilteringValueChanged(v){this.filteringValue=v,this._changeDetector.detectChanges()}toggleDisplayOnlyFavorites(){this.displayOnlyFavorites=!this.displayOnlyFavorites,this._changeDetector.detectChanges()}static{this.\u0275fac=function(M){return new(M||Lv)(c.\u0275\u0275directiveInject(Ri),c.\u0275\u0275directiveInject(c.ChangeDetectorRef),c.\u0275\u0275directiveInject(c.Injector))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:Lv,selectors:[["ts-filterable-list"]],inputs:{items:"items"},outputs:{itemSelected:"itemSelected",favoriteStateChanged:"favoriteStateChanged"},features:[c.\u0275\u0275InheritDefinitionFeature],decls:14,vars:17,consts:[["searchIcon",""],["noData",""],[1,"filterable-list-container",3,"ngStyle","ngClass"],[1,"filter-input-container"],[1,"display-only-favorites-button-container"],["mat-icon-button","","data-qa","filter-favorite-btn",3,"click","ngClass","title"],["floatLabel","never"],["matInput","","type","text","spellcheck","false","autocomplete","off","data-qa","search-input",3,"input","value","placeholder"],["matSuffix","","mat-icon-button","","aria-label","Clear","data-qa","clear-filter-btn",3,"click",4,"ngIf","ngIfElse"],[4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear","data-qa","clear-filter-btn",3,"click"],["matSuffix","",1,"clear-icon",3,"title"],["matSuffix","",1,"search-icon"],["class","items-list",4,"ngIf","ngIfElse"],[1,"items-list"],["disableRipple","",3,"active","click",4,"ngFor","ngForOf"],["disableRipple","",3,"click"],["mat-icon-button","","data-qa","favorite-btn",3,"click","ngClass","title"],[1,"item-caption"],["data-qa","blank-slate",1,"blank-slate"],["data-qa","blank-slate-icon",1,"icon"],["data-qa","blank-slate-label",1,"label"]],template:function(M,R){if(M&1){const et=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"div",2)(1,"div")(2,"div",3)(3,"div",4)(4,"button",5),c.\u0275\u0275pipe(5,"async"),c.\u0275\u0275listener("click",function(){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.toggleDisplayOnlyFavorites())}),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(6,"mat-form-field",6)(7,"input",7),c.\u0275\u0275pipe(8,"async"),c.\u0275\u0275listener("input",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onFilteringValueChanged(ht.target.value))}),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(9,dn,3,3,"button",8)(10,js,1,0,"ng-template",null,0,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementEnd()()(),c.\u0275\u0275template(12,py,4,2,"mat-action-list",9),c.\u0275\u0275pipe(13,"filter"),c.\u0275\u0275elementEnd()}if(M&2){let et,mt;const ht=c.\u0275\u0275reference(11);c.\u0275\u0275property("ngStyle",R.styles)("ngClass",R.classes),c.\u0275\u0275attribute("id",R.id),c.\u0275\u0275advance(4),c.\u0275\u0275property("ngClass",R.displayOnlyFavorites?R.favoriteCssClass:R.regularCssClass)("title",(et=c.\u0275\u0275pipeBind1(5,10,R.localizableStrings$))==null?null:et.FilterFavoriteTitle),c.\u0275\u0275advance(3),c.\u0275\u0275property("value",R.filteringValue)("placeholder",(mt=c.\u0275\u0275pipeBind1(8,12,R.localizableStrings$))==null?null:mt.SearchPlaceholder),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",R.filteringValue)("ngIfElse",ht),c.\u0275\u0275advance(3),c.\u0275\u0275property("ngIf",c.\u0275\u0275pipeBind2(13,14,R.items,R.filters))}},dependencies:[g.NgClass,g.NgForOf,g.NgIf,g.NgStyle,I.MatLegacyFormField,I.MatLegacySuffix,w.MatIcon,k.MatLegacyInput,Vs.MatActionList,Vs.MatListItem,h.MatLegacyButton,g.AsyncPipe,tr],styles:[`.filterable-list-container{display:flex;flex-direction:column;height:100%;min-height:inherit;max-height:inherit}.filterable-list-container .display-only-favorites-button-container .mat-icon-button{height:32px;width:32px}.filterable-list-container .items-list{margin-top:8px}.filterable-list-container .blank-slate{display:flex;flex-direction:column;align-items:center}.filterable-list-container .blank-slate .label{color:#757575;font-size:12px;font-family:Open Sans,Regular,sans-serif;margin-top:16px}.filterable-list-container .blank-slate .icon{width:100px;height:104px;margin-top:24px;background:no-repeat url(data:image/svg+xml;base64,PHN2ZyBpZD0iaWNvbl9zZWFyY2hfYmlnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDAiIGhlaWdodD0iMTA0IiB2aWV3Qm94PSIwIDAgMTAwIDEwNCI+DQogIDxnIGlkPSJQYXRoXzc0NTciIGRhdGEtbmFtZT0iUGF0aCA3NDU3IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcxNC44MTggLTY0OS41MTIpIiBmaWxsPSJyZ2JhKDEwMCwxODQsMjIzLDAuMSkiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCI+DQogICAgPHBhdGggZD0iTSAxNzE4LjYwMTY4NDU3MDMxMyA3NTIuNTA1ODU5Mzc1IEMgMTcyMS41NjE2NDU1MDc4MTMgNzUwLjM3MDQyMjM2MzI4MTMgMTcyNC4zMTk3MDIxNDg0MzggNzQ3LjEzMzIzOTc0NjA5MzggMTcyNi44MzQ1OTQ3MjY1NjMgNzQyLjgzNTgxNTQyOTY4NzUgQyAxNzI5LjQyMTI2NDY0ODQzOCA3MzguNDE1NTg4Mzc4OTA2MyAxNzMwLjc1NTM3MTA5Mzc1IDczNC41MjIwMzM2OTE0MDYzIDE3MzAuODEwOTEzMDg1OTM4IDczNC4zNTgzOTg0Mzc1IEwgMTczMS4wMDY1OTE3OTY4NzUgNzMzLjc4MTkyMTM4NjcxODggTCAxNzMwLjU4NDM1MDU4NTkzOCA3MzMuMzQzMzIyNzUzOTA2MyBDIDE3MjYuMjg1NTIyNDYwOTM4IDcyOC44NzkzMzM0OTYwOTM4IDE3MjIuOTE0MzA2NjQwNjI1IDcyMy43MTg5MzMxMDU0Njg4IDE3MjAuNTY0MzMxMDU0Njg4IDcxOC4wMDUzNzEwOTM3NSBDIDE3MTguMTI5NTE2NjAxNTYzIDcxMi4wODU1NzEyODkwNjI1IDE3MTYuODk1MDE5NTMxMjUgNzA1LjgwNzY3ODIyMjY1NjMgMTcxNi44OTUwMTk1MzEyNSA2OTkuMzQ2MDA4MzAwNzgxMyBDIDE3MTYuODk1MDE5NTMxMjUgNjkyLjc1MTk1MzEyNSAxNzE4LjE3NjUxMzY3MTg3NSA2ODYuMzU1NzczOTI1NzgxMyAxNzIwLjcwMzczNTM1MTU2MyA2ODAuMzM1MjY2MTEzMjgxMyBDIDE3MjMuMTQ0ODk3NDYwOTM4IDY3NC41MTk5NTg0OTYwOTM4IDE3MjYuNjM5NzcwNTA3ODEzIDY2OS4yOTczMDIyNDYwOTM4IDE3MzEuMDkxMTg2NTIzNDM4IDY2NC44MTIzMTY4OTQ1MzEzIEMgMTczNS41NDIxMTQyNTc4MTMgNjYwLjMyNzgxOTgyNDIxODggMTc0MC43MjQ4NTM1MTU2MjUgNjU2LjgwNzEyODkwNjI1IDE3NDYuNDk1MzYxMzI4MTI1IDY1NC4zNDgwODM0OTYwOTM4IEMgMTc1Mi40Njg3NSA2NTEuODAyNjczMzM5ODQzOCAxNzU4LjgxNDY5NzI2NTYyNSA2NTAuNTEyMDIzOTI1NzgxMyAxNzY1LjM1NzA1NTY2NDA2MyA2NTAuNTEyMDIzOTI1NzgxMyBDIDE3NzEuODk5MTY5OTIxODc1IDY1MC41MTIwMjM5MjU3ODEzIDE3NzguMjQ0ODczMDQ2ODc1IDY1MS44MDI2NzMzMzk4NDM4IDE3ODQuMjE4MjYxNzE4NzUgNjU0LjM0ODA4MzQ5NjA5MzggQyAxNzg5Ljk4ODc2OTUzMTI1IDY1Ni44MDcxMjg5MDYyNSAxNzk1LjE3MTUwODc4OTA2MyA2NjAuMzI3ODE5ODI0MjE4OCAxNzk5LjYyMjU1ODU5Mzc1IDY2NC44MTIzMTY4OTQ1MzEzIEMgMTgwNC4wNzM5NzQ2MDkzNzUgNjY5LjI5NzM2MzI4MTI1IDE4MDcuNTY4ODQ3NjU2MjUgNjc0LjUyMDAxOTUzMTI1IDE4MTAuMDEwMTMxODM1OTM4IDY4MC4zMzUyNjYxMTMyODEzIEMgMTgxMi41Mzc0NzU1ODU5MzggNjg2LjM1NTgzNDk2MDkzNzUgMTgxMy44MTg5Njk3MjY1NjMgNjkyLjc1MTk1MzEyNSAxODEzLjgxODk2OTcyNjU2MyA2OTkuMzQ2MDA4MzAwNzgxMyBDIDE4MTMuODE4OTY5NzI2NTYzIDcwNS45Mzk4MTkzMzU5Mzc1IDE4MTIuNTM3NDc1NTg1OTM4IDcxMi4zMzU3NTQzOTQ1MzEzIDE4MTAuMDEwMTMxODM1OTM4IDcxOC4zNTYxNDAxMzY3MTg4IEMgMTgwNy41Njg4NDc2NTYyNSA3MjQuMTcxMjY0NjQ4NDM3NSAxODA0LjA3Mzk3NDYwOTM3NSA3MjkuMzkzODU5ODYzMjgxMyAxNzk5LjYyMjU1ODU5Mzc1IDczMy44Nzg3ODQxNzk2ODc1IEMgMTc5NS4xNzE1MDg3ODkwNjMgNzM4LjM2MzI4MTI1IDE3ODkuOTg4NzY5NTMxMjUgNzQxLjg4MzkxMTEzMjgxMjUgMTc4NC4yMTgyNjE3MTg3NSA3NDQuMzQyOTU2NTQyOTY4OCBDIDE3NzguMjQ0ODczMDQ2ODc1IDc0Ni44ODgzNjY2OTkyMTg4IDE3NzEuODk5MDQ3ODUxNTYzIDc0OC4xNzkwMTYxMTMyODEzIDE3NjUuMzU3MDU1NjY0MDYzIDc0OC4xNzkwMTYxMTMyODEzIEMgMTc1OS42MDc1NDM5NDUzMTMgNzQ4LjE3OTAxNjExMzI4MTMgMTc1My45Nzk4NTgzOTg0MzggNzQ3LjE3MzUyMjk0OTIxODggMTc0OC42MzA2MTUyMzQzNzUgNzQ1LjE5MDM2ODY1MjM0MzggTCAxNzQ4LjA3MDQzNDU3MDMxMyA3NDQuOTgyNjY2MDE1NjI1IEwgMTc0Ny42MjIwNzAzMTI1IDc0NS4zNzc1MDI0NDE0MDYzIEMgMTc0Ny4yODQ3OTAwMzkwNjMgNzQ1LjY3NDQ5OTUxMTcxODggMTc0Ni45NDcxNDM1NTQ2ODggNzQ1LjkyMTgxMzk2NDg0MzggMTc0Ni41NTkzMjYxNzE4NzUgNzQ2LjE1NTgyMjc1MzkwNjMgQyAxNzM3LjA4NTQ0OTIxODc1IDc1MS44ODMxNzg3MTA5Mzc1IDE3MjkuNjYxNzQzMTY0MDYzIDc1Mi40NDk4MjkxMDE1NjI1IDE3MTguNjAxNjg0NTcwMzEzIDc1Mi41MDU4NTkzNzUgWiIgc3Ryb2tlPSJub25lIi8+DQogICAgPHBhdGggZD0iTSAxNzY1LjM1NzA1NTY2NDA2MyA2NTEuNTEyMDIzOTI1NzgxMyBDIDE3NTguOTUwMTk1MzEyNSA2NTEuNTEyMDIzOTI1NzgxMyAxNzUyLjczNjIwNjA1NDY4OCA2NTIuNzc1NzU2ODM1OTM3NSAxNzQ2Ljg4NzQ1MTE3MTg3NSA2NTUuMjY4MDY2NDA2MjUgQyAxNzQxLjIzNjIwNjA1NDY4OCA2NTcuNjc2MjA4NDk2MDkzOCAxNzM2LjE2MDQwMDM5MDYyNSA2NjEuMTI0Mzg5NjQ4NDM3NSAxNzMxLjgwMDkwMzMyMDMxMyA2NjUuNTE2Nzg0NjY3OTY4OCBDIDE3MjcuNDQwNDI5Njg3NSA2NjkuOTEwMTU2MjUgMTcyNC4wMTY5Njc3NzM0MzggNjc1LjAyNjA2MjAxMTcxODggMTcyMS42MjU4NTQ0OTIxODggNjgwLjcyMjI5MDAzOTA2MjUgQyAxNzE5LjE1MDI2ODU1NDY4OCA2ODYuNjE5NjI4OTA2MjUgMTcxNy44OTUwMTk1MzEyNSA2OTIuODg1NTU5MDgyMDMxMyAxNzE3Ljg5NTAxOTUzMTI1IDY5OS4zNDYwMDgzMDA3ODEzIEMgMTcxNy44OTUwMTk1MzEyNSA3MDUuNjc2NTEzNjcxODc1IDE3MTkuMTA0MjQ4MDQ2ODc1IDcxMS44MjY0NzcwNTA3ODEzIDE3MjEuNDg5MTM1NzQyMTg4IDcxNy42MjUgQyAxNzIzLjc5MTAxNTYyNSA3MjMuMjIxNjc5Njg3NSAxNzI3LjA5MzM4Mzc4OTA2MyA3MjguMjc2NjcyMzYzMjgxMyAxNzMxLjMwNDU2NTQyOTY4OCA3MzIuNjQ5NjU4MjAzMTI1IEwgMTczMi4xNDkyOTE5OTIxODggNzMzLjUyNjc5NDQzMzU5MzggTCAxNzMxLjc1NzgxMjUgNzM0LjY3OTg3MDYwNTQ2ODggQyAxNzMxLjU3OTIyMzYzMjgxMyA3MzUuMjA2MDU0Njg3NSAxNzI4LjEyNDc1NTg1OTM3NSA3NDUuMTg4OTY0ODQzNzUgMTcyMS4zOTczMzg4NjcxODggNzUxLjQ3NjY4NDU3MDMxMjUgQyAxNzI1LjExMzY0NzQ2MDkzOCA3NTEuNDEyNTk3NjU2MjUgMTcyOC40MDk1NDU4OTg0MzggNzUxLjIzMjIzODc2OTUzMTMgMTczMS41NzE0MTExMzI4MTMgNzUwLjcyNDc5MjQ4MDQ2ODggQyAxNzM2Ljc0NzMxNDQ1MzEyNSA3NDkuODk0MTA0MDAzOTA2MyAxNzQxLjIwOTk2MDkzNzUgNzQ4LjIyMTE5MTQwNjI1IDE3NDYuMDQyNjAyNTM5MDYzIDc0NS4yOTk2ODI2MTcxODc1IEMgMTc0Ni4zNzgwNTE3NTc4MTMgNzQ1LjA5NzI5MDAzOTA2MjUgMTc0Ni42Njk5MjE4NzUgNzQ0Ljg4MzU0NDkyMTg3NSAxNzQ2Ljk2MTA1OTU3MDMxMyA3NDQuNjI3MDc1MTk1MzEyNSBMIDE3NDcuODU3Nzg4MDg1OTM4IDc0My44MzczNDEzMDg1OTM4IEwgMTc0OC45NzgxNDk0MTQwNjMgNzQ0LjI1MjY4NTU0Njg3NSBDIDE3NTQuMjE1ODIwMzEyNSA3NDYuMTk0NDU4MDA3ODEyNSAxNzU5LjcyNjU2MjUgNzQ3LjE3OTAxNjExMzI4MTMgMTc2NS4zNTcwNTU2NjQwNjMgNzQ3LjE3OTAxNjExMzI4MTMgQyAxNzcxLjc2MzY3MTg3NSA3NDcuMTc5MDE2MTEzMjgxMyAxNzc3Ljk3NzUzOTA2MjUgNzQ1LjkxNTI4MzIwMzEyNSAxNzgzLjgyNjE3MTg3NSA3NDMuNDIyOTczNjMyODEyNSBDIDE3ODkuNDc3Mjk0OTIxODc1IDc0MS4wMTQ4MzE1NDI5Njg4IDE3OTQuNTUzMjIyNjU2MjUgNzM3LjU2NjcxMTQyNTc4MTMgMTc5OC45MTI3MTk3MjY1NjMgNzMzLjE3NDMxNjQwNjI1IEMgMTgwMy4yNzMzMTU0Mjk2ODggNzI4Ljc4MTAwNTg1OTM3NSAxODA2LjY5Njc3NzM0Mzc1IDcyMy42NjUyMjIxNjc5Njg4IDE4MDkuMDg4MDEyNjk1MzEzIDcxNy45NjkxMTYyMTA5Mzc1IEMgMTgxMS41NjM3MjA3MDMxMjUgNzEyLjA3MTg5OTQxNDA2MjUgMTgxMi44MTg5Njk3MjY1NjMgNzA1LjgwNjE1MjM0Mzc1IDE4MTIuODE4OTY5NzI2NTYzIDY5OS4zNDYwMDgzMDA3ODEzIEMgMTgxMi44MTg5Njk3MjY1NjMgNjkyLjg4NTU1OTA4MjAzMTMgMTgxMS41NjM3MjA3MDMxMjUgNjg2LjYxOTY4OTk0MTQwNjMgMTgwOS4wODgwMTI2OTUzMTMgNjgwLjcyMjI5MDAzOTA2MjUgQyAxODA2LjY5Njc3NzM0Mzc1IDY3NS4wMjYxMjMwNDY4NzUgMTgwMy4yNzMzMTU0Mjk2ODggNjY5LjkxMDIxNzI4NTE1NjMgMTc5OC45MTI3MTk3MjY1NjMgNjY1LjUxNjc4NDY2Nzk2ODggQyAxNzk0LjU1MzIyMjY1NjI1IDY2MS4xMjQzODk2NDg0Mzc1IDE3ODkuNDc3Mjk0OTIxODc1IDY1Ny42NzYyMDg0OTYwOTM4IDE3ODMuODI2MTcxODc1IDY1NS4yNjgwNjY0MDYyNSBDIDE3NzcuOTc3NTM5MDYyNSA2NTIuNzc1NzU2ODM1OTM3NSAxNzcxLjc2MzY3MTg3NSA2NTEuNTEyMDIzOTI1NzgxMyAxNzY1LjM1NzA1NTY2NDA2MyA2NTEuNTEyMDIzOTI1NzgxMyBNIDE3NjUuMzU3MDU1NjY0MDYzIDY0OS41MTIwMjM5MjU3ODEzIEMgMTc5Mi42NzUwNDg4MjgxMjUgNjQ5LjUxMjAyMzkyNTc4MTMgMTgxNC44MTg5Njk3MjY1NjMgNjcxLjgyMjk5ODA0Njg3NSAxODE0LjgxODk2OTcyNjU2MyA2OTkuMzQ2MDA4MzAwNzgxMyBDIDE4MTQuODE4OTY5NzI2NTYzIDcyNi44Njc5ODA5NTcwMzEzIDE3OTIuNjc1MDQ4ODI4MTI1IDc0OS4xNzkwMTYxMTMyODEzIDE3NjUuMzU3MDU1NjY0MDYzIDc0OS4xNzkwMTYxMTMyODEzIEMgMTc1OS4zNTQ5ODA0Njg3NSA3NDkuMTc5MDE2MTEzMjgxMyAxNzUzLjYwNDk4MDQ2ODc1IDc0OC4xMDEwMTMxODM1OTM4IDE3NDguMjgyOTU4OTg0Mzc1IDc0Ni4xMjc5OTA3MjI2NTYzIEMgMTc0Ny45NDc5OTgwNDY4NzUgNzQ2LjQyMjk3MzYzMjgxMjUgMTc0Ny41NjQ5NDE0MDYyNSA3NDYuNzE2OTc5OTgwNDY4OCAxNzQ3LjA3NjA0OTgwNDY4OCA3NDcuMDEyMDIzOTI1NzgxMyBDIDE3MzYuMzIzOTc0NjA5Mzc1IDc1My41MTIwMjM5MjU3ODEzIDE3MjguMDc5OTU2MDU0Njg4IDc1My41MTIwMjM5MjU3ODEzIDE3MTQuODE4OTY5NzI2NTYzIDc1My41MTIwMjM5MjU3ODEzIEMgMTcyNC41ODg5ODkyNTc4MTMgNzQ5LjM5Njk3MjY1NjI1IDE3MjkuNzc0MDQ3ODUxNTYzIDczNC4zMDIwMDE5NTMxMjUgMTcyOS44NjQwMTM2NzE4NzUgNzM0LjAzNjk4NzMwNDY4NzUgQyAxNzIxLjIyMzk5OTAyMzQzOCA3MjUuMDY1MDAyNDQxNDA2MyAxNzE1Ljg5NTAxOTUzMTI1IDcxMi44MzU5OTg1MzUxNTYzIDE3MTUuODk1MDE5NTMxMjUgNjk5LjM0NjAwODMwMDc4MTMgQyAxNzE1Ljg5NTAxOTUzMTI1IDY3MS44MjI5OTgwNDY4NzUgMTczOC4wMzc5NjM4NjcxODggNjQ5LjUxMjAyMzkyNTc4MTMgMTc2NS4zNTcwNTU2NjQwNjMgNjQ5LjUxMjAyMzkyNTc4MTMgWiIgc3Ryb2tlPSJub25lIiBmaWxsPSIjNjRiOGRmIi8+DQogIDwvZz4NCiAgPGcgaWQ9Ikdyb3VwXzc3NjAiIGRhdGEtbmFtZT0iR3JvdXAgNzc2MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE3MTQuODE4IC02NDkuNTEyKSI+DQogICAgPGNpcmNsZSBpZD0iRWxsaXBzZV8xMzM2IiBkYXRhLW5hbWU9IkVsbGlwc2UgMTMzNiIgY3g9IjEyLjI1IiBjeT0iMTIuMjUiIHI9IjEyLjI1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzQ4LjA2OSA2ODIuMDQyKSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNjRiOGRmIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS13aWR0aD0iMiIvPg0KICAgIDxsaW5lIGlkPSJMaW5lXzUxMyIgZGF0YS1uYW1lPSJMaW5lIDUxMyIgeDE9IjEyLjQ2MyIgeTE9IjEyLjQ2MyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTc2OS4xMDYgNzAyLjgyOSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzY0YjhkZiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjIiLz4NCiAgPC9nPg0KPC9zdmc+DQo=);background-position:center}.filterable-list-container .mat-icon-button{background-color:transparent}.filterable-list-container .mat-icon-button.favorite{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZmZiNzRkO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGNsYXNzPSJhIiBkPSJNOC41LDEuMWwyLjMsNC42NjcsNS4yLjcxLTMuNywzLjY1Mi44LDQuOTcxTDguNSwxMi43NjcsMy45LDE1LjFsLjktNC45NzFMMSw2LjQ3N2w1LjItLjcxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSAtMC4xKSIvPjxyZWN0IGNsYXNzPSJiIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz48L3N2Zz4=);background-position:center}.filterable-list-container .mat-icon-button.regular{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48ZGVmcz48c3R5bGU+LmF7ZmlsbDojZGJkYmRiO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPjxwYXRoIGNsYXNzPSJhIiBkPSJNOC41LDMuMyw5LjksNi4ybC4yLjUuNS4xLDMuMi40TDExLjYsOS40bC0uNC40LjEuNS41LDMuMUw5LDExLjhsLS41LS4yLS41LjJMNS4yLDEzLjJsLjYtMywuMS0uNS0uNC0uNEwzLjIsNy4xbDMuMS0uNC41LS4xTDcsNi4xLDguNSwzLjNNOC41LDEsNi4yLDUuNywxLDYuNCw0LjgsMTBsLS45LDUsNC42LTIuM0wxMy4xLDE1bC0uOC01TDE2LDYuNGwtNS4yLS43WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEpIi8+PHJlY3QgY2xhc3M9ImIiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPjwvc3ZnPg==);background-position:center}.filterable-list-container .mat-icon-button.regular:hover{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCjxkZWZzPiA8c3R5bGU+LmF7ZmlsbDojZmZiNzRkO30uYntmaWxsOm5vbmU7fTwvc3R5bGU+PC9kZWZzPg0KPHBhdGggY2xhc3M9ImEiIGQ9Ik04LjUsMy4zLDkuOSw2LjJsLjIuNS41LjEsMy4yLjRMMTEuNiw5LjRsLS40LjQuMS41LjUsMy4xTDksMTEuOGwtLjUtLjItLjUuMkw1LjIsMTMuMmwuNi0zLC4xLS41LS40LS40TDMuMiw3LjFsMy4xLS40LjUtLjFMNyw2LjEsOC41LDMuM004LjUsMSw2LjIsNS43LDEsNi40LDQuOCwxMGwtLjksNSw0LjYtMi4zTDEzLjEsMTVsLS44LTVMMTYsNi40bC01LjItLjdaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSkiLz4NCjxyZWN0IGNsYXNzPSJiIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiLz48L3N2Zz4=);background-position:center}.filter-input-container{display:flex;flex-direction:row;margin-right:10px;padding-left:6px}.filter-input-container .mat-form-field{font-size:13px;width:100%}.filter-input-container .mat-form-field input{font-family:Open Sans,Regular,sans-serif;color:#444}.filter-input-container .mat-form-field .mat-input-element{vertical-align:middle}.filter-input-container .mat-form-field .mat-form-field-ripple{top:1px;height:1px;background:#006ce0}.filter-input-container .mat-form-field .mat-form-field-underline{border-bottom:1px #c8c8c8 solid;background-color:transparent;margin-top:3px}.filter-input-container .mat-form-field .mat-form-field-wrapper{padding-top:5px;margin-bottom:-1.25em}.filter-input-container .mat-form-field .mat-form-field-empty.mat-form-field-label{padding-top:2px;color:#999}.filter-input-container .mat-form-field .mat-form-field-infix{border-top:none}.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button,.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:18px;height:18px;margin-right:8px}.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{color:#999;vertical-align:middle}.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon.search-icon{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTYgMTYiPjxnIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzgwOTViMyIgc3Ryb2tlLXdpZHRoPSIxLjIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCI+PGNpcmNsZSBjeD0iNiIgY3k9IjYiIHI9IjQuNSIvPjxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTSA5LjQsOS40IDE0LDE0Ii8+PC9nPjwvc3ZnPg==)}.filter-input-container .mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon.clear-icon{background:no-repeat url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4NCiAgPGcgaWQ9Ikdyb3VwXzIzNTUiIGRhdGEtbmFtZT0iR3JvdXAgMjM1NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTk0MyAtMjEzNCkiPg0KICAgIDxsaW5lIGlkPSJMaW5lXzE0NiIgZGF0YS1uYW1lPSJMaW5lIDE0NiIgeTE9IjEwIiB4Mj0iMTAiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0Ni41IDIxMzcuNSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzc1NzU3NSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2Utd2lkdGg9IjEiLz4NCiAgICA8bGluZSBpZD0iTGluZV8xNDciIGRhdGEtbmFtZT0iTGluZSAxNDciIHgyPSIxMCIgeTI9IjEwIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5NDYuNSAyMTM3LjUpIiBmaWxsPSJub25lIiBzdHJva2U9IiM3NTc1NzUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLXdpZHRoPSIxIi8+DQogICAgPHJlY3QgaWQ9IlJlY3RhbmdsZV8xMDkyIiBkYXRhLW5hbWU9IlJlY3RhbmdsZSAxMDkyIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk0MyAyMTM0KSIgZmlsbD0ibm9uZSIvPg0KICA8L2c+DQo8L3N2Zz4NCg==)}.mdc-list.mat-mdc-list-base.mat-mdc-action-list{padding-top:0;overflow:auto}.mdc-list.mat-mdc-list-base.mat-mdc-action-list::-webkit-scrollbar{width:4px}.mdc-list.mat-mdc-list-base.mat-mdc-action-list::-webkit-scrollbar-track{background:transparent;border:4px solid transparent;background-clip:content-box}.mdc-list.mat-mdc-list-base.mat-mdc-action-list::-webkit-scrollbar-thumb{background:#999;border-radius:4px}.mdc-list.mat-mdc-list-base.mat-mdc-action-list .mat-mdc-list-item{font-size:13px;font-family:Open Sans,Regular,sans-serif;color:#444;height:33px;padding-left:6px;box-sizing:border-box}.mdc-list.mat-mdc-list-base.mat-mdc-action-list .mat-mdc-list-item.active{background-color:#e5ebfb}.mdc-list.mat-mdc-list-base.mat-mdc-action-list .mat-mdc-list-item:hover{background:#f2f5ff}.mdc-list.mat-mdc-list-base.mat-mdc-action-list .mat-mdc-list-item .mdc-list-item__content .mat-mdc-list-item-unscoped-content{display:flex;flex-direction:row;padding-left:8px}.mdc-list.mat-mdc-list-base.mat-mdc-action-list .mat-mdc-list-item .mdc-list-item__content .mat-mdc-list-item-unscoped-content .mat-icon-button{height:16px;width:16px}.mdc-list.mat-mdc-list-base.mat-mdc-action-list .mat-mdc-list-item .mdc-list-item__content .mat-mdc-list-item-unscoped-content .item-caption{padding-left:8px;display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
`],encapsulation:3})}};(0,p.__decorate)([(0,zt.k)(),(0,p.__metadata)("design:type",Array)],Pi.prototype,"items",void 0),(0,p.__decorate)([(0,Md.j)(),(0,p.__metadata)("design:type",c.EventEmitter)],Pi.prototype,"itemSelected",void 0),(0,p.__decorate)([(0,Md.j)(),(0,p.__metadata)("design:type",c.EventEmitter)],Pi.prototype,"favoriteStateChanged",void 0),Pi=(0,p.__decorate)([(0,Me.v)({type:"crt.FilterableList",reuseStrategy:un.B.Reuse}),(0,p.__metadata)("design:paramtypes",[Ri,c.ChangeDetectorRef,c.Injector])],Pi);class er{static{this.\u0275fac=function(M){return new(M||er)}}static{this.\u0275mod=c.\u0275\u0275defineNgModule({type:er})}static{this.\u0275inj=c.\u0275\u0275defineInjector({providers:[G.Dj,Ri,{provide:Ku,useValue:new Ro("getFilterableListResources","setFilterableListResources",{localizableStrings:{NoDataPlaceholder:"No data",SearchPlaceholder:"Search",FilterFavoriteTitle:"Only favorites",RemoveFromFavoriteButtonTitle:"Remove from favorites",AddToFavoriteButtonTitle:"Add to favorites",ClearButtonTitle:"Cancel"}})}],imports:[g.CommonModule,l.FormsModule,I.MatLegacyFormFieldModule,w.MatIconModule,k.MatLegacyInputModule,Vs.MatListModule,h.MatLegacyButtonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&c.\u0275\u0275setNgModuleScope(er,{declarations:[Pi,tr],imports:[g.CommonModule,l.FormsModule,I.MatLegacyFormFieldModule,w.MatIconModule,k.MatLegacyInputModule,Vs.MatListModule,h.MatLegacyButtonModule],exports:[Pi]})})();var Nc=o(171);function xd(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"mat-form-field",1)(1,"mat-label"),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(3,"input",2),c.\u0275\u0275listener("keydown.enter",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(mt.onEnterKeyDown(et))}),c.\u0275\u0275elementEnd()()}if(rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275property("ngStyle",M.styles)("ngClass",M.classes),c.\u0275\u0275attribute("id",M.id),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(M.caption),c.\u0275\u0275advance(),c.\u0275\u0275property("formControl",M.value)("value",M.value==null?null:M.value.value)}}let No=class K0 extends Ma.K{constructor(){super(...arguments),this.enterKeyDown=new c.EventEmitter}onEnterKeyDown(v){this.enterKeyDown.next(v)}static{this.\u0275fac=(()=>{let v;return function(R){return(v||(v=c.\u0275\u0275getInheritedFactory(K0)))(R||K0)}})()}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:K0,selectors:[["ts-input"]],inputs:{caption:"caption",value:"value"},outputs:{enterKeyDown:"enterKeyDown"},features:[c.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","full-width ts-input","appearance","fill",3,"ngStyle","ngClass",4,"ngIf"],["appearance","fill",1,"full-width","ts-input",3,"ngStyle","ngClass"],["matInput","","autocomplete","off",3,"keydown.enter","formControl","value"]],template:function(M,R){M&1&&c.\u0275\u0275template(0,xd,4,6,"mat-form-field",0),M&2&&c.\u0275\u0275property("ngIf",R.value)},dependencies:[g.NgClass,g.NgIf,g.NgStyle,l.DefaultValueAccessor,l.NgControlStatus,I.MatLegacyFormField,I.MatLegacyLabel,k.MatLegacyInput,l.FormControlDirective],encapsulation:2})}};(0,p.__decorate)([(0,zt.k)(),(0,p.__metadata)("design:type",String)],No.prototype,"caption",void 0),(0,p.__decorate)([(0,zt.k)(),(0,p.__metadata)("design:type",l.FormControl)],No.prototype,"value",void 0),(0,p.__decorate)([(0,Md.j)(),(0,p.__metadata)("design:type",Object)],No.prototype,"enterKeyDown",void 0),No=(0,p.__decorate)([(0,Me.v)({type:"crt.DeprecatedInput",formControlConfig:{relatesTo:"value"},reuseStrategy:un.B.Reuse})],No);let Vc=class Z0 extends Ma.K{static{this.\u0275fac=(()=>{let v;return function(R){return(v||(v=c.\u0275\u0275getInheritedFactory(Z0)))(R||Z0)}})()}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:Z0,selectors:[["ts-label"]],inputs:{label:"label"},features:[c.\u0275\u0275InheritDefinitionFeature],decls:3,vars:4,consts:[[1,"ts-label",3,"ngStyle","ngClass"]],template:function(M,R){M&1&&(c.\u0275\u0275elementStart(0,"div",0)(1,"label"),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd()()),M&2&&(c.\u0275\u0275property("ngStyle",R.styles)("ngClass",R.classes),c.\u0275\u0275attribute("id",R.id),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(R.label))},dependencies:[g.NgClass,g.NgStyle],encapsulation:2})}};(0,p.__decorate)([(0,zt.k)(),(0,p.__metadata)("design:type",String)],Vc.prototype,"label",void 0),Vc=(0,p.__decorate)([(0,Me.v)({type:"crt.DeprecatedLabel",reuseStrategy:un.B.Reuse})],Vc);class Ba{static{this.\u0275fac=function(M){return new(M||Ba)}}static{this.\u0275mod=c.\u0275\u0275defineNgModule({type:Ba})}static{this.\u0275inj=c.\u0275\u0275defineInjector({providers:[xi],imports:[g.CommonModule,Es.MatLegacyRadioModule,l.FormsModule,h.MatLegacyButtonModule,_.MatLegacyCheckboxModule,x.MatLegacyDialogModule,E.MatDividerModule,I.MatLegacyFormFieldModule,w.MatIconModule,k.MatLegacyInputModule,B.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&c.\u0275\u0275setNgModuleScope(Ba,{declarations:[Si,_r],imports:[g.CommonModule,Es.MatLegacyRadioModule,l.FormsModule,h.MatLegacyButtonModule,_.MatLegacyCheckboxModule,x.MatLegacyDialogModule,E.MatDividerModule,I.MatLegacyFormFieldModule,w.MatIconModule,k.MatLegacyInputModule,B.TranslateModule],exports:[Si]})})();const uy=["*"],my=rt=>({show:rt});function Fc(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"crt-expansion-button",2),c.\u0275\u0275listener("toggle",function(){c.\u0275\u0275restoreView(M);const et=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(et.onToggle())}),c.\u0275\u0275elementEnd()}if(rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275property("direction",M.panelConfig==null?null:M.panelConfig.direction)("animationDisabled",M.panelConfig==null?null:M.panelConfig.animationDisabled)("isExpanded",M.isExpanded)}}class za{constructor(){this.isExpanded=!1,this.toggle=new c.EventEmitter}onToggle(){this.toggle.emit()}static{this.\u0275fac=function(M){return new(M||za)}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:za,selectors:[["ts-vertical-expansion-panel"]],inputs:{isExpanded:"isExpanded",panelConfig:"panelConfig"},outputs:{toggle:"toggle"},ngContentSelectors:uy,decls:4,vars:7,consts:[["class","expansion-button",3,"direction","animationDisabled","isExpanded","toggle",4,"ngIf"],[1,"panel",3,"ngClass"],[1,"expansion-button",3,"toggle","direction","animationDisabled","isExpanded"]],template:function(M,R){M&1&&(c.\u0275\u0275projectionDef(),c.\u0275\u0275elementStart(0,"div"),c.\u0275\u0275template(1,Fc,1,3,"crt-expansion-button",0),c.\u0275\u0275elementStart(2,"div",1),c.\u0275\u0275projection(3),c.\u0275\u0275elementEnd()()),M&2&&(c.\u0275\u0275classMapInterpolate1("container button-placement-",R.panelConfig==null?null:R.panelConfig.direction,""),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",R.panelConfig==null?null:R.panelConfig.showToggleButton),c.\u0275\u0275advance(),c.\u0275\u0275property("ngClass",c.\u0275\u0275pureFunction1(5,my,R.isExpanded)))},dependencies:[g.NgClass,g.NgIf,pt],styles:[".container[_ngcontent-%COMP%]{position:relative;height:100%}.expansion-button[_ngcontent-%COMP%]{position:absolute;z-index:3}.button-placement-left[_ngcontent-%COMP%]   .expansion-button[_ngcontent-%COMP%]{right:calc(100% + 10px)}.button-placement-right[_ngcontent-%COMP%]   .expansion-button[_ngcontent-%COMP%]{left:100%}.panel[_ngcontent-%COMP%]{display:none}.panel.show[_ngcontent-%COMP%]{display:flex;height:100%}"],changeDetection:0})}}const gy=["default-file-icon","file-excel","file-image","file-pdf","file-powerpoint","file-word"];var jc=o(49391),ao=o(84177),Vo=o(80203),zs=o(14715),io=o(88763),ro=o(17499),ni=o(31843),oo=o(90808),In=o(99947),ie=o(34439);function fe(rt,v){if(rt&1&&c.\u0275\u0275element(0,"mat-icon",9),rt&2){const M=v.$implicit;c.\u0275\u0275property("svgIcon",M)}}function _e(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"span",10),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate(M.getTriggerCaption())}}function Rn(rt,v){if(rt&1&&c.\u0275\u0275element(0,"mat-icon",14),rt&2){const M=c.\u0275\u0275nextContext(2);c.\u0275\u0275property("svgIcon",M.config.emptyOption==null?null:M.config.emptyOption.svgIconName)}}function Ce(rt,v){rt&1&&c.\u0275\u0275element(0,"div",16)}function Le(rt,v){if(rt&1&&c.\u0275\u0275template(0,Ce,1,0,"div",15),rt&2){const M=c.\u0275\u0275nextContext(2);c.\u0275\u0275property("ngIf",M.needDisplayOptionIcons())}}function Je(rt,v){rt&1&&c.\u0275\u0275element(0,"mat-divider")}function J(rt,v){if(rt&1&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275elementStart(1,"mat-option",11)(2,"div",12),c.\u0275\u0275template(3,Rn,1,1,"mat-icon",13)(4,Le,1,1,"ng-template",null,0,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementStart(6,"span"),c.\u0275\u0275text(7),c.\u0275\u0275elementEnd()()(),c.\u0275\u0275template(8,Je,1,0,"mat-divider",7),c.\u0275\u0275elementContainerEnd()),rt&2){const M=c.\u0275\u0275reference(5),R=c.\u0275\u0275nextContext();c.\u0275\u0275advance(),c.\u0275\u0275styleProp("display",R.config.emptyOption?"":"none"),c.\u0275\u0275property("value",R.emptyValue),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",R.config.emptyOption==null?null:R.config.emptyOption.svgIconName)("ngIfElse",M),c.\u0275\u0275advance(4),c.\u0275\u0275textInterpolate(R.config.emptyOption==null?null:R.config.emptyOption.caption),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",R.config.emptyOption)}}function Nn(rt,v){if(rt&1&&c.\u0275\u0275element(0,"mat-icon",14),rt&2){const M=c.\u0275\u0275nextContext().$implicit;c.\u0275\u0275property("svgIcon",M.svgIconName)}}function Vn(rt,v){rt&1&&c.\u0275\u0275element(0,"div",16)}function E_(rt,v){if(rt&1&&c.\u0275\u0275template(0,Vn,1,0,"div",15),rt&2){const M=c.\u0275\u0275nextContext(2);c.\u0275\u0275property("ngIf",M.needDisplayOptionIcons())}}function T_(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"mat-option",17)(1,"div",12),c.\u0275\u0275template(2,Nn,1,1,"mat-icon",13)(3,E_,1,1,"ng-template",null,1,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementStart(5,"span"),c.\u0275\u0275text(6),c.\u0275\u0275elementEnd()()()),rt&2){const M=v.$implicit,R=c.\u0275\u0275reference(4);c.\u0275\u0275property("value",M.value),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",M.svgIconName)("ngIfElse",R),c.\u0275\u0275advance(4),c.\u0275\u0275textInterpolate(M.caption)}}class Ft{constructor(){this._panelClass=[],this.emptyValue={},this.innerValue=this.emptyValue,this.valueChange=new c.EventEmitter,this.disabled=!1}set config(v){this._config=v,this._validateConfig()}get config(){return this._config}set value(v){this.innerValue=v??this.emptyValue}get value(){return this.isEmptyValueSelected()?null:this.innerValue}set panelClass(v){v?.length>0&&(this._panelClass=[...v])}get panelClass(){return[...this._panelClass,"select-menu-panel"]}_validateValue(){if(this.isEmptyValueSelected()||this._getSelectedOption())return;const v=this.value,M=typeof v=="object"?JSON.stringify(v):v;throw new Error(`Value "${M}" is not specified in select menu configuration.`)}_validateConfig(){if(!this.config?.options)throw new Error(`Property "config" must be specified and contain valid options. Actual config is "${JSON.stringify(this.config)}".`)}_resetToFirstOptionIfNeeded(){this.config&&this.config.options.length>0&&!this.config.placeholder&&this.isEmptyValueSelected()&&(this.value=this.config.options[0].value,setTimeout(()=>{this.emitValueChange()},0))}_getSelectedOption(){const v=this.innerValue;return this.config.options.find(M=>M.value===v)}ngDoCheck(){this._validateValue(),this._resetToFirstOptionIfNeeded()}emitValueChange(){this.valueChange.emit(this.value)}trackByValue(v,M){return M.value}getTriggerCaption(){return this.isEmptyValueSelected()?this.config.placeholder?.caption:this._getSelectedOption().caption}getTriggerSvgIconName(){const v=this.config.placeholder?.svgIconName??this.config.emptyOption?.svgIconName;return this.isEmptyValueSelected()?v:this._getSelectedOption()?.svgIconName??v}isEmptyValueSelected(){return this.innerValue===this.emptyValue}needDisplayOptionIcons(){return!!this.config.emptyOption?.svgIconName||this.config.options.some(v=>v.svgIconName)}needDisplaySelectedCaption(){return this._config.hideSelectedCaption!==!0}static{this.\u0275fac=function(M){return new(M||Ft)}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:Ft,selectors:[["ts-select-menu"]],inputs:{config:"config",value:"value",disabled:"disabled",panelClass:"panelClass"},outputs:{valueChange:"valueChange"},decls:8,vars:9,consts:[["emptyOptionIconPlaceholder",""],["optionIconPlaceholder",""],["floatLabel","never"],["disableOptionCentering","",3,"valueChange","selectionChange","value","disabled","matTooltip","panelClass"],[1,"select-menu-trigger"],["class","select-menu-trigger-icon",3,"svgIcon",4,"ngIf"],["class","select-menu-trigger-caption",4,"ngIf"],[4,"ngIf"],["class","select-menu-option",3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"select-menu-trigger-icon",3,"svgIcon"],[1,"select-menu-trigger-caption"],[1,"select-menu-option","select-menu-empty-option",3,"value"],[1,"select-menu-option-content"],[3,"svgIcon",4,"ngIf","ngIfElse"],[3,"svgIcon"],["class","select-menu-option-icon-placeholder",4,"ngIf"],[1,"select-menu-option-icon-placeholder"],[1,"select-menu-option",3,"value"]],template:function(M,R){M&1&&(c.\u0275\u0275elementStart(0,"mat-form-field",2)(1,"mat-select",3),c.\u0275\u0275twoWayListener("valueChange",function(mt){return c.\u0275\u0275twoWayBindingSet(R.innerValue,mt)||(R.innerValue=mt),mt}),c.\u0275\u0275listener("selectionChange",function(){return R.emitValueChange()}),c.\u0275\u0275elementStart(2,"mat-select-trigger")(3,"span",4),c.\u0275\u0275template(4,fe,1,1,"mat-icon",5)(5,_e,2,1,"span",6),c.\u0275\u0275elementEnd()(),c.\u0275\u0275template(6,J,9,7,"ng-container",7)(7,T_,7,4,"mat-option",8),c.\u0275\u0275elementEnd()()),M&2&&(c.\u0275\u0275advance(),c.\u0275\u0275twoWayProperty("value",R.innerValue),c.\u0275\u0275property("disabled",R.disabled)("matTooltip",R.needDisplaySelectedCaption()?null:R.getTriggerCaption())("panelClass",R.panelClass),c.\u0275\u0275advance(3),c.\u0275\u0275property("ngIf",R.getTriggerSvgIconName()),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",R.needDisplaySelectedCaption()),c.\u0275\u0275advance(),c.\u0275\u0275property("ngIf",R.config.placeholder),c.\u0275\u0275advance(),c.\u0275\u0275property("ngForOf",R.config.options)("ngForTrackBy",R.trackByValue))},dependencies:[g.NgForOf,g.NgIf,I.MatLegacyFormField,E.MatDivider,w.MatIcon,Fa.MatLegacyOption,F.MatLegacySelect,F.MatLegacySelectTrigger,N.MatTooltip],styles:[`ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper{padding-bottom:0!important}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix{width:auto;padding:0!important}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select{width:auto;height:26px;display:flex;align-items:center;border-radius:2px}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select:not(.mat-select-disabled):focus,ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select:not(.mat-select-disabled):hover{background-color:#f2f5ff}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger{padding:0 4px 0 8px}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger .mat-select-value{max-width:100%;width:auto;color:#444;font-size:14px}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger .mat-select-value .select-menu-trigger{display:flex;align-items:center;height:18px;line-height:18px;position:relative}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger .mat-select-value .select-menu-trigger .select-menu-trigger-icon{height:16px;width:16px;margin:0 8px 0 0!important}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-infix mat-select .mat-select-trigger .mat-select-value .select-menu-trigger .select-menu-trigger-caption{position:relative;bottom:1px}ts-select-menu .mat-form-field-type-mat-select .mat-form-field-wrapper .mat-form-field-underline{display:none}.mat-select-panel.select-menu-panel{max-height:500px!important;position:absolute;top:22px;left:15px;padding:1px}.mat-select-panel.select-menu-panel mat-option.select-menu-option{padding:0 18px;height:33px!important;line-height:33px!important}.mat-select-panel.select-menu-panel mat-option.select-menu-option.select-menu-empty-option{margin-top:4px}.mat-select-panel.select-menu-panel mat-option.select-menu-option.select-menu-empty-option.select-menu-empty-option-hidden{display:none}.mat-select-panel.select-menu-panel mat-option.select-menu-option .select-menu-option-content{display:flex;align-items:center;font-size:14px;line-height:18px;padding-right:15px}.mat-select-panel.select-menu-panel mat-option.select-menu-option mat-icon,.mat-select-panel.select-menu-panel mat-option.select-menu-option .select-menu-option-icon-placeholder{height:16px;width:16px;margin:0 8px 0 0!important}.mat-select-panel.select-menu-panel mat-divider{margin:5px 12px}
`],encapsulation:2})}}class Qt{static{this.\u0275fac=function(M){return new(M||Qt)}}static{this.\u0275mod=c.\u0275\u0275defineNgModule({type:Qt})}static{this.\u0275inj=c.\u0275\u0275defineInjector({imports:[g.CommonModule,I.MatLegacyFormFieldModule,E.MatDividerModule,w.MatIconModule,Fa.MatLegacyOptionModule,F.MatLegacySelectModule,N.MatTooltipModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&c.\u0275\u0275setNgModuleScope(Qt,{declarations:[Ft],imports:[g.CommonModule,I.MatLegacyFormFieldModule,E.MatDividerModule,w.MatIconModule,Fa.MatLegacyOptionModule,F.MatLegacySelectModule,N.MatTooltipModule],exports:[Ft]})})();var $t=o(89807);class $e{constructor(v){this.httpClient=v,this.serviceEndpoint="ServiceModel/RightManagementService.svc/"}saveAdministratedObject(v){const M=this.serviceEndpoint+"SaveAdministratedObject";return this.httpClient.post(M,{administratedObject:v})}getAdministratedObject(v){const M=this.serviceEndpoint+"GetAdministratedObject";return this.httpClient.post(M,{schemaUId:v})}getAdministratedObjects(v){let M;switch(v){case Lc.Section:M="GetSectionObjects";break;case Lc.Lookup:M="GetLookupObjects";break;case Lc.All:default:M="GetAllObjects";break}const R=this.serviceEndpoint+M;return this.httpClient.post(R,null)}getSysAdminUnitList(){if(!this._getSysAdminUnitList$){const v=this.serviceEndpoint+"GetSysAdminUnitList";this._getSysAdminUnitList$=this.httpClient.post(v,null).pipe((0,Et.shareReplay)(1)),this._getSysAdminUnitList$.subscribe()}return this._getSysAdminUnitList$}getSysAdminUnitById(v){const M=this.serviceEndpoint+"GetSysAdminUnitById";return this.httpClient.post(M,{sysAdminUnitId:v})}static{this.\u0275fac=function(M){return new(M||$e)(c.\u0275\u0275inject(Nt.HttpClient))}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:$e,factory:$e.\u0275fac})}}var pn=o(4872),Ub=o(37845);const Sd=["treeScrollWrapper"],Oi=rt=>({selected:rt});function Zu(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"mat-tree-node",5),c.\u0275\u0275listener("click",function(){const et=c.\u0275\u0275restoreView(M).$implicit,mt=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(mt.onNodeClick(et))}),c.\u0275\u0275element(1,"div",6),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd()}if(rt&2){const M=v.$implicit,R=c.\u0275\u0275nextContext();c.\u0275\u0275property("ngClass",c.\u0275\u0275pureFunction1(2,Oi,R.isSelectedNode(M))),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate1(" ",M.name," ")}}function wd(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"mat-tree-node",5),c.\u0275\u0275listener("click",function(){const et=c.\u0275\u0275restoreView(M).$implicit,mt=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(mt.onNodeClick(et))}),c.\u0275\u0275element(1,"div",7),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd()}if(rt&2){const M=v.$implicit,R=c.\u0275\u0275nextContext();c.\u0275\u0275property("ngClass",c.\u0275\u0275pureFunction1(4,Oi,R.isSelectedNode(M))),c.\u0275\u0275advance(),c.\u0275\u0275property("ngClass",R.treeControl.isExpanded(M)?"minus":"plus"),c.\u0275\u0275attribute("aria-label","toggle "+M.name),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate1(" ",M.name," ")}}class P_ extends Ub.FlatTreeControl{expandParents(v){const M=this.getLevel(v);if(M<1)return;const R=this.dataNodes.indexOf(v)-1;for(let et=R;et>=0;et--){const mt=this.dataNodes[et];if(this.getLevel(mt)<M){if(this.getDescendants(mt).indexOf(v)===-1)continue;if(this.expand(mt),this.getLevel(mt)===0)break}}}}class Us{constructor(){this.selectedUnitChange=new c.EventEmitter,this.treeControl=new P_(v=>v.level,v=>v.expandable),this.treeFlattener=new ni.MatTreeFlattener(this._transformNodeToFlatNode,v=>v.level,v=>v.expandable,v=>v.children),this.treeDataSource=new ni.MatTreeFlatDataSource(this.treeControl,this.treeFlattener)}set dataSource(v){this._dataSource!==v&&(this._dataSource=v,this._initTreeDataSource(),this._expandToSysAdminUnit(this.selectedUnit))}set selectedUnit(v){this._selectedUnit!==v&&(this._selectedUnit=v,this._expandToSysAdminUnit(v))}get selectedUnit(){return this._selectedUnit}_createNode(v){return{id:v.id,name:v.name,children:[]}}_transformNodeToFlatNode(v,M){return{id:v.id,name:v.name,expandable:!!(v.children&&v.children.length>0),level:M}}_createTreeDataFromFlatList(v){const M=[],R=[],et=v.map((mt,ht)=>(R[mt.id]=ht,this._createNode(mt)),this);return v.forEach(mt=>{const ht=et[R[mt.id]];if((0,Kt.gZ)(mt.parentRoleId)||mt.sysAdminUnitTypeValue===$t.Zh.User)M.push(ht);else{const pe=et[R[mt.parentRoleId]];if(!pe)return;pe.children.push(ht)}}),M}_initTreeDataSource(){if(!Array.isArray(this._dataSource)){this.treeDataSource=null;return}this.treeDataSource.data=this._createTreeDataFromFlatList(this._dataSource)}_expandToSysAdminUnit(v){if(!v||!this.treeControl.dataNodes)return;const M=this.treeControl.dataNodes.find(R=>R.id===v.id);M&&(this.treeControl.expandParents(M),setTimeout(()=>this._scrollToItem(v),0))}_scrollToItem(v){const M=this._dataSource.findIndex(mt=>mt.id===v.id),R=this.treeScrollWrapper.nativeElement,et=R.scrollHeight/this._dataSource.length;R.scrollTop=M*et}hasChildren(v,M){return M.expandable}onNodeClick(v){const M=this._dataSource.find(R=>R.id===v.id);this._selectedUnit=M,this.selectedUnitChange.emit(M)}isSelectedNode(v){return!!(this.selectedUnit&&this.selectedUnit.id===v.id)}static{this.\u0275fac=function(M){return new(M||Us)}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:Us,selectors:[["ts-sysadminunit-tree"]],viewQuery:function(M,R){if(M&1&&c.\u0275\u0275viewQuery(Sd,7),M&2){let et;c.\u0275\u0275queryRefresh(et=c.\u0275\u0275loadQuery())&&(R.treeScrollWrapper=et.first)}},inputs:{dataSource:"dataSource",selectedUnit:"selectedUnit"},outputs:{selectedUnitChange:"selectedUnitChange"},decls:5,vars:3,consts:[["treeScrollWrapper",""],[1,"tree-wrapper"],[3,"dataSource","treeControl"],["matTreeNodePadding","","matTreeNodePaddingIndent","27",3,"ngClass","click",4,"matTreeNodeDef"],["matTreeNodePadding","","matTreeNodePaddingIndent","27",3,"ngClass","click",4,"matTreeNodeDef","matTreeNodeDefWhen"],["matTreeNodePadding","","matTreeNodePaddingIndent","27",3,"click","ngClass"],[1,"toggle-icon"],["matTreeNodeToggle","",1,"toggle-icon",3,"ngClass"]],template:function(M,R){M&1&&(c.\u0275\u0275elementStart(0,"div",1,0)(2,"mat-tree",2),c.\u0275\u0275template(3,Zu,3,4,"mat-tree-node",3)(4,wd,3,6,"mat-tree-node",4),c.\u0275\u0275elementEnd()()),M&2&&(c.\u0275\u0275advance(2),c.\u0275\u0275property("dataSource",R.treeDataSource)("treeControl",R.treeControl),c.\u0275\u0275advance(2),c.\u0275\u0275property("matTreeNodeDefWhen",R.hasChildren))},dependencies:[g.NgClass,ni.MatTreeNodeDef,ni.MatTreeNodePadding,ni.MatTreeNodeToggle,ni.MatTree,ni.MatTreeNode],styles:[".tree-wrapper[_ngcontent-%COMP%]{padding-top:15px;display:block;overflow:auto;max-height:313px}.tree-wrapper[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]{color:#444;line-height:19px;max-height:30px;min-height:30px;white-space:nowrap}.tree-wrapper[_ngcontent-%COMP%]   .mat-tree-node.selected[_ngcontent-%COMP%]{background-color:#f2f5ff}.tree-wrapper[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{width:16px;height:16px;margin-right:14px;margin-top:2px}.tree-wrapper[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{background:url(plus.svg) no-repeat;cursor:pointer}.tree-wrapper[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{background:url(minus.svg) no-repeat;cursor:pointer}"]})}}const Gv=["usersListContainer"],hy=(rt,v)=>({"mat-optgroup-label":rt,"selectable-item":v}),O_=rt=>({selected:rt});function Hb(rt,v){rt&1&&c.\u0275\u0275element(0,"ts-mask")}function Ed(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"mat-option",22),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),rt&2){const M=v.$implicit;c.\u0275\u0275property("value",M.sysAdminUnit)("ngClass",c.\u0275\u0275pureFunction2(4,hy,!M.sysAdminUnit,M.sysAdminUnit))("disabled",!M.sysAdminUnit),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate((M.sysAdminUnit==null?null:M.sysAdminUnit.name)||M.groupName)}}function _y(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"cdk-virtual-scroll-viewport",20),c.\u0275\u0275template(1,Ed,2,7,"mat-option",21),c.\u0275\u0275elementEnd()),rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275styleProp("height",M.calculateSearchResultContainerHeight()),c.\u0275\u0275advance(),c.\u0275\u0275property("cdkVirtualForOf",M.filteredSysAdminUnits)}}function yn(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"ts-sysadminunit-tree",23),c.\u0275\u0275twoWayListener("selectedUnitChange",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext();return c.\u0275\u0275twoWayBindingSet(mt.selectedUnit,et)||(mt.selectedUnit=et),c.\u0275\u0275resetView(et)}),c.\u0275\u0275listener("dblclick",function(){c.\u0275\u0275restoreView(M);const et=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(et.onTreeDoubleClick())}),c.\u0275\u0275elementEnd()}if(rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275property("dataSource",M.dataSource),c.\u0275\u0275twoWayProperty("selectedUnit",M.selectedUnit)}}function na(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"ts-sysadminunit-tree",23),c.\u0275\u0275twoWayListener("selectedUnitChange",function(et){c.\u0275\u0275restoreView(M);const mt=c.\u0275\u0275nextContext();return c.\u0275\u0275twoWayBindingSet(mt.selectedUnit,et)||(mt.selectedUnit=et),c.\u0275\u0275resetView(et)}),c.\u0275\u0275listener("dblclick",function(){c.\u0275\u0275restoreView(M);const et=c.\u0275\u0275nextContext();return c.\u0275\u0275resetView(et.onTreeDoubleClick())}),c.\u0275\u0275elementEnd()}if(rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275property("dataSource",M.dataSource),c.\u0275\u0275twoWayProperty("selectedUnit",M.selectedUnit)}}function Mr(rt,v){if(rt&1){const M=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"div",27),c.\u0275\u0275listener("click",function(){const et=c.\u0275\u0275restoreView(M).$implicit,mt=c.\u0275\u0275nextContext(2);return c.\u0275\u0275resetView(mt.onItemClick(et))})("dblclick",function(){c.\u0275\u0275restoreView(M);const et=c.\u0275\u0275nextContext(2);return c.\u0275\u0275resetView(et.onTreeDoubleClick())}),c.\u0275\u0275elementStart(1,"div",28),c.\u0275\u0275text(2),c.\u0275\u0275elementEnd()()}if(rt&2){const M=v.$implicit,R=c.\u0275\u0275nextContext(2);c.\u0275\u0275propertyInterpolate("id",M.id),c.\u0275\u0275property("ngClass",c.\u0275\u0275pureFunction1(3,O_,R.isSelectedItem(M))),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate1(" ",M.name," ")}}function ai(rt,v){if(rt&1&&(c.\u0275\u0275elementStart(0,"div",24)(1,"cdk-virtual-scroll-viewport",25,1),c.\u0275\u0275template(3,Mr,3,5,"div",26),c.\u0275\u0275elementEnd()()),rt&2){const M=c.\u0275\u0275nextContext();c.\u0275\u0275advance(3),c.\u0275\u0275property("cdkVirtualForOf",M.dataSource)}}var Zn;(function(rt){rt[rt.OrganizationRoles=0]="OrganizationRoles",rt[rt.FunctionalRoles=1]="FunctionalRoles",rt[rt.Users=2]="Users"})(Zn||(Zn={}));class Qu{constructor(v,M,R,et,mt){this.dialogRef=v,this.dialogService=M,this.rightManagementService=R,this.translateService=et,this.data=mt,this.isLoading=!1,this.selectedTabIndex=0}_getGroupNameByTabIndex(v){let M="";switch(v){case Zn.OrganizationRoles:M=this.translateService.instant("SelectSysAdminUnitDialog.OrganizationalRoles");break;case Zn.FunctionalRoles:M=this.translateService.instant("SelectSysAdminUnitDialog.FunctionalRoles");break;case Zn.Users:M=this.translateService.instant("SelectSysAdminUnitDialog.Users");break}return M}_getAllEmployeesUnit(){return this.sysAdminUnits.find(v=>v.id===$t.J$)}_getAllPortalUsersUnit(){return this.sysAdminUnits.find(v=>v.id===$t.vZ)}_getSysAdminUnitTypesByTabIndex(v){let M=[];switch(v){case Zn.OrganizationRoles:M=[$t.Zh.Organization,$t.Zh.Division,$t.Zh.Manager,$t.Zh.SelfServicePortalUser];break;case Zn.FunctionalRoles:M=[$t.Zh.FunctionalRole];break;case Zn.Users:M=[$t.Zh.User,$t.Zh.TechnicalUser];break}return M}_fillSysAdminUnitsWithGroup(v){this.sysAdminUnitsWithGroup=[],Object.keys(Zn).forEach(M=>{const R=Number(Zn[M]);if(isNaN(R))return;const et=this._getSysAdminUnitTypesByTabIndex(R),mt=this._getGroupNameByTabIndex(R);this.sysAdminUnitsWithGroup.push({sysAdminUnit:null,tabIndex:R,groupName:mt}),v.filter(ht=>et.indexOf(ht.sysAdminUnitTypeValue)>-1).forEach(ht=>{this.sysAdminUnitsWithGroup.push({sysAdminUnit:ht,tabIndex:R,groupName:mt})})})}_prepareSysAdminUnits(v){if(!v||!v.success){this.isLoading=!1,v&&v.errorInfo&&this.dialogService.openInfoDialog(v.errorInfo.message);return}this.sysAdminUnits=v.sysAdminUnits,this._fillSysAdminUnitsWithGroup(this.sysAdminUnits),this.fillContentByTab(Zn.OrganizationRoles),this.isLoading=!1}_applySysAdminUnit(){const v=this.data&&this.data.validator,M=v&&v(this.selectedUnit);if(M&&!M.success){this.dialogService.openInfoDialog(M.message);return}this.dialogRef.close(this.selectedUnit)}_changeTabIndexBySysAdminUnitType(v){let M=this.selectedTabIndex;switch(v){case $t.Zh.Organization:case $t.Zh.Division:case $t.Zh.Manager:case $t.Zh.SelfServicePortalUser:M=Zn.OrganizationRoles;break;case $t.Zh.FunctionalRole:M=Zn.FunctionalRoles;break;case $t.Zh.User:case $t.Zh.TechnicalUser:M=Zn.Users;break}this.selectedTabIndex=M}_scrollToSelectedItem(){const v=this.selectedUnit&&this.dataSource.findIndex(M=>M.id===this.selectedUnit.id);v!==-1&&setTimeout(()=>{this._viewport.scrollToIndex(v)},0)}ngOnInit(){this.isLoading=!0,this.rightManagementService.getSysAdminUnitList().subscribe(this._prepareSysAdminUnits.bind(this))}fillContentByTab(v){if(!Array.isArray(this.sysAdminUnits)){this.dataSource=null;return}const M=this._getSysAdminUnitTypesByTabIndex(v),R=this.sysAdminUnits.filter(et=>M.indexOf(et.sysAdminUnitTypeValue)>-1);if(v===Zn.FunctionalRoles){R.push(this._getAllEmployeesUnit());const et=this._getAllPortalUsersUnit();et&&R.push(et)}this.dataSource=R,this.selectedTabIndex===Zn.Users&&this._scrollToSelectedItem()}onTreeDoubleClick(){this.selectedUnit&&this._applySysAdminUnit()}onSelectButtonClick(){this._applySysAdminUnit()}getSysAdminUnitName(v){return v.name}onFilteredSysAdminUnitSelected(v){const M=v.option.value;this._changeTabIndexBySysAdminUnitType(M.sysAdminUnitTypeValue),this.selectedUnit=M,this.fillContentByTab(this.selectedTabIndex),this.selectedTabIndex===Zn.Users&&this._scrollToSelectedItem()}search(v){if(!v||v.length<3){this.filteredSysAdminUnits=[];return}v=v.toLocaleLowerCase(),this.filteredSysAdminUnits=this.sysAdminUnitsWithGroup.filter(R=>!R.sysAdminUnit||R.sysAdminUnit.name.toLowerCase().indexOf(v.toLowerCase())!==-1).filter((R,et,mt)=>R.sysAdminUnit||!R.sysAdminUnit&&mt.findIndex(ht=>ht.groupName===R.groupName&&ht.sysAdminUnit)>-1)}isOrganizationalRolesVisible(){return this.selectedTabIndex===Zn.OrganizationRoles}isFunctionalRolesVisible(){return this.selectedTabIndex===Zn.FunctionalRoles}isUsersVisible(){return this.selectedTabIndex===Zn.Users}onItemClick(v){this.selectedUnit=v}isSelectedItem(v){return!!(this.selectedUnit&&this.selectedUnit.id===v.id)}calculateSearchResultContainerHeight(){return`${this.filteredSysAdminUnits.length*33}px`}static{this.\u0275fac=function(M){return new(M||Qu)(c.\u0275\u0275directiveInject(x.MatLegacyDialogRef),c.\u0275\u0275directiveInject(Na.o),c.\u0275\u0275directiveInject($e),c.\u0275\u0275directiveInject(B.TranslateService),c.\u0275\u0275directiveInject(x.MAT_LEGACY_DIALOG_DATA))}}static{this.\u0275cmp=c.\u0275\u0275defineComponent({type:Qu,selectors:[["ts-select-sysadminunit-dialog"]],viewQuery:function(M,R){if(M&1&&c.\u0275\u0275viewQuery(Gv,5),M&2){let et;c.\u0275\u0275queryRefresh(et=c.\u0275\u0275loadQuery())&&(R._viewport=et.first)}},decls:33,vars:30,consts:[["auto","matAutocomplete"],["usersListContainer",""],[4,"ngIf"],["mat-dialog-title",""],["mat-icon-button","",1,"close-dialog",3,"mat-dialog-close"],["svgIcon","close",1,"close-button-icon"],["mat-dialog-actions",""],["mat-flat-button","","color","accent",3,"click","disabled"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"],["mat-dialog-content",""],[1,"search-input"],["floatLabel","never"],["matInput","","type","text","spellcheck","false",3,"input","focus","placeholder","matAutocomplete"],["matSuffix","","svgIcon","search"],[3,"optionSelected","displayWith"],["itemSize","33","minBufferPx","297","maxBufferPx","396","class","search-list-viewport",3,"height",4,"ngIf"],["mat-stretch-tabs","","animationDuration","0ms","disableRipple","true",3,"selectedIndexChange","selectedIndex"],[3,"label"],[3,"dataSource","selectedUnit","selectedUnitChange","dblclick",4,"ngIf"],["class","users-wrapper",4,"ngIf"],["itemSize","33","minBufferPx","297","maxBufferPx","396",1,"search-list-viewport"],[3,"value","ngClass","disabled",4,"cdkVirtualFor","cdkVirtualForOf"],[3,"value","ngClass","disabled"],[3,"selectedUnitChange","dblclick","dataSource","selectedUnit"],[1,"users-wrapper"],["itemSize","30","minBufferPx","300","maxBufferPx","600",1,"users-list-viewport"],["class","mat-tree-node",3,"ngClass","id","click","dblclick",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"mat-tree-node",3,"click","dblclick","ngClass","id"],[1,"user-item"]],template:function(M,R){if(M&1){const et=c.\u0275\u0275getCurrentView();c.\u0275\u0275template(0,Hb,1,0,"ts-mask",2),c.\u0275\u0275elementStart(1,"div",3)(2,"span"),c.\u0275\u0275text(3),c.\u0275\u0275pipe(4,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(5,"button",4),c.\u0275\u0275element(6,"mat-icon",5),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(7,"div",6)(8,"button",7),c.\u0275\u0275listener("click",function(){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onSelectButtonClick())}),c.\u0275\u0275text(9),c.\u0275\u0275pipe(10,"translate"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(11,"button",8),c.\u0275\u0275text(12),c.\u0275\u0275pipe(13,"translate"),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(14,"div",9)(15,"div",10)(16,"mat-form-field",11)(17,"input",12),c.\u0275\u0275pipe(18,"translate"),c.\u0275\u0275listener("input",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.search(ht.target.value))})("focus",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.search(ht.target.value))}),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(19,"mat-icon",13),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(20,"mat-autocomplete",14,0),c.\u0275\u0275listener("optionSelected",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.onFilteredSysAdminUnitSelected(ht))}),c.\u0275\u0275template(22,_y,2,3,"cdk-virtual-scroll-viewport",15),c.\u0275\u0275elementEnd()(),c.\u0275\u0275elementStart(23,"mat-tab-group",16),c.\u0275\u0275twoWayListener("selectedIndexChange",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275twoWayBindingSet(R.selectedTabIndex,ht)||(R.selectedTabIndex=ht),c.\u0275\u0275resetView(ht)}),c.\u0275\u0275listener("selectedIndexChange",function(ht){return c.\u0275\u0275restoreView(et),c.\u0275\u0275resetView(R.fillContentByTab(ht))}),c.\u0275\u0275elementStart(24,"mat-tab",17),c.\u0275\u0275pipe(25,"translate"),c.\u0275\u0275template(26,yn,1,2,"ts-sysadminunit-tree",18),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(27,"mat-tab",17),c.\u0275\u0275pipe(28,"translate"),c.\u0275\u0275template(29,na,1,2,"ts-sysadminunit-tree",18),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(30,"mat-tab",17),c.\u0275\u0275pipe(31,"translate"),c.\u0275\u0275template(32,ai,4,1,"div",19),c.\u0275\u0275elementEnd()()()}if(M&2){const et=c.\u0275\u0275reference(21);c.\u0275\u0275property("ngIf",R.isLoading),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(4,16,"SelectSysAdminUnitDialog.Title")),c.\u0275\u0275advance(5),c.\u0275\u0275property("disabled",!R.selectedUnit),c.\u0275\u0275advance(),c.\u0275\u0275textInterpolate1(" ",c.\u0275\u0275pipeBind1(10,18,"SelectSysAdminUnitDialog.Select")," "),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(c.\u0275\u0275pipeBind1(13,20,"SelectSysAdminUnitDialog.Cancel")),c.\u0275\u0275advance(5),c.\u0275\u0275property("placeholder",c.\u0275\u0275pipeBind1(18,22,"SelectSysAdminUnitDialog.Search"))("matAutocomplete",et),c.\u0275\u0275advance(3),c.\u0275\u0275property("displayWith",R.getSysAdminUnitName),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",R.filteredSysAdminUnits&&R.filteredSysAdminUnits.length>0),c.\u0275\u0275advance(),c.\u0275\u0275twoWayProperty("selectedIndex",R.selectedTabIndex),c.\u0275\u0275advance(),c.\u0275\u0275property("label",c.\u0275\u0275pipeBind1(25,24,"SelectSysAdminUnitDialog.OrganizationalRoles")),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",R.isOrganizationalRolesVisible()),c.\u0275\u0275advance(),c.\u0275\u0275property("label",c.\u0275\u0275pipeBind1(28,26,"SelectSysAdminUnitDialog.FunctionalRoles")),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",R.isFunctionalRolesVisible()),c.\u0275\u0275advance(),c.\u0275\u0275property("label",c.\u0275\u0275pipeBind1(31,28,"SelectSysAdminUnitDialog.Users")),c.\u0275\u0275advance(2),c.\u0275\u0275property("ngIf",R.isUsersVisible())}},dependencies:[pn.I,g.NgClass,g.NgIf,m.MatLegacyAutocomplete,m.MatLegacyAutocompleteTrigger,Fa.MatLegacyOption,h.MatLegacyButton,x.MatLegacyDialogClose,x.MatLegacyDialogTitle,x.MatLegacyDialogContent,x.MatLegacyDialogActions,w.MatIcon,I.MatLegacyFormField,I.MatLegacySuffix,k.MatLegacyInput,io.MatLegacyTabGroup,io.MatLegacyTab,ao.CdkFixedSizeVirtualScroll,ao.CdkVirtualForOf,ao.CdkVirtualScrollViewport,Us,B.TranslatePipe],styles:["[_nghost-%COMP%]{padding:4px 10px;min-width:580px;min-height:512px}[mat-dialog-actions][_ngcontent-%COMP%]{margin-bottom:5px!important}.search-input[_ngcontent-%COMP%]{padding-top:12px;font-size:14px}.search-input[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%;line-height:18px!important}.search-input[_ngcontent-%COMP%]   mat-icon[svgicon=search][_ngcontent-%COMP%]{width:16px;height:16px;line-height:0;vertical-align:middle}.search-list-viewport[_ngcontent-%COMP%]{max-height:254px}.selectable-item[_ngcontent-%COMP%]{padding-left:50px}.users-wrapper[_ngcontent-%COMP%]   .users-list-viewport[_ngcontent-%COMP%]{height:325px}.users-wrapper[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]{color:#444;line-height:19px;max-height:30px;min-height:30px;white-space:nowrap}.users-wrapper[_ngcontent-%COMP%]   .mat-tree-node.selected[_ngcontent-%COMP%]{background-color:#f2f5ff}.users-wrapper[_ngcontent-%COMP%]   .mat-tree-node[_ngcontent-%COMP%]   .user-item[_ngcontent-%COMP%]{margin-left:30px}"]})}}class Bc{static{this.\u0275fac=function(M){return new(M||Bc)}}static{this.\u0275mod=c.\u0275\u0275defineNgModule({type:Bc})}static{this.\u0275inj=c.\u0275\u0275defineInjector({providers:[$e],imports:[oo.P,In.R,ie.S,g.CommonModule,jc.DragDropModule,l.FormsModule,m.MatLegacyAutocompleteModule,h.MatLegacyButtonModule,_.MatLegacyCheckboxModule,x.MatLegacyDialogModule,E.MatDividerModule,y.MatExpansionModule,w.MatIconModule,k.MatLegacyInputModule,A.MatLegacyMenuModule,F.MatLegacySelectModule,Vo.MatLegacySlideToggleModule,ro.MatSortModule,zs.MatLegacyTableModule,io.MatLegacyTabsModule,N.MatTooltipModule,ni.MatTreeModule,I.MatLegacyFormFieldModule,Qt,B.TranslateModule,ao.ScrollingModule,ao.CdkVirtualScrollViewport]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&c.\u0275\u0275setNgModuleScope(Bc,{declarations:[Qu,Us],imports:[oo.P,In.R,ie.S,g.CommonModule,jc.DragDropModule,l.FormsModule,m.MatLegacyAutocompleteModule,h.MatLegacyButtonModule,_.MatLegacyCheckboxModule,x.MatLegacyDialogModule,E.MatDividerModule,y.MatExpansionModule,w.MatIconModule,k.MatLegacyInputModule,A.MatLegacyMenuModule,F.MatLegacySelectModule,Vo.MatLegacySlideToggleModule,ro.MatSortModule,zs.MatLegacyTableModule,io.MatLegacyTabsModule,N.MatTooltipModule,ni.MatTreeModule,I.MatLegacyFormFieldModule,Qt,B.TranslateModule,ao.ScrollingModule,ao.CdkVirtualScrollViewport]})})();class Td{constructor(v){this._elRef=v,this.clickOutside=new c.EventEmitter}onOutsideClick(v){const M=v.target;this._elRef.nativeElement.contains(M)||this.clickOutside.emit()}static{this.\u0275fac=function(M){return new(M||Td)(c.\u0275\u0275directiveInject(c.ElementRef))}}static{this.\u0275dir=c.\u0275\u0275defineDirective({type:Td,selectors:[["","crtClickOutside",""]],hostBindings:function(M,R){M&1&&c.\u0275\u0275listener("click",function(mt){return R.onOutsideClick(mt)},!1,c.\u0275\u0275resolveDocument)},outputs:{clickOutside:"crtClickOutside"}})}}var Wb=o(48416);class Ir{static{this.\u0275fac=function(M){return new(M||Ir)}}static{this.\u0275mod=c.\u0275\u0275defineNgModule({type:Ir})}static{this.\u0275inj=c.\u0275\u0275defineInjector({imports:[g.CommonModule,Y.B]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&c.\u0275\u0275setNgModuleScope(Ir,{declarations:[Va],imports:[g.CommonModule,Y.B],exports:[Va]})})();class Fo{static{this.\u0275fac=function(M){return new(M||Fo)}}static{this.\u0275mod=c.\u0275\u0275defineNgModule({type:Fo})}static{this.\u0275inj=c.\u0275\u0275defineInjector({providers:[Ao],imports:[g.CommonModule,oo.P,Ir,m.MatLegacyAutocompleteModule,h.MatLegacyButtonModule,x.MatLegacyDialogModule,I.MatLegacyFormFieldModule,w.MatIconModule,k.MatLegacyInputModule,z.MatProgressSpinnerModule,Ba,B.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&c.\u0275\u0275setNgModuleScope(Fo,{declarations:[Jr,Ze],imports:[g.CommonModule,oo.P,Ir,m.MatLegacyAutocompleteModule,h.MatLegacyButtonModule,x.MatLegacyDialogModule,I.MatLegacyFormFieldModule,w.MatIconModule,k.MatLegacyInputModule,z.MatProgressSpinnerModule,Ba,B.TranslateModule]})})();class ma{constructor(v){this._window=v,this._defaultBlinkInterval=500,this._defaultBlinkPrefix="*"}_getBlinkConfig(v){const M=this._window.document,R=v?.title||M.title;return{title:R,blinkTitle:v?.blinkTitle||`${this._defaultBlinkPrefix}${R}`,blinkInterval:v?.blinkInterval||this._defaultBlinkInterval,blinkOnce:(v||{}).blinkOnce===!0}}_createSyncSubject(){const v=new wt.Subject;return(0,wt.fromEvent)(this._window,"mousemove").pipe((0,Et.first)(),(0,Et.map)(M=>null)).subscribe(v),v}blink(v){return(0,wt.of)(null)}static{this.\u0275fac=function(M){return new(M||ma)(c.\u0275\u0275inject(G.ZP))}}static{this.\u0275prov=c.\u0275\u0275defineInjectable({token:ma,factory:ma.\u0275fac,providedIn:"root"})}}function zc(rt){return rt.cultureInfo.sysCultureName}const D_={showDelay:300,hideDelay:300,touchendHideDelay:1e3,position:"above"};let Di=class kv{constructor(v){this._materialIconsRegistrator=v,gy.forEach(M=>{this._materialIconsRegistrator.addIcons([{name:M,icon:o(10722)(`./${M}.svg`)},{name:`${M}-large`,icon:o(12014)(`./${M}.svg`)}])})}static{this.\u0275fac=function(M){return new(M||kv)(c.\u0275\u0275inject(Z.K))}}static{this.\u0275mod=c.\u0275\u0275defineNgModule({type:kv})}static{this.\u0275inj=c.\u0275\u0275defineInjector({providers:[G.rK,ma,we.N,{provide:t.MAT_DATE_LOCALE,useFactory:zc,deps:[st.oq]},{provide:t.MAT_DATE_FORMATS,useValue:T.MAT_MOMENT_DATE_FORMATS},{provide:t.DateAdapter,useClass:T.MomentDateAdapter,deps:[t.MAT_DATE_LOCALE]},{provide:N.MAT_TOOLTIP_DEFAULT_OPTIONS,useValue:D_}],imports:[g.CommonModule,Ya,$,Ir,er,l.FormsModule,Fo,m.MatLegacyAutocompleteModule,h.MatLegacyButtonModule,_.MatLegacyCheckboxModule,f.MatDatepickerModule,x.MatLegacyDialogModule,E.MatDividerModule,I.MatLegacyFormFieldModule,w.MatIconModule,k.MatLegacyInputModule,A.MatLegacyMenuModule,T.MatMomentDateModule,z.MatProgressSpinnerModule,t.MatRippleModule,F.MatLegacySelectModule,N.MatTooltipModule,Ba,L.RouterModule,Y.B,Zt,B.TranslateModule,l.ReactiveFormsModule,O.c,y.MatExpansionModule,Ct,tt.k,Bc,Ya,$,Ir,Fo,Ba,Y.B]})}};Di=(0,p.__decorate)([(0,U.g)({viewElements:[Dt.N,Wt.Q,No,Vc,la,Pi,As],converters:[Gn,Ca,ne,ut,xt,Xt,he,ye,Oe,ta,fn,Tn.G,Cn,Ge,bi,Eo,Ci,Qa,yi,Aa,ws,La,ka,ae,H,K,it],requestHandlers:[Yt]}),(0,p.__metadata)("design:paramtypes",[Z.K])],Di),function(){(typeof ngJitMode>"u"||ngJitMode)&&c.\u0275\u0275setNgModuleScope(Di,{declarations:[zn,ks,vr,Ti,qi,Dc,jb.V,w_.l,Nc.D,Ye,Ac,yd,vd,zb.C,yr,Dt.N,Wt.Q,Vc,la,No,As,za,Td,Wb.k,Gu.v],imports:[g.CommonModule,Ya,$,Ir,er,l.FormsModule,Fo,m.MatLegacyAutocompleteModule,h.MatLegacyButtonModule,_.MatLegacyCheckboxModule,f.MatDatepickerModule,x.MatLegacyDialogModule,E.MatDividerModule,I.MatLegacyFormFieldModule,w.MatIconModule,k.MatLegacyInputModule,A.MatLegacyMenuModule,T.MatMomentDateModule,z.MatProgressSpinnerModule,t.MatRippleModule,F.MatLegacySelectModule,N.MatTooltipModule,Ba,L.RouterModule,Y.B,Zt,B.TranslateModule,l.ReactiveFormsModule,O.c,y.MatExpansionModule,Ct,tt.k,Bc],exports:[zn,ks,vr,Ti,qi,Ya,Dc,$,Ir,jb.V,w_.l,No,Fo,Ye,Ac,yd,Ba,vd,zb.C,Y.B,Dt.N,Wt.Q,Vc,la,za,Td,Wb.k,Gu.v]})}()},8144:(P,j,o)=>{o.d(j,{Mm:()=>U,Rq:()=>L,jF:()=>N});var p=o(5960),g=o.n(p),l=o(59131),t=o.n(l),f=o(77592),E=o(22524),y=o(68712),w=o(26594),m=o(28399),h=o.n(m),_=o(26828),x=o.n(_),I=o(29957),k=o.n(I),A=o(65001),F=o(527);const z=["container"],N={Primary:{key:"primary",value:"#FFFFFF"}},T="transparent",L={alignItems:"stretch"};class U extends y.K{static{this._baseColors=Object.values(N).map(({key:tt,value:Z})=>({key:tt.toLowerCase(),value:Z.toLowerCase()}))}set container(tt){this._container=tt}get container(){return this.featureValues.DisableRemoveDuplicateIDs?this._container:this.elementRef}get isResponsive(){return this.responsiveWidth<Number.MAX_VALUE}get isResponsiveWidth(){return this.elementResponsiveWidth?this.elementWidth<this.elementResponsiveWidth:this.width<this.responsiveWidth}get responsiveWidth(){return 395*this.window.devicePixelRatio}set responsiveWidth(tt){throw new Error("responsiveWidth is not supported yet")}constructor(tt){super(tt),this.injector=tt,this.width=Number.MAX_VALUE,this.elementWidth=Number.MAX_VALUE,this.items=[],this.visiblePadding=!0,this.borderRadius=A.Z.None,this.stretch=!1,this.fitContent=!0,this.elementResponsiveWidth=0,this.window=this.injector.get(E.ZP),this.featureValues=this.injector.get(w.G),this.renderer=this.injector.get(l.Renderer2)}static isBaseColorKey(tt){if(tt&&typeof tt=="string"){const Z=tt.toLowerCase();return U._baseColors.some(G=>G.key===Z)}return!1}static isBaseColorValue(tt){if(tt&&typeof tt=="string"){const Z=tt.toLowerCase();return U._baseColors.some(G=>G.value===Z)}return!1}static getBaseColorKey(tt){const Z=tt.toLowerCase();return U._baseColors.find(G=>G.value===Z)?.key}static getBaseColorValue(tt){const Z=tt.toLowerCase();return U._baseColors.find(G=>G.key===Z)?.value}_preparePadding(){const{top:tt,bottom:Z}=this.padding;let{left:G,right:Y}=this.padding;return this.isRtl()&&([Y,G]=[G,Y]),{top:tt,bottom:Z,left:G,right:Y}}_paddingClasses(){const tt=[],Z=this.padding;if(!Z)return tt;if((0,m.isObject)(Z)){const{top:G,bottom:Y,left:O,right:st}=this._preparePadding();return this.applySizeClass("container-padding-top-{0}",G,tt),this.applySizeClass("container-padding-bottom-{0}",Y,tt),this.applySizeClass("container-padding-left-{0}",O,tt),this.applySizeClass("container-padding-right-{0}",st,tt),tt}return this.applySizeClass("container-padding-{0}",Z,tt),tt}_paddingStyles(){const tt={},Z=this.padding;if(!Z)return tt;if((0,m.isObject)(Z)){const{top:G,bottom:Y,left:O,right:st}=this._preparePadding();return this.applySizeStyle("paddingTop",G,tt),this.applySizeStyle("paddingBottom",Y,tt),this.applySizeStyle("paddingLeft",O,tt),this.applySizeStyle("paddingRight",st,tt),tt}return this.applySizeStyle("padding",Z,tt),tt}_borderRadiusClasses(){const tt=[],Z=this.borderRadius;return Z&&Z!==A.Z.None&&(this.applySizeClass("container-border-radius-{0}",Z,tt),tt.push("container-border-area")),tt}_borderRadiusStyles(){const tt={},Z=this.borderRadius;return Z&&((0,F.E)(Z)?tt.borderRadius=`${Z}px`:(0,A.p)(Z)||(tt.borderRadius=Z)),tt}_colorClasses(){const tt=this.color?.toLowerCase(),Z=[];return U.isBaseColorKey(tt)&&Z.push(`container-background-color-${tt}`),Z}_colorStyles(){const tt={};return this.color&&!U.isBaseColorKey(this.color)&&(tt.backgroundColor=this.color),tt}onScroll(){}applySizeClass(tt,Z,G){if(typeof Z=="string"&&(0,A.p)(Z)&&Z!==A.Z.None){const Y=I.String.Format(tt,Z.toLowerCase());G.push(Y)}}onResize(){this.window.requestAnimationFrame(()=>{this.zone.run(()=>{this.isResponsive&&(this.width=this.window.innerWidth,this.elementWidth=this.elementRef.nativeElement.clientWidth,this.updateResponsiveStyles(),this.detectChanges())})})}getClasses(){const tt=super.getClasses(),Z=this._paddingClasses(),G=this._colorClasses(),Y=this._borderRadiusClasses();return[...tt,...Z,...G,...Y]}applySizeStyle(tt,Z,G){Z&&((0,F.E)(Z)?G[tt]=`${Z}px`:typeof Z=="string"&&!(0,A.p)(Z)&&(G[tt]=Z))}setValuesFromConfig(tt,Z=[]){super.setValuesFromConfig(tt,["items"])}get containerStyles(){return{...(0,m.isObject)(this.styles)?this.styles:{},...this._paddingStyles(),...this._borderRadiusStyles(),...this._colorStyles()}}detectChangesAsync(tt=null){this.window.requestAnimationFrame(()=>{setTimeout(()=>{this.detectChanges(),tt?.()})})}subscribeResize(){this.resizeObserver=new(x())(()=>this.onResize()),this.container&&this.resizeObserver.observe(this.container.nativeElement)}updateResponsiveStyles(){}ngOnInit(){this.visiblePadding=!this.featureValues.HideDesignPadding}ngAfterViewInit(){this.zone=this.injector.get(l.NgZone),this.subscribeResize()}ngOnDestroy(){super.ngOnDestroy(),this.resizeObserver?.disconnect()}static{this.\u0275fac=function(Z){return new(Z||U)(l.\u0275\u0275directiveInject(l.Injector))}}static{this.\u0275dir=l.\u0275\u0275defineDirective({type:U,viewQuery:function(Z,G){if(Z&1&&l.\u0275\u0275viewQuery(z,5),Z&2){let Y;l.\u0275\u0275queryRefresh(Y=l.\u0275\u0275loadQuery())&&(G.container=Y.first)}},hostVars:4,hostBindings:function(Z,G){Z&1&&l.\u0275\u0275listener("scroll",function(){return G.onScroll()}),Z&2&&l.\u0275\u0275classProp("stretch",G.stretch)("fit-content",G.fitContent)},inputs:{items:"items",visiblePadding:"visiblePadding",padding:"padding",borderRadius:"borderRadius",color:"color",responsiveWidth:"responsiveWidth",stretch:"stretch",fitContent:"fitContent",elementResponsiveWidth:"elementResponsiveWidth"},features:[l.\u0275\u0275InheritDefinitionFeature]})}}(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Array)],U.prototype,"items",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],U.prototype,"visiblePadding",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],U.prototype,"padding",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],U.prototype,"borderRadius",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",I.String)],U.prototype,"color",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Number),(0,p.__metadata)("design:paramtypes",[Object])],U.prototype,"responsiveWidth",null),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],U.prototype,"stretch",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],U.prototype,"fitContent",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],U.prototype,"elementResponsiveWidth",void 0)},83648:(P,j,o)=>{o.d(j,{B:()=>E});var p=o(28399),g=o.n(p),l=o(8144),t=o(59131),f=o.n(t);class E extends l.Mm{constructor(){super(...arguments),this.slotHTMLElements=[]}setSlotElementStyles(w){w=this.castSlotElements(w.filter(m=>!(m instanceof Comment))),this.applySlotElementStyles(w)}castSlotElements(w){}getItemLayout(w){}castElementStylesToLayoutConfig(w){}applySlotElementStyles(w){w.forEach(m=>{const h=this.getItemLayout(m.layoutConfig);Object.entries(h).forEach(([_,x])=>{const I=(0,p.kebabCase)(_);this.renderer.setStyle(m,I,x)})})}get shouldUseSlots(){return!this.items||!this.items.length}static{this.\u0275fac=(()=>{let w;return function(h){return(w||(w=t.\u0275\u0275getInheritedFactory(E)))(h||E)}})()}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:E,features:[t.\u0275\u0275InheritDefinitionFeature]})}}},75816:(P,j,o)=>{o.d(j,{Q:()=>ct,R:()=>gt});var p=o(5960),g=o.n(p),l=o(59131),t=o.n(l),f=o(77592),E=o(34760),y=o(3671),w=o(96677),m=o(28399),h=o.n(m),_=o(36486),x=o.n(_),I=o(65001),k=o(527),A=o(8144),F=o(83648),z=o(40297),N=o.n(z),T=o(30491);const L=["items"],U=["*"];function B(nt,Q){nt&1&&l.\u0275\u0275elementContainer(0)}function tt(nt,Q){if(nt&1){const q=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"slot",5),l.\u0275\u0275listener("slotchange",function(c){l.\u0275\u0275restoreView(q);const Tt=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(Tt.slotChange(c))}),l.\u0275\u0275elementEnd(),l.\u0275\u0275projection(1)}}function Z(nt,Q){if(nt&1&&(l.\u0275\u0275elementStart(0,"div",7),l.\u0275\u0275elementContainer(1,8),l.\u0275\u0275elementEnd()),nt&2){const q=Q.$implicit,lt=l.\u0275\u0275nextContext(3);l.\u0275\u0275property("ngStyle",lt.getItemLayout(q.layoutConfig)),l.\u0275\u0275advance(),l.\u0275\u0275property("crtViewElement",q)}}function G(nt,Q){if(nt&1&&l.\u0275\u0275template(0,Z,2,2,"div",6),nt&2){const q=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("ngForOf",q.items)}}function Y(nt,Q){if(nt&1&&l.\u0275\u0275template(0,B,1,0,"ng-container",4)(1,tt,2,0,"ng-template",null,1,l.\u0275\u0275templateRefExtractor)(3,G,1,1,"ng-template",null,2,l.\u0275\u0275templateRefExtractor),nt&2){const q=l.\u0275\u0275reference(2),lt=l.\u0275\u0275reference(4),c=l.\u0275\u0275nextContext();l.\u0275\u0275property("ngIf",c.shouldUseSlots)("ngIfThen",q)("ngIfElse",lt)}}function O(nt,Q){nt&1&&l.\u0275\u0275elementContainer(0)}function st(nt,Q){if(nt&1){const q=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"div",9),l.\u0275\u0275listener("scroll",function(){l.\u0275\u0275restoreView(q);const c=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(c.onInnerScroll())}),l.\u0275\u0275template(2,O,1,0,"ng-container",10),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()}if(nt&2){const q=l.\u0275\u0275nextContext(),lt=l.\u0275\u0275reference(1);l.\u0275\u0275advance(),l.\u0275\u0275styleProp("flex-direction",q.flexDirection),l.\u0275\u0275property("ngStyle",q.flexStyles)("ngClass",q.classes),l.\u0275\u0275attribute("id",q.id)("flex-direction",q.flexDirection)("role",q.role),l.\u0275\u0275advance(),l.\u0275\u0275property("ngTemplateOutlet",lt)}}const gt={...A.Rq,direction:"row",justifyContent:"start",gap:I.Z.Small};let ct=class Q0 extends F.B{constructor(){super(...arguments),this._containerClasses=[],this.useOldTemplate=!1,this.direction=gt.direction,this.justifyContent=gt.justifyContent,this.alignItems=gt.alignItems,this.gap=gt.gap,this.innerScroll=new l.EventEmitter}get hostClasses(){if(!this.useOldTemplate)return this.classes}get hostRole(){if(!this.useOldTemplate)return this.role}getClasses(){const q=[...super.getClasses(),"crt-flex",...this._gapClasses()].sort();return(0,m.isEqual)(this._containerClasses,q)||(this._containerClasses=q),this._containerClasses}_gapClasses(){const Q=[],q=this.gap||gt.gap;return this.applySizeClass("container-gap-{0}",q,Q),Q}castElementStylesToLayoutConfig(Q){const[q,lt,c,Tt,Nt,wt,Et,vt,Rt,xe]=["basis","align-self","grow","shrink","width","height","min-width","max-width","min-height","max-height"].map(le=>{const Ve=`layout-config-${le}`,Be=Q.getAttribute(Ve);if(Be)return Be});return{basis:q,alignSelf:lt,grow:Number(c),shrink:Number(Tt),width:Number(Nt),height:Number(wt),minWidth:Number(Et),maxWidth:Number(vt),minHeight:Number(Rt),maxHeight:Number(xe)}}castSlotElements(Q){for(const q of Q){const lt=this.castElementStylesToLayoutConfig(q);q.layoutConfig=lt}return Q}get hostFlexStyles(){if(!this.useOldTemplate)return this.flexStyles}get flexStyles(){const Q={};Q.justifyContent=this.justifyContent||gt.justifyContent,Q.alignItems=this.alignItems||gt.alignItems,Q.flexWrap=this.wrap||(this.isVertical?"nowrap":"wrap");const q=this.gap;return q&&((0,k.E)(q)?Q.gap=q+"px":(0,I.p)(q)||(Q.gap=q)),{...this.containerStyles,...Q}}get hostFlexDirection(){if(!this.useOldTemplate)return this.direction||this.styles?.flexDirection}get flexDirection(){return this.isVertical?this.direction||this.styles?.flexDirection:this.direction||this.styles?.flexDirection}get isVertical(){return["column","column-reverse"].includes(this.direction)}getItemLayout(Q){let q={};return Q?.basis&&(Q.basis==="fit-content"?this.direction==="column"?q.height="fit-content":q.width="fit-content":q.flexBasis=Q.basis),Q?.grow!==void 0&&(q.flexGrow=Q.grow),Q?.shrink!==void 0&&(q.flexShrink=Q.shrink),Q?.alignSelf&&(q.alignSelf=Q.alignSelf),Q?.width&&(q.width=`${Q.width}px`,q.minWidth=`${Q.width}px`),Q?.minWidth&&(q.minWidth=`${Q.minWidth}px`),Q?.maxWidth&&(q.maxWidth=`${Q.maxWidth}px`),Q?.height&&(q.height=`${Q.height}px`,q.minHeight=`${Q.height}px`),Q?.minHeight&&(q.minHeight=`${Q.minHeight}px`),Q?.maxHeight&&(q.maxHeight=`${Q.maxHeight}px`),Q&&Q.styles&&(q={...q,...Q.styles}),q}ngOnInit(){super.ngOnInit(),this.useOldTemplate=!!this.featureValues.DisableRemoveDuplicateIDs}ngAfterContentInit(){this.children.changes.pipe((0,_.startWith)(this.children),(0,_.takeUntil)(this.destroyed$)).subscribe(()=>{const Q=this.children.map(({nativeElement:q})=>q);Q?.length&&(this.slotHTMLElements=Q,this.setSlotElementStyles(this.slotHTMLElements))})}slotChange(Q){const q=Q.target.assignedNodes();!q||!q.length||(this.slotHTMLElements=q,this.setSlotElementStyles(this.slotHTMLElements))}onHostInnerScroll(){this.useOldTemplate||this.innerScroll.emit()}onInnerScroll(){this.innerScroll.emit()}static{this.\u0275fac=(()=>{let Q;return function(lt){return(Q||(Q=l.\u0275\u0275getInheritedFactory(Q0)))(lt||Q0)}})()}static{this.\u0275cmp=l.\u0275\u0275defineComponent({type:Q0,selectors:[["crt-flex"]],contentQueries:function(q,lt,c){if(q&1&&l.\u0275\u0275contentQuery(c,L,4,l.ElementRef),q&2){let Tt;l.\u0275\u0275queryRefresh(Tt=l.\u0275\u0275loadQuery())&&(lt.children=Tt)}},hostVars:8,hostBindings:function(q,lt){q&1&&l.\u0275\u0275listener("scroll",function(){return lt.onHostInnerScroll()}),q&2&&(l.\u0275\u0275attribute("role",lt.hostRole)("flex-direction",lt.hostFlexDirection),l.\u0275\u0275styleMap(lt.hostFlexStyles),l.\u0275\u0275classMap(lt.hostClasses),l.\u0275\u0275styleProp("flex-direction",lt.hostFlexDirection))},inputs:{direction:"direction",justifyContent:"justifyContent",wrap:"wrap",alignItems:"alignItems",gap:"gap",role:"role"},outputs:{innerScroll:"innerScroll"},features:[l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:U,decls:3,vars:2,consts:[["template",""],["slotsTemplate",""],["itemsTemplate",""],[4,"ngIf","ngIfElse"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"slotchange"],["class","crt-view-element-container",3,"ngStyle",4,"ngFor","ngForOf"],[1,"crt-view-element-container",3,"ngStyle"],[3,"crtViewElement"],[3,"scroll","ngStyle","ngClass"],[4,"ngTemplateOutlet"]],template:function(q,lt){if(q&1&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275template(0,Y,5,3,"ng-template",null,0,l.\u0275\u0275templateRefExtractor)(2,st,3,8,"ng-container",3)),q&2){const c=l.\u0275\u0275reference(1);l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",lt.useOldTemplate)("ngIfElse",c)}},dependencies:[z.NgClass,z.NgForOf,z.NgIf,z.NgTemplateOutlet,z.NgStyle,T.H],encapsulation:2})}};(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",String)],ct.prototype,"direction",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",String)],ct.prototype,"justifyContent",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",String)],ct.prototype,"wrap",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",String)],ct.prototype,"alignItems",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],ct.prototype,"gap",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",String)],ct.prototype,"role",void 0),(0,p.__decorate)([(0,E.j)(),(0,p.__metadata)("design:type",Object)],ct.prototype,"innerScroll",void 0),ct=(0,p.__decorate)([(0,y.v)({type:"crt.FlexContainer",contentSlots:["items"],reuseStrategy:w.B.Reuse})],ct)},27084:(P,j,o)=>{o.d(j,{N:()=>f});var p=o(28399),g=o.n(p),l=o(59131),t=o.n(l);class f{constructor(){this._maxGridLayoutRow=1,this._maxColumnsCount=12,this._defaultItemLayout={colSpan:1,row:1,column:1,rowSpan:1},this._defaultRowSpan=1,this._defaultColSpan=6}_applyExplicitPositions(y,w){if(y.every(m=>!m?.layoutConfig)){let m=1,h=1;y.forEach(_=>{const x=_.layoutConfig||{};x.column===void 0&&(x.column=h,h++),x.colSpan===void 0&&(x.colSpan=1),x.row===void 0&&(x.row=m),x.rowSpan===void 0&&(x.rowSpan=1),x.column===1&&x.colSpan===-1&&m++,h>w&&(h=1,m++),_.layoutConfig=x})}return y}_checkBitmapIntersection(y,w){let m,h;for(m=0,h=y.length;m<h;m++)if((y[m]&w[m])>0)return!0;return!1}_calculateBitMask(y,w,m){const h=m-y;return Math.pow(2,h)-Math.pow(2,h-w)}_isEmpty(y){return y==null||y===""||(0,p.isArray)(y)&&y.length===0}_getItemBitmap(y,w){const m=[];if(this._isEmpty(y))return m;const h=y.column,_=y.row,x=y.colSpan||this._defaultColSpan,I=y.rowSpan||this._defaultRowSpan;let k,A;for(k=_,A=_+I;k<A;k++)m[k]=this._calculateBitMask(h,x,w);return m}_setDefaultValue(y,w,m,h){y[m]||(y[m]=h),w[m]||(w[m]=h)}_fixItemIntersect(y,w){const m=y.layoutConfig,h=w.layoutConfig,_=this._tryFixColumns(m,h);let x=!0;return _||(x=this._tryFixRows(m,h)),!_&&!x&&m.row>this._maxGridLayoutRow&&(this._maxGridLayoutRow+=1),!_&&!x&&this._moveDownItem(y),y}_moveDownItem(y){this._maxGridLayoutRow++;const w=y.layoutConfig;w.row=this._maxGridLayoutRow,w.column=1;const m=this._originalItems.find(h=>h.name===y.name);m&&(w.colSpan=m.layoutConfig.colSpan||1)}_tryFixColumns(y,w){return this._setDefaultValue(y,w,"colSpan",this._defaultColSpan),this._calculateNewParameters(y,w,"column","colSpan")}_tryFixRows(y,w){return this._setDefaultValue(y,w,"rowSpan",this._defaultRowSpan),this._calculateNewParameters(y,w,"row","rowSpan")}_calculateNewParameters(y,w,m,h){const _=y[h],x=w[h],I=w[m],k=I+x,A=y[m],F=A+_,z=I<=A,N=z?k-A:F-I;return _<=N?!1:(z&&(y[m]=k),y[h]=_-N,!0)}_compareItemsPositions(y,w){const m=y.layoutConfig||(0,p.cloneDeep)(this._defaultItemLayout),h=w.layoutConfig||(0,p.cloneDeep)(this._defaultItemLayout),_=Math.max(m.colSpan||this._defaultColSpan,m.rowSpan||this._defaultRowSpan),x=Math.max(h.colSpan||this._defaultColSpan,h.rowSpan||this._defaultRowSpan);return m.row!==h.row?m.row<h.row?-1:1:_<x||m.column<h.column&&_<=x?-1:1}_getMaxGridLayoutRow(y){const w=y.map(m=>{const h=m.layoutConfig||{},_=h.row||1,x=h.rowSpan||1;return _+x-1});return Math.max(...w)||1}_getMaxColumnsCount(y,w){const m=y.map(h=>{const _=h.layoutConfig||{},x=_.column||1,I=_.colSpan||1;return x+I-1});return Math.max(...m,w,this._maxColumnsCount)}fixItemsOverlap(y,w){this._originalItems=(0,p.cloneDeep)(y);const m=[],h=[];return this._maxGridLayoutRow=this._getMaxGridLayoutRow(y),this._maxColumnsCount=this._getMaxColumnsCount(y,w),[...y].sort((x,I)=>this._compareItemsPositions(x,I)).forEach(x=>{let I=this._getItemBitmap(x.layoutConfig,this._maxColumnsCount);h.forEach(k=>{const A=this._getItemBitmap(k.layoutConfig,this._maxColumnsCount);this._checkBitmapIntersection(A,I)&&(x=this._fixItemIntersect(x,k),I=this._getItemBitmap(x.layoutConfig,this._maxColumnsCount),m.push(x.name))}),h.push(x)}),this._applyExplicitPositions(y,w),{items:y,affectedItems:m}}static{this.\u0275fac=function(w){return new(w||f)}}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}}},12886:(P,j,o)=>{o.d(j,{N:()=>Tt});var p=o(5960),g=o.n(p),l=o(59131),t=o.n(l),f=o(77592),E=o(3671),y=o(96677),w=o(52793),m=o(10098),h=o(28399),_=o.n(h),x=o(36486),I=o.n(x),k=o(27084),A=o(65001),F=o(8144),z=o(83648),N=o(40297),T=o.n(N),L=o(30491);const U=["items"],B=["*"],tt=Nt=>({containerDiv:Nt});function Z(Nt,wt){Nt&1&&l.\u0275\u0275elementContainer(0)}function G(Nt,wt){if(Nt&1){const Et=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"slot",7),l.\u0275\u0275listener("slotchange",function(Rt){l.\u0275\u0275restoreView(Et);const xe=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(xe.slotChange(Rt))}),l.\u0275\u0275elementEnd(),l.\u0275\u0275projection(1)}}function Y(Nt,wt){if(Nt&1&&(l.\u0275\u0275elementStart(0,"div",9),l.\u0275\u0275elementContainer(1,10),l.\u0275\u0275elementEnd()),Nt&2){const Et=wt.$implicit,vt=l.\u0275\u0275nextContext(4);l.\u0275\u0275property("ngStyle",vt.getItemLayout(Et.layoutConfig)),l.\u0275\u0275advance(),l.\u0275\u0275property("crtViewElement",Et)}}function O(Nt,wt){if(Nt&1&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275template(1,Y,2,2,"div",8),l.\u0275\u0275elementContainerEnd()),Nt&2){const Et=l.\u0275\u0275nextContext(3);l.\u0275\u0275advance(),l.\u0275\u0275property("ngForOf",Et.items)}}function st(Nt,wt){if(Nt&1&&(l.\u0275\u0275elementStart(0,"div",9),l.\u0275\u0275elementContainer(1,10),l.\u0275\u0275elementEnd()),Nt&2){const Et=wt.$implicit,vt=l.\u0275\u0275nextContext(4);l.\u0275\u0275property("ngStyle",vt.getItemLayout(Et.layoutConfig)),l.\u0275\u0275advance(),l.\u0275\u0275property("crtViewElement",Et)}}function gt(Nt,wt){if(Nt&1&&l.\u0275\u0275template(0,st,2,2,"div",8),Nt&2){const Et=l.\u0275\u0275nextContext(2).containerDiv,vt=l.\u0275\u0275nextContext();l.\u0275\u0275property("ngForOf",vt.fixItemsOverlap(vt.items,vt.useOldTemplate?Et:vt.elementRef.nativeElement).items)}}function ct(Nt,wt){if(Nt&1&&l.\u0275\u0275template(0,O,2,1,"ng-container",5)(1,gt,1,1,"ng-template",null,3,l.\u0275\u0275templateRefExtractor),Nt&2){const Et=l.\u0275\u0275reference(2),vt=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("ngIf",vt.gridContainerAllowOverlapFeature)("ngIfElse",Et)}}function nt(Nt,wt){if(Nt&1&&l.\u0275\u0275template(0,Z,1,0,"ng-container",6)(1,G,2,0,"ng-template",null,1,l.\u0275\u0275templateRefExtractor)(3,ct,3,2,"ng-template",null,2,l.\u0275\u0275templateRefExtractor),Nt&2){const Et=l.\u0275\u0275reference(2),vt=l.\u0275\u0275reference(4),Rt=l.\u0275\u0275nextContext();l.\u0275\u0275property("ngIf",Rt.shouldUseSlots)("ngIfThen",Et)("ngIfElse",vt)}}function Q(Nt,wt){if(Nt&1&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"div",11,4),l.\u0275\u0275elementContainer(3,12),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()),Nt&2){const Et=l.\u0275\u0275reference(2),vt=l.\u0275\u0275nextContext(),Rt=l.\u0275\u0275reference(1);l.\u0275\u0275advance(),l.\u0275\u0275styleProp("grid-template-columns",vt.gridTemplateColumns),l.\u0275\u0275property("ngStyle",vt.gridStyles)("ngClass",vt.classes),l.\u0275\u0275attribute("id",vt.id),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngTemplateOutlet",Rt)("ngTemplateOutletContext",l.\u0275\u0275pureFunction1(7,tt,Et))}}const q={...F.Rq,columnsTemplate:"minmax(32px, 1fr)"},lt=(Nt,wt,Et={},vt="column")=>{const Rt=q.columnsTemplate,xe="minmax(max-content, 32px)",le=new Array(Nt).fill(Rt);return{caption:`LayoutElements.Grid${vt.charAt(0).toUpperCase()+vt.slice(1)}${Nt}.Caption`,icon:o(33996)(`./grid-${vt}-${Nt}-icon.svg`),defaultPropertyValues:{columns:le,rows:xe,gap:{columnGap:A.Z.Large},items:[],fitContent:!0,...Et},position:wt}},c=(Nt,wt)=>{const Et={padding:{top:A.Z.Medium,right:A.Z.Large,bottom:A.Z.Medium,left:A.Z.Large},color:F.jF.Primary.key,borderRadius:A.Z.Medium};return lt(Nt,wt,Et,"area")};let Tt=class Rv extends z.B{get hostClasses(){if(!this.useOldTemplate)return this.classes}get hostGridStyles(){if(!this.useOldTemplate)return this.gridStyles}get hostGridTemplateColumns(){if(!this.useOldTemplate)return this.gridTemplateColumns}get gridStyles(){const wt={};return this.justifyItems&&(wt.justifyItems=this.justifyItems),this.alignItems&&(wt.alignItems=this.alignItems),this.isResponsiveWidth&&(wt.gridTemplateAreas="initial"),{...this.containerStyles,...wt,...this._gapStyles(),...this._rowsStyles(),...this._columnsStyles()}}get gridTemplateColumns(){return this.isResponsiveWidth?q.columnsTemplate:this.gridStyles.gridTemplateColumns}constructor(wt){super(wt),this.injector=wt,this._containerClasses=[],this.useOldTemplate=!1,this._gridContainerItemsLayoutService=this.injector.get(k.N),this.gridContainerAllowOverlapFeature=!!this.featureValues.GridContainerAllowOverlap}_gapStyles(){const wt={},Et=this.gap;if((0,h.isObject)(Et)){const{columnGap:vt,rowGap:Rt}=Et;this.applySizeStyle("columnGap",vt,wt),this.applySizeStyle("rowGap",Rt,wt)}else this.applySizeStyle("gap",this.gap,wt);return wt}_rowsStyles(){const wt={};return this.isResponsiveWidth?wt.gridAutoRows="max-content":typeof this.rows=="string"?wt.gridAutoRows=this.rows:this.rows instanceof Array&&(wt.gridTemplateRows=this.rows.join(" ")),wt}_columnsStyles(){const wt={};return typeof this.columns=="string"?wt.gridAutoColumns=this.columns:this.columns instanceof Array&&(wt.gridTemplateColumns=this.columns.join(" ")),wt}_gridTemplateColumnsClasses(){const wt=[];return this.isResponsiveWidth&&wt.push("crt-grid-responsive"),wt}_gapClasses(){const wt=[],Et=this.gap;if(Et)if((0,h.isObject)(Et)){const{columnGap:vt,rowGap:Rt}=Et;this.applySizeClass("container-column-gap-{0}",vt,wt),this.applySizeClass("container-row-gap-{0}",Rt,wt)}else this.applySizeClass("container-gap-{0}",Et,wt);return wt}_fullLayoutConfig(wt){const Et={};let vt="";wt?.column!==void 0&&(vt+=wt.column),wt?.colSpan!==void 0&&(vt&&(vt+="/"),wt.colSpan!==-1&&(vt+="span "),vt+=wt.colSpan);let Rt="";return wt?.row!==void 0&&(Rt+=wt.row),wt?.rowSpan!==void 0&&(Rt&&(Rt+="/"),wt.rowSpan!==-1&&(Rt+="span "),Rt+=wt.rowSpan),vt&&(Et.gridColumn=vt),Rt&&(Et.gridRow=Rt),Et}_responsiveLayoutConfig(wt){const Et={},vt=wt?.rowSpan;return vt!==void 0&&vt!==-1&&(Et.gridRow=`span ${vt}`),Et}_computedGridColumns(wt){return getComputedStyle(wt).getPropertyValue("container-template-columns").split(" ")}_applySlotElementsResponsiveStyles(wt){for(const Et of wt){const vt=Et?.layoutConfig?.rowSpan;vt!==void 0&&vt!==-1&&(this.renderer.setStyle(Et,"grid-row-start",`span ${vt}`),this.renderer.setStyle(Et,"grid-row-end","auto")),this.renderer.setStyle(Et,"grid-column-start","auto"),this.renderer.setStyle(Et,"grid-column-end","auto")}}getClasses(){const wt=super.getClasses()||[],Et=this._gridTemplateColumnsClasses(),vt=this._gapClasses(),Rt=[...wt,"crt-grid",...Et,...vt].sort();return(0,h.isEqual)(this._containerClasses,Rt)||(this._containerClasses=Rt),this._containerClasses}applySlotElementStyles(wt){if(this.isResponsiveWidth){this._applySlotElementsResponsiveStyles(wt);return}super.applySlotElementStyles(wt)}castElementStylesToLayoutConfig(wt){const[Et,vt,Rt,xe]=["row","column","row-span","col-span"].map(le=>{const Ve=`layout-config-${le}`,Be=wt.getAttribute(Ve);if(Be)return Number(Be)});return{row:Et,column:vt,rowSpan:Rt,colSpan:xe}}castSlotElements(wt){for(const Et of wt)Et.layoutConfig=this.castElementStylesToLayoutConfig(Et);if(!this.gridContainerAllowOverlapFeature&&this.container?.nativeElement){const Et=wt.map(vt=>({layoutConfig:vt.layoutConfig}));this.fixItemsOverlap(Et,this.container.nativeElement)}return wt}onResize(){super.onResize(),this.shouldUseSlots&&this.window.requestAnimationFrame(()=>{this.zone.run(()=>{this.setSlotElementStyles(this.slotHTMLElements)})})}getItemLayout(wt){return wt?this.isResponsiveWidth?this._responsiveLayoutConfig(wt):this._fullLayoutConfig(wt):null}fixItemsOverlap(wt,Et){let vt=[];if(this.allowOverlap!==!0&&wt){const Rt=this._computedGridColumns(Et);vt=this._gridContainerItemsLayoutService.fixItemsOverlap(wt,Rt.length).affectedItems}return{items:wt,affectedItems:vt}}slotChange(wt){const Et=wt.target.assignedNodes();!Et||!Et.length||(this.slotHTMLElements=Et,this.setSlotElementStyles(this.slotHTMLElements))}updateResponsiveStyles(){if(this.useOldTemplate)return;const wt=this.elementRef.nativeElement;this.isResponsiveWidth?this.renderer.addClass(wt,"crt-grid-responsive"):this.renderer.removeClass(wt,"crt-grid-responsive"),this.renderer.setStyle(wt,"grid-template-areas",this.isResponsiveWidth?"initial":null),this.renderer.setStyle(wt,"grid-template-columns",this.gridTemplateColumns??null)}ngOnInit(){super.ngOnInit(),this.useOldTemplate=this.featureValues.DisableRemoveDuplicateIDs}ngAfterContentInit(){this.children.changes.pipe((0,x.startWith)(this.children),(0,x.takeUntil)(this.destroyed$)).subscribe(()=>{const wt=this.children.map(({nativeElement:Et})=>Et);wt?.length&&(this.slotHTMLElements=wt,this.setSlotElementStyles(this.slotHTMLElements))})}static{this.\u0275fac=function(Et){return new(Et||Rv)(l.\u0275\u0275directiveInject(l.Injector))}}static{this.\u0275cmp=l.\u0275\u0275defineComponent({type:Rv,selectors:[["crt-grid"]],contentQueries:function(Et,vt,Rt){if(Et&1&&l.\u0275\u0275contentQuery(Rt,U,4,l.ElementRef),Et&2){let xe;l.\u0275\u0275queryRefresh(xe=l.\u0275\u0275loadQuery())&&(vt.children=xe)}},hostVars:6,hostBindings:function(Et,vt){Et&2&&(l.\u0275\u0275styleMap(vt.hostGridStyles),l.\u0275\u0275classMap(vt.hostClasses),l.\u0275\u0275styleProp("grid-template-columns",vt.hostGridTemplateColumns))},inputs:{rows:"rows",columns:"columns",gap:"gap",justifyItems:"justifyItems",alignItems:"alignItems",allowOverlap:"allowOverlap"},features:[l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:B,decls:3,vars:2,consts:[["template",""],["slotsTemplate",""],["itemsTemplate",""],["fixItemsLayoutConfig",""],["container",""],[4,"ngIf","ngIfElse"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"slotchange"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"crtViewElement"],[1,"crt-grid",3,"ngStyle","ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(Et,vt){if(Et&1&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275template(0,nt,5,3,"ng-template",null,0,l.\u0275\u0275templateRefExtractor)(2,Q,4,9,"ng-container",5)),Et&2){const Rt=l.\u0275\u0275reference(1);l.\u0275\u0275advance(2),l.\u0275\u0275property("ngIf",vt.useOldTemplate)("ngIfElse",Rt)}},dependencies:[N.NgClass,N.NgForOf,N.NgIf,N.NgTemplateOutlet,N.NgStyle,L.H],encapsulation:2})}};(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],Tt.prototype,"rows",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],Tt.prototype,"columns",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],Tt.prototype,"gap",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",String)],Tt.prototype,"justifyItems",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",String)],Tt.prototype,"alignItems",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Boolean)],Tt.prototype,"allowOverlap",void 0),Tt=(0,p.__decorate)([(0,E.v)({type:"crt.GridContainer",contentSlots:["items"],reuseStrategy:y.B.Reuse}),(0,w.f)({toolbarConfig:[c(1,40),lt(1,50),lt(2,60),lt(3,70),lt(4,80)],designControlConfig:{allowDesignContent:!0},propertiesPanelComponentTypeName:"crt.GridPropertiesPanel",viewElementGroupType:m.J.LayoutElements,typeCaption:"TypeCaptions.GridContainer"}),(0,p.__metadata)("design:paramtypes",[l.Injector])],Tt)},45179:(P,j,o)=>{o.d(j,{V:()=>k,X:()=>I});var p=o(52989),g=o.n(p),l=o(71252),t=o.n(l),f=o(38892),E=o(91592),y=o(78693),w=o(59131),m=o.n(w),h=o(40297),_=o.n(h);function x(A,F){if(A&1&&w.\u0275\u0275element(0,"mat-icon",1),A&2){const z=w.\u0275\u0275nextContext();w.\u0275\u0275property("svgIcon",z.svgIconName)}}class I extends f.P{constructor(F){super(F),this.cellComponentClass=k}}class k extends E.X{get svgIconName(){return{[y.G.Error]:this.errorIconName,[y.G.Warning]:this.warningIconName,[y.G.Information]:""}[this.getValue()]??""}constructor(F,z){super(),this._matIconRegistry=F,this._domSanitizer=z,this.errorIconName="error-icon",this.warningIconName="warning-icon",this._registerIcons()}_registerIcons(){[this.warningIconName,this.errorIconName].forEach(F=>{this._matIconRegistry.addSvgIconLiteral(F,this._domSanitizer.bypassSecurityTrustHtml(o(48422)("./"+F+".svg")))})}static{this.\u0275fac=function(z){return new(z||k)(w.\u0275\u0275directiveInject(p.MatIconRegistry),w.\u0275\u0275directiveInject(l.DomSanitizer))}}static{this.\u0275cmp=w.\u0275\u0275defineComponent({type:k,selectors:[["ts-error-type-icon-table-cell"]],features:[w.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","error-type-icon",3,"svgIcon",4,"ngIf"],[1,"error-type-icon",3,"svgIcon"]],template:function(z,N){z&1&&w.\u0275\u0275template(0,x,1,1,"mat-icon",0),z&2&&w.\u0275\u0275property("ngIf",!N.isEmpty()&&N.getValue())},dependencies:[h.NgIf,p.MatIcon],styles:[".error-type-icon[_ngcontent-%COMP%]{height:16px;width:16px}"]})}}},8883:(P,j,o)=>{o.d(j,{l:()=>y});var p=o(40297),g=o(59131);class l{constructor(m){this._environment=m}getUrl(){const m=this._environment.runtimeApplicationUrl||this._environment.defaultApplicationUrl;return p.Location.joinWithSlash(this._environment.workspaceBaseUrl,m)}static{this.\u0275fac=function(h){return new(h||l)(g.\u0275\u0275inject("environment"))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}const t=[[["","header",""]],"*"],f=["[header]","*"];function E(w,m){if(w&1&&(g.\u0275\u0275elementStart(0,"span",8),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),w&2){const h=g.\u0275\u0275nextContext();g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(h.title)}}class y{static{this._logoLinkUrl=""}static{this._logoImageUrl=""}get logoLinkUrl(){return y._logoLinkUrl}get logoImageUrl(){return y._logoImageUrl}constructor(m,h){this._environment=m,this._runtimeUrlProvider=h}static setLogoLinkUrl(m){y._logoLinkUrl=m}static setLogoImageUrl(m){y._logoImageUrl=m}buildLogoImageUrl(){return"img/terrasoft.axd?s=nui-binary-syssetting&r=MenuLogoImage&source_hash="+Date.now().toString().slice(0,-5)}initDefaultLogoImageUrl(){y.setLogoImageUrl("assets/app-logo.svg")}ngOnInit(){if(!this.logoLinkUrl){const m=this._runtimeUrlProvider.getUrl();y.setLogoLinkUrl(m)}this.logoImageUrl||y.setLogoImageUrl(p.Location.joinWithSlash(this._environment.workspaceBaseUrl,this.buildLogoImageUrl()))}static{this.\u0275fac=function(h){return new(h||y)(g.\u0275\u0275directiveInject("environment"),g.\u0275\u0275directiveInject(l))}}static{this.\u0275cmp=g.\u0275\u0275defineComponent({type:y,selectors:[["ts-header"]],inputs:{title:"title"},ngContentSelectors:f,decls:10,vars:3,consts:[[1,"top-container"],[1,"left-container"],["class","title",4,"ngIf"],[1,"content-wrapper"],[1,"right-container"],[1,"logo-wrapper",3,"href"],["alt","logo image",1,"logo",3,"error","src"],[1,"content-wrapper","bottom-content-wrapper"],[1,"title"]],template:function(h,_){h&1&&(g.\u0275\u0275projectionDef(t),g.\u0275\u0275elementStart(0,"div",0)(1,"div",1),g.\u0275\u0275template(2,E,2,1,"span",2),g.\u0275\u0275elementStart(3,"div",3),g.\u0275\u0275projection(4),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(5,"div",4)(6,"a",5)(7,"img",6),g.\u0275\u0275listener("error",function(){return _.initDefaultLogoImageUrl()}),g.\u0275\u0275elementEnd()()()(),g.\u0275\u0275elementStart(8,"div",7),g.\u0275\u0275projection(9,1),g.\u0275\u0275elementEnd()),h&2&&(g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",_.title),g.\u0275\u0275advance(4),g.\u0275\u0275propertyInterpolate("href",_.logoLinkUrl,g.\u0275\u0275sanitizeUrl),g.\u0275\u0275advance(),g.\u0275\u0275propertyInterpolate("src",_.logoImageUrl,g.\u0275\u0275sanitizeUrl))},dependencies:[p.NgIf],styles:["[_nghost-%COMP%]{display:block;padding:12px 22px 12px 21px}.top-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.top-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;overflow:hidden}.top-container[_ngcontent-%COMP%]   .left-container[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-family:Bpmonline Open Sans Light,serif;font-size:26px;height:26px}.top-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;align-items:center}.top-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{display:block}.top-container[_ngcontent-%COMP%]   .right-container[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;max-height:28px;max-width:134px}.content-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:row}.content-wrapper[_ngcontent-%COMP%]:not(:empty).top-left-content-wrapper:not(:first-child){padding-left:15px}.content-wrapper[_ngcontent-%COMP%]:not(:empty).bottom-content-wrapper{margin:14px 0 0}"]})}}},171:(P,j,o)=>{o.d(j,{$:()=>h,D:()=>_});var p=o(38892),g=o(91592),l=o(59131),t=o.n(l),f=o(40297),E=o.n(f),y=o(52989),w=o.n(y);function m(x,I){if(x&1&&(l.\u0275\u0275elementStart(0,"div",1),l.\u0275\u0275element(1,"mat-icon",2),l.\u0275\u0275elementEnd()),x&2){const k=l.\u0275\u0275nextContext();l.\u0275\u0275advance(),l.\u0275\u0275property("svgIcon",k.iconName)}}class h extends p.P{constructor(I,k){super(I),this.cellComponentClass=_,this.iconName=k}}class _ extends g.X{get iconName(){return this.columnDataSchema.iconName.length?this.columnDataSchema.iconName:this.getValue()}static{this.\u0275fac=(()=>{let I;return function(A){return(I||(I=l.\u0275\u0275getInheritedFactory(_)))(A||_)}})()}static{this.\u0275cmp=l.\u0275\u0275defineComponent({type:_,selectors:[["ts-icon-table-cell"]],features:[l.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["class","drag-drop-icon-wrapper","cdkDragHandle","",4,"ngIf"],["cdkDragHandle","",1,"drag-drop-icon-wrapper"],[3,"svgIcon"]],template:function(k,A){k&1&&l.\u0275\u0275template(0,m,2,1,"div",0),k&2&&l.\u0275\u0275property("ngIf",!A.isEmpty())},dependencies:[f.NgIf,y.MatIcon]})}}},98297:(P,j,o)=>{o.d(j,{v:()=>l});var p=o(59131),g=o.n(p);class l{set template(f){this._clearView(),f&&this._renderTemplate(f)}constructor(f,E){this._viewContainer=f,this._injector=E}_clearView(){this._viewContainer.clear()}_renderTemplate(f){const E=p.Injector.create({providers:[],parent:this._injector});this._viewContainer.createEmbeddedView(f,{},{injector:E})}static{this.\u0275fac=function(E){return new(E||l)(p.\u0275\u0275directiveInject(p.ViewContainerRef),p.\u0275\u0275directiveInject(p.Injector))}}static{this.\u0275dir=p.\u0275\u0275defineDirective({type:l,selectors:[["","crtTemplateOutletWithCurrentInjector",""]],inputs:{template:[p.\u0275\u0275InputFlags.None,"crtTemplateOutletWithCurrentInjector","template"]}})}}},74026:(P,j,o)=>{o.d(j,{L:()=>l});var p=o(14715),g=o.n(p);class l extends p.MatLegacyTableDataSource{constructor(f=[]){super(f),this._visibleContentSize=0,this._pageSize=40,this.resetVisibleContentSize()}resetVisibleContentSize(){this._visibleContentSize=this._pageSize}loadNext(){this._visibleContentSize+=this._pageSize,this._updateChangeSubscription()}_pageData(f){return this._visibleContentSize>=f.length?f:f.slice(0,this._visibleContentSize)}}},33707:(P,j,o)=>{o.d(j,{C:()=>L});var p=o(73308),g=o(59131),l=o.n(g),t=o(76923),f=o.n(t),E=o(74026),y=o(11802),w=o(40297),m=o.n(w),h=o(23023),_=o.n(h),x=o(79772),I=o.n(x);const k=["dataViewWrapper"],A=["tableNgContainer"];function F(U,B){if(U&1&&(g.\u0275\u0275elementStart(0,"div",10),g.\u0275\u0275text(1),g.\u0275\u0275elementEnd()),U&2){const tt=g.\u0275\u0275nextContext();g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(tt.additionalText)}}function z(U,B){if(U&1&&(g.\u0275\u0275elementStart(0,"div",11)(1,"a",12),g.\u0275\u0275text(2),g.\u0275\u0275elementEnd()()),U&2){const tt=g.\u0275\u0275nextContext();g.\u0275\u0275advance(),g.\u0275\u0275property("href",tt.helpLinkUrl.url,g.\u0275\u0275sanitizeUrl),g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(tt.helpLinkUrl.caption)}}function N(U,B){if(U&1&&(g.\u0275\u0275elementContainerStart(0),g.\u0275\u0275elementStart(1,"button",13),g.\u0275\u0275text(2),g.\u0275\u0275pipe(3,"translate"),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(4,"button",14),g.\u0275\u0275text(5),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementContainerEnd()),U&2){const tt=g.\u0275\u0275nextContext();g.\u0275\u0275advance(),g.\u0275\u0275property("mat-dialog-close",!1),g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(3,4,"TableDialog.Cancel")," "),g.\u0275\u0275advance(2),g.\u0275\u0275property("mat-dialog-close",!0),g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate(tt.continueButtonCaption)}}function T(U,B){U&1&&(g.\u0275\u0275elementStart(0,"button",13),g.\u0275\u0275text(1),g.\u0275\u0275pipe(2,"translate"),g.\u0275\u0275elementEnd()),U&2&&(g.\u0275\u0275advance(),g.\u0275\u0275textInterpolate1(" ",g.\u0275\u0275pipeBind1(2,1,"TableDialog.Close")," "))}class L{constructor(B,tt){this.dialogData=B,this.scrollToBottomObserverFactory=tt,this.title="",this.sortColumn="",this.additionalText="",this.continueButtonCaption=""}_renderTableComponent(B){var tt=this;return(0,p.A)(function*(){yield Promise.all([o.e(2225),o.e(4576)]).then(o.bind(o,24576)).then(Z=>{const G=Z.TableComponent;tt._table=B.createComponent(G).instance,tt._table.dataSchema=tt.dataSchema,tt._table.dataSource=tt.tableDataSource,tt._table.sortColumn=tt.sortColumn,tt._table.headerSticky=!0})})()}_initScrollToBottomObserver(){const B=this.dataViewWrapper.nativeElement;this._scrollToBottomObserver=this.scrollToBottomObserverFactory.createObserver(B,this._loadNextData.bind(this))}_loadNextData(){this.tableDataSource&&this.tableDataSource.loadNext()}ngAfterViewInit(){this._initScrollToBottomObserver()}ngOnInit(){var B=this;return(0,p.A)(function*(){!B.dialogData||!B.dialogData.data||(B.tableDataSource=new E.L(B.dialogData.data),B.dataSchema=B.dialogData.dataSchema,B.title=B.dialogData.title||B.title,B.sortColumn=B.dialogData.sortColumn,B.additionalText=B.dialogData.additionalText,B.helpLinkUrl=B.dialogData.helpLinkUrl,B.continueButtonCaption=B.dialogData.continueButtonCaption,yield B._renderTableComponent(B.tableNgContainer))})()}ngOnDestroy(){this._scrollToBottomObserver&&this._scrollToBottomObserver.destroy()}static{this.\u0275fac=function(tt){return new(tt||L)(g.\u0275\u0275directiveInject(t.MAT_LEGACY_DIALOG_DATA),g.\u0275\u0275directiveInject(y.S))}}static{this.\u0275cmp=g.\u0275\u0275defineComponent({type:L,selectors:[["ts-table-dialog"]],viewQuery:function(tt,Z){if(tt&1&&(g.\u0275\u0275viewQuery(k,7),g.\u0275\u0275viewQuery(A,7,g.ViewContainerRef)),tt&2){let G;g.\u0275\u0275queryRefresh(G=g.\u0275\u0275loadQuery())&&(Z.dataViewWrapper=G.first),g.\u0275\u0275queryRefresh(G=g.\u0275\u0275loadQuery())&&(Z.tableNgContainer=G.first)}},decls:14,vars:5,consts:[["dataViewWrapper",""],["tableNgContainer",""],["withoutContinue",""],["mat-dialog-title",""],[1,"dialog-content-wrapper"],["class","table-dialog-additional-text",4,"ngIf"],["class","table-dialog-help-link-url",4,"ngIf"],["mat-dialog-content","",1,"data-table"],["mat-dialog-actions",""],[4,"ngIf","ngIfElse"],[1,"table-dialog-additional-text"],[1,"table-dialog-help-link-url"],["target","_blank","rel","noopener noreferrer",3,"href"],["mat-flat-button","","color","primary","cdkFocusInitial","",3,"mat-dialog-close"],["mat-button","",3,"mat-dialog-close"]],template:function(tt,Z){if(tt&1&&(g.\u0275\u0275elementStart(0,"div",3)(1,"span"),g.\u0275\u0275text(2),g.\u0275\u0275elementEnd()(),g.\u0275\u0275elementStart(3,"div",4),g.\u0275\u0275template(4,F,2,1,"div",5)(5,z,3,2,"div",6),g.\u0275\u0275elementStart(6,"div",7,0),g.\u0275\u0275elementContainer(8,null,1),g.\u0275\u0275elementEnd(),g.\u0275\u0275elementStart(10,"div",8),g.\u0275\u0275template(11,N,6,6,"ng-container",9)(12,T,3,3,"ng-template",null,2,g.\u0275\u0275templateRefExtractor),g.\u0275\u0275elementEnd()()),tt&2){const G=g.\u0275\u0275reference(13);g.\u0275\u0275advance(2),g.\u0275\u0275textInterpolate(Z.title),g.\u0275\u0275advance(2),g.\u0275\u0275property("ngIf",Z.additionalText),g.\u0275\u0275advance(),g.\u0275\u0275property("ngIf",Z.helpLinkUrl),g.\u0275\u0275advance(6),g.\u0275\u0275property("ngIf",Z.continueButtonCaption)("ngIfElse",G)}},dependencies:[w.NgIf,h.MatLegacyButton,t.MatLegacyDialogClose,t.MatLegacyDialogTitle,t.MatLegacyDialogContent,t.MatLegacyDialogActions,x.TranslatePipe],styles:[`ts-table-dialog{min-width:850px;max-width:900px;margin:0 8px!important;padding:0}ts-table-dialog .table-dialog-additional-text{margin-bottom:4px;display:inline}ts-table-dialog .table-dialog-help-link-url{display:inline;cursor:pointer}ts-table-dialog .data-table{overflow-y:auto!important;max-height:330px;margin:0;padding:0}ts-table-dialog .data-table table{padding-top:0}ts-table-dialog [mat-dialog-actions]{display:flex;flex-direction:row;justify-content:flex-end;margin:20px 0 10px!important}
`],encapsulation:2})}}},48416:(P,j,o)=>{o.d(j,{k:()=>E});var p=o(5960),g=o.n(p),l=o(77592),t=o(59131),f=o.n(t);class E{constructor(){this.isRequired=!1}get ariaRequired(){return this.isRequired}static{this.\u0275fac=function(m){return new(m||E)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:E,selectors:[["","crtAriaRequired",""]],hostVars:1,hostBindings:function(m,h){m&2&&t.\u0275\u0275attribute("aria-required",h.ariaRequired)},inputs:{isRequired:[t.\u0275\u0275InputFlags.None,"crtAriaRequired","isRequired"]}})}}(0,p.__decorate)([(0,l.k)(),(0,p.__metadata)("design:type",Object)],E.prototype,"isRequired",void 0)},527:(P,j,o)=>{o.d(j,{E:()=>p});function p(g){if(typeof g=="number")return!0;if(typeof g=="string"){const l=Number.parseInt(g);return String(l)===g}return!1}},32625:(P,j,o)=>{o.d(j,{g:()=>N});var p=o(5960),g=o.n(p),l=o(59131),t=o.n(l),f=o(56711),E=o.n(f),y=o(6530),w=o(34760),m=o(77592),h=o(66823),_=o(68712),x=o(26594),I=o(67020),k=o(62278),A=o.n(k),F=o(36486),z=o.n(F);class N extends _.K{get _isResponsible(){return this.displayLabelPosition==="auto"}set placeholder(L){this._placeholder=L}get placeholder(){return this._placeholder}set disabled(L){this._disabled=!!L,this.control&&this._setDisabledState()}get skeletonStyles(){return{height:this._displayLabelPosition==="above"?"52px":"32px"}}set control(L){L??=new f.FormControl(this.defaultValue),this.controlDestroyed$.next(),this._control=L,this._setDisabledState(),this._calculateRequired(),this._updateOnControlStatusChanged()}get control(){return this._control}set labelPosition(L){this._initialLabelPosition=L||"auto",this.isAutoLabelPosition=this._initialLabelPosition==="auto",this._initLabelPosition()}get labelPosition(){return this._initialLabelPosition}get invalid(){return this.control.invalid&&(this.control.dirty||this.control.touched)}get displayLabelPosition(){return this.containerQueryMechanismAvailable?this._initialLabelPosition:this._displayLabelPosition}get containerQueryMechanismAvailable(){return!this.disableContainerQueryMechanism}constructor(L,U,B){super(L),this.defaultValue=U,this.changeDetectorRef=B,this._initialLabelPosition="auto",this._placeholder="",this.destroyed$=new k.Subject,this.controlDestroyed$=new k.Subject,this.disableContainerQueryMechanism=!1,this.isAutoLabelPosition=!0,this._baseClass="crt-base-edit-input",this.keyUp=new l.EventEmitter,this.keyDown=new l.EventEmitter,this.blurred=new l.EventEmitter,this.focused=new l.EventEmitter,this.label="",this.ariaLabel="",this.appearance="legacy",this.labelOverModeResponsiveSize=320,this.required=!1,this.inputId=(0,y.qv)(),this._initControl(U),this.disableContainerQueryMechanism=L.get(x.G,null,{optional:!0})?.DisableContainerQueryMechanism,this._measurePerformanceService=L.get(I.g)}_getDisplayLabelPosition(L){return this._initialLabelPosition==null||this._initialLabelPosition==="auto"?(L??=this.elementRef?.nativeElement?.getBoundingClientRect()?.width,L>this.labelOverModeResponsiveSize?"left":"above"):this._initialLabelPosition}_initLabelPosition(){this.containerQueryMechanismAvailable||this._measurePerformanceService.measure("_getDisplayLabelPosition",()=>{this._displayLabelPosition=this._getDisplayLabelPosition()})}_calculateRequired(){const L=this.control?.validator,U=L&&L(new f.FormControl(this.defaultValue));this.required=!!U?.required}_initControl(L){this.control=new f.FormControl(L)}_updateOnControlStatusChanged(){this._control.statusChanges.pipe((0,F.takeUntil)(this.controlDestroyed$),(0,F.observeOn)(k.asapScheduler)).subscribe(()=>{this._calculateRequired(),this.changeDetectorRef.detectChanges()})}_setDisabledState(){this._disabled!==void 0&&this.control.disabled!==this._disabled&&(this._disabled?this.control.disable():this.control.enable())}ngAfterViewInit(){this.isAutoLabelPosition!==!1&&(this._initLabelPosition(),this.changeDetectorRef.detectChanges())}ngOnDestroy(){this.controlDestroyed$.next(),this.controlDestroyed$.complete(),this.destroyed$.next(),this.destroyed$.complete()}onResized(L){this.containerQueryMechanismAvailable||(this._displayLabelPosition=this._getDisplayLabelPosition(L?.width))}static{this.\u0275fac=function(U){l.\u0275\u0275invalidFactory()}}static{this.\u0275dir=l.\u0275\u0275defineDirective({type:N,hostVars:4,hostBindings:function(U,B){U&2&&(l.\u0275\u0275classMap(B._baseClass),l.\u0275\u0275classProp("crt-base-edit-input-responsible",B._isResponsible))},inputs:{label:"label",ariaLabel:"ariaLabel",appearance:"appearance",placeholder:"placeholder",disabled:"disabled",tooltip:"tooltip",control:"control",labelPosition:"labelPosition"},outputs:{keyUp:"keyUp",keyDown:"keyDown",blurred:"blurred",focused:"focused"},features:[l.\u0275\u0275InheritDefinitionFeature]})}}(0,p.__decorate)([(0,w.j)(),(0,p.__metadata)("design:type",Object)],N.prototype,"keyUp",void 0),(0,p.__decorate)([(0,w.j)(),(0,p.__metadata)("design:type",Object)],N.prototype,"keyDown",void 0),(0,p.__decorate)([(0,w.j)(),(0,p.__metadata)("design:type",Object)],N.prototype,"blurred",void 0),(0,p.__decorate)([(0,w.j)(),(0,p.__metadata)("design:type",Object)],N.prototype,"focused",void 0),(0,p.__decorate)([(0,m.k)(),(0,p.__metadata)("design:type",Object)],N.prototype,"label",void 0),(0,p.__decorate)([(0,m.k)(),(0,p.__metadata)("design:type",Object)],N.prototype,"ariaLabel",void 0),(0,p.__decorate)([(0,m.k)(),(0,p.__metadata)("design:type",String)],N.prototype,"appearance",void 0),(0,p.__decorate)([(0,m.k)(),(0,p.__metadata)("design:type",String),(0,p.__metadata)("design:paramtypes",[String])],N.prototype,"placeholder",null),(0,p.__decorate)([(0,m.k)({propertyBindable:!0,defaultValue:!1,propertyName:h.R.Disabled}),(0,p.__metadata)("design:type",Boolean),(0,p.__metadata)("design:paramtypes",[Boolean])],N.prototype,"disabled",null),(0,p.__decorate)([(0,m.k)(),(0,p.__metadata)("design:type",String)],N.prototype,"tooltip",void 0),(0,p.__decorate)([(0,m.k)(),(0,p.__metadata)("design:type",f.FormControl),(0,p.__metadata)("design:paramtypes",[f.FormControl])],N.prototype,"control",null),(0,p.__decorate)([(0,m.k)(),(0,p.__metadata)("design:type",Object),(0,p.__metadata)("design:paramtypes",[Object])],N.prototype,"labelPosition",null)},16805:(P,j,o)=>{o.d(j,{I:()=>f});var p=o(59131),g=o(36169),l=o(26594);const t="DisableDefaultComponentLoaderVisibilityDelay",f={provide:g.P,useFactory:E=>E?.[t]?0:2500,deps:[[new p.Optional,l.G]]}},48232:(P,j,o)=>{o.d(j,{J:()=>f});var p=o(90865),g=o.n(p),l=o(59131),t=o.n(l);class f extends p.CdkTextareaAutosize{constructor(){super(...arguments),this._scrollHeightAdjustment=4,this.rows=1,this.autosizeClass=!0}get _isFirefoxPlatform(){return this._platform.FIREFOX}get _hasFocusState(){return this._hasFocus}_overrideMeasureScrollHeight(){this._measureScrollHeight=()=>{const y=this._getTextareaCloneElement();this._textareaElement.parentNode.appendChild(y);const w=y.scrollHeight-this._scrollHeightAdjustment;return y.remove(),w}}_getTextareaCloneElement(){const y=this._textareaElement.cloneNode(!1);return this._setDefaultTextareaProperties(y),y}_setDefaultTextareaProperties(y){y.rows=1,this._setDefaultTextareaStyleProperties(y),this._setAdditionalTextareaStylePropertiesIfNeeded(y),this._setTextareaClassList(y)}_setDefaultTextareaStyleProperties(y){y.style.position="absolute",y.style.visibility="hidden",y.style.height="",y.style.minHeight="",y.style.maxHeight="",y.style.overflow="hidden"}_setAdditionalTextareaStylePropertiesIfNeeded(y){!this._isFirefoxPlatform||!this._hasFocusState||(y.style.marginBottom=`${y.clientHeight}px`)}_setTextareaClassList(y){const w=this._isFirefoxPlatform?"cdk-textarea-autosize-measuring-firefox":"cdk-textarea-autosize-measuring";y.classList.add(w)}noopInputHandler(){this._noopInputHandler()}ngOnInit(){this._overrideMeasureScrollHeight()}static{this.\u0275fac=(()=>{let y;return function(m){return(y||(y=l.\u0275\u0275getInheritedFactory(f)))(m||f)}})()}static{this.\u0275dir=l.\u0275\u0275defineDirective({type:f,selectors:[["textarea","crtTextareaAutosize",""]],hostVars:3,hostBindings:function(w,m){w&1&&l.\u0275\u0275listener("input",function(_){return m.noopInputHandler(_)}),w&2&&(l.\u0275\u0275attribute("rows",m.rows),l.\u0275\u0275classProp("cdk-textarea-autosize",m.autosizeClass))},exportAs:["crtTextareaAutosize"],features:[l.\u0275\u0275InheritDefinitionFeature]})}}},65269:(P,j,o)=>{o.d(j,{a:()=>h});var p=o(5960),g=o.n(p),l=o(40297),t=o.n(l),f=o(55642),E=o(1624),y=o(80615),w=o(59131),m=o.n(w);let h=class Nv{static{this.\u0275fac=function(I){return new(I||Nv)}}static{this.\u0275mod=w.\u0275\u0275defineNgModule({type:Nv})}static{this.\u0275inj=w.\u0275\u0275defineInjector({imports:[l.CommonModule,E.X]})}};h=(0,p.__decorate)([(0,f.g)({viewElements:[y.j]})],h),function(){(typeof ngJitMode>"u"||ngJitMode)&&w.\u0275\u0275setNgModuleScope(h,{declarations:[y.j],imports:[l.CommonModule,E.X],exports:[y.j]})}()},80615:(P,j,o)=>{o.d(j,{j:()=>F});var p=o(5960),g=o(77592),l=o(3671),t=o(96677),f=o(22524);const E=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i;function y(z){return z?w(z)?(0,f.Le)(z,.5):z:null}function w(z){return E.test(z)}var m=o(59200),h=o(59131),_=o(40297);const x=["*",[["","text-suffix",""]]],I=["*","[text-suffix]"],k=z=>({color:z}),A=z=>({"darker-color":z});let F=class Vv{set color(N){this._originalColor=N,this._color=y(N),this.backgroundColor=(0,m.q)(N)}get color(){return this._color}get isHexColorFormat(){return w(this._originalColor)}static{this.\u0275fac=function(T){return new(T||Vv)}}static{this.\u0275cmp=h.\u0275\u0275defineComponent({type:Vv,selectors:[["crt-chip"]],hostVars:2,hostBindings:function(T,L){T&2&&h.\u0275\u0275styleProp("background-color",L.backgroundColor)},inputs:{color:"color"},ngContentSelectors:I,decls:5,vars:9,consts:[[1,"crt-chip-focus-overlay"],[1,"chip-text",3,"ngStyle","ngClass"],[1,"chip-text","text-suffix",3,"ngStyle"]],template:function(T,L){T&1&&(h.\u0275\u0275projectionDef(x),h.\u0275\u0275element(0,"div",0),h.\u0275\u0275elementStart(1,"span",1),h.\u0275\u0275projection(2),h.\u0275\u0275elementEnd(),h.\u0275\u0275elementStart(3,"span",2),h.\u0275\u0275projection(4,1),h.\u0275\u0275elementEnd()),T&2&&(h.\u0275\u0275advance(),h.\u0275\u0275property("ngStyle",h.\u0275\u0275pureFunction1(3,k,L.color))("ngClass",h.\u0275\u0275pureFunction1(5,A,!L.isHexColorFormat)),h.\u0275\u0275advance(2),h.\u0275\u0275property("ngStyle",h.\u0275\u0275pureFunction1(7,k,L.color)))},dependencies:[_.NgClass,_.NgStyle],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}crt-chip{border-radius:16px;padding:1px 8px;display:flex;height:calc(var(--crt-body-2-line-height) - 2px);align-items:center;position:relative}crt-chip .crt-chip-focus-overlay{inset:0;position:absolute;pointer-events:none;border-radius:inherit;opacity:0}crt-chip .chip-text{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}crt-chip .chip-text.darker-color{filter:brightness(.5)}crt-chip .chip-text.text-suffix{text-overflow:clip;flex-shrink:0}crt-chip .chip-text a.crt-link{color:inherit}
`],encapsulation:2,changeDetection:0})}};(0,p.__decorate)([(0,g.k)(),(0,p.__metadata)("design:type",String),(0,p.__metadata)("design:paramtypes",[String])],F.prototype,"color",null),F=(0,p.__decorate)([(0,l.v)({type:"crt.Chip",reuseStrategy:t.B.Reuse})],F)},59200:(P,j,o)=>{o.d(j,{q:()=>g});var p=o(22524);function g(l){return l?(0,p.zX)(l,.2):null}},53837:(P,j,o)=>{o.d(j,{i:()=>E});var p=o(5960),g=o.n(p),l=o(77592),t=o(59131),f=o.n(t);class E{set value(w){this._value=w,this.title=this.getTitle(w)}get value(){return this._value}get isClickable(){return!!this.column?.cellView?.linkable?.clicked}getTitle(w){return`${w}`}static{this.\u0275fac=function(m){return new(m||E)}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:E,hostVars:1,hostBindings:function(m,h){m&2&&t.\u0275\u0275attribute("title",h.title)},inputs:{value:"value",record:"record",column:"column"}})}}(0,p.__decorate)([(0,l.k)(),(0,p.__metadata)("design:type",Object),(0,p.__metadata)("design:paramtypes",[Object])],E.prototype,"value",null),(0,p.__decorate)([(0,l.k)(),(0,p.__metadata)("design:type",Object)],E.prototype,"record",void 0),(0,p.__decorate)([(0,l.k)(),(0,p.__metadata)("design:type",Object)],E.prototype,"column",void 0)},61886:(P,j,o)=>{o.d(j,{S:()=>k});var p=o(5960),g=o.n(p),l=o(59131),t=o.n(l),f=o(77592),E=o(66823),y=o(32625),w=o(97343),m=o(62278),h=o.n(m),_=o(36486),x=o.n(_);const I=["tools"];class k extends y.g{set value(F){this.control?.setValue(F)}get errors(){return(0,w.OP)(this.control)}get errorMessages(){return this.errors.join(`
`)}constructor(F,z){super(F,"",z),this.changeDetectorRef=z,this._touched$=new m.Subject,this.readonly=!1,this.autofocus=!1,this.autocomplete="none"}ngOnInit(){this._touched$.pipe((0,_.filter)(Boolean),(0,_.tap)(()=>this.changeDetectorRef.detectChanges()),(0,_.take)(1),(0,_.takeUntil)(this.destroyed$)).subscribe()}ngDoCheck(){this._touched$.next(this.control.touched)}static{this.\u0275fac=function(z){return new(z||k)(l.\u0275\u0275directiveInject(l.Injector),l.\u0275\u0275directiveInject(l.ChangeDetectorRef))}}static{this.\u0275dir=l.\u0275\u0275defineDirective({type:k,contentQueries:function(z,N,T){if(z&1&&l.\u0275\u0275contentQuery(T,I,4),z&2){let L;l.\u0275\u0275queryRefresh(L=l.\u0275\u0275loadQuery())&&(N.tools=L)}},hostVars:1,hostBindings:function(z,N){z&2&&l.\u0275\u0275attribute("readonly",N.readonly)},inputs:{id:"id",value:"value",readonly:"readonly",autofocus:"autofocus",autocomplete:"autocomplete"},features:[l.\u0275\u0275InheritDefinitionFeature]})}}(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],k.prototype,"id",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object),(0,p.__metadata)("design:paramtypes",[Object])],k.prototype,"value",null),(0,p.__decorate)([(0,f.k)({propertyBindable:!0,defaultValue:!1,propertyName:E.R.Readonly}),(0,p.__metadata)("design:type",Object)],k.prototype,"readonly",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],k.prototype,"autofocus",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],k.prototype,"autocomplete",void 0)},19344:(P,j,o)=>{o.d(j,{j:()=>an});var p=o(5960),g=o.n(p),l=o(59131),t=o.n(l),f=o(4091),E=o.n(f),y=o(86464),w=o(77592),m=o(3671),h=o(96677),_=o(52793),x=o(10098),I=o(16805),k=o(61886),A=o(40297),F=o.n(A),z=o(56711),N=o.n(z),T=o(70987),L=o.n(T),U=o(52989),B=o.n(U),tt=o(48067),Z=o(58433),G=o(48416),Y=o(26657),O=o(58083),st=o(41571),gt=o(48232),ct=o(60116),nt=o(80932),Q=o(79772),q=o.n(Q);const lt=["textinput"],c=["textarea"],Tt=["formField"],Nt=["*"],wt=me=>({"crt-input-required":me});function Et(me,Ot){if(me&1&&l.\u0275\u0275element(0,"crt-base-input-width-holder",10),me&2){const Lt=l.\u0275\u0275nextContext();l.\u0275\u0275property("label",Lt.label)("minWidth",180)}}function vt(me,Ot){me&1&&l.\u0275\u0275element(0,"crt-skeleton-loader")}function Rt(me,Ot){if(me&1){const Lt=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"input",18,4),l.\u0275\u0275listener("blur",function(){l.\u0275\u0275restoreView(Lt);const ve=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(ve.onBlur())})("keyup",function(ve){l.\u0275\u0275restoreView(Lt);const ge=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(ge.onKeyUp(ve))})("keydown",function(ve){l.\u0275\u0275restoreView(Lt);const ge=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(ge.onKeyDown(ve))})("focus",function(){l.\u0275\u0275restoreView(Lt);const ve=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(ve.onFocus())}),l.\u0275\u0275elementEnd()}if(me&2){const Lt=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("id",Lt.inputId)("formControl",Lt.control)("value",Lt.control==null?null:Lt.control.value)("readonly",Lt.readonly)("autocomplete",Lt.autocomplete)("placeholder",Lt.placeholder)("crtAriaRequired",Lt.required)("mask",Lt.mask),l.\u0275\u0275attribute("aria-label",Lt.ariaLabel||Lt.label)}}function xe(me,Ot){if(me&1){const Lt=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"textarea",19,5),l.\u0275\u0275listener("crtObserveElementInViewportStateChange",function(ve){l.\u0275\u0275restoreView(Lt);const ge=l.\u0275\u0275reference(2),jt=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(jt.onVisibleTextAreaStateChange(ve,ge))}),l.\u0275\u0275elementEnd()}if(me&2){const Lt=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("id",Lt.inputId)("formControl",Lt.control)("value",Lt.control==null?null:Lt.control.value)("readonly",Lt.readonly)("crtAriaRequired",Lt.required)("placeholder",Lt.placeholder),l.\u0275\u0275attribute("aria-label",Lt.ariaLabel||Lt.label)}}function le(me,Ot){me&1&&(l.\u0275\u0275elementStart(0,"div",20)(1,"span",21),l.\u0275\u0275element(2,"mat-icon",22),l.\u0275\u0275pipe(3,"translate"),l.\u0275\u0275elementEnd()()),me&2&&(l.\u0275\u0275advance(2),l.\u0275\u0275property("title",l.\u0275\u0275pipeBind1(3,1,"Input.Readonly")))}function Ve(me,Ot){if(me&1&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"div",20)(2,"span",21)(3,"span",23),l.\u0275\u0275text(4),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(5,"crt-icon-tooltip",24),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementContainerEnd()),me&2){const Lt=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate(Lt.errorMessages),l.\u0275\u0275advance(),l.\u0275\u0275property("tooltip",Lt.errors)("ariaLabel",Lt.label)}}function Be(me,Ot){if(me&1&&(l.\u0275\u0275elementStart(0,"div",20)(1,"span",21),l.\u0275\u0275element(2,"crt-icon-tooltip",25),l.\u0275\u0275elementEnd()()),me&2){const Lt=l.\u0275\u0275nextContext(3);l.\u0275\u0275advance(2),l.\u0275\u0275property("tooltip",Lt.tooltip)("ariaLabel",Lt.label)}}function _t(me,Ot){if(me&1&&l.\u0275\u0275template(0,Be,3,2,"div",16),me&2){const Lt=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("ngIf",Lt.tooltip)}}function X(me,Ot){me&1&&(l.\u0275\u0275elementStart(0,"div",26),l.\u0275\u0275projection(1),l.\u0275\u0275elementEnd())}function de(me,Ot){if(me&1&&(l.\u0275\u0275elementStart(0,"div",11)(1,"label",12),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(3,"mat-form-field",13,1)(5,"div",14),l.\u0275\u0275template(6,Rt,2,9,"input",15)(7,xe,3,7,"ng-template",null,2,l.\u0275\u0275templateRefExtractor)(9,le,4,3,"div",16)(10,Ve,6,3,"ng-container",9)(11,_t,1,1,"ng-template",null,3,l.\u0275\u0275templateRefExtractor)(13,X,2,0,"div",17),l.\u0275\u0275elementEnd()()),me&2){const Lt=l.\u0275\u0275reference(8),Fe=l.\u0275\u0275reference(12),ve=l.\u0275\u0275nextContext();l.\u0275\u0275advance(),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(13,wt,ve.isShownRequiredMark))("for",ve.inputId),l.\u0275\u0275advance(),l.\u0275\u0275textInterpolate(ve.label),l.\u0275\u0275advance(),l.\u0275\u0275classProp("crt-input-control-container--invalid",ve.invalid),l.\u0275\u0275property("appearance",ve.appearance)("ngClass","label-position-"+ve.displayLabelPosition),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",!ve.multiline)("ngIfElse",Lt),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",ve.readonly),l.\u0275\u0275advance(),l.\u0275\u0275property("ngIf",ve.invalid)("ngIfElse",Fe),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",ve.displayTools)}}const qn=[y.r.Text,y.r.SHORT_TEXT,y.r.MEDIUM_TEXT,y.r.MAXSIZE_TEXT,y.r.LONG_TEXT,y.r.PHONE_TEXT,y.r.WEB_TEXT,y.r.EMAIL_TEXT];let an=class Fv extends k.S{set displayTools(Ot){this._displayTools=Ot}get displayTools(){return this._displayTools==null?this.tools&&!this.readonly:this._displayTools}get isShownRequiredMark(){return this.required&&this.appearance!=="outline"}constructor(Ot,Lt){super(Ot,Lt),this.multiline=!1,this.inputType="text"}onBlur(){this.blurred.emit()}onFocus(){this.focused.emit()}onKeyUp(Ot){this.keyUp.next(Ot)}onKeyDown(Ot){this.keyDown.next(Ot)}select(){this.textInput.nativeElement.select()}focus(){this.multiline?this.textArea.nativeElement.focus():this.textInput.nativeElement.focus(),this.changeDetectorRef.detectChanges()}onVisibleTextAreaStateChange(Ot,Lt){const Fe=this.textArea?.nativeElement;Ot.visible&&Fe?.clientHeight===0&&Lt.resizeToFitContent(!0)}ngAfterViewInit(){super.ngAfterViewInit(),this.autofocus&&this.focus()}ngAfterViewChecked(){this._formField?.ngAfterViewInit()}static{this.\u0275fac=function(Lt){return new(Lt||Fv)(l.\u0275\u0275directiveInject(l.Injector),l.\u0275\u0275directiveInject(l.ChangeDetectorRef))}}static{this.\u0275cmp=l.\u0275\u0275defineComponent({type:Fv,selectors:[["crt-input"]],viewQuery:function(Lt,Fe){if(Lt&1&&(l.\u0275\u0275viewQuery(lt,5),l.\u0275\u0275viewQuery(c,5),l.\u0275\u0275viewQuery(Tt,5,f.MatLegacyFormField)),Lt&2){let ve;l.\u0275\u0275queryRefresh(ve=l.\u0275\u0275loadQuery())&&(Fe.textInput=ve.first),l.\u0275\u0275queryRefresh(ve=l.\u0275\u0275loadQuery())&&(Fe.textArea=ve.first),l.\u0275\u0275queryRefresh(ve=l.\u0275\u0275loadQuery())&&(Fe._formField=ve.first)}},inputs:{multiline:"multiline",inputType:"inputType",displayTools:"displayTools",mask:"mask"},features:[l.\u0275\u0275ProvidersFeature([I.I]),l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Nt,decls:6,vars:5,consts:[["componentView",""],["formField",""],["multilineTextarea",""],["tooltipIcon",""],["textinput",""],["textarea","","autosize","crtTextareaAutosize"],[3,"label","minWidth",4,"ngIf"],[1,"crt-base-input-container"],["crtResizable","",1,"crt-input",3,"resized","ngClass","crtResizableDisabled"],[4,"ngIf","ngIfElse"],[3,"label","minWidth"],[1,"crt-input-label-container"],["crtTextOverflowTitle","",1,"crt-input-label",3,"ngClass","for"],["floatLabel","never",1,"crt-input-control-container",3,"appearance","ngClass"],[1,"crt-input-control"],["matInput","",3,"id","formControl","value","readonly","autocomplete","placeholder","crtAriaRequired","mask","blur","keyup","keydown","focus",4,"ngIf","ngIfElse"],["class","icon-container",4,"ngIf"],["class","inner-tools-panel","data-qa","input-tools",4,"ngIf"],["matInput","",3,"blur","keyup","keydown","focus","id","formControl","value","readonly","autocomplete","placeholder","crtAriaRequired","mask"],["crtTextareaAutosize","","matInput","","crtObserveElementInViewport","",1,"multiline-input",3,"crtObserveElementInViewportStateChange","id","formControl","value","readonly","crtAriaRequired","placeholder"],[1,"icon-container"],[1,"icon-baseline"],["matSuffix","","svgIcon","lock",1,"readonly-icon","crt-input-icon",3,"title"],[1,"cdk-visually-hidden"],["type","error",3,"tooltip","ariaLabel"],[3,"tooltip","ariaLabel"],["data-qa","input-tools",1,"inner-tools-panel"]],template:function(Lt,Fe){if(Lt&1){const ve=l.\u0275\u0275getCurrentView();l.\u0275\u0275projectionDef(),l.\u0275\u0275template(0,Et,1,2,"crt-base-input-width-holder",6),l.\u0275\u0275elementStart(1,"div",7)(2,"div",8),l.\u0275\u0275listener("resized",function(jt){return l.\u0275\u0275restoreView(ve),l.\u0275\u0275resetView(Fe.onResized(jt))}),l.\u0275\u0275template(3,vt,1,0,"crt-skeleton-loader",9)(4,de,14,15,"ng-template",null,0,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275elementEnd()()}if(Lt&2){const ve=l.\u0275\u0275reference(5);l.\u0275\u0275property("ngIf",Fe.displayLabelPosition==="auto"),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngClass","label-position-"+Fe.displayLabelPosition+" appearance-"+Fe.appearance)("crtResizableDisabled",!Fe.isAutoLabelPosition||Fe.containerQueryMechanismAvailable),l.\u0275\u0275advance(),l.\u0275\u0275property("ngIf",Fe.loaderVisible)("ngIfElse",ve)}},dependencies:[A.NgClass,A.NgIf,z.DefaultValueAccessor,z.NgControlStatus,f.MatLegacyFormField,f.MatLegacySuffix,T.MatLegacyInput,U.MatIcon,z.FormControlDirective,tt.C,Z.W,G.k,Y.b,O.q,st.w,gt.J,ct.L,nt.y,Q.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{max-width:100%}.crt-base-edit-input-responsible[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{container-type:inline-size}@container (width <= 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}}@container (width > 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{width:0;min-width:0;margin:0}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{height:0;color:transparent}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]   .inner-tools-panel[_ngcontent-%COMP%]{opacity:1;display:inline-flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]:not(:hover)   .readonly-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;padding-inline-end:2px}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   textarea.mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;align-items:center;padding-inline-end:2px}",".password-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.crt-input-control[_ngcontent-%COMP%]   textarea.multiline-input[_ngcontent-%COMP%]{white-space:pre-wrap}"],changeDetection:0})}};(0,p.__decorate)([(0,w.k)(),(0,p.__metadata)("design:type",Object)],an.prototype,"multiline",void 0),(0,p.__decorate)([(0,w.k)(),(0,p.__metadata)("design:type",Object)],an.prototype,"inputType",void 0),(0,p.__decorate)([(0,w.k)(),(0,p.__metadata)("design:type",Boolean),(0,p.__metadata)("design:paramtypes",[Boolean])],an.prototype,"displayTools",null),(0,p.__decorate)([(0,w.k)(),(0,p.__metadata)("design:type",Object)],an.prototype,"mask",void 0),an=(0,p.__decorate)([(0,m.v)({type:"crt.Input",formControlConfig:{relatesTo:"control"},contentSlots:["tools"],reuseStrategy:h.B.Reuse}),(0,_.f)({toolbarConfig:{position:20,icon:o(26969),defaultPropertyValues:{label:"",control:"",placeholder:"",tooltip:"",readonly:!1,multiline:!1,labelPosition:"auto"},defaultLocalizableStrings:{label:"Components.Input.Caption"}},dataValueTypes:qn,propertiesPanelComponentTypeName:"crt.TextInputPropertiesPanelComponent",viewElementGroupType:x.J.Inputs,typeCaption:"Components.Input.Caption",placeholderSize:{height:"32px"}}),(0,p.__metadata)("design:paramtypes",[l.Injector,l.ChangeDetectorRef])],an)},57274:(P,j,o)=>{o.d(j,{u:()=>B});var p=o(5960),g=o(40297),l=o(56711),t=o(52989),f=o(4091),E=o(70987),y=o(55642),w=o(79772),m=o(5476),h=o(34439),_=o(89199),x=o(1891),I=o(50663),k=o(48067),A=o(93291),F=o(48232),z=o(59131);class N{static{this.\u0275fac=function(G){return new(G||N)}}static{this.\u0275mod=z.\u0275\u0275defineNgModule({type:N})}static{this.\u0275inj=z.\u0275\u0275defineInjector({imports:[g.CommonModule,A.V]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&z.\u0275\u0275setNgModuleScope(N,{declarations:[F.J],imports:[g.CommonModule,A.V],exports:[F.J]})})();var T=o(55801),L=o(19344),U=o(60116);let B=class jv{constructor(Z){this._materialIconsRegistrator=Z,this._materialIconsRegistrator.addIcons([{name:"eye",icon:o(28258)},{name:"eye-blue",icon:o(21371)}])}static{this.\u0275fac=function(G){return new(G||jv)(z.\u0275\u0275inject(I.K))}}static{this.\u0275mod=z.\u0275\u0275defineNgModule({type:jv})}static{this.\u0275inj=z.\u0275\u0275defineInjector({imports:[g.CommonModule,l.FormsModule,E.MatLegacyInputModule,t.MatIconModule,f.MatLegacyFormFieldModule,l.ReactiveFormsModule,m.q,A.V,h.S,_.N,x.H,N,w.TranslateModule,T.d]})}};B=(0,p.__decorate)([(0,y.g)({viewElements:[L.j]}),(0,p.__metadata)("design:paramtypes",[I.K])],B),function(){(typeof ngJitMode>"u"||ngJitMode)&&z.\u0275\u0275setNgModuleScope(B,{declarations:[L.j],imports:[g.CommonModule,l.FormsModule,E.MatLegacyInputModule,t.MatIconModule,f.MatLegacyFormFieldModule,l.ReactiveFormsModule,k.C,m.q,A.V,h.S,_.N,x.H,N,w.TranslateModule,U.L,T.d],exports:[L.j]})}()},60116:(P,j,o)=>{o.d(j,{L:()=>f});var p=o(59131),g=o.n(p),l=o(73730),t=o.n(l);class f{_applyMask(){this._destroyMask(),this.mask&&(this._maskRef=t()(this._elementRef.nativeElement,this.mask))}_destroyMask(){this._maskRef?.destroy(),this._maskRef=null}constructor(y){this._elementRef=y,this._maskRef=null}ngOnChanges(){this._applyMask()}ngOnDestroy(){this._destroyMask()}static{this.\u0275fac=function(w){return new(w||f)(p.\u0275\u0275directiveInject(p.ElementRef))}}static{this.\u0275dir=p.\u0275\u0275defineDirective({type:f,selectors:[["input","mask",""]],inputs:{mask:"mask"},standalone:!0,features:[p.\u0275\u0275NgOnChangesFeature]})}}},53703:(P,j,o)=>{o.d(j,{h:()=>L});var p=o(5960),g=o.n(p),l=o(59131),t=o.n(l),f=o(71252),E=o.n(f),y=o(77592),w=o(34760),m=o(3671),h=o(96677),_=o(68712),x=o(40297),I=o.n(x),k=o(37962),A=o(8017);const F=["*"],z=()=>({mode:"textOnly"});function N(U,B){if(U&1&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275text(1),l.\u0275\u0275pipe(2,"decodeHtml"),l.\u0275\u0275pipe(3,"sanitizeHtml"),l.\u0275\u0275pipe(4,"decodeHtml"),l.\u0275\u0275elementContainerEnd()),U&2){const tt=l.\u0275\u0275nextContext();l.\u0275\u0275advance(),l.\u0275\u0275textInterpolate1(" ",l.\u0275\u0275pipeBind1(4,6,l.\u0275\u0275pipeBind2(3,3,l.\u0275\u0275pipeBind1(2,1,tt.caption),l.\u0275\u0275pureFunction0(8,z)))," ")}}function T(U,B){U&1&&l.\u0275\u0275projection(0)}let L=class Bv extends _.K{set href(B){this.safeUrl=B?this._sanitizer.sanitize(l.SecurityContext.URL,B):null}set linkType(B){this._type=B||void 0,this._initLinkTypeClass()}set target(B){this._target=B||this._defaultTarget}get target(){return this._target}set underlining(B){this._underlining=B||"always"}get underlining(){return this._underlining}set mode(B){this._mode=B||this._defaultMode}get mode(){return this._mode}constructor(B,tt){super(B),this._sanitizer=tt,this._defaultTarget="_self",this._defaultMode="native",this._target=this._defaultTarget,this._mode=this._defaultMode,this._linkTypeClass="",this._underlining="always",this.clicked=new l.EventEmitter}onDoubleClick(B){B.stopPropagation()}onClick(B){if(B.stopPropagation(),this.mode==="native")return;B.preventDefault();const tt={event:B,payload:this.payload};this.clicked.next(tt)}get linkTypeClass(){return this._linkTypeClass}_initLinkTypeClass(){const B=this._type!==void 0?`mat-${this._type}`:"";this._linkTypeClass=B}static{this.\u0275fac=function(tt){return new(tt||Bv)(l.\u0275\u0275directiveInject(l.Injector),l.\u0275\u0275directiveInject(f.DomSanitizer))}}static{this.\u0275cmp=l.\u0275\u0275defineComponent({type:Bv,selectors:[["crt-link"]],hostBindings:function(tt,Z){tt&1&&l.\u0275\u0275listener("dblclick",function(Y){return Z.onDoubleClick(Y)})("click",function(Y){return Z.onClick(Y)})},inputs:{href:"href",linkType:"linkType",target:"target",caption:"caption",title:"title",underlining:"underlining",ariaLabel:"ariaLabel",payload:"payload",mode:"mode"},outputs:{clicked:"clicked"},features:[l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:F,decls:4,vars:10,consts:[["content",""],[3,"click","target","ngClass"],[4,"ngIf","ngIfElse"]],template:function(tt,Z){if(tt&1){const G=l.\u0275\u0275getCurrentView();l.\u0275\u0275projectionDef(),l.\u0275\u0275elementStart(0,"a",1),l.\u0275\u0275listener("click",function(O){return l.\u0275\u0275restoreView(G),l.\u0275\u0275resetView(Z.onClick(O))}),l.\u0275\u0275template(1,N,5,9,"ng-container",2)(2,T,1,0,"ng-template",null,0,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275elementEnd()}if(tt&2){let G;const Y=l.\u0275\u0275reference(3);l.\u0275\u0275classMapInterpolate1("crt-link ",Z.linkTypeClass,""),l.\u0275\u0275property("target",Z.target)("ngClass","crt-link-underlining-"+Z.underlining),l.\u0275\u0275attribute("href",Z.safeUrl,l.\u0275\u0275sanitizeUrl)("title",(G=Z.title)!==null&&G!==void 0?G:Z.caption)("aria-label",Z.ariaLabel||Z.title),l.\u0275\u0275advance(),l.\u0275\u0275property("ngIf",Z.caption)("ngIfElse",Y)}},dependencies:[x.NgClass,x.NgIf,k.o,A.b],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{display:flex;max-width:100%}.crt-link[_ngcontent-%COMP%]{display:block;outline:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.crt-link[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.crt-link[_ngcontent-%COMP%]:hover:not(.crt-link-underlining-never){text-decoration:underline}.crt-link.crt-link-underlining-always[_ngcontent-%COMP%]{text-decoration:underline}.crt-link[_ngcontent-%COMP%]:not(.crt-link-underlining-always){text-decoration:none}.crt-link.light[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:300}.crt-link.normal[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:400}.crt-link.semibold[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:600}.crt-link.bold[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{font-weight:700}.crt-link.default[_ngcontent-%COMP%]{font-weight:unset}.crt-link[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .crt-link[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0}.crt-link[_ngcontent-%COMP%]   label.mat-body-1[_ngcontent-%COMP%], .crt-link[_ngcontent-%COMP%]   label.mat-caption[_ngcontent-%COMP%]{display:block}.crt-link[_ngcontent-%COMP%]   .ellipsis[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:inherit}.crt-link[_ngcontent-%COMP%]:first-child{word-break:break-word}.crt-link[_ngcontent-%COMP%]:first-child   [_ngcontent-%COMP%]:first-child{unicode-bidi:plaintext}.crt-link[_ngcontent-%COMP%]:first-child[required]{display:flex}.crt-link[_ngcontent-%COMP%]:first-child[required]:after{content:"\\a0*"}'],changeDetection:0})}};(0,p.__decorate)([(0,y.k)(),(0,p.__metadata)("design:type",String),(0,p.__metadata)("design:paramtypes",[String])],L.prototype,"href",null),(0,p.__decorate)([(0,y.k)(),(0,p.__metadata)("design:type",String),(0,p.__metadata)("design:paramtypes",[String])],L.prototype,"linkType",null),(0,p.__decorate)([(0,y.k)(),(0,p.__metadata)("design:type",String),(0,p.__metadata)("design:paramtypes",[String])],L.prototype,"target",null),(0,p.__decorate)([(0,y.k)(),(0,p.__metadata)("design:type",String)],L.prototype,"caption",void 0),(0,p.__decorate)([(0,y.k)(),(0,p.__metadata)("design:type",String)],L.prototype,"title",void 0),(0,p.__decorate)([(0,y.k)(),(0,p.__metadata)("design:type",String),(0,p.__metadata)("design:paramtypes",[String])],L.prototype,"underlining",null),(0,p.__decorate)([(0,y.k)(),(0,p.__metadata)("design:type",String)],L.prototype,"ariaLabel",void 0),(0,p.__decorate)([(0,y.k)(),(0,p.__metadata)("design:type",Object)],L.prototype,"payload",void 0),(0,p.__decorate)([(0,y.k)(),(0,p.__metadata)("design:type",String),(0,p.__metadata)("design:paramtypes",[String])],L.prototype,"mode",null),(0,p.__decorate)([(0,w.j)(),(0,p.__metadata)("design:type",Object)],L.prototype,"clicked",void 0),L=(0,p.__decorate)([(0,m.v)({type:"crt.Link",reuseStrategy:h.B.Reuse}),(0,p.__metadata)("design:paramtypes",[l.Injector,f.DomSanitizer])],L)},48629:(P,j,o)=>{o.d(j,{U:()=>x});var p=o(5960),g=o.n(p),l=o(40297),t=o.n(l),f=o(55642),E=o(1624),y=o(37962),w=o(53703),m=o(65269),h=o(59131),_=o.n(h);let x=class zv{static{this.\u0275fac=function(A){return new(A||zv)}}static{this.\u0275mod=h.\u0275\u0275defineNgModule({type:zv})}static{this.\u0275inj=h.\u0275\u0275defineInjector({imports:[l.CommonModule,E.X,m.a]})}};x=(0,p.__decorate)([(0,f.g)({viewElements:[w.h]})],x),function(){(typeof ngJitMode>"u"||ngJitMode)&&h.\u0275\u0275setNgModuleScope(x,{declarations:[w.h],imports:[l.CommonModule,y.o,E.X,m.a],exports:[w.h]})}()},75214:(P,j,o)=>{o.d(j,{F:()=>ge});var p=o(5960),g=o.n(p),l=o(59131),t=o.n(l),f=o(77592),E=o(3671),y=o(52793),w=o(50999),m=o(86464),h=o(10098),_=o(79772),x=o.n(_),I=o(19344),k=o(16805),A=o(62278),F=o.n(A),z=o(89422),N=o.n(z),T=o(7372),L=o(30947),U=o(40297),B=o.n(U),tt=o(56711),Z=o.n(tt),G=o(4091),Y=o.n(G),O=o(70987),st=o.n(O),gt=o(52989),ct=o.n(gt),nt=o(48067),Q=o(58433),q=o(48416),lt=o(26657),c=o(58083),Tt=o(80932);const Nt=["intlTel"],wt=["intlTelContainer"],Et=["*"],vt=jt=>({"crt-input-required":jt}),Rt=jt=>({"grid-padding":jt}),xe=(jt,ee,Gt,oe)=>({"crt-input-control":!0,"phone-mask":jt,"value-empty":ee,"edit-mode":Gt,"phone-wrapper":oe}),le=jt=>({"crt-input-control-element-hidden":jt}),Ve=(jt,ee)=>({"crt-input-control-element-hidden":jt,"none-events":ee});function Be(jt,ee){if(jt&1&&l.\u0275\u0275element(0,"crt-base-input-width-holder",10),jt&2){const Gt=l.\u0275\u0275nextContext();l.\u0275\u0275property("label",Gt.label)("minWidth",180)}}function _t(jt,ee){jt&1&&l.\u0275\u0275element(0,"crt-skeleton-loader")}function X(jt,ee){jt&1&&l.\u0275\u0275elementContainer(0)}function de(jt,ee){if(jt&1&&(l.\u0275\u0275elementContainerStart(0,null,3),l.\u0275\u0275elementStart(2,"crt-intl-tel-input",14,4),l.\u0275\u0275template(4,X,1,0,"ng-container",21),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()),jt&2){l.\u0275\u0275nextContext();const Gt=l.\u0275\u0275reference(10),oe=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(2,le,oe.isFlagButtonHidden)),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngTemplateOutlet",Gt)}}function qn(jt,ee){if(jt&1){const Gt=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"input",22,5),l.\u0275\u0275listener("blur",function(Zt){l.\u0275\u0275restoreView(Gt);const Ht=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(Ht.onBlurred(Zt))})("keyup",function(Zt){l.\u0275\u0275restoreView(Gt);const Ht=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(Ht.onKeyUp(Zt))})("keydown",function(Zt){l.\u0275\u0275restoreView(Gt);const Ht=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(Ht.onKeyDown(Zt))})("focus",function(){l.\u0275\u0275restoreView(Gt);const Zt=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(Zt.enableEditMode())})("phoneValueChanged",function(Zt){l.\u0275\u0275restoreView(Gt);const Ht=l.\u0275\u0275nextContext(2);return l.\u0275\u0275resetView(Ht.onPhoneValueChanged(Zt))}),l.\u0275\u0275elementEnd()}if(jt&2){const Gt=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction2(12,Ve,Gt.isFlagButtonHidden,Gt.isViewCellMode))("displayPhoneMask",Gt.displayPhoneMask&&Gt.isFocused)("alwaysShowFlags",Gt.alwaysShowFlags)("countrySelectionConfig",Gt.countrySelectionConfig)("id",Gt.inputId)("formControl",Gt.control)("value",Gt.control==null?null:Gt.control.value)("readonly",Gt.readonly)("autocomplete",Gt.autocomplete)("placeholder",Gt.isShowPlaceholder?Gt.placeholder:"")("crtAriaRequired",Gt.required),l.\u0275\u0275attribute("aria-label",Gt.ariaLabel||Gt.label)}}function an(jt,ee){jt&1&&(l.\u0275\u0275element(0,"mat-icon",23),l.\u0275\u0275pipe(1,"translate")),jt&2&&l.\u0275\u0275property("title",l.\u0275\u0275pipeBind1(1,1,"Input.Readonly"))}function me(jt,ee){if(jt&1&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"span",24),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(3,"crt-icon-tooltip",25),l.\u0275\u0275elementContainerEnd()),jt&2){const Gt=l.\u0275\u0275nextContext(2);l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(Gt.errorMessages),l.\u0275\u0275advance(),l.\u0275\u0275property("tooltip",Gt.errors)("ariaLabel",Gt.label)}}function Ot(jt,ee){if(jt&1&&l.\u0275\u0275element(0,"crt-icon-tooltip",27),jt&2){const Gt=l.\u0275\u0275nextContext(3);l.\u0275\u0275property("tooltip",Gt.tooltip)("ariaLabel",Gt.label)}}function Lt(jt,ee){if(jt&1&&l.\u0275\u0275template(0,Ot,1,2,"crt-icon-tooltip",26),jt&2){const Gt=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("ngIf",Gt.tooltip)}}function Fe(jt,ee){jt&1&&(l.\u0275\u0275elementStart(0,"div",28),l.\u0275\u0275projection(1),l.\u0275\u0275elementEnd())}function ve(jt,ee){if(jt&1){const Gt=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",11)(1,"label",12),l.\u0275\u0275text(2),l.\u0275\u0275elementEnd()(),l.\u0275\u0275elementStart(3,"mat-form-field",13)(4,"div",14)(5,"button",15),l.\u0275\u0275pipe(6,"translate"),l.\u0275\u0275listener("click",function(Zt){l.\u0275\u0275restoreView(Gt);const Ht=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(Ht.onCallLinkClicked(Zt,Ht.control==null?null:Ht.control.value))})("focus",function(){l.\u0275\u0275restoreView(Gt);const Zt=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(Zt.callButtonFocused())}),l.\u0275\u0275element(7,"mat-icon",16),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(8,de,5,4,"ng-container",9)(9,qn,2,15,"ng-template",null,1,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275elementStart(11,"div",17)(12,"a",18),l.\u0275\u0275listener("click",function(Zt){l.\u0275\u0275restoreView(Gt);const Ht=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(Ht.onCallLinkClicked(Zt,Ht.control==null?null:Ht.control.value))})("keyup.enter",function(Zt){l.\u0275\u0275restoreView(Gt);const Ht=l.\u0275\u0275nextContext();return l.\u0275\u0275resetView(Ht.onCallLinkClicked(Zt,Ht.control==null?null:Ht.control.value))}),l.\u0275\u0275text(13),l.\u0275\u0275elementEnd()(),l.\u0275\u0275template(14,an,2,3,"mat-icon",19)(15,me,4,3,"ng-container",9)(16,Lt,1,1,"ng-template",null,2,l.\u0275\u0275templateRefExtractor)(18,Fe,2,0,"div",20),l.\u0275\u0275elementEnd()()}if(jt&2){const Gt=l.\u0275\u0275reference(10),oe=l.\u0275\u0275reference(17),Zt=l.\u0275\u0275nextContext();l.\u0275\u0275advance(),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(25,vt,Zt.isShownRequiredMark))("for",Zt.inputId),l.\u0275\u0275advance(),l.\u0275\u0275textInterpolate1("",Zt.label," "),l.\u0275\u0275advance(),l.\u0275\u0275classMap("label-position-"+Zt.displayLabelPosition),l.\u0275\u0275classProp("crt-input-control-container--invalid",Zt.invalid),l.\u0275\u0275property("appearance",Zt.appearance)("ngClass",l.\u0275\u0275pureFunction1(27,Rt,Zt.isEditCellMode)),l.\u0275\u0275advance(),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction4(29,xe,Zt.displayPhoneMask&&Zt.isFocused,Zt.isEmptyValue,Zt.isEdit&&!Zt.readonly,!Zt.alwaysShowFlags)),l.\u0275\u0275advance(),l.\u0275\u0275propertyInterpolate("title",l.\u0275\u0275pipeBind1(6,23,"PhoneInput.CallButtonHint")),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(34,le,Zt.isHandsetHidden))("tabIndex",Zt.isEmptyValue||Zt.isHandsetHidden?-1:0),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",Zt.displayAsPhone)("ngIfElse",Gt),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(36,le,Zt.isPhoneLinkHidden))("title",Zt.control==null?null:Zt.control.value),l.\u0275\u0275advance(),l.\u0275\u0275property("tabindex",Zt.isEmptyValue?-1:0),l.\u0275\u0275advance(),l.\u0275\u0275textInterpolate1(" ",Zt.control==null?null:Zt.control.value," "),l.\u0275\u0275advance(),l.\u0275\u0275property("ngIf",Zt.readonly),l.\u0275\u0275advance(),l.\u0275\u0275property("ngIf",Zt.invalid&&!Zt.isViewCellMode)("ngIfElse",oe),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",!Zt.readonly&&Zt.tools)}}let ge=class Uv extends I.j{get isEdit(){return this.phoneAsLink===!0?this._isFocused||this.control.value?.length>0&&this.control.invalid:!0}get errors(){return Array.from(new Set(super.errors))}get isEmptyValue(){return!(this.control?.value||this.value)}get isFlagButtonHidden(){return this.alwaysShowFlags?!1:!this.isFocused||this.readonly||!this.isEdit}get isPhoneLinkHidden(){return this.alwaysShowFlags?!0:!this.readonly&&this.isEdit&&this.isFocused}get isHandsetHidden(){return this.alwaysShowFlags?!0:this.displayPhoneMask&&this.isFocused||this.isGridMode&&this.isEmptyValue&&!this.isEdit}get displayPhoneMask(){return this.displayAsPhone&&this.isEdit}get isFocused(){return this._isFocused}get isEditCellMode(){return this.isGridMode&&!this.isViewCellMode}get isShowPlaceholder(){return this._isShowPlaceholder}set crtPhoneInput(ee){ee&&(this._crtPhoneInput=ee,this._setValidator())}set intlTelContainer(ee){ee&&this._loadIntlTelInputComponent(ee)}constructor(ee,Gt,oe,Zt){super(ee,Gt),this.changeDetectorRef=Gt,this._translateService=oe,this._phoneInputService=Zt,this._isShowPlaceholder=!0,this._validatorFn=this._createPhoneValidatorFn.bind(this),this._intlTelInputLoaded=!1,this._subscriptions=new A.Subscription,this._previousValue=null,this.displayAsPhone=!0,this.alwaysShowFlags=!1,this.phoneAsLink=!1}_setValidator(){this.displayAsPhone&&(this.isEditCellMode?this.control.setValidators(this._validatorFn):this.control.hasValidator(this._validatorFn)||this.control.addValidators(this._validatorFn))}_createPhoneValidatorFn(){return this.control.pristine||this._crtPhoneInput?.isValid()||this.isEmptyValue?null:this._getValidationErrors()}_getValidationErrors(){return{phoneMaskValidator:{message:this._translateService.instant("Validators.PhoneNumber.Message")}}}_openCountriesList(ee){this._getFlagElement()?.click(),this._intlTel.nativeElement.querySelector(T.H.ActiveFlag)?.focus(),ee.preventDefault(),ee.stopPropagation()}_isCountriesListOpened(){return this._intlTel.nativeElement.querySelector(T.H.SelectedFlag).getAttribute("aria-expanded")==="true"}_loadIntlTelInputComponent(ee){this._intlTelInputLoaded||o.e(4563).then(o.bind(o,74563)).then(Gt=>(ee.createComponent(Gt.CrtIntlTelInputComponent).instance,this._intlTelInputLoaded=!0,this.detectChanges(),Gt.CrtIntlTelInputComponent))}_getFlagElement(){return this._intlTel?.nativeElement?.querySelector(T.H.SelectedFlag)||{}}onValueChanges(ee){const Gt=this._previousValue;!this.isFocused&&ee!==Gt&&this._crtPhoneInput.updateMaskFromValue(ee),this._previousValue=ee}onCallLinkClicked(ee,Gt){Gt&&(L.e.isTelephonyEnabled?(this._phoneInputService.callNumber(Gt,ee),ee.stopPropagation()):window.location.href=`tel:${Gt}`)}enableEditMode(){this._isFocused=!0,this._isShowPlaceholder=this.isEmptyValue&&!this.displayPhoneMask,this.changeDetectorRef.detectChanges(),this.control.updateValueAndValidity(),this._getFlagElement().tabIndex=0}disableEditMode(){this._isFocused=!1}onPhoneValueChanged(ee){ee!==this.control.value&&(!this._crtPhoneInput?.containsOnlyDialCode(ee)||this.alwaysShowFlags)&&(this.control.setValue(ee),this.control.markAsDirty(),this.changeDetectorRef.detectChanges(),this.control.updateValueAndValidity(),this._crtPhoneInput.actualizeMask(this.control))}onBlurred(ee){const Gt=ee?.relatedTarget;Gt?.closest(T.H.FlagContainer)||Gt?.closest(T.H.CountryList)||(this.control.markAsTouched(),this.control.updateValueAndValidity(),this.disableEditMode(),this.control.setValue(this.control.value),this._isShowPlaceholder=this.control.value==="",this.isEmptyValue&&(this._getFlagElement().tabIndex=-1))}ngOnInit(){super.ngOnInit(),this._subscriptions.add(this.control.valueChanges.subscribe(ee=>this.onValueChanges(ee))),L.e.isTelephonyEnabledFlagInitialized||this._phoneInputService.initIsTelephonyEnabled()}onKeyDown(ee){ee.key===z.Key.ArrowDown&&!this._isCountriesListOpened()&&this._openCountriesList(ee)}onKeyDownInContainer(ee){ee.key===z.Key.Tab&&ee.shiftKey&&ee.target===this._getFlagElement()&&this.onBlurred()}callButtonFocused(){this._getFlagElement().tabIndex=-1}ngOnDestroy(){super.ngOnDestroy(),this.crtPhoneInput&&this.crtPhoneInput.ngOnDestroy(),this._intlTel&&this._intlTel.nativeElement.remove(),this._subscriptions.unsubscribe()}static{this.\u0275fac=function(Gt){return new(Gt||Uv)(l.\u0275\u0275directiveInject(l.Injector),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(_.TranslateService),l.\u0275\u0275directiveInject(L.e))}}static{this.\u0275cmp=l.\u0275\u0275defineComponent({type:Uv,selectors:[["crt-phone-input"]],viewQuery:function(Gt,oe){if(Gt&1&&(l.\u0275\u0275viewQuery(T.R,5),l.\u0275\u0275viewQuery(Nt,5,l.ElementRef),l.\u0275\u0275viewQuery(wt,5,l.ViewContainerRef)),Gt&2){let Zt;l.\u0275\u0275queryRefresh(Zt=l.\u0275\u0275loadQuery())&&(oe.crtPhoneInput=Zt.first),l.\u0275\u0275queryRefresh(Zt=l.\u0275\u0275loadQuery())&&(oe._intlTel=Zt.first),l.\u0275\u0275queryRefresh(Zt=l.\u0275\u0275loadQuery())&&(oe.intlTelContainer=Zt.first)}},inputs:{displayAsPhone:"displayAsPhone",alwaysShowFlags:"alwaysShowFlags",isGridMode:"isGridMode",isViewCellMode:"isViewCellMode",phoneAsLink:"phoneAsLink",countrySelectionConfig:"countrySelectionConfig"},features:[l.\u0275\u0275ProvidersFeature([k.I]),l.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Et,decls:6,vars:5,consts:[["input",""],["simpleInput",""],["tooltipIcon",""],["intlTelContainer",""],["intlTel",""],["textinput",""],[3,"label","minWidth",4,"ngIf"],[1,"crt-base-input-container"],["crtResizable","",1,"crt-input",3,"resized","keydown","ngClass","crtResizableDisabled"],[4,"ngIf","ngIfElse"],[3,"label","minWidth"],[1,"crt-input-label-container"],["crtTextOverflowTitle","",1,"crt-input-label",3,"ngClass","for"],["floatLabel","never",1,"crt-input-control-container",3,"appearance","ngClass"],[3,"ngClass"],["data-qa","call-field-button","alt","call up","mat-icon-button","",1,"crt-input-control-call-button",3,"click","focus","title","ngClass","tabIndex"],["svgIcon","call-icon"],[1,"phone-link-wrapper",3,"ngClass","title"],[1,"phone-link",3,"click","keyup.enter","tabindex"],["matSuffix","","svgIcon","lock","class","readonly-icon crt-input-icon",3,"title",4,"ngIf"],["class","inner-tools-panel","data-qa","phone-input-tools",4,"ngIf"],[4,"ngTemplateOutlet"],["crtPhoneInput","","matInput","",3,"blur","keyup","keydown","focus","phoneValueChanged","ngClass","displayPhoneMask","alwaysShowFlags","countrySelectionConfig","id","formControl","value","readonly","autocomplete","placeholder","crtAriaRequired"],["matSuffix","","svgIcon","lock",1,"readonly-icon","crt-input-icon",3,"title"],[1,"cdk-visually-hidden"],["type","error",3,"tooltip","ariaLabel"],[3,"tooltip","ariaLabel",4,"ngIf"],[3,"tooltip","ariaLabel"],["data-qa","phone-input-tools",1,"inner-tools-panel"]],template:function(Gt,oe){if(Gt&1){const Zt=l.\u0275\u0275getCurrentView();l.\u0275\u0275projectionDef(),l.\u0275\u0275template(0,Be,1,2,"crt-base-input-width-holder",6),l.\u0275\u0275elementStart(1,"div",7)(2,"div",8),l.\u0275\u0275listener("resized",function(qe){return l.\u0275\u0275restoreView(Zt),l.\u0275\u0275resetView(oe.onResized(qe))})("keydown",function(qe){return l.\u0275\u0275restoreView(Zt),l.\u0275\u0275resetView(oe.onKeyDownInContainer(qe))}),l.\u0275\u0275template(3,_t,1,0,"crt-skeleton-loader",9)(4,ve,19,38,"ng-template",null,0,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275elementEnd()()}if(Gt&2){const Zt=l.\u0275\u0275reference(5);l.\u0275\u0275property("ngIf",oe.displayLabelPosition==="auto"),l.\u0275\u0275advance(2),l.\u0275\u0275property("ngClass","label-position-"+oe.displayLabelPosition+" appearance-"+oe.appearance)("crtResizableDisabled",!oe.isAutoLabelPosition||oe.containerQueryMechanismAvailable),l.\u0275\u0275advance(),l.\u0275\u0275property("ngIf",oe.loaderVisible)("ngIfElse",Zt)}},dependencies:[U.NgClass,U.NgIf,U.NgTemplateOutlet,tt.DefaultValueAccessor,tt.NgControlStatus,G.MatLegacyFormField,G.MatLegacySuffix,O.MatLegacyInput,gt.MatIcon,tt.FormControlDirective,nt.C,Q.W,q.k,lt.b,c.q,Tt.y,T.R,_.TranslatePipe],styles:["body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]{max-width:100%}.crt-base-edit-input-responsible[_nghost-%COMP%]   .crt-base-input-container[_ngcontent-%COMP%]{container-type:inline-size}@container (width <= 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}}@container (width > 320px){[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-auto[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:1px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]{min-height:32px;flex-direction:row;padding-top:8px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{align-self:baseline}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-inline-end:10px;display:flex;align-items:flex-start;align-self:baseline;word-break:break-word;width:136px;min-width:136px}[_nghost-%COMP%]   .crt-input.label-position-left[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{width:100%;margin:9px 0 4px;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]{min-height:52px;flex-direction:column;padding-top:0}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .crt-input.label-position-above[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-top:8px}[_nghost-%COMP%]   .crt-input.label-position-above.appearance-outline[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{margin-bottom:8px}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]{width:0;min-width:0;margin:0}[_nghost-%COMP%]   .crt-input.label-position-hidden[_ngcontent-%COMP%]   .crt-input-label-container[_ngcontent-%COMP%]   .crt-input-label[_ngcontent-%COMP%]{height:0;color:transparent}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]   .inner-tools-panel[_ngcontent-%COMP%]{opacity:1;display:inline-flex;flex-direction:row;flex-wrap:nowrap;justify-content:flex-end;align-items:center}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]:not(:hover)   .readonly-icon[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;padding-inline-end:2px}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   textarea.mat-input-element[_ngcontent-%COMP%]{padding:0;margin:0}[_nghost-%COMP%]   .crt-input-control[_ngcontent-%COMP%]{display:flex;align-items:center;padding-inline-end:2px}","body[_ngcontent-%COMP%]{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}[_nghost-%COMP%]   .crt-input-control-container[_ngcontent-%COMP%]{pointer-events:auto!important;width:100%}[_nghost-%COMP%]   .crt-input-control-container.grid-padding[_ngcontent-%COMP%]{padding-left:8px}[_nghost-%COMP%]   .crt-input[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]     .mat-form-field-empty.mat-form-field-label{padding-inline-start:25px;width:calc(100% - 88px)}[_nghost-%COMP%]   .crt-input-control-element-hidden[_ngcontent-%COMP%]{width:0!important;margin-inline-end:0!important;overflow:hidden}[_nghost-%COMP%]   .crt-input-control.phone-mask[_ngcontent-%COMP%]   crt-intl-tel-input[_ngcontent-%COMP%], [_nghost-%COMP%]   .crt-input-control.phone-mask[_ngcontent-%COMP%]   .iti--allow-dropdown[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .crt-input-control.phone-mask.edit-mode[_ngcontent-%COMP%]{padding-inline-start:0}[_nghost-%COMP%]   .crt-input-control-call-button[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;transform:translateY(-12px);border:none;background-color:inherit;height:24px;padding:2px 0;cursor:pointer;z-index:1}[_nghost-%COMP%]   .crt-input-control-call-button[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}[dir=rtl]   [_nghost-%COMP%]   .crt-input-control-call-button[_ngcontent-%COMP%]{left:auto;right:0}[_nghost-%COMP%]   input[crtPhoneInput].none-events[_ngcontent-%COMP%]{pointer-events:none!important}[_nghost-%COMP%]   crt-intl-tel-input[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .phone-wrapper[_ngcontent-%COMP%]{padding-inline-start:24px;min-height:20px}[_nghost-%COMP%]   .phone-link-wrapper[_ngcontent-%COMP%]{width:100%;padding-left:0;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;direction:ltr}[_nghost-%COMP%]   .phone-link-wrapper[_ngcontent-%COMP%]   .phone-link[_ngcontent-%COMP%]{color:var(--crt-palette-link-500);text-decoration:none}[_nghost-%COMP%]   .phone-link-wrapper[_ngcontent-%COMP%]   .phone-link[_ngcontent-%COMP%]:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}[_nghost-%COMP%]   .phone-link-wrapper[_ngcontent-%COMP%]   .phone-link[_ngcontent-%COMP%]:hover{text-decoration:underline}[readonly=true][_nghost-%COMP%]   crt-intl-tel-input.crt-input-control-element-hidden[_ngcontent-%COMP%]{display:none}[dir=rtl][_ngcontent-%COMP%]   div.phone-link-wrapper[_ngcontent-%COMP%]{direction:ltr}[dir=rtl][_ngcontent-%COMP%]   div.phone-wrapper[_ngcontent-%COMP%]{padding-inline-start:0px;padding-inline-end:2px!important}[dir=rtl][_ngcontent-%COMP%]   button.crt-input-control-call-button[_ngcontent-%COMP%]{position:relative;top:12px;margin-left:8px;margin-right:6px}"],changeDetection:0})}};(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],ge.prototype,"displayAsPhone",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],ge.prototype,"alwaysShowFlags",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],ge.prototype,"isGridMode",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],ge.prototype,"isViewCellMode",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],ge.prototype,"phoneAsLink",void 0),(0,p.__decorate)([(0,f.k)(),(0,p.__metadata)("design:type",Object)],ge.prototype,"countrySelectionConfig",void 0),ge=(0,p.__decorate)([(0,E.v)({type:"crt.PhoneInput",formControlConfig:{relatesTo:"control"},contentSlots:["tools"]}),(0,y.f)({toolbarConfig:{groupType:w.h.Inputs,position:42,icon:o(12076),defaultPropertyValues:{label:"",control:"",labelPosition:"auto",placeholder:"",tooltip:"",needHandleSave:!1},defaultLocalizableStrings:{caption:"DataValueType.PhoneTextCaption",label:"DataValueType.PhoneTextCaption"}},dataValueTypes:[m.r.PHONE_TEXT],propertiesPanelComponentTypeName:"crt.PhoneTextPropertiesPanel",viewElementGroupType:h.J.Inputs,typeCaption:"DataValueType.PhoneTextShortenedCaption"}),(0,p.__metadata)("design:paramtypes",[l.Injector,l.ChangeDetectorRef,_.TranslateService,L.e])],ge)},7372:(P,j,o)=>{o.d(j,{H:()=>h,R:()=>_});var p=o(31555),g=o.n(p),l=o(59131),t=o.n(l),f=o(73730),E=o.n(f),y=o(33119),w=o.n(y),m=o(71430),h;(function(x){x.FlagContainer=".iti__flag-container",x.SelectedFlag=".iti__selected-flag",x.ActiveFlag=".iti__active",x.HighlightedFlag=".iti__highlight",x.CountryList=".iti__country-list"})(h||(h={}));class _{constructor(I,k,A,F){this._elementRef=I,this._overlayPositionBuilder=k,this._overlay=A,this._phoneValidationService=F,this._placeholderChar="_",this._isNeedToInit=!0,this.phoneValueChanged=new l.EventEmitter,this.alwaysShowFlags=!1,this._getSelectedCountryIso=()=>this._iti?.getSelectedCountryData().iso2}set displayPhoneMask(I){I&&(this._displayPhoneMask=I,this._isContentInited&&this._isNeedToInit&&this._initDirective())}get displayPhoneMask(){return this._displayPhoneMask}countryCodeChanged(){const I=this._getSelectedCountryIso();I&&(this._setPhoneMask(I),setTimeout(()=>this._setCursorPosition(),0)),this._imask&&(this._elementRef.nativeElement.value=this._imask.value,this.valueChanged())}valueChanged(){this.phoneValueChanged.emit(this._elementRef.nativeElement.value)}onBlur(I){if(I.relatedTarget instanceof HTMLElement&&(I.relatedTarget.classList.contains(h.SelectedFlag.slice(1))||I?.relatedTarget?.closest(h.CountryList)))return;this._closeDropdown(I);const k=this._elementRef.nativeElement.value;!this.alwaysShowFlags&&this.displayPhoneMask&&this.containsOnlyDialCode(k)?this.phoneValueChanged.emit(""):this.phoneValueChanged.emit(k)}_getMaskByRegionCode(I){const k=this._phoneValidationService.getAllPhoneMasks(I);return this._getFormattedMask(k)}_getFormattedMask(I){const k=I.reduce((T,L)=>this._getNationalNumberDigitCount(T)>=this._getNationalNumberDigitCount(L)?T:L),A=I.reduce((T,L)=>this._getNationalNumberDigitCount(T)<=this._getNationalNumberDigitCount(L)?T:L),F=this._getNationalNumberDigitCount(A);let z=0,N=k;for(let T=k.indexOf("}")+1;T<k.length;T++)if(k[T]==="0"&&(z++,z>F)){N=N.slice(0,T)+"["+N.slice(T),N+="]";break}return N}_getNationalNumberDigitCount(I){return I.replace(/\{.*}/,"").split("0").length-1}_setPhoneMask(I){const A={mask:this._getMaskByRegionCode(I),lazy:!1,placeholderChar:this._placeholderChar};this._imask?(this._elementRef.nativeElement.value=this._getPhoneWithoutCode(this._elementRef.nativeElement.value),this._imask.updateValue(),this._imask.updateOptions(A)):this._imask=E()(this._elementRef.nativeElement,A)}_setCursorPosition(){const I=this._imask.masked.value.indexOf(this._placeholderChar);this._elementRef.nativeElement.setSelectionRange(I,I)}_getPhoneWithoutCode(I){return I.substring(I.indexOf(" ")+1).replace(/\s/g,"")}_getCountryCode(I){if(I==="USA")return"us";const k=new RegExp("^"+I);let A=this._iti.countries.find(F=>F.name===I||F.name.match(k));return A||(A=this._iti.countries.find(F=>F.name.indexOf(I)!==-1)),A&&A.iso2}_getItiConfig(I){const A={nationalMode:!1,dropdownContainer:this._overlayRef.overlayElement,autoHideDialCode:!1,excludeCountries:["ru","by"],preferredCountries:[],initialCountry:I?"us":null};return this.countrySelectionConfig?Object.assign(A,this.countrySelectionConfig):A}_initDirective(){this._phoneValidationService.initialize().then(()=>{const I=this._elementRef.nativeElement.value?.indexOf("+")!==0;this.initIntlTelInput(I);const k=this._getSelectedCountryIso();this._elementRef.nativeElement.value&&!k||(this._setPhoneMask(k),this.alwaysShowFlags||(this._elementRef.nativeElement.focus(),this._setCursorPosition()),this._isNeedToInit=!1)})}_destroyPhoneMask(I=!1){(this._elementRef.nativeElement.value===""||I===!0)&&(this._imask?.value&&(this._lastMaskValue=this._imask?.value),this._imask?.destroy(),this._imask=null,this._isNeedToInit=!0)}_isValidNumber(I){return this._phoneValidationService.isValidPhoneNumber(I)}_closeDropdown(I){I.target?.classList.contains(h.CountryList.slice(1))||this._iti?._closeDropdown()}static _isRtlMode(){return getComputedStyle(window.document.body).direction==="rtl"}_fixCountryFlagsPositionInRTL(){_._isRtlMode()&&setTimeout(()=>{const I=this._elementRef.nativeElement.getBoundingClientRect(),k=document.querySelector(".iti--container");k.style.right=window.innerWidth-I.left-I.width+"px",k.style.left="0px"})}actualizeMask(I){I.valid&&!this.containsOnlyDialCode(I.value)&&I.setValue(I.value.replace(/_/g,"").trim())}isValid(){const I=this.containsOnlyDialCode(this._elementRef.nativeElement.value);if(this.alwaysShowFlags&&I)return!1;const k=this._imask?.value||this._lastMaskValue;return k?I||this._isValidNumber(k):!0}ngAfterContentInit(){this._isContentInited=!0,(this.displayPhoneMask||this.alwaysShowFlags)&&this._isNeedToInit&&this._initDirective()}initIntlTelInput(I){if(this._iti)return;const k=this._elementRef.nativeElement;if(k){this._iti=w()(k,this._getItiConfig(I));const A=F=>{this._closeDropdown(F)};this._iti.telInput?.addEventListener("open:countrydropdown",F=>{setTimeout(()=>window.addEventListener("scroll",A,!0),0),this._fixCountryFlagsPositionInRTL()}),this._iti.telInput?.addEventListener("close:countrydropdown",F=>{setTimeout(()=>window.removeEventListener("scroll",A,!0),0)}),k.addEventListener("changecountry",this.changePhoneCountry.bind(this)),k.addEventListener("blur",this._destroyPhoneMask.bind(this,!1))}}changePhoneCountry(I){const k=I?.detail.countryCode;if(!k)return;const A=this._getCountryCode(k);A&&(this._iti.setCountry(A),this.countryCodeChanged())}onPhoneFocus(){if(this.displayPhoneMask){const I=this._iti.getSelectedCountryData(),k=I?.dialCode;!this._elementRef.nativeElement.value&&k!==void 0&&(this._setPhoneMask(I.iso2),this._imask.updateControl())}}containsOnlyDialCode(I){const k=I.replace(/\D/g,"");return this._iti?.getSelectedCountryData().dialCode===k}ngOnInit(){const I=this._overlayPositionBuilder.flexibleConnectedTo(this._elementRef).withPositions([{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top"}]);this._overlayRef=this._overlay.create({scrollStrategy:this._overlay.scrollStrategies.noop(),positionStrategy:I}),this._overlayRef.overlayElement.classList.add("cdk-overlay-connected-position-bounding-box")}ngOnDestroy(){this._overlayRef.dispose();const I=this._elementRef.nativeElement;I&&(this._iti?.destroy(),this._destroyPhoneMask(!0),I.removeEventListener("changecountry",this.changePhoneCountry.bind(this)),I.removeEventListener("blur",this._destroyPhoneMask.bind(this)),I.remove())}updateMaskFromValue(I){if(!this._iti)return;this._iti.setNumber(I);const k=this._iti.getSelectedCountryData();this._setPhoneMask(k.iso2),this._imask.updateControl()}static{this.\u0275fac=function(k){return new(k||_)(l.\u0275\u0275directiveInject(l.ElementRef),l.\u0275\u0275directiveInject(p.OverlayPositionBuilder),l.\u0275\u0275directiveInject(p.Overlay),l.\u0275\u0275directiveInject(m.z))}}static{this.\u0275dir=l.\u0275\u0275defineDirective({type:_,selectors:[["","crtPhoneInput",""]],hostBindings:function(k,A){k&1&&l.\u0275\u0275listener("countrychange",function(){return A.countryCodeChanged()})("keyup",function(){return A.valueChanged()})("blur",function(z){return A.onBlur(z)})},inputs:{countrySelectionConfig:"countrySelectionConfig",alwaysShowFlags:"alwaysShowFlags",displayPhoneMask:"displayPhoneMask"},outputs:{phoneValueChanged:"phoneValueChanged"}})}}},75034:(P,j,o)=>{o.d(j,{u:()=>st});var p=o(5960),g=o(40297),l=o(56711),t=o(52989),f=o(4091),E=o(70987),y=o(39371),w=o(55642),m=o(79772),h=o(5476),_=o(34439),x=o(89199),I=o(50663),k=o(48067),A=o(22524),F=o(93291),z=o(57274),N=o(12841),T=o(55801),L=o(75214),U=o(7372),B=o(73308),tt=o(59131),Z=o(86464),G=o(73686);class Y{constructor(){this._metadataSchemaUtils=(0,tt.inject)(G.u)}_modifyInputType(ct,nt,Q){const q=ct.control.replace("$",""),lt=nt.attributes[q]?.modelConfig?.path;if(lt){const c=this._getDataSchemaAttributeByPath(lt,Q);c?.dataValueType===Z.r.PHONE_TEXT&&(ct.type="crt.PhoneInput",ct.phoneAsLink=!0,ct.displayAsPhone=c.isMasked)}else ct.type==="crt.PhoneInput"&&(ct.phoneAsLink??=!0,ct.displayAsPhone??=!0)}_getDataSchemaAttributeByPath(ct,nt){const[Q,q]=ct.split("."),lt=nt.dataSchemas[Q]?.attributes;let c;for(const Tt in lt)if(lt[Tt].path===q||lt[Tt].name===q){c=lt[Tt];break}return c}crtOnViewModelInit(ct,nt,Q){var q=this;return(0,B.A)(function*(){const lt=ct,c=q._metadataSchemaUtils.getViewConfigInfoByProperty("type","crt.Input",lt.viewConfig),Tt=q._metadataSchemaUtils.getViewConfigInfoByProperty("type","crt.PhoneInput",lt.viewConfig);return c.forEach(Nt=>{q._modifyInputType(Nt.viewConfig,lt.viewModelConfig,Q)}),Tt.forEach(Nt=>{q._modifyInputType(Nt.viewConfig,lt.viewModelConfig,Q)}),ct})()}static{this.\u0275fac=function(nt){return new(nt||Y)}}static{this.\u0275prov=tt.\u0275\u0275defineInjectable({token:Y,factory:Y.\u0275fac})}}var O=o(30947);let st=class Hv{constructor(ct){this._materialIconsRegistrator=ct,this._materialIconsRegistrator.addIcons([{name:"call-icon",icon:o(31354)}])}static{this.\u0275fac=function(nt){return new(nt||Hv)(tt.\u0275\u0275inject(I.K))}}static{this.\u0275mod=tt.\u0275\u0275defineNgModule({type:Hv})}static{this.\u0275inj=tt.\u0275\u0275defineInjector({providers:[A.Dj,O.e,{provide:N.m,useClass:Y,multi:!0}],imports:[g.CommonModule,l.FormsModule,E.MatLegacyInputModule,t.MatIconModule,f.MatLegacyFormFieldModule,l.ReactiveFormsModule,y.MatTooltipModule,h.q,F.V,_.S,x.N,z.u,m.TranslateModule,T.d]})}};st=(0,p.__decorate)([(0,w.g)({viewElements:[L.F]}),(0,p.__metadata)("design:paramtypes",[I.K])],st),function(){(typeof ngJitMode>"u"||ngJitMode)&&tt.\u0275\u0275setNgModuleScope(st,{declarations:[U.R,L.F],imports:[g.CommonModule,l.FormsModule,E.MatLegacyInputModule,t.MatIconModule,f.MatLegacyFormFieldModule,l.ReactiveFormsModule,k.C,y.MatTooltipModule,h.q,F.V,_.S,x.N,z.u,m.TranslateModule,T.d],exports:[U.R,L.F]})}()},30947:(P,j,o)=>{o.d(j,{e:()=>y});var p=o(73308),g=o(70941),l=o(22524),t=o(59131),f=o.n(t),E=o(23092);class y{constructor(m,h){this._customEventService=m,this._userInfo=h}_processIsTelephonyEnabledResponse(m){m!==void 0&&y.isTelephonyEnabled!==m&&(y.isTelephonyEnabled=m)}_isTelephonyEnabled(){return(0,p.A)(function*(){const m={type:"crt.7XRequest",action:"IsTelephonyEnabled",$context:{},$initialEvent:{}};return yield g.t.instance.process(m)})()}callNumber(m,h){return(0,p.A)(function*(){const _={type:"crt.7XRequest",action:"HandlePhoneLinkClick",$context:{},$initialEvent:{event:h,phoneNumber:m},payload:m};yield g.t.instance.process(_)})()}initIsTelephonyEnabled(){if(y.isTelephonyEnabledFlagInitialized=!0,this._userInfo?.isSSP){y.isTelephonyEnabled=!1;return}this._isTelephonyEnabled().then(m=>{this._processIsTelephonyEnabledResponse(m)}),this._customEventService.getDataViaEvent("CTIPanelInitialized").subscribe(m=>{this._processIsTelephonyEnabledResponse(m)})}static{this.\u0275fac=function(h){return new(h||y)(t.\u0275\u0275inject(l.Dj),t.\u0275\u0275inject(E.oq,8))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac})}}},81398:(P,j,o)=>{o.d(j,{P:()=>t});var p=o(59131),g=o.n(p),l=o(91592);class t extends l.X{constructor(){super(...arguments),this.valueChange=new p.EventEmitter}setRecordValue(E){this.record[this.columnDataSchema.name]=E}setValue(E){this.setRecordValue(E),this.valueChange.emit(E)}static{this.\u0275fac=(()=>{let E;return function(w){return(E||(E=p.\u0275\u0275getInheritedFactory(t)))(w||t)}})()}static{this.\u0275dir=p.\u0275\u0275defineDirective({type:t,outputs:{valueChange:"valueChange"},features:[p.\u0275\u0275InheritDefinitionFeature]})}}},91592:(P,j,o)=>{o.d(j,{X:()=>l});var p=o(59131),g=o.n(p);class l{constructor(){this.getRegisteredEvents=()=>[]}set eventHandlers(f){this._eventHandlers=f,this._validateEventHandlers()}get eventHandlers(){return this._eventHandlers}_stringify(f){const E=[()=>JSON.stringify(f),()=>f.toString()];for(let y=0;y<E.length;y++){const w=E[y];try{return w()}catch{}}return""}_checkEventCanBeHandled(f){const E=this.getRegisteredEvents();if(!E||E.some(m=>m.name===f))return;const y=E.map(m=>m.name).join(", ");let w=`Handler for event "${f}" can not be specified because the event was not registered in table cell class. Registered table column events to subscribe: ${y}.`;throw this.columnDataSchema&&(w+=` Column name: "${this.columnDataSchema.name}".`),new Error(w)}_checkHandlerIsFunction(f,E){if(typeof E!="function")throw new TypeError(`Handler for event with name "${f}" must be a function, but actual is"${this._stringify(E)}".`)}_validateEventHandlers(){if(!this.eventHandlers)return;Object.keys(this.eventHandlers).forEach(E=>{this._checkEventCanBeHandled(E),this._checkHandlerIsFunction(E,this.eventHandlers[E])})}_checkEventDataType(f,E){return f instanceof E||f.constructor===E}_validateFiringEvent(f,E){const y=this._registeredEvents.find(m=>m.name===f);if(!y)throw new Error(`Event with name "${f}" is not registered in the cell class and can not be fired.`);const w=y.dataType;if(E&&(!w||!this._checkEventDataType(E,w)))throw new TypeError(`Type of the data in the event "${f}" must be "${w}", but actual data is "${this._stringify(E)}".`)}_getValidEventHandler(f){const E=this.eventHandlers&&this.eventHandlers[f];if(E)return this._checkHandlerIsFunction(f,E),E}isEmpty(){return!(this.columnDataSchema&&this.record)}fireEvent(f,E){this._validateFiringEvent(f,E);const y=this._getValidEventHandler(f);return y&&y(this.record,E)}ngOnInit(){this._registeredEvents=this.getRegisteredEvents()}getValue(){const f=this.record[this.columnDataSchema.name],E=this.columnDataSchema.formatter;return E?E(f,this.record):f}static{this.\u0275fac=function(E){return new(E||l)}}static{this.\u0275dir=p.\u0275\u0275defineDirective({type:l,inputs:{columnDataSchema:"columnDataSchema",record:"record",eventHandlers:"eventHandlers"}})}}},75956:(P,j,o)=>{o.d(j,{U:()=>tt});var p=o(86464),g=o(47149),l=o(71260),t=o(91592),f=o(59131),E=o.n(f),y=o(23092),w=o(40297),m=o.n(w),h=o(53135),_=o.n(h),x=o(27397),I=o.n(x);const k=Z=>({$implicit:Z});function A(Z,G){if(Z&1&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275elementStart(1,"a",7),f.\u0275\u0275text(2),f.\u0275\u0275elementEnd(),f.\u0275\u0275elementContainerEnd()),Z&2){const Y=f.\u0275\u0275nextContext().$implicit,O=f.\u0275\u0275nextContext(2).$implicit,st=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(),f.\u0275\u0275property("routerLink",st.getLinkUrl(Y))("target",st.getLinkTarget(Y)),f.\u0275\u0275advance(),f.\u0275\u0275textInterpolate(st.formatTextValue(O))}}function F(Z,G){if(Z&1){const Y=f.\u0275\u0275getCurrentView();f.\u0275\u0275elementStart(0,"a",8),f.\u0275\u0275listener("click",function(st){f.\u0275\u0275restoreView(Y);const gt=f.\u0275\u0275nextContext().$implicit,ct=f.\u0275\u0275nextContext(4);return f.\u0275\u0275resetView(ct.onLinkClick(st,gt))}),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()}if(Z&2){const Y=f.\u0275\u0275nextContext().$implicit,O=f.\u0275\u0275nextContext(2).$implicit,st=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("href",st.getLinkUrl(Y),f.\u0275\u0275sanitizeUrl)("target",st.getLinkTarget(Y)),f.\u0275\u0275advance(),f.\u0275\u0275textInterpolate(st.formatTextValue(O))}}function z(Z,G){if(Z&1&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,A,3,3,"ng-container",6)(2,F,2,3,"ng-template",null,2,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275elementContainerEnd()),Z&2){const Y=G.$implicit,O=f.\u0275\u0275reference(3),st=f.\u0275\u0275nextContext(4);f.\u0275\u0275advance(),f.\u0275\u0275property("ngIf",st.getIsRouterLink(Y))("ngIfElse",O)}}function N(Z,G){if(Z&1&&(f.\u0275\u0275elementStart(0,"span"),f.\u0275\u0275text(1),f.\u0275\u0275elementEnd()),Z&2){const Y=f.\u0275\u0275nextContext(2).$implicit,O=f.\u0275\u0275nextContext(2);f.\u0275\u0275advance(),f.\u0275\u0275textInterpolate(O.formatTextValue(Y))}}function T(Z,G){if(Z&1&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,z,4,2,"ng-container",6)(2,N,2,1,"ng-template",null,1,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275elementContainerEnd()),Z&2){const Y=f.\u0275\u0275reference(3),O=f.\u0275\u0275nextContext(3);f.\u0275\u0275advance(),f.\u0275\u0275property("ngIf",O.getLink(O.record))("ngIfElse",Y)}}function L(Z,G){if(Z&1&&f.\u0275\u0275element(0,"mat-checkbox",9),Z&2){const Y=f.\u0275\u0275nextContext().$implicit;f.\u0275\u0275property("checked",!!Y)}}function U(Z,G){if(Z&1&&f.\u0275\u0275template(0,T,4,2,"ng-container",3)(1,L,1,1,"mat-checkbox",5),Z&2){const Y=f.\u0275\u0275nextContext(2);f.\u0275\u0275property("ngIf",Y.isDisplayedAsText()),f.\u0275\u0275advance(),f.\u0275\u0275property("ngIf",Y.isDisplayedAsBoolean())}}function B(Z,G){if(Z&1&&(f.\u0275\u0275elementContainerStart(0),f.\u0275\u0275template(1,U,2,2,"ng-template",4,0,f.\u0275\u0275templateRefExtractor),f.\u0275\u0275elementContainerEnd()),Z&2){const Y=f.\u0275\u0275reference(2),O=f.\u0275\u0275nextContext();f.\u0275\u0275advance(),f.\u0275\u0275property("ngTemplateOutletContext",f.\u0275\u0275pureFunction1(2,k,O.getValue()))("ngTemplateOutlet",Y)}}class tt extends t.X{constructor(G,Y){super(),this.numberUtils=Y,this._textValueTypes=[p.r.Guid].concat(g.P.DateTime).concat(g.P.Number).concat(g.P.Text).concat(g.P.Lookup),this.getRegisteredEvents=()=>[{name:"click"}],this.userCulture=G.cultureInfo.sysCultureName}getLink(G){return this.columnDataSchema.linkGenerator?this.columnDataSchema.linkGenerator(G):""}getLinkUrl(G){return typeof G=="string"?G:G.url}getLinkTarget(G){const Y="_self";return typeof G=="string"?Y:G.target||Y}getIsRouterLink(G){return G?typeof G=="string"?!0:G.useRouterLink||!1:!1}onLinkClick(G,Y){Y&&typeof Y!="string"&&Y.preventDefaultClick===!0&&(G.preventDefault(),this.fireEvent("click"))}isDisplayedAsText(){return!this.columnDataSchema.valueType||this._textValueTypes.indexOf(this.columnDataSchema.valueType)!==-1}isDisplayedAsBoolean(){return this.columnDataSchema.valueType===p.r.Boolean}formatTextValue(G){if(G==null)return"";switch(this.columnDataSchema.valueType){case p.r.Date:return G.toLocaleDateString(this.userCulture);case p.r.Time:return G.toLocaleTimeString(this.userCulture);case p.r.DateTime:return G.toLocaleString(this.userCulture);case p.r.Integer:return this.numberUtils.formatNumberValue(G,new l.V_({precision:0}));case p.r.Float:case p.r.Money:return this.numberUtils.formatNumberValue(G);case p.r.FLOAT1:return this.numberUtils.formatNumberValue(G,new l.V_({precision:1}));case p.r.FLOAT2:return this.numberUtils.formatNumberValue(G,new l.V_({precision:2}));case p.r.FLOAT3:return this.numberUtils.formatNumberValue(G,new l.V_({precision:3}));case p.r.FLOAT4:return this.numberUtils.formatNumberValue(G,new l.V_({precision:4}));case p.r.FLOAT8:return this.numberUtils.formatNumberValue(G,new l.V_({precision:8}));case p.r.IMAGELOOKUP:case p.r.Lookup:{const O=G;return O?.displayValue||O?.value}case p.r.LOCALIZABLE_STRING:{const O=G;return O&&O.getValue(this.userCulture)}default:return G}}static{this.\u0275fac=function(Y){return new(Y||tt)(f.\u0275\u0275directiveInject(y.oq),f.\u0275\u0275directiveInject(l.B4))}}static{this.\u0275cmp=f.\u0275\u0275defineComponent({type:tt,selectors:[["ts-table-cell"]],features:[f.\u0275\u0275InheritDefinitionFeature],decls:1,vars:1,consts:[["t",""],["textBlock",""],["hyperlinkBlock",""],[4,"ngIf"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],["disabled","true",3,"checked",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"routerLink","target"],[3,"click","href","target"],["disabled","true",3,"checked"]],template:function(Y,O){Y&1&&f.\u0275\u0275template(0,B,3,4,"ng-container",3),Y&2&&f.\u0275\u0275property("ngIf",!O.isEmpty())},dependencies:[w.NgIf,w.NgTemplateOutlet,h.MatLegacyCheckbox,x.RouterLink],encapsulation:2})}}},38892:(P,j,o)=>{o.d(j,{P:()=>l});class p{constructor(f){Object.assign(this,f)}}class g extends p{constructor(f){super(f),this.externalLink=!1}}class l extends p{}},56911:(P,j,o)=>{o.d(j,{K:()=>p});var p;(function(g){g.None="none",g.Intermediate="intermediate",g.All="all"})(p||(p={}))},14276:(P,j,o)=>{o.d(j,{B:()=>Z});var p=o(49391),g=o.n(p),l=o(40297),t=o.n(l),f=o(52989),E=o.n(f),y=o(23023),w=o.n(y),m=o(53135),h=o.n(m),_=o(14715),x=o.n(_),I=o(17499),k=o.n(I),A=o(27397),F=o.n(A),z=o(79772),N=o.n(z),T=o(6900),L=o.n(T),U=o(75956),B=o(59131),tt=o.n(B);class Z{static{this.\u0275fac=function(O){return new(O||Z)}}static{this.\u0275mod=B.\u0275\u0275defineNgModule({type:Z})}static{this.\u0275inj=B.\u0275\u0275defineInjector({imports:[T.AngularTreeGridModule,l.CommonModule,p.DragDropModule,y.MatLegacyButtonModule,f.MatIconModule,m.MatLegacyCheckboxModule,I.MatSortModule,_.MatLegacyTableModule,A.RouterModule,z.TranslateModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&B.\u0275\u0275setNgModuleScope(Z,{declarations:[U.U],imports:[T.AngularTreeGridModule,l.CommonModule,p.DragDropModule,y.MatLegacyButtonModule,f.MatIconModule,m.MatLegacyCheckboxModule,I.MatSortModule,_.MatLegacyTableModule,A.RouterModule,z.TranslateModule],exports:[U.U]})})()},6103:(P,j,o)=>{o.d(j,{Lu:()=>y,MM:()=>f,Xb:()=>m,Yk:()=>h,bZ:()=>t,qC:()=>E});var p=o(46089);const g="Change",l="ValidationInfo";function t(I,k){return!!p.D.viewElements.get(I)?.inputs?.[k]}function f(I,k){return!!p.D.viewElements.get(I)?.outputs?.[k]}function E(I,k){return!!p.D.viewElements.get(I)?.validationInputs?.[k]}function y(I){return I+g}function w(I,k){const A=y(k);return f(I,A)}function m(I){return I+l}function h(I,k){const A=k+l;return!!p.D.viewElements.get(I)?.validationInputs?.[A]}function _(I){let k=null;if(I.endsWith(g))k=I.replace(new RegExp(g+"$"),"");else if(I.endsWith(l))k=I.replace(new RegExp(l+"$"),"");else return null;return k}function x(I,k){const A=_(k);return!!A&&t(I,A)}},77038:(P,j,o)=>{o.d(j,{r:()=>m});var p=o(59131),g=o.n(p),l=o(15810),t=o(52439),f=o(28399),E=o.n(f);const y="bindTo",w="visible";class m{constructor(){this._viewElementTypeResolver=(0,p.inject)(l.i)}_getViewElementInputProperties(_){const x=this._viewElementTypeResolver.getViewElementRegistryItem(_.type);return[...Object.keys(x.inputs??{}).filter(I=>x.inputs[I].propertyBindable),w]}createLayoutConfigComponentParts(_,x,I){for(const[k,A]of Object.entries(x))I.attributes["layout-config-"+(0,f.kebabCase)(k)]={value:A}}createVisibleComponentPartsWrapper(_,x,I,k){const A=(0,t.qG)(x);let F=x;const z=[];A&&(F=x,z.push({name:"crtBinding",arguments:[{value:_,propertyKey:this.getContextPropertyName(_+"|propertyName",I)},{value:k,propertyKey:this.getContextPropertyName(_+"|viewElementConfig",I)}]}));const N=I.directives.find(T=>T.selector==="crtIf");if(N)N.values.unshift({propertyKey:this.getContextPropertyName(_,I),value:F,pipes:z});else{const T={values:[{propertyKey:this.getContextPropertyName(_,I),value:F,pipes:z}],selector:"crtIf",useAsterisk:!0};this.addCrtIfDirectiveAdditionalInputs(T,k),I.directives.push(T)}return I}getContextPropertyName(_,x){return x.name+":"+_}getViewElementEntries(_){const x=this._viewElementTypeResolver.getFormControlRelatesAttribute(_.type),I=Object.entries(_),k=I.find(([F])=>F===y);let A=I.filter(([F])=>F!==y);if(k){const F=this._getViewElementInputProperties(_),[,z]=k;F.forEach(N=>{if(N!==x){const T=_[N];if(T==null||typeof T!="string"||typeof T=="string"&&!T.includes("|")){let L=z;L=`${L}:${N}`,T!=null&&(L+=`=${JSON.stringify(T)}`),A=A.filter(([U])=>U!==N),A.push([N,L])}}})}return A}addCrtIfDirectiveAdditionalInputs(_,{visibilityStrategyMode:x}){if(!x)return;const I=_.additionalInputs||[];I.push({propertyKey:"visibilityStrategyMode",value:x}),_.additionalInputs=[...I]}static{this.\u0275fac=function(x){return new(x||m)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac})}}},68712:(P,j,o)=>{o.d(j,{K:()=>h});var p=o(5960),g=o(13053),l=o(59131),t=o(77592);class f{constructor(x){this.injector=x}}var E=o(28399),y=o(62278),w=o(36486),m=o(36169);class h extends f{set shape(x){this._shape=x;const I=this._classes.indexOf("crt-component-rounded");this.shape==="rounded"?I===-1&&this._classes.push("crt-component-rounded"):I>=0&&this._classes.splice(I,1)}get shape(){return this._shape}get classes(){return this.getClasses()}set classes(x){this.setClasses(x)}get loading(){return this._loading$.value}set loading(x){this._loading$.next(!!x),typeof x=="boolean"&&(x?this.handleStartLoadViewModelAttributes():this.handleFinishLoadViewModelAttributes())}constructor(x){super(x),this.injector=x,this._loading$=new y.BehaviorSubject(!1),this._classes=[],this.destroyed$=new y.Subject,this.loaderVisible=!1,this.documentDirection=null,this.documentDirection=x.get(g.Directionality)?.value==="rtl"?"rtl":null,this.changeDetectorRef=this.injector.get(l.ChangeDetectorRef),this.directionality=this.injector.get(g.Directionality),this.elementRef=this.injector.get(l.ElementRef),this._subscribeLoadingChanges()}_subscribeLoadingChanges(){const x=this.injector.get(m.P,0,{optional:!0});this._loading$.pipe((0,w.switchMap)(I=>I?(0,y.of)(I).pipe((0,y.delay)(x)):(0,y.of)(I)),(0,w.tap)(I=>{this.loaderVisible=I,this.changeDetectorRef.markForCheck()}),(0,w.takeUntil)(this.destroyed$)).subscribe()}handleStartLoadViewModelAttributes(){}handleFinishLoadViewModelAttributes(){}setClasses(x){this._classes=x||[]}getClasses(){return this._classes}toggleClass(x,I,k){const A=x.indexOf(k);I&&A===-1&&x.push(k),!I&&A>=0&&x.splice(A,1)}switchClass(x,I,k){k.forEach(([A,F])=>{this.toggleClass(x,A===I,F)})}setValuesFromConfig(x,I=[]){const k=(0,E.omit)(x,["id","name","type",...I]);Object.entries(k).forEach(([A,F])=>{this[A]=F})}detectChanges(){this.changeDetectorRef.detectChanges()}isRtl(){return this.directionality.value==="rtl"}focus(){this.elementRef?.nativeElement.focus()}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}static{this.\u0275fac=function(I){return new(I||h)(l.\u0275\u0275directiveInject(l.Injector))}}static{this.\u0275dir=l.\u0275\u0275defineDirective({type:h,hostVars:2,hostBindings:function(I,k){I&2&&l.\u0275\u0275attribute("element-name",k.name)("dir",k.documentDirection)},inputs:{name:"name",id:"id",tabIndex:"tabIndex",styles:"styles",shape:"shape",classes:"classes",loading:"loading"},features:[l.\u0275\u0275InheritDefinitionFeature]})}}(0,p.__decorate)([(0,t.k)(),(0,p.__metadata)("design:type",String)],h.prototype,"name",void 0),(0,p.__decorate)([(0,t.k)(),(0,p.__metadata)("design:type",String)],h.prototype,"id",void 0),(0,p.__decorate)([(0,t.k)(),(0,p.__metadata)("design:type",Number)],h.prototype,"tabIndex",void 0),(0,p.__decorate)([(0,t.k)(),(0,p.__metadata)("design:type",Object)],h.prototype,"styles",void 0),(0,p.__decorate)([(0,t.k)(),(0,p.__metadata)("design:type",String),(0,p.__metadata)("design:paramtypes",[String])],h.prototype,"shape",null),(0,p.__decorate)([(0,t.k)(),(0,p.__metadata)("design:type",Array),(0,p.__metadata)("design:paramtypes",[Array])],h.prototype,"classes",null),(0,p.__decorate)([(0,t.k)(),(0,p.__metadata)("design:type",Boolean),(0,p.__metadata)("design:paramtypes",[Boolean])],h.prototype,"loading",null)},61526:(P,j,o)=>{o.d(j,{W:()=>y});var p=o(52989),g=o.n(p),l=o(71252),t=o.n(l),f=o(59131),E=o.n(f);class y{constructor(m,h){this.caption="",m.addSvgIconLiteral("placeholder",h.bypassSecurityTrustHtml(o(49967)))}static{this.\u0275fac=function(h){return new(h||y)(f.\u0275\u0275directiveInject(p.MatIconRegistry),f.\u0275\u0275directiveInject(l.DomSanitizer))}}static{this.\u0275cmp=f.\u0275\u0275defineComponent({type:y,selectors:[["crt-view-element-placeholder"]],inputs:{caption:"caption"},decls:4,vars:1,consts:[[1,"placeholder-container"],["svgIcon","placeholder",1,"icon"]],template:function(h,_){h&1&&(f.\u0275\u0275elementStart(0,"div",0),f.\u0275\u0275element(1,"mat-icon",1),f.\u0275\u0275elementStart(2,"span"),f.\u0275\u0275text(3),f.\u0275\u0275elementEnd()()),h&2&&(f.\u0275\u0275advance(3),f.\u0275\u0275textInterpolate(_.caption))},dependencies:[p.MatIcon],styles:[".placeholder-container[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;align-content:center;justify-content:center;border-radius:8px;position:relative;overflow:hidden}.placeholder-container[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{height:100%;max-height:64px;width:72px;align-self:center}.placeholder-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:50%;left:8px;right:8px;transform:translateY(-50%);overflow:hidden;width:calc(100% - 16px);text-overflow:ellipsis}@supports (background: -webkit-named-image(i)){.placeholder-container[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:initial;height:initial}}"]})}}},57161:(P,j,o)=>{o.d(j,{q:()=>E});var p=o(62278),g=o.n(p),l=o(92637),t=o(59131),f=o.n(t);class E extends l.n{getAttributeValueChanges({attributeHost:w,attributeName:m}){const h=this.getAttributeValuesStream(w,m),_=this.getAttributeInitialValueStream(w,m,h);return(0,p.merge)(_,h)}static{this.\u0275fac=(()=>{let w;return function(h){return(w||(w=t.\u0275\u0275getInheritedFactory(E)))(h||E)}})()}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac})}}},84157:(P,j,o)=>{o.d(j,{r:()=>w});var p=o(56711),g=o.n(p),l=o(36486),t=o.n(l),f=o(57161),E=o(59131),y=o.n(E);class w extends f.q{removeConvertersFromExpression(h){const _=h.indexOf("|");return _===-1?h:(console.warn(`Cannot use converters in control binding expression: ${h}`),h.substring(0,_).trimEnd())}evaluate(h,_){h=this.removeConvertersFromExpression(h);const x=h.slice(1);return this.getAttributeLocationChanges(x,_).pipe((0,l.map)(({attributeHost:I,attributeName:k})=>I?I.getAttributeControl(k):new p.FormControl(null)))}static{this.\u0275fac=(()=>{let h;return function(x){return(h||(h=E.\u0275\u0275getInheritedFactory(w)))(x||w)}})()}static{this.\u0275prov=E.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac})}}},69863:(P,j,o)=>{o.d(j,{F:()=>_});var p=o(93396),g=o(62278),l=o.n(g),t=o(36486),f=o.n(t),E=o(92637),y=o(59131),w=o.n(y),m=o(38071);const h="DisableAttributeDeactivationUntilBRulesExecution";class _ extends E.n{constructor(I){super(),this._featureService=I,this._readonlyProperties=["readonly","disabled"]}getAttributeValueChangesInHybridMode(I,k,A,F){const z=I.getControl(k),N=F.slice(1);return this._getValuesStream(I,k,A,()=>{const T=this.getAttributeValuesStream(I,N).pipe((0,t.tap)(B=>z.setPropertyValue(A,B))),L=this.getAttributeValuesStream(I,`${k}:${A}`).pipe((0,t.filter)(()=>{const B=Object.getOwnPropertyDescriptor(I,N),tt=!!B?.get,Z=!!B?.set;return!(tt&&!Z)}),(0,t.tap)(B=>I[N]=B)),U=(0,g.from)((0,p.J)(I,N)).pipe((0,t.tap)(B=>z.setPropertyValue(A,B,!0)),(0,t.takeUntil)(T));return(0,g.merge)(U,T,L)})}_getDefaultValue(I){if(!I)return null;try{return JSON.parse(I)}catch{return I}}_getValuesStream(I,k,A,F){return this._readonlyProperties.includes(A)?(0,g.forkJoin)({disableAttributeDeactivation:this._featureService.getFeatureState(h),hasBRulesAffectingAttribute:I._getIsAffectedByBusinessRules({name:k})}).pipe((0,t.switchMap)(({disableAttributeDeactivation:z,hasBRulesAffectingAttribute:N})=>z||N!==!0?F():I._businessRulesActivated$.pipe((0,t.switchMap)(T=>T?F():(0,g.of)(!0))))):F()}getAttributeValueChanges(I){const{attributeHost:k}=I;if(!k)return(0,g.of)(null);const[A,F]=I.attributeName.split(":"),[z,N]=F.split("="),T=k.getControl(A),L=this._getDefaultValue(N);if(typeof L=="string"&&L?.startsWith("$"))return this.getAttributeValueChangesInHybridMode(k,A,z,L);if(L!=null){const U=T.getPropertyByName(z,!0);U.hasInitialValue||U.setInitialValue(L)}return this._getValuesStream(k,A,z,()=>{const U=this.getAttributeValuesStream(k,`${A}:${z}`),B=(0,g.of)(T.getPropertyValue(z)).pipe((0,t.filter)(tt=>tt!=null),(0,t.takeUntil)(U));return(0,g.merge)(B,U)})}static{this.\u0275fac=function(k){return new(k||_)(y.\u0275\u0275inject(m.wf))}}static{this.\u0275prov=y.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac})}}},92637:(P,j,o)=>{o.d(j,{n:()=>m});var p=o(65576),g=o(93396),l=o(62278),t=o.n(l),f=o(36486),E=o.n(f),y=o(27019),w=o(51536);class m{getAttributeValuesStream(_,x){return _?_.events$.pipe((0,f.filter)(I=>I.type===p.n.ChangeAttributeValue),(0,f.filter)(I=>I?.payload?.attributeName===x),(0,f.switchMap)(I=>x in _?Promise.resolve(_[x]):Promise.resolve(I.payload.value)),(0,f.share)()):(0,l.of)(null)}getAttributeInitialValueStream(_,x,I){return _?(0,l.from)((0,g.J)(_,x)).pipe((0,f.takeUntil)(I)):(0,l.of)(null)}getAttributeLocationChanges(_,x){return(0,y.o)(_,x).pipe((0,f.tap)(I=>{if(!I)throw new Error(`Target binding context for attribute "${_} was not found"`)}),(0,f.switchMap)(({context:I,contextPath:k})=>(0,l.combineLatest)([I.viewModel$,(0,l.of)((0,w.Vk)(k,_))])),(0,f.switchMap)(([I,k])=>I?(0,w.Mg)(I,k):(0,l.of)({attributeName:void 0,attributeHost:void 0})))}evaluate(_,x){const I=_.slice(1);return this.getAttributeLocationChanges(I,x).pipe((0,f.switchMap)(k=>this.getAttributeValueChanges(k)))}}},14446:(P,j,o)=>{o.d(j,{a:()=>_});var p=o(73308),g=o(52439),l=o(36486),t=o.n(l),f=o(59131),E=o.n(f),y=o(57161),w=o(69863),m=o(96165),h=o(34213);class _{constructor(I,k,A,F){this._attributeBindingExpressionInterpreter=I,this._attributePropertyBindingExpressionInterpreter=k,this._resourceBindingExpressionInterpreter=A,this._converterExpressionInterpreter=F}_applyConverter(I,k){return(0,p.A)(function*(){return I=k(I),I instanceof Promise&&(I=yield I),I})()}evaluateInputValueExpression(I,k){return(0,g.Qb)(I)?this._resourceBindingExpressionInterpreter.evaluate(I,k):(0,g.BZ)(I)?this._attributePropertyBindingExpressionInterpreter.evaluate(I,k):this._attributeBindingExpressionInterpreter.evaluate(I,k)}evaluate(I,k){const A=/\|(.*)/,[F,z]=I.split(A).map(L=>L.trim()),N=this.evaluateInputValueExpression(F,k),T=this._converterExpressionInterpreter.evaluate(z,k);return N.pipe((0,l.switchMap)(L=>T.pipe((0,l.switchMap)(U=>this._applyConverter(L,U)))))}static{this.\u0275fac=function(k){return new(k||_)(f.\u0275\u0275inject(y.q),f.\u0275\u0275inject(w.F),f.\u0275\u0275inject(m.m),f.\u0275\u0275inject(h.F))}}static{this.\u0275prov=f.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac})}}},34213:(P,j,o)=>{o.d(j,{F:()=>I});var p=o(73308),g=o(29423),l=o(52439),t=o(59131);class f{static{this.\u0275fac=function(F){return new(F||f)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}}var E=o(28399),y=o(62278),w=o(36486),m=o(18872);class h{constructor(){this._converterRegistry=m.c,this._injector=(0,t.inject)(t.Injector)}get(A,F){return this._converterRegistry.get(A).instantiate(F)}register(A,F){throw new Error("NotImplemented")}clear(){this._converterRegistry.clear()}static{this.\u0275fac=function(F){return new(F||h)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})}}var _=o(6264),x=o(35907);class I extends f{constructor(A,F,z,N=!1){super(),this._convertersRegistry=A,this._objectPropBindingExpressionInterpreter=F,this._fixedValueBindingExpressionInterpreter=z,this._isDesignTime=N}_evaluateParam(A,F){if((0,l.rj)(A))return this._fixedValueBindingExpressionInterpreter.evaluate(A);if((0,l.qG)(A))return this._objectPropBindingExpressionInterpreter.evaluate(A,F);throw new Error(`Cannot parse parameter expression: ${A}`)}_evaluateParams(A,F){const z=A.map(N=>this._evaluateParam(N,F).pipe((0,w.first)()));return(0,y.forkJoin)(z).pipe((0,w.defaultIfEmpty)([]))}_getConverters(A,F){return A.split("|").map(N=>N.trim()).map(N=>{const[T,...L]=N.split(":").map(tt=>tt.trim()),U=this._evaluateParams(L,F),B=F.viewModel$.pipe((0,w.first)());return(0,y.forkJoin)([B,U]).pipe((0,w.map)(([tt,Z])=>G=>{if(!tt)return null;const Y=tt._injectionContext;return this._convertersRegistry.get(T,Y).convert(G,tt,...Z)}))})}_applyConverters(A,F){for(const[z,N]of Object.entries(F))if(A=N(A),A instanceof Promise){const T=parseInt(z,10)+1;return this._applyAsyncConverters(A,[...F].slice(T))}return A}_applyAsyncConverters(A,F){return(0,p.A)(function*(){let z=yield A;for(const N of F)z=N(z),z instanceof Promise&&(z=yield z);return z})()}evaluate(A,F){if(this._isDesignTime||(0,E.isEmpty)(A))return(0,y.of)(N=>N);const z=this._getConverters(A,F);return(0,y.forkJoin)(z).pipe((0,w.map)(N=>T=>this._applyConverters(T,N)))}static{this.\u0275fac=function(F){return new(F||I)(t.\u0275\u0275inject(h),t.\u0275\u0275inject(_.M),t.\u0275\u0275inject(x.f),t.\u0275\u0275inject(g.w,8))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac})}}},35907:(P,j,o)=>{o.d(j,{f:()=>E});var p=o(52439),g=o(62278),l=o.n(g),t=o(59131),f=o.n(t);class E{_getStringValue(w){return w.match(/^'(.*)'$/)[1]}_getBooleanValue(w){if(w==="true")return!0;if(w==="false")return!1;throw new Error(`${w} is not Boolean value`)}evaluate(w){if((0,p.Rn)(w))return(0,g.of)(this._getStringValue(w));if((0,p.Rf)(w))return(0,g.of)(parseFloat(w));if((0,p.Wb)(w))return(0,g.of)(this._getBooleanValue(w));throw new Error(`Failed to parse primitive value binding expression: ${w}`)}static{this.\u0275fac=function(m){return new(m||E)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac})}}},6264:(P,j,o)=>{o.d(j,{M:()=>I});var p=o(73308),g=o(67634),l=o(73723),t=o(62278),f=o.n(t),E=o(36486),y=o.n(E),w=o(57161),m=o(27019),h=o(51536),_=o(59131),x=o.n(_);class I extends w.q{_getViewModelCollectionValue(A,F){if(!F.length)return Promise.resolve(A);const z=Array.from(A).map(N=>this._getObjectProp(N,F));return Promise.all(z)}_getObjectProp(A,F){var z=this;return(0,p.A)(function*(){const N=F.shift();return N?(A=yield A[N],A instanceof g.o?z._getObjectProp(A,F):A instanceof l.A?z._getViewModelCollectionValue(A,F):z._getObjectProp(A,F)):A})()}evaluate(A,F){const z=A.slice(1);return(0,m.o)(z,F).pipe((0,E.map)(N=>N??{context:(0,m.n)(F),contextPath:""}),(0,E.switchMap)(N=>(0,t.combineLatest)([N.context.viewModel$,(0,t.of)((0,h.Vk)(N.contextPath,z))])),(0,E.switchMap)(([N,T])=>N?this._getObjectProp(N,T.split(".")):(0,t.of)(null)),(0,E.take)(1))}static{this.\u0275fac=(()=>{let A;return function(z){return(A||(A=_.\u0275\u0275getInheritedFactory(I)))(z||I)}})()}static{this.\u0275prov=_.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac})}}},51746:(P,j,o)=>{o.d(j,{v:()=>F});var p=o(22524),g=o(59131);const l=new g.InjectionToken("A factory of expression interpreter");var t=o(57161),f=o(84157),E=o(69863),y=o(14446),w=o(34213),m=o(35907),h=o(6264),_=o(10086),x=o(25866),I=o(60115),k=o(96165),A=o(41500);const F=[t.q,E.F,f.r,y.a,w.F,h.M,m.f,_.N,x.A,I.F,k.m,A.a,p.gX.create({token:l,mappings:[{predicate:"converter",injectable:w.F}]})]},10086:(P,j,o)=>{o.d(j,{N:()=>m});var p=o(62278),g=o.n(p),l=o(36486),t=o.n(l),f=o(27019),E=o(59131),y=o.n(E),w=o(60115);class m{constructor(_){this._requestParamsBindingConfigInterpreter=_}_evaluateParams(_,x){return _?this._requestParamsBindingConfigInterpreter.evaluate(_,x):(0,p.of)({})}_getRequestBindingContext(_,x){return _.useRelativeContext?x:(0,f.n)(x)}evaluate(_,x){return this._evaluateParams(_.params,x).pipe((0,l.withLatestFrom)(this._getRequestBindingContext(_,x).viewModel$),(0,l.map)(([I,k])=>({type:_.request,$context:k,...I})),(0,l.first)())}static{this.\u0275fac=function(x){return new(x||m)(E.\u0275\u0275inject(w.F))}}static{this.\u0275prov=E.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac})}}},25866:(P,j,o)=>{o.d(j,{A:()=>_});var p=o(52439),g=o(28399),l=o.n(g),t=o(62278),f=o.n(t),E=o(14446),y=o(59131),w=o.n(y),m=o(6264),h=o(34213);class _ extends E.a{constructor(I,k){super(null,null,null,k),this._objectPropBindingExpressionInterpreter=I}_evaluateEventBindingExpression(I,k){const A=k.initialEvent,F=I.replace(/@event\.?/,"");return(0,t.of)(F?(0,g.get)(A,F):A)}evaluateInputValueExpression(I,k){return(0,p.M4)(I)?this._evaluateEventBindingExpression(I,k):this._objectPropBindingExpressionInterpreter.evaluate(I,k)}static{this.\u0275fac=function(k){return new(k||_)(y.\u0275\u0275inject(m.M),y.\u0275\u0275inject(h.F))}}static{this.\u0275prov=y.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac})}}},60115:(P,j,o)=>{o.d(j,{F:()=>w});var p=o(73308),g=o(52439),l=o(62278),t=o.n(l),f=o(59131),E=o.n(f),y=o(25866);class w{constructor(h){this._requestParamBindingExpressionInterceptor=h}_evaluate(h,_){var x=this;return(0,p.A)(function*(){const I={};for(const[k,A]of Object.entries(h))I[k]=yield x._evaluateConfigValue(A,_);return I})()}_evaluateConfigValue(h,_){return Array.isArray(h)?Promise.all(h.map(x=>this._evaluateConfigValue(x,_))):(0,g.qG)(h)||(0,g.M4)(h)?(0,l.lastValueFrom)(this._requestParamBindingExpressionInterceptor.evaluate(h,_),{defaultValue:null}):h&&typeof h=="object"?this._evaluate(h,_):Promise.resolve(h)}evaluate(h,_){return(0,l.from)(this._evaluate(h,_))}static{this.\u0275fac=function(_){return new(_||w)(f.\u0275\u0275inject(y.A))}}static{this.\u0275prov=f.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac})}}},96165:(P,j,o)=>{o.d(j,{m:()=>m});var p=o(93396),g=o(62278),l=o.n(g),t=o(36486),f=o.n(t),E=o(27019),y=o(59131),w=o.n(y);class m{evaluate(_,x){const I=_.slice(1);return(0,E.n)(x).viewModel$.pipe((0,t.switchMap)(k=>k?(0,p.J)(k,I):(0,g.of)(null)))}static{this.\u0275fac=function(x){return new(x||m)}}static{this.\u0275prov=y.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac})}}},41500:(P,j,o)=>{o.d(j,{a:()=>h});var p=o(28399),g=o.n(p),l=o(62278),t=o.n(l),f=o(36486),E=o.n(f),y=o(57161),w=o(59131),m=o.n(w);class h extends y.q{_getValidationStateChanges(x,I){const k=I.attributeHost.getAttributeControl(I.attributeName);return(0,l.merge)(x,k.statusChanges).pipe((0,f.map)(()=>({value:k.value,validationInfo:(0,p.pick)(k,"valid","errors","dirty","touched")})),(0,f.distinctUntilChanged)(p.isEqual))}evaluate(x,I){const k=x.slice(1);return this.getAttributeLocationChanges(k,I).pipe((0,f.switchMap)(A=>A.attributeHost?this._getValidationStateChanges(super.evaluate(x,I),A):(0,l.of)({value:null,validationInfo:{valid:!0,errors:null,dirty:!1,touched:!1}})))}static{this.\u0275fac=(()=>{let x;return function(k){return(x||(x=w.\u0275\u0275getInheritedFactory(h)))(k||h)}})()}static{this.\u0275prov=w.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac})}}},51536:(P,j,o)=>{o.d(j,{Mg:()=>E,Vk:()=>t,f6:()=>f});var p=o(73308),g=o(52439),l=o(93396);function t(w,m){if(!w)return m;if(!m.startsWith(w))throw new Error(`Attribute path '${m}' should start with '${w}'`);return m.substring(w.length+1)}function f(w){if(!(0,g.qG)(w))throw new Error(`'${w}' is not binding expression`);const m=w.indexOf("|");return m>-1&&(w=w.substring(0,m).trimEnd()),w.substring(1)}function E(w,m){return y.apply(this,arguments)}function y(){return y=(0,p.A)(function*(w,m){const h=m.match(/^(?:(?<attributeHostPath>.+)\.)?(?<attributeName>[^.]+)$/),{attributeHostPath:_,attributeName:x}=h.groups,I=_?yield(0,l.J)(w,_):w;return{attributeName:x,attributeHost:I}}),y.apply(this,arguments)}},27019:(P,j,o)=>{o.d(j,{n:()=>m,o:()=>h});var p=o(26594),g=o(56005),l=o(73723),t=o(62278),f=o.n(t),E=o(36486),y=o.n(E);function w(k,A){return!k?.length||!A?.length?null:k[A.length-1]??null}function m(k){for(;k.parent;)k=k.parent;return k}function h(k,A){const F=k.split(".").slice(0,-1),z=_(A),N=z.map(T=>T.viewModel$.pipe((0,E.take)(1)));return(0,t.forkJoin)(N).pipe((0,E.map)(T=>({viewModels:T,rootViewModel:w(T,z)})),(0,E.filter)(({rootViewModel:T})=>!T?._destroyed),(0,E.map)(({viewModels:T,rootViewModel:L})=>{const U=[],tt=!L?.[g.w].get(p.G,null)?.["ViewModel.DisableFixedNestedCollectionPathCheck"],Z=tt?x:I;let G=z.length-1,Y=[];for(const O of F){U.push(O);const st=tt?L:T[G];if(st&&Z(st,U)&&(Y=[...U],G--,G<0))return null}return{context:z[G],contextPath:Y.join(".")}}))}function _(k){const A=[k];return k.parent&&A.push(..._(k.parent)),A}function x(k,A){let F=k._attributeConfigs,z=null;for(const N of A){if(z=F?.[N],!z)return!1;F=z.viewModelConfig?.attributes}return z.isCollection}function I(k,A){let F=k;for(const z of A)F=F?.attributes?F.attributes[z]:F?.[z];return F instanceof l.A}},30491:(P,j,o)=>{o.d(j,{H:()=>Ie});var p=o(59131),g=o(65182),l=o(66875),t=o(4579),f=o(26594),E=o(67020),y=o(29423),w=o(34096),m=o(14145),h=o(28399),_=o(62278),x=o(36486),I=o(56711),k=o(32471),A=o(15810),F=o(52439),z=o(65576);function N(ne){const ut=new _.Subscription;for(const xt of ne)ut.add(xt);return ut}class T{constructor(ut=new _.Subscription,xt=Promise.resolve()){this._subscription=ut,this.ready=xt}static all(ut){const xt=N(ut.map(Ut=>Ut._subscription)),Vt=Promise.all(ut.map(Ut=>Ut.ready)).then(()=>{});return new T(xt,Vt)}static subscribe(ut,xt,Vt=!1){ut=ut.pipe((0,x.share)());const Ut=ut.subscribe({next:xt}),Xt=Vt?(0,_.lastValueFrom)(ut.pipe((0,x.first)(),(0,x.map)(()=>{})),{defaultValue:null}):Promise.resolve();return new T(Ut,Xt)}unsubscribe(){this._subscription.unsubscribe()}}var L=o(14446),U=o(84157),B=o(10086),tt=o(41500),Z=o(51536),G=o(27019),Y=o(6103),O=o(26852),st=o(56746),gt=o(19868);const ct="bindTo";class nt{constructor(ut){this.injector=ut,this._loadingAttributeName="loading",this.bindingExpressionInterpreter=ut.get(L.a),this.attrCtrlExpInterpreter=ut.get(U.r),this.requestBindingConfigInterpreter=ut.get(B.N),this.validationBindingInterpreter=ut.get(tt.a),this._bindingContext=ut.get(O.I,null),this._macrosHandlerService=ut.get(k.d),this._isDesignTime=ut.get(y.w,!1);const xt=ut.get(f.G);this._isSafeBinding=!xt.DisableSafePropertiesBinding,this._viewElementTypeResolver=ut.get(A.i)}_useMacros(ut,xt){if(!this._bindingContext)return xt(ut);let Vt;const Ut=new _.Subject,Xt=this._bindingContext.viewModel$.pipe((0,x.switchMap)(he=>this._macrosHandlerService.handleResourceMacros(ut,he)),(0,x.map)((he,ye)=>{Vt?.unsubscribe(),Vt=xt(he),ye===0&&Vt.ready.then(()=>{Ut.next(),Ut.complete()})}),(0,x.finalize)(()=>Vt?.unsubscribe())).subscribe();return new T(Xt,(0,_.lastValueFrom)(Ut,{defaultValue:null}))}_bindLoadingProperty(ut,xt){if(Object.keys(ut).some(ye=>ye===this._loadingAttributeName))return new T;const Ut=(0,h.chain)(ut).entries().filter(([ye,qt])=>this.isInputBinding(ye,qt,xt,ut)&&(0,F.qG)(qt)).value();if(!Ut.length)return new T;const Xt=Ut.map(([ye,qt])=>(0,Z.f6)(qt)),he=(0,G.n)(this._bindingContext).viewModel$.pipe((0,x.switchMap)(ye=>{if(!ye)return(0,_.of)();let qt=[];const Oe=ye.events$.pipe((0,x.filter)(fn=>fn.type===z.n.StartLoadModelAttributes),(0,x.filter)(fn=>{const Tn=Object.keys(fn.payload);return Xt.some(De=>Tn.includes(De))}),(0,x.tap)(fn=>{qt=Object.keys(fn.payload)}),(0,x.tap)(()=>xt.setPropertyValue("loading",!0))),ta=ye.events$.pipe((0,x.filter)(fn=>fn.type===z.n.FinishLoadModelAttributes),(0,x.filter)(fn=>{const Tn=Object.keys(fn.payload);return qt.every(De=>Tn.includes(De))}),(0,x.tap)(()=>xt.setPropertyValue("loading",!1)),(0,x.tap)(()=>qt=[]));return(0,_.merge)(Oe,ta)})).subscribe();return new T(he)}_isControlProperty(ut,xt){const Vt=this._viewElementTypeResolver.getFormControlRelatesAttribute(xt.type);return ut===Vt}_getViewElementInputProperties(ut){const xt=this._viewElementTypeResolver.getViewElementRegistryItem(ut.type);return xt?[...Object.keys(xt.inputs??{}).filter(Vt=>xt.inputs[Vt].propertyBindable)]:["visible"]}_getViewElementEntries(ut,xt){const Vt=this._viewElementTypeResolver.getFormControlRelatesAttribute(xt.type),Ut=ut.find(([he])=>he===ct);let Xt=ut.filter(([he])=>he!==ct);if(Ut){const[,he]=Ut;if(!he)return Xt;this._getViewElementInputProperties(xt).forEach(qt=>{if(qt!==Vt){let Oe=he;Oe=`${Oe}:${qt}`;const ta=xt[qt];ta!=null&&(Oe+=`=${ta}`),Xt=Xt.filter(([fn])=>fn!==qt),Xt.push([qt,Oe])}})}return Xt}_bindInputWithValidation(ut,xt,Vt){const Ut=this.validationBindingInterpreter.evaluate(xt,this._bindingContext).pipe((0,x.startWith)(null),(0,_.pairwise)()),Xt=(0,Y.Xb)(ut),he=([ye,qt])=>{ye?.value!==qt?.value&&Vt.setPropertyValue(ut,qt.value),Vt.setPropertyValue(Xt,qt?.validationInfo)};return T.subscribe(Ut,he)}_bindFocusout(ut,xt){const Vt=xt.getEvent("focusout"),Ut=ut.slice(1),Xt=()=>(0,gt.p)(Ut,this._bindingContext);return T.subscribe(Vt,Xt)}_bindInputs(ut,xt){const[Vt,Ut]=(0,h.chain)(ut).entries().filter(([qt,Oe])=>this.isInputBinding(qt,Oe,xt,ut)&&!this.isTwoWayBinding(qt,Oe,xt,ut)).partition(([,qt])=>(0,F.qG)(qt)).value();Ut.forEach(([qt,Oe])=>{Oe=this._isControlProperty(qt,ut)?new I.FormControl(Oe):Oe,xt.setPropertyValue(qt,Oe)});const he=this._getViewElementEntries(Vt,ut).map(([qt,Oe])=>{const Tn=(this._isControlProperty(qt,ut)?this.attrCtrlExpInterpreter:this.bindingExpressionInterpreter).evaluate(Oe,this._bindingContext);if((0,Y.Yk)(ut.type,qt)&&(0,F.EK)(Oe))return this._bindInputWithValidation(qt,Oe,xt);{const De=fi=>xt.setPropertyValue(qt,fi);return T.subscribe(Tn,De,!1)}}),ye=this._bindLoadingProperty(ut,xt);return T.all([...he,ye])}_createRequest(ut,xt){const Vt={...this._bindingContext,initialEvent:xt};return this.requestBindingConfigInterpreter.evaluate(ut,Vt).pipe((0,x.map)(Ut=>({...Ut,$initialEvent:xt})))}_bindOutputSafely(ut,xt,Vt){const Ut=ut.getEvent(xt),Xt=(0,G.n)(this._bindingContext).viewModel$.pipe((0,x.switchMap)(ye=>ye._destroy$)),he=ye=>(0,_.lastValueFrom)(this._createRequest(Vt,ye).pipe((0,x.switchMap)(qt=>qt.$context.executeRequest(qt)),(0,x.takeUntil)(Xt))).catch(()=>null);return T.subscribe(Ut,he)}_bindOutputUnsafely(ut,xt,Vt){const Ut=ut.getEvent(xt).pipe((0,x.switchMap)(he=>this._createRequest(Vt,he))),Xt=he=>he.$context.executeRequest(he);return T.subscribe(Ut,Xt)}_bindOutput(ut,xt,Vt){return this._isSafeBinding?this._bindOutputSafely(ut,xt,Vt):this._bindOutputUnsafely(ut,xt,Vt)}_bindOutputs(ut,xt){const Ut=Object.entries(ut).filter(([Xt,he])=>this.isOutputBinding(Xt,he,xt,ut)).map(([Xt,he])=>this._bindOutput(xt,Xt,he));return T.all(Ut)}_bindTwoWays(ut,xt){const Vt=Object.entries(ut).filter(([Xt,he])=>this.isTwoWayBinding(Xt,he,xt,ut)),Ut=[];return Vt.forEach(([Xt,he])=>{const ye=this.bindingExpressionInterpreter.evaluate(he,this._bindingContext),qt=$n=>xt.setPropertyValue(Xt,$n);(0,Y.Yk)(ut.type,Xt)&&(0,F.EK)(he)?Ut.push(this._bindInputWithValidation(Xt,he,xt)):Ut.push(T.subscribe(ye,qt));const Oe=he.slice(1),ta=(0,Y.Lu)(Xt),fn=this.getViewEventsStream(xt,ta),Tn=$n=>(0,st.o)(Oe,$n,this._bindingContext),De=T.subscribe(fn,Tn);Ut.push(De);const fi=this._bindFocusout(he,xt);Ut.push(fi)}),T.all(Ut)}isInputBinding(ut,xt,Vt,Ut){return(0,Y.bZ)(Ut.type,ut)}isOutputBinding(ut,xt,Vt,Ut){return(0,Y.MM)(Ut.type,ut)}isTwoWayBinding(ut,xt,Vt,Ut){const Xt=(0,Y.Lu)(ut);return(0,F.EK)(xt)&&(0,Y.bZ)(Ut.type,ut)&&(0,Y.MM)(Ut.type,Xt)&&!(Xt in Ut)}bind(ut,xt){const Vt=Ut=>T.all([this._bindInputs(Ut,ut),this._bindOutputs(Ut,ut),this._bindTwoWays(Ut,ut)]);return this._isDesignTime?this._useMacros(xt,Vt):Vt(xt)}}class Q extends nt{isInputBinding(ut,xt,Vt,Ut){return super.isInputBinding(ut,xt,Vt,Ut)||!this.isOutputBinding(ut,xt,Vt,Ut)}isOutputBinding(ut,xt,Vt,Ut){return super.isOutputBinding(ut,xt,Vt,Ut)||Vt.getPropertyValue(ut)instanceof p.EventEmitter}getViewEventsStream(ut,xt){return ut.getEvent(xt)}}var q=o(51746);class lt{constructor(ut,xt,Vt,Ut,Xt,he,ye){this._componentRef=ut,this._inputs=xt,this._ngZone=Ut,this._changeDetectorRef=Xt,this.nativeElement=he,this.hostView=ye,this._propertyValues=new Map,this.instance=Vt;const qt=this._componentRef.injector.get(f.G,null);this._enableInstanceValueSetFeature=qt?.["ComponentViewElementRef.EnableInstanceValueSet"]}setValue(ut,xt){if(this._inputs?.[ut])this._componentRef.setInput(ut,xt);else if(this._enableInstanceValueSetFeature)(0,h.set)(this.instance,ut,xt);else{const Vt=["selected","layoutConfig","dragging","currentLayoutConfig"];if(ut in this.instance&&!Vt.includes(ut)){const Ut=this._componentRef.componentType.name;let Xt=`Can't set value of the '${ut}' input on the '${Ut}' component. `;Xt+=`Make sure that the '${ut}' property is annotated with @Input() or a mapped @Input('${ut}') exists.`,console.error(Xt)}}this._changeDetectorRef.detectChanges()}getPropertyValue(ut){return(0,h.get)(this.instance,ut)}getEvent(ut){const xt=this.getPropertyValue(ut);return!xt&&this.nativeElement?(0,_.fromEvent)(this.nativeElement,ut):xt}on(ut,xt){const Ut=this.getEvent(ut).subscribe(xt);return()=>{Ut.unsubscribe()}}setPropertyValue(ut,xt){(!this._propertyValues.has(ut)||xt!==this._propertyValues.get(ut))&&(this._propertyValues.set(ut,xt),this._ngZone.run(()=>this.setValue(ut,xt)))}destroy(){this.hostView?.destroy(),this._componentRef?.destroy(),this.nativeElement=null}}class c{constructor(ut,xt){this._ngZone=xt,this._propertyValues=new Map,this.instance=ut}setValue(ut,xt){(0,h.set)(this.instance,ut,xt)}getPropertyValue(ut){return(0,h.get)(this.instance,ut)}getEvent(ut){return this.getPropertyValue(ut)}on(ut,xt){const Ut=this.getPropertyValue(ut).subscribe(xt);return()=>{Ut.unsubscribe()}}setPropertyValue(ut,xt){(!this._propertyValues.has(ut)||xt!==this._propertyValues.get(ut))&&(this._propertyValues.set(ut,xt),this._ngZone.run(()=>this.setValue(ut,xt)))}destroy(){this.instance=null}}var Tt=o(29982);class Nt extends nt{getViewEventsStream(ut,xt){return ut.getEvent(xt).pipe((0,_.map)(Vt=>Vt.detail))}}var wt=o(13053);class Et{constructor(ut){this.injector=ut}}var vt=o(35894);class Rt{constructor(ut){this._propertyValues=new Map,this.instance=ut}getPropertyValue(ut){return this.instance[ut]}getEvent(ut){return(0,_.fromEvent)(this.instance,ut)}on(ut,xt){return this.instance.addEventListener(ut,xt),()=>this.instance.removeEventListener(ut,xt)}setPropertyValue(ut,xt){(!this._propertyValues.has(ut)||xt!==this._propertyValues.get(ut))&&(this._propertyValues.set(ut,xt),this.instance[ut]=xt)}destroy(){}}class xe extends Et{createComponent(ut){const xt=this.injector.get(A.i),Vt=this.injector.get(p.Renderer2),Ut=this.injector.get(p.ViewContainerRef),Xt=this.injector.get(vt.s),he=xt.getSelector(Xt.type),ye=document.createElement(he);return ut?.forEach(({name:qt,value:Oe})=>{Vt.setAttribute(ye,qt,Oe)}),Vt.appendChild(Ut.element.nativeElement.parentElement,ye),this._initDirectionality(ye),new Rt(ye)}_initDirectionality(ut){this.injector.get(wt.Directionality)?.value==="rtl"&&ut.setAttribute("dir","rtl")}}class le extends Et{createComponent(ut){const xt=this.injector.get(A.i),Vt=this.injector.get(vt.s),Ut=xt.getViewElementType(Vt);if(!Ut)throw new Error(`Component for type ${Vt.type} not found`);const Xt=this.injector.get(p.ViewContainerRef),he=this.injector.get(p.Renderer2),ye=xt.getCrtInputs(Vt.type),qt=Xt.createComponent(Ut,{index:0,injector:this.injector});ut?.forEach(({name:Tn,value:De})=>{he.setAttribute(qt.location.nativeElement,Tn,De)});const Oe=qt.injector.get(p.ChangeDetectorRef),ta=qt.injector.get(p.ElementRef).nativeElement;qt.changeDetectorRef.detectChanges();const fn=this.injector.get(p.NgZone);return new lt(qt,ye,qt.instance,fn,Oe,ta,qt.hostView)}}class Ve{}const Be=new p.InjectionToken("VIEW_ELEMENT_COMPONENT_CREATOR");class _t extends Ve{constructor(ut){super(),this.injector=ut,this.viewElementConfig=this.injector.get(vt.s),this.featureValues=this.injector.get(f.G,{optional:!0}),this.measurePerformanceService=this.injector.get(E.g),this._componentCreator=this.injector.get(Be)}_getElementName(){return`${this.viewElementConfig.type.split(".")?.[1]} ${this.viewElementConfig.name}`}_getDOMAttributes(){const ut=[];return this.featureValues?.UseViewElementDataItemMarker&&ut.push({name:"data-item-marker",value:this.viewElementConfig.dataItemMarker||this.viewElementConfig.name}),ut}createComponent(ut){return this._componentCreator.createComponent(ut)}getComponentRef(){const ut=this._getElementName(),xt=this._getDOMAttributes();return this.measurePerformanceService.measure(ut,()=>this.createComponent(xt))}show(){const ut=this.getComponentRef();return(0,_.of)(ut)}hide(){}}class X extends _t{constructor(ut,xt,Vt){super(ut),this.injector=ut,this._creator=xt,this._destroyed=Vt,this._renderer=this.injector.get(p.Renderer2),this._container=this.injector.get(p.ViewContainerRef),this._resolver=this.injector.get(A.i),this._initMinHeight(),this._subscribeDestroyed()}get _parentElement(){return this._container.element.nativeElement.parentElement}_handleIntersection(ut,xt){if(this._parentElement){if(ut&&!this._componentRef?.hostView){this._initResizeObservable(),xt.next(this.getComponentRef()),xt.complete();return}this._componentRef?.hostView&&(ut?this._showElement():this._hideElement())}}_initIntersectionObserver(ut){let xt=this.viewElementConfig.selected;this._intersectionObserver=new IntersectionObserver(Vt=>{Vt.forEach(Ut=>{xt?xt=!1:this._handleIntersection(Ut.isIntersecting,ut)})}),this._intersectionObserver.observe(this._parentElement),xt&&this._handleIntersection(!0,ut)}_initResizeObservable(){this._resizeObserver||(this._resizeObserver=new ResizeObserver(ut=>{const{height:xt,width:Vt}=ut[0].contentRect;this._minHeight=`${xt}px`,this._minWidth=`${Vt}px`}),this._resizeObserver.observe(this._parentElement))}_showElement(){this._display?this._renderer.setStyle(this._componentRef.nativeElement,"display",this._display):this._renderer.removeStyle(this._componentRef.nativeElement,"display"),this._removeMinSize()}_hideElement(){this._applyMinSize(),this._display=this._componentRef.nativeElement?.style.display,this._renderer.setStyle(this._componentRef.nativeElement,"display","none")}_removeMinSize(){this._renderer.removeStyle(this._parentElement,"min-height"),this._minWidth&&this._renderer.removeStyle(this._parentElement,"min-width")}_applyMinSize(){this._renderer.setStyle(this._parentElement,"min-height",this._minHeight),this._minWidth&&this._renderer.setStyle(this._parentElement,"min-width",this._minWidth)}_initMinHeight(){const ut=this._resolver.getViewElementRegistryItem(this.viewElementConfig.type);ut?ut.renderStrategy===Tt.D.OnViewport&&(this._minHeight=ut.placeholderSize.height):console.warn(`View element with type "${this.viewElementConfig.type}" not found`)}_subscribeDestroyed(){this._destroyed?.subscribe(()=>{const ut=this._componentRef?.hostView;ut&&!ut.destroyed&&(ut.detach(),ut.destroy()),this._componentRef&&(this._componentRef.instance=null),this._componentRef=null,this._container.detach(),this._container.clear(),this._container=null,this._resizeObserver?.disconnect(),this._intersectionObserver?.disconnect()})}createComponent(ut){return this._componentRef=this._creator.createComponent(ut),this._removeMinSize(),this._componentRef}show(){return this._applyMinSize(),new _.Observable(ut=>{this._initIntersectionObserver(ut)})}hide(){this._resizeObserver?.disconnect(),this._intersectionObserver?.disconnect()}}const de=new p.InjectionToken("COMPONENT_PROPERTIES_BINDER"),qn=new p.InjectionToken("DIRECTIVE_PROPERTIES_BINDER"),an=new p.InjectionToken("VIEW_ELEMENT_RENDER_STRATEGY"),me=new p.InjectionToken("VIEW_ELEMENT_RENDER_STRATEGY_VALUE"),Ot=function(ne){const ut=ne.get(vt.s);return ne.get(A.i).getSelector(ut.type)},Lt=function(ne){return!!Ot(ne)},Fe=function(ne){return ne.get(f.G,{optional:!0})},ve=function(ne){return ne.get(y.w,!1)},ge=function(ne){return Lt(ne)?new Nt(ne):new Q(ne)},jt=function(ne){return Lt(ne)?new xe(ne):new le(ne)},ee=function(ne,ut){const xt=ne.get(me)||Tt.D.Default,Ut={[Tt.D.Default]:oe,[Tt.D.OnViewport]:qe}[xt];if(!Ut)throw new Error(`Unsupported render strategy type: ${xt}`);return Ut(ne,ut)},Gt=function(ne,ut){return ne||ut},oe=function(ne){return new _t(ne)},Zt=function(ne){return Fe(ne).UseLazyComponentCreationInDesignTime},Ht=function(ne){const ut=ne.get(vt.s);return ne.get(A.i).getViewElementRegistryItem(ut.type)?.renderStrategy===Tt.D.Default},qe=function(ne,ut){const xt=Ht(ne),Vt=Zt(ne),Ut=Lt(ne),Xt=!ve(ne);return xt||Ut||Xt||!Vt?oe(ne):new X(ne,new le(ne),ut)};var Gn=o(61526);const Ca=new p.InjectionToken("Ignore view elements not found warning");class Ie{constructor(ut,xt,Vt,Ut,Xt,he){this._resolver=ut,this.parentDirective=xt,this.injector=Vt,this._container=Ut,this._isDesignTime=Xt,this._ngZone=he,this._ownProperties=[{property:"visible",defaultValue:!0,omitForViewModelBinding:!0},{property:"bindTo",defaultValue:null,omitForViewModelBinding:!1}],this._destroyed$=new _.Subject,this._showElementSubscription=new _.Subscription,this._bindingContext=null,this._isCreating=!1,this._visible=!1,this._schemaAnalysisUtils=(0,p.inject)(w.d),this.nested=[],this.total=0,this.viewElementShow=new p.EventEmitter,this._featureValues=(0,p.inject)(f.G,{optional:!0}),this._shouldLoadLazyModules=!this._featureValues.DisableLoadingLazyModulesFromViewElementDirective,this._measurePerformanceService=(0,p.inject)(E.g),this._directiveRef=new c(this,this._ngZone)}get visible(){return this._visible}set visible(ut){this._visible=ut,this._setViewElementVisibility(ut||this._isDesignTime)}_bindSelfToViewModel(){const ut=this._ownProperties.reduce((xt,{property:Vt,defaultValue:Ut})=>({...xt,[Vt]:this.viewElementConfig[Vt]??Ut}),{});this._ngZone.runOutsideAngular(()=>this.bindDirectiveProperties(ut))}_bindComponentToViewModel(){const ut=(0,h.omit)(this.viewElementConfig,...this._ownProperties.filter(({omitForViewModelBinding:xt})=>xt===!0).map(({property:xt})=>xt));this._ngZone.runOutsideAngular(()=>this.bindComponentProperties(ut))}_setViewElementVisibility(ut){ut&&!this.componentRef?this._showViewElement():!ut&&this.componentRef&&this._hideViewElement()}_showViewElement(){const ut=this.viewElementConfig.type;if(this._typeName=ut,!!this._typeName)if(this._resolver.canResolve(ut))this._showComponent();else{if(this.injector.get(Ca,!1))return;const Vt=this._container.createComponent(Gn.W);Vt.instance.caption=ut;const Ut=Vt.injector.get(p.ElementRef).nativeElement,Xt=this._resolver.getCrtInputs(ut);console.warn(`View element with type "${ut}" not found`),this.componentRef=new lt(Vt,Xt,Vt.instance,this._ngZone,Vt.changeDetectorRef,Ut,Vt.hostView)}}_getLazyModuleRefs(ut){return this._measurePerformanceService.measure("ViewElementDirective.SEARCHING_SCHEMA_LAZY_ITEMS",()=>{const xt=this._schemaAnalysisUtils.getUsedItemsInViewConfig(this.viewElementConfig);return this._schemaAnalysisUtils.getLazyModuleRefs(xt,{requestScopes:ut?._scopes})})}_getInjectionContext(ut){const xt=ut;return xt._injectionContext||(0,m.Rz)(xt)._injectionContext}_addLazyModulesToContext(ut,xt){const Vt=this._getInjectionContext(ut);for(const Ut of xt)Vt.addLazyModule(Ut);(0,g.oM)(Vt)}_loadLazyModules(){return this._shouldLoadLazyModules?this._featureValues.DisableFreedomUiLazyLoading?(0,_.from)(l.l.instance.loadAll()):(this._bindingContext?.viewModel$??(0,_.of)(null)).pipe((0,x.switchMap)(xt=>{const Vt=this._getLazyModuleRefs(xt);if(Vt.size===0)return(0,_.of)(void 0);const Ut=(0,_.from)(Promise.all(Array.from(Vt,Xt=>Xt.loadAndBootstrap())));return xt?Ut.pipe((0,x.map)(Xt=>(0,t._)(Xt)),(0,x.tap)(Xt=>this._addLazyModulesToContext(xt,Xt))):Ut}),(0,x.take)(1),this._measurePerformanceService.measure$("ViewElementDirective.LOADING_SCHEMA_LAZY_ITEMS")):(0,_.of)(void 0)}_showComponent(){this._isCreating||(this._isCreating=!0,this._renderStrategyInstance&&this._renderStrategyInstance.hide(),this._renderStrategyInstance=this.injector.get(an),this._showElementSubscription.add(this._loadLazyModules().pipe((0,x.switchMap)(()=>this._renderStrategyInstance.show()),(0,x.filter)(ut=>!!ut)).subscribe(ut=>{this.componentRef=ut,this._measurePerformanceService.measure(`binding ${this.viewElementConfig.name}`,()=>this._bindComponentToViewModel()),this.viewElementShow.emit(this),this._isCreating=!1,this._featureValues?.UseMeasurePerformanceTools&&this._measurePerformanceService.rendering$.next()})))}_hideViewElement(){this._componentBinding?.unsubscribe(),this._showElementSubscription.unsubscribe(),this._renderStrategyInstance.hide(),this._container.clear(),this.componentRef?.destroy(),this.componentRef=null}bindDirectiveProperties(ut){this._directiveBinding?.unsubscribe(),this._directiveBinding=this._directivePropertiesBinder.bind(this._directiveRef,ut)}bindComponentProperties(ut){this._componentBinding?.unsubscribe(),this.componentRef&&(this._componentBinding=this._componentPropertiesBinder.bind(this.componentRef,ut))}updateViewElementConfig(ut){this.viewElementConfig=ut,this._bindSelfToViewModel(),this._bindComponentToViewModel()}ngOnInit(){this._shouldLoadLazyModules&&(this._bindingContext=this.injector.get(O.I,null)),this._directivePropertiesBinder=this.injector.get(qn),this._componentPropertiesBinder=this.injector.get(de),this.parentDirective&&this.parentDirective.attachNested(this),this._bindSelfToViewModel()}attachNested(ut){this.nested.push(ut)}detachNested(ut){this.nested.splice(this.nested.indexOf(ut),1)}ngOnDestroy(){this.parentDirective&&this.parentDirective.detachNested(this),this.nested.forEach(ut=>ut.ngOnDestroy()),this.componentRef?.destroy(),this.componentRef=null,this.viewElementConfig=null,this._componentBinding?.unsubscribe(),this._directiveBinding?.unsubscribe(),this._showElementSubscription.unsubscribe(),this._container.clear(),this._directiveRef.destroy(),this._renderStrategyInstance=null,this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(xt){return new(xt||Ie)(p.\u0275\u0275directiveInject(A.i),p.\u0275\u0275directiveInject(Ie,12),p.\u0275\u0275directiveInject(p.Injector),p.\u0275\u0275directiveInject(p.ViewContainerRef),p.\u0275\u0275directiveInject(y.w,8),p.\u0275\u0275directiveInject(p.NgZone))}}static{this.\u0275dir=p.\u0275\u0275defineDirective({type:Ie,selectors:[["","crtViewElement",""]],inputs:{viewElementConfig:[p.\u0275\u0275InputFlags.None,"crtViewElement","viewElementConfig"],renderStrategy:"renderStrategy",visible:"visible"},outputs:{viewElementShow:"viewElementShow"},features:[p.\u0275\u0275ProvidersFeature([{provide:vt.s,useFactory:ut=>ut.viewElementConfig,deps:[(0,p.forwardRef)(()=>Ie)],multi:!1},{provide:de,useFactory:ge,deps:[p.Injector],multi:!1},{provide:qn,useFactory:ut=>new Q(ut),deps:[p.Injector],multi:!1},{provide:Be,useFactory:jt,deps:[p.Injector],multi:!1},{provide:me,useFactory:(ut,xt)=>Gt(ut.renderStrategy,xt),deps:[(0,p.forwardRef)(()=>Ie),[new p.Inject(me),new p.SkipSelf,new p.Optional]],multi:!1},{provide:an,useFactory:(ut,xt)=>ee(ut,xt._destroyed$),deps:[p.Injector,(0,p.forwardRef)(()=>Ie)],multi:!1},...q.v])]})}}},6975:(P,j,o)=>{o.d(j,{aD:()=>w});var p=o(59131),g=o(67634),l=o(62278),t=o(26852);const f=new p.InjectionToken("CRT_BINDING_CONTEXT_DESIGN_TIME"),E=m=>({viewModel$:m.viewModel$,parent:m.parent}),y=(m,h)=>{const _=new l.ReplaySubject(1);return _.next(null),(m.viewModel$??h?.viewModel$)?.subscribe(_),{viewModel$:_.asObservable(),parent:m.viewModel$?h:h?.parent,viewModelSubject:_}};class w{set viewModel(h){(h instanceof g.o||h===void 0||h===null)&&(this.viewModel$?this.viewModel$.next(h):(this.viewModel$=new l.ReplaySubject(1),this.viewModel$.next(h)))}ngOnDestroy(){this.viewModel=null,this.viewModel$?.complete()}static{this.\u0275fac=function(_){return new(_||w)}}static{this.\u0275dir=p.\u0275\u0275defineDirective({type:w,selectors:[["","crtViewModel",""]],inputs:{viewModel:[p.\u0275\u0275InputFlags.None,"crtViewModel","viewModel"]},features:[p.\u0275\u0275ProvidersFeature([{provide:t.I,useFactory:E,deps:[[new p.Inject(f),new p.Self]],multi:!1},{provide:f,useFactory:y,deps:[(0,p.forwardRef)(()=>w),[new p.Inject(t.I),new p.SkipSelf,new p.Optional]],multi:!1}])]})}}},26852:(P,j,o)=>{o.d(j,{I:()=>l});var p=o(59131),g=o.n(p);const l=new p.InjectionToken("CRT_BINDING_CONTEXT")},36169:(P,j,o)=>{o.d(j,{P:()=>l});var p=o(59131),g=o.n(p);const l=new p.InjectionToken("Add delay before enabling skeleton loader")},35894:(P,j,o)=>{o.d(j,{s:()=>l});var p=o(59131),g=o.n(p);const l=new p.InjectionToken("CRT_VIEW_ELEMENT_CONFIG")},56746:(P,j,o)=>{o.d(j,{o:()=>l});var p=o(73308),g=o(47688);function l(f,E,y){return t.apply(this,arguments)}function t(){return t=(0,p.A)(function*(f,E,y){const w=yield(0,g.y)(f,y);if(!w)return;const{attributeHost:m,attributeName:h}=w;m.getAttributeControl(h).markAsDirty(),m[h]=E}),t.apply(this,arguments)}},19868:(P,j,o)=>{o.d(j,{p:()=>l});var p=o(73308),g=o(47688);function l(f,E){return t.apply(this,arguments)}function t(){return t=(0,p.A)(function*(f,E){const y=yield(0,g.y)(f,E);if(!y)return;const{attributeHost:w,attributeName:m}=y,h=w.getAttributeControl(m);h.touched||(h.markAsTouched(),h.updateValueAndValidity())}),t.apply(this,arguments)}},47688:(P,j,o)=>{o.d(j,{y:()=>E});var p=o(73308),g=o(62278),l=o.n(g),t=o(27019),f=o(51536);function E(w,m){return y.apply(this,arguments)}function y(){return y=(0,p.A)(function*(w,m){const h=(0,t.o)(w,m),_=yield(0,g.firstValueFrom)(h,{defaultValue:null});if(!_)return null;const x=yield(0,g.firstValueFrom)(_.context.viewModel$);if(!x)return null;const I=(0,f.Vk)(_.contextPath,w);return yield(0,f.Mg)(x,I)}),y.apply(this,arguments)}},46352:(P,j,o)=>{o.d(j,{c:()=>G});var p=o(40297),g=o(59131),l=o(62278);const t={macrosName:"ResourceString",macrosHandler:function(Y,O){if(!Y)throw new Error("Context is not defined");if(!Y.Resources?.Strings)throw new Error("Context does not contain property Resources.Strings");const st=Y.Resources.Strings[O[0]];return st instanceof Promise?(0,l.from)(st):(0,l.of)(st)}};function f(Y){return{macrosName:"ResourceString",macrosHandler:function(O,st){if(O?.strings){for(const gt of st){const ct=O.strings[gt];if(ct)return(0,l.of)(Y.findLocalizableValue(ct))}throw new Error(`Localized resource string not found. ${st}`)}if(O?.Strings){for(const gt of st){const ct=O.Strings[gt];if(ct)return(0,l.from)(ct)}throw new Error(`Localized string in ViewModel metadata not found. ${st}`)}return t.macrosHandler(O,st)}}}function E(Y=!1){return{macrosName:"DataSourceEntityName",macrosHandler:(O,st)=>{if(!O)throw new Error("Context is not defined");let gt=st[0],ct;if(Y)O.constructor.name==="BaseViewModel"?ct=O.dataSchemas?.[gt]?.dataSourceConfig?.config?.entitySchemaName:ct=O.modelConfig?.dataSources?.[gt]?.config?.entitySchemaName;else{gt||(gt=O.modelConfig.primaryDataSourceName);const nt=O.modelConfig.dataSources?.[gt];if(!nt)throw new Error(`DataSource '${gt}' is not defined`);ct=nt.config.entitySchemaName}return(0,l.of)(ct)}}}function y(Y,O=!1){return{macrosName:"MacrosTemplateString",macrosHandler:(st,gt)=>{const ct=gt.join(", "),nt=/\[#([^\]]*)#\]/.test(ct);return O||!nt?(0,l.of)(ct):Y.getTemplate(ct)}}}var w=o(66879),m=o(32471),h=o(57852),_=o(63721),x=o(36486);class I{constructor(O){this._httpClient=O,this._serviceEndpoint="rest/MacrosHelperService"}static isMacros(O){return typeof O!="string"?!1:O?.startsWith("#")??!1}getTemplate(O,st){return this.getTemplateByEntity({textTemplate:O},st)}getTemplateByEntity(O,st){const gt=`${this._serviceEndpoint}/GetTemplate`;return this._httpClient.post(gt,{request:O}).pipe((0,x.map)(ct=>{const nt=ct?.GetTemplateResult;return nt?.success?st?nt.textTemplate:nt.textTemplate.replace(/\s?<.+?>(.+?)<(.+?)\/?(.+?)>/g,""):O.textTemplate}))}getMultiLanguageTemplate(O,st,gt){const ct=`${this._serviceEndpoint}/GetMultiLanguageTextTemplate`;return this._httpClient.post(ct,{request:{entityId:O,entityName:st,templateId:gt}}).pipe((0,x.map)(nt=>nt?.GetMultiLanguageTextTemplateResult))}static{this.\u0275fac=function(st){return new(st||I)(g.\u0275\u0275inject(_.HttpClient))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"})}}var k=o(29423);class A{static{this.\u0275fac=function(st){return new(st||A)}}static{this.\u0275mod=g.\u0275\u0275defineNgModule({type:A})}static{this.\u0275inj=g.\u0275\u0275defineInjector({providers:[m.d,{provide:w.v,useFactory:f,deps:[h.Q],multi:!0},{provide:w.v,useFactory:E,deps:[[new g.Optional,k.w]],multi:!0},{provide:w.v,useFactory:y,deps:[I,[new g.Optional,k.w]],multi:!0}],imports:[p.CommonModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&g.\u0275\u0275setNgModuleScope(A,{imports:[p.CommonModule]})})();var F=o(52989),z=o(61526);class N{static{this.\u0275fac=function(st){return new(st||N)}}static{this.\u0275mod=g.\u0275\u0275defineNgModule({type:N})}static{this.\u0275inj=g.\u0275\u0275defineInjector({imports:[p.CommonModule,F.MatIconModule]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&g.\u0275\u0275setNgModuleScope(N,{declarations:[z.W],imports:[p.CommonModule,F.MatIconModule],exports:[z.W]})})();var T=o(51746),L=o(6975),U=o(30491),B=o(15810);class tt{constructor(){this._viewElementTypeResolver=(0,g.inject)(B.i)}_updateAttributeProperties(O,st,gt,ct){const nt=O[st]||{},Q={};ct.forEach(c=>{let Tt=c.defaultValue;Object.prototype.hasOwnProperty.call(gt,c.name)&&(Tt=gt[c.name]??c.defaultValue),Q[c.name]={defaultValue:Tt}});const q=this._viewElementTypeResolver.getViewElementInputs(gt.type);Object.entries(q).filter(([,c])=>c.propertyName!=null).forEach(([c,Tt])=>{Q[Tt.propertyName]={defaultValue:c,locked:!0}}),nt.properties={...nt.properties??{},...Q}}updateAttributeProperties(O,st,gt){const ct=O.bindTo.replace("$",""),nt=st?.viewModelConfig?.attributes||{};this._updateAttributeProperties(nt,ct,O,gt)}updateCollectionAttributeProperties(O,st,gt,ct){const nt=O.bindTo.replace(`${gt}.`,""),Q=gt.replace("$",""),lt=(st?.viewModelConfig?.attributes||{})[Q];if(!lt)return;const c=lt?.viewModelConfig?.attributes;c&&this._updateAttributeProperties(c,nt,O,ct)}static{this.\u0275fac=function(st){return new(st||tt)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:tt,factory:tt.\u0275fac})}}var Z=o(77038);class G{static{this.\u0275fac=function(st){return new(st||G)}}static{this.\u0275mod=g.\u0275\u0275defineNgModule({type:G})}static{this.\u0275inj=g.\u0275\u0275defineInjector({providers:[B.i,tt,Z.r,...T.v],imports:[p.CommonModule,A,N,N]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&g.\u0275\u0275setNgModuleScope(G,{declarations:[L.aD,U.H],imports:[p.CommonModule,A,N],exports:[L.aD,U.H,N]})})()},93248:(P,j,o)=>{o.d(j,{Fg:()=>g,HO:()=>l,Oi:()=>p,oy:()=>t});const p="user-info-cache",g="currentUserInfo",l="application-info-cache",t="applicationInfo"},34143:(P,j,o)=>{o.d(j,{i:()=>g});var p=o(86464);const g=[p.r.DateTime,p.r.Date,p.r.Time]},53500:(P,j,o)=>{o.d(j,{p:()=>g});var p=o(86464);const g=new Map([[p.r.Integer,0],[p.r.Float,2],[p.r.Money,2],[p.r.FLOAT1,1],[p.r.FLOAT2,2],[p.r.FLOAT3,3],[p.r.FLOAT4,4],[p.r.FLOAT8,8]])},31376:(P,j,o)=>{o.d(j,{D:()=>g});var p=o(86464);const g=[p.r.Float,p.r.FLOAT1,p.r.FLOAT2,p.r.FLOAT3,p.r.FLOAT4,p.r.FLOAT8,p.r.Integer,p.r.Money]},61843:(P,j,o)=>{o.d(j,{dJ:()=>g,fX:()=>l});const p="A5420246-0A8E-E111-84A3-00155D054C03",g="en-US";class l{constructor(f){Object.assign(this,f)}static getDefaultCulture(){return new l({sysCultureId:p,sysCultureName:g,decimalSeparator:".",thousandSeparator:","})}}},88980:(P,j,o)=>{o.d(j,{B:()=>t,R:()=>l});var p=o(86464),g=o(94123);function l(f){let E;switch(f){case p.r.SHORT_TEXT:E=g.OK.ShortTextCaption;break;case p.r.PHONE_TEXT:case p.r.MEDIUM_TEXT:E=g.OK.MediumTextCaption;break;case p.r.LONG_TEXT:case p.r.EMAIL_TEXT:E=g.OK.LongTextCaption;break;default:return}return{maxLength:E}}function t(f){if([p.r.Float,p.r.FLOAT1,p.r.FLOAT2,p.r.FLOAT3,p.r.FLOAT4,p.r.FLOAT8,p.r.Money].includes(f))return{minValue:g.M_.Float.min,maxValue:g.M_.Float.max};if(f===p.r.Integer)return{minValue:g.M_.Integer.min,maxValue:g.M_.Integer.max}}},47149:(P,j,o)=>{o.d(j,{P:()=>t,Q:()=>l});var p=o(86464);const g="DataValueType",l={[p.r.Date]:{type:p.r.Date,id:"603d4960-a1a2-45e9-b232-206a54421b01",name:"Date",icon:"data-type-date-icon.svg",designerIcon:o(26861),translateKey:`${g}.DateCaption`},[p.r.Time]:{type:p.r.Time,id:"04cc757b-8f06-482c-8a1a-0c0e171d2410",name:"Time",icon:"data-type-time-icon.svg",designerIcon:o(8510),translateKey:`${g}.TimeCaption`},[p.r.DateTime]:{type:p.r.DateTime,id:"d21e9ef4-c064-4012-b286-fa1a8171da44",name:"DateTime",icon:"data-type-datetime-icon.svg",designerIcon:o(55146),translateKey:`${g}.DateTimeCaption`},[p.r.Text]:{type:p.r.Text,id:"8b3f29bb-ea14-4ce5-a5c5-293a929b6ba2",name:"Text",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:o(97180),designerAutonumberIcon:o(78683),translateKey:`${g}.TextCaption`},[p.r.SHORT_TEXT]:{type:p.r.SHORT_TEXT,id:"325a73b8-0f47-44a0-8412-7606f78003ac",name:"ShortText",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:o(97180),designerAutonumberIcon:o(78683),translateKey:`${g}.ShortTextCaption`},[p.r.PHONE_TEXT]:{type:p.r.PHONE_TEXT,id:"26cba63c-daf1-4f36-b2ea-73c0d675d90c",name:"PhoneText",icon:"data-type-phone-icon.svg",designerIcon:o(59155),translateKey:`${g}.PhoneTextCaption`},[p.r.WEB_TEXT]:{type:p.r.WEB_TEXT,id:"26cba64c-daf1-4f36-b2ea-73c0d695d90c",name:"WebText",icon:"data-type-text-icon.svg",designerIcon:o(64337),translateKey:`${g}.WebTextCaption`},[p.r.EMAIL_TEXT]:{type:p.r.EMAIL_TEXT,id:"66cba64c-daf1-4f36-b8ea-73c0d695d90c",name:"EmailText",icon:"data-type-text-icon.svg",designerIcon:o(71011),translateKey:`${g}.EmailTextCaption`},[p.r.MEDIUM_TEXT]:{type:p.r.MEDIUM_TEXT,id:"ddb3a1ee-07e8-4d62-b7a9-d0e618b00fbd",name:"MediumText",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:o(97180),designerAutonumberIcon:o(78683),translateKey:`${g}.MediumTextCaption`},[p.r.LONG_TEXT]:{type:p.r.LONG_TEXT,id:"5ca35f10-a101-4c67-a96a-383da6afacfc",name:"LongText",icon:"data-type-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:o(97180),designerAutonumberIcon:o(78683),translateKey:`${g}.LongTextCaption`},[p.r.MAXSIZE_TEXT]:{type:p.r.MAXSIZE_TEXT,id:"c0f04627-4620-4bc0-84e5-9419dc8516b1",name:"MaxSizeText",icon:"data-type-unlimited-text-icon.svg",autonumberIcon:"data-type-autonumber-icon.svg",designerIcon:o(97180),designerAutonumberIcon:o(78683),translateKey:`${g}.MaxSizeTextCaption`},[p.r.Integer]:{type:p.r.Integer,id:"6b6b74e2-820d-490e-a017-2b73d4ccf2b0",name:"Integer",icon:"data-type-integer-icon.svg",designerIcon:o(60521),translateKey:`${g}.IntegerCaption`},[p.r.FLOAT1]:{type:p.r.FLOAT1,id:"07ba84ce-0bf7-44b4-9f2c-7b15032eb98c",name:"Float1",icon:"data-type-float1-icon.svg",designerIcon:o(68877),translateKey:`${g}.FLOAT1Caption`},[p.r.FLOAT2]:{type:p.r.FLOAT2,id:"5cc8060d-6d10-4773-89fc-8c12d6f659a6",name:"Float2",icon:"data-type-float2-icon.svg",designerIcon:o(68877),translateKey:`${g}.FLOAT2Caption`},[p.r.FLOAT3]:{type:p.r.FLOAT3,id:"3f62414e-6c25-4182-bcef-a73c9e396f31",name:"Float3",icon:"data-type-float3-icon.svg",designerIcon:o(68877),translateKey:`${g}.FLOAT3Caption`},[p.r.FLOAT4]:{type:p.r.FLOAT4,id:"ff22e049-4d16-46ee-a529-92d8808932dc",name:"Float4",icon:"data-type-float4-icon.svg",designerIcon:o(68877),translateKey:`${g}.FLOAT4Caption`},[p.r.FLOAT8]:{type:p.r.FLOAT8,id:"a4aaf398-3531-4a0d-9d75-a587f5b5b59e",name:"Float8",icon:"data-type-float8-icon.svg",designerIcon:o(68877),translateKey:`${g}.FLOAT8Caption`},[p.r.Guid]:{type:p.r.Guid,id:"23018567-a13c-4320-8687-fd6f9e3699bd",name:"Guid",icon:"data-type-guid-icon.svg",designerIcon:o(92458),translateKey:`${g}.GuidCaption`},[p.r.Lookup]:{type:p.r.Lookup,id:"b295071f-7ea9-4e62-8d1a-919bf3732ff2",name:"Lookup",icon:"data-type-lookup-icon.svg",designerIcon:o(61631),translateKey:`${g}.LookupCaption`},[p.r.Boolean]:{type:p.r.Boolean,id:"90b65bf8-0ffc-4141-8779-2420877af907",name:"Boolean",icon:"data-type-boolean-icon.svg",designerIcon:o(36659),translateKey:`${g}.BooleanCaption`},[p.r.HASH_TEXT]:{type:p.r.HASH_TEXT,id:"ecbcce18-2a17-4ead-829a-9d02fa9578a4",name:"HashText",icon:"data-type-crs-text-icon.svg",designerIcon:o(97180),translateKey:`${g}.HashTextCaption`},[p.r.SECURE_TEXT]:{type:p.r.SECURE_TEXT,id:"3509b9dd-2c90-4540-b82e-8f6ae85d8248",name:"SecureText",icon:"data-type-encrypted-text-icon.svg",designerIcon:o(28010),translateKey:`${g}.SecureTextCaption`},[p.r.IMAGELOOKUP]:{type:p.r.IMAGELOOKUP,id:"b039feb0-ee7c-4884-8aa6-d6d45d84316f",name:"ImageLookup",icon:"data-type-image-link-icon.svg",designerIcon:o(65689),translateKey:`${g}.ImageLookupCaption`},[p.r.Money]:{type:p.r.Money,id:"969093e2-2b4e-463b-883a-3d3b8c61f0cd",name:"Money",icon:"data-type-float2-icon.svg",designerIcon:o(32643),translateKey:`${g}.MoneyCaption`},[p.r.Float]:{type:p.r.Float,id:"57ee4c31-5ec4-45fa-b95d-3a2868aa89a8",name:"Float",icon:"data-type-float1-icon.svg",designerIcon:o(68877),translateKey:`${g}.FloatCaption`},[p.r.FILE]:{type:p.r.FILE,id:"a33c9252-d401-453e-949d-169157067ed9",name:"File",icon:"data-type-file-icon.svg",designerIcon:o(55039),translateKey:`${g}.FileCaption`},[p.r.Image]:{type:p.r.Image,id:"fa6e6e49-b996-475e-a77e-73904e4c5a88",name:"Image",icon:"data-type-image-icon.svg",designerIcon:o(55039),translateKey:`${g}.ImageCaption`},[p.r.Blob]:{type:p.r.Blob,id:"b7342b7a-5dde-40de-aa7c-24d2a57b3202",name:"Blob",icon:"data-type-blob-icon.svg",designerIcon:o(55039),translateKey:`${g}.BlobCaption`},[p.r.Color]:{type:p.r.Color,id:"dafb71f9-ee9f-4e0b-a4d7-37aa15987155",name:"Color",icon:"data-type-color-icon.svg",designerIcon:o(39078),translateKey:`${g}.ColorCaption`},[p.r.RICH_TEXT]:{type:p.r.RICH_TEXT,id:"79bccffa-8c8b-4863-b376-a69d2244182b",name:"RichText",icon:"data-type-rich-text-icon.svg",designerIcon:o(67021),translateKey:`${g}.RichCaption`},[p.r.ENTITY]:{type:p.r.ENTITY,id:"ebd85d37-0abf-4bbf-bb32-97dc3dffcc8c",name:"Entity",icon:"data-type-other-icon.svg",designerIcon:o(97180),translateKey:`${g}.Entity`},[p.r.ENTITY_COLLECTION]:{type:p.r.ENTITY_COLLECTION,id:"51fb23ba-3eb2-11e2-b7d5-b0c76188709b",name:"EntityCollection",icon:"data-type-other-icon.svg",designerIcon:o(97180),translateKey:`${g}.EntityCollection`},[p.r.ENTITY_COLUMN_MAPPING_COLLECTION]:{type:p.r.ENTITY_COLUMN_MAPPING_COLLECTION,id:"b53eaa2a-4bb7-4a6b-9f4f-58ccab293e31",name:"EntityColumnMappingCollection",icon:"data-type-other-icon.svg",designerIcon:o(97180),translateKey:`${g}.EntityColumnMappingCollection`},[p.r.CUSTOM_OBJECT]:{type:p.r.CUSTOM_OBJECT,id:"84ed6865-9692-4c98-aaed-4d15b96a95c2",name:"CustomObject",icon:"data-type-other-icon.svg",designerIcon:o(97180),translateKey:`${g}.CustomObject`},[p.r.OBJECT_LIST]:{type:p.r.OBJECT_LIST,id:"4b51a8b5-1ee9-4437-9d58-f35e083cbcdf",name:"ObjectList",icon:"data-type-other-icon.svg",designerIcon:o(97180),translateKey:`${g}.ObjectList`},[p.r.COMPOSITE_OBJECT_LIST]:{type:p.r.COMPOSITE_OBJECT_LIST,id:"651ec16f-d140-46db-b9e2-825c985a8ac2",name:"CompositeObjectList",icon:"data-type-other-icon.svg",designerIcon:o(97180),translateKey:`${g}.CompositeObjectList`},[p.r.COMPOSITE_OBJECT]:{type:p.r.COMPOSITE_OBJECT,id:"632e4371-0a7f-46cd-a284-a623b3933027",name:"CompositeObject",icon:"data-type-composite-object-icon.svg",designerIcon:o(97180),translateKey:`${g}.CompositeObject`},[p.r.COLLECTION]:{type:p.r.COLLECTION,name:"Collection",icon:"data-type-other-icon.svg",designerIcon:o(97180),translateKey:`${g}.Collection`},[p.r.LOCALIZABLE_STRING]:{type:p.r.LOCALIZABLE_STRING,id:"95c6e6c4-2cc8-46be-a1cb-96f942655f86",name:"LocalizableString",icon:"data-type-text-icon.svg",designerIcon:o(97180),translateKey:`${g}.LocalizableString`},[p.r.METADATA_TEXT]:{type:p.r.METADATA_TEXT,id:"394e160f-c8e0-46fa-9c0d-75d97e9e9169",name:"MetaDataText",icon:"data-type-text-icon.svg",designerIcon:o(97180),translateKey:`${g}.MetaDataText`}},t={DateTime:[p.r.Date,p.r.Time,p.r.DateTime],Text:[p.r.Text,p.r.SHORT_TEXT,p.r.MEDIUM_TEXT,p.r.LONG_TEXT,p.r.PHONE_TEXT,p.r.WEB_TEXT,p.r.EMAIL_TEXT,p.r.MAXSIZE_TEXT,p.r.LOCALIZABLE_STRING,p.r.RICH_TEXT],Number:[p.r.FLOAT1,p.r.FLOAT2,p.r.FLOAT3,p.r.FLOAT4,p.r.FLOAT8,p.r.Integer,p.r.Money,p.r.Float],Lookup:[p.r.Lookup,p.r.IMAGELOOKUP]}},73147:(P,j,o)=>{o.d(j,{Q:()=>t});var p=o(59131),g=o(23092);class l{constructor(){this._defaultShortDatePattern="M/D/YYYY"}convert(E){if(E)return{...E,shortDatePattern:E?.shortDatePattern?.toUpperCase()??this._defaultShortDatePattern,shortTimePattern:E?.shortTimePattern?.replace("tt","A")}}static{this.\u0275fac=function(y){return new(y||l)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}const t=new p.InjectionToken("DateTimeFormatInfo",{providedIn:"root",factory:()=>{const f=(0,p.inject)(l),E=(0,p.inject)(g.oq);return f.convert(E?.cultureInfo?.dateTimeFormat)}})},80932:(P,j,o)=>{o.d(j,{y:()=>f});var p=o(59131),g=o.n(p),l=o(28399),t=o.n(l);class f{constructor(y){this._elementRef=y,this._debounceTime=300}_setTitleAttribute(){const y="title",w=this._elementRef.nativeElement;if(this._isElementOverflowed(w)){const m=w.value||w.innerText||"";w.setAttribute(y,m)}else w.removeAttribute(y)}_isElementOverflowed(y){return y.offsetWidth<y.scrollWidth||y.offsetHeight<y.scrollHeight}onMouseEnter(){(0,l.debounce)(()=>this._setTitleAttribute(),this._debounceTime,{leading:!0,trailing:!1})()}static{this.\u0275fac=function(w){return new(w||f)(p.\u0275\u0275directiveInject(p.ElementRef))}}static{this.\u0275dir=p.\u0275\u0275defineDirective({type:f,selectors:[["","crtTextOverflowTitle",""]],hostBindings:function(w,m){w&1&&p.\u0275\u0275listener("mouseenter",function(){return m.onMouseEnter()})}})}}},55801:(P,j,o)=>{o.d(j,{d:()=>t});var p=o(80932),g=o(59131),l=o.n(g);class t{static{this.\u0275fac=function(y){return new(y||t)}}static{this.\u0275mod=g.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=g.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&g.\u0275\u0275setNgModuleScope(t,{declarations:[p.y],exports:[p.y]})})()},78693:(P,j,o)=>{o.d(j,{G:()=>p});var p;(function(g){g[g.Error=1]="Error",g[g.Warning=2]="Warning",g[g.Information=4]="Information"})(p||(p={}))},30467:(P,j,o)=>{o.d(j,{u:()=>p,z:()=>g});const p="",g=1024},1624:(P,j,o)=>{o.d(j,{X:()=>t});var p=o(8017),g=o(59131),l=o.n(g);class t{static{this.\u0275fac=function(y){return new(y||t)}}static{this.\u0275mod=g.\u0275\u0275defineNgModule({type:t})}static{this.\u0275inj=g.\u0275\u0275defineInjector({})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&g.\u0275\u0275setNgModuleScope(t,{declarations:[p.b],exports:[p.b]})})()},66808:(P,j,o)=>{o.d(j,{j:()=>l});var p=o(28399),g=o.n(p);class l{constructor(f){this._formatter=f}getValue(f){return f.toString()}getFormat(f){if(!f)return this.defaultFormat;const E=this.getFormatByDataType(f.dataType);return E?(0,p.merge)({},E,f):{type:this.defaultFormat?.type,...(0,p.omit)(f,"dataType")}}getFormatByDataType(f){return f&&this.formatsByDataTypeMap.get(f)}isSupportedValue(f){return typeof f=="string"}transform(f,E){if(!this.isSupportedValue(f))return"";const y=this.getValue(f),w=this.getFormat(E);return this._formatter.format(y,w)}}},54157:(P,j,o)=>{o.d(j,{V:()=>L});var p=o(86464),g=o(59131),l=o(30046),t=o.n(l),f=o(22524);class E extends f.NS{handle(B){return B.dateTimeFormat?.date?.format==="week"?"W":super.handle(B)}static{this.\u0275fac=(()=>{let B;return function(Z){return(B||(B=g.\u0275\u0275getInheritedFactory(E)))(Z||E)}})()}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"})}}class y extends f.NS{handle(B){return B?.dateTimeFormat?.time?.format==="hour"?"H":super.handle(B)}static{this.\u0275fac=(()=>{let B;return function(Z){return(B||(B=g.\u0275\u0275getInheritedFactory(y)))(Z||y)}})()}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"})}}var w=o(73147);const m="M/D/YYYY";class h extends f.NS{constructor(B){super(),this._dateTimeFormat=B}_castToDateTimeFormat(B){const tt=B.format;if(!tt)return B;const Z=tt.split(" ").length>=2;return{type:B.type,date:{display:!0},time:{display:Z}}}_getDateTimeFormatMoment(B){let tt="";const{shortDatePattern:Z,shortTimePattern:G}=this._dateTimeFormat??{};if(!Z&&!G)return m;const{date:Y,time:O}=B??{},{display:st=!1}=Y??{},{display:gt=!1}=O??{};return st&&(tt+=Z),gt&&(tt+=` ${G}`),tt.trim()}handle(B){const{dateTimeFormat:tt,handledMomentFormat:Z}=B,G=this._castToDateTimeFormat(tt),Y=this._getDateTimeFormatMoment(G);this.format=G?.date?.format;let O=this.internalHandler(Z??Y);if(O!==Y){const st=new RegExp(`^\\${this._dateTimeFormat.dateSeparator}+`),gt=new RegExp(`\\${this._dateTimeFormat.dateSeparator}+$`),ct=new RegExp(`\\${this._dateTimeFormat.dateSeparator}{2,}`,"g");O=O.replace(st,"").replace(gt,"").replace(ct,this._dateTimeFormat.dateSeparator)}return B.handledMomentFormat=O,super.handle(B)??O}static{this.\u0275fac=function(tt){return new(tt||h)(g.\u0275\u0275inject(w.Q))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})}}class _ extends h{internalHandler(B){return this.format&&!this.format.has("days")?B.replace(/D/g,""):B}static{this.\u0275fac=(()=>{let B;return function(Z){return(B||(B=g.\u0275\u0275getInheritedFactory(_)))(Z||_)}})()}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"})}}class x extends h{internalHandler(B){return this.format&&!this.format?.has("months")?B.replace(/M/g,""):B}static{this.\u0275fac=(()=>{let B;return function(Z){return(B||(B=g.\u0275\u0275getInheritedFactory(x)))(Z||x)}})()}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac,providedIn:"root"})}}class I extends h{internalHandler(B){return this.format&&!this.format?.has("years")?B.replace(/Y/g,""):B}static{this.\u0275fac=(()=>{let B;return function(Z){return(B||(B=g.\u0275\u0275getInheritedFactory(I)))(Z||I)}})()}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"})}}const k=new g.InjectionToken("Represents the moment date time format",{factory:()=>{const U=(0,g.inject)(E),B=(0,g.inject)(y),tt=(0,g.inject)(_),Z=(0,g.inject)(x),G=(0,g.inject)(I);return{getFormat:Y=>(U.setNext(B).setNext(tt).setNext(Z).setNext(G),U.handle({dateTimeFormat:Y}))}},providedIn:"root"});var A=o(20083);class F extends A.Z{constructor(B){super(),this._momentDateTimeFormatter=B}format(B,tt){if(!B)return"";const Z=new Date(B);if(isNaN(Z))return"";const G=this._momentDateTimeFormatter.getFormat(tt);return t()(Z).format(G)}static{this.\u0275fac=function(tt){return new(tt||F)(g.\u0275\u0275inject(k))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac,providedIn:"root"})}}const z=new g.InjectionToken("Represents a datetime data formatter",{factory:()=>new F((0,g.inject)(k)),providedIn:"root"});var N=o(66808);const T=new Map([[p.r.Date,{type:"datetime",date:{display:!0}}],[p.r.DateTime,{type:"datetime",date:{display:!0},time:{display:!0}}],[p.r.Time,{type:"datetime",date:{display:!1},time:{display:!0}}]]);class L extends N.j{constructor(B){super(B),this.defaultFormat={type:"datetime",date:{display:!0}},this.formatsByDataTypeMap=T}getValue(B){return typeof B=="number"&&(B=new Date(B)),B.toString()}isSupportedValue(B){return super.isSupportedValue(B)||typeof B=="number"||B instanceof Date}transform(B,tt){return B===""?"":super.transform(B,tt)}static{this.\u0275fac=function(tt){return new(tt||L)(g.\u0275\u0275directiveInject(z,16))}}static{this.\u0275pipe=g.\u0275\u0275definePipe({name:"dateTimeFormat",type:L,pure:!0})}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"})}}},44040:(P,j,o)=>{o.d(j,{e:()=>y});var p=o(79772),g=o.n(p),l=o(29957),t=o.n(l),f=o(59131),E=o.n(f);class y{constructor(m){this._translate=m}transform(m){if(!m?.value)return null;const h=m?.displayValue||null;return m&&l.String.isNullOrWhiteSpace(h)?this._translate.instant("LookupFormat.EmptyDisplayValue"):h}static{this.\u0275fac=function(h){return new(h||y)(f.\u0275\u0275directiveInject(p.TranslateService,16))}}static{this.\u0275pipe=f.\u0275\u0275definePipe({name:"lookupFormat",type:y,pure:!0})}static{this.\u0275prov=f.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"})}}},51249:(P,j,o)=>{o.d(j,{N:()=>m});var p=o(31376),g=o(53500),l=o(59131),t=o(71432);const f=new l.InjectionToken("Represents a number data formatter",{factory:()=>(0,l.inject)(t.K),providedIn:"root"});var E=o(66808);const y=new Map(p.D.map(h=>[h,w(h)]));function w(h){return{type:"number",decimalPrecision:g.p.get(h)}}class m extends E.j{constructor(_){super(_),this.defaultFormat={type:"number"},this.formatsByDataTypeMap=y}isSupportedValue(_){return super.isSupportedValue(_)||typeof _=="number"}static{this.\u0275fac=function(x){return new(x||m)(l.\u0275\u0275directiveInject(f,16))}}static{this.\u0275pipe=l.\u0275\u0275definePipe({name:"numberFormat",type:m,pure:!0})}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}},8017:(P,j,o)=>{o.d(j,{b:()=>w});var p=o(59131),g=o(22524),l=o(20083);const t=new Map([["default",{ADD_TAGS:["#comment","signature"],FORCE_BODY:!0}],["textOnly",{ALLOWED_TAGS:["#text"],FORBID_CONTENTS:g.G8}]]);class f extends l.Z{constructor(h){super(),this._domPurifier=h,this._defaultFormat={type:"sanitizeHtml",mode:"default"},this._sanitizationConfigsByMode=t}_sanitizeHtml(h,_){const x=_.mode??"default",I=this._sanitizationConfigsByMode.get(x);return this._domPurifier.sanitize(h,I).toString()}format(h,_){return h?this._sanitizeHtml(h,_??this._defaultFormat):""}static{this.\u0275fac=function(_){return new(_||f)(p.\u0275\u0275inject(g.MV))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"})}}const E=new p.InjectionToken("Represents a sanitize html formatter",{factory:()=>new f((0,p.inject)(g.MV)),providedIn:"root"});var y=o(66808);class w extends y.j{constructor(h){super(h),this.defaultFormat={type:"sanitizeHtml"},this.formatsByDataTypeMap=new Map([])}isSupportedValue(h){return super.isSupportedValue(h)||typeof h=="number"||typeof h=="boolean"||typeof h=="bigint"||typeof h=="symbol"||h instanceof Date}static{this.\u0275fac=function(_){return new(_||w)(p.\u0275\u0275directiveInject(E,16))}}static{this.\u0275pipe=p.\u0275\u0275definePipe({name:"sanitizeHtml",type:w,pure:!0})}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"})}}},14646:(P,j,o)=>{o.d(j,{L:()=>_});var p=o(59131),g=o.n(p),l=o(86464),t=o(31376),f=o(34143),E=o(37962),y=o(54157),w=o(44040),m=o(51249),h=o(8017);class _{constructor(I){this._injector=I}_sanitizeText(I,k){const A=this._injector.get(E.o),F=this._injector.get(h.b);return I=A.transform(I),I=F.transform(I,{mode:"textOnly",dataType:k}),I=A.transform(I),I}transform(I,k){const{dataType:A}=k??{};return t.D.includes(A)?this._injector.get(m.N).transform(I,k):A===l.r.Lookup?this._injector.get(w.e).transform(I):f.i.includes(A)?this._injector.get(y.V).transform(I,k):A===l.r.IMAGELOOKUP?"":typeof I=="string"?this._sanitizeText(I,A):I?.toString()}static{this.\u0275fac=function(k){return new(k||_)(p.\u0275\u0275directiveInject(p.Injector,16))}}static{this.\u0275pipe=p.\u0275\u0275definePipe({name:"valueFormat",type:_,pure:!0})}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"})}}},20083:(P,j,o)=>{o.d(j,{Z:()=>p});class p{}},71432:(P,j,o)=>{o.d(j,{K:()=>A});var p=o(22524),g=o(67462),l=o.n(g),t=o(20083);const f=0,E=20,y=".";var w=o(30467),m=o(59131),h=o(23092);class _{constructor(z){this._userInfo=z}_adjustDecimalPrecision(z){return z==null||(z=parseInt(`${z}`,10),isNaN(z))?null:(z=Math.min(z,E),z=Math.max(z,f),z)}_adjustDecimalSeparator(z){const N=this._userInfo?.cultureInfo?.decimalSeparator;return typeof N=="string"?N:z||y}_adjustThousandSeparator(z){const N=this._userInfo?.cultureInfo?.thousandSeparator;return typeof N=="string"?N:z||w.u}adjust(z){const{decimalPrecision:N,decimalSeparator:T,thousandSeparator:L,thousandAbbreviation:U,trimTrailingZeros:B}=z||{};return{type:"number",decimalPrecision:this._adjustDecimalPrecision(N),decimalSeparator:this._adjustDecimalSeparator(T),trimTrailingZeros:B??!1,thousandSeparator:this._adjustThousandSeparator(L),thousandAbbreviation:{enabled:U?.enabled===!0}}}static{this.\u0275fac=function(N){return new(N||_)(m.\u0275\u0275inject(h.oq,8))}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"})}}const x=",",I="#DECIMAL_SEPARATOR#",k="#THOUSAND_SEPARATOR#";class A extends t.Z{constructor(z){super(),this._formatAdjuster=z}_isNaN(z){const N=parseFloat(z);return isNaN(N)}_isExponentialValue(z){return/^[-+]?\d*\.?\d+[eE][-+]?\d+$/.test(z)}_getPrecisionFromExponential(z){const[,N,T]=z.match(/^[-+]?(\d*\.?\d+)[eE]([-+]?\d+)$/),[L,U=""]=N.split(y),B=parseInt(T,10),tt=L+U,Z=L.length+B,G=tt.length-Z;return G>0?G:0}_convertExponentialToDecimal(z,N){const T=N?.decimalPrecision??this._getPrecisionFromExponential(z);try{return l()(z).format({mantissa:T})}catch{return z.toString()}}_createNumbroFormat(z,N){const{decimalPrecision:T,trimTrailingZeros:L,thousandSeparator:U,thousandAbbreviation:B}=N;this._isExponentialValue(z)&&(z=this._convertExponentialToDecimal(z,N));const[tt,Z]=z.split(y),G=Math.abs(parseInt(tt,10))>=1e3;return!!B?.enabled&&G?{average:!0,thousandSeparated:!!U,mantissa:1,optionalMantissa:!0}:{mantissa:T??Z?.length??0,thousandSeparated:!!U,trimMantissa:!!L}}_replaceSeparators(z,N){const{decimalSeparator:T,thousandSeparator:L}=N,U=[{searchValue:y,replaceMacros:I,replaceValue:T},{searchValue:x,replaceMacros:k,replaceValue:L}];return(0,p.mh)(z,U)}_undoReplaceSeparators(z,N){const{decimalSeparator:T,thousandSeparator:L}=N,U=[{searchValue:T,replaceMacros:I,replaceValue:y},{searchValue:L,replaceMacros:k,replaceValue:w.u}];return(0,p.mh)(z,U)}format(z,N){if(this._isNaN(z))return"";N||(N={type:"number"});const T=this._formatAdjuster.adjust(N),L=this._createNumbroFormat(z,T);let U;try{U=l()(z).format(L)}catch{U=l()(0).format(L)}return this._replaceSeparators(U,T)}undoFormat(z,N){if(this._isNaN(z))return"";N||(N={type:"number"});const T=this._formatAdjuster.adjust(N);return this._undoReplaceSeparators(z,T)}static{this.\u0275fac=function(N){return new(N||A)(m.\u0275\u0275inject(_))}}static{this.\u0275prov=m.\u0275\u0275defineInjectable({token:A,factory:A.\u0275fac,providedIn:"root"})}}},74975:(P,j,o)=>{o.d(j,{S:()=>l});var p=o(59131),g=o.n(p);class l{constructor(){const f=this.constructor;if((0,p.inject)(f,p.InjectFlags.Optional|p.InjectFlags.SkipSelf))throw Error(`[${f.name}]: trying to create multiple instances,
			but this service should be a singleton.`)}}},66879:(P,j,o)=>{o.d(j,{v:()=>l});var p=o(59131),g=o.n(p);const l=new p.InjectionToken("MACROS_HANDLER")},32471:(P,j,o)=>{o.d(j,{d:()=>h});function p(_){return _===null||typeof _!="object"?[]:Object.keys(_).filter(x=>_[x]instanceof Object).map(x=>p(_[x]).map(I=>[x,...I])).reduce((x,I)=>[...x,...I],Object.keys(_).map(x=>[x]))}var g=o(28399),l=o(62278),t=o(36486),f=o(66879),E=o(26594),y=o(1872),w=o(59131),m=o(92141);class h{constructor(x,I,k){this.handlers=x,this._featureValues=I,this._applicationInfo=k}get _includeProcessedHandlers(){return!!this._featureValues?.IncludeProcessedMacrosHandlers}_findClosingBracket(x,I){let k=I,A=1;for(;A>0&&k<x.length;){const F=x[++k];F==="("?A++:F===")"&&A--}return k}_getMacroses(x){const I=new Array;let k=x.indexOf("#");for(;k>=0;){const A=x.indexOf("(",k);if(A<0)return I;const F=this._findClosingBracket(x,A),z=x.indexOf("#",F);if(z<0)return I;I.push({macrosName:x.substring(k+1,A),macrosArgs:x.substring(A+1,F),macrosBody:x.substring(k,z+1)}),k=x.indexOf("#",z+1)}return I}_processMacroses({macroses:x,macrosNameFilter:I,context:k,options:A,value:F}){let z={...F};const N=T=>!!(I&&I!==T&&I.split(",").indexOf(T)===-1);return(0,l.forkJoin)({...x.map(({macrosName:T,macrosArgs:L,macrosBody:U})=>{if(N(T))return(0,l.of)(null);const B=this.getHandler(T);return B?this.internalHandle(L,k,I,A).pipe((0,t.switchMap)(tt=>{const Z=B(k,`${tt.value}`.split(",").map(G=>G.trim()));return(Z instanceof l.Observable?Z:(0,l.of)(Z)).pipe((0,t.catchError)(G=>(this._applicationInfo.isDebugEnabled&&console.warn(G),(0,l.of)(U))),(0,t.tap)(G=>{const Y=typeof G=="number"?G:G||"";z={isChanged:!0,value:z.value.replace(U,Y)}}))}),(0,t.catchError)(tt=>(A&&A.errorHandler?A.errorHandler(tt):this._applicationInfo.isDebugEnabled&&console.warn(tt),(0,l.of)(U)))):(0,l.of)(null)}),default:(0,l.of)(null)}).pipe((0,t.map)(()=>z))}_forEachStringInObject(x,I,k=[],A=[]){if(!(x instanceof Object))return;const F=N=>!k.includes(N),z=(N,T)=>{typeof N=="string"?I(A.concat(T),N):typeof N=="object"&&N!==null&&(A.push(T),this._forEachStringInObject(N,I,k,A),A.pop())};if(x instanceof Map)for(const N of Array.from(x.keys()).filter(F))z(x.get(N),N);else Object.keys(x).filter(F).forEach(N=>{z(x[N],N)})}_set(x,I,k){const A=I.slice(),F=A.pop(),z=A.length===0?x:(0,y.EV)(x,A);z&&(z[F]=k)}getHandler(x){return this.handlers.filter(I=>I.macrosName===x).pop()?.macrosHandler}internalHandle(x,I,k,A){const F={value:x,isChanged:!1};return(0,l.of)(F).pipe((0,t.switchMap)(N=>{if(typeof x!="string")return(0,l.of)(N);const T=this._getMacroses(x);return T.length?this._processMacroses({macroses:T,macrosNameFilter:k,context:I,options:A,value:F}):(0,l.of)(N)}))}handle(x,I){const k=(0,g.cloneDeep)(x);return(0,l.forkJoin)([...p(k).map(A=>{const F=(0,g.get)(k,A);return this.internalHandle(F,I).pipe((0,t.tap)(({value:z})=>{(0,g.set)(k,A,z)}))}),(0,l.of)(null)]).pipe((0,t.map)(()=>k))}handleMarcos(...x){return this.handleMacros.call(this,...x)}handleResourceMacros(x,I,k){return this.handleMacros("MacrosTemplateString,ResourceString",(0,g.cloneDeep)(x),I,k)}handleMacros(x,I,k,A){const F=[(0,l.of)(null)];return this._forEachStringInObject(I,(z,N)=>{const T=this._getMacroses(N);if(!T.length)return;const L=this._processMacroses({macroses:T,context:k,options:A,macrosNameFilter:x,value:{isChanged:!1,value:N}}).pipe((0,t.tap)(U=>{U.isChanged!==!1&&(A?.setPropertyFn?A.setPropertyFn({source:I,keys:z,value:U.value}):this._set(I,z,U.value))}));F.push(L)},this._includeProcessedHandlers?[]:["__preprocessed"]),(0,l.forkJoin)(F).pipe((0,t.map)(()=>I))}static{this.\u0275fac=function(I){return new(I||h)(w.\u0275\u0275inject(f.v),w.\u0275\u0275inject(E.G,8),w.\u0275\u0275inject(m.z))}}static{this.\u0275prov=w.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac})}}},34858:(P,j,o)=>{o.d(j,{M:()=>p});const p="crt.EntityDataSource"},89285:(P,j,o)=>{o.d(j,{b:()=>p});var p;(function(g){g.Init="init",g.Create="create",g.Update="update",g.Copy="copy",g.Delete="delete",g.Unknown="unknown"})(p||(p={}))},66829:(P,j,o)=>{o.d(j,{c:()=>g,z:()=>p});const p="crt.PageParametersDataSource",g="PageParameters"},97842:(P,j,o)=>{o.d(j,{x:()=>p});class p{}},50588:(P,j,o)=>{o.d(j,{h:()=>p});class p extends Array{constructor(l){super(),Object.setPrototypeOf(this,Object.create(p.prototype)),Array.isArray(l)&&this._fillFromSource(l)}_fillFromSource(l){l.filter(t=>t?.cultureName!=null).forEach(t=>{this.setValueLocalizableString(t.cultureName,t.value)})}getValue(l){const t=this.getLocalizableString(l);return t?t.value:""}hasCultureValue(l,t=!1){const f=this.getLocalizableString(l);return t?(f?.value||null)!=null:f?.value!=null}getLocalizableString(l){return this.find(t=>t.cultureName===l)||null}setValueLocalizableString(l,t){const f=this.getLocalizableString(l);return f?f.value=t:this.push({cultureName:l,value:t}),this}setValues(l,t=!1){return l.forEach(f=>{this.hasCultureValue(f.cultureName)&&t||this.setValueLocalizableString(f.cultureName,f.value)}),this}clone(){return new p(this)}}},22149:(P,j,o)=>{o.d(j,{L:()=>p,c:()=>g});var p;(function(l){l.string="Strings",l.image="Images"})(p||(p={}));const g="Resources"},25409:(P,j,o)=>{o.d(j,{L:()=>p});var p;(function(g){g[g.EntitySchema=3]="EntitySchema",g[g.ClientUnitSchema=4]="ClientUnitSchema"})(p||(p={}))},37962:(P,j,o)=>{o.d(j,{o:()=>f});var p=o(23493),g=o.n(p),l=o(59131),t=o.n(l);class f{transform(y){return(0,p.decode)(y)}static{this.\u0275fac=function(w){return new(w||f)}}static{this.\u0275pipe=l.\u0275\u0275definePipe({name:"decodeHtml",type:f,pure:!0,standalone:!0})}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac,providedIn:"root"})}}},13443:(P,j,o)=>{o.d(j,{x:()=>f});var p=o(62278),g=o.n(p),l=o(36486),t=o.n(l);class f{processResponse(y,w){return y.skipUnsuccessfulResponse||(w=w.pipe((0,l.tap)(m=>this.processUnsuccessfulResponse(m)))),w}processUnsuccessfulResponse(y){const{success:w,errorInfo:m}=y||{};!w&&m&&this.processErrorMessage(m.message)}handleRequest(y,w={}){let m=y;return m=this.processResponse(w,m),m.pipe((0,l.catchError)(h=>{let _;return h instanceof Error?_=h.message:(typeof h.error?.errorInfo=="object"&&(_=h.error.errorInfo.message),typeof h.error=="string"&&(_=h.error)),_||(_=JSON.stringify(h.message)),this.processErrorMessage(_),(0,p.throwError)(()=>new Error(_))}))}}},22457:(P,j,o)=>{o.d(j,{D:()=>p});class p{}},11802:(P,j,o)=>{o.d(j,{S:()=>t});var p=o(59131),g=o.n(p),l=o(3672);class t{createObserver(y,w,m){return new f(y,w,m)}static{this.\u0275fac=function(w){return new(w||t)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}class f{constructor(y,w,m){if(this._bottomBuffer=100,this._lastScrollMaxPosition=0,this._emitter=new p.EventEmitter,l.z.checkArgumentEmpty("element",y),this._element=y,this._subscribeOnScroll(),m){if(m<=0)throw new Error(`Value of 'bottomBuffer' paramter must be positive, but actual value is ${m}.`);this._bottomBuffer=m}w&&this.subscribe(w)}_isWindowObserved(y){return!(this._element instanceof HTMLElement)}_scrolledToBottom(){const y=this._element,w=this._isWindowObserved(y)?y.document.documentElement.scrollTop:y.scrollTop,m=this._isWindowObserved(y)?y.document.body.scrollHeight:y.scrollHeight,h=this._isWindowObserved(y)?y.innerHeight:y.offsetHeight;if(!m||!h)return!1;const _=m-h-this._bottomBuffer;return this._lastScrollMaxPosition=w>this._lastScrollMaxPosition?w:this._lastScrollMaxPosition,this._lastScrollMaxPosition===w&&w>=_}_processScroll(){this._scrolledToBottom()&&this._emitter.emit()}_subscribeOnScroll(){this._eventListener=this._processScroll.bind(this),this._element.addEventListener("scroll",this._eventListener)}subscribe(y){this._emitter.subscribe(y)}resetScrollMaxPosition(){this._lastScrollMaxPosition=0}destroy(){this._element.removeEventListener("scroll",this._eventListener),this._element=null,this._emitter.unsubscribe()}}},59888:(P,j,o)=>{o.d(j,{my:()=>I});var p=o(5960),g=o(63721),l=o(59131),t=o(22524),f=o(62278),E=o(36486),y=o(92141),w=o(93248),m;(function(A){A.Production="production",A.PreProduction="pre-production",A.Development="development"})(m||(m={}));var h=o(49820);const _=y.z.create({serviceUrl:"",clientConnectionClassName:""}),x={provide:y.z,useFactory:()=>_};let I=class Y0{constructor(F,z){this._httpClient=F,this._cacheManager=z,this._serviceEndpoint="ServiceModel/ApplicationInfoService.svc/"}_initApplicationInfo(){const F=this._serviceEndpoint+"GetApplicationInfo";this._applicationInfoObservable$=this._cacheManager.executeWithCache(w.HO,w.oy,this._httpClient.post(F,null)).pipe((0,E.map)(z=>{const N=z?.applicationInfo,T=y.z.create(N);return Object.assign(_,T),z}),(0,E.shareReplay)({bufferSize:1,refCount:!1})),this._applicationInfoObservable$.subscribe()}loadApplicationInfo(){return this._applicationInfoObservable$||this._initApplicationInfo(),this._applicationInfoObservable$}loadSysValues(){return this.loadApplicationInfo().pipe((0,E.map)(F=>F?.applicationInfo?.sysValues))}getCoreVersion(){return this._coreVersion?(0,f.of)(this._coreVersion):this.loadSysValues().pipe((0,f.tap)(F=>this._coreVersion=F?.coreVersion),(0,E.map)(()=>this._coreVersion))}getIsProductionEnvironment(){return(this._environmentType?(0,f.of)(this._environmentType):this.loadSysValues().pipe((0,f.tap)(z=>this._environmentType=z?.environmentType),(0,E.map)(()=>this._environmentType))).pipe((0,E.map)(z=>z===m.Production))}static{this.\u0275fac=function(z){return new(z||Y0)(l.\u0275\u0275inject(g.HttpClient),l.\u0275\u0275inject(h.G))}}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:Y0,factory:Y0.\u0275fac,providedIn:"root"})}};I=(0,p.__decorate)([(0,t.op)({requestType:"crt.SysValuesService"}),(0,p.__metadata)("design:paramtypes",[g.HttpClient,h.G])],I);const k={provide:l.APP_INITIALIZER,useFactory:A=>()=>A.loadApplicationInfo(),deps:[I],multi:!0}},92141:(P,j,o)=>{o.d(j,{z:()=>l});var p=o(59131),g=o.n(p);class l{static create(f){const E=new l;return Object.assign(E,f),E}get isDebugEnabled(){return!!window.Terrasoft?.isDebug}static{this.\u0275fac=function(E){return new(E||l)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}},81127:(P,j,o)=>{o.d(j,{P:()=>g});var p=o(86464);class g{get isLookupType(){return this.dataValueType?this.dataValueType===p.r.Lookup:!1}constructor(t){t&&(this.uId=t.uId,this.name=t.name,this.caption=t.caption,this.columnCaptionPath=t.columnCaptionPath,this.dataValueType=t.dataValueType,this.usageType=t.usageType,this.referenceSchemaUId=t.referenceSchemaUId,this.referenceSchemaName=t.referenceSchemaName,this.isRequired=t.isRequired,this.isValueCloneable=t.isValueCloneable,this.isMasked=t.isMasked,this.isFormatValidated=t.isFormatValidated,this.isSensitiveData=t.isSensitiveData,this.isValueMasked=t.isValueMasked,this.valueMaskingSettings=t.valueMaskingSettings,this.defaultValueSchema=t.defaultValueSchema,this.lookupMode=t.lookupMode)}}},94503:(P,j,o)=>{o.d(j,{t:()=>g});class p{constructor(t){t&&(this.uId=t.uId,this.name=t.name,this.caption=t.caption,this.extendParent=t.extendParent,this.packageUId=t.packageUId)}}class g extends p{getPrimaryColumn(){return this.primaryColumnUId&&this.columns?.find(t=>t.uId===this.primaryColumnUId)}getPrimaryDisplayColumn(){return this.primaryDisplayColumnUId&&this.columns?.find(t=>t.uId===this.primaryDisplayColumnUId)}getPrimaryColorColumn(){return this.primaryColorColumnUId&&this.columns?.find(t=>t.uId===this.primaryColorColumnUId)}getHierarchyColumn(){return this.hierarchyColumnUId&&this.columns?.find(t=>t.uId===this.hierarchyColumnUId)}getCreatedOnColumn(){return this.createdOnColumnUId&&this.columns?.find(t=>t.uId===this.createdOnColumnUId)}getCreatedByColumn(){return this.createdByColumnUId&&this.columns?.find(t=>t.uId===this.createdByColumnUId)}getModifiedOnColumn(){return this.modifiedOnColumnUId&&this.columns?.find(t=>t.uId===this.modifiedOnColumnUId)}getModifiedByColumn(){return this.modifiedByColumnUId&&this.columns?.find(t=>t.uId===this.modifiedByColumnUId)}}},70027:(P,j,o)=>{o.d(j,{e:()=>ct});var p=o(63721),g=o(56558),l=o(62278),t=o(36486),f=o(81127),E=o(94503),y=o(61843),w=o(59131),m=o(23092),h=o(73308),_=o(26594),x=o(86464),I=o(22524),k=o(28399),A=o(13148),F=o(47149);class z{static _getDefaultValue(Q){if(!Q)return null;if(Q.source===A.b.Sequence)return{valueSourceType:A.b.Sequence,value:"Sequence",sequencePrefix:Q.sequencePrefix,sequenceNumberOfChars:Q.sequenceNumberOfChars};if(Q.source===A.b.Const){const q=Q.value,lt=typeof q=="string"?q:q.value;return{valueSourceType:A.b.Const,value:lt,valueSource:lt,sequenceNumberOfChars:0}}return Q.source===A.b.Settings?{valueSourceType:A.b.Settings,value:Q.calculatedValue,valueSource:Q.value,sequenceNumberOfChars:0}:Q.source===A.b.SystemValue?{valueSourceType:A.b.SystemValue,value:Q.calculatedValue,valueSource:Q.sourceValue,sequenceNumberOfChars:0}:{valueSourceType:Q.source,value:null,sequenceNumberOfChars:0}}static _getPrimaryDisplayColorColumnUId(Q){if(!Q.primaryColorColumnName)return null;const q=Object.values(Q.columns).find(lt=>lt.name===Q.primaryColorColumnName);if(!q)throw new Error(`Primary color column set in object ${Q.name} but column ${Q.primaryColorColumnName} does not exist`);return q?.uId}static map(Q,q){const lt={};return Object.entries(Q.columns).forEach(([,c])=>{const Tt=c,Nt=Tt.dataValueTypeName==="Binary"?"Blob":Tt.dataValueTypeName,wt=Object.entries(F.Q).find(([,Rt])=>Rt.name===Nt),Et=wt?Number(wt[0]):Tt.dataValueType,vt=this._getDefaultValue(Tt.defaultValue);lt[Tt.uId]={uId:Tt.uId,name:Tt.name,caption:{[q]:Tt.caption},dataValueType:Et,isInherited:!!Tt.isInherited,isRequired:!!Tt.isRequired,isValueCloneable:!!Tt.isValueCloneable,usageType:Tt.usageType,referenceSchemaName:Tt.referenceSchemaName,isMasked:!!Tt.isMasked,isFormatValidated:!!Tt.isFormatValidated,isSimpleLookup:!!Tt.isSimpleLookup,isSensitiveData:!!Tt.isSensitiveData,isValueMasked:!!Tt.isValueMasked,valueMaskingSettings:Tt.valueMaskingSettings,defValue:vt}}),{administratedByOperations:Q.administratedByOperations,administratedByRecords:Q.administratedByRecords,useMasterRecordRights:Q.useMasterRecordRights,masterRecordSchemaName:Q.masterRecordSchemaName,primaryColumnUId:Q.primaryColumn?.uId,primaryDisplayColumnUId:Q.primaryDisplayColumn?.uId,primaryColorColumnUId:this._getPrimaryDisplayColorColumnUId(Q),hierarchyColumnUId:Q.hierarchyColumnUId,createdOnColumnUId:Q.createdOnColumnUId,createdByColumnUId:Q.createdByColumnUId,modifiedOnColumnUId:Q.modifiedOnColumnUId,modifiedByColumnUId:Q.modifiedByColumnUId,uId:Q.uId,name:Q.name,caption:{[q]:Q.caption},columns:{Items:lt},isVirtual:!!Q.isVirtual,isDBView:!!Q.isDBView,administratedByColumns:!!Q.administratedByColumns,description:{[q]:Q.description},parentUId:Q.parentUId,isTrackChangesInDB:!!Q.isTrackChangesInDB,extendParent:!!Q.extendParent}}}const N="runtime-entity-schema";var T=o(25409),L=o(41483),U=o(67847),B=o(5960);let tt=class{constructor(Q){this._window=Q}_getItems(Q,q=[]){var lt=this;let c=[];const Tt=[...q];return new Promise(Nt=>{this._window.require(Q,(0,h.A)(function*(...wt){c=yield Promise.all(wt.map(Et=>lt.map(Et))),Nt({schemes:c,notFoundSchemes:Tt})}),wt=>{const Et=wt.requireModules??[];Tt.push(...Et),Q=Q.filter(vt=>!Et.includes(vt)),Q.length===0&&Nt({schemes:c,notFoundSchemes:Tt}),Nt(this._getItems(Q,Tt))})})}map(Q){return Promise.resolve(Q)}get(Q){var q=this;return new Promise(lt=>{this._window.require([Q],function(){var c=(0,h.A)(function*(Tt){const Nt=yield q.map(Tt);lt(Nt)});return function(Tt){return c.apply(this,arguments)}}(),()=>{lt(null)})})}getItems(Q){return this._getItems(Q,[])}};tt=(0,B.__decorate)([(0,B.__param)(0,(0,w.Inject)(I.ZP)),(0,B.__metadata)("design:paramtypes",[Object])],tt);class Z{constructor(Q,q){this._userInfo=Q,this._httpClient=q}_getServiceUrlSspPart(){return this._userInfo.isSSP?"ssp/":""}_getDataServiceUrlWithSspPart(){return`DataService/${this._getServiceUrlSspPart()}`}getSchemaDesignerServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/SchemaDesignerRequest"}getRuntimeEntitySchemaServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/RuntimeEntitySchemaRequest"}getEntitySchemaServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/EntitySchemaRequest"}getRuntimeEntitySchemeServiceEndpoint(){return this._getDataServiceUrlWithSspPart()+"json/SyncReply/RuntimeEntitySchemesRequest"}getEntity(Q){return(0,l.lastValueFrom)(this._httpClient.post(this.getRuntimeEntitySchemaServiceEndpoint(),{name:Q}))}getEntities(Q){return(0,l.lastValueFrom)(this._httpClient.post(this.getRuntimeEntitySchemeServiceEndpoint(),Q))}static{this.\u0275fac=function(q){return new(q||Z)(w.\u0275\u0275inject(m.oq),w.\u0275\u0275inject(p.HttpClient))}}static{this.\u0275prov=w.\u0275\u0275defineInjectable({token:Z,factory:Z.\u0275fac,providedIn:"root"})}}var G=o(49820),Y=o(70372);const O=["SysSettings"];class st extends tt{constructor(Q,q,lt,c,Tt,Nt){super(Q),this._featureValues=q,this._userInfo=lt,this._entityHttpService=c,this._cacheManager=Tt,this._schemaChangeListener=Nt,this._destroyed$=new l.Subject,this._schemaChangeListener.schemaChanged$.pipe((0,t.filter)(wt=>wt.schemaType===T.L.EntitySchema),(0,t.switchMap)(wt=>(0,l.from)(this._clearSchemaCacheByName(wt.name))),(0,t.takeUntil)(this._destroyed$)).subscribe()}get _entitySchemaCache(){return this._cacheManager.getOrCreate({name:N,type:L.P.Memory})}_clearSchemaCacheByName(Q){var q=this;return(0,h.A)(function*(){q._featureValues.DisableRuntimeEntitySchemaCaching||(yield(yield q._entitySchemaCache).delete(Q))})()}_getLookupEntities(Q){const q=Q.flatMap(c=>Object.values(c.columns.Items).filter(Tt=>Tt.dataValueType===x.r.Lookup&&Tt.referenceSchemaName&&!Q.find(Nt=>Nt.name===Tt.referenceSchemaName)).map(Tt=>Tt.referenceSchemaName)),lt=[...new Set(q)];return this.getItems(lt)}_getReferenceEntityNameFromBackReferencePath(Q){return U.h.getPathItemInfo(Q).referenceSchemaName}_getReferenceSchemaName(Q,q){const lt=this._getReferenceEntityNameFromBackReferencePath(Q);let c;if(lt)c=lt;else{const Tt=Object.entries(q.columns.Items).find(([,wt])=>wt.name===Q);if(!Tt)throw new Error(`Can't find column '${Q}' in EntitySchema '${q.name}'`);const[,Nt]=Tt;c=Nt.referenceSchemaName}return c}_loadSchemasByPath(Q,q,lt){var c=this;return(0,h.A)(function*(){const Tt=lt.find(xe=>xe.name===Q);if(!Tt)return{schemas:[],notFoundSchemas:[Q]};const Nt=[...q],wt=Nt.shift(),Et=c._getReferenceSchemaName(wt,Tt);if(!Et)return{schemas:[],notFoundSchemas:[]};let vt=lt.find(xe=>xe.name===Et);if(!vt)try{if(vt=yield c.get(Et),vt)lt.push(vt);else return{schemas:[],notFoundSchemas:[Et]}}catch{return{schemas:[],notFoundSchemas:[Et]}}const Rt=Nt.length?yield c._loadSchemasByPath(vt.name,Nt,lt):{schemas:[],notFoundSchemas:[]};return{schemas:[vt,...Rt.schemas],notFoundSchemas:Rt.notFoundSchemas}})()}_getForwardReferenceSchemas(Q,q){var lt=this;return(0,h.A)(function*(){const c=yield Promise.all(Q.filter(Tt=>Tt.forwardReferencePaths).flatMap(Tt=>Tt.forwardReferencePaths.flatMap(Nt=>lt._loadSchemasByPath(Tt.name,Nt.split("."),q))));return{schemes:c.flatMap(Tt=>Tt.schemas),notFoundSchemes:c.flatMap(Tt=>Tt.notFoundSchemas)}})()}_getEntitiesToLoadLookups(Q,q){return q.schemes.filter(lt=>Q.requests.find(c=>c.loadLookupColumns===!0&&c.name===lt.name))}map(Q){return Promise.resolve(z.map(Q,this._userInfo.cultureInfo.sysCultureName))}get(Q){var q=()=>super.get,lt=this;return(0,h.A)(function*(){let c;if(!lt._featureValues.DisableRuntimeEntitySchemaCaching){const Nt=yield(yield lt._entitySchemaCache).get(Q);if(Nt)return Nt}return O.includes(Q)?c=(yield lt._entityHttpService.getEntity(Q)).schema:c=yield q().call(lt,Q),lt._featureValues.DisableRuntimeEntitySchemaCaching||(yield(yield lt._entitySchemaCache).set(Q,c)),c})()}getItems(Q){var q=()=>super.getItems,lt=this;return(0,h.A)(function*(){const c=[...new Set(Q)];let Tt=c,Nt=[];if(!lt._featureValues.DisableRuntimeEntitySchemaCaching){const le=yield lt._entitySchemaCache;Nt=(yield Promise.all(c.map(_t=>le.get(_t)))).filter(_t=>!!_t);const Be=Nt.map(_t=>_t.name);if(Tt=c.filter(_t=>!Be.includes(_t)),Tt.length===0)return{schemes:[...Nt],notFoundSchemes:[]}}const wt=Tt.filter(le=>O.includes(le)),Et=Tt.filter(le=>!O.includes(le));let vt={success:!0,schemes:[],notFoundSchemes:[]};if(wt.length!==0){const le={requests:wt.map(Ve=>({name:Ve,loadLookupColumns:!1}))};vt=yield lt._entityHttpService.getEntities(le)}const Rt=yield q().call(lt,Et),xe=[...Rt.schemes,...vt.schemes];return lt._featureValues.DisableRuntimeEntitySchemaCaching||(yield(yield lt._entitySchemaCache).bulkSet((0,k.uniqBy)(xe,"name").map(Ve=>({key:Ve.name,value:Ve})))),{schemes:[...xe,...Nt],notFoundSchemes:[...Rt.notFoundSchemes,...vt.notFoundSchemes]}})()}getEntity(Q){var q=this;return(0,h.A)(function*(){const lt=yield q.get(Q);return{success:!!lt,schema:lt}})()}getEntities(Q){var q=this;return(0,h.A)(function*(){const lt=Q.requests.map(Et=>Et.name),c=yield q.getItems(lt),Tt=q._getEntitiesToLoadLookups(Q,c),Nt=yield q._getLookupEntities(Tt),wt=yield q._getForwardReferenceSchemas(Q.requests,[...c.schemes,...Nt.schemes]);return{success:!0,schemes:[...c.schemes,...Nt.schemes,...wt.schemes],notFoundSchemes:[...c.notFoundSchemes,...Nt.notFoundSchemes,...wt.notFoundSchemes]}})()}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(q){return new(q||st)(w.\u0275\u0275inject(I.ZP),w.\u0275\u0275inject(_.G),w.\u0275\u0275inject(m.oq),w.\u0275\u0275inject(Z),w.\u0275\u0275inject(G.G),w.\u0275\u0275inject(Y.l2))}}static{this.\u0275prov=w.\u0275\u0275defineInjectable({token:st,factory:st.\u0275fac,providedIn:"root"})}}class gt{constructor(Q,q,lt,c){this.httpClient=Q,this._entityRequire=q,this._entityHttp=lt,this._featureValues=c}_useRequire(){return this._featureValues?.UseRequireEntitySchema8x??!1}getEntity(Q){var q=this;return(0,h.A)(function*(){return q._useRequire()?q._entityRequire.getEntity(Q):q._entityHttp.getEntity(Q)})()}getEntities(Q){var q=this;return(0,h.A)(function*(){return q._useRequire()?q._entityRequire.getEntities(Q):q._entityHttp.getEntities(Q)})()}static{this.\u0275fac=function(q){return new(q||gt)(w.\u0275\u0275inject(p.HttpClient),w.\u0275\u0275inject(st),w.\u0275\u0275inject(Z),w.\u0275\u0275inject(_.G,8))}}static{this.\u0275prov=w.\u0275\u0275defineInjectable({token:gt,factory:gt.\u0275fac,providedIn:"root"})}}class ct{constructor(Q,q,lt,c){this.httpClient=Q,this._userInfo=q,this._schemaLoader=lt,this._entityHttp=c,this._entitySchemaServiceRequests=new Map,this._destroyed$=new l.Subject}_convertToEntitySchema(Q){const q=new E.t;return q.uId=Q.uId,q.name=Q.name,q.caption=this._getCaptionElement(Q),q.extendParent=Q.extendParent,q.packageUId=Q.packageUId,q.administratedByColumns=Q.administratedByColumns,q.administratedByOperations=Q.administratedByOperations,q.administratedByRecords=Q.administratedByRecords,q.description=Q.description,q.isDBView=Q.isDBView,q.isTrackChangesInDB=Q.isTrackChangesInDB,q.isVirtual=Q.isVirtual,q.masterRecordSchemaName=Q.masterRecordSchemaName,q.primaryColumnUId=Q.primaryColumnUId,q.primaryDisplayColumnUId=Q.primaryDisplayColumnUId,q.primaryColorColumnUId=Q.primaryColorColumnUId,q.hierarchyColumnUId=Q.hierarchyColumnUId,q.createdOnColumnUId=Q.createdOnColumnUId,q.createdByColumnUId=Q.createdByColumnUId,q.modifiedOnColumnUId=Q.modifiedOnColumnUId,q.modifiedByColumnUId=Q.modifiedByColumnUId,q.useMasterRecordRights=Q.useMasterRecordRights,q.parentUId=Q.parentUId,q.columns=Object.values(Q.columns.Items).map(lt=>{const c=new f.P;return c.uId=lt.uId,c.name=lt.name,c.caption=this._getCaptionElement(lt),c.dataValueType=lt.dataValueType,c.usageType=lt.usageType,c.referenceSchemaUId=lt.referenceSchemaUId,c.referenceSchemaName=lt.referenceSchemaName,c.isRequired=lt.isRequired,c.isValueCloneable=lt.isValueCloneable,c.isMasked=lt.isMasked,c.isFormatValidated=lt.isFormatValidated,c.isSensitiveData=lt.isSensitiveData,c.isValueMasked=lt.isValueMasked,c.valueMaskingSettings=lt.valueMaskingSettings,c.defaultValueSchema=lt.defValue,c.lookupMode=lt.isSimpleLookup?g.q.List:g.q.SelectionWindow,c}),q}_getCaptionElement(Q){return Q.caption[this._userInfo.cultureInfo.sysCultureName]||Q.caption[y.dJ]}_createEntitySchemaColumnFromInformationObject(Q){const q=new f.P;return q.uId=Q.columnUId,q.name=Q.columnName,q.caption=Q.columnCaption,q.dataValueType=Q.columnDataValueType,q.usageType=Q.columnUsageType,q.referenceSchemaUId=Q.referenceSchemaUId,q.referenceSchemaName=Q.referenceSchemaName,q.columnCaptionPath=Q.columnCaptionPath,q}_getEntitySchemaFromEndpoint(Q,q){return this.httpClient.post(Q,q).pipe((0,t.mergeMap)(lt=>lt.schema?(0,l.of)({success:!0,entitySchema:this._convertToEntitySchema(lt.schema)}):(0,l.throwError)({success:!1,entitySchema:null,errorInfo:lt.errorInfo})))}_getEntitySchemaColumnByPath(Q,q,lt="."){const c=`${Q}_${lt}_${q}`;if(this._entitySchemaServiceRequests.has(c))return this._entitySchemaServiceRequests.get(c);const Tt=this.httpClient.post(this._entityHttp.getSchemaDesignerServiceEndpoint(),{getSchemaColumnInformation:{entitySchemaUId:Q,schemaColumnPath:q,schemaColumnCaptionPathDelimiter:lt}}).pipe((0,t.tap)(({success:Nt})=>{if(!Nt)throw new Error("SchemaDesignerService request has failed")}),(0,t.map)(({getSchemaColumnInformationResponse:Nt})=>this._createEntitySchemaColumnFromInformationObject(Nt)),(0,t.tap)(()=>this._entitySchemaServiceRequests.delete(c)),(0,t.share)());return this._entitySchemaServiceRequests.set(c,Tt),Tt}_combineEntitySchemaColumnInformationRequestsWithPaths(Q,q){return q.reduce((lt,c)=>({...lt,[c]:this._getEntitySchemaColumnByPath(Q,c)}),{})}getEntitySchemaByUId(Q,q){const lt=`${Q}_${q}`;if(this._entitySchemaServiceRequests.has(lt))return this._entitySchemaServiceRequests.get(lt);const c=q?this._entityHttp.getEntitySchemaServiceEndpoint():this._entityHttp.getRuntimeEntitySchemaServiceEndpoint(),Tt={uId:Q};q&&(Tt.packageUId=q);const Nt=this._getEntitySchemaFromEndpoint(c,Tt).pipe((0,t.tap)(()=>this._entitySchemaServiceRequests.delete(lt)),(0,t.share)());return this._entitySchemaServiceRequests.set(lt,Nt),Nt}getEntitySchemaByName(Q){if(this._entitySchemaServiceRequests.has(Q))return this._entitySchemaServiceRequests.get(Q);const q=(0,l.from)(this._schemaLoader.getEntity(Q)).pipe((0,t.map)(lt=>({success:lt.success,entitySchema:lt.schema?this._convertToEntitySchema(lt.schema):null,errorInfo:lt.errorInfo})),(0,t.tap)(()=>this._entitySchemaServiceRequests.delete(Q)),(0,t.share)(),(0,t.catchError)(lt=>(this._entitySchemaServiceRequests.delete(Q),(0,l.throwError)(()=>lt))));return this._entitySchemaServiceRequests.set(Q,q),q}getEntitySchemes(Q){const q=JSON.stringify(Q);if(this._entitySchemaServiceRequests.has(q))return this._entitySchemaServiceRequests.get(q);const lt=(0,l.from)(this._schemaLoader.getEntities(Q)).pipe((0,t.map)(c=>({success:c.success,schemes:c.schemes.map(Tt=>this._convertToEntitySchema(Tt)),notFoundSchemes:c.notFoundSchemes})),(0,t.tap)(()=>this._entitySchemaServiceRequests.delete(q)),(0,t.share)(),(0,t.catchError)(c=>(0,l.throwError)(()=>c)));return this._entitySchemaServiceRequests.set(q,lt),lt}getEntitySchemaColumnsInformationByMetaPath(Q,q){const lt={getSchemaColumnsInformation:{entitySchemaUId:Q,schemaColumnMetaPaths:q}};return this.httpClient.post(this._entityHttp.getSchemaDesignerServiceEndpoint(),lt).pipe((0,t.tap)(({success:c})=>{if(!c)throw new Error("SchemaDesignerService request is failed")}),(0,t.map)(({getSchemaColumnsInformationResponse:c})=>c.map(Tt=>({column:this._createEntitySchemaColumnFromInformationObject(Tt),columnMetaPath:Tt.columnMetaPath,columnPath:Tt.columnPath,columnCaptionPath:Tt.columnCaptionPath}))))}getEntitySchemaColumnsInformationByPath(Q,q,lt){return this._getEntitySchemaColumnByPath(Q,q,lt)}getEntitySchemaColumnsInformationByPathsArray(Q,q){return(0,l.forkJoin)(this._combineEntitySchemaColumnInformationRequestsWithPaths(Q,q))}getColumnCaptionPathByMetaPath(Q){const q={getColumnCaptionPathByMetaPath:Q};return this.httpClient.post(this._entityHttp.getSchemaDesignerServiceEndpoint(),q).pipe((0,t.tap)(({success:lt})=>{if(!lt)throw new Error("SchemaDesignerService request is failed")}),(0,t.map)(({columnCaptionPath:lt})=>lt))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(q){return new(q||ct)(w.\u0275\u0275inject(p.HttpClient),w.\u0275\u0275inject(m.oq),w.\u0275\u0275inject(gt),w.\u0275\u0275inject(Z))}}static{this.\u0275prov=w.\u0275\u0275defineInjectable({token:ct,factory:ct.\u0275fac,providedIn:"root"})}}},26628:(P,j,o)=>{o.d(j,{k:()=>x});var p=o(63721),g=o.n(p),l=o(62278),t=o.n(l),f=o(36486),E=o.n(f),y=o(59131),w=o.n(y),m=o(55524),h=o(23092);class _{encodeKey(k){return encodeURIComponent(k)}encodeValue(k){return encodeURIComponent(k)}decodeKey(k){return decodeURIComponent(k)}decodeValue(k){return decodeURIComponent(k)}}class x{constructor(k,A,F){this.http=k,this._fileDownloadService=A,this._userInfo=F,this._baseEndpoint="rest/FileApiService/",this._uploadFileMethodName="UploadFile",this._uploadAndAttachMethodName="UploadAndAttachFile",this._getFileSchemasMethodName="GetAllFileSchemas",this._chunkSize=5e5}_getEndpoint(k){return(this._userInfo.isSSP?"ssp/":"")+`${this._baseEndpoint}${k}`}_prepareError(k,A){const F={...k,file:A.file};return(0,l.throwError)(()=>F)}_sendWithChunks(k,A,F,z=this._chunkSize){const N=new Uint8Array(k.content),T=new Array;for(let U=0;U<N.length;U+=z){const B=Math.min(U+z,N.length),tt=new Blob([N.subarray(U,B)]),Z={start:U,end:B,content:tt};T.push(Z)}let L=0;return(0,l.from)(T).pipe((0,f.concatMap)(U=>(L++,k.progress=Math.floor(L/T.length*100),this.http.post(F,U.content,{headers:new p.HttpHeaders({"Content-Range":`bytes ${U.start}-${U.end-1}/${k.file.size}`,"Content-Type":k.file.type,"Content-Disposition":`attachment; filename=${encodeURIComponent(k.file.name)}`}),params:A}).pipe((0,f.retry)(2),(0,f.switchMap)(B=>!B||!B.success?(0,l.throwError)(()=>B.errorInfo):(0,l.of)(B)),(0,f.catchError)(B=>this._prepareError(B,k))))),(0,f.toArray)())}upload(k){let A=new p.HttpParams({encoder:new _}).set("fileId",k.id).set("totalFileLength",k.file.size).set("mimeType",k.file.type).set("fileName",k.file.name).set("columnName","Data").set("entitySchemaName",k.fileEntitySchemaName).set("parentColumnName",k.recordColumnName).set("parentColumnValue",k.recordId);const F={...k.fileGroup&&{FileGroupId:k.fileGroup},...k.tag&&{Tag:k.tag},...k.recordEntitySchemaName&&{RecordSchemaName:k.recordEntitySchemaName}};Object.keys(F).length&&(A=A.append("AdditionalParams",JSON.stringify(F)));const z=this._getEndpoint(this._uploadFileMethodName);return this._sendWithChunks(k,A,z)}uploadAsColumn(k){const A=new p.HttpParams({encoder:new _}).set("fileId",k.id).set("totalFileLength",k.file.size).set("mimeType",k.file.type).set("columnName","Data").set("fileName",k.file.name).set("entitySchemaName",k.fileEntitySchemaName),F=this._getEndpoint(this._uploadFileMethodName);return this._sendWithChunks(k,A,F)}uploadAndAttach(k){const A=new p.HttpParams({encoder:new _}).set("fileId",k.id).set("totalFileLength",k.file.size).set("mimeType",k.file.type).set("columnName","Data").set("fileName",k.file.name).set("parentEntitySchemaName",k.recordEntitySchemaName).set("entitySchemaName",k.fileEntitySchemaName).set("parentColumnValue",k.recordId),F=this._getEndpoint(this._uploadAndAttachMethodName);return this._sendWithChunks(k,A,F)}uploadToCustomEndpoint(k,A,F){const z=new p.HttpParams({encoder:new _}).set("totalFileLength",k.file.size).set("mimeType",k.file.type).set("fileName",k.file.name);return this._sendWithChunks(k,z,A,F)}download(k,A){this._fileDownloadService.downloadFromUrl(k,A)}getAllFileSchemas(){const k=this._getEndpoint(this._getFileSchemasMethodName);return this.http.get(k)}static{this.\u0275fac=function(A){return new(A||x)(y.\u0275\u0275inject(p.HttpClient),y.\u0275\u0275inject(m.D),y.\u0275\u0275inject(h.oq))}}static{this.\u0275prov=y.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac})}}},55524:(P,j,o)=>{o.d(j,{D:()=>f});var p=o(40297),g=o.n(p),l=o(59131),t=o.n(l);class f{constructor(y){this._document=y}_getDownloadFileUrl(y){const w=new Blob([y],{type:"octet/stream"});return window.URL.createObjectURL(w)}_getDownloadFileName(y){const w=y.headers.get("Content-Disposition");return w?w.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/)[1]:null}download(y,w){const m=this._getDownloadFileUrl(y);this.downloadFromUrl(m,w)}downloadFromResponse(y,w){w=w||this._getDownloadFileName(y),this.download(y.body,w)}downloadFromUrl(y,w){const m=this._document,h=m.createElement("a");h.href=y,h.download=w,m.body.appendChild(h),h.click(),m.body.removeChild(h)}static{this.\u0275fac=function(w){return new(w||f)(l.\u0275\u0275inject(p.DOCUMENT))}}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}}},78809:(P,j,o)=>{o.d(j,{J:()=>y});var p=o(6813),g=o(95639);const l="InterfaceDesignerItemRegistry";class t extends p.o{static get _interfaceDesignerItemRegistrationInfos(){return this.store.typeInfos}static validate(m){(0,g.zo)(m.type,"InterfaceDesignerItemTypeName"),(0,g.jL)(m.type),(0,g.wo)(m.type,m,this._interfaceDesignerItemRegistrationInfos)}static register(m,h){if(typeof m=="string"&&h)this._interfaceDesignerItemRegistrationInfos.set(m,h);else if(typeof m!="string")this._interfaceDesignerItemRegistrationInfos.set(m.type,m);else throw new Error("Invalid arguments provided to register method.")}static get(m){return this._interfaceDesignerItemRegistrationInfos.get(m)}static has(m){return this._interfaceDesignerItemRegistrationInfos.has(m)}static getAll(){return this._interfaceDesignerItemRegistrationInfos}static values(){return[...this._interfaceDesignerItemRegistrationInfos.values()]}static clear(){this._interfaceDesignerItemRegistrationInfos.clear()}}class f extends t{static{this.registryKey=l}}var E=o(59131);class y{constructor(){this.registry=f}get(m){return this.registry.get(m)}register(m,h){this.registry.register(m,h)}getAll(){return this.registry.getAll()}has(m){return this.registry.has(m)}values(){return this.registry.values()}clear(){this.registry.clear()}static{this.\u0275fac=function(h){return new(h||y)}}static{this.\u0275prov=E.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac})}}},67020:(P,j,o)=>{o.d(j,{g:()=>m});var p=o(73308),g=o(62278),l=o.n(g),t=o(36486),f=o.n(t),E=o(26594),y=o(59131),w=o.n(y);class m{constructor(_){this._featureValues=_,this._consequentMeasureStartTimeCorrection=.001,this._lastNowStartTime=0,this.rendering$=new g.BehaviorSubject(null),this._useMeasurePerformanceTools=this._featureValues?.UseMeasurePerformanceTools}_getNowStartTimeWithCorrection(){const _=performance.now(),x=_<=this._lastNowStartTime?this._lastNowStartTime+this._consequentMeasureStartTimeCorrection:_;return this._lastNowStartTime=x,x}measure(_,x,I){if(!this._useMeasurePerformanceTools)return x();const k=I||this._getNowStartTimeWithCorrection(),A=x();return performance.measure(_,{start:k}),A}measureCallback(_,x){var I=this;return(0,p.A)(function*(){if(!I._useMeasurePerformanceTools)return x();const k=I._getNowStartTimeWithCorrection(),A=yield x();return performance.measure(_,{start:k}),A})()}measure$(_){if(!this._useMeasurePerformanceTools)return I=>I;let x;return I=>(0,g.of)(null).pipe((0,t.tap)(()=>x=this._getNowStartTimeWithCorrection()),(0,g.switchMap)(()=>I),(0,t.tap)(()=>{const k=typeof _=="string"?_:_();performance.measure(k,{start:x})}))}static{this.\u0275fac=function(x){return new(x||m)(y.\u0275\u0275inject(E.G,8))}}static{this.\u0275prov=y.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}},5240:(P,j,o)=>{o.d(j,{A:()=>st});var p=o(5960),g=o(59131),l=o(3672),t=o(28399);class f{get closed(){return this._closed}constructor(ct){this._initialTeardown=ct,this._closed=!1}unsubscribe(){this._closed||(this._closed=!0,(0,t.isFunction)(this._initialTeardown)&&this._initialTeardown())}}var E=o(82863),y=o(22524),w=o(52874),m=o(62278),h=o(36486);const _=new g.InjectionToken("MessageChannelAccessTokenFactory");var x=o(66736);class I{constructor(ct){this._zone=ct,this._message$=new m.Subject}init(ct,nt){return this._zone.runOutsideAngular(()=>{const Q=nt?{accessTokenFactory:nt,withCredentials:!0}:void 0;return this._connection=new x.HubConnectionBuilder().withUrl(ct,Q).withAutomaticReconnect().withHubProtocol(new x.JsonHubProtocol).build(),this._connection.on("ServerMessage",q=>this._zone.run(()=>this._message$.next(q))),(0,m.from)(this._connection.start())})}sendMessage(ct){return(0,m.from)(this._connection.send("SendMessage",ct))}getMessages(){return this._message$}ngOnDestroy(){this._connection.off("ServerMessage"),this._message$.complete(),this._connection.stop().then()}static{this.\u0275fac=function(nt){return new(nt||I)(g.\u0275\u0275inject(g.NgZone))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"})}}var k=o(73308),A=o(5766),F=o(6530);const z=1e3,N=3e4,T=1e4,L="ping",U="pong";class B{constructor(ct){this._ngZone=ct}_createHeartbeatRequestMessage(){return{Id:(0,F.qv)(),Header:{Sender:"ConsoleCommand",BodyTypeName:"System.String"},Body:L}}_isHeartbeatRequestMessage(ct){const nt=ct.Header?.Sender==="ConsoleCommand",Q=ct.Body===L;return nt&&Q}_isHeartbeatResponseMessage(ct){const nt=ct.Header?.Sender==="CommandService",Q=ct.Body===U;return nt&&Q}startHeartbeat(ct){this.stopHeartbeat(),this._ngZone.runOutsideAngular(()=>{console.log(`WS-Heartbeat: connection ping scheduled for every [${N/1e3}] sec`);const nt=(0,m.timer)(z,N).pipe((0,m.tap)(()=>{ct.next(this._createHeartbeatRequestMessage())}),(0,m.concatMap)(()=>(0,m.race)(ct.pipe((0,m.filter)(Q=>this._isHeartbeatResponseMessage(Q)),(0,m.take)(1),(0,m.map)(Q=>Q.Body)),(0,m.of)("timeout").pipe((0,m.delay)(T)))));this._subscription=nt.subscribe(Q=>{switch(Q){case U:console.log(`WS-Heartbeat: Server responded with: ${U}`);break;case"timeout":console.error(`WS-Heartbeat: Server failed to respond in ${T/1e3} seconds`);break}})})}stopHeartbeat(){this._subscription?.unsubscribe()}excludeHeartbeatResponses(){return(0,m.filter)(ct=>!this._isHeartbeatRequestMessage(ct)&&!this._isHeartbeatResponseMessage(ct))}ngOnDestroy(){this.stopHeartbeat()}static{this.\u0275fac=function(nt){return new(nt||B)(g.\u0275\u0275inject(g.NgZone))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"})}}const tt=[1,2e3,5e3,1e4,2e4,...Array(10).fill(3e4)],Z=tt.length;class G{constructor(ct){this._heartbeatService=ct,this._reconnectAttempts=0,this._webSocketCreated$=new m.ReplaySubject(1)}_maxReconnectAttemptsReached(){return this._reconnectAttempts>=Z}_resetReconnectAttempts(){this._reconnectAttempts=0}_getWebSocketUrl(){var ct=this;return(0,k.A)(function*(){const nt=yield ct._accessTokenFactory?.();return nt?`${ct._serverUrl}?access_token=${encodeURIComponent(nt)}`:ct._serverUrl})()}_scheduleReconnectionAttempt(ct){if(this._maxReconnectAttemptsReached()){console.error("WebSocket: Max reconnect attempts reached",ct);return}const nt=tt[this._reconnectAttempts];setTimeout(()=>{this._createAndConnectWebSocketAsync({reconnectOnAccessTokenFactoryError:!0}).catch(console.error),this._reconnectAttempts++},nt)}_handleWebSocketClosed(ct){this._heartbeatService.stopHeartbeat(),this._scheduleReconnectionAttempt(ct)}_createAndConnectWebSocketAsync(ct){var nt=this;return(0,k.A)(function*(){let Q;try{Q=yield nt._getWebSocketUrl()}catch(q){throw ct.reconnectOnAccessTokenFactoryError&&nt._scheduleReconnectionAttempt(q),q}return new Promise(q=>{nt._webSocket$=(0,A.webSocket)({url:Q,openObserver:{next:()=>{console.log(`Websocket channel opened for url: ${nt._serverUrl}`),nt._heartbeatService.startHeartbeat(nt._webSocket$),nt._resetReconnectAttempts(),q()}}}),nt._webSocketSubscription?.unsubscribe(),nt._webSocketSubscription=nt._webSocket$.subscribe({error:lt=>nt._handleWebSocketClosed(lt),complete:()=>nt._handleWebSocketClosed()}),nt._webSocketCreated$.next(nt._webSocket$)})})()}_subscribeToSocketMessages(ct,nt){return ct.pipe(this._heartbeatService.excludeHeartbeatResponses()).subscribe({next:Q=>nt.next(Q),error:()=>{this._maxReconnectAttemptsReached()&&nt.error(new Error("Max reconnect attempts reached"))}})}init(ct,nt){return this._serverUrl=ct,this._accessTokenFactory=nt,(0,m.from)(this._createAndConnectWebSocketAsync({reconnectOnAccessTokenFactoryError:!1}))}sendMessage(ct){return new m.Observable(nt=>{this._webSocket$.next(ct),nt.next(),nt.complete()})}getMessages(){return new m.Observable(ct=>{let nt;const Q=this._webSocketCreated$.subscribe(q=>{nt?.unsubscribe(),nt=this._subscribeToSocketMessages(q,ct)});return()=>{nt.unsubscribe(),Q.unsubscribe()}})}ngOnDestroy(){this._heartbeatService.stopHeartbeat(),this._webSocket$?.complete(),this._webSocketSubscription?.unsubscribe()}static{this.\u0275fac=function(nt){return new(nt||G)(g.\u0275\u0275inject(B))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:G,factory:G.\u0275fac,providedIn:"root"})}}var Y=o(92141),O=o(59888);let st=class J0{constructor(ct,nt,Q,q){this.injector=q,this._destroyed$=new m.Subject,this.init$=new m.ReplaySubject(1),this.messageEvent$=new m.Subject,!ct.clientConnectionClassName||ct.clientConnectionClassName===""?nt.loadApplicationInfo().subscribe(lt=>{this._initialize(lt.applicationInfo,Q)}):this._initialize(ct,Q)}_initialize(ct,nt){this.msgChannel=this._getChannel(ct.clientConnectionClassName),this._initChannel(ct.serviceUrl,nt)}_getChannel(ct){switch(ct){case"Terrasoft.WebSocketChannel":return this.injector.get(G);case"Terrasoft.SignalRChannel":return this.injector.get(I)}}_buildMessageEvent(ct){let nt;if(ct.Body&&typeof ct.Body=="string")try{nt=JSON.parse(ct.Body)}catch(Q){return(0,g.isDevMode)()&&console.warn(`MessageChannelService. Parse error: ${Q}`),null}else ct.Body&&typeof ct.Body=="object"&&(nt=ct.Body);return{header:{sender:ct?.Header?.Sender,bodyTypeName:ct?.Header?.BodyTypeName},body:nt,id:ct.Id}}_subscribeToMsgChannel(){this.msgChannel.getMessages().pipe((0,h.takeUntil)(this._destroyed$)).subscribe(ct=>{const nt=this._buildMessageEvent(ct);nt&&this.messageEvent$.next(nt)})}_initChannel(ct,nt){this.msgChannel.init(ct,nt).subscribe({complete:()=>{this.init$.next(this.msgChannel),this._subscribeToMsgChannel()}})}_sendMessageInternal(ct,nt,Q){const q={Id:w.Guid.create().toString(),Header:{Sender:ct,BodyTypeName:"System.String",ChannelType:nt},Body:JSON.stringify(Q)};return this.init$.pipe((0,m.take)(1),(0,h.switchMap)(()=>this.msgChannel.sendMessage(q)))}getMessages(ct){return l.z.checkArgumentEmpty("sender",ct),this.messageEvent$.pipe((0,h.filter)(nt=>nt.header.sender===ct))}subscribe(ct,nt){l.z.checkArgumentEmpty("sender",ct),l.z.checkArgumentEmpty("callback",nt);const Q=this.getMessages(ct).subscribe(nt);return Promise.resolve(new f(()=>Q.unsubscribe()))}sendMessage(ct,nt,Q){let q,lt;const c=!!Q;c?(q=ct,lt=nt,l.z.checkStringIsNotEmpty("sender",q),l.z.checkEnumOutOfRange("channelType",Q,E.G)):(lt=ct,q=nt,l.z.checkArgumentEmpty("channelType",q),l.z.checkEnumOutOfRange("channelType",q,E.G));const Tt=this._sendMessageInternal(q,Q,lt);return c?(0,m.firstValueFrom)(Tt):Tt}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this.init$.complete(),this.messageEvent$.complete()}static{this.\u0275fac=function(nt){return new(nt||J0)(g.\u0275\u0275inject(Y.z),g.\u0275\u0275inject(O.my),g.\u0275\u0275inject(_,8),g.\u0275\u0275inject(g.Injector))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:J0,factory:J0.\u0275fac,providedIn:"root"})}};st=(0,p.__decorate)([(0,y.op)({requestType:"crt.MessageChannelService"}),(0,p.__metadata)("design:paramtypes",[Y.z,O.my,Function,g.Injector])],st)},71430:(P,j,o)=>{o.d(j,{z:()=>t});var p=o(73308),g=o(59131),l=o.n(g);class t{constructor(){this._phoneUtil=null,this._phoneNumberType=null,this._phoneMaskOverrides=new Map([["id",["+{62} 000 000 000 000","+{62} 000 000 00"]]])}getAllPhoneMasks(E){let y=[];for(const m in this._phoneNumberType)if(isNaN(Number(m))){const h=this._phoneUtil.getExampleNumberForType(E,this._phoneNumberType[m]);if(!h)continue;const _=h.getCountryCode().toString(),x=this._phoneUtil.format(h,null),I=`+{${_.replace("0","\\0")}} ${x.replace(/-/g," ").replace(/\d/g,"0")}`;y.find(k=>k===I)||y.push(I)}const w=this._phoneMaskOverrides.get(E);return w&&(y.push(...w),y=Array.from(new Set(y))),y}initialize(){var E=this;return(0,p.A)(function*(){if(!(E._phoneUtil&&E._phoneNumberType))try{const y=yield o.e(1588).then(o.t.bind(o,1588,23));E._phoneUtil=y.PhoneNumberUtil.getInstance(),E._phoneNumberType=y.PhoneNumberType}catch(y){throw console.error("Error loading google-libphonenumber:",y),y}})()}isValidPhoneNumber(E){if(!this._phoneUtil)return!0;try{const y=this._phoneUtil.parse(E);return this._phoneUtil.isValidNumber(y)}catch{return!1}}static{this.\u0275fac=function(y){return new(y||t)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac,providedIn:"root"})}}},55585:(P,j,o)=>{o.d(j,{a:()=>t});var p=o(22524),g=o(59131),l=o.n(g);class t{constructor(E){this._window=E}get(){return this._window.requirejs}static{this.\u0275fac=function(y){return new(y||t)(g.\u0275\u0275inject(p.ZP))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac})}}},57852:(P,j,o)=>{o.d(j,{Q:()=>y});var p=o(73308),g=o(22149),l=o(50588),t=o(59131),f=o.n(t),E=o(23092);class y{constructor(m){this.userInfo=m,this._resourceMacrosRegExpPattern="(?<macrosBody>#ResourceString\\((?<macrosArgs>[^)]*)\\)#)",this._viewModelAttributeRegExpPattern=`\\$${g.c}.${g.L.string}.(?<macrosArgs>[\\S\\s]*)`,this._sysCultureName=this.userInfo.cultureInfo.sysCultureName,this._defCultureName=this.userInfo.defCultureInfo.sysCultureName}_getLczResource(m){const h={};return m.forEach(_=>h[_.cultureName]=_.value),h}_getResourceValueMatches(m){const h=new RegExp(this._resourceMacrosRegExpPattern,"g"),_=new RegExp(this._viewModelAttributeRegExpPattern,"g");let x=[...(m??"").matchAll(_)];return x.length||(x=[...(m??"").matchAll(h)]),x}_findStringPropertyResource(m,h){const{resourceName:_,useMacrosTemplate:x}=this.findResourcesName(m);if(_)return{path:h,resourceName:_,useMacrosTemplate:x}}_findArrayPropertyResources(m,h=""){return m.flatMap((_,x)=>this.findPropertyResources(_,h?`${h}.${x}`:`${x}`))}_findObjectPropertyResources(m,h=""){return Object.entries(m).flatMap(([_,x])=>this.findPropertyResources(x,h?`${h}.${_}`:_))}findLocalizableValue(m){if(typeof m=="string")return m;if(!m||typeof m!="object")return null;let h;return Array.isArray(m)?h=m?.filter(_=>_.value).reduce((_,x)=>Object.assign(_,{[x.cultureName]:x.value}),{}):h=m,(h[this._sysCultureName]??h[this._defCultureName])?.toString()??null}findResourcesName(m){const _=this._getResourceValueMatches(m)[0]?.groups.macrosArgs,x=m?.startsWith("#MacrosTemplateString");return{resourceName:_,useMacrosTemplate:x}}findLocalizationFromResourceString(m,h,_=""){const{resourceName:x}=this.findResourcesName(m),I=x!==void 0&&h.strings[x];if(I){const F=Object.entries(I).map(([z,N])=>({cultureName:z,value:N}));return new l.h(F)}const k=x===void 0&&m||_,A=this._sysCultureName||this._defCultureName;return new l.h([{cultureName:A,value:k}])}findValueFromResource(m,h){const _=this.findLocalizationFromResourceString(m,h),x=this._getLczResource(_);return this.findLocalizableValue(x)}findViewModelResourceValue(m,h,_){var x=this;return(0,p.A)(function*(){const{resourceName:I}=x.findResourcesName(m);let k;return I&&(k=yield h.Strings[I]),k||_||m})()}findPropertyResources(m,h=""){return m?Array.isArray(m)?this._findArrayPropertyResources(m,h):typeof m=="object"?this._findObjectPropertyResources(m,h):typeof m=="string"?[this._findStringPropertyResource(m,h)].filter(Boolean):[]:[]}static{this.\u0275fac=function(h){return new(h||y)(t.\u0275\u0275inject(E.oq))}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"})}}},70372:(P,j,o)=>{o.d(j,{Ac:()=>h,LQ:()=>x,Oj:()=>_,l2:()=>I});var p=o(59131),g=o.n(p),l=o(22524),t=o(62278),f=o.n(t),E=o(36486),y=o.n(E),w=o(25409),m=o(5240);const h=new p.InjectionToken("Represents a list of schema change message predicates"),_=new p.InjectionToken("Represents a list of schema remove message predicates"),x=new p.InjectionToken("Represents a list of schema rights message predicates");class I{constructor(A,F,z,N,T){this._messageChannelService=A,this._broadcastChannelFactory=F,this._changePredicates=z,this._removePredicates=N,this._rightsPredicates=T,this._destroyed$=new t.Subject,this.schemaChanged$=new t.Subject,this.schemaRemoved$=new t.Subject,this.rightsChanged$=new t.Subject,this.requireJsChanged$=new t.Subject,this._subscribeMessageChannelEvent()}_getSchemaType(A){let F;switch(A){case"ClientUnitSchemaManager":F=w.L.ClientUnitSchema;break;case"EntitySchemaManager":F=w.L.EntitySchema;break}return F}_processMessage(A,F){const z=A.body,N=this._getSchemaType(z.ManagerName);N&&F.next({name:z.Name,uId:z.UId,schemaType:N,userId:z.UserId,isNew:z.IsNew,extendParent:z.ExtendParent})}_subscribeMessageChannelEvent(){this._messageChannelService.messageEvent$.pipe((0,E.filter)(A=>this._changePredicates?.some(F=>F(A))),(0,E.takeUntil)(this._destroyed$)).subscribe(A=>this._processMessage(A,this.schemaChanged$)),this._messageChannelService.messageEvent$.pipe((0,E.filter)(A=>this._removePredicates?.some(F=>F(A))),(0,E.takeUntil)(this._destroyed$)).subscribe(A=>this._processMessage(A,this.schemaRemoved$)),this._messageChannelService.messageEvent$.pipe((0,E.filter)(A=>this._rightsPredicates?.some(F=>F(A))),(0,E.takeUntil)(this._destroyed$)).subscribe(A=>this._processMessage(A,this.rightsChanged$)),this._broadcastChannelFactory.createInstance("schema-requirejs-path-changed").messages$.subscribe(A=>this._processMessage({body:A},this.requireJsChanged$))}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete(),this.schemaChanged$.complete()}static{this.\u0275fac=function(F){return new(F||I)(p.\u0275\u0275inject(m.A),p.\u0275\u0275inject(l.Vx),p.\u0275\u0275inject(h,8),p.\u0275\u0275inject(_,8),p.\u0275\u0275inject(x,8))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"})}}},59415:(P,j,o)=>{o.d(j,{v:()=>h});var p=o(62278),g=o(36486),l=o(59131),t=o(70372);class f{constructor(x){this.schemaChangeListener=x,this._repository=new Map,this._uIdMap=new Map,this._destroyed$=new p.Subject,this.schemaChangeListener.schemaChanged$.pipe((0,g.filter)(I=>I.schemaType===this.provider.schemaType),(0,g.takeUntil)(this._destroyed$)).subscribe(I=>this.clearSchemaCacheByUId(I.uId))}add(x){this._repository.set(x.name,x),this._uIdMap.set(x.uId,x.name)}getCachedSchema(x){return this._repository.get(x)}getIsSchemaCached(x){return this._repository.has(x)}getCachedSchemesNames(){return[...this._repository.keys()]}getSchemaByName(x){const I=this.getCachedSchema(x);return I?(0,p.of)(I):this.provider.getSchemaByName(x).pipe((0,g.tap)(k=>this.add(k)))}getSchemaByUId(x){const I=this._uIdMap.get(x),k=I&&this.getCachedSchema(I);return k?(0,p.of)(k):this.provider.getSchemaByUId(x).pipe((0,g.tap)(A=>this.add(A)))}clearSchemaCacheByName(x){const I=this.getCachedSchema(x);I&&this._uIdMap.delete(I.uId),this._repository.delete(x)}clearSchemaCacheByUId(x){const I=this._uIdMap.get(x);I&&this._repository.delete(I),this._uIdMap.delete(x)}ngOnDestroy(){this._destroyed$.next(),this._destroyed$.complete()}static{this.\u0275fac=function(I){return new(I||f)(l.\u0275\u0275inject(t.l2))}}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:f,factory:f.\u0275fac})}}var E=o(67847),y=o(25409),w=o(70027);class m{constructor(x){this._entitySchemaService=x,this.schemaType=y.L.EntitySchema}_getSchema(x){return x.pipe((0,g.switchMap)(I=>I.success===!0?(0,p.of)(I):(0,p.throwError)(()=>new Error(I.errorInfo.message))),(0,g.map)(I=>I.entitySchema))}_getScheme(x){return x.pipe((0,g.switchMap)(I=>I.success===!0?(0,p.of)(I):(0,p.throwError)(()=>new Error(I.errorInfo.message))),(0,g.map)(I=>I.schemes))}getSchemaByUId(x){const I=this._entitySchemaService.getEntitySchemaByUId(x);return this._getSchema(I)}getSchemaByName(x){const I=this._entitySchemaService.getEntitySchemaByName(x);return this._getSchema(I)}getSchemes(x){const I=this._entitySchemaService.getEntitySchemes(x);return this._getScheme(I)}static{this.\u0275fac=function(I){return new(I||m)(l.\u0275\u0275inject(w.e))}}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:m,factory:m.\u0275fac,providedIn:"root"})}}class h extends f{constructor(x,I){super(I),this.provider=x,this.schemaChangeListener=I}_checkPath(x){if(!x||x.length===0)throw new Error("Path is null or empty")}_checkLookupColumn(x,I){if(!x.isLookupType)throw new Error(`Column '${x.name}' for schema '${I.name}' is not lookup`)}_getEntitySchemaColumn(x,I){const k=x.columns.find(A=>A.name===I);if(!k)throw new Error(`Can not find column '${I}' in schema '${x.name}'`);return k}_findEntitySchemesByPath(x,I){this._checkPath(I);const k=[...I],A=this.getCachedSchema(x);if(!A)return null;const F=k.shift(),z=E.h.getPathItemInfo(F);let N=[];if(z.isBackReference)N=this._findEntitySchemesByPath(z.referenceSchemaName,k);else{const L=this._getEntitySchemaColumn(A,z.columnName);if(k.length===0)return[A];this._checkLookupColumn(L,A),N=this._findEntitySchemesByPath(L.referenceSchemaName,k)}if(!N)return null;const T=N.filter(L=>L.name!==A.name);return[A,...T]}_getAreSchemesCached(x){for(const I of x){const k=this.getCachedSchema(I.name);if(!k)return!1;const A=k.columns.filter(z=>z.isLookupType).every(z=>this.getIsSchemaCached(z.referenceSchemaName));if(I.loadLookupColumns&&!A)return!1;const F=I.forwardReferencePaths??[];for(const z of F){const N=z.split(".");if(!this.findEntitySchemaColumnByPath(I.name,N))return!1}}return!0}_addSchemaIfNotExists(x,I){x.has(I.name)||x.set(I.name,I)}_addSchemesIfNotExists(x,I){I.forEach(k=>{this._addSchemaIfNotExists(x,k)})}_getCachedSchemes(x){const I=new Map;return x.forEach(k=>{const A=this.getCachedSchema(k.name);if(!A)return;if(this._addSchemaIfNotExists(I,A),k.loadLookupColumns){const z=A.columns.filter(N=>N.isLookupType).map(N=>this.getCachedSchema(N.referenceSchemaName)).filter(N=>N!=null);this._addSchemesIfNotExists(I,z)}(k.forwardReferencePaths??[]).forEach(z=>{const N=z.split("."),T=this._findEntitySchemesByPath(k.name,N);T&&this._addSchemesIfNotExists(I,T)})}),[...I.values()]}getSchemes(x){if(this._getAreSchemesCached(x))return(0,p.of)(this._getCachedSchemes(x));const I={requests:x,cachedSchemesNames:this.getCachedSchemesNames()};return this.provider.getSchemes(I).pipe((0,g.tap)(k=>k.forEach(A=>this.add(A))),(0,g.map)(()=>this._getCachedSchemes(x)))}findEntitySchemaByPath(x,I){this._checkPath(I);const k=this.getCachedSchema(x);if(!k)return null;const A=[...I],F=A.shift(),z=E.h.getPathItemInfo(F);if(z.isBackReference)return this.findEntitySchemaByPath(z.referenceSchemaName,A);const N=this._getEntitySchemaColumn(k,z.columnName);return A.length===0?k:(this._checkLookupColumn(N,k),this.findEntitySchemaByPath(N.referenceSchemaName,A))}findEntitySchemaColumnByPath(x,I){const k=this.findEntitySchemaByPath(x,I);if(!k)return null;const A=[...I].pop(),F=E.h.getPathItemInfo(A);return this._getEntitySchemaColumn(k,F.columnName)}static{this.\u0275fac=function(I){return new(I||h)(l.\u0275\u0275inject(m),l.\u0275\u0275inject(t.l2))}}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"})}}},83248:(P,j,o)=>{o.d(j,{t:()=>x});var p=o(79772),g=o.n(p),l=o(28399),t=o.n(l),f=o(62278),E=o.n(f),y=o(36486),w=o.n(y),m=o(50588),h=o(59131),_=o.n(h);class x{constructor(k){this.translateService=k}_getTranslations(k){const A=this.translateService.translations[k];return A?(0,f.of)({translation:A,cultureName:k}):this.translateService.currentLoader.getTranslation(k).pipe((0,y.map)(F=>({translation:F,cultureName:k})))}getAllCultureValues(k,A){return(0,f.forkJoin)(k.map(F=>this._getTranslations(F))).pipe((0,y.map)(F=>{const z=new m.h;for(const{translation:N,cultureName:T}of F){const L=(0,l.get)(N,A);z.setValueLocalizableString(T,L)}return z}))}isTranslateKey(k){return/^\S+\.\S+$/.test(k)}static{this.\u0275fac=function(A){return new(A||x)(h.\u0275\u0275inject(p.TranslateService))}}static{this.\u0275prov=h.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac})}}},23092:(P,j,o)=>{o.d(j,{fv:()=>z,oq:()=>_,vn:()=>F});var p=o(63721),g=o.n(p),l=o(59131),t=o.n(l),f=o(62278),E=o.n(f),y=o(93248),w=o(61843),m=o(74975),h=o(49820);class _{constructor(){this.cultureInfo=new w.fX,this.defCultureInfo=new w.fX}}const x="Information about the current user is not initialized yet. Use UserInfoService to load current user information.";function I(){return{get id(){throw new ReferenceError(x)},get contactId(){throw new ReferenceError(x)},get contactName(){throw new ReferenceError(x)},get accountId(){throw new ReferenceError(x)},get accountName(){throw new ReferenceError(x)},get isSSP(){throw new ReferenceError(x)},get timeZoneId(){throw new ReferenceError(x)},get cultureInfo(){throw new ReferenceError(x)},get defCultureInfo(){throw new ReferenceError(x)},get timeZoneOffsetHours(){throw new ReferenceError(x)},get photoId(){throw new ReferenceError(x)},get accessType(){throw new ReferenceError(x)},get sessionId(){throw new ReferenceError(x)}}}const k=I(),A={get id(){return k.id},get contactId(){return k.contactId},get contactName(){return k.contactName},get accountId(){return k.accountId},get accountName(){return k.accountName},get isSSP(){return k.isSSP},get timeZoneId(){return k.timeZoneId},get cultureInfo(){return k.cultureInfo},get defCultureInfo(){return k.defCultureInfo},get timeZoneOffsetHours(){return k.timeZoneOffsetHours},get photoId(){return k.photoId},get accessType(){return k.accessType},get sessionId(){return k.sessionId}};Object.freeze(A);const F={provide:_,useFactory:()=>A};class z extends m.S{constructor(T,L){super(),this._httpClient=T,this._cacheManager=L,this._serviceEndpoint="/ServiceModel/UserInfoService.svc"}_applyUserInfo(T){Object.keys(k).forEach(L=>{delete k[L]}),Object.assign(k,T)}loadCurrentUserInfo(){if(!this._userInfo$){const T=`${this._serviceEndpoint}/GetCurrentUserInfo`;this._userInfo$=this._cacheManager.executeWithCache(y.Oi,y.Fg,this._httpClient.post(T,null)).pipe((0,f.tap)(L=>this._applyUserInfo(L?.userInfo)),(0,f.shareReplay)({bufferSize:1,refCount:!1}))}return this._userInfo$}static{this.\u0275fac=function(L){return new(L||z)(l.\u0275\u0275inject(p.HttpClient),l.\u0275\u0275inject(h.G))}}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"})}}},15810:(P,j,o)=>{o.d(j,{i:()=>t});var p=o(46089);class g{canResolve(E){return this.registry.viewElements.has(E)}getViewElementRegistryItem(E){return this.registry.viewElements.get(E)}isViewElementAvailableByCompatibleAPIs(E,...y){return this.registry.isViewElementAvailableByCompatibleAPIs(E,...y)}getViewElementCompatiblePlatformAPIsOptions(E,y){return this.registry.getViewElementCompatiblePlatformAPIsOptions(E,y)}getFormControlRelatesAttribute(E){return this.registry.getFormControlRelatesAttribute(E)}getViewElementInputs(E){return this.registry.getViewElementInputs(E)}getViewElementOutputs(E){return this.registry.getViewElementOutputs(E)}getViewElementPropertiesDefaultValues(E){return this.registry.getViewElementPropertiesDefaultValues(E)}getViewElementType(E){const y=this.getViewElementRegistryItem(E.type);return this.getViewElementTypeByRegistryItem(y)}getCrtInputs(E){return this.getViewElementRegistryItem(E)?.inputs}getSelector(E){const y=this.getViewElementRegistryItem(E);return this.getSelectorByRegistryItem(y)}getSelectorByRegistryItem(E){return E&&"selector"in E?E.selector:null}getViewElementTypeByRegistryItem(E){return E&&"typeRef"in E?E.typeRef:null}}var l=o(59131);class t extends g{constructor(){super(...arguments),this.registry=p.D}static{this.\u0275fac=(()=>{let E;return function(w){return(E||(E=l.\u0275\u0275getInheritedFactory(t)))(w||t)}})()}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:t,factory:t.\u0275fac})}}},89807:(P,j,o)=>{o.d(j,{J$:()=>p,Zh:()=>l,vZ:()=>g});const p="a29a3ba5-4b0d-de11-9a51-005056c00008",g="720b771c-e7a7-4f31-9cfb-52cd21c3739f";var l;(function(f){f[f.Organization=0]="Organization",f[f.Division=1]="Division",f[f.Manager=2]="Manager",f[f.Team=3]="Team",f[f.User=4]="User",f[f.SelfServicePortalUser=5]="SelfServicePortalUser",f[f.FunctionalRole=6]="FunctionalRole",f[f.TechnicalUser=7]="TechnicalUser"})(l||(l={}));class t{}},99298:(P,j,o)=>{o.d(j,{V:()=>t});var p=o(59131),g=o.n(p),l=o(50069);const t=new p.InjectionToken("DEVKIT_MASK_SERVICE",{providedIn:"root",factory:()=>new l.s})},26594:(P,j,o)=>{o.d(j,{G:()=>l});var p=o(59131),g=o.n(p);const l=new p.InjectionToken("FEATURE_VALUES",{factory:()=>({})})},29423:(P,j,o)=>{o.d(j,{w:()=>l});var p=o(59131),g=o.n(p);const l=new p.InjectionToken("IS_DESIGN_TIME")},12841:(P,j,o)=>{o.d(j,{m:()=>l});var p=o(59131),g=o.n(p);const l=new p.InjectionToken("CRT_METADATA_PREPROCESSOR")},69635:(P,j,o)=>{o.d(j,{x:()=>f});var p=o(59131),g=o(28399),l=o(22524);const t=new p.InjectionToken("Terrasoft global object",{providedIn:"root",factory:()=>(0,g.get)((0,p.inject)(l.ZP),["Terrasoft"])||{}}),f=new p.InjectionToken("Flag indicating that this is an angular host",{providedIn:"root",factory:()=>(0,g.get)((0,p.inject)(t),["isAngularHost"])})},49820:(P,j,o)=>{o.d(j,{G:()=>z});var p=o(73308),g=o(63721),l=o(59131),t=o(22524),f=o(62278),E=o(36486);class y{constructor(T,L,U){this._indexedDBService=T,this.memoryCache=U,this._tableName=L.tableName,this._keyPrefix=L.keyPrefix}_getPrefixedKey(T){return this._keyPrefix?`${this._keyPrefix}_${T}`:T}_getIndexedDBRecord(T){return(0,f.firstValueFrom)(this._indexedDBService.getByKey(this._tableName,T))}_getIndexedDBRecords(T){return(0,f.firstValueFrom)(this._indexedDBService.getByKeys(this._tableName,T))}has(T){var L=this;return(0,p.A)(function*(){if(yield L.memoryCache?.has(L._getPrefixedKey(T)))return!0;const U=yield L._getIndexedDBRecord(L._getPrefixedKey(T));return yield L.memoryCache?.set(L._getPrefixedKey(T),U?.data),!!U?.data})()}get(T){var L=this;return(0,p.A)(function*(){if(yield L.memoryCache?.has(L._getPrefixedKey(T)))return L.memoryCache.get(L._getPrefixedKey(T));const U=yield L._getIndexedDBRecord(L._getPrefixedKey(T));return yield L.memoryCache?.set(L._getPrefixedKey(T),U?.data),U?.data??null})()}getAll(){var T=this;return(0,p.A)(function*(){return yield(0,f.firstValueFrom)(T._indexedDBService.getAll(T._tableName).pipe((0,f.map)(L=>L.map(U=>({key:U.key,value:U.data})))))})()}set(T,L){var U=this;return(0,p.A)(function*(){const B=yield U._getIndexedDBRecord(U._getPrefixedKey(T));B?yield(0,f.firstValueFrom)(U._indexedDBService.update(U._tableName,{id:B.id,key:U._getPrefixedKey(T),data:L})):yield(0,f.firstValueFrom)(U._indexedDBService.add(U._tableName,{key:U._getPrefixedKey(T),data:L})),yield U.memoryCache?.set(U._getPrefixedKey(T),L)})()}bulkSet(T){var L=this;return(0,p.A)(function*(){if(!T||T.length===0)return;const U=(yield L._getIndexedDBRecords(T.map(tt=>L._getPrefixedKey(tt.key))))||[],B=T.map(tt=>{const Z=U.filter(Boolean).find(Y=>Y.key===L._getPrefixedKey(tt.key)),G={key:L._getPrefixedKey(tt.key),data:tt.value};return Z?.id?{...G,id:Z.id}:G});yield(0,f.firstValueFrom)(L._indexedDBService.bulkUpdate(L._tableName,B)),yield L.memoryCache?.bulkSet(T)})()}delete(T){var L=this;return(0,p.A)(function*(){yield(0,f.firstValueFrom)(L._indexedDBService.deleteByIndex(L._tableName,L._getPrefixedKey(T))),yield L.memoryCache?.delete(L._getPrefixedKey(T))})()}clear(){var T=this;return(0,p.A)(function*(){yield(0,f.firstValueFrom)(T._indexedDBService.clear(T._tableName)),yield T.memoryCache?.clear()})()}}class w{constructor(){this._cache=new Map}has(T){return Promise.resolve(this._cache.has(T))}get(T){return Promise.resolve(this._cache.get(T))}getAll(){return Promise.resolve([...this._cache].map(([T,L])=>({key:T,value:L})))}set(T,L){return this._cache.set(T,L),Promise.resolve()}bulkSet(T){return T.forEach(L=>{this._cache.set(L.key,L.value)}),Promise.resolve()}delete(T){return this._cache.delete(T),Promise.resolve()}clear(){return this._cache.clear(),Promise.resolve()}}var m=o(41483),h=o(40234),_=o(30293);const x={name:"crt-shell-db",version:9,objectStoresMeta:Object.values(_.w).map(N=>({store:N,storeConfig:{keyPath:"id",autoIncrement:!0},storeSchema:[{name:"key",keypath:"key",options:{unique:!0}},{name:"data",keypath:"data",options:{unique:!1}}]})),isDefault:!0};class I{constructor(T){this.dbService=T,this._shouldRemoveDataBaseErrorNames=["VersionError","InvalidStateError","UnknownError"],this._dbReady=!0,this.dbService||(this._dbReady=!1,console.info("For using persistent cache, you need to register NgxIndexedDBService."))}_getErrorMessage(T){return T instanceof Error?`Name: ${T.name}, Message: ${T.message}`:T instanceof Event&&T.target&&"error"in T.target?`${T.target.error?.message}`:typeof T=="string"?T:JSON.stringify(T)}_handleError(T){const L=typeof T=="string"||T instanceof Error&&this._shouldRemoveDataBaseErrorNames.includes(T.name);return this._dbReady&&L?(indexedDB.deleteDatabase(x.name),console.warn(`IndexedDB has been refreshed. ${this._getErrorMessage(T)}`),this._dbReady=!1,(0,f.of)(void 0)):(console.warn(`IndexedDB request error. ${this._getErrorMessage(T)}`),(0,f.of)(void 0))}_executeIndexedDBOperation(T,L){return this._dbReady?T():(0,f.of)(L)}get dbReady(){return this._dbReady}add(T,L){return this._executeIndexedDBOperation(()=>this.dbService.add(T,L),void 0).pipe((0,f.catchError)(U=>this._handleError(U)))}bulkAdd(T,L){return this._executeIndexedDBOperation(()=>this.dbService.bulkAdd(T,L),[]).pipe((0,f.catchError)(U=>this._handleError(U)))}getByKey(T,L){return this._executeIndexedDBOperation(()=>this.dbService.getByIndex(T,"key",L),null).pipe((0,f.catchError)(U=>this._handleError(U)))}getByKeys(T,L){if(L.length===0)return(0,f.of)([]);const U=L.map(B=>this._executeIndexedDBOperation(()=>this.getByKey(T,B),null));return(0,f.forkJoin)(U).pipe((0,f.map)(B=>B.filter(Boolean)),(0,f.catchError)(B=>this._handleError(B)))}clear(T){return this._executeIndexedDBOperation(()=>this.dbService.clear(T),!1).pipe((0,f.catchError)(L=>this._handleError(L)))}update(T,L){return this._executeIndexedDBOperation(()=>this.dbService.update(T,L),void 0).pipe((0,f.catchError)(U=>this._handleError(U)))}bulkUpdate(T,L){return this._executeIndexedDBOperation(()=>this.dbService.bulkPut(T,L),[]).pipe((0,f.catchError)(U=>this._handleError(U)))}delete(T,L){return this._executeIndexedDBOperation(()=>this.dbService.deleteByKey(T,L),!0).pipe((0,f.catchError)(U=>this._handleError(U)))}deleteByIndex(T,L){return this._executeIndexedDBOperation(()=>this.dbService.getByIndex(T,"key",L),null).pipe((0,f.switchMap)(U=>U?this._executeIndexedDBOperation(()=>this.dbService.deleteByKey(T,U.id),!1):(0,f.of)(!0)),(0,f.catchError)(U=>this._handleError(U)))}getAll(T){return this._executeIndexedDBOperation(()=>this.dbService.getAll(T),null).pipe((0,f.catchError)(L=>this._handleError(L)))}static{this.\u0275fac=function(L){return new(L||I)(l.\u0275\u0275inject(h.NgxIndexedDBService,8))}}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"})}}class k{constructor(T){this._indexedDBService=T}create(T){switch(T.type){case m.P.Memory:return new w;case m.P.Persistent:return new y(this._indexedDBService,T.options);case m.P.PersistentAndMemory:return new y(this._indexedDBService,T.options,new w);default:throw new Error(`Unsupported cache type: ${T.type}`)}}static{this.\u0275fac=function(L){return new(L||k)(l.\u0275\u0275inject(I))}}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:k,factory:k.\u0275fac,providedIn:"root"})}}var A=o(72051);const F=new l.InjectionToken("USE_SYSTEM_CLIENT_CACHE",{providedIn:"root",factory:()=>!!window.__useSystemClientCache});class z{constructor(T,L,U){this._injector=T,this._systemCaches=L,this._useSystemClientCache=U,this._caches=new Map}_getPersistentCacheRegistryItems(){var T=this;return(0,p.A)(function*(){return(yield(0,f.firstValueFrom)(T._indexedDBService.getAll(_.w.CacheRegistry)))?.map(U=>U.data)??[]})()}_initializePersistentCacheRegistry(){var T=this;return(0,p.A)(function*(){const U=(yield T._getPersistentCacheRegistryItems()).map(B=>[B.name,B]);T._persistentCacheRegistry=new Map(U)})()}_initializeRegisteredCaches(){this._persistentCacheRegistry.forEach(T=>{const L=this._cacheFactory.create({name:T.name,type:T.useMemoryCache?m.P.PersistentAndMemory:m.P.Persistent,options:{tableName:T.tableName}});this._caches.set(T.name,L)})}_registerPersistentCache(T){var L=this;return(0,p.A)(function*(){const U={name:T.name,tableName:T.options.tableName,useMemoryCache:T.type===m.P.PersistentAndMemory,hash:""};yield(0,f.firstValueFrom)(L._indexedDBService.add(_.w.CacheRegistry,{key:T.name,data:U})),L._persistentCacheRegistry.set(T.name,U)})()}_updatePersistentCacheHash(T,L){var U=this;return(0,p.A)(function*(){const B=U._persistentCacheRegistry.get(T);B.hash=L,U._persistentCacheRegistry.set(T,B);const tt=yield(0,f.firstValueFrom)(U._indexedDBService.getByKey(_.w.CacheRegistry,T));tt?.data&&(tt.data.hash=L,yield(0,f.firstValueFrom)(U._indexedDBService.update(_.w.CacheRegistry,{id:tt.id,key:T,data:B})))})()}_isPersistentCache(T){return T===m.P.Persistent||T===m.P.PersistentAndMemory}_initializeSystemCaches(){var T=this;return(0,p.A)(function*(){const L=T._systemCaches||[];if(L.length===0)return;const U=L.filter(B=>!T._caches.has(B.name));yield Promise.all(U.map(B=>T._create(B)))})()}_create(T){var L=this;return(0,p.A)(function*(){if(L._caches.has(T.name))throw new Error(`Cache instance with name "${T.name}" already exists.`);const U=L._cacheFactory.create(T);return L._caches.set(T.name,U),L._isPersistentCache(T.type)&&(yield L._registerPersistentCache(T)),U})()}_internalInitialize(){var T=this;return(0,p.A)(function*(){T._indexedDBService=T._injector.get(I),T._cacheFactory=T._injector.get(k),T._httpClient=T._injector.get(g.HttpClient),T._caches.clear(),yield T._initializePersistentCacheRegistry(),T._initializeRegisteredCaches(),yield T._initializeSystemCaches(),yield T._validateSystemCaches()})()}_validateSystemCaches(){var T=this;return(0,p.A)(function*(){if(!T._caches.size||!T._indexedDBService.dbReady)return;const{hashes:L=[],cacheVersion:U=0}=yield(0,f.lastValueFrom)(T._httpClient.get("api/ClientCache/Hashes").pipe((0,E.catchError)(()=>(console.warn("Failed to get system hashes"),(0,f.of)({hashes:[],cacheVersion:0})))));if(T._getIsNeedForceClearCache(U)){yield T._innerClearAll();return}yield Promise.all(L.map(({name:tt,value:Z})=>T._internalValidateCache(tt,Z)))})()}_getIsNeedForceClearCache(T){const L=this._injector.get(t.sj),U="ClientCacheVersion",B=L.get(U),tt=T&&T!==B;return tt&&L.set(U,T),tt}_internalValidateCache(T,L){var U=this;return(0,p.A)(function*(){if(!U._persistentCacheRegistry.has(T))return;if(U._persistentCacheRegistry.get(T).hash!==L){const tt=U._caches.get(T);tt&&(yield tt.clear(),yield U._updatePersistentCacheHash(T,L))}})()}_innerClearAll(){var T=this;return(0,p.A)(function*(){yield Promise.all([...T._caches.values()].map(L=>L.clear()))})()}whenInitialized(){return this._initialized??=this._internalInitialize(),this._initialized}get(T){var L=this;return(0,p.A)(function*(){yield L.whenInitialized();const U=L._caches.get(T);if(!U)throw new Error(`Cache instance with name "${T}" does not exist.`);return U})()}getOrCreate(T){var L=this;return(0,p.A)(function*(){if(yield L.whenInitialized(),!L._caches.has(T.name)){if(!T.type)throw new Error(`Cache type must be specified for cache "${T.name}".`);yield L._create({...T,type:T.type})}return L._caches.get(T.name)})()}clearAll(){var T=this;return(0,p.A)(function*(){yield T.whenInitialized(),yield T._innerClearAll()})()}validateCache(T,L){var U=this;return(0,p.A)(function*(){yield U.whenInitialized(),yield U._internalValidateCache(T,L)})()}executeWithCache(T,L,U){return this._useSystemClientCache?(0,f.from)(this.whenInitialized()).pipe((0,f.switchMap)(()=>(0,f.of)(this._caches.get(T))),(0,f.switchMap)(function(){var B=(0,p.A)(function*(tt){return{cacheValue:yield tt?.get(L),cacheInstance:tt}});return function(tt){return B.apply(this,arguments)}}()),(0,f.switchMap)(({cacheValue:B,cacheInstance:tt})=>B?(0,f.of)(B):U.pipe((0,f.tap)(Z=>tt?.set(L,Z))))):U}executeWithBulkCache(T,L){return this._useSystemClientCache?(0,f.from)(this.whenInitialized()).pipe((0,f.switchMap)(()=>(0,f.of)(this._caches.get(T))),(0,f.switchMap)(function(){var U=(0,p.A)(function*(B){return{cachedItems:yield B?.getAll(),cacheInstance:B}});return function(B){return U.apply(this,arguments)}}()),(0,f.switchMap)(({cachedItems:U,cacheInstance:B})=>U?.length?(0,f.of)(U):L.pipe((0,f.switchMap)(tt=>(0,f.from)(B?.bulkSet(tt)).pipe((0,E.map)(()=>tt)))))):L}static{this.\u0275fac=function(L){return new(L||z)(l.\u0275\u0275inject(l.Injector),l.\u0275\u0275inject(A.P,8),l.\u0275\u0275inject(F,8))}}static{this.\u0275prov=l.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:"root"})}}},41483:(P,j,o)=>{o.d(j,{P:()=>p});var p;(function(g){g.Memory="Memory",g.Persistent="Persistent",g.PersistentAndMemory="PersistentAndMemory"})(p||(p={}))},72051:(P,j,o)=>{o.d(j,{P:()=>l});var p=o(59131),g=o.n(p);const l=new p.InjectionToken("SYSTEM_CACHE")},70668:(P,j,o)=>{o.d(j,{Dy:()=>g,aP:()=>f,oX:()=>E});var p=o(47149);function g(y){const w=Object.keys(p.P).find(m=>p.P[m].includes(y));return p.P[w]}function l(y){return y===DataValueType.Lookup||y===DataValueType.Guid}function t(y){return DataValueTypeItems[y]?.icon||null}function f(y){return Object.values(p.Q).find(w=>w.name===y)?.type}function E(y){return!(y&&!y?.value)}},84323:(P,j,o)=>{o.d(j,{D0:()=>g,_U:()=>l,ol:()=>p});function p(E){return E=E||new Date,new Date(E.getFullYear(),E.getMonth(),E.getDate())}function g(E){return E=E||new Date,new Date(E.getFullYear(),E.getMonth(),E.getDate(),23,59,59,999)}function l(E){if(!E)return null;function y(){throw new Error(`String "${E}" is not a valid serialized date.`)}typeof E!="string"&&y();const[w,m]=E.split("T");if(m&&(m[m.length-1]==="Z"||m.indexOf("+")!==-1||m.indexOf("-")!==-1)){const _=Date.parse(E);return isNaN(_)&&y(),new Date(_)}try{const[_,x,I]=w.split("-"),[k,A,F]=m.split(":"),[z,N]=F.split(".");return new Date(parseInt(_),parseInt(x)-1,parseInt(I),parseInt(k),parseInt(A),parseInt(z),parseInt(N))}catch{y()}}function t(E,y){y==null&&(y=0),E.setSeconds(E.getSeconds()+y*3600)}function f(E,y,w){const m=w||{hour:"2-digit",minute:"2-digit"};return new Intl.DateTimeFormat(y.sysCultureName,m).format(E)}},67847:(P,j,o)=>{o.d(j,{h:()=>p});class p{static getPathItemInfo(l){const f=/\[([\w-]+):([\w-]+):?([\w-]*)]$/g.exec(l);if(f){const E=f[1],y=f[2],w=f[3];return{isBackReference:!0,referenceSchemaName:E,referenceSchemaColumnName:y,columnName:w}}return{isBackReference:!1,columnName:l}}static getLastBackwardSchemaNameByColumnPath(l){let t="";return l?.split(".").reverse()?.forEach(E=>{t||E.includes("[")&&(t=this.getPathItemInfo(E).referenceSchemaName)}),t}static getLastForwardColumnPath(l){const t=l?.split(".")||[],f=t.map(E=>E.includes("[")).lastIndexOf(!0);return f===-1?l:t.slice(f+1).join(".")}}},96576:(P,j,o)=>{o.d(j,{F:()=>p});function p(g){return g.replace(/\.+/g,"").replace(/\[+/g,"").replace(/\]+/g,"").replace(/:+/g,"")}},41314:(P,j,o)=>{o.d(j,{M6:()=>E,Mc:()=>t,N2:()=>y});var p=o(90983);function g(w,m,h){return!w||!m||!h}function l(w,m){return`/img/entity/hash/${w}/${m}/`}function t(w,m="SysImage",h="Data"){if(g(w,m,h))return"";const _=l(m,h);return`${(0,p.Xq)()}${_}${w}`}function f(w,m="SysImage",h="Data"){return g(w,m,h)?"":`${l(m,h)}${w}`}function E(w){let m="";if(typeof w=="string"){const _=new TextEncoder().encode(w);m=String.fromCharCode(..._)}else if(w instanceof ArrayBuffer){const h=new Uint8Array(w);for(let _=0;_<h?.byteLength;_++)m+=String.fromCharCode(h[_])}return window.btoa(m)}function y(w){const m=new DOMParser().parseFromString(w,"text/html"),h=m?.querySelectorAll("svg");return h.length>0&&h.forEach(_=>{const x=m.createElement("img"),I=E(_.outerHTML);x.src=`data:image/svg+xml;base64,${I}`,_?.parentNode.replaceChild(x,_)}),m?.body.innerHTML||w}},30293:(P,j,o)=>{o.d(j,{w:()=>p});var p;(function(g){g.CacheRegistry="cache-registry",g.Images="images",g.BusinessRules="business-rules",g.RuntimeEntitySchema="runtime-entity-schema",g.RuntimeFreedomUISchemas="runtime-freedom-ui-schemas",g.UserInfo="user-info",g.SystemSettingsCache="system-settings",g.ApplicationInfo="application-info"})(p||(p={}))},90983:(P,j,o)=>{o.d(j,{gd:()=>x,Xq:()=>_,TX:()=>k,zB:()=>F,cI:()=>w,uJ:()=>I});const p="/img/entity/hash/SysImage/Data/",g="/DataService/json/SyncReply";function l(T){return T.endsWith("/")||(T+="/"),T}function t(T){return T.replace(/(^([/\\])+)|(([/\\])+$)/,"")}function f(T){return T=T.replace(location.hash,""),T.replace(location.search,"")}function E(T){return`${x()}/Navigation/Navigation.aspx?schemaName=${T}`}function y(){return"/"}function w(){let T=location.pathname;const L=T.match(/.*?\/\d\/?/);return L&&L.length===1?T=l(L[0]):T="",I(location.origin,T)}function m(){let T=location.href.replace(w(),"");return T=f(T),T||"/"}function h(){const T=m(),L=w(),U=T.split("/").filter(Boolean)[0];return U?`${L}${U}/`:L}function _(){let L=w().replace(location.origin,"");return L.endsWith("/")&&(L=L.substring(0,L.length-1)),L}function x(){return w().replace(/\/0\/?$|\/+$/,"")}function I(...T){return T.map(L=>t(L)).join("/")}function k(T,L){return`${E(T)}&recordId=${L}`}function A(T,L){function U(G,Y){return G.toLowerCase().replace(Y,"").split("/").filter(O=>O).join("/")}const B=w().toLowerCase(),tt=U(T,B),Z=U(L,B);return tt===Z}function F(T){return T?_()+p+T:null}function z(){return _()+esqServiceUrl}function N(T){const{uId:L,name:U,packageUId:B,userLevelSchema:tt}=T;if(!L&&!U)throw new Error("uId or name is required");const Z=w(),G=m(),Y=`#/InterfaceDesigner/${L||U}`,O=new URLSearchParams;return B&&O.append("packageUId",B),tt&&O.append("userLevelSchema","true"),`${Z}${G}${Y}?${O.toString()}`}},73686:(P,j,o)=>{o.d(j,{u:()=>y});var p=o(59131),g=o(28399),l=o(78809),t=o(15810);function f(w,m){if(typeof w=="string"){const h=w.startsWith("$"),_=w.slice(1).split(".").pop()||"",x=m?.[_]!=null;return h&&x}return!1}var E=o(65967);class y{constructor(){this._designerResolver=(0,p.inject)(l.J),this._viewResolver=(0,p.inject)(t.i),this._viewElementContentSlotsCache=new Map}_getViewConfigInfo(m,h,_,x,I){const k=[];if(Array.isArray(_))for(let A=0;A<_.length;A++){const F=_[A];h.includes(F[m])&&k.push({viewConfig:F,parentName:x,index:A,parentPropertyName:I}),this.getViewElementContentSlots(F.type)?.forEach(N=>{const T=F[N];if(T){const L=this._getViewConfigInfo(m,h,T,F.name,N);k.push(...L)}})}return k}_getViewConfigInfoByFilter(m,h,_,x){const I=[];if(Array.isArray(h))for(let k=0;k<h.length;k++){const A=h[k];m(A)&&I.push({viewConfig:A,parentName:_,index:k,parentPropertyName:x}),this.getViewElementContentSlots(A.type)?.forEach(z=>{const N=A[z];if(N){const T=this._getViewConfigInfoByFilter(m,N,A.name,z);I.push(...T)}})}return I}_getViewConfigsBindingMap(m,h,_){const x=new Map;if(Array.isArray(m))for(let I=0;I<m.length;I++){const k=m[I],A=this._viewResolver.getFormControlRelatesAttribute(k.type),F=k[A]??"";if(F.startsWith("$")){const N=F.substring(1),T={viewConfig:k,parentName:h,index:I,parentPropertyName:_};x.has(N)?x.get(N).push(T):x.set(N,[T])}this.getViewElementContentSlots(k.type)?.forEach(N=>{const T=k[N];T&&this._getViewConfigsBindingMap(T,k.name,N).forEach((U,B)=>{x.has(B)?x.get(B).push(...U):x.set(B,U)})})}return x}_isViewModelAttributeBound(m,h){if(!h)return!1;const _=m.viewConfig,x=`\\W\\$${h}\\W`;return this._isAttributeUseInConfig(_,x)}_isViewModelAttributeBoundInViewModel(m,h){if(!h)return!1;const _=(0,g.cloneDeep)(this.getViewModelConfig(m));_.attributes=_.attributes||{},delete _?.attributes[h];const x=`\\W${h}\\W`;return this._isAttributeUseInConfig(_,x)}_isAttributeUseInConfig(m,h){const _=JSON.stringify(m);return new RegExp(h).test(_)}_findViewConfigItem(m,h,_){if(_(h))return m.push(h),!0;const x=this.getViewElementContentSlots(h.type);for(const I of x){const k=h[I];if(k){for(const A of k)if(this._findViewConfigItem(m,A,_))return m.push(h),!0}}}_getViewConfigArray(m){return m?Array.isArray(m)?m:[m]:[]}_getCollectionPropertyNames(m){return this._designerResolver.get(m)?.collectionPropertyNames||["items"]}_getContentSlots(m){const h=[];return this._viewResolver.getViewElementRegistryItem(m)?.contentSlots?.forEach(x=>{if(typeof x=="string")h.push(x);else{const I=x?.name;h.push(I)}}),h}_getPossibleResourceValues(m){return[`#ResourceString(${m})#`]}getViewElementContentSlots(m){if(this._viewElementContentSlotsCache.has(m))return this._viewElementContentSlotsCache.get(m);const h=this._getContentSlots(m),_=this._getCollectionPropertyNames(m),x=[...new Set([...h,..._])];return this._viewElementContentSlotsCache.set(m,x),x}getViewConfigPathByPropertyValue(m,h,_){const x=[],I=this._getViewConfigArray(_);for(const k of I)if(this._findViewConfigItem(x,k,A=>A[m]===h))break;return x}getViewConfigInfoByPropertyForValues(m,h,_){const x=[],I=this._getViewConfigArray(_);for(let k=0;k<I.length;k++){const A=I[k];h.includes(A[m])&&x.push({viewConfig:A,index:k}),this.getViewElementContentSlots(A.type)?.forEach(z=>{const N=A[z];if(N){const T=this._getViewConfigInfo(m,h,N,A.name,z);x.push(...T)}})}return x}getViewConfigInfoByProperty(m,h,_){return this.getViewConfigInfoByPropertyForValues(m,[h],_)}getViewConfigInfoByType(m,h){return this.getViewConfigInfoByProperty("type",h,m).map(_=>_?.viewConfig).filter(Boolean)}getViewConfigInfoByFilter(m,h){const _=[],x=h??[];for(let I=0;I<x.length;I++){const k=x[I];m(k)&&_.push({viewConfig:k,index:I}),this.getViewElementContentSlots(k.type)?.forEach(F=>{const z=k[F];if(z){const N=this._getViewConfigInfoByFilter(m,z,k.name,F);_.push(...N)}})}return _}getViewConfigsBindingMap(m){return this._getViewConfigsBindingMap(m??[],"","")}getViewModelAttribute(m,h){return this.getViewModelConfig(m)?.attributes?.[h]}getViewConfigInfoByName(m,h){return this.getViewConfigInfoByProperty("name",h,m?.viewConfig)[0]||{}}getViewModelConfig(m,h=!1){return!m.viewModelConfig&&h&&(m.viewModelConfig={}),m.viewModelConfig||{}}isViewModelAttributeBound(m,h){return h?this._isViewModelAttributeBound(m,h)||this._isViewModelAttributeBoundInViewModel(m,h):!1}addViewModelAttributeChangeRequest(m,h){const{attributeName:_,requests:x,options:I}=h??{};if(!_||!x?.length)return;const k=!!I?.createAttributeIfEmpty,A=this.getViewModelConfig(m,k);if(!A?.attributes&&!k)return;const F=A.attributes??={};if(!F[_]&&!k)return;const z=F[_]??={};z.change??=[],Array.isArray(z.change)||(z.change=[z.change]),z.change.push(...x)}findResourceDependencies(m,h){const _=this._getPossibleResourceValues(m),x={viewElements:[],attributes:[]},I=(k,A)=>{k&&(typeof k=="string"?_.forEach(F=>{k.includes(F)&&x.viewElements.push(A)}):Array.isArray(k)?k.forEach(F=>I(F,A)):typeof k=="object"&&Object.values(k).forEach(F=>I(F,A)))};return Object.entries(h).forEach(([k,A])=>I(A,k)),x}getDependentModelsNames(m,h,_){return Object.entries(m||{}).filter(([,I])=>{let k=h;return _&&(k=`${h}.${_}`),I.some(A=>A.relationPath.startsWith(k))}).map(([I])=>I)}getDataSourceModelName(m,h){return m?.dataSources?.[h]?.config?.entitySchemaName}findAllAttributesByDataSourceAttributePath(m,h){const _=this.getViewModelConfig(m,!0).attributes??{},x=Object.keys(_).filter(k=>{const A=_[k]??{};return(0,E.o)(A)&&A.modelConfig?.path===h});if(x.length>0)return x;const I=h.split(".");if(I.length>2){const k=I[0],F=m?.modelConfig?.dataSources?.[k]?.config?.attributes;if(F){const z=I.slice(1).join("."),N=Object.keys(F).find(T=>F[T].path===z);if(N)return this.findAllAttributesByDataSourceAttributePath(m,`${k}.${N}`)}}return[]}getLoadParametersByDataSourceName(m,h){return h.modelConfig?.dataSources?.[m]?.config?.loadParameters}getSortingConfigByDataSourceName(m,h){return this.getLoadParametersByDataSourceName(m,h)?.options?.sortingConfig}getCollectionViewConfigs(m,h){return h?.length?this.getViewConfigInfoByPropertyForValues("type",h,m.viewConfig).filter(_=>!!_).map(({viewConfig:_})=>_).filter(({name:_})=>_)||[]:[]}getCollectionViewConfigsWithItemsBinding(m,h){return this.getCollectionViewConfigs(m,h).filter(({items:_})=>f(_,m.viewModelConfig?.attributes))}getRequestBindingConfigs(m,h,_){const x=[];return h===void 0||this.getViewConfigInfoByFilter(I=>{const k=Object.values(I).filter(A=>{const F=A;return F?.request===h&&(_?_(F):!0)});return x.push(...k),!1},m),x}static{this.\u0275fac=function(h){return new(h||y)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac})}}},71260:(P,j,o)=>{o.d(j,{B4:()=>E,V_:()=>t});var p=o(59131),g=o.n(p),l=o(23092);class t{constructor(w){this.precision=2,Object.assign(this,w)}}class f{constructor(w={}){this.decimalSeparator=w.decimalSeparator||"",this.thousandSeparator=w.thousandSeparator||""}}class E{constructor(w){this._userInfo=w,this._digitsInRank=3}_collapseRepeatedChar(w,m){return w.replace(new RegExp(`[\\${m}]{1,}`,"g"),m)}_insertThousandSeparators(w,m){const h=w.split("");for(let _=h.length-this._digitsInRank;_>0;_-=this._digitsInRank)h.splice(_,0,m);return h.join("")}formatNumberValue(w,m=null){if(w=parseFloat(w&&w.toString()),!w||isNaN(w))return"0";let h="";w<0&&(h="-"),m=m||new t;const _=this.getNumberFormatInfo(),{decimalSeparator:x,thousandSeparator:I}=_,k=w.toFixed(m.precision).split(".");let A=k[0].replace("-","");m.ignoreThousandSeparator||(A=this._insertThousandSeparators(A,I));const F=k.length>1?k[1].replace(/0{1,}$/,""):"";return F!==""?`${h}${A}${x}${F}`:`${h}${A}`}removeFractionalPart(w){const m=".",[h]=w.toString().split(m);return h}getNumberFormatInfo(){const w=this._userInfo.cultureInfo;return new f({decimalSeparator:w.decimalSeparator,thousandSeparator:w.thousandSeparator})}parseStringToNumber(w,m=2){if(!w)return NaN;typeof w!="string"&&(w=String(w));const h=this.getNumberFormatInfo().decimalSeparator;let _=this.formatStringValue(w);_=_.replace(h,".");const x=parseFloat(_);return Number(x.toFixed(m))}formatStringValue(w){typeof w!="string"&&(w=String(w));const m=w.match(/^-/)||"",h=this.getNumberFormatInfo().decimalSeparator,_=this._collapseRepeatedChar(w,h),x=new RegExp(`[^0-9\\${h}]+`,"g");return m+_.replace(x,"")}convertNumericStringToExponentialFormat(w,m=2){if(w&&w!==""){const h=parseFloat(w);if(!isNaN(h))return h.toExponential(m)}return""}static{this.\u0275fac=function(m){return new(m||E)(p.\u0275\u0275inject(l.oq))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"})}}},1872:(P,j,o)=>{o.d(j,{EV:()=>l,G3:()=>t});function p(f,E){return Object.keys(f).every(y=>Object.prototype.hasOwnProperty.call(E,y)?typeof f[y]=="object"?g(f[y],E[y]):!0:!1)}function g(f,E){return p(f,E)&&p(E,f)}function l(f,E){const y=Array.isArray(E)?E:E.split(".");let w=f;for(const m of y)if(w instanceof Map)w=w.get(m);else if(w&&typeof w=="object")w=w[m];else return;return w}function t(f){const E=JSON.stringify(f);let y=5381;for(let w=0;w<E.length;w++)y=(y<<5)+y+E.charCodeAt(w);return y.toString(16)}},65967:(P,j,o)=>{o.d(j,{o:()=>p,t:()=>g});function p(l){const t=l;return t?!!t?.modelConfig||!!t?.embeddedModel||!!t?.value:!1}function g(l){const t=l;return t?!!t.from||!!t.triggers||!!t.converter:!1}},47765:(P,j,o)=>{o.d(j,{n:()=>p});var p;(function(g){g[g.Busy=0]="Busy",g[g.Idle=1]="Idle"})(p||(p={}))},48370:(P,j,o)=>{o.d(j,{_:()=>p});var p;(function(g){g.Root="root",g.Angular="angular",g.ExecutionTracking="executionTracking"})(p||(p={}))},33656:(P,j,o)=>{o.d(j,{p:()=>A});var p=o(73308),g=o(5960),l=o(22524),t=o(62278),f=o(59131);class E{constructor(z){this.ngZone=z}run(z,N,T){return this.ngZone.runOutsideAngular(z)}}class y extends E{constructor(z){super(z)}run(z,N,T){return this.ngZone.run(z,N,T)}}var w=o(48370),m=o(6530),h=o(47765),_;(function(F){F.ReadyStateChange="readystatechange"})(_||(_={}));class x{constructor(z){this._trackedTasks=[],this._trackedEventTasks=[],this._enableDebugTracking=!1,this._disableWaits=!1,this._pendingFunctions=new Map,this.onStateChange$=new f.EventEmitter(!1),this._parentZone=Zone.current,this._rootZone=Zone.root,this._isBusy=!1,this._ignoredTaskSources=["setInterval","requestAnimationFrame"],this._eventTaskFilters=[N=>N.source.startsWith("XMLHttpRequest")&&N.source.endsWith(_.ReadyStateChange)],this._zone=this._parentZone.fork({name:z,properties:{currentExecutionZone:this},onInvokeTask:this._onInvokeTask.bind(this),onCancelTask:this._onCancelTask.bind(this),onScheduleTask:this._onScheduleTask.bind(this),onHasTask:this._onHasTask.bind(this)})}wait(z){if(this._disableWaits)return z();this._isBusy||(this._isBusy=!0,this.onStateChange$.next(h.n.Busy));const N=(0,m.qv)();return this._pendingFunctions.set(N,this._enableDebugTracking?z:null),z().finally(()=>{this._pendingFunctions.delete(N),!this._pendingFunctions.size&&this._zone.run(()=>new Promise(T=>setTimeout(T)))}).catch(T=>{throw T})}_cancelXMLHttpRequestReadyStateChangeTaskOnRequestComplete(z,N){if(z.type==="eventTask"&&(z.state==="running"||z.state==="scheduled")){const T=z;T.eventName===_.ReadyStateChange&&T.target.readyState===XMLHttpRequest.DONE&&N.cancelTask(T)}}_onInvokeTask(z,N,T,L,U,B){this._unTrackTask(L);let tt;try{tt=z.invokeTask(T,L,U,B),this._cancelXMLHttpRequestReadyStateChangeTaskOnRequestComplete(L,N)}catch(Z){console.error(Z),N.cancelTask(L)}return tt}_onCancelTask(z,N,T,L){return this._unTrackTask(L),z.zone.runGuarded(()=>z.cancelTask(T,L))}_onScheduleTask(z,N,T,L){return this._getCanScheduleTask(L)?(this._trackTask(L),z.scheduleTask(T,L)):(L.cancelScheduleRequest(),this._parentZone.scheduleTask(L))}_onHasTask(z,N,T,L){z.hasTask(T,L);const U=L.eventTask||L.macroTask||L.microTask||this._pendingFunctions.size>0;this._isBusy!==U&&(this._rootZone.run(()=>this.onStateChange$.next(U?h.n.Busy:h.n.Idle)),this._isBusy=U)}_trackTask(z){this._enableDebugTracking&&(z.type==="eventTask"&&this._trackedEventTasks.push(z),this._trackedTasks.push(z))}_unTrackTask(z){if(!this._enableDebugTracking)return;const N=this._trackedTasks.indexOf(z);N>-1&&this._trackedTasks.splice(N,1)}_getCanScheduleTask(z){return z.type==="eventTask"?this._eventTaskFilters.some(N=>N(z)):this._ignoredTaskSources.indexOf(z.source)===-1}run(z,N,T){return this._zone.run(z,N,T)}}class I{constructor(z){this._ngZone=z}createDefaultZones(){return{root:new E(this._ngZone),angular:new y(this._ngZone)}}createZone(z,N){if(N===w._.ExecutionTracking)return new x(z);throw new Error(`Zone ${z} with type ${N} is not supported`)}static{this.\u0275fac=function(N){return new(N||I)(f.\u0275\u0275inject(f.NgZone))}}static{this.\u0275prov=f.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"})}}var k=o(47130);let A=class X0{constructor(z){this._zoneProvider=z,this._zones=z.createDefaultZones()}init(z){var N=this;return(0,p.A)(function*(){N._disableExecutionTrackingZone=yield(0,t.lastValueFrom)(z("DisableExecutionTrackingZone"))})()}runInZone(z,N,T,L){return this._disableExecutionTrackingZone&&z!==k.R.Angular&&(z=k.R.Root),(this._zones[z]??this._zones[k.R.Root]).run(N,T,L)}register(z,N){if(this._zones[z])throw new Error(`Zone ${z} already registered`);const T=this._zoneProvider.createZone(z,N);return this._zones[z]=T,T}get(z){return this._zones[z]}runOutside(z){return this.runInZone(k.R.Root,z)}static{this.\u0275fac=function(N){return new(N||X0)(f.\u0275\u0275inject(I))}}static{this.\u0275prov=f.\u0275\u0275defineInjectable({token:X0,factory:X0.\u0275fac,providedIn:"root"})}};A=(0,g.__decorate)([(0,l.op)({requestType:"crt.ZoneService"}),(0,g.__metadata)("design:paramtypes",[I])],A)},47130:(P,j,o)=>{o.d(j,{R:()=>p});var p;(function(g){g.Root="root",g.Angular="angular"})(p||(p={}))},51025:(P,j,o)=>{o.d(j,{G:()=>y});var p=o(5960),g=o.n(p),l=o(40297),t=o.n(l),f=o(4164),E=o(90983);let y=class{constructor(){this._fileServicePath="rest/FileService/"}_getFilePath(m){const h=this._fileServicePath+l.Location.joinWithSlash("Download",m);return(0,E.cI)()+h}convert(m,h,_){return _?l.Location.joinWithSlash(this._getFilePath(_),m):""}};y=(0,p.__decorate)([(0,f.a)({type:"crt.ToFileLink"})],y)},65001:(P,j,o)=>{o.d(j,{Z:()=>p,p:()=>l});var p;(function(t){t.None="none",t.Default="default",t.ExtraSmall="extra-small",t.Small="small",t.Medium="medium",t.Large="large",t.ExtraLarge="extra-large"})(p||(p={}));const g=Object.values(p);function l(t){return!!t&&typeof t=="string"&&g.includes(t.toLowerCase())}},52439:(P,j,o)=>{o.d(j,{Ai:()=>z,BZ:()=>m,EK:()=>y,M4:()=>h,Qb:()=>w,Rf:()=>I,Rn:()=>x,Wb:()=>k,YK:()=>F,qG:()=>E,rj:()=>A});var p=o(22149),g=o(28399),l=o.n(g);function t(T){return(T?.parameters??[]).map(L=>f(L)).flat()}function f(T){const L=[];if(T.attributePath&&L.push(T.attributePath),T.attributeProperty){const B=T.attributeProperty.split(":").shift();L.push(B)}const U=(T.converters??[]).map(B=>t(B)).flat();return L.push(...U),L.filter(B=>!(0,g.isEmpty)(B))}function E(T){return typeof T=="string"&&T.startsWith("$")&&T.length>1}function y(T){return E(T)&&/^\$(\w+\.)*\w+$/.test(T)}function w(T){return typeof T=="string"&&T.startsWith(`$${p.c}.${p.L.string}.`)}function m(T){return/^\$(?<AttributeName>.+):(?<PropertyName>.+?)(?=(?==(?<defValue>.*))|(?=$))/.test(T)}function h(T){return typeof T=="string"&&/@event\b/.test(T)}function _(T){return typeof T=="string"&&/^([^\d.][\w.]+)(\s*:\s*[\w'".$]+)+.*$/.test(T)}function x(T){return!!T.match(/^'.*'$/)}function I(T){return!isNaN(Number(T))&&!isNaN(parseFloat(T))}function k(T){return T==="true"||T==="false"}function A(T){return x(T)||I(T)||k(T)}function F(T){const L={expression:T},U=T.split("|").map(B=>B.trim());if(E(T)){const B=U.shift();L.binding=B,w(B)&&(L.resourcePath=B.substring(1)),m(B)&&(L.attributeProperty=B.substring(1)),y(B)&&(L.attributePath=B.substring(1))}else if(h(T)){const B=U.shift();L.event=B.substring(7)}else if(!_(T))return L.value=T,L;return L.converters=U.map(B=>{const[tt,...Z]=B.split(":").map(G=>G.trim());return{type:tt,parameters:Z.map(G=>F(G))}}),L}function z(T){if(!(0,g.isString)(T)||(0,g.isEmpty)(T))return[];const L=F(T);return f(L)}function N(T){return E(T)?T.slice(1):T}},34096:(P,j,o)=>{o.d(j,{d:()=>z});var p=o(59131);class g{static{this._addItemListeners=[]}static{this._removeItemListeners=[]}static{this._requestHandlersMap=new Map}static{this._handlersByRequestMap=new Map}static get requestHandlersMap(){return this._requestHandlersMap}static get handlersByRequestMap(){return this._handlersByRequestMap}static onAddRequestHandler(T){return this._addItemListeners.push(T),()=>{this._addItemListeners.splice(this._addItemListeners.indexOf(T),1)}}static onRemoveRequestHandler(T){return this._removeItemListeners.push(T),()=>{this._removeItemListeners.splice(this._removeItemListeners.indexOf(T),1)}}static addRequestHandler(T,L){const U=this._requestHandlersMap.get(T);if(U&&(!U.instanceConfig?.lazy||U.instanceType))return;const B={instanceType:L.instanceType,instanceConfig:{...U?.instanceConfig??{},...L.instanceConfig}};this._requestHandlersMap.set(T,B);for(const G of this._addItemListeners)G(T,B);const tt=L.instanceConfig.requestType;let Z=this._handlersByRequestMap.get(tt);Z||(Z=new Map,this._handlersByRequestMap.set(tt,Z)),Z.set(T,B)}static removeRequestHandler(T){const L=this._requestHandlersMap.get(T);if(!L)return;this._requestHandlersMap.delete(T);for(const tt of this._removeItemListeners)tt(T,L);const U=L.instanceConfig.requestType,B=this._handlersByRequestMap.get(U);B&&B.delete(T)}static clear(){for(const T of this._requestHandlersMap.keys())this.removeRequestHandler(T)}}const l=window;l.creatio??={},l.creatio.requestHandlerRegistry||Object.defineProperty(l.creatio,"requestHandlerRegistry",{get:()=>g,configurable:!1});const t=l.creatio.requestHandlerRegistry;class f{static{this._internalRegistry=l.creatio.requestHandlerRegistry}static find(T){return f._internalRegistry.requestHandlersMap.get(T)}static register(T,L){const U=T.requestType,B=T.type;if(!U)throw new Error(`Error when register ${B}. Request type not specified.`);const tt={instanceType:L,instanceConfig:T};f._internalRegistry.addRequestHandler(B,tt)}}var E=o(18872),y=o(6813),w=o(95639);class m{}const h="ValidatorRegistry";class _ extends y.o{static{this.registryKey=h}static _hasWithAnotherTypeRef(T,L){const U=_.items.get(T);return!U||U.lazy&&!U.typeRef?!1:U.typeRef!==L}static validate(T){if((0,w.zo)(T.type,"ValidatorTypeName"),T.typeRef&&_._hasWithAnotherTypeRef(T.type,T.typeRef))throw new Error(`Error when register ${T.type}. Element with this type has already exist`)}static get items(){return this.store.typeInfos}static register(T){const L=this.items.get(T.type);this.items.set(T.type,{...L??{},...T})}}var x=o(66125),I=o(73686),k=o(15810),A=o(52439);class F{constructor(){this.viewElements=new Set,this.requests=new Set,this.converters=new Set,this.validators=new Set}}class z{constructor(){this._metadataSchemaUtils=(0,p.inject)(I.u),this._viewElementTypeResolver=(0,p.inject)(k.i)}_forEachStringInObject(T,L,U=[]){for(const B in T){const tt=T[B];typeof tt=="string"?L(U.concat(B),tt):typeof tt=="object"&&tt!==null&&(U.push(B),this._forEachStringInObject(tt,L,U),U.pop())}}_searchInContentSlots(T,L,U){const B=this._metadataSchemaUtils.getViewElementContentSlots(T.type)??[];for(const tt of B){const Z=T[tt];Array.isArray(Z)&&this._searchInViewConfig(T[tt]??[],U)}}_searchInBindingExpression(T,L){(0,A.YK)(T).converters?.forEach(U=>L.converters.add(U.type))}_searchInRequestConfig(T,L){const U=Array.isArray(T)?T:[T];for(const B of U)L.requests.add(B.request),B.params&&this._forEachStringInObject(B.params,(tt,Z)=>{(0,A.qG)(Z)&&this._searchInBindingExpression(Z,L)})}_searchInViewConfig(T,L){for(const U of T){L.viewElements.add(U.type);const B=this._viewElementTypeResolver.getViewElementRegistryItem(U.type);if(B)for(const[tt,Z]of Object.entries(U))B.inputs&&tt in B.inputs&&(0,A.qG)(Z)&&this._searchInBindingExpression(Z,L),Z&&B.outputs&&tt in B.outputs&&this._searchInRequestConfig(Z,L);this._searchInContentSlots(U,B,L)}}_searchInValidatorsConfig(T,L){for(const U of Object.values(T))L.validators.add(U.type)}_searchInViewModelConfig(T,L){if("attributes"in T)for(const U of Object.values(T.attributes))"change"in U&&this._searchInRequestConfig(U.change,L),"validators"in U&&this._searchInValidatorsConfig(U.validators,L),"viewModelConfig"in U&&this._searchInViewModelConfig(U.viewModelConfig,L),"converter"in U&&this._searchInBindingExpression("$value | "+U.converter,L)}*_getRequestHandlersMetadata(T){for(const L of T){const U=t.handlersByRequestMap.get(L);if(U)for(const B of U.values())yield B}}_addModuleRefIfLazy(T,L,U){L?.lazy&&(!U||U(L))&&T.add(L.lazyModuleRef)}getUsedItemsInSchema(T){const L=new F;return this._searchInViewConfig(T.viewConfig??[],L),this._searchInViewModelConfig(T.viewModelConfig??{},L),L}getUsedItemsInViewConfig(...T){const L=new F;return this._searchInViewConfig(T,L),L}getUsedViewElements(T){return this.getUsedItemsInViewConfig(...T).viewElements}getLazyModuleRefs(T,L){const U=new Set,{viewElements:B,requests:tt,converters:Z,validators:G}=T;for(const st of B)this._addModuleRefIfLazy(U,this._viewElementTypeResolver.getViewElementRegistryItem(st));for(const st of Z)this._addModuleRefIfLazy(U,E.c.find(st));for(const st of G)this._addModuleRefIfLazy(U,_.items.get(st));const Y=this._getRequestHandlersMetadata(tt),O=L?.requestScopes?st=>(0,x.p)(st.scopes,L.requestScopes):void 0;for(const st of Y)this._addModuleRefIfLazy(U,st.instanceConfig,O);return U}static{this.\u0275fac=function(L){return new(L||z)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac})}}},73723:(P,j,o)=>{o.d(j,{A:()=>N});var p=o(73308),g=o(59131),l=o.n(g),t=o(56711),f=o.n(t),E=o(89684),y=o(22524),w=o(67020),m=o(26594),h=o(89285),_=o(62278),x=o.n(_),I=o(36486),k=o.n(I),A=o(56005),F=o(68678),z=o(65576);class N extends Array{constructor(...L){return super(),this._itemsChanged=new _.Subject,this._itemAttributeChanged=new _.Subject,this._destroyed$=new _.Subject,this._changed=new _.Subject,this._trackChanges=!0,this._createdItems=[],this._deletedItems=[],this._isDestroyed=!1,typeof L[0]=="number"?new Array(L[0]):([this._viewModelGenerator,this._viewModelConfig={},this._model,this._host,this._hostAttributeName]=L,this._measurePerformanceService=this._host?.[A.w]?.get(w.g,null,{optional:!0}),this._featureValues=this._host?.[A.w]?.get(m.G,{},{optional:!0})??{},this._ngZone=this._host?.[A.w]?.get(g.NgZone,null,{optional:!0}),Object.setPrototypeOf(this,Object.create(N.prototype)),this._subscribeItemsModelModesChanges(),this._subscribeItemsAttributesChanges(),new Proxy(this,{set:(U,B,tt,Z)=>{const G=U[B];return U[B]=tt,this._trackChanges&&(B==="length"&&tt!==G?this._onItemsChanged():isNaN(parseInt(B))||this._onItemsChanged()),!0}}))}get changed(){return this._changed.asObservable().pipe((0,y.BV)(this._ngZone),(0,I.takeUntil)(this._destroyed$))}get itemAttributeChanged(){return this._itemAttributeChanged.asObservable().pipe((0,I.takeUntil)(this._destroyed$))}get isChanged(){return this.getChangedItems().length>0}get formApiModel(){return this._formApiModel||this._updateFormApiModelValues({emitEvent:!1}),this._formApiModel}_isItemPrimaryAttributeEqual(L,U){return(0,p.A)(function*(){if(!L)return!1;const B=yield L[L.primaryAttributeName];return U.includes(B)})()}_insertItem(L,U){typeof U!="number"&&(U=this.length),U=Math.max(U,0),U=Math.min(U,this.length),this.splice(U,0,L)}_generateItem(L){const U=()=>{const B=this._model?.createCollectionItemModel(h.b.Create),tt=this._host?.[A.w],Z=this._viewModelGenerator.generate({viewModelConfig:this._viewModelConfig,modelConfig:B?{primaryDataSourceName:B.name}:void 0,models:B?[B]:void 0,parentViewModel:this._host,businessRulesActive:L.businessRulesActive??!1},tt?g.Injector.create({providers:[{provide:F.Fj,useValue:null}],parent:tt}):null).pipe((0,I.tap)(G=>{B?.name&&(G.dataSchemas[B.name]=this._host.dataSchemas[B.name])}),(0,I.switchMap)(G=>B?.name?G.create(B.name,L.initialModelValues).pipe((0,I.map)(()=>G)):(0,_.of)(G)),(0,I.tap)(G=>{Object.entries(L.initialAttributeValues??{}).forEach(([Y,O])=>G[Y]=O),G._markAsPristine(L.initialAttributeValues??{}),this._model?.childrenChange()}));return(0,_.lastValueFrom)(Z)};return this._measurePerformanceService?this._measurePerformanceService.measureCallback("ViewModelCollection.generateItem",()=>U()):U()}_mergeItems(L,U){const B=()=>{const tt=(L[0]||U[0])?.primaryAttributeName;for(const Z of U){const G=L.findIndex(Y=>{const O=Y.attributes?.[tt],st=Z.attributes?.[tt];return O&&O===st});G===-1?L.push(Z):L.splice(G,1,Z)}return L};return this._measurePerformanceService?this._measurePerformanceService.measure("ViewModelCollection.mergeItems",()=>B()):B()}_triggerChangesAfter(L){this._trackChanges=!1;const U=L.call(this);return this._trackChanges=!0,this._isDestroyed||this._onItemsChanged(),U}_onItemsChanged(){const L=this.map(U=>({item:U,itemModelMode:U?.getPrimaryModelMode?.()}));this._updateCollectionState(L,!0)}_subscribeItemsModelModesChanges(){this._itemsChanged.pipe((0,I.switchMap)(()=>this._getItemsModelModesChanges()),(0,I.tap)(L=>this._updateCollectionState([L],!1)),(0,I.takeUntil)(this._destroyed$)).subscribe()}_subscribeItemsAttributesChanges(){this._itemsChanged.pipe((0,I.switchMap)(()=>this._getItemsAttributesChanges()),(0,I.filter)(L=>!L.payload.silent),(0,I.tap)(()=>this._itemAttributeChanged.next()),(0,I.takeUntil)(this._destroyed$)).subscribe()}_getItemsAttributesChanges(){const L=this.map(U=>U?.events$?.pipe((0,I.filter)(B=>B.type===z.n.ChangeAttributeValue))).filter(Boolean);return L.length?(0,_.merge)(...L):_.EMPTY}_getItemsModelModesChanges(){const L=[...this,...this._deletedItems].map(U=>U?._getPrimaryModelModeChanges?.()?.pipe((0,I.map)(B=>({item:U,itemModelMode:B})))).filter(Boolean);return L.length?(0,_.merge)(...L):_.EMPTY}_updateCollectionState(L,U){this._trackChanges=!1;const B=L.map(tt=>this._onItemModelModeChanged(tt)).some(tt=>!!tt);this._trackChanges=!0,!(!U&&!B)&&(this._updateFormApiModelValues(),this._updateFormApiModelPristineState(),this._changed.next(),this._itemsChanged.next())}_onItemModelModeChanged(L){const{item:U,itemModelMode:B}=L;if(!U||B==null)return!1;switch(B){case h.b.Create:return this._onCreateItem(U);case h.b.Update:return this._onUpdateItem(U);case h.b.Delete:return this._onDeleteItem(U);default:return!1}}_onCreateItem(L){const U=this._deletedItems.indexOf(L);return U!==-1?(this._deletedItems.splice(U,1),!0):(this._createdItems.indexOf(L)===-1&&this._createdItems.push(L),!1)}_onUpdateItem(L){const U=this._createdItems.indexOf(L);if(U!==-1)return this._createdItems.splice(U,1),!1;const B=this._deletedItems.indexOf(L);if(B!==-1){const tt=this._deletedItems.splice(B,1);super.push(...tt)}return!0}_onDeleteItem(L){const U=this._createdItems.indexOf(L),B=this._deletedItems.indexOf(L);return U!==-1?this._createdItems.splice(U,1):B===-1&&this._deletedItems.push(L),super.splice(this.indexOf(L),1),!0}_updateFormApiModelValues(L){if(this._featureValues.DisableBaseViewModelCollectionOptimization){this._formApiModel??=new t.FormArray([]),this._formApiModel.clear({emitEvent:!1}),this.filter(B=>B?.formApiModel).forEach(B=>{this._formApiModel.push(B.formApiModel,{emitEvent:!1})}),L?.emitEvent!==!1&&this._formApiModel.updateValueAndValidity();return}if(!this._formApiModel||!this._formApiModel.length){const B=new t.FormArray(this.filter(tt=>tt?.formApiModel)?.map(tt=>tt.formApiModel));this._formApiModel||(this._formApiModel=B),this._formApiModel.length||this._host?.formApiModel?.setControl(this._hostAttributeName,B)}else this._formApiModel.clear({emitEvent:!1}),this.filter(B=>B?.formApiModel).forEach(B=>{this._formApiModel.push(B.formApiModel,{emitEvent:!1})}),L?.emitEvent!==!1&&this._formApiModel.updateValueAndValidity()}_updateFormApiModelPristineState(){const L=this.formApiModel.pristine,U=this.some(B=>B?.formApiModel?.dirty);if(U&&L){this.formApiModel.markAsDirty();return}!U&&!L&&this.formApiModel.markAsPristine()}_reload(L){const U=()=>{for(const Z of[...this._deletedItems,...this])this.removeChildModel(Z,{triggerNotification:!1});this._model?.childrenChange();const B=[],tt=Z=>B.push(Z.destroy());return this._createdItems.forEach(tt),this._createdItems.splice(0,this._createdItems.length),this._deletedItems.forEach(tt),this._deletedItems.splice(0,this._deletedItems.length),this.forEach(tt),this.splice(0,this.length,...L),(0,_.forkJoin)(B).pipe((0,I.defaultIfEmpty)(void 0),(0,I.map)(()=>{}))};return this._measurePerformanceService?this._measurePerformanceService.measure("ViewModelCollection.reload",()=>U()):U()}removeChildModel(L,U){const B=U?.triggerNotification??!0,tt=this._model?.name,Z=L.getModelByName(tt);this._model?.removeChild(Z),B&&this._model?.childrenChange()}copyWithin(L,U,B){return this._triggerChangesAfter(()=>super.copyWithin(L,U,B))}fill(L,U,B){return this._triggerChangesAfter(()=>super.fill(L,U,B))}push(...L){return this._triggerChangesAfter(()=>super.push(...L))}reverse(){return this._triggerChangesAfter(()=>super.reverse())}shift(){return this._triggerChangesAfter(()=>super.shift())}sort(L){return this._triggerChangesAfter(()=>super.sort(L))}splice(L,U,...B){return this._triggerChangesAfter(()=>super.splice(L,U,...B))}unshift(...L){return this._triggerChangesAfter(()=>super.unshift(...L))}getChangedItems(){const L=[...this._deletedItems];return this.filter(B=>{if(B.attributes.IsChanged)return!0;const tt=B.getPrimaryModelMode();return tt&&tt!==h.b.Update}).concat(L)}createItem(L){var U=this;const B=function(){var tt=(0,p.A)(function*(){const Z=yield U._generateItem(L||{});return U._insertItem(Z,L?.index),Z});return function(){return tt.apply(this,arguments)}}();return this._measurePerformanceService?this._measurePerformanceService.measureCallback("ViewModelCollection.createItem",()=>B()):B()}getPrimaryAttributeValues(){return Promise.all(this.map(L=>L?.[L?.primaryAttributeName]))}findByPrimaryAttribute(L){var U=this;return(0,p.A)(function*(){for(const B of U)if(yield U._isItemPrimaryAttributeEqual(B,[L]))return B})()}filterByPrimaryAttributes(L){var U=this;return(0,p.A)(function*(){const B=[];for(const tt of U)(yield U._isItemPrimaryAttributeEqual(tt,L))&&B.push(tt);return B})()}merge(L){const U=()=>{this._triggerChangesAfter(()=>{const B=this._mergeItems([...this],L);super.splice(0,this.length,...B),this._createdItems.splice(0,this._createdItems.length),L instanceof N&&this._mergeItems(this._deletedItems,L._deletedItems)})};return this._measurePerformanceService?this._measurePerformanceService.measure("ViewModelCollection.merge",()=>U()):U()}reload(L){return(0,_.lastValueFrom)(this._reload(L))}remove(L){const[U,B]=typeof L=="number"?[L,this[L]]:[this.indexOf(L),L];if(U>=0&&U<this.length)return this.splice(U,1),(0,_.lastValueFrom)(B.destroy())}clear(){return this.reload([])}moveTo(L,U){if(U>=this.length)throw new E.K("Target index cannot be greater than collection length");const B=this.indexOf(L);B===U||U<0||this._triggerChangesAfter(()=>{super.splice(U,0,super.splice(B,1)[0])})}destroy(){this._isDestroyed=!0,this._host=null;const L=this._reload([]);return this._formApiModel.clear({emitEvent:!1}),this._itemAttributeChanged.complete(),this._itemsChanged.complete(),this._destroyed$.next(),this._destroyed$.complete(),(0,_.lastValueFrom)(L)}}},67634:(P,j,o)=>{o.d(j,{o:()=>Ji});var p=o(73308),g=o(59131),l=o(56711),t=o(70941),f=o(6530),E=o(86464),y=o(82517),w=o(65288),m=o(89100),h=o(16397),_=o(21928),x=o(65182),I=o(79772),k=o(22524),A;(function(Mt){Mt.Model="Model",Mt.ViewModel="ViewModel"})(A||(A={}));var F;(function(Mt){Mt.Unknown="Unknown",Mt.Init="Init",Mt.Create="Create",Mt.Copy="Copy",Mt.Update="Update"})(F||(F={}));function z(Mt,d){return!!d?.find(S=>!S.scopeId&&S.triggers.find(V=>V.name===Mt.name))}function N(Mt,d){return!!d?.find(S=>S.scopeName===Mt.scopeName&&S.triggers?.find(V=>V.name===Mt.name))}function T(Mt,d,C){if(d.scopeName===Mt){if(z(d,C))return!1}else if(N(d,C))return!1;return!0}function L(Mt,d){return Mt===d||U(Mt)&&U(d)}function U(Mt){return!Mt||Mt==="null"}var B=o(63721),tt=o(82863),Z=o(62278),G=o(36486),Y=o(5960);class O{constructor(d){this.typeName="Terrasoft.Core.BusinessRules.Models.BusinessRuleAction",this.enabled=!0,this.uId=d?.uId||(0,f.qv)(),d&&(this.enabled=d.enabled)}toMetadata(){return{typeName:this.typeName,uId:this.uId,enabled:this.enabled}}getTypeName(){return this.typeName}getApplicability(){return[]}isValid(){return!0}onDataSourceAttributeNameChanged(d,C,S){}isAttributeUsed(d,C){return!1}getAffectedItems(){return[]}getRequiredItems(){return[]}}const st="businessRuleActionDesignerType";function gt(Mt){return function(d){Reflect.defineMetadata(st,Mt,d)}}var ct=o(47149),nt;(function(Mt){Mt.Const="Const",Mt.SysValue="SysValue",Mt.SysSetting="SysSetting",Mt.AttributeValue="AttributeValue",Mt.AttributeProperty="AttributeProperty",Mt.Formula="Formula"})(nt||(nt={}));class Q{get dataValueTypeName(){return this._dataValueTypeName}set dataValueTypeName(d){this._dataValueTypeName=d}get isLookup(){return this.dataValueTypeName===ct.Q[E.r.Lookup].name}get referenceSchemaName(){return this._referenceSchemaName}set referenceSchemaName(d){this._referenceSchemaName!==d&&(this._referenceSchemaName=d)}constructor(d){this.typeName="Terrasoft.Core.BusinessRules.Models.Expressions.BusinessRuleExpression",this._dataValueTypeName="",this._referenceSchemaName="",this.type=nt.Const,this.uId=d?.uId||(0,f.qv)(),d&&(this._dataValueTypeName=d.dataValueTypeName??"",this.type=d.type||this.type,this._referenceSchemaName=d.referenceSchemaName??"")}toMetadata(){return{typeName:this.typeName,uId:this.uId,type:this.type,dataValueTypeName:this.dataValueTypeName,referenceSchemaName:this.referenceSchemaName}}copy(){return new Q({...this.toMetadata(),uId:(0,f.qv)()})}isValid(){return!!this.uId}onDataSourceAttributeNameChanged(d,C,S){}getAffectedItem(){return null}clear(){throw new Error(`clear not implemented for BusinessRuleDesignExpression ${this.constructor.name}`)}setValue(d){throw new Error(`setValue not implemented for BusinessRuleDesignExpression ${this.constructor.name}`)}getValue(){throw new Error(`getValue not implemented for BusinessRuleDesignExpression ${this.constructor.name}`)}isEmpty(){throw new Error(`isEmpty not implemented for BusinessRuleDesignExpression ${this.constructor.name}`)}isAttributeUsed(d,C){return!1}}class q{static{this._expressionsTypes=new Map}static register(d,C){this._expressionsTypes.set(d,C)}static _getExpressionType(d){return this._expressionsTypes.get(d)??null}get(d){if(!d)return new Q;const C=q._getExpressionType(d.typeName);return C?new C(d):new Q(d)}}function lt(Mt){return function(d){q.register(Mt.typeName,d)}}var c;let Tt=c=class extends Q{constructor(d){super(d),this.typeName="Terrasoft.Core.BusinessRules.Models.Expressions.BusinessRuleAttributeExpression",this.path="",this.scopeId="",d&&(this.path=d.path,this.scopeId=d.scopeId==="null"?"":d.scopeId)}toMetadata(){return{...super.toMetadata(),path:this.path,scopeId:this.scopeId}}copy(){return new c({...this.toMetadata(),uId:(0,f.qv)()})}isValid(){return super.isValid()&&!!this.path}onDataSourceAttributeNameChanged(d,C,S){this.scopeId===d&&this.path===C&&(this.path=S)}getAffectedItem(){return{name:this.path}}isAttributeUsed(d,C){return this.path===C&&L(this.scopeId,d)}};Tt=c=(0,Y.__decorate)([lt({typeName:"Terrasoft.Core.BusinessRules.Models.Expressions.BusinessRuleAttributeExpression"}),(0,Y.__metadata)("design:paramtypes",[Object])],Tt);var Nt;let wt=Nt=class extends O{constructor(d){super(d),this._expressionFactory=new q,this.typeName="Terrasoft.Core.BusinessRules.Models.BusinessRuleAction",this.executorName="",d&&(this.executorName=d.executorName,this.expression=new Tt(d.expression),d.value&&(this.value=this._expressionFactory.get(d.value)))}getExpressionAffectedItems(){const d=this.expression?.getAffectedItem()??null;return d?[d]:[]}toMetadata(){return{...super.toMetadata(),executorName:this.executorName,expression:this.expression?.toMetadata(),value:this.value?.toMetadata()}}clone(){return new Nt(this.toMetadata())}copy(){const d=new Nt({...this.toMetadata(),uId:(0,f.qv)()});return d.expression=this.expression?.copy(),d.value=this.value?.copy(),d}getApplicability(){if(!this.expression?.path)return[];const C=this.expression.path.split(".").shift();return C?[{path:C}]:[]}isValid(){return super.isValid()&&!!this.expression?.isValid()&&!!this.value?.isValid()}getAffectedItems(){const d=this.getExpressionAffectedItems();return[...super.getAffectedItems(),...d]}};wt=Nt=(0,Y.__decorate)([gt("BusinessRuleDesignAction"),(0,Y.__metadata)("design:paramtypes",[Object])],wt);class Et extends O{constructor(){super(...arguments),this.typeName="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionSetProperty"}}class vt extends Et{constructor(d){super(d),this.items=[],d&&(Array.isArray(d.items)?this.items=d.items:this.items=d.items?.length>0?d.items.split(","):[])}_getAffectedItems(){return(this.items??[]).map(C=>({name:C}))}toMetadata(){return{...super.toMetadata(),items:this.items?.length>0?this.items.join(","):""}}getApplicability(){return this.isValid()?this.items.map(d=>({path:d})):[]}isValid(){return super.isValid()&&this.items?.length>0}getAffectedItems(){return[...super.getAffectedItems(),...this._getAffectedItems()]}isAttributeUsed(d,C){return this.items.includes(C)}}var Rt;const xe="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionEditableElement";let le=Rt=class extends vt{constructor(){super(...arguments),this.typeName=xe}clone(){return new Rt(this.toMetadata())}copy(){return new Rt({...this.toMetadata(),uId:(0,f.qv)()})}};le=Rt=(0,Y.__decorate)([gt("BusinessRuleEditableElementDesignAction")],le);var Ve;let Be=Ve=class extends Q{constructor(d){super(d),this.typeName="Terrasoft.Core.BusinessRules.Models.Expressions.BusinessRuleFilterLookupExpression",this.path="",this.filterExpression="",d&&(this.path=d.path,this.filterExpression=d.filterExpression==="null"?"":d.filterExpression)}toMetadata(){return{...super.toMetadata(),path:this.path,filterExpression:this.filterExpression}}copy(){return new Ve({...this.toMetadata(),uId:(0,f.qv)()})}isValid(){return super.isValid()&&!!this.path&&!!this.filterExpression}getAffectedItem(){return{name:this.path}}isAttributeUsed(d,C){return this.path===C}};Be=Ve=(0,Y.__decorate)([lt({typeName:"Terrasoft.Core.BusinessRules.Models.Expressions.BusinessRuleFilterLookupExpression"}),(0,Y.__metadata)("design:paramtypes",[Object])],Be);var _t;let X=_t=class extends wt{constructor(d){super(d),this.typeName="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionFilterLookup",this.clearValue=!1,this.populateValue=!1,d?(this.clearValue=d.clearValue??!1,this.populateValue=d.populateValue??!1):(this.clearValue=!0,this.populateValue=!0),this._processMetadata(d)}_isOldMetadataFormat(d){const C=!!d.expression?.path&&d.expression.path!=="null",S=d.value,V=!!S?.value&&S.value!=="null";return C&&V}_convertOldMetadata(d){const C={...d},S=d.expression?.path||"",$=d.value?.value,at={path:$,filterExpression:""},pt={path:S,filterExpression:""};if($.includes(".")){const[Ct,...Dt]=$.split(".");at.path=Ct,at.filterExpression=Dt.join(".")}return{...C,leftExpression:at,rightExpression:pt}}_processMetadata(d){d&&(this._isOldMetadataFormat(d)&&(d=this._convertOldMetadata(d)),delete this.expression,delete this.value,this.leftExpression=new Be(d?.leftExpression),this.rightExpression=new Be(d?.rightExpression))}toMetadata(){return{...super.toMetadata(),leftExpression:this.leftExpression?.toMetadata(),rightExpression:this.rightExpression?.toMetadata(),clearValue:this.clearValue,populateValue:this.populateValue}}clone(){return new _t({...this.toMetadata()})}copy(){return new _t({...super.copy().toMetadata(),leftExpression:this.leftExpression?.toMetadata(),rightExpression:this.rightExpression?.toMetadata(),clearValue:this.clearValue,populateValue:this.populateValue})}getApplicability(){return this.leftExpression?.path?[{path:this.leftExpression.path}]:[]}isValid(){return!!this.leftExpression?.isValid()&&!!this.rightExpression?.path}getAffectedItems(){const d=this.leftExpression?.getAffectedItem()??null,C=[...super.getAffectedItems()];return d&&C.push(d),C}getRequiredItems(){return[this.rightExpression?.getAffectedItem()].filter(d=>d)}isAttributeUsed(d,C){return this.leftExpression.isAttributeUsed(d,C)||this.rightExpression.isAttributeUsed(d,C)}};X=_t=(0,Y.__decorate)([gt("BusinessRuleFilterLookupAction"),(0,Y.__metadata)("design:paramtypes",[Object])],X);var de;let qn=de=class extends vt{constructor(){super(...arguments),this.typeName="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionHideElement"}clone(){return new de(this.toMetadata())}copy(){return new de({...this.toMetadata(),uId:(0,f.qv)()})}};qn=de=(0,Y.__decorate)([gt("BusinessRuleHideElementDesignAction")],qn);var an;const me="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionOptionalElement";let Ot=an=class extends vt{constructor(){super(...arguments),this.typeName=me}clone(){return new an(this.toMetadata())}copy(){return new an({...this.toMetadata(),uId:(0,f.qv)()})}};Ot=an=(0,Y.__decorate)([gt("BusinessRuleOptionalElementDesignAction")],Ot);var Lt;const Fe="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionReadonlyElement";let ve=Lt=class extends vt{constructor(){super(...arguments),this.typeName=Fe}clone(){return new Lt(this.toMetadata())}copy(){return new Lt({...this.toMetadata(),uId:(0,f.qv)()})}};ve=Lt=(0,Y.__decorate)([gt("BusinessRuleReadOnlyElementDesignAction")],ve);var ge;const jt="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionRequiredElement";let ee=ge=class extends vt{constructor(){super(...arguments),this.typeName=jt}clone(){return new ge(this.toMetadata())}copy(){return new ge({...this.toMetadata(),uId:(0,f.qv)()})}};ee=ge=(0,Y.__decorate)([gt("BusinessRuleRequiredElementDesignAction")],ee);var Gt=o(40269);class oe{static _getPrimaryDisplayAttributeName(d){return(0,p.A)(function*(){return(yield d.getSchema()).primaryDisplayAttributeName})()}static getLookupValue(d,C){var S=this;return(0,p.A)(function*(){const V=yield Gt.K.create(d),$=yield V.getSchema(),at=[$.primaryAttributeName,$.primaryDisplayAttributeName];$.primaryColorAttributeName&&at.push($.primaryColorAttributeName);const pt=yield V.load({parameters:[{type:w.E.PrimaryColumnValue,value:C}],attributes:at});if(!pt||pt.length===0)throw new Error(`Can't find value for '${C}'`);if(pt.length>1)throw new Error(`Load more than 1 data row for '${C}'`);const Ct=pt[0],Dt=yield S._getPrimaryDisplayAttributeName(V),Wt={value:C,displayValue:Ct[Dt]};return $.primaryColorAttributeName&&(Wt.primaryColorValue=Ct[$.primaryColorAttributeName]),Wt})()}}var Zt;let Ht=Zt=class extends Q{get value(){return this._value}set value(d){this._value!==d&&(this._displayValueInitialized=!1,this._value=d)}get referenceSchemaName(){return super.referenceSchemaName}set referenceSchemaName(d){this.referenceSchemaName!==d&&(super.referenceSchemaName=d,this._displayValueInitialized=!1)}get displayValue(){return this.isLookup&&this.referenceSchemaName?this._displayValueInitialized?this._displayValue:null:(this._displayValue=this.value,this._displayValueInitialized=!0,this._displayValue)}set displayValue(d){this._displayValue=d??"",this._displayValueInitialized=d!=null}get dataValueTypeName(){return super.dataValueTypeName}set dataValueTypeName(d){this.dataValueTypeName!==d&&(super.dataValueTypeName=d,this._displayValueInitialized=!1)}constructor(d){super(d),this.typeName="Terrasoft.Core.BusinessRules.Models.Expressions.BusinessRuleValueExpression",this._value="",this._displayValue="",this._displayValueInitialized=!1,d&&(this._value=d.value)}initDisplayValue(){var d=this;return(0,p.A)(function*(){if(d._displayValueInitialized)return Promise.resolve(d._displayValue);if(d.isLookup&&d.referenceSchemaName&&d._value){const C=yield oe.getLookupValue(d.referenceSchemaName,d._value);d._displayValue=C.displayValue}else d._displayValue=d.value;return d._displayValueInitialized=!0,Promise.resolve(d._displayValue)})()}toMetadata(){return{...super.toMetadata(),value:this.value}}copy(){return new Zt({...this.toMetadata(),uId:(0,f.qv)()})}isValid(){return super.isValid()?this.isLookup?(0,f.n7)(this.value):this.value!=null&&this.value!=="":!1}clear(){this._value="",this._displayValue="",this._displayValueInitialized=!1}setValue(d){d?(this.value=d.value,this.displayValue=d.displayValue):this.clear()}getValue(){return{value:this.value,displayValue:this.displayValue}}isEmpty(){return!this.value}};Ht=Zt=(0,Y.__decorate)([lt({typeName:"Terrasoft.Core.BusinessRules.Models.Expressions.BusinessRuleValueExpression"}),(0,Y.__metadata)("design:paramtypes",[Object])],Ht);var qe;let Gn=qe=class extends wt{constructor(d){super(d),this.typeName="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionSetFilter",d&&(this.value=new Ht(d.value))}clone(){return new qe(this.toMetadata())}copy(){return new qe(super.copy().toMetadata())}getApplicability(){return this.expression?.path?[{path:this.expression.path}]:[]}isAttributeUsed(d,C){return this.expression.isAttributeUsed(d,C)}};Gn=qe=(0,Y.__decorate)([gt("BusinessRuleSetFilterAction"),(0,Y.__metadata)("design:paramtypes",[Object])],Gn);var Ca;let Ie=Ca=class extends wt{constructor(){super(...arguments),this.typeName="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionSetValue"}clone(){return new Ca(this.toMetadata())}copy(){return new Ca(super.copy().toMetadata())}};Ie=Ca=(0,Y.__decorate)([gt("BusinessRuleSetValueDesignAction")],Ie);var ne;(function(Mt){Mt.DataSource="DataSource",Mt.Page="Page"})(ne||(ne={}));var ut;let xt=ut=class extends wt{constructor(d){super(d),this.typeName="Terrasoft.Core.BusinessRules.Models.Expressions.BusinessRuleSetValueItem",this.scope=d?.scopeId??"",this.scope==="null"&&(this.scope="")}clone(){return new ut(this.toMetadata())}copy(){return new ut({...super.copy().toMetadata(),scopeId:this.scope})}toMetadata(){return{...super.toMetadata(),scopeId:this.scope}}getApplicability(){if(!this.expression?.path)return[];const C=this.expression.path.split(".").shift();if(!C)return[];const S={path:C};return this.scope!==""&&(S.applicability=ne.DataSource,S.scope=this.scope),[S]}isAttributeUsed(d,C){return this.expression.path===C&&L(this.scope,d)}};xt=ut=(0,Y.__decorate)([gt("BusinessRuleSetValueItem"),(0,Y.__metadata)("design:paramtypes",[Object])],xt);var Vt;let Ut=Vt=class extends wt{constructor(d){super(d),this.typeName="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionSetValues",this.items=[],d&&(this.items=d.items?.map(C=>new xt(C)))}getExpressionAffectedItems(){return[]}clone(){return new Vt(this.toMetadata())}copy(){return new Vt({...super.copy().toMetadata(),items:this.items.map(d=>d.toMetadata())})}toMetadata(){const d={...super.toMetadata(),items:this.items?.length>0?this.items.map(C=>C.toMetadata()):[]};return this.items?.length>0&&(delete d.expression,delete d.value),d}getApplicability(){return this.items?.length?this.items.flatMap(d=>d.getApplicability()):[]}isValid(){return this.items?.length>0&&this.items.every(d=>d.isValid())}getAffectedItems(){const C=(this.items??[]).map(S=>S.getAffectedItems()).flat();return[...super.getAffectedItems(),...C]}getRequiredItems(){return this.getAffectedItems()}isAttributeUsed(d,C){return this.items.some(S=>S.isAttributeUsed(d,C))}};Ut=Vt=(0,Y.__decorate)([gt("BusinessRuleSetValuesDesignAction"),(0,Y.__metadata)("design:paramtypes",[Object])],Ut);var Xt;let he=Xt=class extends vt{constructor(){super(...arguments),this.typeName="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionShowElement"}clone(){return new Xt(this.toMetadata())}copy(){return new Xt({...this.toMetadata(),uId:(0,f.qv)()})}};he=Xt=(0,Y.__decorate)([gt("BusinessRuleShowElementDesignAction")],he);class ye{get(d){return d.typeName==="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionShowElement"?new he(d):d.typeName==="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionHideElement"?new qn(d):d.typeName==="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionReadonlyElement"?new ve(d):d.typeName==="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionEditableElement"?new le(d):d.typeName===me?new Ot(d):d.typeName===jt?new ee(d):d.typeName==="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionFilterLookup"?new X(d):d.typeName==="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionSetFilter"?new Gn(d):d.typeName==="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionSetValue"?new Ie(d):d.typeName==="Terrasoft.Core.BusinessRules.Models.Actions.BusinessRuleActionSetValues"?new Ut(d):new wt(d)}static{this.\u0275fac=function(C){return new(C||ye)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}var qt;(function(Mt){Mt[Mt.Condition=0]="Condition",Mt[Mt.Action=1]="Action",Mt[Mt.Trigger=2]="Trigger",Mt[Mt.Context=3]="Context",Mt[Mt.Unknown=4]="Unknown"})(qt||(qt={}));const Oe="crt-business-rules-cache";class ta{}var fn=o(49820);class Tn extends ta{constructor(d,C){super(),this._httpClient=d,this._cacheManager=C,this._cachedLoadScopesRequests=new Map,this.serviceEndpoint="/ServiceModel/BusinessRulesManagerService.svc/",this.getBusinessRulesConfigMethodName="GetBusinessRules"}_getBusinessRulesCache(){return(0,Z.from)(this._cacheManager.get(Oe))}_getCachedBusinessRulesScopes(d){const C=d.map(S=>{const V=this._getContextCacheKey(S.scopeType,S.scopeName);return this._getBusinessRulesCache().pipe((0,Z.switchMap)($=>(0,Z.from)($.get(V))),(0,Z.map)($=>$?{rules:$,scopeName:S.scopeName,scopeType:S.scopeType}:null))});return C.length?(0,Z.forkJoin)(C):(0,Z.of)([])}_getScopeType(d){return d==="Model"?A.Model:A.ViewModel}_mapResponseToBusinessRules(d){return!d?.businessRules||d.businessRules.length===0?[]:d.businessRules.map(C=>{const S=JSON.parse(C.businessRulesConfig);return{scopeName:C.schemaName,scopeType:this._getScopeType(C.type),rules:S}})}_getContextsScopeNames(d){return d.map(C=>C.scopeName)}_getContextCacheKey(d,C){return`Type:#${d}#-Name:#${C}#`}_getContextsScopeNamesRequestKey(d){return d.map(S=>this._getContextCacheKey(S.scopeType,S.scopeName)).join("_")}_getCachedLoadScopesRequest(d){const C=d.map(V=>this._getContextCacheKey(V.scopeType,V.scopeName)),S=[...this._cachedLoadScopesRequests.keys()].find(V=>C.every($=>V.includes($)));return this._cachedLoadScopesRequests.get(S)}_getNotLoadedBusinessRulesScopes(d){if(d.length===0)return(0,Z.of)([]);const C=this._getContextsScopeNames(d),S=this._getCachedLoadScopesRequest(d);if(S)return S.request$.pipe((0,Z.map)(pt=>pt.filter(Ct=>C.includes(Ct.scopeName))));const V=`${this.serviceEndpoint}${this.getBusinessRulesConfigMethodName}`,$={scopes:Array.from(new Map(d.map(pt=>[this._getContextCacheKey(pt.scopeType,pt.scopeName),{name:pt.scopeName,type:pt.scopeType,modelType:pt.modelType}])).values())},at=this._httpClient.post(V,$).pipe((0,Z.map)(pt=>this._mapResponseToBusinessRules(pt)),(0,Z.switchMap)(pt=>{const Ct=pt.map(Dt=>{const Wt=this._getContextCacheKey(Dt.scopeType,Dt.scopeName);return this._getBusinessRulesCache().pipe((0,Z.switchMap)(zt=>(0,Z.from)(zt.set(Wt,Dt.rules))))});return Ct.length?(0,Z.forkJoin)(Ct).pipe((0,Z.map)(()=>pt)):(0,Z.of)(pt)}),(0,Z.tap)(()=>{const pt=this._getContextsScopeNamesRequestKey(d);this._cachedLoadScopesRequests.delete(pt)}),(0,Z.share)());return this._cachedLoadScopesRequests.set(this._getContextsScopeNamesRequestKey(d),{request$:at,scopeNames:C}),at}getBusinessRulesByContexts(d){const C=d.filter(S=>S.scopeName&&S.modelType!=="crt.PageParametersDataSource");return(0,Z.from)(this._getCachedBusinessRulesScopes(C)).pipe((0,Z.switchMap)(S=>{const V=C.filter(at=>!S?.some(pt=>pt?.scopeName===at.scopeName&&pt.scopeType===at.scopeType));return this._getNotLoadedBusinessRulesScopes(V).pipe((0,Z.map)(at=>[...S,...at].filter(Boolean)),(0,Z.catchError)(at=>{const pt=C?.map(Ct=>Ct.scopeName).join(", ");return console.warn(`An error occurred during getting business rules execution for scopes: ${pt}.`,at),(0,Z.of)([])}))}))}clearCachedBusinessRules(){return this._getBusinessRulesCache().pipe((0,Z.switchMap)(d=>(0,Z.from)(d.clear())),(0,Z.map)(()=>!0))}static{this.\u0275fac=function(C){return new(C||Tn)(g.\u0275\u0275inject(B.HttpClient),g.\u0275\u0275inject(fn.G))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Tn,factory:Tn.\u0275fac,providedIn:"root"})}}var De;(function(Mt){Mt.ChangeAttributeValue="ChangeAttributeValue",Mt.ChangeAttributeProperty="ChangeAttributeProperty",Mt.DataLoaded="DataLoaded",Mt.ContextReady="ContextReady"})(De||(De={}));const fi=new Map([[0,De.ChangeAttributeValue],[1,De.ChangeAttributeProperty],[2,De.DataLoaded]]);function $n(Mt){return fi.has(Mt)?fi.get(Mt):De.DataLoaded}class kt{canExecute(d,C,S){const V=S.map(at=>at.triggers).flat();return V.length===0?!1:(d?.triggers??[]).some(at=>at.type===De.ContextReady)?S.some(at=>at.triggers.some(pt=>$n(pt.type)===De.DataLoaded&&!pt.name)):V.some(at=>{const pt=$n(at.type);if(pt===De.DataLoaded&&d.scopeType===A.Model)return d.triggers.some(Dt=>Dt.type===De.DataLoaded);if(!at.scopeId)return d.triggers.some(Dt=>Dt.name===at.name&&Dt.type===pt);const Ct=C.find(Dt=>Dt.scopeId===at.scopeId);return Ct==null?!1:Ct.triggers.some(Dt=>Dt.name===at.name&&Dt.type===pt)})}static{this.\u0275fac=function(C){return new(C||kt)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:kt,factory:kt.\u0275fac})}}const yt="Terrasoft.Core.BusinessRules.Models.Conditions.BusinessRuleGroupCondition";function St(Mt){return Mt&&"path"in Mt?Mt.path:""}function Bt(Mt){const d=[];return Mt.conditions&&Mt.conditions.forEach(C=>{const S=Kt(C);d.push(...S)}),d}function Kt(Mt){if(Ke(Mt))return Bt(Mt);const d=Mt;return[St(d.leftExpression),St(d.rightExpression)].filter(C=>C)}function ze(Mt,d){return Mt.flatMap(C=>d.get(C).getRequiredItems()).map(C=>C.name)}function Ke(Mt){return Mt.typeName===yt}function Cn(Mt){return Mt.map(d=>Kt(d)).flat().filter(d=>d!=null)}function Ge(Mt,d){return Mt.flatMap(C=>C.cases.flatMap(S=>ze(S.actions,d)))}function be(Mt){return!Mt.cases||Mt.cases.length===0?[]:Mt.cases.map(d=>d.condition).filter(d=>d!=null)}function gr(Mt){return Mt.map(d=>be(d)).flat()}var Re=o(28399);const bi=[nt.Const,nt.SysValue,nt.SysSetting],Kr=new Set(bi);function Eo(Mt){return Mt?!!Mt.type&&Kr.has(Mt.type):!0}function Ci(Mt){return Mt.conditions?Mt.conditions.every(d=>Zi(d)):!1}function Zi(Mt){if(!Mt)return!1;if(Ke(Mt))return Ci(Mt);const d=Mt;return(0,Re.isNil)(d.leftExpression)&&(0,Re.isNil)(d.rightExpression)?!1:Eo(d.leftExpression)&&Eo(d.rightExpression)}function Qa(Mt){return Mt.some(d=>d.type===De.ContextReady)}function yi(Mt,d){return Qa(Mt)?d.some(C=>Zi(C)):!1}function xs(Mt,d){return Qa(Mt)?d.some(C=>C.cases?.some(S=>!S.condition)):!1}class Aa{_canExecuteByConditionsAttributePaths(d,C){const S=d.filter($=>$.type!==De.DataLoaded).map($=>$.name);if(!S||S.length===0)return!1;const V=new Set(Cn(C));return S.some($=>V.has($))}canExecute(d,C){if(!C||C.length===0)return!1;const S=gr(C),V=yi(d.triggers,S),$=xs(d.triggers,C);return V||$?!0:this._canExecuteByConditionsAttributePaths(d.triggers,S)}static{this.\u0275fac=function(C){return new(C||Aa)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Aa,factory:Aa.\u0275fac})}}var Ss=o(5240),ws=o(94950);class La{constructor(d,C){this._businessRulesManager=d,this._businessRuleDesignActionFactory=C,this._scopeAttributes=[]}_filterTriggers(d,C){const S=C.filter(at=>at.scopeName===d.parentScopeId),$=C.find(at=>at.scopeName===d.scopeName&&at.scopeType===d.scopeType)?.rules.map(at=>at.triggers).flat();return d.triggers.filter(at=>{if(at.type===De.ContextReady||at.type===De.DataLoaded)return!0;const pt=$?.some(Wt=>Wt&&Wt.name===at.name&&$n(Wt.type)===at.type),Dt=S.flatMap(Wt=>Wt.rules.flatMap(zt=>zt.triggers)).some(Wt=>Wt.name===at.name&&$n(Wt.type)===at.type);return pt||Dt})}_filterAttributes(d){const S=this._scopeAttributes.filter(at=>at.scopeName===d.scopeName).map(at=>at.attributes).flat(),V=this._scopeAttributes.filter(at=>at.scopeName!==d.scopeName).flatMap(at=>[...at.attributes]);return d.attributes.filter(at=>S.includes(at.attributeName)||V.includes(at.attributeName)||at.isSignificant)}_cacheUsedAttributes(d){d.forEach(C=>{if(!this._scopeAttributes.find(S=>S.scopeName===C.scopeName&&S.scopeType===C.scopeType)){const S=gr(C.rules),V=Cn(S),$=Ge(C.rules,this._businessRuleDesignActionFactory),at=C.rules.flatMap(pt=>pt.triggers?.map(Ct=>Ct.name)).filter(Boolean);this._scopeAttributes.push({scopeName:C.scopeName,scopeType:C.scopeType,attributes:[...V,...$,...at]})}})}_hasActiveRules(d,C){return(C.find(at=>at.scopeName===d.scopeName&&at.scopeType===d.scopeType)?.rules??[]).filter(at=>at.enabled===!0).length>0}clearCachedScopeAttributes(){this._scopeAttributes=[]}filter(d){return this._businessRulesManager.getBusinessRulesByContexts(d).pipe((0,Z.tap)(C=>this._cacheUsedAttributes(C)),(0,Z.map)(C=>d.map(V=>({...V,attributes:this._filterAttributes(V),triggers:this._filterTriggers(V,C)})).filter(V=>this._hasActiveRules(V,C)?!0:V.attributes.length>0)))}static{this.\u0275fac=function(C){return new(C||La)(g.\u0275\u0275inject(Tn),g.\u0275\u0275inject(ye))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:La,factory:La.\u0275fac,providedIn:"root"})}}class ka{constructor(d,C,S,V,$,at,pt){this._businessRulesManager=d,this._businessRulesTriggerExecutor=C,this._businessRulesConditionExecutor=S,this._httpClient=V,this._messageChannelService=$,this._featureService=at,this._contextFilter=pt,this._businessRulesResponseEventName="BusinessRuleExecutionResponse",this._serviceUrl="ServiceModel/BusinessRulesEngineService.svc/Execute",this._businessRulesRequestEventName="BusinessRuleExecutionRequest",this._businessRuleDesignActionFactory=new ye,this._configurationStructureChangedSubscribe()}_configurationStructureChangedSubscribe(){this._messageChannelService.getMessages("ConfigurationStructureChanged").pipe((0,G.switchMap)(()=>(this._contextFilter.clearCachedScopeAttributes(),this._businessRulesManager.clearCachedBusinessRules()))).subscribe()}_featureStates(){return(0,Z.from)(this._featureService.getFeaturesState(["BRules-UseWebSocketChannel","BRules-DisableContextOptimization"])).pipe((0,G.map)(([d,C])=>({useHttpChannel:!d,disableContextOptimization:C})))}_sendWebSocketMessage(d){const C=(0,f.qv)();return d.businessRulesSessionId=C,new Z.Observable(S=>{const V=this._messageChannelService.messageEvent$.pipe((0,G.map)($=>$.body),(0,G.filter)($=>$!=null),(0,G.filter)($=>$.eventName===this._businessRulesResponseEventName),(0,G.filter)($=>$.businessRulesSessionId===C),(0,G.map)($=>$.payload)).subscribe({next:$=>{V.unsubscribe(),$.success?S.next($.businessRulesResponse):(console.error("An error occurred during business rules execution. "+$.errorInfo.errorCode+": "+$.errorInfo.message),S.next([])),S.complete()},error:$=>{V.unsubscribe(),console.error("An error occurred during business rules execution. "+$.errorCode+": "+$.message),S.next([]),S.complete()},complete:()=>{V.unsubscribe(),S.error("WebSocket channel closed")}});this._messageChannelService.sendMessage(d,tt.G.PTP).pipe((0,Z.take)(1)).subscribe()})}_createWebSocketRequest(d){return{eventName:this._businessRulesRequestEventName,contexts:d}}_executeUsingWebSocket(d){const C=this._createWebSocketRequest(d);return this._sendWebSocketMessage(C)}_logErrorMessageAndReturnDefBusinessRuleResponse(d){return console.error("An error occurred during business rules execution. "+d.errorCode+": "+d.message),(0,Z.of)([])}_executeUsingHttp(d){return this._httpClient.post(this._serviceUrl,{contexts:d},{headers:new B.HttpHeaders({"Content-Type":"application/json"})}).pipe((0,G.mergeMap)(C=>C.success?(0,Z.of)(C.businessRulesResponse):this._logErrorMessageAndReturnDefBusinessRuleResponse(C.errorInfo)),(0,G.catchError)(C=>this._logErrorMessageAndReturnDefBusinessRuleResponse(C)))}_canExecuteBusinessRulesByContexts(d){return this._businessRulesManager.getBusinessRulesByContexts(d).pipe((0,G.map)(C=>{const S=C.filter(V=>V.rules&&V.rules.length>0);return S.length===0?!1:S.some(V=>{const $=d.find(Dt=>Dt.scopeName===V.scopeName&&Dt.scopeType===V.scopeType),at=d.filter(Dt=>Dt.parentScopeId===$.scopeId),pt=this._businessRulesTriggerExecutor.canExecute($,at,V.rules),Ct=this._businessRulesConditionExecutor.canExecute($,V.rules);return pt||Ct})}))}_getContextsWithScope(d){return d.filter(C=>C.scopeName&&C.scopeId)}_getBusinessRuleActions(d){return d.cases.map(C=>C.actions).flat().filter(C=>C.enabled).map(C=>this._businessRuleDesignActionFactory.get(C))}_getBusinessRuleAffectedAttributes(d){return this._getBusinessRuleActions(d).map(S=>S.getAffectedItems()).flat()}_getAffectedAttributes(d){let C=d.rules.filter(S=>S.enabled).map(S=>this._getBusinessRuleAffectedAttributes(S)).flat();return C=this._getUniqueAffectedAttributes(C),C.forEach(S=>{S.scopeName=d.scopeName}),C}_getUniqueAffectedAttributes(d){const C=d.map(V=>[V.name,V]);return[...new Map(C).values()]}_execute(d){return this._featureStates().pipe((0,G.switchMap)(({useHttpChannel:C,disableContextOptimization:S})=>(0,Z.forkJoin)({useHttpChannel:(0,Z.of)(C),executionContexts:S?(0,Z.of)(d):this._contextFilter.filter(d)})),(0,G.switchMap)(({useHttpChannel:C,executionContexts:S})=>(C?this._executeUsingHttp(S):this._executeUsingWebSocket(S)).pipe((0,G.map)(V=>({executionResults:V,executionContexts:S})))),(0,G.switchMap)(({executionResults:C,executionContexts:S})=>this._logUnsuccessfulBusinessRulesExecution(C,S).pipe((0,G.map)(()=>C))))}_logUnsuccessfulBusinessRulesExecution(d,C){const S=d?.filter(V=>V?.errors?.length>0).map(V=>V.errors).flat();return S?.length===0?(0,Z.of)(void 0):(0,Z.from)(this._featureService.getFeatureState("BRules-ShowChildRules")).pipe((0,G.switchMap)(V=>this._businessRulesManager.getBusinessRulesByContexts(C).pipe((0,G.map)($=>$.map(at=>at.rules).flat()),(0,G.tap)($=>{S.map(at=>this._getUnsuccessfulBusinessRuleExecutionMessage(at,$,V)).forEach(at=>{console.error(at)})}),(0,G.map)(()=>{}))))}_getUnsuccessfulBusinessRuleExecutionMessage(d,C,S){const V="Business rule execution error: ",$=`Error message: "${d.message}"`,at=d.type===qt.Unknown?"":`The error occurred in the business rule ${qt[d.type]?.toLocaleLowerCase()}s.`;let pt=C.find(Me=>Me.uId===d.businessRuleId);if(!pt)return`${V}Rule id - "${d.businessRuleId}". ${$}. ${at}`;!(0,f.gZ)(pt.parentUId)&&!S&&(pt=C.find(Me=>Me.uId===pt.parentUId));const Ct=pt.caption||"",Dt=pt.name,Wt=`Rule Title - "${Ct}"`,zt=`Rule Code - "${Dt}"`;return`${V}${Wt}, ${zt}. ${$}. ${at}`}execute(d){const C=this._getContextsWithScope(d);return C.length===0?(0,Z.of)([]):this._canExecuteBusinessRulesByContexts(d).pipe((0,G.switchMap)(S=>S?this._execute(C):(0,Z.of)([])),(0,G.catchError)(S=>(console.warn(`An error occurred during business rules execution for scopes: ${d?.map(V=>V.scopeName).join(", ")}.`,S),(0,Z.of)([]))))}getAffectedAttributes(d){var C=this;return(0,p.A)(function*(){if(d.length===0)return[];const S=d.filter(at=>at.scopeName!=null),$=(yield(0,Z.firstValueFrom)(C._businessRulesManager.getBusinessRulesByContexts(S))).filter(at=>at.rules&&at.rules.length>0);return $.length===0?[]:$.map(at=>C._getAffectedAttributes(at)).flat()})()}static{this.\u0275fac=function(C){return new(C||ka)(g.\u0275\u0275inject(Tn),g.\u0275\u0275inject(kt),g.\u0275\u0275inject(Aa),g.\u0275\u0275inject(B.HttpClient),g.\u0275\u0275inject(Ss.A),g.\u0275\u0275inject(ws.w),g.\u0275\u0275inject(La))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:ka,factory:ka.\u0275fac})}}class ae{static{this._actionAppliers=new Map}static register(d,C){ae._actionAppliers.set(d,C)}get(d){const C=ae._actionAppliers.get(d.typeName);if(!C)throw new Error(`Business rule applier for change type ${d.typeName} not found.`);return new C(d)}static{this.\u0275fac=function(C){return new(C||ae)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:ae,factory:ae.\u0275fac})}}class H{constructor(d){this._actionApplierFactory=d}_applyBusinessRuleAction(d,C,S){const V=this._actionApplierFactory.get(S);return(0,Z.firstValueFrom)(V.apply(d,C))}_applyBusinessRule(d,C){var S=this;return(0,p.A)(function*(){const V={id:C.scopeId,name:C.scopeName,type:C.scopeType,triggers:C.triggers};if(C.actions.length===0)return Promise.resolve(null);const $=[];for(const at of C.actions){const pt=yield S._applyBusinessRuleAction(d,V,at);$.push(pt)}return $})()}_applyBusinessRules(d,C){var S=this;return(0,p.A)(function*(){const V=[];for(const $ of C){const at=yield S._applyBusinessRule(d,$);V.push(at)}return V})()}applyRules(d,C){return C&&C.length>0?(0,Z.from)(this._applyBusinessRules(d,C)):(0,Z.of)(null)}static{this.\u0275fac=function(C){return new(C||H)(g.\u0275\u0275inject(ae))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:H,factory:H.\u0275fac})}}class K{constructor(d={preventAttributeChangeRequest:!1,preventRunBusinessRules:!1,preventStateChange:!1,isMaskedValue:!1}){this._preventAttributeChangeRequest=!1,this._preventStateChange=!1,this._preventRunBusinessRules=!1,this._isMaskedValue=!1,this._setOptions(d)}_setUsingSilent(d){this._preventStateChange=d,this._preventRunBusinessRules=d,this._preventAttributeChangeRequest=!1}_setOptions(d){this._preventAttributeChangeRequest=d?.preventAttributeChangeRequest??this._preventAttributeChangeRequest,this._preventStateChange=d?.preventStateChange??this._preventStateChange,this._preventRunBusinessRules=d?.preventRunBusinessRules??this._preventRunBusinessRules,this._isMaskedValue=d?.isMaskedValue??this._isMaskedValue}getAsSilent(){return this._preventRunBusinessRules&&this._preventStateChange}getIsMaskedValue(){return this._isMaskedValue}setOptions(d){if((0,Re.isUndefined)(d?.silent)){const C=(0,Re.pick)(d,"preventAttributeChangeRequest","preventStateChange","preventRunBusinessRules","isMaskedValue");this._setOptions(C)}else this._setUsingSilent(d?.silent)}getOptions(){return{preventAttributeChangeRequest:this._preventAttributeChangeRequest,preventRunBusinessRules:this._preventRunBusinessRules,preventStateChange:this._preventStateChange,isMaskedValue:this._isMaskedValue}}reset(){this._preventAttributeChangeRequest=!1,this._preventRunBusinessRules=!1,this._preventStateChange=!1,this._isMaskedValue=!1}}var it=o(22149),dt=o(89285),ft;(function(Mt){Mt.EntityDataSource="crt.EntityDataSource",Mt.WebServiceDataSource="crt.WebServiceDataSource",Mt.PageParametersDataSource="crt.PageParametersDataSource"})(ft||(ft={}));var At;(function(Mt){Mt.Reload="reload",Mt.Merge="merge"})(At||(At={}));var Yt=o(70668);function we(Mt){let d=!1;const C=[];return Object.keys(Mt).forEach(S=>{Ae(S,Mt)&&(d=!0,C.push(S))}),{hasCycles:d,cycledModelsNames:C}}function Ae(Mt,d,C=[]){if(!d[Mt])return!1;const S=Object.values(d[Mt]);return S.some($=>C.includes(cn($)))?!0:(C.push(Mt),!S.every($=>!Ae(cn($),d,C)))}function cn(Mt){return Mt.relationPath.split(".")[0]}var u=o(57852),ln=o(99298),ya=o(26594),vi=o(33656),To=o(47130),Po=o(40129),Zr=o(12841);class ki{constructor(d,C){this.id=d,this._baseHostInjector=C,this._hostModuleTypes=[],this._hostModuleRefs=[],this._lazyModulesBySource=new Map,this._hostInjector=this._baseHostInjector}_createDynamicNgModule(d){const S=this._hostInjector.get(Zr.m,[]).map(at=>({provide:Zr.m,useValue:at,multi:!0})),V=(0,g.NgModule)({providers:S})(class{}),$=(0,g.NgModule)({imports:[V,...d]})(class{});return(0,g.createNgModule)($,this._hostInjector)}inject(d){return this._hostInjector.get(d)}addLazyModule(d){const C=Po.g.get(d);if(!C)throw new Error("Module was not bootstrapped");const{source:S}=C;this._lazyModulesBySource.has(S)||this._lazyModulesBySource.set(S,new Set),this._lazyModulesBySource.get(S).add(d)}getLazyModules(d){return[...this._lazyModulesBySource.get(d)??[]]}connectHostLazyModules(){const d=this.getLazyModules("host");if((0,Re.isEqual)(d,this._hostModuleTypes))return;const C=this._createDynamicNgModule(d);this._hostModuleTypes=d,this._hostModuleRefs.push(C),this._hostInjector=C.injector}destroy(){for(const d of this._hostModuleRefs)d.destroy();this._hostModuleRefs=[]}}var jn=o(74975);class Ra extends jn.S{constructor(){super(...arguments),this._injectionContextsMap=new Map}createContext(d,C){const S=new ki(d,C);return this._injectionContextsMap.set(d,S),S}injectFromContext(d,C){return this._injectionContextsMap.get(d).inject(C)}removeContext(d){return this._injectionContextsMap.get(d)?.destroy(),this._injectionContextsMap.delete(d)}static{this.\u0275fac=(()=>{let d;return function(S){return(d||(d=g.\u0275\u0275getInheritedFactory(Ra)))(S||Ra)}})()}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Ra,factory:Ra.\u0275fac,providedIn:"root"})}}var hr=o(29423),Ya=o(67020),Mc=o(69635);const ea=100;class Ja extends jn.S{constructor(){super(...arguments),this._window=(0,g.inject)(k.ZP),this._requestBuffer=[],this._requestIter=0,this._cachedRequestIter=0,this._compressedRequestIter=0}_onRequest(d){const C=d.getEntries();for(const S of C){if(!S.name.startsWith(this._window.location.origin))return;this._requestIter++,S.transferSize||this._cachedRequestIter++,S.encodedBodySize!==S.decodedBodySize&&this._compressedRequestIter++,S.fetchStart&&S.responseStart&&S.responseEnd&&this._requestBuffer.push({name:S.name,initiatorType:S.initiatorType,transferSize:S.transferSize,responseStart:S.responseStart,responseEnd:S.responseEnd,fetchStart:S.fetchStart})}}_calculateLatency(d,C){return d/(C/1e3)/1e3/1e3||0}_normalizeUrl(d,C){try{return(d+new URL(C)?.pathname.replace("/0/","/")).slice(0,ea)}catch{return C?.slice(0,ea)}}_reset(){this._resourcePerformanceObserver?.disconnect(),this._markPerformanceObserver?.disconnect(),this._requestBuffer=[],this._compressedRequestIter=0,this._cachedRequestIter=0,this._requestIter=0}_downlink(){let d=0,C=0;return this._requestBuffer.forEach(V=>{V.initiatorType==="xmlhttprequest"&&(d+=V.transferSize,C+=V.responseEnd-V.responseStart)}),+this._calculateLatency(d,C).toFixed(1)}_withCache(){return Math.round(this._cachedRequestIter/this._requestIter*100)||0}_withCompression(){return Math.round(this._compressedRequestIter/this._requestIter*100)||0}_topRequests(d){const C=[];for(let S=this._requestBuffer.length-1;S>=0;S--){const V=this._requestBuffer[S],$=Math.round(V.responseEnd-V.fetchStart);if($>=d.topRequestThreshold&&C.length<d.topRequestCount){const at=this._normalizeUrl($,V.name);if(C.push(at),C.length===d.topRequestThreshold)return C}}return C}start(){this._reset(),this._resourcePerformanceObserver=this._resourcePerformanceObserver??new PerformanceObserver(this._onRequest.bind(this)),this._resourcePerformanceObserver.observe({type:"resource",buffered:!this._firstStart}),this._firstStart=!0}measure(d={topRequestThreshold:400,topRequestCount:5}){const C={transferred:0};return this._requestBuffer.sort((S,V)=>S.fetchStart-V.fetchStart),C.duration=this._calculateDuration(),C.transferred=this._calculateTransferred(),C.downlink=this._downlink(),C.cache=this._withCache(),C.compression=this._withCompression(),C.topRequests=this._topRequests(d),this._reset(),C}_calculateDuration(){let d=this._requestBuffer[0]?.responseEnd,C=this._requestBuffer[0]?.responseEnd-this._requestBuffer[0]?.fetchStart;return this._requestBuffer.forEach(S=>{d<S.fetchStart?C+=S.responseEnd-S.fetchStart:d<S.responseEnd&&(C+=S.responseEnd-d),d=Math.max(d,S.responseEnd)}),Math.round(C)||0}_calculateTransferred(){let d=this._requestBuffer.reduce((C,S)=>C+S.transferSize,0);return d=Math.round(d/1e3)||0,d}ngOnDestroy(){this._reset()}static{this.\u0275fac=(()=>{let d;return function(S){return(d||(d=g.\u0275\u0275getInheritedFactory(Ja)))(S||Ja)}})()}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Ja,factory:Ja.\u0275fac,providedIn:"root"})}}var Xa;(function(Mt){Mt.PageStartLoading="PageStartLoading",Mt.PageFinishLoading="PageFinishLoading"})(Xa||(Xa={}));class Qr extends jn.S{constructor(){super(),this._ngZone=(0,g.inject)(g.NgZone),this._window=(0,g.inject)(k.ZP),this._featureValues=(0,g.inject)(ya.G,{optional:!0}),this._isAngularHost=(0,g.inject)(Mc.x,{optional:!0}),this._performanceNetworkObserver=(0,g.inject)(Ja),this._measureName="PageLoadDuration",this._debounceTime=100,this._subscriptions=new Z.Subscription,this._measurements=[],this._tasks=new Set,this._loadingStarted=!1,this._loadingStartedCount=new Set,this._loadingFinishedCount=new Set,this._tasksQueueSubject=new Z.Subject,this._pageLoadLifeCycleSubject=new Z.Subject,this._iterationCounter=0,this.pageLoadDuration$=new Z.Subject,this._enableMeasurement=!!this._isAngularHost&&!this._featureValues?.DisablePerformancePageLoadMeasurement,this._initSubscriptions(),(0,Re.set)(this._window,"creatio.performance.measurePerformancePageLoadService",this)}_initSubscriptions(){this._enableMeasurement&&(this._subscriptions.add(this._tasksQueueSubject.pipe((0,Z.debounceTime)(this._debounceTime),(0,G.filter)(d=>this._loadingStartedCount.size===this._loadingFinishedCount.size&&this._loadingStarted&&d.size===1&&d.has(Xa.PageStartLoading))).subscribe({next:()=>this._pageLoadLifeCycleSubject.next(Xa.PageFinishLoading)})),this._subscriptions.add(this._pageLoadLifeCycleSubject.subscribe({next:d=>{this._ngZone.runOutsideAngular(()=>{d===Xa.PageStartLoading&&this._onStartPageLoadMeasure(),d===Xa.PageFinishLoading&&this._onEndPageLoadMeasure()})}})))}_onStartPageLoadMeasure(){this.addTask(Xa.PageStartLoading)}_getLocationInfo(){const d=this._window.location.hash,[C,S]=d.slice(1).split("/");return{moduleName:C,schemaName:S,hash:d}}_getMeasurementDetail(){const C=((0,Re.get)(this._window,"creatio.performance")??{}).focusLossDuringLoad,S={iteration:this._iterationCounter++,location:this._getLocationInfo(),isReuse:!!this._isReuseMode,focusLossDuringLoad:!!C};return this._featureValues.DisablePerformancePageNetworkMeasurement||(S.network=this._performanceNetworkObserver.measure()),S}_onEndPageLoadMeasure(){this.removeTask(Xa.PageFinishLoading),this.removeTask(Xa.PageStartLoading);const d={start:this._startTime,detail:this._getMeasurementDetail(),end:this._window.performance.now()};this._measurements.push(()=>this._window.performance.measure(this._measureName,d)),this.pageLoadDuration$.next(d),this._reset()}_reset(){const d=(0,Re.get)(this._window,"creatio.performance");d.initialLoad?d.initialLoad=!1:d.focusLossDuringLoad=null,this._startTime=null,this._tasks.clear(),this._loadingStarted=!1,this._loadingStartedCount.clear(),this._loadingFinishedCount.clear(),this._isReuseMode=null}setReuseMode(d){this._enableMeasurement&&this._isReuseMode===null&&(this._isReuseMode=d)}startPageLoadMeasure(d=performance.now()){this._enableMeasurement&&this._ngZone.runOutsideAngular(()=>{this._reset(),this._startTime=d,this._pageLoadLifeCycleSubject.next(Xa.PageStartLoading),this._featureValues.DisablePerformancePageNetworkMeasurement||this._performanceNetworkObserver.start()})}addTask(d,C={}){this._enableMeasurement&&this._ngZone.runOutsideAngular(()=>{C.targetTask&&(this._loadingStartedCount.add(d),this._loadingStarted=!0),this._tasks.add(d),this._tasksQueueSubject.next(this._tasks)})}removeTask(d,C={}){this._enableMeasurement&&this._ngZone.runOutsideAngular(()=>{C.targetTask&&this._loadingFinishedCount.add(d),this._tasks.delete(d),this._tasksQueueSubject.next(this._tasks)})}getMeasurements(){const d=this._measurements.map(C=>C());return this._measurements=[],d}getMeasureDataOnTimeout$(){const d={start:this._startTime,end:this._window.performance.now(),detail:this._getMeasurementDetail(),timeout:!0};return this._measurements.push(()=>this._window.performance.measure(this._measureName,d)),this._reset(),(0,Z.of)(d)}ngOnDestroy(){this._reset(),this._subscriptions.unsubscribe(),this._tasksQueueSubject.complete(),this._pageLoadLifeCycleSubject.complete(),this.pageLoadDuration$.complete()}static{this.\u0275fac=function(C){return new(C||Qr)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Qr,factory:Qr.\u0275fac,providedIn:"root"})}}var Kn=o(92141),Qi=o(73723),Ic=o(56005),Na=o(68678),xc=o(66823);class Oo{constructor(d,C,S=!1){this.name=d,this._value=C,this._locked=S,this._isValueInitialized=!1,this._pendingValue=void 0,this._onChanged=new g.EventEmitter,this._hasInitialValue=!1,C!=null&&(this._isValueInitialized=!0,this._hasInitialValue=!0,this._initialValue=C)}get onChanged(){return this._onChanged}get value(){return this.getValue()}set value(d){this.setValue(d)}get initialValue(){return this._initialValue}set initialValue(d){this.setInitialValue(d)}get hasInitialValue(){return this._hasInitialValue}get isLocked(){return this._locked}emitValueChanged(d){this.onChanged.emit(d)}areValuesEqual(d,C){return(0,Re.isEqual)(d,C)}getValue(){return this._value}setValue(d,C=!1){if(this._locked||(this._isValueInitialized=!0,this._pendingValue=d,this.areValuesEqual(this._value,d)))return;const S=(0,Re.cloneDeep)(this._value);this._value=(0,Re.cloneDeep)(d),!C&&this.emitValueChanged({name:this.name,value:d,oldValue:S})}resetValue(){this.hasInitialValue&&this.setValue(this.initialValue)}setInitialValue(d){this._hasInitialValue=!0,this._initialValue=d,this._isValueInitialized||this.setValue(d,!0)}setPending(d){const C=typeof this._pendingValue>"u"?this.value:this._pendingValue;this.value=d,this._pendingValue=C}resetPending(){this.value=this._pendingValue,this._pendingValue=void 0}}class Dn extends Oo{constructor(d,C,S,V,$=!1){super(d,C,$),this._validatorTypeResolver=S,this._injectionContext=V,this._onValidatorChanged=new g.EventEmitter}get onValidatorChanged(){return this._onValidatorChanged}_createValidatorInfo(){return{name:this.validatorTypeName,instance:this._validatorTypeResolver.getValidator(this.validatorTypeName,{injectionContext:this._injectionContext}),disabled:!0}}emitValueChanged(d){super.emitValueChanged(d),this.hasValidator&&this.updateValidator(d)&&this._onValidatorChanged.emit()}get hasValidator(){return!1}updateValidator(d){return!1}setValidatorInfo(d,C=!1){this.validatorInfo=d}initializeValidator(d,C=!1){if(!this.hasValidator||this._validatorTypeResolver==null)return d;let S=d.find($=>$.name===this.validatorTypeName),V=!1;return S==null&&(S=this._createValidatorInfo(),V=!0),this.setValidatorInfo(S,C),V?[...d,S]:d}}class Sc{static{this._properties=new Map}static _get(d){if(!d)return Dn;if(this._properties.has(d))return this._properties.get(d);throw new Error(`CrtControlProperty with type ${d} doesn't registered`)}static register(d,C){this._properties.set(d,C)}static create(d){const C=this._get(d.typeName);return new C(d.name,d.value,d.validatorTypeResolver,d.injectionContext,d.locked===!0)}}const Mi="DataValueType";class Yi extends Oo{get propertiesConfig(){return[{name:"visible",defaultValue:!0},{name:"displayColor"},{name:"required",typeName:"crt.Required",defaultValue:!1}]}get formControl(){return this._formControl||(this._formControl=new l.FormControl(this.value),this._subscribeOnFormControl(this._formControl)),this._formControl}set formControl(d){this._formControl=d,this._subscribeOnFormControl(this._formControl)}get properties(){return this._properties}get onPropertyChanged(){return this._onPropertyChanged}get visible(){return this.getPropertyByName("visible").getValue()}set visible(d){const C=this.getPropertyByName("visible");C.value=d}get required(){return this.getPropertyByName("required").getValue()}set required(d){const C=this.getPropertyByName("required");C.value=d}get displayColor(){return this.getPropertyByName("displayColor").getValue()}set displayColor(d){const C=this.getPropertyByName("displayColor");C.value=d}get isDirty(){return this.formControl.dirty}constructor(d=null,C,S=null,V=!1,$="",at=[],pt,Ct,Dt,Wt){super($,d),this._featureValues=C,this.validationState=S,this.disabled=V,this._subscription=new Z.Subscription,this._appliedValidatorsCache=new Map,this._onPropertyChanged=new g.EventEmitter,this._crtControlStateAdapter=pt,this._validatorTypeResolver=Ct,this._injectionContext=Wt,this._initProperties(at),this._subscribeOnPropertiesEvents(),this._initializeValidators(Dt??[],!0)}_subscribeOnFormControl(d){this._formControlSubscription?.unsubscribe(),this._formControlSubscription=d.valueChanges.pipe((0,G.startWith)(d.value),(0,G.distinctUntilChanged)((C,S)=>this.areValuesEqual(C,S))).subscribe(C=>{this.setValue(C)})}_initProperties(d){const C=[...this.propertiesConfig,...d];this._properties=new Map,C.forEach(S=>{const V=Sc.create({typeName:S.typeName,name:S.name,value:S.defaultValue,locked:S.locked===!0,validatorTypeResolver:this._validatorTypeResolver,injectionContext:this._injectionContext});this._properties.set(S.name,V)})}_subscribeOnPropertyEvents(d){this._subscription.add(d.onChanged.subscribe(({name:C,value:S,oldValue:V})=>{this.onPropertyChanged.emit({name:C,value:S,oldValue:V})})),this._subscription.add(d.onValidatorChanged.subscribe(()=>{this._refreshValidators()}))}_subscribeOnPropertiesEvents(){this.properties.forEach(d=>{this._subscribeOnPropertyEvents(d)})}_initializeValidators(d,C=!1){this._validatorInfo=d,this._properties.forEach(S=>{this._validatorInfo=S.initializeValidator(this._validatorInfo,C)}),this._refreshValidators()}_useValidatorsMerging(){return!this._featureValues.DisableControlValidatorsMerging}_getEnabledValidatorFns(d=!1){return this._validatorInfo.filter(C=>!C.disabled&&C.instance.isAsync===d).map(C=>{if(this._useValidatorsMerging()){const V=this._appliedValidatorsCache.get(C.name);if(V)return V.validatorFn}const S=this._crtControlStateAdapter.transform(C);return this._useValidatorsMerging()&&this._appliedValidatorsCache.set(C.name,{validatorInfo:C,validatorFn:S}),S})??[]}_mergeValidators(d,C){for(const S of this._appliedValidatorsCache.values())if(S.validatorInfo.instance.isAsync){const $=S.validatorFn;C.includes($)?this.formControl.hasAsyncValidator($)||this.formControl.addAsyncValidators($):this.formControl.removeAsyncValidators($)}else{const $=S.validatorFn;d.includes($)?this.formControl.hasValidator($)||this.formControl.addValidators($):this.formControl.removeValidators($)}}_refreshValidators(){const d=this._getEnabledValidatorFns(),C=this._getEnabledValidatorFns(!0);this._useValidatorsMerging()?this._mergeValidators(d,C):(this.formControl.setValidators(d),this.formControl.setAsyncValidators(C)),this.formControl.updateValueAndValidity()}_updateValidator(d,C=!1){const S=this._validatorInfo.find(V=>V.name===d);if(!S)throw new Error(`Validator ${d} does not exist on ${this.name} attribute.`);S.disabled!==C&&(S.disabled=C,this._refreshValidators())}findPropertyByName(d){return this.properties.has(d)?this.properties.get(d):null}static create(d){return new Yi(d.value,d.featureValues,null,!1,d.name,d.propertiesConfig??[],d.crtControlStateAdapter,d.validatorTypeResolver,d.validatorsInfo,d.injectionContext)}setValue(d,C){const S=this.formControl;this.areValuesEqual(d,S.value)||(S.dirty||S.markAsDirty(),S.setValue(d,{onlySelf:!!C})),super.setValue(d,C)}enableValidator(d){this._updateValidator(d,!1)}disableValidator(d){this._updateValidator(d,!0)}change(d){this.setValue(d)}getPropertyByName(d,C=!1){let S=this.findPropertyByName(d);return!S&&C&&(S=new Dn(d,null,this._validatorTypeResolver,this._injectionContext),this._properties.set(d,S),this._subscribeOnPropertyEvents(S)),S}hasPropertyValue(d){return!!this.getPropertyByName(d)}getPropertyValue(d){const C=this.getPropertyByName(d);return C?C.getValue():null}setPropertyValue(d,C,S=!1){this.getPropertyByName(d,!0).setValue(C,S)}setPropertyInitialValue(d,C){this.getPropertyByName(d,!0).setInitialValue(C)}getPropertyInitialValue(d){return this.getPropertyByName(d)?.initialValue}getValue(){return this._formControl?this._formControl.value:super.getValue()}destroy(){this._formControlSubscription?.unsubscribe(),this._subscription.unsubscribe()}getInvariabilityPropertyName(){const d=this.getPropertyValue(xc.R.Readonly),C=this.getPropertyValue(xc.R.Disabled);return d??C}toggle(d){const C=this.getInvariabilityPropertyName(),S=this.getPropertyByName(C);S&&(d?S.resetPending():S.setPending(!0))}}const Va="maskState",qa="maskedValue",ti="unMaskedValue";var Fa;(function(Mt){Mt.Unmasked="unmasked",Mt.Masked="masked"})(Fa||(Fa={}));const An=Symbol("isAttributeValueMasked"),bt=Symbol("getMaskedValue"),Ii=Symbol("getUnmaskedValue"),ud=Symbol("setMaskedState"),Es=Symbol("getMaskedState"),md="calculated",gd=new g.InjectionToken("View model attribute creator factory");var Yr=o(65967),Ln=o(14145),_r=o(18046);class wc{constructor(d){this.injector=d}}class xi{resolveModelConfig(d){return null}static{this.\u0275fac=function(C){return new(C||xi)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:xi,factory:xi.\u0275fac,providedIn:"root"})}}class fr{constructor(){this.account={attributes:{Name:{},Ships:{isCollection:!0,viewModelConfig:"ship"},Employee:{viewModelConfig:"employee"}}},this.ship={attributes:{Id:{}}},this.employee={attributes:{Name:{},Age:{}}}}resolveModelConfig(d){return(0,Z.of)(this[d]).pipe((0,G.delay)(50))}static{this.\u0275fac=function(C){return new(C||fr)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:fr,factory:fr.\u0275fac,providedIn:"root"})}}class Do{constructor(d){this.injector=d,this.initDependencies()}initDependencies(){this.repository=this.injector.get(xi),this.ngZone=this.injector.get(g.NgZone)}static{this.\u0275fac=function(C){return new(C||Do)(g.\u0275\u0275inject(g.Injector))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Do,factory:Do.\u0275fac})}}const hd=o(85088);class Si{sort(d,C){const S=[];let V=[];Object.entries(d||{}).forEach(([at,pt])=>{if((0,Yr.t)(pt)){let Ct=pt.from;Ct=Array.isArray(Ct)?Ct:[Ct];const Dt=Ct.map(Wt=>[at,Wt]);V=V.concat(Dt)}else S.push(at)});const $=hd(V).reverse();return[...S,...$].filter(Boolean).filter((at,pt,Ct)=>Ct.indexOf(at)===pt).map(at=>{const pt=$.includes(at)?d[at]??C[at]:d[at];return[at,pt]})}static{this.\u0275fac=function(C){return new(C||Si)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Si,factory:Si.\u0275fac,providedIn:"root"})}}class Ts{constructor(d,C,S,V,$,at,pt){this._crtControlStateAdapter=d,this._validatorTypeResolver=C,this._viewModelGenerator=S,this._attributeCreator=V,this._viewModelRepository=$,this._attributesTopologicalSorting=at,this._injector=pt,this._featureValues=this._injector.get(ya.G,null,{optional:!0}),this._measurePerformanceService=this._injector.get(Ya.g)}_generateAttributes(d,C,S){const V=this._attributesTopologicalSorting.sort(C,d._attributeConfigs);return Promise.all(V.map(([$,at])=>d._systemAttributes.includes($)?(console.warn(`Overriding of system attributes is denied. Attribute name:"${$}"`),Promise.resolve()):(S.disableDefaultConfig||(at??={}),d._attributeConfigs[$]=at,at?"viewModelConfig"in at||"viewModelName"in at?at.isCollection?this._generateNestedModelCollectionAttribute(d,$,at,S):this._generateNestedModelAttribute(d,$,at,S):(0,Yr.t)(at)?this._generateCalculatedAttribute(d,$,at,S):this._generateModelAttribute(d,$,at,S):this._removeViewModelAttribute(d,$))))}_generateNestedModelCollectionAttribute(d,C,S,V){var $=this;return this._measurePerformanceService.measureCallback(`BaseViewModelAttributeGenerator.nestedCollectionAttribute.${C}`,(0,p.A)(function*(){const at=d.getBoundDataSourceNameByAttributePath(C),pt=d.getModelByName(at),Ct="viewModelConfig"in S?S.viewModelConfig:yield(0,Z.lastValueFrom)($._viewModelRepository.resolveModelConfig(S.viewModelName)),Dt=new Qi.A($._viewModelGenerator,Ct,pt,d,C);$._registerOrSetFormControl(d.formApiModel,C,Dt.formApiModel);const Wt=d.attributes[C];d.attributes[C]=Dt,$._defineNestedModelAttribute(d,C,S,V),$._subscribeOnCollectionChanged(d,C,Dt,V),Wt!==void 0&&V.onChangeAttributeValue(C,Dt,Wt)}))}_defineNestedModelAttribute(d,C,S,V){const $=pt=>{const Ct=d.attributes[C];d.attributes[C]=pt,Ct instanceof Qi.A&&pt instanceof Qi.A&&this._subscribeOnCollectionChanged(d,C,pt,V),V.onChangeAttributeValue(C,pt,Ct)},at=()=>d.attributes[C];Ln.iR.defineAsyncAttribute(d,C,S,at,$)}_generateNestedModelAttribute(d,C,S,V){return this._measurePerformanceService.measureCallback(`BaseViewModelAttributeGenerator.nestedModelAttribute.${C}`,()=>{const $="viewModelConfig"in S?S.viewModelConfig:S.viewModelName,at=d?.[Ic.w];return(0,Z.lastValueFrom)(this._viewModelGenerator.generate({viewModelConfig:$,parentViewModel:d},at?g.Injector.create({providers:[{provide:Na.Fj,useValue:null}],parent:at}):null).pipe((0,Z.map)(pt=>{this._registerOrSetFormControl(d.formApiModel,C,pt.formApiModel);const Ct=d.attributes[C];d.attributes[C]=pt,this._defineNestedModelAttribute(d,C,S,V),Ct!==void 0&&V.onChangeAttributeValue(C,pt,Ct)})))})}_subscribeOnCollectionChanged(d,C,S,V){if(d._collectionSubscription.has(C)){const at=d._collectionSubscription.get(C);at.unsubscribe(),d._subscriptions.remove(at)}const $=new Z.Subscription;$.add(S.changed.subscribe(()=>{V.onChangeAttributeValue(C,S,null)})),$.add(S.itemAttributeChanged.subscribe(()=>{V.onChangeAttributeValue(C,S,null)})),d._collectionSubscription.set(C,$),d._subscriptions.add($)}_generateCalculatedAttribute(d,C,S,V){this._measurePerformanceService.measure(`BaseViewModelAttributeGenerator.generateCalculatedAttribute.${C}`,()=>{this._attributeCreator.create(md)?.defineAttribute({viewModel:d,attribute:C,attributeConfig:S,generateOptions:V})})}_getCrtControlPropertiesConfig(d,C,S){const V=Object.entries(S.properties??[]).map(([$,at])=>({name:$,defaultValue:at.defaultValue,locked:at.locked===!0}));return this._addDataValueTypePropertyConfig(V,S),this._addMaskedPropertyConfig(d,C,V,S),this._disableSystemAttributes(d,C,V),V}_addDataValueTypePropertyConfig(d,C){C.dataValueTypeName&&d.push({name:Mi,defaultValue:E.r[C.dataValueTypeName]})}_addMaskedPropertyConfig(d,C,S,V){this._isNotAllowMaskedPropertyConfig(d,C,V)||(V.isValueMasked=!0,this._getOrCreatePropertyConfig(S,Va),this._getOrCreatePropertyConfig(S,qa),this._getOrCreatePropertyConfig(S,ti))}_isNotAllowMaskedPropertyConfig(d,C,S){const $=d.getBoundDataSchemaAttributeByAttributePath(C)?.isValueMasked,at=S.isValueMasked;return $&&at===!1||!$&&!at}_disableSystemAttributes(d,C,S){if(this._featureValues?.DisableBlockingSystemColumns===!0)return;if(d.getBoundDataSchemaAttributeByAttributePath(C)?.isSystem){const $=this._getOrCreatePropertyConfig(S,"readonly");$.locked=!0,$.defaultValue=!0}}_getOrCreatePropertyConfig(d,C){let S=this._findPropertyConfigByName(d,C);return S||(S={name:C},d.push(S)),S}_findPropertyConfigByName(d,C){return d.find(S=>S.name===C)}_generateModelAttribute(d,C,S,V){this._measurePerformanceService.measure(`BaseViewModelAttributeGenerator.generateModelAttribute.${C}`,()=>{const $=d.attributes[C],at=S?.value,pt=this._getCrtControlPropertiesConfig(d,C,S),Ct=Yi.create({name:C,value:at,crtControlStateAdapter:this._crtControlStateAdapter,validatorTypeResolver:this._validatorTypeResolver,validatorsInfo:d._validators[C],propertiesConfig:pt,injectionContext:d._injectionContext??(0,Ln.Rz)(d)?._injectionContext,featureValues:this._featureValues});d._subscriptions.add(Ct.onChanged.subscribe(zt=>{d.attributes[C]=zt.value,V.onChangeAttributeValue(zt.name,zt.value,zt.oldValue)})),d._subscriptions.add(Ct.onPropertyChanged.subscribe(({name:zt,value:Me,oldValue:un})=>{V.onChangeAttributeValue(`${C}:${zt}`,Me,un)})),d._crtControls.set(C,Ct),this._registerOrSetFormControl(d.formApiModel,C,Ct.formControl),d.attributes[C]=at??null;const Dt=d._getDataSourceAttributeDataValueType(C);this._attributeCreator.create(Dt).defineAttribute({viewModel:d,attribute:C,attributeConfig:S,control:Ct}),$!==void 0&&V.onChangeAttributeValue(C,at,$)})}_registerOrSetFormControl(d,C,S){this._measurePerformanceService.measure(`BaseViewModelAttributeGenerator.registerOrSetFormControl.${C}`,()=>{if(this._featureValues?.DisableAttributeOnlyRegisteringControl){d.setControl(C,S);return}d.contains(C)?d.setControl(C,S):d.registerControl(C,S)})}_removeViewModelAttribute(d,C){return delete d._attributeConfigs[C],delete d.attributes[C],delete d[C],Promise.resolve()}generate(d,C,S){var V=this;return this._measurePerformanceService.measureCallback("BaseViewModelAttributeGenerator.generateAttributes",()=>Ln.iR.deferUpdatingValueAndValidity(d,(0,p.A)(function*(){yield V._generateAttributes(d,C,S),!V._featureValues?.DisableAttributeOnlyRegisteringControl&&d.formApiModel.updateValueAndValidity()}),this._featureValues))}static{this.\u0275fac=function(C){return new(C||Ts)(g.\u0275\u0275inject(_r.f),g.\u0275\u0275inject(wc),g.\u0275\u0275inject(Do),g.\u0275\u0275inject(gd),g.\u0275\u0275inject(xi),g.\u0275\u0275inject(Si),g.\u0275\u0275inject(g.Injector))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Ts,factory:Ts.\u0275fac,providedIn:"root"})}}class Ze{_defineResourceAttribute(d,C,S,V,$){return new Z.Observable(at=>{const pt=d._getDataSourceAttributeCaption(V,$);if(this._defineResourceProperty(C,S,pt),V.includes(".")){const Ct=V.split(".")[1];this._defineResourceProperty(C,Ct,pt)}at.next(),at.complete()})}_defineResourceProperty(d,C,S){d[C]||Object.defineProperty(d,C,{get:()=>Promise.resolve(S??""),configurable:!0})}_getResourceNameByPath(d){const C=d.split(".");return C.length>1?C.join("_"):d}generate(d,C){return Object.entries(C||{}).map(([S,V])=>{const $=d[it.c][it.L.string],at=this._getResourceNameByPath(S);return this._defineResourceAttribute(d,$,at,S,V)})}static{this.\u0275fac=function(C){return new(C||Ze)}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:Ze,factory:Ze.\u0275fac,providedIn:"root"})}}var pa=o(32053);const Ec="State";var br;(function(Mt){Mt.DebouncingBusinessRules="DebouncingBusinessRules",Mt.RunningBusinessRules="RunningBusinessRules",Mt.ProcessingAttributeChangeRequest="ProcessingAttributeChangeRequest",Mt.AttributeLoading="AttributeLoading"})(br||(br={}));var _d;(function(Mt){Mt.Paused="Paused",Mt.Active="Active"})(_d||(_d={}));var v_=o(11244),ei=o(65576),M_=o(47424),Nu=o(58504),Jr=o(40706),Ao=o(78240),Ps=o(16319);class wi{constructor(d,C,S){this._sysSettingsService=d,this._dataSchemaRepository=C,this._featureValues=S,this._searchComparisonTypeSysSettingCode="StringColumnSearchComparisonType"}_getParameterValue(d,C,S){if(typeof C=="string"){if(C.startsWith("@requestPayload")){const V=C.replace("@requestPayload.","");return(0,Re.get)(S,V)}if(C.startsWith("$"))return d.attributes[C.substring(1)];if(d.attributes[C])return d.attributes[C]}return C}_applyFilterMacros(d,C){let S=null;switch(typeof C){case"object":S=JSON.stringify((0,Ao.classToPlain)(C));break;case"string":S=C;break;default:return C}const V=/##ViewModelMacro\.\$([^#]+)##/g;let $=!1;return[...S.matchAll(V)].forEach(at=>{const pt=at[1],Ct=(0,Re.get)(d.attributes,pt);let Dt=Ct?.toString();typeof Ct=="object"&&($=!0,Dt=JSON.stringify(Ct)),S=S.replace(at[0],Dt)}),typeof C=="object"||$?JSON.parse(S):S}_createPrimaryDisplayColumnValueFilter(d){var C=this;return(0,p.A)(function*(){const S=C._searchComparisonTypeSysSettingCode,$=(yield C._sysSettingsService.getByCode(S))?.value===1?Nu.H.Contain:Nu.H.Start_with;return{type:w.E.PrimaryDisplayValueFilter,value:d,comparisonType:$}})()}_createColumnValueFilter(d,C,S){const V=C;return Promise.resolve({type:w.E.ColumnValue,value:{attributePath:V.attributePath,attributeValue:this._getParameterValue(d,V.attributeValue,S)}})}_getOwnLoadParameters(d,C){return d.getModelByName(C)?.getOwnLoadParameters()}_getDataSourceFilteringParameters(d,C){const V=d._dataSourcesInfos.get(C).getFilteringConfig();return d._checkFilteringAttributes(C,V),V.length===0?Promise.resolve([]):Promise.all(V.map($=>d[$.name])).then($=>$.map(at=>({type:w.E.Filter,value:at})))}_getDataSourceOwnFilteringParameters(d,C){return this._getOwnLoadParameters(d,C)?.parameters??[]}_getPrimaryAttributeName(d,C){var S=this;return(0,p.A)(function*(){if(!C)return null;let V=Object.values(d.dataSchemas).find($=>$.name===C);return V||(V=yield(0,Z.lastValueFrom)(S._dataSchemaRepository.get(C))),V?.primaryAttributeName})()}_getParameterRelationsConfigs(d){return d.relationsConfigs||[]}_createRelationParameter(d,C){const S={...d},V=this._getParameterRelationsConfigs(S);return S.relationsConfigs=[{dataSchemaName:C.dataSchemaName,attributePath:C.attributePath,relationPath:C.relationPath},...V],S}_validateAllowedRelations(d,C,S){const $=S?.relationPath?.split(".")?.shift(),at=d.dataSchemas[C],pt=at?.findAttributeByName($);if(at&&pt&&at.primaryAttributeName!==$&&pt.dataValueType!==E.r.Lookup&&!this._featureValues.DataSourceAllowRelationsByNonLookupColumn){const Ct="Filtration of data sources by page data is currently supported by lookup and primaryAttribute fields only",Dt=new Error(`${Ct}, please see the console for more details`);throw Dt.stack=`${Ct} , data source name: ${C}, relation config: ${JSON.stringify(S)}`,Dt}}_createRelationParameterWithAttributeValue(d,C,S,V){var $=this;return(0,p.A)(function*(){const at={...S},pt=$._getParameterRelationsConfigs(at),Ct=d.dataSchemas[C],Dt=V.relationPath.split("."),Wt=Dt.shift(),zt=Ct.findAttributeByName(Wt);if(zt.dataValueType!==E.r.Lookup&&($._featureValues.DataSourceAllowRelationsByNonLookupColumn||Ct.primaryAttributeName===Wt))return at.type=w.E.ColumnValue,at.value={attributePath:V.attributePath,attributeValue:V.value},at.relationsConfigs=pt,at;const Me={dataSchemaName:V.dataSchemaName,attributePath:V.attributePath,relationPath:V.relationPath};at.value=V.value,at.type=w.E.PrimaryColumnValue,Ct.primaryAttributeName!==Wt&&(Me.dataSchemaName=zt.referenceSchemaName);const un=Ct.type!==Jr.P.Entity?Me.dataSchemaName:V.dataSchemaName;return Me.relationPath=Dt.length===0?yield $._getPrimaryAttributeName(d,un):Dt.join("."),at.relationsConfigs=[Me,...pt],at})()}_convertToRelationParameters(d,C,S,V){var $=this;return(0,p.A)(function*(){const at=[];$._validateAllowedRelations(d,C,V);for(const pt of S){const Ct=V.useAttributeValue?yield $._createRelationParameterWithAttributeValue(d,C,pt,V):$._createRelationParameter(pt,V);at.push(Ct)}return at})()}_getRelationParameters(d,C,S){var V=this;return(0,p.A)(function*(){const $=d._modelDependencies[C]||[];if($.length===0)return Promise.resolve([]);const at=$.map(Dt=>V.getLoadParametersByRelation(d,Dt,C,S)),pt=(yield Promise.all(at)).flat();if(V._featureValues.DisableDsDepsJoinOptimization)return pt;const Ct=pt.filter(Dt=>Dt.type!==w.E.Empty);return Ct.length===0?pt:Ct.filter(Dt=>Dt.type===w.E.Filter?!!Dt.value:!0)})()}_getPagingConfigRowCount(d,C,S,V){return typeof C=="string"&&(C=(0,Re.isNil)(d.attributes[C])?0:d.attributes[C]),V&&(!C||C+S>V)&&(C=V-S),C}_getPagingConfigRowsOffset(d,C,S,V){const $=d._dataSourcesInfos.get(V).collectionViewModelAttributeName,at=d.attributes[$]?.length??0;if(typeof C=="number")throw new Error("Rows offset parameter cannot be set to number");return!C&&S===y.I.LoadNext?at:!C&&S===y.I.Reload?0:(d.attributes[C]=(0,Re.isNil)(d.attributes[C])?0:d.attributes[C],S===y.I.Reload?d.attributes[C]:d.attributes[C]+at)}_getModelPagingConfig(d,C,S,V){if(!C){const pt=this._getOwnLoadParameters(d,V);return Promise.resolve(pt?.options?.pagingConfig??null)}const $=this._getPagingConfigRowsOffset(d,C.rowsOffset,S,V),at=this._getPagingConfigRowCount(d,C.rowCount,$,C.rowsLimit);return Promise.resolve({rowCount:at,rowsOffset:$})}_mergeSorting(d,C){return(0,Re.unionBy)(d??[],C??[],"columnName")??null}_getModelSortingConfig(d,C,S){const $=this._getOwnLoadParameters(d,S)?.options?.sortingConfig,at=C?.attributeName;return!at||!d.attributes[at]?$?Promise.resolve($):Promise.resolve(null):Promise.all(d.attributes[at].map(function(){var pt=(0,p.A)(function*(Ct){return{columnName:yield Ct.columnName,direction:yield Ct.direction}});return function(Ct){return pt.apply(this,arguments)}}())).then(pt=>({columns:this._mergeSorting(pt,$?.columns)}))}_updateLastEventLoadParameters(d,C,S,V){S&&S.length!==0?d._lastEventLoadParameters.set(C,S):V!==!0&&d._lastEventLoadParameters.set(C,[{type:w.E.Empty,value:""}])}_getModelLoadParameters(d,C,S,V,$,at,pt){const Ct=this.getModelParameters(d,S,V).then(Dt=>(at!==!0&&this._updateLastEventLoadParameters(d,C,Dt,$),$!==!0?Dt:d._lastEventLoadParameters.get(C)||[{type:w.E.Never,value:""}]));return Promise.all([Ct,this._getDataSourceFilteringParameters(d,C),this._getDataSourceOwnFilteringParameters(d,C),this._getRelationParameters(d,C,pt)]).then(([Dt,Wt,zt,Me])=>[...Dt,...zt,...Wt,...Me])}getLoadParametersByRelation(d,C,S,V){const $=C.relationPath.split("."),at=$.shift(),pt=d.dataSchemas[at],Ct={dataSchemaName:pt.name,attributePath:C.attributePath,relationPath:$.join(".")},Dt=$.shift(),zt=d._dataSourcesInfos.get(at).getMappedAttributeNames(Dt)?.[0]??null,Me=d.getModelMode(at),un=V?.[at]?.[Ct.relationPath];if(d.getModelByName(S)?.getAllowCopyingRecords()&&un)Ct.value=un,Ct.useAttributeValue=!0;else{const Ee=d.getIsDirty(zt)||Me===dt.b.Create||Me===dt.b.Copy||pt.type!==Jr.P.Entity;if(zt&&Ee){Ct.useAttributeValue=!0;const mn=d.attributes[zt];Ct.value=mn?.value?mn.value:mn}}return this._getModelLoadParameters(d,at,null,null,!0,!1).then(Ee=>this._convertToRelationParameters(d,at,Ee,Ct))}getModelParameters(d,C,S){if(S?.parameters&&(C=[...C,...S.parameters]),!C||C.length===0)return Promise.resolve([]);const V=C.map($=>{switch($.type){case w.E.PrimaryColumnValue:return Promise.resolve({type:$.type,value:this._getParameterValue(d,$.value,S)});case w.E.Filter:return Promise.resolve({type:$.type,value:this._applyFilterMacros(d,$.value)});case w.E.PrimaryDisplayValueFilter:return this._createPrimaryDisplayColumnValueFilter(this._getParameterValue(d,$.value,S));case w.E.ColumnValue:return this._createColumnValueFilter(d,$.value,S)}});return Promise.all(V)}getModelLoadParameters(d,C,S,V=y.I.Load,{payload:$,useLastLoadParameters:at,doNotUpdateLastLoadParameters:pt,modelLoadConfiguration:Ct}={}){const Dt=C.name,Wt=V??y.I.Load,zt=Wt===y.I.Load?null:C.getPagingConfig(),Me=C.getSortingConfig();return Promise.all([this._getModelLoadParameters(d,Dt,S,$,at,pt,Ct),this._getModelPagingConfig(d,zt,Wt,Dt),this._getModelSortingConfig(d,Me,Dt)])}static{this.\u0275fac=function(C){return new(C||wi)(g.\u0275\u0275inject(_.A),g.\u0275\u0275inject(Ps.J),g.\u0275\u0275inject(ya.G))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:wi,factory:wi.\u0275fac,providedIn:"root"})}}var I_=o(96576);class va{get attributesMap(){return this._attributesMap}get mappedViewModelAttributes(){return this._mappedViewModelAttributes}get isCollection(){return this._isCollection}get collectionViewModelAttributeName(){return this._collectionViewModelAttributeName}constructor(d){this._attributesMap=new Map,this._mappedViewModelAttributes=new Set,this.attributes=[],this.includePrimaryAttributes=!0,this.name=d}static _getDataSourceInfo(d,C){if(!d.has(C)){const S=new va(C);return d.set(C,S),S}return d.get(C)}static _extractViewModelAttributeMapInfo(d){const C=d.split(".");return{dataSourceName:C.shift(),dataSourceAttributePath:C.join(".")}}static _getByDefaultAttribute(d,C,S,V=""){const $=C.modelConfig;if(!$||!$.path)return;const at=this._extractViewModelAttributeMapInfo($.path);if(!at.dataSourceAttributePath){this._getByViewModelCollectionAttribute(d,C,S);return}if(V&&V!==at.dataSourceName)throw new Error(`Attribute '${d}' mapped on a few DataSources`);const pt=this._getDataSourceInfo(S,at.dataSourceName),Ct=$.aggregationConfig?.aggregationFunction?(0,I_.F)(at.dataSourceAttributePath):at.dataSourceAttributePath;pt.attributes.push({path:Ct,type:$.type,functionConfig:$.functionConfig,aggregationConfig:$.aggregationConfig}),pt._mappedViewModelAttributes.add(d),pt._attributesMap.set(d,at.dataSourceAttributePath)}static _getByInlineViewModelAttribute(d,C,S,V=""){const $=C.viewModelConfig||{};Object.entries($.attributes||{}).forEach(([at,pt])=>{const Ct=`${d}.${at}`;this._processViewModelAttribute(Ct,pt,S,V)})}static _getByViewModelCollectionAttribute(d,C,S){const V=C.modelConfig;if(!V||!V.path)return;const at=this._extractViewModelAttributeMapInfo(V.path).dataSourceName,pt=this._getDataSourceInfo(S,at);pt._isCollection=!0,pt._collectionViewModelAttributeName=d,pt._pagingConfig=V.pagingConfig,pt._sortingConfig=V.sortingConfig,pt._filteringConfig=V.filterAttributes,pt.includePrimaryAttributes=V.includePrimaryAttributes===void 0?!0:V.includePrimaryAttributes;const Ct=C?.viewModelConfig;Object.entries(Ct?.attributes||{}).forEach(([Dt,Wt])=>{this._processViewModelAttribute(`${d}.${Dt}`,Wt,S,at)})}static _processViewModelAttribute(d,C,S,V=""){"viewModelConfig"in C||"viewModelName"in C?C.isCollection?this._getByViewModelCollectionAttribute(d,C,S):this._getByInlineViewModelAttribute(d,C,S,V):"from"in C||this._getByDefaultAttribute(d,C,S,V)}static getFromViewModelConfig(d,C=[]){const S=new Map;return Object.entries(d?.attributes||{}).forEach(([V,$])=>{this._processViewModelAttribute(V,$,S)}),C.filter(V=>!S.has(V.name)).forEach(({name:V})=>{const $=new va(V);S.set(V,$)}),S}static getLookupListDataSourceInfo(d,C){const S=new va("");return S._isCollection=!0,S._collectionViewModelAttributeName=d,Object.entries(C).forEach(([V,$])=>{S.attributes.push({path:$}),S._mappedViewModelAttributes.add(V),S._attributesMap.set(V,$)}),S}_getRowModelDto(d){const C=d.length>0?d[0]:{},S={};return Object.entries(C).forEach(([V,$])=>{this.getMappedAttributeNames(V).forEach(pt=>{const Ct=pt.split(".");this.isCollection&&Ct.length>1&&Ct.shift(),(0,Re.set)(S,Ct.join("."),$)})}),S}_getCollectionModelDto(d){const C=this._collectionViewModelAttributeName,S=d.map(V=>this._getRowModelDto([V]));return{[C]:S}}getMappedAttributes(){return Array.from(this._mappedViewModelAttributes.values())}getMappedAttributeNames(d){return Array.from(this._attributesMap.entries()).filter(([,C])=>C===d).map(([C])=>C)}getDataSourceAttributePath(d){return this._attributesMap.has(d)?this._attributesMap.get(d):""}getIsMapOnCollection(d){return this._isCollection&&this._collectionViewModelAttributeName===d}getPagingConfig(){return this._pagingConfig}getSortingConfig(){return this._sortingConfig}getFilteringConfig(){return this._filteringConfig||[]}getModelDto(d){return this._isCollection?this._getCollectionModelDto(d):this._getRowModelDto(d)}addNewAttribute(d,C,S){const V=new Map;V.set(this.name,this),va._getByDefaultAttribute(d,C,V,S)}getIsDataSourceAttributePathExists(d){return this.attributes.find(C=>C.path===d)!==void 0}}class Vu{}var Ei;(function(Mt){Mt.None="None",Mt.OneToMany="OneToMany",Mt.ManyToOne="ManyToOne",Mt.ManyToMany="ManyToMany",Mt.CircularDependency="CircularDependency"})(Ei||(Ei={}));function kn(Mt,d){return!!Mt?.some(C=>C.relationPath.split(".").shift()===d)}function Ue(Mt){return Mt.dataValueType===E.r.Guid}function Os(Mt,d){return Ue(d)&&Mt.primaryAttributeName===d.name}function Tc(Mt,d,C,S){const V=C.findAttributeByName(S),$=Mt.findAttributeByName(d);return($.isLookup||Ue($))&&Os(C,V)?Ei.OneToMany:Os(Mt,$)&&V.isLookup?Ei.ManyToOne:Ei.ManyToMany}function ua(Mt){const d=Mt.split("."),C=d.shift(),S=d.shift();return{dependOnModelName:C,dependOnAttributeName:S}}var Ds=o(97343),fd=o(93396);const Fu=500;class Ji{static{this._skippedProperties=["schedule","then"]}constructor(d,C,S,V,$,at,pt,Ct){this.viewModelGenerator=d,this.injector=C,this.viewModelConfig=S,this.resources=V,this._eventScopes=at,this._modelsInitConfig=pt,this._defaultPrimaryAttributeName="Id",this._models$=new Z.BehaviorSubject([]),this._businessRulesActive=!0,this._dropdownPageSizeSettingsCode="DropdownPageSize",this._dataSourcesInfos=new Map,this._attributesToDataSourceNameMap=new Map,this._dropdownPageSize=null,this._replayEvents$=new Z.ReplaySubject,this._loadedDataSources=new Set,this._conflictedModels=[],this.__destroyed=!1,this._disableViewModelWaitingForAsyncTasks=!1,this._disableViewModelLoadUnblockingThread=!1,this._blockFieldsAffectedByBusinessRules=!1,this._asyncTasksExecutingSubject=new Z.BehaviorSubject(new Set),this._modelsRequestedToLoad=new Set,this._attributesAffectedByBusinessRules=[],this._businessRulesAreActivated=!1,this._destroySubject=new Z.Subject,this._modelSourceRecordId={},this._modelLoadParametersSetted$=new Z.Subject,this._modelsNamesWithParameters=new Set,this.saveModelTaskName="MODEL_SAVING",this._modelLoaded$=new Z.Subject,this._viewModelAttributeChangeEventOptions=new K({preventAttributeChangeRequest:!1,preventStateChange:!0,preventRunBusinessRules:!0}),this._dynamicModelNames=new Set,this._attributeConfigs={},this._eventsSubject$=new Z.Subject,this._collectionSubscription=new Map,this._crtControls=new Map,this._subscriptions=new Z.Subscription,this._destroy$=this._destroySubject.asObservable(),this._businessRulesActivated$=new Z.BehaviorSubject(!1),this.attributes={},this.dataSchemas={},this.events$=(0,Z.merge)(this._eventsSubject$,this._replayEvents$),this._systemAttributes=[],this.initDependencies(),this._subscribeModelsChanges(),this.handlerChain=t.t.instance,$?this.formApiModel=$:this.formApiModel=this.formBuilder.group({}),this.parent=Ct;const Dt=this._appInfo?.isDebugEnabled?this._createProxy(this):this;return this._viewModelDataDelayerService&&!this.parent&&this._viewModelDataDelayerService.setViewModel(Dt),Dt}get models(){return this._models$.value}get IsChanged(){return Promise.resolve(this.attributes[pa.j7])}set IsChanged(d){}get HasUnsavedData(){return Promise.resolve(this.attributes[pa.ie])}set HasUnsavedData(d){}set BusinessRulesActivated(d){}get BusinessRulesActivated(){return Promise.resolve(this._businessRulesAreActivated)}get _isChanged(){return console.warn("Warning: The `_isChanged` property of the view-model is deprecated. It will be removed in future versions. Use `IsChanged` or `HasUnsavedData` attribute instead."),Object.keys(this._attributeConfigs).filter(d=>!(0,Re.isEmpty)(this._attributeConfigs[d].modelConfig)).some(d=>this.formApiModel.controls[d]?.dirty)}get _scopes(){return[...this._eventScopes??[]]}get _injectionContext(){return this._context}get[Ic.w](){return this.injector}get primaryAttributeName(){if(!this._primaryModelName)return this._defaultPrimaryAttributeName in this._attributeConfigs?this._defaultPrimaryAttributeName:null;const C=this.dataSchemas[this._primaryModelName].primaryAttributeName,S=this._dataSourcesInfos.get(this._primaryModelName);return this._getMappedAttributeName(S,C)}get PrimaryModelMode(){return this.getPrimaryModelMode()}get State(){return(0,Ln.Rz)(this).attributes[Ec]}get _destroyed(){return this.__destroyed}get modelInitConfigs(){return this._modelsInitConfig}_createProxy(d){return new Proxy(d,{get(C,S){return!(typeof S=="string")||S in C||Ji._skippedProperties.includes(S)||console.debug(`Attribute ${S} not found.`),C[S]}})}_executeWithOptions(d,C){let S;try{return S=this._viewModelAttributeChangeEventOptions.getOptions(),this._viewModelAttributeChangeEventOptions.setOptions(C),d()}finally{this._viewModelAttributeChangeEventOptions.setOptions(S)}}_setSystemAttributeValue(d,C){const S=this.attributes[d];this.attributes[d]=C,this._executeWithOptions(()=>{this._fireChangeAttributeEvent({type:ei.n.ChangeAttributeValue,payload:{attributeName:d,oldValue:S,value:C}})},{preventStateChange:!0,preventRunBusinessRules:!0})}_fireChangeAttributeEvent(d){d.payload.silent??=this._viewModelAttributeChangeEventOptions.getAsSilent(),Object.assign(d.payload,this._viewModelAttributeChangeEventOptions.getOptions()),this._eventsSubject$.next(d)}_getViewModelValidators(d){const C=this.viewModelConfig.attributes[d]??{};return("validators"in C&&C.validators)??{}}_initDataSourceValidators(){return this._measurePerformanceService?.measure(`ViewModel.initDataSourceValidators.${this._injectionContext?.id}.parent.${!!this.parent}`,()=>(this._validators={},this._dataSourcesInfos.forEach(d=>{d.attributesMap.forEach((C,S)=>{const V=this.viewModelConfig.attributes[S]??{};if("modelConfig"in V&&V.modelConfig?.ignoreValidators)return;this._validators[S]=this._validators[S]||[];const $=this._getDataSourceAttributeSchema(d,C);if($?.validators){for(const[at,pt]of Object.entries($.validators))if(pt?.type){const Ct=this._injectionContext??(0,Ln.Rz)(this)?._injectionContext,Dt=this.validatorTypeResolver.getValidator(pt.type,{validationParameters:pt?.params,injectionContext:Ct}),Wt=this._getViewModelValidators(S),zt=Object.values(Wt).find(Me=>Me.type===pt.type);this._validators[S].push({name:at,instance:Dt,disabled:!!zt?.disabled,params:pt?.params})}}})}),(0,Z.of)(null)))}_initSchemaValidators(d){this._measurePerformanceService.measure(`ViewModel.initSchemaValidators.${this._injectionContext?.id}.parent.${!!this.parent}`,()=>{Object.entries(d||{}).forEach(([C])=>{const S=this._getViewModelValidators(C);this._validators[C]=this._validators[C]||[];for(const[V,$]of Object.entries(S))if($?.type){const at=this._injectionContext??(0,Ln.Rz)(this)?._injectionContext,pt=this.validatorTypeResolver.getValidator($.type,{validationParameters:$.params,injectionContext:at});this._validators[C].push({name:V,instance:pt,disabled:$.disabled,params:$?.params})}})})}_waitAsyncValidation(){return(0,Z.from)(this.waitAsyncTasksFinish()).pipe((0,G.switchMap)(()=>this.formApiModel.statusChanges.pipe((0,G.startWith)(this.formApiModel.status),(0,G.filter)(d=>d.toLowerCase()!=="pending"),(0,G.first)(),(0,G.map)(()=>null))))}_getResourcesStrings(){const d=this.resources?.strings??{};return{...d,...this._getResourceStringsByAttributes(d)}}_getChangedResourcesStrings(d){const C=Object.entries(d).reduce((V,[$,at])=>{const pt=this.resources?.strings[$]||{},Ct=at&&{...pt,...at};return{...V,[$]:Ct}},{}),S={...this.resources?.strings,...C};return JSON.parse(JSON.stringify(S))}_generateResourceAttribute(){this[it.c]={},this[it.c][it.L.string]={};const d=this._getResourcesStrings();return this._attributeResourceGenerator.generate(this,d)}_getBoundAttributeNames(){const d=new Set;return this._dataSourcesInfos.forEach(C=>{for(const S of C.mappedViewModelAttributes)d.add(S)}),Array.from(d.values())}_getDataSourceInfoByViewModelAttributePath(d){const C=this.getBoundDataSourceNameByAttributePath(d);return this._dataSourcesInfos.has(C)?this._dataSourcesInfos.get(C):null}_getResourceStringsByAttributes(d){const C=Object.keys(d);return this._getBoundAttributeNames().filter(V=>!C.includes(V)).reduce((V,$)=>(V[$]={},V),{})}_getDataSourceAttributeSchema(d,C){return this.dataSchemas[d.name]?.attributes?.find(S=>S.name===C)}_generatePrimaryAttributes(){return this._measurePerformanceService.measure(`ViewModel.generatePrimaryAttributes.${this._injectionContext?.id}.parent.${!!this.parent}`,()=>{const d=Array.from(this._dataSourcesInfos.values()).map(C=>{const S=C.name,V=this.dataSchemas[S],at=(C.includePrimaryAttributes?[V?.primaryAttributeName,V?.primaryDisplayAttributeName]:[]).filter(pt=>pt&&!C.getIsDataSourceAttributePathExists(pt)).map(pt=>{const Ct=(0,f.qv)(),Dt=`${S}_${pt}_${Ct}`,Wt=V.findAttributeByName(pt),zt={modelConfig:{path:`${S}.${pt}`},dataValueTypeName:E.r[Wt.dataValueType]};return this._attributeConfigs[Dt]=zt,C.addNewAttribute(Dt,zt),this._attributeGenerate({[Dt]:zt})});return at.length===0?(0,Z.of)(null):(0,Z.forkJoin)(at)});return d.length===0?(0,Z.of)(null):(0,Z.forkJoin)(d).pipe(this._measurePerformanceService.measure$(`ViewModel.generatePrimaryAttributes.forkJoin.${this._injectionContext?.id}.parent.${!!this.parent}`))})}_getDataSourceDto(d){const C={},S=this._dataSourcesInfos.get(d);return S.attributesMap.forEach((V,$)=>{if(!S.getIsMapOnCollection($)){const at=this.attributes[$],pt=this._getDataSourceAttributeSchema(S,V);!at&&pt?.dataValueType===E.r.Lookup?C[V]=null:C[V]=at}}),(0,Z.of)(C)}_checkFilteringAttributes(d,C){if(C.some(V=>(0,Re.isNil)(V.name)))throw new Error(`Filtering attributes for ${d} are not valid!`)}_attributeGenerate(d,C){return this._attributeGenerator.generate(this,d,{...C,onChangeAttributeValue:(S,V,$)=>{this._fireChangeAttributeEvent({type:ei.n.ChangeAttributeValue,payload:{attributeName:S,value:V,oldValue:$,silent:this._viewModelAttributeChangeEventOptions.getAsSilent()}})}})}_getDataSourceNamesAffectedByFilteringAttribute(d,C){return[...this._dataSourcesInfos.entries()].filter(([,S])=>S.isCollection).filter(([S])=>{const V=this.getModelByName(S);return C.has(V?.name)||V?.isLoaded||V?.isLoading}).filter(([S,V])=>{const $=V.getFilteringConfig(),at=$.some(pt=>pt?.name===d&&pt?.loadOnChange);return at&&this._checkFilteringAttributes(S,$),at}).map(([S])=>S)}_createRequestsForReloadingDataSources(d){return d.map(C=>({type:"crt.LoadDataRequest",$context:this,dataSourceName:C,config:{loadType:y.I.Reload}}))}_dispatchStartLoadModelAttributes(d){const C=`${br.AttributeLoading}_${this._context?.id}_${Object.keys(d)}`;this._measurePerformancePageLoadService?.addTask(C,{targetTask:!0}),this._replayEvents$.next({type:ei.n.StartLoadModelAttributes,payload:d})}_dispatchFinishLoadModelAttributes(d){const C=`${br.AttributeLoading}_${this._context?.id}_${Object.keys(d)}`;this._measurePerformancePageLoadService?.removeTask(C,{targetTask:!0}),this._replayEvents$.next({type:ei.n.FinishLoadModelAttributes,payload:d})}_processEmptyLoadDataForCollection(d,C){var S=this;return(0,p.A)(function*(){if(!d.isCollection||!d.collectionViewModelAttributeName)return;const V=C.find(Ct=>Ct.type===w.E.PrimaryColumnValue);if(!V)return;const $=V.value?.value,at=S.attributes[d.collectionViewModelAttributeName];if(!$||!at)return;const pt=yield at.findByPrimaryAttribute($);pt&&at.remove(pt)})()}_loadDynamicModel(d){const C=d.attributeName,S=d.dataSourceConfig,V=d.dataSourceName||Ln.iR.createDynamicDataSourceNameFromAttributeName(this,C),$=Ln.iR.createAttributeConfig(this,V,d),at=this._createAndSetDataSourceInfo(V,C,$);return this._defineOrUpdateAttribute(C,$),this._setupSortingAttribute(d.sortingConfig),this._setupFiltersAttributes(d.filtersConfig),this._modelGenerator.generateOne(S,V).pipe((0,G.tap)(pt=>this._markModelAsCollection(pt,at)),(0,G.tap)(pt=>this._dynamicModelNames.add(pt.name)),(0,G.tap)(pt=>this._upsertModel(V,pt)),(0,G.tap)(pt=>this._addModelDependencies(pt,d.dependencies)),(0,G.switchMap)(pt=>(0,Z.forkJoin)([(0,Z.of)(pt),this._addDataSchemaToDataSchemas(pt)])),(0,G.switchMap)(([pt])=>(0,Z.forkJoin)([(0,Z.of)(pt),(0,Z.of)(this._replaceAttributesToDataSourceNameMap(at))])),(0,G.switchMap)(([pt])=>(0,Z.forkJoin)([(0,Z.of)(pt),this._reGenerateResourcesAttributes()])),(0,G.switchMap)(([pt])=>this._loadModelData({model:pt,dataSourceInfo:at,parametersConfig:[],loadType:y.I.Reload,useLastLoadParameters:d.useLastLoadParameters}).pipe(this._measurePerformanceService.measure$(`ViewModel.loadDynamicModel.${this._injectionContext?.id}.parent.${!!this.parent}.datasourceName.${d.dataSourceName}`))))}_defineOrUpdateAttribute(d,C){this.attributes[d]?this._attributeConfigs[d]=C:this._attributeGenerate({[d]:C})}_createAndSetDataSourceInfo(d,C,S){const $=va.getFromViewModelConfig({attributes:{[C]:S}}).get(d);return this._dataSourcesInfos.set(d,$),$}_setupSortingAttribute(d){if(!d?.default)return;const C=d.attributeName;this.attributes[C]=d.default}_setupFiltersAttributes(d){d?.forEach(C=>{if(!C.value)return;const S=C.name,V=C.value;this[S]=V.value||V})}_addModelDependencies(d,C){this._modelDependencies[d.name]=C||[]}_addDataSchemaToDataSchemas(d){return d.getSchema().pipe((0,G.tap)(C=>this.dataSchemas[d.name]=C))}_reGenerateResourcesAttributes(){return(0,Z.forkJoin)([...this._generateResourceAttribute(),(0,Z.of)(null)])}_replaceAttributesToDataSourceNameMap(d){const C=this._getDataSourceAttributesMap(d),S=[...Array.from(this._attributesToDataSourceNameMap.entries()),...C];this._initializeAttributesToDataSourceNameMap(S)}_getMappedAttributeName(d,C){if(!d)return"";const S=d.getMappedAttributeNames(C);return!S||S.length===0?"":S[0]}_getMappedAttributeNames(d,C){return d?d.getMappedAttributeNames(C):[]}_getModelAttributesToLoad(d,C){const S=this._dataSourcesInfos.get(d.name);if(C?.attributes){const V=C.attributes.filter($=>{const at=this._getMappedAttributeName(S,$);return!this.getIsDirty(at)});return this._getModelDependentAttributes(d,V)}return S.attributes.map(V=>V.path)}_loadStaticModel(d,C,S,V,$,at){const pt=this.getModelByName(d),Ct=this._dataSourcesInfos.get(pt.name);return this._loadModelData({model:pt,dataSourceInfo:Ct,parametersConfig:C,loadType:S,payload:V,useLastLoadParameters:$,doNotUpdateLastLoadParameters:at})}_waitDataDelay(d){return this._viewModelDataDelayerService?.shouldBeDelayed()?(0,Z.of)(d).pipe((0,G.delayWhen)(()=>this._viewModelDataDelayerService.loadTrigger$)):(0,Z.of)(d)}_updateTrackedAttributes(d){const C=this._modelDependencies[d.name];if(!C||!d.isAggregate)return;const S=/^.{0,2}\[\w+:\w+(:\w+)?]/;C.forEach(V=>{const $=V.relationPath.split(".")[0],at=this.getModelByName($),pt=d.affectedAttributes.filter(Dt=>Dt.schemaName===at.dataSchemaName).map(Dt=>Dt.path.split(".")[0]).filter(Dt=>!S.test(Dt)),Ct=new Set([...V.trackByAttributes??[],...pt]);V.trackByAttributes=[...Ct.values()]})}_waitForModelLoad(d){var C=this;return(0,p.A)(function*(){const S=C.getModelByName(d);!S||S?.isLoaded||S.mode===dt.b.Create||S.mode===dt.b.Copy||(yield(0,Z.firstValueFrom)(C._modelLoaded$.pipe((0,G.filter)(V=>V===d),(0,G.take)(1))))})()}_waitForModelsLoad(d){var C=this;return(0,p.A)(function*(){if(d.length===0||C._isDesignTime)return;const S=d.map(V=>C._waitForModelLoad(V));yield Promise.all(S)})()}_waitForModelsLoadParameters(d,C){var S=this;return(0,p.A)(function*(){if(d.length===0||S._isDesignTime||!C||C.mode===dt.b.Create||C.mode===dt.b.Copy)return;const V=d.map($=>S._waitForModelLoadParameters($));yield Promise.all(V)})()}_waitForModelLoadParameters(d){var C=this;return(0,p.A)(function*(){C._lastEventLoadParameters.has(d)||C._modelsNamesWithParameters.has(d)||(yield(0,Z.firstValueFrom)(C._modelLoadParametersSetted$.pipe((0,G.filter)(()=>C._modelsNamesWithParameters.has(d)),(0,G.take)(1))))})()}_getAffectedAttributes(d,C,S){const $=this.dataSchemas[d].primaryAttributeName,at=[...C];return $&&!C.includes($)&&S?.length>0&&S?.[0][$]&&at.push($),at}_getModelLoadParameters(d,C,S,V,$,at){return this._modelParametersBuilder.getModelLoadParameters(this,d,C,S,{payload:V,useLastLoadParameters:$,doNotUpdateLastLoadParameters:at}).catch(pt=>(console.error(pt),this._showNotification({message:pt.message}),[[{type:w.E.Never}],{},{}]))}_getRelationTypeForRootModel(d){if(this._featureValues.DisableMultipleDataSources||this._isDesignTime)return null;const C=this._modelDependencies[d],S=(0,Ln.CB)(this.getModelByName(d));if(C?.length!==1||!this._primaryModelName||!S)return null;const V=this.dataSchemas[this._primaryModelName],$=C[0],{dependOnModelName:at,dependOnAttributeName:pt}=ua($.relationPath);return at!==this._primaryModelName?null:Tc(this.dataSchemas[d],$.attributePath,V,pt)}_isManyToOneRootModelRelation(d){return this._getRelationTypeForRootModel(d)===Ei.ManyToOne}_isOneToManyRootModelRelation(d){return this._getRelationTypeForRootModel(d)===Ei.OneToMany}_getOneToManyRelationDefaultValues(d){const C=this._modelDependencies[d]?.[0];if(!C)return{};const S=this.dataSchemas[this._primaryModelName],V=this.getViewModelAttributePaths(this._primaryModelName,S.primaryAttributeName)?.[0],$=this.getViewModelAttributePaths(this._primaryModelName,S.primaryDisplayAttributeName)?.[0];return{[C.attributePath]:{value:this.attributes[V],displayValue:this.attributes[$]}}}_getDependOnModelLoadConfiguration(d){const C=this._getDependOnModelsNames(d),S={};return C.forEach(V=>{this._modelSourceRecordId[V]&&(S[V]={[this.dataSchemas[V].primaryAttributeName??"Id"]:this._modelSourceRecordId[V]})}),S}_isPrimaryModel(d){return this._primaryModelName===d}_isIndependentRootModel(d){return(0,Ln.CB)(d)?this._getDependOnModelsNames(d.name).length===0:!1}_checkAndProcessPageDataSourceData(d,C){if(this._featureValues.DisableMultipleDataSources||this._isDesignTime)return(0,Z.of)(C);if(this._isManyToOneRootModelRelation(d.name)&&C.length===0)return this._clearModelValues(d.name),d.setLoadedState(),(0,Z.of)(C);const V=this._isOneToManyRootModelRelation(d.name),$=this._isIndependentRootModel(d);if(!(V&&C.length===0||$&&C.length===0&&!this._isPrimaryModel(d.name)))return(0,Z.of)(C);d.resetMode();const pt=this._getOneToManyRelationDefaultValues(d.name);if(this.PrimaryModelMode===dt.b.Copy){const Ct=this.dataSchemas[d.name].primaryAttributeName??"Id",Dt=this._getDependOnModelLoadConfiguration(d.name);return(0,Z.from)(this.getDataSourceLoadParameters(d.name,Dt)).pipe((0,G.switchMap)(({parameters:Wt,options:zt})=>d.load({attributes:[Ct],parameters:Wt,options:{loadType:y.I.Reload,pagingConfig:zt.pagingConfig,sortingConfig:zt.sortingConfig}})),(0,G.switchMap)(Wt=>{d.resetMode();const zt=Wt?.length?Wt[0][Ct]:null;return zt?this.copy(d.name,zt,pt):this.create(d.name,pt)}),(0,G.map)(()=>C))}return this.create(d.name,pt).pipe((0,G.map)(()=>C))}_isRowsLimitReached(d){var C=this;return(0,p.A)(function*(){const S=d.collectionViewModelAttributeName,V=d.getPagingConfig()?.rowsLimit;return!V||!S?!1:(yield C[S])?.length>=V})()}_setDataSourceLoaded(d,C,S,V){var $=this;return(0,p.A)(function*(){S.length<V?.rowCount||(yield $._isRowsLimitReached(C))?$._loadedDataSources.add(d):$._loadedDataSources.delete(d)})()}_getModelDependedOnEntityDataSource(d){return d.filter(C=>this.models.find($=>$.name===C).getDataSource().type===ft.EntityDataSource)}_loadModelData({model:d,dataSourceInfo:C,parametersConfig:S,loadType:V,payload:$,useLastLoadParameters:at,doNotUpdateLastLoadParameters:pt}){const Ct=d.name;this._modelsRequestedToLoad.add(Ct);const Dt=this._getModelAttributesToLoad(d,$),Wt=$?.attributes;if(Wt&&Dt.length===0)return(0,Z.of)([]);if(this._conflictedModels.includes(Ct))return(0,Z.of)([]);const zt=this._getDataSourceMappingAttributes(C,Dt),Me=this._getLoadTypeForDataSource(C,V);if(Me===y.I.LoadNext&&this._loadedDataSources.has(Ct))return(0,Z.of)([]);this._dispatchStartLoadModelAttributes(zt);const un=!this._isSyncForModelAllowed(d)||Wt===null||d.mode===dt.b.Init,Ma=this._getDependOnModelsNames(Ct);this._checkAndLoadUnloadedDependOnModels(Ma);const Ee=this._getModelDependedOnEntityDataSource(Ma),mn=Ma.filter(ja=>!Ee.includes(ja)),Pc=Promise.all([this._waitForModelsLoad(mn),this._waitForModelsLoadParameters(Ee,d)]);return(0,Z.from)(this._featureValues.DisableSequentialLoadDependentDS?this._waitForModelsLoad(Ma):Pc).pipe((0,G.switchMap)(ja=>(0,Z.from)(this._getModelLoadParameters(C,S,Me,$,at,pt)).pipe((0,G.tap)(()=>{!this._featureValues.DisableSequentialLoadDependentDS&&!C.isCollection&&(this._modelDependencies[Ct]?.map(Bn=>Bn.relationPath)||[]).forEach(Bn=>{const{dependOnModelName:Lo,dependOnAttributeName:bd}=ua(Bn),[ju]=this.getViewModelAttributePaths(Lo,bd);this.getAttributeControl(ju).markAsPristine()})}),(0,G.tap)(()=>{if(!this._featureValues.DisableSequentialLoadDependentDS){this._setModalLoadParameters(Ct);const la=this._getAffectedAttributes(Ct,Dt,[]);this._reloadDependentModels(d,la,m.Z.Page)}}))),(0,G.mergeMap)(ja=>this._waitDataDelay(ja)),(0,G.switchMap)(([ja,la,As])=>d.load({attributes:Dt,parameters:ja,options:{loadType:V,pagingConfig:la,sortingConfig:As}}).pipe(this._measurePerformanceService.measure$(`ViewModel.loadStaticModel.model.load.${this._injectionContext?.id}.parent.${!!this.parent}.modelName.${Ct}`),(0,G.catchError)(Bn=>this._handleLoadErrorResponse(Bn,[])),(0,G.tap)(()=>this._updateTrackedAttributes(d)),(0,G.tap)(Bn=>{Bn.length===0&&this._dispatchFinishLoadModelAttributes(zt)}),(0,G.mergeMap)(Bn=>Bn.length===0?(0,Z.from)(this._processEmptyLoadDataForCollection(C,ja)).pipe((0,G.map)(()=>Bn)):(0,Z.of)(Bn)),(0,G.switchMap)(Bn=>this._checkAndProcessPageDataSourceData(d,Bn)),(0,G.map)(Bn=>({data:Bn,viewModelAttributes:C.getModelDto(Bn)})),(0,G.switchMap)(({data:Bn,viewModelAttributes:Lo})=>this.setValue(Lo,{collectionLoadType:Me===y.I.Reload?At.Reload:At.Merge,silent:!0,isMaskedValue:!0}).pipe((0,k.pR)(()=>!C.isCollection||!Lo?(0,Z.of)(void 0):(Object.keys(Lo).forEach(bd=>{this.attributes[bd]?.forEach(Bu=>{Bu.formApiModel.updateValueAndValidity()})}),(0,Z.from)(this._setDataSourceLoaded(Ct,C,Bn,la)))),(0,G.tap)(()=>this._markAsPristine(Lo)),(0,G.map)(()=>Bn))))),(0,G.tap)(()=>this._modelLoaded$.next(Ct)),(0,G.switchMap)(ja=>this._runBusinessRulesForModel(d,ja)),(0,G.tap)(ja=>{const la=this._getAffectedAttributes(Ct,Dt,ja);this._featureValues.DisableSequentialLoadDependentDS&&this._reloadDependentModels(d,la,m.Z.Page),un||this._reloadDependentModels(d,la,m.Z.ViewElement)}),(0,G.tap)(ja=>{const la=ja[0]??{};d.setLoadedState(Object.keys(la)),this._dispatchFinishLoadModelAttributes(zt)}))}_checkAndLoadUnloadedDependOnModels(d){const C=d.filter(S=>{const V=!this._modelsRequestedToLoad.has(S),$=!(0,Ln.CB)(this.getModelByName(S));return V&&$});this._requestReloadModels(C)}_createChangeAttributeTriggers(d){return d.map(C=>({type:De.ChangeAttributeValue,name:C,scopeId:""}))}_runBusinessRulesForModel(d,C,S=!1,V=[]){const $=this._dataSourcesInfos.get(d.name);if($.isCollection||!this._businessRulesProcessingEnabled||!this._businessRulesActive)return(0,Z.of)(C);const at=C[0]??{},pt=S?[...$.mappedViewModelAttributes]:Object.keys(at).flatMap(zt=>this._getMappedAttributeNames($,zt)).filter(zt=>zt!=null),Ct=this._createChangeAttributeTriggers(pt),Dt={type:De.DataLoaded,name:d.name,scopeId:""},Wt=this.models.filter(zt=>zt!==d).filter(zt=>zt.mode!==dt.b.Init).filter(zt=>zt.getDataSource().scope===m.Z.Page).map(zt=>this._getModelBusinessRuleContext(zt.name,[]));return(0,Z.forkJoin)([this._getModelBusinessRuleContext($.name,[Dt,...V]),...Wt,(0,Z.of)(this._getViewModelBusinessRuleContext([...Ct,...V,Dt]))]).pipe(this._measurePerformanceService.measure$(`ViewModel.runBusinessRulesForModel.${this._injectionContext?.id}.parent.${!!this.parent}`),(0,G.switchMap)(zt=>this._runBusinessRulesForContexts(zt)),(0,G.map)(()=>C))}_runInitialBusinessRules(){if(!this._businessRulesProcessingEnabled||!this._businessRulesActive)return(0,Z.of)(null);const d={type:De.ContextReady,name:null,scopeId:""};return this._prepareBusinessRulesContexts([d]).pipe(this._measurePerformanceService.measure$(`ViewModel.runInitialBusinessRules.${this._injectionContext?.id}.parent.${!!this.parent}`),(0,G.mergeMap)(C=>C.length===0?(0,Z.of)(null):this._runBusinessRulesForContexts(C)))}_createViewModelAttributesValues(d,C){const S=Object.entries(this.dataSchemas),[,V]=S.find(([at])=>at===d),$={};for(const at of V.attributes){const pt=C[at.name],Ct=this.getViewModelAttributePath(d,at.name);Ct&&($[Ct]=pt??null)}return $}_createModelData(d,C){const S=this._dataSourcesInfos.get(d),V=this._getDataSourceMappingAttributes(S);this._dispatchStartLoadModelAttributes(V);const $=this.getModelByName(d),at=$.disableSync,pt=this._getModelAttributesToLoad($,null);return $.disableSync=!0,$.create(C).pipe((0,G.switchMap)(Ct=>{const Dt=this._createViewModelAttributesValues(d,Ct),Wt=this._isOneToManyRootModelRelation(d)?{silent:!0}:null;return this.setValue(Dt,Wt).pipe((0,G.tap)(()=>this._forEachControl(Dt,zt=>{zt.markAsPristine(),zt.markAsUntouched()})))}),(0,G.tap)(()=>{$.disableSync=at,this._modelLoaded$.next(d),this._featureValues.DisableSequentialLoadDependentDS||this._setModalLoadParameters(d)}),(0,G.switchMap)(()=>this._runBusinessRulesForModel($,[],!0)),(0,G.tap)(()=>{this._isSyncForModelAllowed($)&&this._reloadDependentModels($,pt)}),(0,G.tap)(()=>{this._dispatchFinishLoadModelAttributes(V),$.setLoadedState()}),(0,G.map)(()=>null))}_copyModelData(d,C,S){const V=this._dataSourcesInfos.get(d),$=this._getDataSourceMappingAttributes(V);this._dispatchStartLoadModelAttributes($);let at;const pt=this.getModelByName(d),Ct=this._getModelAttributesToLoad(pt,null),Dt=pt.disableSync;return pt.disableSync=!0,this._modelSourceRecordId[d]=C,pt.copy(C,S).pipe((0,G.catchError)(Wt=>this._handleLoadErrorResponse(Wt,{})),(0,G.map)(Wt=>({data:[Wt],viewModelAttributes:V.getModelDto([Wt])})),(0,G.switchMap)(({data:Wt,viewModelAttributes:zt})=>this.setValue(zt).pipe((0,G.tap)(()=>this._markAsPristine(zt)),(0,G.map)(()=>Wt))),(0,G.tap)(()=>{pt.disableSync=Dt,this._modelLoaded$.next(d)}),(0,G.switchMap)(Wt=>this._runBusinessRulesForModel(pt,Wt,!0)),(0,G.tap)(()=>{this._isSyncForModelAllowed(pt)&&(this._reloadDependentModels(pt,Ct),this._featureValues.DisableSequentialLoadDependentDS||this._setModalLoadParameters(d))}),(0,G.tap)(()=>{this._dispatchFinishLoadModelAttributes($),pt.setLoadedState()}),(0,G.mergeMap)(()=>(0,Z.of)(at)))}_getDataSourceMappingAttributes(d,C=null){const S=C??d.attributes.map($=>$.path),V=Object.fromEntries(S.map($=>[this._getMappedAttributeName(d,$),!0]));return d.collectionViewModelAttributeName&&(V[d.collectionViewModelAttributeName]=!0),V}_handleLoadErrorResponse(d,C){if(d instanceof v_._)return(0,Z.of)(C);const S=1e4;return console.error(d),this._showNotification({message:d.message,duration:S}),(0,Z.of)(C)}_canExecuteBusinessRulesByModelAttributeValue(d,C,S){return C&&d?this._isModelAttributeValueValid(d,C,S):!0}_canExecuteBusinessRulesByViewModelAttributeValue(d,C){const S=this._getDataSourceInfoByViewModelAttributePath(d);if(S){const V=S.getDataSourceAttributePath(d);return this._canExecuteBusinessRulesByModelAttributeValue(S,V,C)}return!0}_getContextAttributeValue(d){return d instanceof Date?(0,h.g)(d):d}_getNormalizedContextAttributeValue(d,C,S){const V=d;return E.r[C]===E.r.Lookup||V?.displayValue?V?.value??d:S===!0||!C?d:[E.r.RICH_TEXT,E.r.Image].includes(E.r[C])?null:E.r[C]===E.r.MAXSIZE_TEXT&&d?d.slice(0,500):d}_getHasValueContextAttributeValue(d,C){return!!(C&&E.r[C]===E.r.Boolean||d!=null&&d!=="")}_getViewModelAttributeInfos(d,C,S){return Object.keys(C).filter(V=>!(C[V]instanceof Qi.A)).map(V=>{if(C[V]instanceof Ji)return this._getViewModelAttributeInfos(d?`${d}.${V}`:V,C[V]?.attributes??{},S);const $=this._attributeConfigs[V]?.dataValueTypeName,at=this._getContextAttributeValue(C[V]),pt=this._getNormalizedContextAttributeValue(at,$,S);return{name:d?`${d}.${V}`:V,value:pt??null,displayValue:C[V]?.displayValue,dataValueTypeName:$,hasValue:this._getHasValueContextAttributeValue(at,$)}}).flat()}_runBusinessRulesForContexts(d){const C=`${br.RunningBusinessRules}-${(0,f.qv)()}`;return this._onAsyncTaskStarted(C),(0,Z.of)(d).pipe(this._measurePerformanceService.measure$(`ViewModel.runBusinessRules.${this._injectionContext?.id}.parent.${!!this.parent}`),(0,G.map)(S=>S?.filter(V=>!(0,Re.isNil)(V))??[]),(0,G.mergeMap)(S=>{if(S.length===0)return(0,Z.of)(null);const V=S.map($=>({scopeName:$.scopeName,scopeId:$.scopeId,scopeType:$.scopeType,triggers:$.triggers}));return this._toggleControlsAffectedByBusinessRules(!1,V),this._businessRulesEngine.execute(S).pipe(this._measurePerformanceService.measure$(`ViewModel.runBusinessRules.execute.${this._injectionContext?.id}.parent.${!!this.parent}`),(0,G.tap)($=>{$.forEach(at=>{const pt=V.find(Ct=>Ct.scopeId===at.scopeId&&Ct.scopeName===at.scopeName&&Ct.scopeType===at.scopeType);at.triggers=pt?.triggers??[]})}),(0,G.switchMap)($=>$?this._businessRulesApplier.applyRules(this,$):(0,Z.of)(null)),(0,G.tap)(()=>{this._toggleControlsAffectedByBusinessRules(!0,V)}))}),(0,G.tap)(()=>this._onAsyncTaskFinished(C)))}_createViewModelContext(d,C){return{scopeType:A.ViewModel,scopeName:this._scopeName,scopeId:this._scopeName,scopeState:F.Unknown,parentScopeId:null,attributes:C,triggers:d}}_getViewModelBusinessRuleContext(d){const C=this._featureValues["BRules-EnableCompareLargeAttributeValues"],S=this._getViewModelAttributeInfos(null,this.attributes,C);return this._createViewModelContext(d,[...S].map(V=>({attributeName:V.name,value:V.value,displayValue:V.displayValue,dataValueTypeName:V.dataValueTypeName,hasValue:V.hasValue})))}_prepareModelBusinessRuleTrigger(d,C){return C.map(S=>{if(S.type===De.DataLoaded||S.type===De.ContextReady)return S;const V=this._getDataSourceInfoByViewModelAttributePath(S.name);return!V||V.name!==d?null:{type:De.ChangeAttributeValue,name:V.getDataSourceAttributePath(S.name),scopeId:""}}).filter(S=>S!=null)}_getModelContextScopeStateType(d){switch(d.mode){case dt.b.Init:return F.Init;case dt.b.Create:return F.Create;case dt.b.Copy:return F.Copy;case dt.b.Update:return F.Update;default:return F.Unknown}}_getModelBusinessRuleContext(d,C){const S=this._dataSourcesInfos.get(d),V=this.getModelByName(d),$=this.dataSchemas[d],at=this._prepareModelBusinessRuleTrigger(d,C),pt=this._getModelContextScopeStateType(V);return this._getDataSourceDto(d).pipe((0,G.map)(Ct=>({...V._getPersistedState(),...Ct})),(0,G.map)(Ct=>({enableCompareLargeAttributeValues:this._featureValues["BRules-EnableCompareLargeAttributeValues"],modelDto:Ct})),(0,G.map)(({enableCompareLargeAttributeValues:Ct,modelDto:Dt})=>Object.entries(Dt).map(([Wt,zt])=>{let Me;const un=this._getMappedAttributeName(S,Wt);if(un)Me=this._attributeConfigs[un]?.dataValueTypeName;else{const mn=$.findAttributeByName(Wt);Me=E.r[mn.dataValueType]}const Ma=this._getContextAttributeValue(zt),Ee=this._getNormalizedContextAttributeValue(Ma,Me,Ct);return{attributeName:Wt,value:Ee,displayValue:zt?.displayValue,dataValueTypeName:Me,hasValue:this._getHasValueContextAttributeValue(Ma,Me),isSignificant:Wt===$.primaryAttributeName}})),(0,G.map)(Ct=>({scopeType:A.Model,scopeName:V.dataSchemaName,scopeId:d,scopeState:pt,parentScopeId:this._scopeName,attributes:Ct,triggers:at,modelType:V.getDataSource()?.type})))}_prepareDataSourceNamesForBusinessRules(){return this._modelsMap.size===0?[]:[...this._modelsMap.values()].filter(d=>!this._dataSourcesInfos.get(d.name).isCollection).map(d=>d.name)}_getModelsBusinessRuleContexts(d){return this._prepareDataSourceNamesForBusinessRules().map(S=>S?this._getModelBusinessRuleContext(S,d):(0,Z.of)(null))}_prepareBusinessRulesContexts(d){const C=this._getModelsBusinessRuleContexts(d);if(!this._scopeName)return C.length===0?(0,Z.of)([]):(0,Z.forkJoin)([...C]);const V=[(0,Z.of)(this._getViewModelBusinessRuleContext(d)),...C];return V.length===0?(0,Z.of)([]):(0,Z.forkJoin)(V)}_isAttributeChange(d){return!d.attributeName?.includes(":")}_businessRulesSubscribeOnChangeAttributes(){if(!this._businessRulesProcessingEnabled||this._isDesignTime)return;const d=this.events$.pipe((0,G.filter)(()=>this._businessRulesActive),(0,G.filter)(S=>S.type===ei.n.ChangeAttributeValue),(0,G.filter)(S=>this._isAttributeChange(S.payload)),(0,G.filter)(S=>!S.payload.silent),(0,G.filter)(S=>!S.payload?.preventRunBusinessRules),(0,G.filter)(S=>{const V=S.payload;return this._canExecuteBusinessRulesByViewModelAttributeValue(V.attributeName,V.value)}),(0,G.filter)(S=>{const V=S.payload,$=this._getAttributeDataValueTypeName(V.attributeName);return $&&(0,Yt.aP)($)===E.r.Lookup?V.value?.value!==V.oldValue?.value:!0}),(0,G.map)(S=>S.payload.attributeName)),C=d.pipe((0,G.tap)(()=>this._onAsyncTaskStarted(br.DebouncingBusinessRules)),(0,G.buffer)(d.pipe((0,G.debounceTime)(Fu))),(0,G.map)(S=>Array.from(new Set(S))),(0,G.map)(S=>this._createChangeAttributeTriggers(S)),(0,G.mergeMap)(S=>this._prepareBusinessRulesContexts(S)),(0,G.tap)(()=>this._onAsyncTaskFinished(br.DebouncingBusinessRules)),(0,G.filter)(S=>S.length>0),(0,G.mergeMap)(S=>this._runBusinessRulesForContexts(S)));this._subscriptions.add(C.subscribe())}_subscribeOnChangeAttributes(){const d=this.events$.pipe((0,G.filter)(C=>C.type===ei.n.ChangeAttributeValue),(0,G.map)(C=>C),(0,G.map)(C=>{const S=this.getBoundDataSourceNameByAttributePath(C.payload.attributeName),V=this._dataSourcesInfos.get(S)?.attributesMap.get(C.payload.attributeName),$=this.getBoundDataSchemaAttributeByAttributePath(C.payload.attributeName);return{changeEvent:C,model:this.getModelByName(S),modelAttributeInfo:{name:$?.name??V,isLookup:!!$?.isLookup}}}),(0,G.filter)(({model:C,modelAttributeInfo:S})=>!!(C&&S.name)),(0,G.tap)(({changeEvent:C,model:S,modelAttributeInfo:V})=>{const $=C.payload,at=V.isLookup,pt=at?$.oldValue?.value:$.oldValue,Ct=at?$.value?.value:$.value;pt!==Ct&&S?.attributeChanged(V.name,$?.preventStateChange??$?.silent)}));this._subscriptions.add(d.subscribe())}_getHasRelation(d=[],C,S){return d.map($=>{const at=$.trackByAttributes??[],{dependOnModelName:pt,dependOnAttributeName:Ct}=ua($.relationPath);return at.push(Ct),{rootModelName:pt,trackedAttributes:Ct}}).filter(({rootModelName:$})=>$===C).filter(({trackedAttributes:$})=>this._dataSourcesInfos.get(C).isCollection?!0:S.some(at=>$.includes(at))).length!==0}_getDependentModelsNames(d,C=[]){return d?Object.entries(this._modelDependencies).filter(([S])=>S!==d).filter(([,S])=>this._getHasRelation(S,d,C)).map(([S])=>S).map(S=>[S,...this._getDependentModelsNames(S)]).flat():[]}_getIsModelDataChanged(d){if(!this.getModelByName(d)?.isLoaded)return!1;const S=this._dataSourcesInfos.get(d);if(S.isCollection){const $=S.collectionViewModelAttributeName,at=this.attributes[$];return at?at.isChanged:!1}return S.getMappedAttributes().some($=>this.getIsDirty($))}_requestReloadModels(d){this._createRequestsForReloadingDataSources(d).forEach(S=>{this._ngZone.runOutsideAngular(()=>this.processRequest(S))})}_isModelAttributeValueValid(d,C,S){return this._getDataSourceAttributeSchema(d,C)?.dataValueType===E.r.Lookup?(0,Yt.oX)(S):!0}_canReloadModelDependentData(d,C){return d.canReloadDependentData(C)?!0:this._conflictedModels.includes(d.name)?!1:this._getDependentModelsNames(d.name,[C]).length>0}_getModelDependentAttributes(d,C){return[...C,...C.map(S=>d.getDependentAttributesNames(S)).flat()]}_getChangedModelsNames(d){return d.filter(C=>this._getIsModelDataChanged(C))}_showNotification(d){this._ngZone.runOutsideAngular(()=>this.processRequest({type:"crt.NotificationRequest",$context:this,...d}))}_isSyncForModelAllowed(d){return d.allowSync}_subscribeOnReloadDataEvents(){if(this._isDesignTime)return;const d=this.events$.pipe((0,G.filter)(()=>this._modelSynchronizationEnabled),(0,G.filter)(C=>C.type===ei.n.ChangeAttributeValue),(0,G.filter)(C=>C.payload.silent!==!0),(0,G.map)(C=>({modelName:this.getBoundDataSourceNameByAttributePath(C.payload.attributeName),attributeName:C.payload.attributeName,attributeValue:C.payload.value})),(0,G.filter)(({modelName:C})=>C!=null),(0,G.map)(({modelName:C,attributeName:S,attributeValue:V})=>{const $=this._dataSourcesInfos.get(C),at=$?.attributesMap.get(S);return{model:this.getModelByName(C),dataSourceInfo:$,modelAttribute:at,attributeValue:V}})).pipe((0,G.filter)(({model:C})=>C!=null),(0,G.filter)(({dataSourceInfo:C})=>!C.isCollection),(0,G.filter)(({model:C})=>this._isSyncForModelAllowed(C)),(0,G.filter)(({dataSourceInfo:C,modelAttribute:S,attributeValue:V})=>this._isModelAttributeValueValid(C,S,V)),(0,G.filter)(({model:C,modelAttribute:S})=>this._canReloadModelDependentData(C,S))).pipe((0,G.tap)(({model:C,dataSourceInfo:S,modelAttribute:V,attributeValue:$})=>{const at=this._getModelDependentAttributes(C,[V]),pt=Object.fromEntries(at.map(Ct=>[this._getMappedAttributeName(S,Ct),!0]));this._dispatchStartLoadModelAttributes(pt),C.reloadDependentData(V,$).pipe((0,G.switchMap)(Ct=>{if(Ct.length===0)return(0,Z.of)(Ct);const Dt=S.getModelDto(Ct);return this.setValue(Dt,{silent:!0,isMaskedValue:!0}).pipe((0,G.switchMap)(()=>this._runBusinessRulesForModel(C,Ct)))}),(0,G.tap)(()=>this._reloadDependentModels(C,[V])),(0,G.tap)(()=>this._dispatchFinishLoadModelAttributes(pt))).subscribe()}));this._subscriptions.add(d.subscribe())}_subscribeOnChangeRequests(){const d=this.events$.pipe((0,G.filter)(C=>C.type===ei.n.ChangeAttributeValue),(0,G.mergeMap)(C=>{const S=C.payload.attributeName,V=this._attributeConfigs[S];return Array.isArray(V?.change)?V.change:[V?.change]}),(0,G.filter)(C=>C!=null),(0,G.map)(C=>({type:C.request,$context:this,scopes:this._scopeName?[this._scopeName]:[],...C.params})),(0,G.tap)(C=>this._ngZone.runOutsideAngular(()=>this.handlerChain.process(C))));this._subscriptions.add(d.subscribe())}_subscribeOnFilteringEvents(){const d=new Set;this._subscriptions.add(this._modelLoaded$.pipe((0,G.tap)(S=>{d.add(S)})).subscribe());const C=this.events$.pipe((0,G.filter)(S=>S.type===ei.n.ChangeAttributeValue),(0,G.map)(S=>{const V=S.payload.attributeName;return this._getDataSourceNamesAffectedByFilteringAttribute(V,d)}),(0,G.map)(S=>this._createRequestsForReloadingDataSources(S)),(0,G.tap)(S=>{S.forEach(V=>{this._ngZone.runOutsideAngular(()=>this.processRequest(V))})}));this._subscriptions.add(C.subscribe())}_saveModel(d,C,S){const V=this.getModelByName(d),$=V.mode,at=this.getSaveModelStream$({dataSourceName:d,parametersConfig:C,saveAction:(pt,Ct)=>V.insertOrUpdate(pt,Ct),onSavedAction:(pt,Ct)=>this._updateLastLoadParameters(d,$,pt,Ct),getInvalidAction:pt=>(0,Z.of)(pt)});return this.handleSaveModelStream(at,S)}_initSubscriptions(){return this._measurePerformanceService.measure(`ViewModel.initSubscriptions.${this._injectionContext?.id}.parent.${!!this.parent}`,()=>(this._subscribeOnFilteringEvents(),this._subscribeModelsEvents(),this._subscribeOnChangeAttributes(),this._subscribeOnChangeRequests(),this._subscribeOnReloadDataEvents(),this._businessRulesSubscribeOnChangeAttributes(),this._subscribeOnChangeAttributesToHandleModelDependenciesConstrains(),this._subscribeOnPrimaryDisplayAttributeChangeForOneToManyRelation(),(0,Z.of)(null)))}_subscribeOnPrimaryDisplayAttributeChangeForOneToManyRelation(){if(this._featureValues.DisableMultipleDataSources)return;const d=this.events$.pipe((0,G.filter)(C=>this._primaryModelName!=null),(0,G.filter)(C=>C.type===ei.n.ChangeAttributeValue),(0,G.map)(C=>C),(0,G.map)(({payload:C})=>{const S=C.attributeName,V=C.value;return{modelName:this.getBoundDataSourceNameByAttributePath(S),attributeName:S,attributeValue:V}}),(0,G.filter)(({modelName:C})=>this._isPrimaryModel(C)),(0,G.filter)(({attributeName:C})=>{const S=this.getBoundDataSchemaByAttributePath(C),V=this.getBoundDataSchemaAttributeByAttributePath(C);return!S||!V?!1:S.primaryDisplayAttributeName===V.name}),(0,G.map)(({modelName:C,attributeValue:S})=>{const V=this.dataSchemas[this._primaryModelName],at=this._getDependentModelsNames(C,[V.primaryAttributeName]).filter(pt=>this._isOneToManyRootModelRelation(pt));return{primaryDisplayValue:S,dependentModelsNames:at}}),(0,G.filter)(({dependentModelsNames:C})=>C.length>0),(0,G.tap)(({dependentModelsNames:C,primaryDisplayValue:S})=>{const V=this.dataSchemas[this._primaryModelName],$=this.getViewModelAttributePaths(this._primaryModelName,V.primaryAttributeName)[0],at=this.attributes[$],pt={};C.map(Ct=>{const Wt=this._modelDependencies[Ct][0].attributePath;return this.getViewModelAttributePaths(Ct,Wt)}).flat().forEach(Ct=>{pt[Ct]={value:at,displayValue:S}}),this.setValue(pt,{silent:!0,preventAttributeChangeRequest:!0,preventRunBusinessRules:!1,preventStateChange:!0})}));this._subscriptions.add(d.subscribe())}_getDataSchemas(){if(this.models&&this.models.length!==0){const d=this.models.map(C=>C.getSchema().pipe((0,G.map)(S=>[C.name,S])));return(0,Z.combineLatest)(d).pipe((0,G.take)(1),(0,G.map)(C=>Object.fromEntries(C)))}return(0,Z.of)({})}_setAttributesDefaultValues(d){var C=this;return(0,Z.from)((0,p.A)(function*(){let S=Object.entries(C.dataSchemas);d&&(S=S.filter(([V])=>V===d));for(const[V,$]of S){const at={};for(const pt of $.attributes){const Ct=yield(0,Z.lastValueFrom)(pt.defaultValue,{defaultValue:null});if(!(0,Re.isNil)(Ct)){const Dt=C.getViewModelAttributePath(V,pt.name);Dt&&(at[Dt]=Ct)}}C.setValue(at).subscribe()}})())}_generateDataSourcesInfo(){return this._dataSourcesInfos=va.getFromViewModelConfig(this.viewModelConfig,this.models),(0,Z.of)(this._dataSourcesInfos)}_generateAttributesToDataSourceNameMap(d){const C=Array.from(d.values()).map(S=>this._getDataSourceAttributesMap(S)).flat();return this._initializeAttributesToDataSourceNameMap(C),(0,Z.of)(this._attributesToDataSourceNameMap)}_initializeAttributesToDataSourceNameMap(d){this._attributesToDataSourceNameMap=new Map(d)}_getDataSourceAttributesMap(d){const S=d.getMappedAttributes().map(V=>[V,d.name]);return d.isCollection&&S.push([d.collectionViewModelAttributeName,d.name]),S}_getDataSourceLoadType(d){return d?d||y.I.Reload:null}_getLoadTypeForDataSource(d,C){if(C===y.I.Load)return C;const S=d.getPagingConfig();return!C&&S?y.I.LoadNext:C}_loadDefaultSorting(d){this._measurePerformanceService.measure(`ViewModel._loadDefaultSorting.${this._injectionContext?.id}.parent.${!!this.parent}.dsNames.${d?.toString()}`,()=>{const C=Array.from(this._dataSourcesInfos.entries()).filter(([S])=>!d?.length||d.includes(S)).map(([,S])=>S.getSortingConfig()).filter(S=>!!S?.default).reduce((S,V)=>(S[V.attributeName]=V.default,S),{});this.setValue(C,{silent:!0}).subscribe()})}_getDropdownPageSize(){var d=this;return(0,p.A)(function*(){if(!(0,Re.isEmpty)(d._dropdownPageSize))return d._dropdownPageSize;const C=yield d.sysSettingsService.getByCode(d._dropdownPageSizeSettingsCode);return d._dropdownPageSize={pagingConfig:{rowCount:C?.value,rowsOffset:0}},d._dropdownPageSize})()}_mergeCollectionModels(d,C){this._measurePerformanceService.measure(`ViewModel.mergeCollectionModels.${this._injectionContext?.id}.parent.${!!this.parent}.collection.${d}`,()=>{const S=this.attributes[d];this._featureValues.DisableBaseViewModelCollectionOptimization||S.length?S.merge(C):S.push(...C)})}_getEmbeddedModels(){const d=Object.entries(this.viewModelConfig?.attributes??{}).filter(([,V])=>V&&"embeddedModel"in V&&V.embeddedModel).map(([V,$])=>({attributeName:V,embeddedModel:$.embeddedModel}));if(d.length===0)return(0,Z.of)([]);const C={},S=[];if(d.forEach(({attributeName:V,embeddedModel:{name:$,config:at}})=>{$?C[$]&&S.push(`Duplicated embedded model : ${$}.`):S.push(`Embedded model name is not provided for ${V}.`),C[$]=at}),S.length>0)throw new Error(S.join(" "));return this._modelGenerator.generate({dataSources:C},this.injector)}_concatModelsWithEmbedded(d=null){return this._getEmbeddedModels().pipe((0,G.map)(C=>{const S=[...d??[],...C??[]],V=S.map($=>$.name).filter(($,at,pt)=>pt.indexOf($)!==at);if(V.length>0)throw new Error(`Duplicated model names found : ${V.join(",")}.`);return S}))}_updateModelsMap(){const d=this.models.map(C=>[C.name,C]);this._modelsMap=new Map(d)}_subscribeModelsChanges(){this._subscriptions.add(this._models$.subscribe(()=>this._updateModelsMap()))}_subscribeModelsEvents(){this._isDesignTime||this.models.forEach(d=>this._subscribeModelEvents(d))}_subscribeModelEvents(d){this._subscriptions.add(d.event$.pipe((0,G.mergeMap)(C=>this._waitDataDelay(C)),(0,G.mergeMap)(C=>this._ngZone.runOutsideAngular(()=>this.processRequest({type:"crt.HandleModelEventRequest",$context:this,scopes:this._eventScopes,modelName:d.name,modelEvent:C})),1)).subscribe())}_upsertModel(d,C){const S=[...this.models],V=S.findIndex(({name:$})=>$===d);V===-1?S.push(C):S.splice(V,1,C).forEach($=>$.destroy()),this._subscribeModelEvents(C),this._models$.next(S)}_replaceDataSourceInfo(d,C){!d||!C||(this._loadedDataSources.has(d)&&this._loadedDataSources.delete(d),this._dataSourcesInfos.set(d,C),this._replaceAttributesToDataSourceNameMap(C))}_updateModels(d){d.forEach((C,S)=>{const V=this.getModelByName(S);V&&(this._markModelAsCollection(V,C),this._updateModelDependentAttributes(V,C))})}_markModelAsCollection(d,C){C.isCollection&&(d._isCollection=!0)}_setModalLoadParameters(d){this._modelsNamesWithParameters.add(d),this._modelLoadParametersSetted$.next()}_updateModelDependentAttributes(d,C){const S=C.attributes.map(V=>({path:V.path,type:V.type}));d.updateDependentAttributes(S)}_initIsChangedAttribute(){this._systemAttributes.push(pa.j7),this.attributes[pa.j7]=!1;const d=this._models$.pipe((0,G.switchMap)(C=>C?.length?(0,Z.combineLatest)(C.map(S=>S._dirty$)):(0,Z.of)([])),(0,G.map)(C=>C.some(S=>S)),(0,G.filter)(()=>!this._viewModelAttributeChangeEventOptions.getOptions().preventStateChange),(0,G.distinctUntilChanged)()).subscribe(C=>{this._setSystemAttributeValue(pa.j7,C)});this._subscriptions.add(d)}_initHasUnsavedDataAttribute(){this._systemAttributes.push(pa.ie),this.attributes[pa.ie]=!1;const d=this.events$.pipe((0,G.filter)(at=>at?.type===ei.n.ChangeAttributeValue&&at.payload?.attributeName===pa.j7),(0,G.map)(at=>at.payload.value)),C=(0,Z.merge)(this.IsChanged,d),V=this._models$.pipe((0,G.map)(at=>at.map(pt=>pt._modeChanges$.pipe((0,G.map)(Ct=>({mode:Ct,name:pt.name})),(0,G.startWith)({mode:pt.mode,name:pt.name})))),(0,G.switchMap)(at=>at?.length?(0,Z.combineLatest)(at):(0,Z.of)([]))).pipe((0,G.map)(at=>at.some(({mode:pt,name:Ct})=>{const Dt=!this._isDesignTime&&!this._featureValues.DisableMultipleDataSources&&!this._isPrimaryModel(Ct)&&this._isIndependentRootModel(this.getModelByName(Ct)),Wt=this._isOneToManyRootModelRelation(Ct);return(pt===dt.b.Create||pt===dt.b.Copy)&&!Wt&&!Dt}))),$=(0,Z.combineLatest)([C,V]).pipe((0,G.map)(([at,pt])=>!!(at||pt)),(0,G.distinctUntilChanged)()).subscribe(at=>{this._setSystemAttributeValue(pa.ie,at)});this._subscriptions.add($)}_initPrimaryModelModeAttribute(){const d=this._getPrimaryModelModeChanges();if(!d)return;this._systemAttributes.push(pa.yM),this.attributes[pa.yM]=this.getPrimaryModelMode();const C=d.pipe((0,G.startWith)(this.getPrimaryModelMode())).subscribe(S=>this._setSystemAttributeValue(pa.yM,S));this._subscriptions.add(C)}_initStateAttribute(){this._systemAttributes.push(Ec),this.attributes[Ec]=_d.Active}_initBusinessRulesActivatedAttribute(){if(this._systemAttributes.push(pa.kd),this.attributes[pa.kd]=this._businessRulesAreActivated,this._businessRulesAreActivated)return;const d=this._businessRulesActivated$.pipe((0,G.filter)(C=>C===!0)).subscribe(C=>{this._setSystemAttributeValue(pa.kd,C)});this._subscriptions.add(d)}_initSystemAttributes(){var d=this;return(0,p.A)(function*(){yield d._measurePerformanceService.measureCallback(`ViewModel.initSystemAttributes.${d._injectionContext?.id}.parent.${!!d.parent}`,()=>(d._initIsChangedAttribute(),d._initPrimaryModelModeAttribute(),d._initHasUnsavedDataAttribute(),d._featureValues.DisableDelayingModelEvents||d._initStateAttribute(),d._initBusinessRulesActivatedAttribute(),Promise.resolve()))})()}_handleCircularDependencies(){const d=we(this._modelDependencies);if(d.hasCycles){const C=this._translateService.instant("BaseViewModel.WarningModelsWithCircularDependencies");this._showNotification({message:C,duration:1e4}),console.warn(C,d.cycledModelsNames)}this._conflictedModels=d?.cycledModelsNames}_forEachControl(d,C){Object.keys(d).forEach(V=>{if(this.attributes[V]instanceof Qi.A){const $=this.attributes[V],at=d[V];$.forEach(pt=>{const Ct=pt.primaryAttributeName,Dt=pt.attributes[Ct],Wt=at.find(zt=>zt[Ct]===Dt);Wt&&pt._forEachControl(Wt,C)})}else if(this.attributes[V]instanceof Ji)this.attributes[V]._forEachControl(d[V],C);else{const $=this.getControl(V);C($.formControl)}})}_getModelsErrors(d){return(d??[]).filter(C=>!C.isCollectionItemModel&&C.hasErrors).map(C=>C.getLastError())}_notifyAboutModelsErrors(d){const C=this._getModelsErrors(d);if(C.length>0){const S=C.map(V=>V.message).join(" ");this._showNotification({message:S})}}_initFeaturesStates(){this._disableViewModelWaitingForAsyncTasks=this._featureValues.DisableViewModelWaitingForAsyncTasks,this._disableViewModelLoadUnblockingThread=this._featureValues.DisableViewModelLoadUnblockingThread,this._blockFieldsAffectedByBusinessRules=this._featureValues.BlockFieldsWhileRunBusinessRules,this._modelSynchronizationEnabled=!this._featureValues.ModelSynchronizationDisabled}_handleAsyncTasksCycle(d){let C=null;const S=100,V=Array.from(d).filter($=>$.startsWith(br.ProcessingAttributeChangeRequest));if(!(!d.size||!V.length))return V.length&&(C=setTimeout(()=>{console.warn("[ViewModel]: Clearing executing tasks by exceeded timeout",V),V.forEach($=>d.delete($)),this._asyncTasksExecutingSubject.next(d)},S)),C}_getAffectedViewModelAttributes(d,C){return this.models.filter(V=>V.dataSchemaName===d).map(V=>V.name).flatMap(V=>this.getViewModelAttributePaths(V,C))}_toggleControlsAffectedByBusinessRules(d,C){if(!this._blockFieldsAffectedByBusinessRules)return;this._attributesAffectedByBusinessRules?.filter(V=>T(this._scopeName,V,C))?.forEach(V=>{V.scopeName===this._scopeName?this.getControl(V.name).toggle(d):this._getAffectedViewModelAttributes(V.scopeName,V.name).forEach(at=>{this.getControl(at).toggle(d)})})}_initAttributesAffectedByBusinessRules(){var d=this;return(0,p.A)(function*(){const S=d._prepareDataSourceNamesForBusinessRules().filter($=>!!$).map($=>d.getModelByName($)).map($=>({scopeId:$.name,scopeName:$.dataSchemaName,scopeType:A.Model,modelType:$.getDataSource()?.type})),V={scopeName:d._scopeName,scopeType:A.ViewModel,scopeId:d._scopeName};d._attributesAffectedByBusinessRules=yield d._businessRulesEngine.getAffectedAttributes([V,...S])})()}_initBusinessRules(){var d=this;return this._measurePerformanceService.measureCallback(`ViewModel.initBusinessRules.${this._injectionContext?.id}.parent.${!!this.parent}`,(0,p.A)(function*(){d._businessRulesProcessingEnabled=!d._featureValues.BusinessRulesProcessingDisabled&&d.viewModelConfig.supportBusinessRules!==!1,d._businessRulesProcessingEnabled&&(yield d._initAttributesAffectedByBusinessRules()),d._businessRulesAreActivated=d._businessRulesProcessingEnabled&&d._businessRulesActive!==!1,d._businessRulesActivated$.next(d._businessRulesAreActivated)}))}_attributeGenerate$(d,C){return(0,Z.of)(this._featureValues.UseDesignerHotSwapViewModel).pipe((0,G.switchMap)(S=>S&&this._isDesignTime?this._initDataSourceValidators().pipe((0,G.tap)(()=>{this._initSchemaValidators(d)}),(0,G.switchMap)(()=>this._attributeGenerate(d,C))):this._attributeGenerate(d,C)))}_validateByDataSourceName(d){var C=this;return(0,p.A)(function*(){const S={},V=C._getBoundDataSourceAttributeControls(d);return yield Promise.all(Object.entries(V).map(([$,at])=>(at.markAsTouched(),at.updateValueAndValidity(),(0,Z.lastValueFrom)((0,Ds.OL)(at).pipe((0,G.tap)(()=>{at.errors&&(S[$]=at.errors)})))))),S})()}_validateAll(){var d=this;return(0,p.A)(function*(){const C={};return d.formApiModel.markAllAsTouched(),d.formApiModel.updateValueAndValidity(),(0,Ds.SH)(d.formApiModel),yield(0,Z.lastValueFrom)((0,Ds.OL)(d.formApiModel).pipe((0,G.tap)(()=>{Object.entries(d.formApiModel.controls).forEach(([V,$])=>{$.errors&&(C[V]=$.errors)})}))),C})()}_getDependentModelsNamesOnRelationAttributeName(d){const C=this.getBoundDataSourceNameByAttributePath(d),V=this._dataSourcesInfos.get(C)?.attributesMap.get(d);return this._getDependentModelsNames(C,[V])}_setAttributeValue(d,C,S){this._executeWithOptions(()=>this[d]=C,S)}_subscribeOnChangeAttributesToHandleModelDependenciesConstrains(){if(this._isDesignTime)return;const d=this.events$.pipe((0,G.filter)(C=>C.type===ei.n.ChangeAttributeValue),(0,G.filter)(C=>this._isAttributeChange(C.payload)),(0,G.tap)(C=>{const S=C;!S?.payload?.value&&S.payload?.attributeName&&this._clearValuesForManyToOne(S.payload.attributeName)}));this._subscriptions.add(d.subscribe())}_clearValuesForManyToOne(d){this._getDependentModelsNamesOnRelationAttributeName(d).forEach(S=>{this._isManyToOneRootModelRelation(S)&&this._clearModelValues(S)})}_clearModelValues(d){const C=this._dataSourcesInfos.get(d),S=C?.isCollection?[]:C.getMappedAttributes();if(S.length){const V=S.reduce(($,at)=>({...$,[at]:null}),{});this.setValue(V).subscribe(()=>{this._markAsPristine(V),this._markAsUntouched(V)})}}_markAsUntouched(d){this._forEachControl(d,C=>{C.markAsUntouched()})}_setSingleSubmodelValue(d,C,S){return this.attributes[d].setValue(C[d],{silent:S?.silent,isMaskedValue:S?.isMaskedValue,preventAttributeChangeRequest:S?.preventAttributeChangeRequest,preventStateChange:S?.preventStateChange,preventRunBusinessRules:S?.preventRunBusinessRules})}_setCollectionSubmodelValue(d,C,S){const V=this._attributeConfigs[d],$=V.viewModelConfig||V.viewModelName,at=!this._featureValues.DisableDataGridEditingMode,pt=(C[d]||[]).map(Ct=>{const Dt=this.getBoundDataSourceName(d),zt=this._getDataSourceInfoByViewModelAttributePath(d)?.isCollection&&this.getModelByName(Dt)?.createCollectionItemModel(dt.b.Update);return this.viewModelGenerator.generate({viewModelConfig:$,modelConfig:at&&zt?{primaryDataSourceName:zt.name}:void 0,models:at&&zt?[zt]:void 0,parentViewModel:this,businessRulesActive:!1},g.Injector.create({providers:[{provide:Na.Fj,useValue:null}],parent:this.injector})).pipe(this._measurePerformanceService.measure$(`ViewModel.setValue.generateViewModel.${this._injectionContext?.id}.parent.${!!this.parent}.modelName.${zt?.name}`),(0,G.tap)(Me=>{Dt&&(Me.dataSchemas[Dt]=this.dataSchemas[Dt])}),(0,G.tap)(Me=>{Me.deactivateBusinessRules()}),(0,G.switchMap)(Me=>Me.setValue(Ct,{silent:S?.silent,isMaskedValue:S?.isMaskedValue,preventAttributeChangeRequest:S?.preventAttributeChangeRequest,preventStateChange:S?.preventStateChange,preventRunBusinessRules:S?.preventRunBusinessRules}).pipe((0,G.tap)(()=>zt&&zt.setLoadedState()),(0,G.map)(()=>Me))))});return!pt.length&&S?.collectionLoadType===At.Reload&&this.attributes[d].clear(),pt.length===0?(0,Z.of)(null):(0,Z.forkJoin)([...pt]).pipe((0,G.tap)(Ct=>{const Dt=this.getBoundDataSourceName(d);this.getModelByName(Dt)?.childrenChange(),this._executeWithOptions(()=>{S?.collectionLoadType===At.Reload||!S?.collectionLoadType?this.attributes[d].reload(Ct):this.getBoundDataSchema(d)?this._mergeCollectionModels(d,Ct):this.attributes[d].push(...Ct)},S)}))}_setSubmodelValues(d,C,S){return(0,Z.forkJoin)([...d.filter(V=>C?.[V]).map(V=>this.attributes[V]instanceof Ji?this._setSingleSubmodelValue(V,C,S):this._setCollectionSubmodelValue(V,C,S)),(0,Z.of)(this)])}_findAttributePathInDataSourceNameMap(d){for(const C of this._attributesToDataSourceNameMap.keys()){const S=C.indexOf(".");if(S<0)continue;const V=S+1,$=d.length;if(C.startsWith(d,V)&&(C.length===V+$||C.charAt(V+$)==="."))return C}}_getBoundDataSourceAttributeControls(d){return Object.fromEntries(Array.from(this._attributesToDataSourceNameMap.entries()).filter(([C,S])=>S===d).map(([C])=>[C,this.getAttributeControl(C)]))}_resetMaskDataForAttribute(d){this[An](d)&&(this.setAttributePropertyValue(d,Va,null),this.setAttributePropertyValue(d,qa,null),this.setAttributePropertyValue(d,ti,null))}showLoadMaskAndValidateFields(d){this.maskService.showMask(this.saveModelTaskName,this);const C=this._getBoundDataSourceAttributeControls(d);Object.keys(C).forEach(S=>this.formApiModel.controls[S].updateValueAndValidity())}deleteModel(d,C,S,V){return(0,Z.from)(this._modelParametersBuilder.getModelParameters(this,C,V?.payload)).pipe((0,G.switchMap)($=>S(d,$)))}handleSaveModelStream(d,C){return d.pipe((0,G.finalize)(()=>this.maskService.hideMask(this.saveModelTaskName,this)),(0,G.catchError)(S=>{const V=typeof S=="string"?S:S?.message||S?.errorInfo;return C?.silent===!0?(0,Z.of)({success:!1,rowsAffected:0,errorInfo:V}):(0,Z.throwError)(()=>new Error(V))}))}_updateLastLoadParameters(d,C,S,V){const $=C===dt.b.Create||C===dt.b.Copy,at=this.dataSchemas[d],pt=at.dataSourceConfig?.type===ft.EntityDataSource;if(V.success&&$&&pt){const Ct=at.primaryAttributeName,Dt=S[Ct];this._loadedDataSources.add(d),this._lastEventLoadParameters.set(d,[{type:w.E.PrimaryColumnValue,value:Dt}])}}getSaveParameters(d,C){return(0,Z.forkJoin)({parameters:this._modelParametersBuilder.getModelParameters(this,C),dto:this._getDataSourceDto(d)})}getSaveModelStream$(d){return this.showLoadMaskAndValidateFields(d.dataSourceName),(0,Z.from)(this.isValid(d.dataSourceName)).pipe((0,G.switchMap)(C=>{if(!C){const S=this.injector.get(I.TranslateService);return d.getInvalidAction({success:!1,rowsAffected:0,errorInfo:S.instant("HomePage.DialogMessages.RequiredFieldsAreNotFilled")})}return this.getSaveParameters(d.dataSourceName,d.parametersConfig).pipe((0,G.mergeMap)(({parameters:S,dto:V})=>(0,Z.forkJoin)({result:d.saveAction(V,S),dto:(0,Z.of)(V)})),(0,G.tap)(({result:S,dto:V})=>d.onSavedAction(V,S)),(0,G.map)(({result:S})=>S))}))}_checkDataSourceName(d){if(!d)throw new Error("Data source name is not provided")}innerSave(d,C,S){return(0,Z.from)(this.waitAsyncTasksFinish()).pipe((0,G.switchMap)(()=>(this._checkDataSourceName(S),this.getModelMode(S)===dt.b.Delete?C():d())))}initDependencies(){this.formBuilder=this.injector.get(l.FormBuilder),this.resourceFinderService=this.injector.get(u.Q),this.validatorTypeResolver=this.injector.get(wc),this.maskService=this.injector.get(ln.V),this.sysSettingsService=this.injector.get(_.A),this.crtControlStateAdapter=this.injector.get(_r.f),this._businessRulesEngine=this.injector.get(ka),this._businessRulesApplier=this.injector.get(H),this._featureValues=this.injector.get(ya.G),this._modelGenerator=this.injector.get(M_.n),this._ngZone=this.injector.get(g.NgZone),this._translateService=this.injector.get(I.TranslateService),this._scopeName=this.injector.get(Na.Fj,null),this._attributeGenerator=this.injector.get(Ts),this._attributeResourceGenerator=this.injector.get(Ze),this._crtZoneService=this.injector.get(vi.p),this._viewEventZoneName=this.injector.get(Na.C_,To.R.Root),this._modelParametersBuilder=this.injector.get(wi),this._context=this.injector.get(Na.iB,null),this._crtInjectionContextService=this.injector.get(Ra),this._viewModelDataDelayerService=this.injector.get(Vu,null),this._isDesignTime=this.injector.get(hr.w,null),this._measurePerformanceService=this.injector.get(Ya.g,null),this._measurePerformancePageLoadService=this.injector.get(Qr),this._appInfo=this.injector.get(Kn.z,null)}processRequest(d){return this.handlerChain.process(d)}runInitFlow(d=null){return this._concatModelsWithEmbedded(d).pipe(this._measurePerformanceService.measure$(`ViewModel.runInitFlow.${this._injectionContext?.id}.parent.${!!this.parent}`),(0,G.tap)(C=>this._notifyAboutModelsErrors(C)),(0,G.tap)(C=>this._models$.next(C)),(0,G.tap)(()=>this._initFeaturesStates()),(0,G.mergeMap)(()=>this._generateDataSourcesInfo()),(0,G.tap)(C=>this._updateModels(C)),(0,G.mergeMap)(C=>this._generateAttributesToDataSourceNameMap(C)),(0,G.mergeMap)(C=>this._getDataSchemas()),(0,G.tap)(C=>this.dataSchemas=C),(0,G.mergeMap)(()=>this._initDataSourceValidators()),(0,G.switchMap)(()=>this._initBusinessRules()),(0,G.tap)(()=>{this._initSchemaValidators(this.viewModelConfig.attributes)}),(0,G.mergeMap)(()=>(0,Z.forkJoin)([...this._generateResourceAttribute(),this._initSystemAttributes(),this._attributeGenerate(this.viewModelConfig.attributes),(0,Z.of)(this),this._initSubscriptions()])),(0,G.mergeMap)(()=>this._generatePrimaryAttributes()),(0,G.tap)(()=>this._loadDefaultSorting()),(0,G.mergeMap)(()=>this._runInitialBusinessRules()),(0,G.tap)(()=>this._viewModelAttributeChangeEventOptions.reset())).pipe((0,G.switchMap)(()=>(0,Z.of)(this)))}[An](d){return this._attributeConfigs[d]?.isValueMasked??!1}[bt](d){return this.getAttributePropertyValue(d,qa)}[Ii](d){return this.getAttributePropertyValue(d,ti)}[ud](d,C){this.setAttributePropertyValue(d,Va,C)}[Es](d){return this.getAttributePropertyValue(d,Va)||Fa.Unmasked}init(d,C){return this._primaryModelName=C?.primaryModelName,this._modelDependencies=C?.modelDependencies||{},this._modelsLoadingConfig=C?.modelsLoadingConfig||{},this._lastEventLoadParameters=new Map,C?.businessRulesActive||this.deactivateBusinessRules(),this._modelDependencies&&this._handleCircularDependencies(),this._ngZone.runOutsideAngular(()=>this.runInitFlow(d))}setValue(d,C){const S=[],V=[];for(const $ of Object.keys(this._attributeConfigs))"viewModelConfig"in this._attributeConfigs[$]||"viewModelName"in this._attributeConfigs[$]?V.push($):S.push($);return this._executeWithOptions(()=>{this._measurePerformanceService.measure(`ViewModel.setValue.updateViewModelModelAttributes.${this._injectionContext?.id}.parent.${!!this.parent}.data.${Object.keys(d).toString()}`,()=>{for(const $ in d)S.includes($)&&(this._resetMaskDataForAttribute($),this.set($,d[$],{isMaskedValue:C?.isMaskedValue}))})},C),Ln.iR.deferUpdatingValueAndValidity(this,()=>this._setSubmodelValues(V,d,C),this._featureValues)}deactivateBusinessRules(){this._businessRulesActive=!1}activateBusinessRules(){const d=this._businessRulesActive;if(this._businessRulesActive=!0,d)return(0,Z.of)(null);const C=this.models.filter(S=>S.isLoaded);if(C.length>0){const S={type:De.ContextReady,name:null,scopeId:""};return(0,Z.forkJoin)(C.map(V=>this._runBusinessRulesForModel(V,[],!0,[S]))).pipe((0,G.tap)(()=>this._businessRulesAreActivated=this._businessRulesProcessingEnabled),(0,G.tap)(()=>this._businessRulesActivated$.next(this._businessRulesAreActivated)))}}_getDependOnModelsNames(d){const C=this._modelDependencies[d];if(!C)return[];const S=C.map(V=>V.relationPath.split(".")[0]);return[...new Set(S)]}_getModelDependencies(d){return this._modelDependencies[d]??[]}_getIsAffectedByBusinessRules(d){if(!this._businessRulesProcessingEnabled)return Promise.resolve(!1);const C=d.name,S=this._attributesAffectedByBusinessRules;if(S.length===0||!C)return Promise.resolve(!1);const V=S.some(Ct=>Ct.name===C),$=this.getBoundDataSchemaByAttributePath(C),at=this.getBoundDataSchemaAttributeByAttributePath(C);if(!at)return Promise.resolve(V);const pt=S.filter(Ct=>Ct.scopeName===$.name).some(Ct=>Ct.name===at.name);return Promise.resolve(pt||V)}executeRequest(d){return d.scopes=d.scopes||this._eventScopes,this._crtZoneService.runInZone(this._viewEventZoneName,()=>this.processRequest(d))}getAttributeControl(d){let C=this.formApiModel;(0,fd.J)(this,d).then(Re.noop);for(const S of d.split("."))C=C.get(S);return C??new l.FormControl}loadLookupList(d,C=[],S){const V=d.control,$=d.items,at=this._getDataSourceInfoByViewModelAttributePath($);if(at){const pt=this._ngZone.runOutsideAngular(()=>this.processRequest({type:"crt.LoadDataRequest",$context:this,dataSourceName:at.name,parameters:C,config:{payload:S}}));Promise.resolve(pt)}else{const pt=this._getDataSourceInfoByViewModelAttributePath(V);if(pt){const Ct=pt.getDataSourceAttributePath(V);(0,Z.forkJoin)([this._getDropdownPageSize(),this._modelParametersBuilder.getModelParameters(this,C,S)]).pipe((0,G.mergeMap)(([Dt,Wt])=>this.getModelByName(pt.name).loadLookupList(Ct,Wt,Dt)),(0,G.map)(Dt=>va.getLookupListDataSourceInfo($,{value:Dt.primaryAttributeName,displayValue:Dt.primaryDisplayAttributeName}).getModelDto(Dt.data)),(0,G.mergeMap)(Dt=>this.setValue(Dt,{silent:!0}))).subscribe()}}}load(...d){const C=this._disableViewModelLoadUnblockingThread?(0,Z.of)(null):(0,Z.timer)(0,Z.asyncScheduler);if(typeof d[0]=="string"){const V=d[0],$=d[1],at=d[2];this._checkDataSourceName(V);const pt=this._getDataSourceLoadType(at?.loadType);return C.pipe((0,G.switchMap)(()=>this._loadStaticModel(V,$,pt,at?.payload,at?.useLastLoadParameters,at?.doNotUpdateLastLoadParameters).pipe(this._measurePerformanceService.measure$(`ViewModel.loadStaticModel.${this._injectionContext?.id}.parent.${!!this.parent}.datasourceName.${V}`))))}const S=d[0];return C.pipe((0,G.switchMap)(()=>this._loadDynamicModel(S).pipe(this._measurePerformanceService.measure$(`ViewModel.loadDynamicModel.${this._injectionContext?.id}.parent.${!!this.parent}.model.${S.dataSourceName}`))))}setSorting(d,C){const V=this._dataSourcesInfos.get(d).getSortingConfig(),$=V&&V.attributeName;return $&&(this[$]=C),(0,Z.of)(null)}create(d,C){return this._checkDataSourceName(d),this._createModelData(d,C)}copy(d,C,S){return this._checkDataSourceName(d),this._copyModelData(d,C,S)}loadDefaultValues(d){return this._setAttributesDefaultValues(d)}save(d,C,S){return this.innerSave(()=>this._saveModel(d,C,S),()=>this.delete(d,C,S),d)}delete(d,C,S){return this._checkDataSourceName(d),this.deleteModel(d,C,(V,$)=>this.getModelByName(V).delete($),S)}resume(){return(0,Z.of)(void 0)}pause(){return(0,Z.of)(void 0)}destroy(){this._subscriptions.unsubscribe(),Array.from(this._collectionSubscription.values()).forEach(C=>C.unsubscribe()),this._collectionSubscription.clear(),this._crtControls.forEach(C=>{C.destroy()}),this.models?.forEach(C=>C.destroy()),this._crtControls.clear(),this._eventsSubject$.complete(),this._replayEvents$.complete(),this._modelLoaded$.complete();const d=[];for(const C of Object.values(this.attributes))C instanceof Ji&&d.push(C.destroy()),C instanceof Qi.A&&d.push((0,Z.from)(C.destroy()));return(0,Z.forkJoin)(d).pipe((0,G.defaultIfEmpty)(void 0),(0,G.map)(()=>{}),(0,G.finalize)(()=>{this.parent||(this._crtInjectionContextService.removeContext(this._injectionContext?.id),(0,x.zt)(this._injectionContext),this._context=null,this._viewModelDataDelayerService?.destroy(),this._viewModelDataDelayerService=null),this._asyncTasksExecutingSubject.complete(),this._dataSourcesInfos.clear(),this.__destroyed=!0,this._destroySubject.next(),this._destroySubject.complete()}))}getBoundDataSourceName(d){const C=this.getBoundDataSourceNameByAttributePath(d);if(C!==null)return C;if(!d)return null;const S=this._findAttributePathInDataSourceNameMap(d);return this.getBoundDataSourceNameByAttributePath(S)}getBoundDataSourceAttributeControls(d){return Object.values(this._getBoundDataSourceAttributeControls(d))}getBoundDataSourceNameByAttributePath(d){return this._attributesToDataSourceNameMap.get(d)??null}getBoundDataSchema(d){return this.dataSchemas[this.getBoundDataSourceName(d)]}getBoundDataSchemaByAttributePath(d){return this.dataSchemas[this.getBoundDataSourceNameByAttributePath(d)]??null}getBoundDataSchemaAttributeByAttributePath(d){const C=this.getBoundDataSourceNameByAttributePath(d),S=this.getBoundDataSchemaByAttributePath(d);if(!C||!S)return null;const $=this._getDataSourceInfoByViewModelAttributePath(d).getDataSourceAttributePath(d);return S.findAttributeByName($)}getPrimaryModelName(){return Promise.resolve(this._primaryModelName)}getPrimaryDataSchema(){return this.getPrimaryModelName().then(d=>this.dataSchemas[d])}isValid(d){const C=this._waitAsyncValidation().pipe((0,G.map)(()=>d?this.getBoundDataSourceAttributeControls(d).every(S=>!S.invalid):this.formApiModel.valid));return(0,Z.lastValueFrom)(C)}validate(d){return this._ngZone.run(()=>d?this._validateByDataSourceName(d):this._validateAll())}getViewModelAttributePath(d,C){const S=this._dataSourcesInfos.get(d);return this._getMappedAttributeName(S,C)}getViewModelAttributePaths(d,C){return this._dataSourcesInfos.get(d)?.getMappedAttributeNames(C)}getCollectionViewModelAttributePath(d){return this._dataSourcesInfos.get(d)?.collectionViewModelAttributeName}canDelete(d,C){var S=this;return(0,p.A)(function*(){return S.getModelByName(d).canDelete(C)})()}canSave(d,C){var S=this;return(0,p.A)(function*(){return S.getModelByName(d).canSave(C)})()}enableAttributeValidator(d,C){this.getControl(d).enableValidator(C)}disableAttributeValidator(d,C){this.getControl(d).disableValidator(C)}_hotSwap(d){return this._measurePerformanceService.measure(`ViewModel.generatePrimaryAttributes.${this._injectionContext?.id}.parent.${!!this.parent}.hotSwap`,()=>{const C=d?.attributes?.changed||[],S=(0,Re.isEmpty)(d.resources?.strings);if((0,Re.isEmpty)(C)&&S)return(0,Z.of)(!1);S||(this.resources={strings:this._getChangedResourcesStrings(d.resources.strings)}),this.viewModelConfig=d.actualViewModelConfig;const V=va.getFromViewModelConfig(this.viewModelConfig),$=Object.fromEntries(C.map(zt=>[zt,this.viewModelConfig.attributes[zt]])),at=d?.models?.changed??[],pt=at.map(zt=>zt.name),Ct=this.models.filter(zt=>zt.isLoaded||zt.isLoading).filter(zt=>pt.includes(zt.name)).map(zt=>zt.name),Dt=at.map(zt=>{const Me=V.get(zt.name);return this._upsertModel(zt.name,zt),this._replaceDataSourceInfo(zt.name,Me),this._addDataSchemaToDataSchemas(zt)}),Wt=this._attributeGenerate$($,{disableDefaultConfig:!0});return(0,Z.forkJoin)([...Dt,Wt]).pipe(this._measurePerformanceService.measure$(`ViewModel.generatePrimaryAttributes.${this._injectionContext?.id}.parent.${!!this.parent}.hotSwap.forkJoin`),(0,G.switchMap)(()=>this._reGenerateResourcesAttributes()),(0,G.tap)(()=>this._loadDefaultSorting(pt)),(0,G.tap)(()=>this._requestReloadModels(Ct)),(0,G.map)(()=>!0))})}set(d,C,S){return this._setAttributeValue(d,C,S),Promise.resolve()}_markAsPristine(d){this._forEachControl(d,C=>{C.markAsPristine()})}getAttributeNameByViewItemName(d){return Object.keys(this._attributeConfigs).find(C=>this._attributeConfigs[C].viewItemName===d)}getControl(d){return this._crtControls.has(d)?this._crtControls.get(d):Yi.create({name:d,value:null,propertiesConfig:[],featureValues:this._featureValues})}getAttributePropertyValue(...d){let C,S;if(d.length===2)C=d[0],S=d[1];else if(d.length===1){const $=d[0].split(":");C=$[0],S=$[1]}else throw new Error("ArgumentException");return this.getControl(C).getPropertyValue(S)}setAttributePropertyValue(...d){let C,S,V;if(d.length===3)C=d[0],S=d[1],V=d[2];else if(d.length===2){const at=d[0].split(":");C=at[0],S=at[1],V=d[1]}else throw new Error("ArgumentException");return this.getControl(C).setPropertyValue(S,V)}resetAttributePropertyValue(...d){let C,S;if(d.length===1)[C,S]=d[0].split(":");else if(d.length===2)C=d[0],S=d[1];else throw new Error("ArgumentException");this.getControl(C).getPropertyByName(S)?.resetValue()}getInvariabilityPropertyName(d){return this.getControl(d).getInvariabilityPropertyName()}setModelValues(d,C){return this.getModelByName(d).setValue(C)}_getBoundAttributesNames(d){const C=this.getBoundDataSourceNameByAttributePath(d);if(!C)return null;const S=this._dataSourcesInfos.get(C),V=S.attributesMap.get(d);return Array.from(S.attributesMap.entries()).filter(([$,at])=>at===V&&$!==d).map(([$])=>$)}_getAttributeDataValueTypeName(d){return this._attributeConfigs[d].dataValueTypeName}getDataSourceLoadParameters(d,C){const S=this._dataSourcesInfos.get(d);return S?this._modelParametersBuilder.getModelLoadParameters(this,S,[],y.I.Load,{modelLoadConfiguration:C}).then(([V,$,at])=>({parameters:V,options:{pagingConfig:$,sortingConfig:at}})):null}getAttributeViewModelConfig(d){return this._attributeConfigs[d]?.viewModelConfig?.attributes}isDataSourceForCollection(d){return!!this._dataSourcesInfos.get(d)?.isCollection}_getDataSourceAttributeDataValueType(d){const C=this._getDataSourceInfoByViewModelAttributePath(d);let S=null;if(C){const V=C.getDataSourceAttributePath(d);V&&(S=this._getDataSourceAttributeSchema(C,V)?.dataValueType)}return S}_getModelNamesByLoadType(d){return Object.entries(this._modelsLoadingConfig).filter(([C,S])=>S.type===d).map(([C,S])=>C)}_reloadDependentModels(d,C=[],S=null){const V=this._getDependentModelsForLoad(d,C);this._requestReloadModels(V.filter($=>{const at=(0,Ln.CB)(this.getModelByName($));return!S||at&&S===m.Z.Page||!at&&S===m.Z.ViewElement}))}_getDependentModelsForLoad(d,C=[]){const S=this._getDependentModelsNames(d.name,C),V=this._getChangedModelsNames(S).filter($=>!(0,Ln.CB)(this.getModelByName($)));return V.length!==0&&this._showNotification({message:"BaseViewModel.RefreshModelDataConflict"}),S.filter($=>!V.includes($)).filter($=>this._modelsRequestedToLoad.has($)||(0,Ln.CB)(this.getModelByName($)))}_getDataSourceAttributeCaption(d,C){let S=this.resourceFinderService.findLocalizableValue(C);const V=this._getDataSourceInfoByViewModelAttributePath(d);if(S==null&&V){const $=V.getDataSourceAttributePath(d),at=$?this._getDataSourceAttributeSchema(V,$):"";S=at?at.caption:this._translateService.instant("BaseViewModel.DataSourceAttributeRemoved")}return S}getIsDirty(d){return this.getControl(d).isDirty}getModelByName(d){return this._modelsMap.get(d)}getModelMode(d){return this.getModelByName(d)?.mode}getPrimaryModelMode(){return this.getModelMode(this._primaryModelName)}_getModelModeChanges(d){return this.getModelByName(d)?._modeChanges$}_getPrimaryModelModeChanges(){return this._getModelModeChanges(this._primaryModelName)}markModelFor(d,C){this.getModelByName(d)?.markFor(C)}markPrimaryModelFor(d){this.markModelFor(this._primaryModelName,d)}_setStateAttribute(d){this._setSystemAttributeValue(Ec,d)}_onAsyncTaskStarted(d){if(this._disableViewModelWaitingForAsyncTasks)return;const C=this._asyncTasksExecutingSubject.value;C.add(d),this._asyncTasksExecutingSubject.next(C)}_onAsyncTaskFinished(d){if(this._disableViewModelWaitingForAsyncTasks)return;const C=this._asyncTasksExecutingSubject.value;C.delete(d),this._asyncTasksExecutingSubject.next(C)}waitAsyncTasksFinish(){let d;return(0,Z.firstValueFrom)(this._asyncTasksExecutingSubject.pipe((0,G.tap)(C=>{clearTimeout(d),d=this._handleAsyncTasksCycle(C)}),(0,G.filter)(C=>C.size===0),(0,G.take)(1),(0,G.map)(()=>{})))}destroyModel(d){const C=this.getModelByName(d);C&&C.destroy();const S=this.models.filter(V=>V.name!==d);this._models$.next(S),this._dataSourcesInfos.delete(d),[...this._attributesToDataSourceNameMap.entries()].filter(([V,$])=>d===$).forEach(([V])=>this._attributesToDataSourceNameMap.delete(V))}}},56005:(P,j,o)=>{o.d(j,{w:()=>p});const p=Symbol("InternalViewModelInjector")},32053:(P,j,o)=>{o.d(j,{ie:()=>p,j7:()=>g,kd:()=>t,yM:()=>l});const p="HasUnsavedData",g="IsChanged",l="PrimaryModelMode",t="BusinessRulesActivated"},16319:(P,j,o)=>{o.d(j,{J:()=>w});var p=o(22524),g=o(62278),l=o(36486);const t="invalidate-data-schema-cache";var f=o(87767),E=o(59131),y=o(59415);class w{constructor(h,_){this._entitySchemaRepository=h,this._broadcastChannelFactory=_,this._dataSchemas=new Map,this._subscribeOnChangesInDesigner()}_subscribeOnChangesInDesigner(){this._broadcastChannelFactory.createInstance(t).messages$.subscribe(({schemaName:h})=>{this._removeCachedSchema(h)})}_createEntityDataSchema(h){const _=new f.i;return _.setEntitySchema(h),(0,g.of)(_.build())}_getEntityDataSchema(h){return this._entitySchemaRepository.getSchemaByName(h).pipe((0,l.switchMap)(_=>this._createEntityDataSchema(_)))}_removeCachedSchema(h){this._dataSchemas.has(h)&&(this._dataSchemas.delete(h),this._entitySchemaRepository.clearSchemaCacheByName(h))}get(h){return this._dataSchemas.has(h)?(0,g.of)(this._dataSchemas.get(h)):this._getEntityDataSchema(h).pipe((0,l.tap)(_=>this._dataSchemas.set(h,_)))}getByEntitySchema(h){const _=h.name;return this._dataSchemas.has(_)?(0,g.of)(this._dataSchemas.get(_)):this._createEntityDataSchema(h).pipe((0,l.tap)(x=>this._dataSchemas.set(_,x)))}static{this.\u0275fac=function(_){return new(_||w)(E.\u0275\u0275inject(y.v),E.\u0275\u0275inject(p.Vx))}}static{this.\u0275prov=E.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"platform"})}}},36688:(P,j,o)=>{o.d(j,{w:()=>y});var p=o(86464),g=o(73335),l=o(62278),t=o.n(l),f=o(36486),E=o.n(f);class y{get isDate(){return this.dataValueType===p.r.Date||this.dataValueType===p.r.DateTime||this.dataValueType===p.r.Time}get isImage(){return this.dataValueType===p.r.IMAGELOOKUP||this.dataValueType===p.r.Image}get isLookup(){return this.dataValueType===p.r.Lookup}set isSystem(m){this._isSystem=m}get isSystem(){return this._isSystem}get isAggregate(){return this.attributeType===g.D.AggregationAttribute?!0:this.attributeType===g.D.FunctionAttribute&&this.functionConfig?.type==="aggregation"}constructor(m){if(this._isSystem=!1,m!=null){this.name=m.name,this.caption=m.caption,this.path=m.path,this.dataValueType=m.dataValueType,m.validators&&(this.validators={...m.validators||{}});const h=m.defaultValue;h&&(h instanceof l.Observable?this.defaultValue=h.pipe((0,f.map)(_=>this._getConvertDefaultValue(_))):this.defaultValue=(0,l.of)(this._getConvertDefaultValue(h))),this.defaultValueSchema=m.defaultValueSchema,this.isValueCloneable=m.isValueCloneable,this.attributeType=m.attributeType,this.referenceSchemaName=m.referenceSchemaName,this.functionConfig=m.functionConfig,this.aggregationConfig=m.aggregationConfig,this.isMasked=m.isMasked,this.isFormatValidated=m.isFormatValidated,this.isSensitiveData=m.isSensitiveData,this.isValueMasked=m.isValueMasked,this.valueMaskingSettings=m.valueMaskingSettings,this.usageType=m.usageType,this.isRequired=m.isRequired,this.lookupMode=m.lookupMode,this.isSystem=!!m.isSystem}}_getConvertDefaultValue(m){if(this.isDate)if(m instanceof Date){const h=new Date;return h.setTime(m.getTime()),h}else return m;else return typeof m=="object"?{...m}:m}clone(){return new y(this)}addDefaultValidators(){const m=this.validators??{};this.isRequired&&(m["crt.Required"]={type:"crt.Required"}),!this.validators&&Object.keys(m).length>0&&(this.validators=m)}}},52701:(P,j,o)=>{o.d(j,{I:()=>p});class p{get attributes(){return this._parent?[...this._parent.attributes,...this._attributes]:[...this._attributes]}get parent(){return this._parent}constructor(l){if(l!=null){this.name=l.name,this.type=l.type,l.caption&&(this.caption=typeof l.caption=="string"?l.caption:{...l.caption}),this.primaryAttributeName=l.primaryAttributeName,this.primaryDisplayAttributeName=l.primaryDisplayAttributeName,this.primaryColorAttributeName=l.primaryColorAttributeName,this.hierarchyAttributeName=l.hierarchyAttributeName,this.createdByAttributeName=l.createdByAttributeName,this.createdOnAttributeName=l.createdOnAttributeName,this.modifiedByAttributeName=l.modifiedByAttributeName,this.modifiedOnAttributeName=l.modifiedOnAttributeName,l.dataSourceConfig&&(this.dataSourceConfig={...l.dataSourceConfig,config:{...l.dataSourceConfig.config}}),this._parent=l.parent;const t=l.attributes??[];this._attributes=[],t.forEach(f=>{if(this._parent){this._parent.findAttributeByName(f.name)||this._attributes.push(f.clone());return}this._attributes.push(f.clone())})}else this._attributes=[]}clearAttributes(){this._attributes=[]}addAttribute(l){if(this._parent){this._parent.findAttributeByName(l.name)||this._attributes.push(l);return}this._attributes.push(l)}findAttributeByName(l){return this.attributes.find(t=>t.name===l)??null}getPrimaryAttributesNames(){return[this.primaryAttributeName]}getPrimaryLoadAttributes(){const l=[];return this.primaryAttributeName&&l.push(this.primaryAttributeName),this.primaryDisplayAttributeName&&l.push(this.primaryDisplayAttributeName),l}clone(){return new p(this)}createChild(){const l=new p;return l.name=this.name,l.type=this.type,this.caption&&(l.caption=typeof this.caption=="string"?this.caption:{...this.caption}),l.primaryAttributeName=this.primaryAttributeName,l.primaryDisplayAttributeName=this.primaryDisplayAttributeName,l.primaryColorAttributeName=this.primaryColorAttributeName,l.hierarchyAttributeName=this.hierarchyAttributeName,l.createdByAttributeName=this.createdByAttributeName,l.createdOnAttributeName=this.createdOnAttributeName,l.modifiedByAttributeName=this.modifiedByAttributeName,l.modifiedOnAttributeName=this.modifiedOnAttributeName,this.dataSourceConfig&&(l.dataSourceConfig={...this.dataSourceConfig,config:{...this.dataSourceConfig.config}}),l._attributes=[],l._parent=this,l}}},28956:(P,j,o)=>{o.d(j,{L:()=>ka});var p=o(59131),g=o(62278),l=o(36486),t=o(52701);class f extends Error{get isCritical(){return!0}constructor(H,K){super(K),this.dataSource=H}}class E extends f{constructor(H,K){super(H,K)}}class y extends f{get isCritical(){return!1}constructor(H,K){super(H,K)}}class w{constructor(H,K){this.dataSourceName=H,this.injector=K,this._errors=[],this.supportTransactions=!1}get scope(){return this._scope}get hasErrors(){return this._errors.length!==0}get hasCriticalErrors(){return this._errors.some(H=>H.isCritical)}get affectedAttributes(){return[]}get isForceUpdateUnchangedData(){return!1}getLastError(){return this.hasErrors?this._errors[this._errors.length-1]:null}get isAggregate(){return!1}getEmptySchema(){return new t.I}init(H,K){return this.initialConfig=H,this._scope=K,(0,g.of)(this)}load(H,K,it){return this.innerLoad(H,K,it)}save(H,K){return this.innerSave(H,K)}insert(H){return this.innerInsert(H)}delete(H){return this.innerDelete(H)}getSchema(){return this.dataSchema?(0,g.of)(this.dataSchema):this.innerGetSchema().pipe((0,l.tap)(H=>{this.dataSchema=H}))}getLookupDataSchema(H){return this.innerGetLookupDataSchema(H)}getDefaultValues(){return this.innerGetDefaultValues()}canEdit(H){return this.innerCanEdit(H)}canDelete(H){return this.innerCanDelete(H)}canCreate(H){return this.innerCanCreate(H)}getOwnLoadParameters(){return null}getAllowCopyingRecords(){return!1}}var m=o(34858),h=o(66829),_=o(65288),x=o(40269),I=o(5704),k=o(58504),A=o(29025),F=o(53163),z=o(28399);const N=new p.InjectionToken("COPILOT_INTENT_REPOSITORY_TOKEN");var T=o(21928),L=o(22524);class U{static{this._codeCharactersRegex=new RegExp("^[A-Za-z0-9\\s_]*$")}static{this._wordsMatchRegex=new RegExp(/\w+/g)}static generateCode(H,K=-1){const dt=(H.match(this._wordsMatchRegex)||[]).filter(ft=>ft.length!==0).map(ft=>ft[0].toUpperCase()+ft.substring(1)).join("");return K>=0?dt.slice(0,K):dt}static isTextUsableForCodeGeneration(H){return this._codeCharactersRegex.test(H)}}class B{constructor(){this._sysSettingsService=(0,p.inject)(T.A),this._defaultCodeMaxLength=41}_checkCodeIsUnique(H,K){return H?!H.includes(K):!0}_generateCode(H){const{prefix:K,options:it,generateFromName:dt,name:ft}=H,{codeMaxLength:At,defaultNewCode:Yt}=it;if(dt){if(!U.isTextUsableForCodeGeneration(ft))return null;const we=K+Yt,Ae=(At??this._defaultCodeMaxLength)-we.length,cn=U.generateCode(ft,Ae);return we+cn}return L.$A.generateUnique(Yt,K)}generate(H,K,it){const dt={generateFromName:!!K,name:K,prefix:null,options:it};return(0,g.from)(this._sysSettingsService.getByCode("SchemaNamePrefix")).pipe((0,g.map)(ft=>ft.value),(0,g.tap)(ft=>dt.prefix=ft),(0,g.repeat)(dt.generateFromName?1:void 0),(0,g.map)(()=>this._generateCode(dt)),(0,g.filter)(ft=>this._checkCodeIsUnique(H,ft)),(0,g.take)(1),(0,g.defaultIfEmpty)(null))}static{this.\u0275fac=function(K){return new(K||B)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac})}}class tt{constructor(){this._designItems=new Map}getDesignItem(H){return this._designItems.get(H)}getDesignItems(){return Array.from(this._designItems.values())}setDesignItem(H){this._designItems.set(H.UId,H)}static{this.\u0275fac=function(K){return new(K||tt)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:tt,factory:tt.\u0275fac})}}class Z{constructor(){this._repository=(0,p.inject)(N),this._copilotCodeGenerator=(0,p.inject)(B),this._designRepository=(0,p.inject)(tt)}_loadIntentUIdByActionUId(H){return(0,g.from)(x.K.create("CopilotAction")).pipe((0,g.switchMap)(K=>K.load({attributes:["Intent"],parameters:[{type:_.E.Filter,value:new I.x(k.H.Equal,new A.g({columnPath:"Id"}),new F.J({value:H}))}]})),(0,g.map)(K=>{const it=K[0]||{};return(0,z.isEmpty)(it)?null:it.Intent?.value}))}_applyActionToIntent(H,K){const dt=(H.Actions||[]).findIndex(At=>At.Id===K.Id);if(dt===-1)return!1;const ft=H.Actions[dt];return H.Actions.splice(dt,1,{...ft,...K}),!0}_applyParameterToIntent(H,K){const it=K.SourceCollection==="InputParameters"?H.InputParameters:H.OutputParameters,dt=it.findIndex(ft=>ft.UId===K.UId);return dt!==-1?(it.splice(dt,1,{...it[dt],...K}),!0):!1}_getSuccessResponse(){return{success:!0}}_getSuccessResponseObservable(){return(0,g.of)(this._getSuccessResponse())}_getDesignIntent(H){return(0,g.of)(this._designRepository.getDesignItem(H))}_getDesignIntents(){return Array.from(this._designRepository.getDesignItems())}_setDesignIntent(H){this._designRepository.setDesignItem(H)}_getIntentByParameterUId(H){for(const K of this._getDesignIntents()){if(K.InputParameters.find(ft=>ft.UId===H))return(0,g.of)({intent:K,sourceCollection:"InputParameters"});if(K.OutputParameters.find(ft=>ft.UId===H))return(0,g.of)({intent:K,sourceCollection:"OutputParameters"})}return(0,g.of)({})}getIntent(H){return this._repository.get(H).pipe((0,g.tap)(K=>{this._setDesignIntent(K)}))}getAllSkills(){return this._repository.getAllCodes("CopilotIntent")}getAllAgents(){return this._repository.getAllCodes("CopilotAgent")}getIntentParameter(H){return this._getIntentByParameterUId(H).pipe((0,g.map)(({intent:K,sourceCollection:it})=>it==="InputParameters"?K.InputParameters:K.OutputParameters),(0,g.map)(K=>K.find(it=>it.UId===H)))}getIntentParameters(H,K){return this._getDesignIntent(H).pipe((0,g.map)(it=>K==="InputParameters"?it.InputParameters:it.OutputParameters))}updateIntentParameter(H){return this._getIntentByParameterUId(H.UId).pipe((0,g.switchMap)(({intent:K,sourceCollection:it})=>(H.SourceCollection=it,this._applyParameterToIntent(K,H)?this._getSuccessResponseObservable():this._getSuccessResponseObservable())))}createIntentParameter(H){return this._getDesignIntent(H.Intent.value).pipe((0,g.map)(K=>((H.SourceCollection==="InputParameters"?K.InputParameters:K.OutputParameters).push(H),this._getSuccessResponse())))}deleteIntentParameter(H){return this._getIntentByParameterUId(H).pipe((0,g.map)(({intent:K,sourceCollection:it})=>{const dt=it==="InputParameters"?K?.InputParameters:K?.OutputParameters,ft=(dt??[]).findIndex(At=>At.UId===H);return ft!==-1&&dt.splice(ft,1),K}),(0,g.switchMap)(K=>this._repository.update(K)))}createIntent(H){return this._repository.create(H.UId).pipe((0,g.map)(K=>(Object.assign(K,H),K)),(0,g.switchMap)(K=>this._repository.update(K)))}updateIntent(H){return(0,g.forkJoin)([this._getDesignIntent(H.UId),this._repository.get(H.UId)]).pipe((0,g.map)(([K,it])=>{const dt={...it,...K,...H};return this._setDesignIntent(dt),dt}),(0,g.switchMap)(K=>this._repository.update(K)))}createAction(H){return this._repository.get(H.Intent.value).pipe((0,g.map)(K=>(K.Actions.push(H),K)),(0,g.switchMap)(K=>this._repository.update(K)))}createSubIntent(H,K){return this._repository.createSubIntent(H,K)}deleteSubIntent(H,K){return this._repository.deleteSubIntent(H,K)}getActionByUId(H){return this._loadIntentUIdByActionUId(H).pipe((0,g.switchMap)(K=>K?this._repository.get(K).pipe((0,g.map)(it=>it.Actions.filter(dt=>dt.Id===H)),(0,g.map)(it=>it[0])):(0,g.of)({})))}getIntentByActionUId(H){return this.getActionByUId(H).pipe((0,g.switchMap)(K=>K?.Intent?this.getIntent(K.Intent.value):(0,g.of)({})))}updateAction(H){return this._loadIntentUIdByActionUId(H.Id).pipe((0,g.switchMap)(K=>this._repository.get(K).pipe((0,g.switchMap)(it=>this._applyActionToIntent(it,H)?this._repository.update(it):(0,g.of)({})))))}generateActionCode(H,K=null){return this._copilotCodeGenerator.generate(H,K,{defaultNewCode:"Action"})}generateSkillCode(H,K=null){return this._copilotCodeGenerator.generate(H,K,{defaultNewCode:"Skill"})}generateAgentCode(H,K=null){return this._copilotCodeGenerator.generate(H,K,{defaultNewCode:"Agent"})}deleteAction(H,K){return this._repository.get(H).pipe((0,g.map)(it=>(it.Actions=it.Actions.filter(dt=>dt.Id!==K),it)),(0,g.switchMap)(it=>this._repository.update(it)))}static{this.\u0275fac=function(K){return new(K||Z)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:Z,factory:Z.\u0275fac})}}var G=o(63721),Y;(function(ae){ae[ae.None=0]="None",ae[ae.Self=1]="Self",ae[ae.ExplicitEntry=2]="ExplicitEntry",ae[ae.Delegated=4]="Delegated",ae[ae.FuncRoleFromOrgRole=8]="FuncRoleFromOrgRole",ae[ae.UpHierarchy=16]="UpHierarchy",ae[ae.AsManager=32]="AsManager",ae[ae.All=63]="All"})(Y||(Y={}));var O=o(86464),st=o(16397),gt=o(74709),ct=o(43785),nt=o(18587),Q=o(73335),q=o(6744),lt=o(79772),c=o(50485),Tt=o(65751),Nt=o(26594),wt=o(70027),Et=o(59415),vt=o(67020),Rt=o(23092),xe=o(3672),le=o(84323);function Ve(ae,H){switch(xe.z.checkArgumentEmpty("dataValueType",H),H){case O.r.Date:case O.r.Time:case O.r.DateTime:return(0,le._U)(ae);default:return ae}}function Be(ae,H){if(ValidationUtilities.checkArgumentEmpty("columnValueTypes",H),!ae)return ae;const K={};return Object.keys(ae).forEach(it=>{const dt=ae[it];K[it]=H[it]?Ve(dt,H[it]):dt}),K}function _t(ae,H){return ValidationUtilities.checkArgumentEmpty("columnValueTypes",H),ae&&ae.map(K=>K&&Be(K,H))}var X=o(81127),de=o(94503),qn=o(87767);class an extends E{get entitySchemaName(){return this._entitySchemaName}constructor(H,K){super(H,`Entity schema with name '${K}' not found.`),this._entitySchemaName=K}}class me extends E{constructor(H){super(H,`Entity schema name for data source ${H.dataSourceName} is not provided`)}}var Ot=o(63741),Lt=o(61320);function Fe(ae){switch(ae){case"asc":return Lt.Z.Asc;case"desc":return Lt.Z.Desc;default:return Lt.Z.None}}const ve=new p.InjectionToken("A factory of entity schema column appender"),ge=new p.InjectionToken("A factory of data schema to data source attribute converter");var jt=o(17591),ee=o(40779),Gt=o(54329),oe=o(41108),Zt=o(77895),Ht=o(76196),qe=o(29957);class Gn{_getExpressionColumnPath(H,K){const it="[{referenceSchemaName}:{referenceAttributeName}:{attributeName}]",dt=H.relationData.map(Ae=>qe.String.format(it,Ae)).join("."),ft=H.attributePath.split("."),At=ft.length>1?"{ownColumnPath}.{relationString}.{columnPath}":"{relationString}.{columnPath}";ft.pop();const we={ownColumnPath:ft.join("."),relationString:dt,columnPath:K};return qe.String.format(At,we)}_updateFilterLeftExpression(H,K){switch(H.expressionType){case ee.i.SchemaColumn:H.columnPath=this._getExpressionColumnPath(K,H.columnPath);break;case ee.i.SubQuery:H.columnPath=this._getExpressionColumnPath(K,H.columnPath);break;case ee.i.Function:H.functionType!==Gt.c.Macros&&this._updateFilterLeftExpression(H.functionArgument,K);break}}_updateRelatedFilterGroup(H,K){H instanceof oe.X?this._updateRelatedFilterGroupInstance(H,K):this._updateRelatedFilterGroupObject(H,K)}_updateRelatedFilterGroupObject(H,K){Object.values(H.items).forEach(it=>{this._updateRelatedFilter(it,K)})}_updateRelatedFilterGroupInstance(H,K){H.filters.forEach(it=>this._updateRelatedFilter(it,K))}_updateRelatedFilter(H,K){if(H.filterType!==Zt.C.FilterGroup){const it=H.leftExpression;it&&this._updateFilterLeftExpression(it,K)}else this._updateRelatedFilterGroup(H,K)}convertToRelatedFilter(H,K=[]){if(!H)return H;let it;if(H instanceof Ht.h)it=H.clone();else{const dt=JSON.stringify(H);it=JSON.parse(dt)}return[...K].reverse().forEach(dt=>{dt.relationData&&dt.relationData.length!==0&&this._updateRelatedFilter(it,dt)}),it}}var Ca=o(16319),Ie=o(73308);class ne{constructor(H,K){this._dataSchemaRepository=H,this._featureValues=K}_getDataSchema(H){var K=this;return(0,Ie.A)(function*(){const it=yield(0,g.firstValueFrom)(K._dataSchemaRepository.get(H));if(!it)throw new Error(`Can not find DataSchema with name '${H}'`);return it})()}_getDataSchemaAttribute(H,K){var it=this;return(0,Ie.A)(function*(){const dt=H instanceof t.I?H:yield it._getDataSchema(H),ft=dt.findAttributeByName(K);if(!ft)throw new Error(`Can not find column '${K}' in Schema '${dt.name}'`);return ft})()}_getDataSchemaPrimaryAttribute(H){var K=this;return(0,Ie.A)(function*(){const it=yield K._getDataSchema(H);return K._getDataSchemaAttribute(it,it.primaryAttributeName)})()}_createRelationPathItemFromForwardPathItem(H,K){var it=this;return(0,Ie.A)(function*(){const dt=yield it._getDataSchemaAttribute(H,K);let ft=null,At=null;const Yt=dt.dataValueType===O.r.Lookup;return Yt&&(ft=dt.referenceSchemaName,At=(yield it._getDataSchema(ft)).primaryAttributeName),{isJoin:Yt,referenceSchemaName:ft,referenceAttributeName:At,ownSchemaAttributeName:K,ownSchemaName:H}})()}_createRelationPathItemFromJoinPathItem(H,K,it,dt){var ft=this;return(0,Ie.A)(function*(){const At=it?yield ft._getDataSchemaAttribute(K,it):yield ft._getDataSchemaPrimaryAttribute(K);return{isJoin:!0,referenceSchemaName:K,referenceAttributeName:At.name,ownSchemaAttributeName:dt,ownSchemaName:H}})()}_createRelationPathItem(H,K){const dt=/(?<joinType>.*)\[(?<refSchema>.*?):(?<ownColumn>.*?)(?::(?<refColumn>.*))?]/.exec(K);if(dt){const ft=dt.groups;return this._createRelationPathItemFromJoinPathItem(H,ft.refSchema,ft.refColumn,ft.ownColumn)}return this._createRelationPathItemFromForwardPathItem(H,K)}_getReverseRelationPath(H){const K=[...H],it=[];let dt;for(;(dt=K.pop())!=null;)it.push({isJoin:!0,ownSchemaName:dt.referenceSchemaName,ownSchemaAttributeName:dt.referenceAttributeName,referenceSchemaName:dt.ownSchemaName,referenceAttributeName:dt.ownSchemaAttributeName});return it}_buildRelationPath(H,K){var it=this;return(0,Ie.A)(function*(){const dt=K.split("."),ft=[];let At=H;for(const Yt of dt){const we=yield it._createRelationPathItem(At,Yt);At=we.referenceSchemaName,ft.push(we)}return ft})()}_getRelationPathToSourceSchema(H,K,it){var dt=this;return(0,Ie.A)(function*(){const ft=[...K],At=ft.pop(),Yt=it.split("."),Ae=(yield dt._buildRelationPath(H,it)).pop(),cn={isJoin:!0,ownSchemaName:At.isJoin?At.referenceSchemaName:At.ownSchemaName,ownSchemaAttributeName:At.isJoin?At.referenceAttributeName:At.ownSchemaAttributeName,referenceSchemaName:Ae.ownSchemaName,referenceAttributeName:Yt.pop()},u=[...ft,...At.isJoin?[At]:[],cn];return dt._featureValues.DisableDsDepsJoinOptimization||u.length===1?u:u.filter(ln=>{if(!ln.isJoin)return!0;const ya=ln.ownSchemaName===ln.referenceSchemaName,vi=ln.ownSchemaAttributeName===ln.referenceAttributeName;return!(ya&&vi)})})()}_buildRelationDataFromPath(H){return H.map(K=>({attributeName:K.ownSchemaAttributeName,referenceAttributeName:K.referenceAttributeName,referenceSchemaName:K.referenceSchemaName}))}_getDataSourceParameterRelationData(H,K){var it=this;return(0,Ie.A)(function*(){const dt=yield it._buildRelationPath(K.dataSchemaName,K.relationPath),ft=yield it._getRelationPathToSourceSchema(H,dt,K.attributePath),At=it._getReverseRelationPath(ft);return it._buildRelationDataFromPath(At)})()}_convertEntityDataSourceParameter(H,K){var it=this;return(0,Ie.A)(function*(){if(!K.relationsConfigs||K.relationsConfigs.length===0)return K;let dt=H.name;const ft=[];for(const At of K.relationsConfigs){const Yt=yield it._getDataSourceParameterRelationData(dt,At);dt=Yt[Yt.length-1].referenceSchemaName,ft.push({...At,relationData:Yt})}return{...K,relationsConfigs:ft}})()}convert(H,K,it=!1){return K.length===0?Promise.resolve([]):it?Promise.resolve(K):Promise.all(K.map(dt=>this._convertEntityDataSourceParameter(H,dt)))}static{this.\u0275fac=function(K){return new(K||ne)(p.\u0275\u0275inject(Ca.J),p.\u0275\u0275inject(Nt.G))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:ne,factory:ne.\u0275fac,providedIn:"root"})}}class ut{constructor(H,K){this._dataSchemaRepository=H,this._parametersConverter=K}_createPrimaryColumnValueFilter(H,K){const ft=(K.relationsConfigs||[])[0]?.dataSchemaName??H;return this._dataSchemaRepository.get(ft).pipe((0,g.map)(At=>{const Yt=new A.g({columnPath:At.primaryAttributeName}),we=new F.J({value:K.value});return new I.x(k.H.Equal,Yt,we)}))}_createColumnValueFilter(H){const K=H.value.attributePath,it=H.value.attributeValue,dt=new A.g({columnPath:K}),ft=new F.J({value:it}),At=new I.x(k.H.Equal,dt,ft);return(0,g.of)(At)}_createPrimaryDisplayValueFilter(H,K){const ft=(K.relationsConfigs||[])[0]?.dataSchemaName??H;return this._dataSchemaRepository.get(ft).pipe((0,g.map)(At=>{const Yt=new A.g({columnPath:At.primaryDisplayAttributeName}),we=new F.J({value:K.value});return new I.x(K.comparisonType,Yt,we)}))}_createCustomFilter(H){let K={};return H.value&&(K=typeof H.value=="string"?JSON.parse(H.value):H.value),(0,g.of)(K)}_createEmptyParameterFiler(H){const K=H.relationsConfigs||[];if(K.length===0)return(0,g.of)({});const it=K[0];return this._dataSchemaRepository.get(it.dataSchemaName).pipe((0,g.map)(dt=>dt.primaryAttributeName),(0,g.map)(dt=>{const ft=new A.g({columnPath:dt});return new jt.u(ft,null)}))}_createEsqFilter(H,K){switch(K.type){case _.E.PrimaryColumnValue:return this._createPrimaryColumnValueFilter(H,K);case _.E.ColumnValue:return this._createColumnValueFilter(K);case _.E.PrimaryDisplayValueFilter:return this._createPrimaryDisplayValueFilter(H,K);case _.E.Filter:return this._createCustomFilter(K);case _.E.Empty:return this._createEmptyParameterFiler(K)}}applyParameters(H,K){if(H.length===0)return(0,g.of)(K);const it=H.map(dt=>this._createEsqFilter(K.rootSchemaName,dt).pipe((0,g.map)(ft=>new Gn().convertToRelatedFilter(ft,dt.relationsConfigs))));return(0,g.forkJoin)(it).pipe((0,g.tap)(dt=>{dt.forEach(ft=>{(0,z.isEmpty)(ft)||K.filters.add(ft)})}),(0,g.map)(()=>K))}convertToEntityDataSourceParameters(H,K,it=!1){return(0,g.from)(this._parametersConverter.convert(H,K,it))}static{this.\u0275fac=function(K){return new(K||ut)(p.\u0275\u0275inject(Ca.J),p.\u0275\u0275inject(ne))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:ut,factory:ut.\u0275fac,providedIn:"root"})}}class xt{constructor(H,K,it){this.entitySchemaQueryUtils=H,this._entitySchemaColumnAppenderFactory=K,this._dataSchemaToDataSourceAttributeConverter=it}_addPagingToEsq(H,K){K&&(H.rowsOffset=K.rowsOffset,H.rowCount=K.rowCount)}_addSortingToEsq(H,K){K&&K.columns.forEach((it,dt)=>{const ft=H.findColumn(it.columnName),At=Fe(it.direction);ft?ft.withOrdering(At,dt):H.addSchemaColumn(it.columnName).withOrdering(At,dt)})}_addIsDistinctToEsq(H,K){K&&(H.isDistinct=!0)}_addColumnToEsq(H,K){K.filter(Boolean).forEach(it=>{this._entitySchemaColumnAppenderFactory.create(it).addColumn(H,it)})}_prepareAttributePairsForLoad(H,K){return K.map(it=>{if(typeof it=="string"){const dt=it,ft=H.attributes.find(At=>At.name===dt);return ft?this._dataSchemaToDataSourceAttributeConverter.create(ft.attributeType).convert(ft):{name:dt,path:dt}}else return it})}build(H,K,it,dt){if(it.some(ft=>ft.type===_.E.Never))throw new Error('Failed to build entity schema query: parameters contains "Never" model parameter.');return(0,g.forkJoin)([this.entitySchemaQueryUtils.convertToEntityDataSourceParameters(H,it),(0,g.of)(this._prepareAttributePairsForLoad(H,K))]).pipe((0,g.map)(([ft,At])=>({esq:new Ot.s(H.name),esqParameters:ft,dataSourceAttributes:At})),(0,g.tap)(({esq:ft,dataSourceAttributes:At})=>this._addColumnToEsq(ft,At)),(0,g.tap)(({esq:ft})=>this._addSortingToEsq(ft,dt?.sortingConfig)),(0,g.tap)(({esq:ft})=>this._addPagingToEsq(ft,dt?.pagingConfig)),(0,g.tap)(({esq:ft})=>this._addIsDistinctToEsq(ft,dt?.isDistinct)),(0,g.switchMap)(({esq:ft,esqParameters:At})=>this.entitySchemaQueryUtils.applyParameters(At,ft)))}static{this.\u0275fac=function(K){return new(K||xt)(p.\u0275\u0275inject(ut),p.\u0275\u0275inject(ve),p.\u0275\u0275inject(ge))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:xt,factory:xt.\u0275fac,providedIn:"root"})}}const Vt=ae=>{switch(ae){case O.r.Guid:return O.r.Guid;case O.r.Text:case O.r.SHORT_TEXT:case O.r.PHONE_TEXT:case O.r.WEB_TEXT:case O.r.EMAIL_TEXT:case O.r.MEDIUM_TEXT:case O.r.MAXSIZE_TEXT:case O.r.LONG_TEXT:case O.r.HASH_TEXT:case O.r.SECURE_TEXT:case O.r.RICH_TEXT:return O.r.Text;case O.r.Integer:case O.r.Enum:return O.r.Integer;case O.r.Float:case O.r.FLOAT1:case O.r.FLOAT2:case O.r.FLOAT3:case O.r.FLOAT4:case O.r.FLOAT8:case O.r.Money:return O.r.Float;case O.r.DateTime:case O.r.Date:case O.r.Time:return O.r.DateTime;case O.r.Lookup:case O.r.IMAGELOOKUP:return O.r.Lookup;case O.r.Boolean:return O.r.Boolean;case O.r.Blob:return O.r.Blob;case O.r.Image:return O.r.Image;case O.r.Color:return O.r.Color;default:throw new Error(`Type ${ae} not implemented`)}};function Ut(ae,H=null,K=DataValueType.Float){if(!ae||ae.length===0)return H;if(ae.length===1)return ae[0];let it=ae.map(dt=>Vt(dt)).map(dt=>DataValueTypeGroup.Number.includes(dt)?K:dt);return it=[...new Set(it)],it.length===1?it[0]:H}class Xt extends w{constructor(){super(...arguments),this.supportTransactions=!0}}class he extends Xt{get isForceUpdateUnchangedData(){return!!this.initialConfig?.isForceUpdateUnchangedData}get affectedAttributes(){return[...this._affectedAttributes]}get isAggregate(){return this.dataSchema?this.dataSchema.attributes.some(K=>K.isAggregate):!1}constructor(H,K){super(H,K),this.dataSourceName=H,this.injector=K,this._affectedAttributes=[],this._errorReferenceAttributes=[],this.type=m.M,this._featureValues=K.get(Nt.G),this._queryExecutor=K.get(Tt.w),this._entitySchemaService=K.get(wt.e),this._httpClient=this.injector.get(G.HttpClient),this._rightsService=this.injector.get(c.f),this.dataSchemaRepository=this.injector.get(Ca.J),this._entitySchemaRepository=this.injector.get(Et.v),this._entitySchemaQueryBuilder=this.injector.get(xt),this._entitySchemaQueryUtils=this.injector.get(ut),this._window=this.injector.get(L.ZP),this._measurePerformanceService=this.injector.get(vt.g);const it=this.injector.get(Rt.oq);this._entityDefaultValuesUrl=it.isSSP?"/ssp/rest/EntitySchemaService/GetEntityDefaultValues":"/rest/EntitySchemaService/GetEntityDefaultValues",this.translateService=this.injector.get(lt.TranslateService)}_buildSelectEsq(H,K,it){return this.getSchema().pipe((0,l.switchMap)(dt=>this._entitySchemaQueryBuilder.build(dt,H,K,it)),(0,l.map)(dt=>(this._featureValues["DataSource-DisableRecordDeactivation"]!==!0&&(dt.useRecordDeactivation=this.initialConfig.useRecordDeactivation),dt.adminUnitRoleSources=this._getEsqAdminUnitRoleSources(),dt)))}_getEsqAdminUnitRoleSources(){let H;const K=this.initialConfig.adminUnitRoleSources;return(0,z.isNumber)(K)?K:((0,z.isArray)(K)&&K.forEach(it=>{const dt=Y[it];(0,z.isNumber)(dt)&&(H=H|dt)}),H)}_normalizeValue(H,K){switch(K){case O.r.Lookup:return H||null;case O.r.Date:case O.r.Time:case O.r.DateTime:return H instanceof Date?(0,st.q)(H):typeof H=="string"&&Date.parse(H)>0?`"${H}"`:H;default:return H}}_buildUpdateEsq(H,K){return this.getSchema().pipe((0,l.switchMap)(it=>this._entitySchemaQueryUtils.convertToEntityDataSourceParameters(it,H,!0)),(0,l.map)(it=>({updateQuery:new gt.N(this._entitySchemaName),esqParameters:it})),(0,l.tap)(({updateQuery:it})=>{it.isForceUpdate=!!this.initialConfig.isForceUpdate,Object.keys(K).forEach(dt=>{const ft=this._findEntitySchemaColumn(dt);if(!ft)throw new Error(`Column ${dt} not found`);const At=K[dt];this._isEntityColumnValue(At)&&it.addColumn(ft.name,this._normalizeValue(At,ft.dataValueType),Vt(ft.dataValueType))})}),(0,l.switchMap)(({updateQuery:it,esqParameters:dt})=>this._entitySchemaQueryUtils.applyParameters(dt,it)),(0,l.catchError)(it=>(0,g.throwError)(()=>it)))}_buildInsertEsq(H){const K=new ct.L(this._entitySchemaName);return Object.keys(H).forEach(it=>{const dt=this._findEntitySchemaColumn(it);if(!dt)throw new Error(`Column ${it} not found`);const ft=H[it];this._isEntityColumnValue(ft)&&K.addColumn(dt.name,this._normalizeValue(ft,dt.dataValueType),Vt(dt.dataValueType))}),K}_buildDeleteEsq(H){return this.getSchema().pipe((0,l.switchMap)(K=>this._entitySchemaQueryUtils.convertToEntityDataSourceParameters(K,H,!0)),(0,l.switchMap)(K=>{const it=new nt.x(this._entitySchemaName);return this._entitySchemaQueryUtils.applyParameters(K,it)}))}_checkOwnAttributes(H){return this.getSchema().pipe((0,l.switchMap)(K=>{const it=K.attributes.filter(dt=>dt.attributeType!==Q.D.OwnAttribute).filter(dt=>!(0,z.isUndefined)(H[dt.name]));return it.length!==0?(0,g.throwError)(()=>new Error(`Not valid attributes for this data source: ${it.map(dt=>dt.name).join(",")}`)):(0,g.of)(null)}))}_findEntitySchemaColumn(H){return this._entitySchema.columns.find(K=>K.name===H)}_isEntityColumnValue(H){const K=it=>typeof it=="object"&&(it===null||"value"in it);return typeof H=="string"||typeof H=="number"||typeof H=="boolean"||typeof H=="bigint"||H instanceof Date||K(H)}_parseDefaultValues(H,K){const it=new Map(H.attributes.map(dt=>[dt.name,dt.dataValueType]));return K.reduce((dt,ft)=>{const{defaultValue:At,name:Yt}=ft;if((0,z.isNil)(At.value))return dt;if(At.displayValue)return{...dt,[Yt]:At};const we=Ve(At.value,it.get(Yt));return{...dt,[Yt]:we}},{})}_getDefaultValues(H){const K=`${this._entityDefaultValuesUrl}?entityName=${H}`;return this._httpClient.get(K).pipe((0,l.catchError)(it=>this._catchErrorResponse(it)),(0,l.map)(it=>it.GetEntityDefaultValuesResult),(0,l.mergeMap)(it=>this.getSchema().pipe((0,l.tap)(dt=>{let ft=this._window.defaultValueStorage;const At=it?.find(Yt=>Yt.name===dt.primaryAttributeName)?.defaultValue?.value;if(ft=ft||{},At){const Yt=`${H}_${At}`;ft[Yt]=it,this._window.defaultValueStorage=ft}}),(0,l.map)(dt=>this._parseDefaultValues(dt,it)))))}_catchErrorResponse(H){return console.log(H),(0,g.of)({GetEntityDefaultValuesResult:[]})}_requestEntitySchemaColumnsInfo(H){const K=H.map(it=>it.attributePath);return this._entitySchemaService.getEntitySchemaColumnsInformationByPathsArray(this._entitySchema.uId,K).pipe((0,l.map)(it=>H.map(dt=>({column:it[dt.attributePath],config:dt}))))}_getEntitySchemaForwardReferenceColumnsInfo(H){const K={name:this._entitySchemaName,loadLookupColumns:!1,forwardReferencePaths:H.map(it=>it.attributePath)};return this._entitySchemaRepository.getSchemes([K]).pipe((0,l.map)(()=>H.map(it=>{const dt=it.attributePath.split("."),ft=this._entitySchemaRepository.findEntitySchemaColumnByPath(this._entitySchemaName,dt);return{column:new X.P(ft),config:it}})))}_createReferenceAttributes(H,K){return K.length===0?(0,g.of)(H):(0,g.of)(this._featureValues["DataSource-DontUseOneRequestForEntitySchemes"]).pipe((0,l.switchMap)(it=>it?this._requestEntitySchemaColumnsInfo(K):this._getEntitySchemaForwardReferenceColumnsInfo(K))).pipe((0,l.tap)(it=>{it.forEach(({column:dt,config:ft})=>{ft.attributeType===Q.D.AggregationAttribute&&ft.aggregationConfig?.aggregationFunction===q.q.Count&&(dt.dataValueType=O.r.Integer),H.addAttribute(dt,ft)})}),(0,l.map)(()=>H))}_createAttributesFromInitialConfig(H,K={}){const it=[];return Object.entries(K).forEach(([dt,ft])=>{const At=ft;At.type===Q.D.ForwardReferenceAttribute&&it.push({attributeName:dt,attributeType:Q.D.ForwardReferenceAttribute,attributePath:At.path}),At.type===Q.D.AggregationAttribute&&it.push({attributeName:dt,attributeType:Q.D.AggregationAttribute,attributePath:At.path,aggregationConfig:At.aggregationConfig}),At.type===Q.D.FunctionAttribute&&it.push({attributeName:dt,attributeType:Q.D.FunctionAttribute,attributePath:At.path,functionConfig:At.functionConfig})}),this._createReferenceAttributes(H,it).pipe((0,l.catchError)(dt=>{const ft=dt.message&&dt.toString(),At=new y(this,ft);return this._errors.push(At),it.forEach(Yt=>{this._errorReferenceAttributes.push(Yt)}),(0,g.of)(H)}))}_shouldSkipLoad(H){return H.some(K=>K.type===_.E.Never)}_setValidValuesForLookupAttributes(H,K){return Object.keys(K).forEach(it=>{const dt=H.attributes.find(ft=>ft.name===it);dt&&(dt.dataValueType===O.r.Lookup||dt.dataValueType===O.r.IMAGELOOKUP)&&K[it]===""&&(K[it]=null)}),K}_throwErrorResponse(H){const K=typeof H=="string"?H:H?.message;return(0,g.throwError)(()=>({success:!1,rowsAffected:0,errorInfo:K}))}_mapOperationResult(H){return{success:H.success,rowsAffected:H.rowsAffected}}_getIsAffectedAttributeStored(H){return this._affectedAttributes.some(K=>K.path===H.path&&K.schemaName===H.schemaName)}_collectUsedAttributes(H){let K=H._getUsedColumns();K=K.filter(it=>!this._getIsAffectedAttributeStored(it)),this._affectedAttributes.push(...K)}_findErrorReferenceAttribute(H){const K=typeof H=="string"?H:H.name;return this._errorReferenceAttributes.find(it=>it.attributeName===K)}_load(H,K,it,dt){if(this.hasErrors){if(this.hasCriticalErrors)return(0,g.throwError)(()=>this.getLastError());if(H.length!==0&&H.every(At=>this._findErrorReferenceAttribute(At)!=null))return(0,g.throwError)(()=>this.getLastError())}return this._shouldSkipLoad(K)?(0,g.of)([]):this._buildSelectEsq(H,K,it||{}).pipe((0,l.tap)(ft=>this._collectUsedAttributes(ft)),(0,l.switchMap)(ft=>{let At;const Yt={throttled:it?.throttled};return dt?(ft.queryId=dt.id,At=this._queryExecutor.executeSelectQuery(ft,Yt,dt.transactionId),dt.markAsReady()):At=this._queryExecutor.executeSelectQuery(ft,Yt),At.pipe(this._measurePerformanceService.measure$(`EntityDataSource.load.executeSelectQuery.${this.dataSourceName}`),(0,l.catchError)(()=>(0,g.throwError)(()=>new Error(this.translateService.instant("BaseViewModel.LoadingModelErrorMessage")))))}),(0,l.map)(ft=>ft),(0,l.mergeMap)(ft=>this.getSchema().pipe((0,l.map)(At=>(At.attributes&&ft.forEach(Yt=>{this._setValidValuesForLookupAttributes(At,Yt)}),ft)))))}_save(H,K,it){return this.hasCriticalErrors?(0,g.throwError)(()=>this.getLastError()):this._checkOwnAttributes(K).pipe((0,l.switchMap)(()=>this._buildUpdateEsq(H,K)),(0,l.switchMap)(dt=>{if(it){dt.queryId=it.id;const ft=this._queryExecutor.executeUpdateQuery(dt,it.transactionId);return it.markAsReady(),ft}return this._queryExecutor.executeUpdateQuery(dt)}),(0,l.map)(dt=>this._mapOperationResult(dt)),(0,l.catchError)(dt=>this._throwErrorResponse(dt)))}_insert(H,K){return this.hasCriticalErrors?(0,g.throwError)(()=>this.getLastError()):this._checkOwnAttributes(H).pipe((0,l.map)(()=>this._buildInsertEsq(H)),(0,l.switchMap)(it=>{let dt;return K?(it.queryId=K.id,dt=this._queryExecutor.executeInsertQuery(it,K.transactionId),K.markAsReady()):dt=this._queryExecutor.executeInsertQuery(it),(0,g.forkJoin)({response:dt,dataSchema:this.getSchema()})}),(0,l.map)(({response:it,dataSchema:dt})=>({...this._mapOperationResult(it),primaryAttributes:[{[dt.primaryAttributeName]:it.id}]})),(0,l.catchError)(it=>this._throwErrorResponse(it)))}_delete(H,K){return this.hasCriticalErrors?(0,g.throwError)(()=>this.getLastError()):this._buildDeleteEsq(H).pipe((0,l.tap)(it=>{it.queryId=K?.id}),(0,l.switchMap)(it=>{if(K){it.queryId=K.id;const dt=this._queryExecutor.executeDeleteQuery(it,K.transactionId);return K.markAsReady(),dt}return this._queryExecutor.executeDeleteQuery(it)}),(0,l.map)(it=>this._mapOperationResult(it)),(0,l.catchError)(it=>this._throwErrorResponse(it)))}innerLoad(H,K,it){return this._load(H,K,it)}innerSave(H,K){return this._save(H,K)}innerInsert(H){return this._insert(H)}innerDelete(H){return this._delete(H)}innerGetSchema(){return this.hasCriticalErrors?(0,g.throwError)(()=>this.getLastError()):this.dataSchemaRepository.get(this._entitySchemaName).pipe((0,l.map)(H=>new qn.i(H)),(0,l.switchMap)(H=>this._createAttributesFromInitialConfig(H,this.initialConfig.attributes)),(0,l.tap)(H=>{const K=this._getDefaultValues(this._entitySchemaName).pipe((0,l.shareReplay)({bufferSize:1,refCount:!0}));H.setAttributesDefaultValue(K)}),(0,l.map)(H=>H.build()))}innerGetLookupDataSchema(H){if(this.hasCriticalErrors)return(0,g.throwError)(()=>this.getLastError());const it=H.split(".")[0],dt=this._findEntitySchemaColumn(it);return dt?dt.dataValueType!==O.r.Lookup?(0,g.throwError)(()=>new Error(`DataValueType for column '${it}' isn't lookup`)):dt.referenceSchemaName?this.dataSchemaRepository.get(dt.referenceSchemaName):(0,g.throwError)(()=>new Error(`referenceSchemaName for column '${it}' is absent`)):(0,g.throwError)(()=>new Error(`Can't find column with name '${it}'`))}innerGetDefaultValues(){return this.hasCriticalErrors?(0,g.throwError)(()=>this.getLastError()):this._getDefaultValues(this._entitySchemaName)}innerCanDelete(H){return this.hasCriticalErrors?(0,g.of)({result:!1}):this._rightsService.getCanDelete({schemaName:this.initialConfig.entitySchemaName,primaryColumnValue:H.primaryColumnValue})}innerCanCreate(H){if(this.hasCriticalErrors)return(0,g.of)({result:!1});const K={isNew:!0,schemaName:this.initialConfig.entitySchemaName};return this._rightsService.getCanEdit(K)}innerCanEdit(H){if(this.hasCriticalErrors)return(0,g.of)({result:!1});const K={primaryColumnValue:H.primaryColumnValue,isNew:!1,schemaName:this.initialConfig.entitySchemaName};return this._rightsService.getCanEdit(K)}getEmptySchema(){return this._entitySchemaName?new t.I({name:this._entitySchemaName}):super.getEmptySchema()}init(H,K){return super.init(H,K).pipe((0,l.mergeMap)(it=>{if(!this.initialConfig.entitySchemaName){const dt=new me(this);return this._errors.push(dt),(0,g.throwError)(()=>dt)}return(0,g.of)(it)}),(0,l.tap)(()=>this._entitySchemaName=this.initialConfig.entitySchemaName),(0,l.mergeMap)(it=>this._entitySchemaRepository.getSchemaByName(this.initialConfig.entitySchemaName).pipe((0,l.tap)(dt=>this._entitySchema=dt),(0,l.catchError)(()=>{this._entitySchema=new de.t,this._entitySchema.name=this._entitySchemaName,this._entitySchema.columns=[];const dt=new an(this,this._entitySchemaName);return this._errors.push(dt),(0,g.throwError)(()=>dt)}),(0,l.map)(()=>it))))}getOwnLoadParameters(){return this.initialConfig?.loadParameters}getAllowCopyingRecords(){return this.initialConfig?.allowCopyingRecords}loadInTransaction(H,K,it,dt){return this._load(K,it,dt,H)}saveInTransaction(H,K,it){return this._save(K,it,H)}insertInTransaction(H,K){return this._insert(K,H)}deleteInTransaction(H,K){return this._delete(K,H)}}class ye extends he{constructor(H,K){super(H,K),this.dataSourceName=H,this.injector=K,this.type="crt.CopilotActionDataSource",this._intentManager=this.injector.get(Z)}_getActionUId(H){return H.filter(it=>it.type===_.E.PrimaryColumnValue)[0]?.value}innerDelete(H){return(0,g.of)(void 0)}innerInsert(H){const K=H;return(0,g.forkJoin)([this._intentManager.createAction(K),this.getSchema()]).pipe((0,g.map)(([it,dt])=>({success:it.success,rowsAffected:1,errorInfo:it.errorInfo?.message,primaryAttributes:it.success?[{[dt.primaryAttributeName]:K.Id}]:null})))}innerLoad(H,K,it){const dt=this._getActionUId(K);return dt?this._intentManager.getActionByUId(dt).pipe((0,g.map)(ft=>[ft])):(0,g.of)([])}innerSave(H,K){const it=this._getActionUId(H),dt=K;return dt.Id=it,this._intentManager.updateAction(dt).pipe((0,g.map)(ft=>({success:ft.success,rowsAffected:1,errorInfo:ft.errorInfo?.message})))}}var qt=o(6530);class Oe{}const ta="CopilotIntentStatus",fn=new Map([["InDevelopment","4670b068-ad03-4364-9350-6cc61efd1b7f"],["Active","1d73b111-07a9-49e2-aa15-c9415cce7470"],["Deactivated","2c547e71-7a05-42e1-8b65-2bf63f200156"]]),Tn="CopilotIntentMode",De={Chat:"Chat",Api:"API"},fi=new Map([["Chat","326bba59-302a-4a5e-857c-2576e1a38ab0"],["API","5f2dc095-4543-4972-b6bc-6599bf6bc3fd"]]),$n={System:{value:"35f3b644-4fa3-4d1e-8e62-5c3fdc4d3e52",displayValue:"System",primaryColorValue:"#22AC14"},Skill:{value:"6d940b75-21c8-4a90-89ab-9867e6e4a045",displayValue:"Skill",primaryColorValue:"#7848EE"},Agent:{value:"a8fbe253-be1b-4ec4-bc58-65b8047013da",displayValue:"Agent",primaryColorValue:"#E67E22"}};function kt(){return(0,g.of)(Object.values($n))}class yt{constructor(H){this._entitySchemaService=H}_loadPrimaryColumns(H){return this._entitySchemaService.getEntitySchemaByName(H).pipe((0,l.map)(K=>{const it=K.entitySchema.getPrimaryColumn(),dt=K.entitySchema.getPrimaryDisplayColumn();if((0,z.isEmpty)(dt))throw new Error(`Entity ${H} should have primary display column`);return{primaryColumnName:it.name,primaryDisplayColumnName:dt?.name}}))}getColumnLookupValues(H){if((0,z.isEmpty)(H))return(0,g.of)(null);const K=this._loadPrimaryColumns(H),it=(0,g.from)(x.K.create(H));return(0,g.forkJoin)([K,it]).pipe((0,l.switchMap)(([dt,ft])=>(0,g.from)(ft.load({attributes:[dt.primaryColumnName,dt.primaryDisplayColumnName]})).pipe((0,l.map)(Yt=>Yt.map(we=>({value:we[dt.primaryColumnName],displayValue:we[dt.primaryDisplayColumnName]}))))))}static{this.\u0275fac=function(K){return new(K||yt)(p.\u0275\u0275inject(wt.e))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:yt,factory:yt.\u0275fac,providedIn:"root"})}}class St{constructor(H,K){this._columnLookupValuesService=H,this._injector=K,this._intentStatuses=fn,this._intentModes=fi}convertToDataSourceModel(H){const K=this._injector.get(Oe);return(0,g.combineLatest)([this._columnLookupValuesService.getColumnLookupValues(ta),this._columnLookupValuesService.getColumnLookupValues(Tn),kt(),K.getAllLlmModels()]).pipe((0,g.map)(([it,dt,ft])=>{const At=this._intentStatuses.get(H.Status),Yt=it.find(vi=>vi.value===At),we=this._intentModes.get(H.Mode)??this._intentModes.get(De.Chat),Ae=dt.find(vi=>vi.value===we),cn=ft.find(vi=>vi.displayValue===H.Type),u=K.getModelByCodeSync(H.LlmModel),ln={Id:H.UId,Code:H.Code,Description:H.Description,Prompt:H.Prompt,Type:cn,Name:H.Title,Status:Yt,PackageUId:H.PackageUId,LlmModel:u?{value:u.Id,displayValue:u.Name}:null};return H.Type==="Agent"?{...ln,Restrictions:H.Restrictions,RoleDescription:H.RoleDescription}:{...ln,Mode:Ae}}))}convertToModel(H){const K={};for(const[it,dt]of Object.entries(H)){let ft=it,At=dt;it==="Name"&&(ft="Title"),it==="Id"&&(ft="UId"),it==="Status"&&(At=[...this._intentStatuses].filter(([,Yt])=>Yt===H.Status.value).map(([Yt])=>Yt).shift()),it==="Mode"&&(At=[...this._intentModes].filter(([,Yt])=>Yt===H.Mode.value).map(([Yt])=>Yt).shift()),it==="Type"&&(At=Object.values($n).filter(Yt=>Yt.value===H.Type.value).map(Yt=>Yt.displayValue).shift()),it==="LlmModel"&&(At=this._injector.get(Oe).getModelByNameSync(H.LlmModel?.displayValue)?.Code),K[ft]=At}return K}static{this.\u0275fac=function(K){return new(K||St)(p.\u0275\u0275inject(yt),p.\u0275\u0275inject(p.Injector))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:St,factory:St.\u0275fac,providedIn:"root"})}}class Bt extends he{constructor(H,K){super(H,K),this.dataSourceName=H,this.injector=K,this._defaultValuesMap=new Map,this.type="crt.CopilotIntentDataSource",this._intentManager=this.injector.get(Z),this._copilotIntentDataSourceModelConvertor=this.injector.get(St),this._initDefaultValuesMap()}_initDefaultValuesMap(){this._defaultValuesMap.set("CopilotIntent",{UId:(0,qt.qv)(),Status:"Active",Mode:"Chat",Type:"Skill",Prompt:this.translateService.instant("CopilotIntentDataSource.DefaultValues.Prompt")}),this._defaultValuesMap.set("CopilotAgent",{UId:(0,qt.qv)(),Status:"Active",Type:"Agent"})}innerGetDefaultValues(){const H=this.initialConfig.entitySchemaName,K=this._defaultValuesMap.get(H);return this._copilotIntentDataSourceModelConvertor.convertToDataSourceModel(K)}innerInsert(H){const K=this._copilotIntentDataSourceModelConvertor.convertToModel({...H});return(0,g.forkJoin)([this._intentManager.createIntent(K),this.getSchema()]).pipe((0,g.map)(([it,dt])=>({success:it.success,rowsAffected:it.success?1:0,errorInfo:it.errorInfo?.message,primaryAttributes:[{[dt.primaryAttributeName]:it.schemaUid}]})),(0,l.switchMap)(it=>it.success?(0,g.of)(it):(0,g.throwError)(()=>it)))}innerLoad(H,K,it){const dt=K.filter(ft=>ft.type===_.E.PrimaryColumnValue);if(dt.length)return this._intentManager.getIntent(dt[0].value).pipe((0,l.switchMap)(ft=>this._copilotIntentDataSourceModelConvertor.convertToDataSourceModel(ft).pipe((0,g.map)(At=>[At]))))}innerSave(H,K){const dt=H.filter(At=>At.type===_.E.PrimaryColumnValue)[0].value,ft=this._copilotIntentDataSourceModelConvertor.convertToModel({...K});return ft.UId=dt,this._intentManager.updateIntent(ft).pipe((0,g.map)(At=>({success:At.success,rowsAffected:At.success?1:0,errorInfo:At.errorInfo?.message})),(0,l.switchMap)(At=>At.success?(0,g.of)(At):(0,g.throwError)(()=>At)))}}var Kt=o(50237);class ze{convertToDataSourceModel(H){return(0,g.of)({Id:H.UId,Intent:H.Intent,Code:H.Code,Name:H.Name,Description:H.Description,SourceCollection:H.SourceCollection,DataValueTypeUId:H.DataValueTypeUId})}convertToModel(H){const K={};return Object.entries(H).forEach(([it,dt])=>{it==="Id"&&(it="UId"),K[it]=dt}),K}static{this.\u0275fac=function(K){return new(K||ze)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:ze,factory:ze.\u0275fac,providedIn:"root"})}}class Ke extends he{constructor(H,K){super(H,K),this.dataSourceName=H,this.injector=K,this.type="crt.CopilotIntentParameterDataSource",this._intentManager=this.injector.get(Z),this._modelConvertor=this.injector.get(ze)}_getPrimaryColumnParameter(H){return H.find(K=>K.type===_.E.PrimaryColumnValue&&(0,qt.n7)(K.value))}_getIsIntentUIdParameter(H){return(H.relationsConfigs??[]).some(K=>K.dataSchemaName==="CopilotIntent"&&K.attributePath==="Intent")}_getSourceCollectionFilterValue(H){const K=H.find(ft=>ft.type===_.E.Filter);if(!K?.value)return null;const it=Kt.b.fromJson(K.value);let dt;return it.filters.forEach(ft=>{ft instanceof I.x&&ft.leftExpression instanceof A.g&&ft.leftExpression.columnPath==="SourceCollection"&&ft.rightExpression instanceof F.J&&(dt=ft.rightExpression.value)}),dt}innerGetDefaultValues(){return this._modelConvertor.convertToDataSourceModel({UId:(0,qt.qv)()})}innerInsert(H){const K=this._modelConvertor.convertToModel({...H});return this._intentManager.createIntentParameter(K).pipe((0,g.map)(it=>({success:it.success,rowsAffected:it.success?1:0,errorInfo:it.errorInfo?.message,primaryAttributes:[{Id:K.UId}]})),(0,g.switchMap)(it=>it.success?(0,g.of)(it):(0,g.throwError)(()=>it)))}innerLoad(H,K,it){const dt=this._getPrimaryColumnParameter(K),ft=this._getSourceCollectionFilterValue(K)??"InputParameters";return dt?(this._getIsIntentUIdParameter(dt)?this._intentManager.getIntentParameters(dt.value,ft):this._intentManager.getIntentParameter(dt.value).pipe((0,g.map)(Yt=>[Yt]))).pipe((0,g.mergeMap)(Yt=>(0,g.from)(Yt).pipe((0,g.mergeMap)(we=>this._modelConvertor.convertToDataSourceModel(we)),(0,g.toArray)())),(0,g.catchError)(()=>(0,g.of)([]))):(0,g.of)([])}innerSave(H,K){const it=this._getPrimaryColumnParameter(H)?.value,dt=this._modelConvertor.convertToModel({...K});return dt.UId=it,this._intentManager.updateIntentParameter(dt).pipe((0,g.map)(ft=>({success:ft.success,rowsAffected:ft.success?1:0,errorInfo:ft.errorInfo?.message})),(0,g.switchMap)(ft=>ft.success?(0,g.of)(ft):(0,g.throwError)(()=>ft)))}innerDelete(H){const K=this._getPrimaryColumnParameter(H)?.value;return this._intentManager.deleteIntentParameter(K).pipe((0,g.map)(it=>({success:it.success,rowsAffected:it.success?1:0,errorInfo:it.errorInfo?.message})),(0,g.switchMap)(it=>it.success?(0,g.of)(it):(0,g.throwError)(()=>it)))}}class Cn extends he{innerDelete(H){return(0,g.of)(null)}innerInsert(H){return(0,g.of)(null)}innerLoad(H,K){return(0,g.of)([])}innerSave(H,K){return(0,g.of)(null)}innerGetLookupDataSchema(H){return(0,g.of)(null)}innerGetDefaultValues(){return(0,g.of)(null)}innerCanDelete(H){return(0,g.of)(null)}innerCanEdit(H){return(0,g.of)(null)}innerCanCreate(H){return(0,g.of)(null)}}var Ge=o(40706),be=o(70668),gr=o(85604),Re=o(49159);class bi{constructor(){this.changedValues$=new g.Subject,this._valuesStore={}}setValues(H){if(H){const K={};Object.entries(H).forEach(([it,dt])=>{const ft=this._valuesStore[it]!==dt;this._valuesStore[it]=(0,z.cloneDeep)(dt),ft&&(K[it]=this._valuesStore[it])}),(0,z.isEmpty)(K)||this.changedValues$.next(K)}}get values(){return this._valuesStore}static{this.\u0275fac=function(K){return new(K||bi)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:bi,factory:bi.\u0275fac})}}var Kr=o(36688),Eo=o(38819),Ci=o(92831),Zi=o(57014);const Qa="PrimaryValue",yi="DisplayValue",xs="PrimaryColorValue";class Aa{constructor(H,K){this._queryExecutor=H,this._entitySchemaRepository=K}_getInFilter(H){const K=new Eo.B({macrosType:Ci.V.PrimaryColumn});return new Zi.f(k.H.Equal,K,H.map(it=>new F.J({value:it})))}_getEsq(H,K){const it=new Ot.s(H);return this._entitySchemaRepository.getSchemaByName(H).pipe((0,l.map)(dt=>{it.addMacrosFunctionColumn(Ci.V.PrimaryColumn,Qa),it.addMacrosFunctionColumn(Ci.V.PrimaryDisplayColumn,yi);const ft=dt.getPrimaryColorColumn();ft&&it.addSchemaColumn(ft.name,xs);const At=this._getInFilter(K);return it.filters.add(At),it}))}_getSchemaLookupData(H,K){const it={};for(let dt=0;dt<K.length;dt++){const ft=K[dt],[At,Yt]=H[dt];it[At]={};for(const we of Yt){const Ae=ft.find(cn=>cn[Qa]===we);if(Ae){const cn=[Ae[yi]];Ae[xs]&&cn.push(Ae[xs]),it[At][we]=Ae?cn:null}}}return it}load(H){const K=Object.entries(H);return(0,g.forkJoin)(K.map(([it,dt])=>this._getEsq(it,dt))).pipe((0,g.switchMap)(it=>this._queryExecutor.executeBatchSelectQuery(it).pipe((0,l.map)(dt=>this._getSchemaLookupData(K,dt)))))}static{this.\u0275fac=function(K){return new(K||Aa)(p.\u0275\u0275inject(Tt.w),p.\u0275\u0275inject(Et.v))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:Aa,factory:Aa.\u0275fac,providedIn:"root"})}}class Ss extends w{constructor(H,K){super(H,K),this.dataSourceName=H,this._injector=K,this.type=h.z,this._schemaParametersStore=this._injector.get(bi),this._lookupDataLoadService=this._injector.get(Aa),this._featureValues=this._injector.get(Nt.G),this._featureValues.DisableCommunicationBetweenSchemas||this._subscribeParametersChanged()}_subscribeParametersChanged(){this._schemaParametersStore.changedValues$.subscribe(H=>{Re.q.instance.notify({modelId:(0,qt.qv)(),dataSchemaName:this.dataSchema.name,type:gr.M.Update,payload:{primaryAttributesValues:null,changedAttributes:Object.keys(H)}})})}_getCanSuccessfullyExecuteOperationResult(){return(0,g.of)({result:!0})}_fillLookupValues(H,K,it){Object.entries(it).forEach(([dt,[ft,At]])=>{(K[dt]||[]).forEach(we=>{H[we]=At?{value:dt,displayValue:ft,primaryColorValue:At}:{value:dt,displayValue:ft}})})}_fillSchemaParameterValueNameMap(H,K,it,dt){const ft=dt;let At=H[K];At||(At={},H[K]=At);let Yt=At[ft];Yt||(Yt=[],At[ft]=Yt),Yt.push(it)}_fillSchemaNamePrimaryValuesMap(H,K,it){const dt=it;let ft=H[K];ft||(ft=[],H[K]=ft),ft.push(dt)}_isLookupValue(H){return!!H?.value}_shouldFillSchemaLookupValueMaps(H,K){return H&&K&&K.referenceSchemaName&&!this._isLookupValue(H)}_load(H,K){const it={},dt=this._schemaParametersStore.values,ft=K.attributes,At={},Yt={};for(const Ae of H){const cn=dt[Ae],u=ft.find(ln=>ln.name===Ae);if(this._shouldFillSchemaLookupValueMaps(cn,u)){this._fillSchemaNamePrimaryValuesMap(Yt,u.referenceSchemaName,cn),this._fillSchemaParameterValueNameMap(At,u.referenceSchemaName,Ae,cn);continue}it[Ae]=cn??null}return Object.keys(Yt).length===0?(0,g.of)([it]):this._lookupDataLoadService.load(Yt).pipe((0,g.map)(Ae=>{for(const[cn,u]of Object.entries(Ae)){const ln=At[cn];this._fillLookupValues(it,ln,u)}return[it]}))}_getValuesForStore(H){const K={};return Object.entries(H).forEach(([it,dt])=>{const ft=this.initialConfig.parameters[it];if(!ft)return;(0,be.aP)(ft.dataValueTypeName)===O.r.Lookup?K[it]=dt?.value:K[it]=dt}),K}innerLoad(H,K,it){return this.getSchema().pipe((0,g.switchMap)(dt=>this._load(H,dt)))}innerSave(H,K){const it=this._getValuesForStore(K);return this._schemaParametersStore.setValues(it),(0,g.of)({success:!0,rowsAffected:1})}innerInsert(H){const K=this._getValuesForStore(H);return this._schemaParametersStore.setValues(K),(0,g.of)({success:!0,rowsAffected:1,primaryAttributes:[]})}innerDelete(H){return(0,g.of)({success:!0,rowsAffected:1})}innerGetSchema(){const H=[],K=this.initialConfig.parameters;return K&&Object.entries(K).forEach(([it,dt])=>{const ft=new Kr.w({name:it,caption:dt.caption,dataValueType:(0,be.aP)(dt.dataValueTypeName),attributeType:Q.D.OwnAttribute,path:it,isRequired:!!dt.isRequired,referenceSchemaName:dt.referenceSchemaName,isMasked:!1,isFormatValidated:!0});ft.addDefaultValidators(),H.push(ft)}),(0,g.of)(new t.I({name:this.initialConfig.schemaName,type:Ge.P.ClientUnit,attributes:H}))}innerGetLookupDataSchema(H){return(0,g.of)(null)}innerGetDefaultValues(){return(0,g.of)({})}innerCanEdit(H){return this._getCanSuccessfullyExecuteOperationResult()}innerCanDelete(H){return this._getCanSuccessfullyExecuteOperationResult()}innerCanCreate(H){return this._getCanSuccessfullyExecuteOperationResult()}}class ws extends w{constructor(){super(...arguments),this.type="crt.WebServiceDataSource"}innerLoad(H,K,it){throw new Error("Method not implemented.")}innerSave(H,K){throw new Error("Method not implemented.")}innerInsert(H){throw new Error("Method not implemented.")}innerDelete(H){throw new Error("Method not implemented.")}innerGetSchema(){throw new Error("Method not implemented.")}innerGetLookupDataSchema(H){throw new Error("Method not implemented.")}innerGetDefaultValues(){throw new Error("Method not implemented.")}innerCanDelete(H){throw new Error("Method not implemented.")}innerCanEdit(H){throw new Error("Method not implemented.")}innerCanCreate(H){throw new Error("Method not implemented.")}}class La{resolve(H){let K=null;switch(H){case m.M:K=he;break;case h.z:K=Ss;break;case"crt.WebServiceDataSource":K=ws;break;case"crt.CopilotIntentDataSource":K=Bt;break;case"crt.CopilotIntentParameterDataSource":K=Ke;break;case"crt.CopilotActionDataSource":K=ye;break;case"crt.DashboardDataSource":K=Cn;break}return(0,g.of)(K)}static{this.\u0275fac=function(K){return new(K||La)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:La,factory:La.\u0275fac})}}class ka{constructor(H,K){this.injector=H,this.resolver=K}create(H,K,it){const{type:dt,scope:ft,config:At}=K;return this.resolver.resolve(dt).pipe((0,l.switchMap)(we=>we?new we(H,it||this.injector).init(At,ft):(0,g.throwError)(()=>new Error(`Data source type '${dt}' not supported.`))),(0,l.catchError)(we=>we instanceof E?(0,g.of)(we.dataSource):(0,g.throwError)(()=>we)))}static{this.\u0275fac=function(K){return new(K||ka)(p.\u0275\u0275inject(p.Injector),p.\u0275\u0275inject(La))}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:ka,factory:ka.\u0275fac})}}},87767:(P,j,o)=>{o.d(j,{i:()=>F});var p=o(59131),g=o.n(p),l=o(86464),t=o(73335),f=o(40706),E=o(71430),y=o(88980),w=o(28399),m=o.n(w),h=o(62278),_=o.n(h),x=o(36486),I=o.n(x),k=o(52701),A=o(36688);class F{constructor(N=null,T,L){N==null?this._dataSchema=new k.I:this._dataSchema=T?.useClone?N.clone():N.createChild(),this._phoneValidationService=L||p.Injector.create({providers:[{provide:E.z,useClass:E.z}]}).get(E.z)}_createDataSchemaAttributeByConfig(N){const T=new A.w;return T.name=N.name,T.caption=N.caption,T.path=N.path,T.dataValueType=N.dataValueType,T.validators={...N.validators||{}},T.defaultValue=(0,h.of)(typeof N.defaultValue=="object"?{...N.defaultValue}:N.defaultValue),T.defaultValueSchema=N.defaultValueSchema,T.isValueCloneable=N.isValueCloneable,T.attributeType=N.attributeType,T.referenceSchemaName=N.referenceSchemaName,T.functionConfig=N.functionConfig,T.aggregationConfig=N.aggregationConfig,T.usageType=N.usageType,T.isMasked=N.isMasked,T.isFormatValidated=N.isFormatValidated,T.isSensitiveData=N.isSensitiveData,T.isValueMasked=N.isValueMasked,T.valueMaskingSettings=N.valueMaskingSettings,T.isRequired=N.isRequired,T.lookupMode=N.lookupMode,T.isSystem=N.isSystem??!1,T}setEntitySchemaColumnValidators(N,T){return N.isRequired&&this.setAttributeRequiredValidator(T),this.setAttributeTextDataValueTypeValidator(T,N.dataValueType).setAttributeNumberDataValueTypeValidator(T,N.dataValueType).setAttributePhoneDataValueTypeValidator(T,N)}setAttributeValidator(N,T,L){const U=this._dataSchema.attributes.find(tt=>tt.name===N),B=U.validators||{};return B[T]=L,U.validators=B,this}setAttributeRequiredValidator(N){return this.setAttributeValidator(N,"crt.Required",{type:"crt.Required"})}setAttributeMaxLengthValidator(N,T){return this.setAttributeValidator(N,"crt.MaxLength",{type:"crt.MaxLength",params:{maxLength:T}})}setAttributeTextDataValueTypeValidator(N,T){const L=(0,y.R)(T);return L?this.setAttributeMaxLengthValidator(N,L.maxLength):this}setAttributeMinValueValidator(N,T){return this.setAttributeValidator(N,"crt.Min",{type:"crt.Min",params:{min:T}})}setAttributeMaxValueValidator(N,T){return this.setAttributeValidator(N,"crt.Max",{type:"crt.Max",params:{max:T}})}setAttributeMinMaxValidator(N,T,L){return this.setAttributeMinValueValidator(N,T).setAttributeMaxValueValidator(N,L)}setAttributeNumberDataValueTypeValidator(N,T){const L=(0,y.B)(T);return L&&this.setAttributeMinMaxValidator(N,L.minValue,L.maxValue),this}setAttributePhoneDataValueTypeValidator(N,T){return[l.r.PHONE_TEXT].includes(T.dataValueType)&&T.isMasked&&(this._phoneValidationService.initialize().then(),this.setAttributeValidator(N,"crt.PhoneNumber",{type:"crt.PhoneNumber"})),this}setAttributesDefaultValue(N){return this._dataSchema.attributes.forEach(T=>{T.defaultValue=N.pipe((0,x.map)(L=>L[T.name]))}),this}addAttribute(N,T){const{name:L,caption:U,dataValueType:B,isValueCloneable:tt,referenceSchemaName:Z,isMasked:G,isFormatValidated:Y,usageType:O,isRequired:st,isSensitiveData:gt,isValueMasked:ct,valueMaskingSettings:nt}=N,Q=new A.w;return Q.name=T.attributeName||L,Q.path=T.attributePath||L,Q.caption=U,Q.dataValueType=B,Q.isValueCloneable=!!tt,Q.attributeType=T.attributeType||t.D.OwnAttribute,Q.referenceSchemaName=Z,Q.validators={},Q.isMasked=G,Q.isFormatValidated=Y,Q.isSensitiveData=gt,Q.isValueMasked=ct,Q.valueMaskingSettings=nt,Q.usageType=O,Q.isRequired=st,Q.defaultValueSchema=N.defaultValueSchema,Q.lookupMode=N.lookupMode,Q.isSystem=(0,w.compact)([this._dataSchema.createdByAttributeName,this._dataSchema.createdOnAttributeName,this._dataSchema.modifiedByAttributeName,this._dataSchema.modifiedOnAttributeName,this._dataSchema.primaryAttributeName,"ProcessListeners"]).includes(Q.name),this._dataSchema.addAttribute(Q),T.attributeType===t.D.OwnAttribute&&this.setEntitySchemaColumnValidators(N,Q.name),T.attributeType===t.D.AggregationAttribute&&(Q.aggregationConfig=T.aggregationConfig),T.attributeType===t.D.FunctionAttribute&&(Q.functionConfig=T.functionConfig),this}addOwnAttribute(N){return this.addAttribute(N,{attributeType:t.D.OwnAttribute})}setEntitySchema(N){return this._dataSchema.dataSourceConfig={type:"crt.EntityDataSource",config:{entitySchemaName:N.name}},this._dataSchema.name=N.name,this._dataSchema.type=f.P.Entity,this._dataSchema.primaryAttributeName=N.getPrimaryColumn()?.name,this._dataSchema.primaryDisplayAttributeName=N.getPrimaryDisplayColumn()?.name,this._dataSchema.primaryColorAttributeName=N.getPrimaryColorColumn()?.name,this._dataSchema.hierarchyAttributeName=N.getHierarchyColumn()?.name,this._dataSchema.caption=N.caption,this._dataSchema.createdByAttributeName=N.columns.find(T=>T.uId===N.createdByColumnUId)?.name,this._dataSchema.createdOnAttributeName=N.columns.find(T=>T.uId===N.createdOnColumnUId)?.name,this._dataSchema.modifiedByAttributeName=N.columns.find(T=>T.uId===N.modifiedByColumnUId)?.name,this._dataSchema.modifiedOnAttributeName=N.columns.find(T=>T.uId===N.modifiedOnColumnUId)?.name,this._dataSchema.clearAttributes(),N.columns.forEach(T=>{this.addOwnAttribute(T)}),this}setDataSchemaConfig(N){return this._dataSchema.name=N.name,this._dataSchema.type=N.type,this._dataSchema.caption=typeof N.caption=="string"?N.caption:{...N.caption},this._dataSchema.primaryAttributeName=N.primaryAttributeName,this._dataSchema.primaryDisplayAttributeName=N.primaryDisplayAttributeName,this._dataSchema.dataSourceConfig={...N.dataSourceConfig,config:{...N.dataSourceConfig?.config}},(N.attributes||[]).forEach(L=>{const U=this._createDataSchemaAttributeByConfig(L);this._dataSchema.addAttribute(U)}),this}build(){return this._dataSchema.clone()}}},85604:(P,j,o)=>{o.d(j,{M:()=>p});var p;(function(g){g.Create="create",g.Update="update",g.Delete="delete"})(p||(p={}))},68678:(P,j,o)=>{o.d(j,{C_:()=>t,Fj:()=>l,iB:()=>f});var p=o(59131),g=o.n(p);const l=new p.InjectionToken("SCOPE_NAME"),t=new p.InjectionToken("VIEW_EVENT_ZONE_NAME"),f=new p.InjectionToken("INJECTION_CONTEXT")},65576:(P,j,o)=>{o.d(j,{n:()=>p});var p;(function(g){g.ChangeAttributeValue="change-attribute-value",g.ModelDataLoaded="model-data-loaded-event",g.BeforeModelLoad="before-model-load",g.LoadDefaultValues="load-default-values",g.StartLoadModelAttributes="start-load-model-attributes",g.FinishLoadModelAttributes="finish-load-model-attributes",g.ViewEvent="view-event"})(p||(p={}))},47424:(P,j,o)=>{o.d(j,{n:()=>F});var p=o(5960),g=o(59131),l=o(89100),t=o(73335),f=o(22524),E=o(67020),y=o(26594),w=o(59415),m=o(97842),h=o(62278),_=o(36486),x=o(28956),I=o(89285),k=o(11244);class A extends k.K{get supportsTransactions(){return this.dataSource?this.dataSource.supportTransactions:!1}createChildModel(){return new A(this.injector,this.dataSource)}loadInTransaction(N,T){return N.createOperation(L=>(0,h.firstValueFrom)(this.innerLoad((U,B,tt)=>this.dataSource.loadInTransaction(L,U,B,tt),T)))}insertInTransaction(N,T){return N.createOperation(L=>(0,h.firstValueFrom)(this.innerInsert(U=>this.dataSource.insertInTransaction(L,U),T)))}updateInTransaction(N,T,L){return N.createOperation(U=>(0,h.firstValueFrom)(this.innerUpdate((B,tt)=>this.dataSource.saveInTransaction(U,B,tt),T,L)))}insertOrUpdateInTransaction(N,T,L){return this.mode===I.b.Update?this.updateInTransaction(N,T,L):this.insertInTransaction(N,T)}deleteInTransaction(N,T){return N.createOperation(L=>(0,h.firstValueFrom)(this.innerDelete(U=>this.dataSource.deleteInTransaction(L,U),T)))}}let F=class q0{constructor(N,T,L,U){this.dataSourceFactory=N,this.entitySchemaRepository=T,this._featureValues=L,this._injector=U}get _transactionsEnabled(){return this._featureValues["DataSource-DisableTransactions"]!==!0}_createModel(N=null,T=!1,L){const U=N.supportTransactions&&this._transactionsEnabled?new A(L||this._injector,N):new k.K(L||this._injector,N);return U.disableSync=T,U.init()}_validateModelConfig(N){if(N.primaryDataSourceName&&!N.dataSources[N.primaryDataSourceName])throw new Error(`Data source "${N.primaryDataSourceName}" cannot be primary data source. Data source "${N.primaryDataSourceName}" not found in model config.`);if(N.primaryDataSourceName&&N.dataSources[N.primaryDataSourceName]?.scope===l.Z.ViewElement)throw new Error(`Data source "${N.primaryDataSourceName}" with scope "viewElement" cannot be primary. Only data sources with scope "page" can be primary`)}_getEntitySchemesRequest(N){return N.map(([,T])=>T).filter(T=>T.type==="crt.EntityDataSource").map(T=>T.config).filter(T=>!!T.entitySchemaName).map(T=>{let L=[];return T.attributes&&(L=Object.entries(T.attributes).filter(([,U])=>U.type===t.D.ForwardReferenceAttribute).map(([,U])=>U.path)),{name:T.entitySchemaName,loadLookupColumns:!0,forwardReferencePaths:L}})}_generateFromConfig(N,T){let L,U;const B=T?.get(E.g,null,{optional:!0});return B?(L=Object.entries(N?.dataSources||{}).filter(([tt,Z])=>Z.type?!0:(console.warn(`Data source ${tt} without type not supported.`),!1)),L.length===0?(0,h.of)([]):(this._validateModelConfig(N),U=L.map(([tt,Z])=>this.generateOne(Z,tt,T)),this.preInitializeDataSources(L).pipe(B.measure$("modelGenerator.generateFromConfig"),(0,h.switchMap)(()=>(0,h.forkJoin)(U))))):(L=Object.entries(N?.dataSources||{}).filter(([tt,Z])=>Z.type?!0:(console.warn(`Data source ${tt} without type not supported.`),!1)),L.length===0?(0,h.of)([]):(this._validateModelConfig(N),U=L.map(([tt,Z])=>this.generateOne(Z,tt,T)),this.preInitializeDataSources(L).pipe((0,h.switchMap)(()=>(0,h.forkJoin)(U)))))}preInitializeDataSources(N){if(this._featureValues["DataSource-DontUseOneRequestForEntitySchemes"])return(0,h.of)(null);const T=this._getEntitySchemesRequest(N);return this.entitySchemaRepository.getSchemes(T).pipe((0,_.catchError)(L=>(0,h.of)([])),(0,_.map)(L=>null))}generate(N,T){return this._generateFromConfig(N,T)}generateOne(N,T,L){const U=L?.get(E.g,null,{optional:!0});return U?this.dataSourceFactory.create(T,N,L).pipe(U.measure$(`modelGenerator.generateOne.${T}`),(0,_.mergeMap)(B=>this._createModel(B,N.disableSync,L))):this.dataSourceFactory.create(T,N,L).pipe((0,_.mergeMap)(B=>this._createModel(B,N.disableSync,L)))}static{this.\u0275fac=function(T){return new(T||q0)(g.\u0275\u0275inject(x.L),g.\u0275\u0275inject(w.v),g.\u0275\u0275inject(y.G),g.\u0275\u0275inject(g.Injector))}}static{this.\u0275prov=g.\u0275\u0275defineInjectable({token:q0,factory:q0.\u0275fac})}};F=(0,p.__decorate)([(0,f.op)({requestType:"crt.ModelGenerator"}),(0,p.__metadata)("design:paramtypes",[x.L,w.v,m.x,g.Injector])],F)},11244:(P,j,o)=>{o.d(j,{_:()=>U,K:()=>Z});var p=o(5960),g=o(6530),l=o(73335),t=o(86464),f=o(65288),E=o(83836),y=o(22524),w=o(89285),m=o(67020),h=o(26594),_=o(28399),x=o(62278),I=o(36486),k=o(28956),A=o(85604),F=o(49159);class z{}var N=o(82517),T=o(41314);class L{static _setImageLookupTypeUrl(Y,O){const st=Y[O],gt=st?.value;gt&&(st.url=(0,T.Mc)(gt))}static _setBlobTypeUrl(Y,O,st){const gt=O[st];if(gt){const ct=O.Id;O[st]={value:gt,url:(0,T.Mc)(ct,Y,st)}}}static _addImageUrl(Y,O,st){O.forEach(gt=>{switch(gt.dataValueType){case t.r.IMAGELOOKUP:{this._setImageLookupTypeUrl(st,gt.name);break}case t.r.Image:{this._setBlobTypeUrl(Y,st,gt.name);break}default:break}})}static serializeRecordPrimaryAttributesValues(Y){return Y.map(O=>`${O.name}:${O.value}`).join(";")}static getModelPrimaryAttributeValues(Y,O){const st=Y.getPrimaryAttributesNames();return O.map(gt=>st.map(ct=>({name:ct,value:gt[ct]})))}static getOwnColumnsValues(Y,O){const st=O??{};if(Y.attributes.length){const gt=Y.attributes.filter(ct=>ct.attributeType===l.D.OwnAttribute).map(ct=>ct.name).filter(ct=>!(0,_.isUndefined)(st[ct])).map(ct=>[ct,st[ct]]);return Object.fromEntries(gt)}else return st}static getPrimaryAttributeValuesFromParameters(Y,O){const st=O.filter(gt=>gt.type===f.E.PrimaryColumnValue);return st.length?st.map(gt=>({[Y.primaryAttributeName]:gt.value})):[]}static getPrimaryAttributeValuesFromData(Y,O){const st=Y.getPrimaryAttributesNames();return st.length?st.filter(gt=>O[gt]).map(gt=>({[gt]:O[gt]})):[]}static getPrimaryAttributeValues(Y,O,st){const gt=this.getPrimaryAttributeValuesFromData(Y,O);return gt.length?gt:this.getPrimaryAttributeValuesFromParameters(Y,st)}static getDataSourceLoadOptions(Y){const O={loadType:Y?.loadType||N.I.Load};return Y?.pagingConfig&&(O.pagingConfig=Y.pagingConfig),Y?.sortingConfig&&(O.sortingConfig=Y.sortingConfig),Y?.isDistinct&&(O.isDistinct=Y.isDistinct),O}static getImageAttributes(Y,O){const st=[];return(O||[]).forEach(gt=>{const ct=Y.findAttributeByName(gt);ct?.isImage&&st.push(ct)}),st}static processImageData(Y,O,st){const gt=L.getImageAttributes(Y,st);return gt.length>0&&O.forEach(ct=>this._addImageUrl(Y.name,gt,ct)),O}static removeNotRequestedData(Y,O){return Object.keys(O).forEach(st=>{Y.includes(st)||delete O[st]}),O}static getLoadRequestSignature(Y,O,st,gt){return JSON.stringify(Y)+JSON.stringify(O)+JSON.stringify(st)+JSON.stringify(gt)}}class U extends Error{}const B={[w.b.Init]:[w.b.Create,w.b.Copy,w.b.Update,w.b.Delete],[w.b.Copy]:[w.b.Delete,w.b.Update],[w.b.Create]:[w.b.Copy,w.b.Delete,w.b.Update],[w.b.Delete]:[w.b.Copy,w.b.Create,w.b.Update,w.b.Init],[w.b.Update]:[w.b.Delete],[w.b.Unknown]:[]};function tt(G){const Y={success:!1,rowsAffected:0,errorInfo:""};return typeof G=="string"?Object.assign(Y,{errorInfo:G}):G instanceof Error?Object.assign(Y,{errorInfo:G.message}):Object.assign(Y,typeof G=="object"?G:{errorInfo:G})}class Z{get _children(){return this._children$.value}static get instance(){return this._instance||(this._instance=new Z(null,null)),this._instance}constructor(Y,O){this.injector=Y,this.dataSource=O,this._lookupDataSourceName="lookupDataSource",this._id=(0,g.qv)(),this._modeChanges=new x.Subject,this._destroyed$=new x.Subject,this._children$=new x.BehaviorSubject([]),this._childrenDirty$=new x.BehaviorSubject(!1),this._childrenModes$=new x.BehaviorSubject([]),this._isCollectionModel=!1,this._isCollectionItemModel=!1,this._mode=w.b.Init,this._isInitialized=!1,this._isLoaded=!1,this._dirtyAttributes=new Set,this._newLoadingRequestArrived=new x.Subject,this._attributesMap=[],this._selfDirty$=new x.BehaviorSubject(!1),this._isLoading=!1,this._destroyed=!1,this._doNotAllowCancelRequest=!1,this._dirty$=(0,x.combineLatest)([this._selfDirty$,this._childrenDirty$,this._childrenModes$]).pipe((0,I.map)(([st,gt,ct])=>st||gt||ct.includes(w.b.Copy)||ct.includes(w.b.Create)),(0,I.distinctUntilChanged)()),this._loadedData=new Set,this.injector&&(this._dataSourceFactory=this.injector.get(k.L),this._lifecycleHookNotificationService=this.injector.get(z,null,{optional:!0}),this._measurePerformanceService=this.injector.get(m.g,null,{optional:!0}),this._doNotAllowCancelRequest=this.injector.get(h.G,null,{optional:!0})?.DoNotAllowCancelRequest)}static create(Y){return(0,x.from)(this.instance._create({type:"crt.EntityDataSource",config:{entitySchemaName:Y}},""))}get name(){return this.dataSource?this.dataSource.dataSourceName:""}get mode(){return this._isCollectionModel?w.b.Unknown:this._mode}get _modeChanges$(){return this._modeChanges.asObservable()}get _isChanged(){return!!this._dirtyAttributes?.size}set _isCollection(Y){this._isCollectionModel=Y,this._isCollectionModel&&(this._mode=w.b.Unknown)}get isLoaded(){return this._isLoaded}get event$(){return F.q.instance.event$.pipe((0,I.filter)(()=>this._isInitialized),(0,I.filter)(()=>!this._isCollectionItemModel),(0,I.filter)(({dataSchemaName:Y})=>Y===this._dataSchemaName),(0,I.tap)(({type:Y,modelId:O,payload:st})=>this._updateLoadedData(Y,O,st)),(0,I.filter)(({modelId:Y})=>Y!==this._id&&!this._isChild(Y)),(0,I.map)(Y=>({event:Y,ownPrimaryAttributesValues:Y.payload?.primaryAttributesValues?.filter(O=>{const st=L.serializeRecordPrimaryAttributesValues(O);return this._loadedData.has(st)})})),(0,I.filter)(({event:Y,ownPrimaryAttributesValues:O})=>Y.type===A.M.Update||Y.type===A.M.Delete?!O||O.length!==0:!0),(0,I.map)(({event:Y,ownPrimaryAttributesValues:O})=>({event:Y,primaryAttributesValues:Y.type===A.M.Create?Y.payload.primaryAttributesValues:O})),(0,I.map)(({event:Y,primaryAttributesValues:O})=>({modelId:Y.modelId,dataSchemaName:Y.dataSchemaName,type:Y.type,payload:{...Y.payload,primaryAttributesValues:O}})),(0,I.takeUntil)(this._destroyed$))}get dataSchemaName(){return this._dataSchemaName}get allowSync(){return!this._disableSync}get disableSync(){return this._disableSync}set disableSync(Y){this._disableSync=Y}get isLoading(){return this._isLoading}get hasErrors(){return this.dataSource?this.dataSource.hasErrors:!0}get hasCriticalErrors(){return this.dataSource?this.dataSource.hasCriticalErrors:!0}get affectedAttributes(){return this.dataSource?this.dataSource.affectedAttributes:[]}get isAggregate(){return this.dataSource?this.dataSource.isAggregate:!1}get supportsTransactions(){return!1}get isCollectionItemModel(){return this._isCollectionItemModel}get isInitialized(){return this._isInitialized}_isChild(Y){return this._children.some(O=>O?._id===Y)}_subscribeChildrenModeChanges(){this._children$.pipe((0,I.map)(Y=>Y.map(O=>(0,x.merge)((0,x.of)(O.mode),O._modeChanges$))),(0,I.switchMap)(Y=>Y?.length?(0,x.combineLatest)(Y):(0,x.of)([])),(0,I.tap)(Y=>this._childrenModes$.next(Y)),(0,I.takeUntil)(this._destroyed$)).subscribe()}_subscribeChildrenDirtyChanges(){this._children$.pipe((0,I.map)(Y=>Y.map(O=>O._dirty$)),(0,I.switchMap)(Y=>Y?.length?(0,x.combineLatest)(Y):(0,x.of)([])),(0,I.map)(Y=>Y.some(O=>O)),(0,I.tap)(Y=>this._childrenDirty$.next(Y)),(0,I.takeUntil)(this._destroyed$)).subscribe()}_updateLoadedData(Y,O,st){this._isCollectionModel&&Y===A.M.Create&&this._isChild(O)&&st.primaryAttributesValues.forEach(gt=>{const ct=L.serializeRecordPrimaryAttributesValues(gt);this._loadedData.add(ct)})}_setMode(Y){if(this._mode===Y)return;if(!B[this._mode]?.includes(Y))throw Error(`Unable to mark model with '${this._mode}' mode for '${Y}'.`);const st=this._mode;this._mode=Y,Y===w.b.Delete&&this._selfDirty$.next(st!==w.b.Create)}_markForNotCollection(Y){this._isCollectionModel||this.markFor(Y)}_registerPrimaryAttributeValues(Y){Y.forEach(O=>{this._loadedData.add(L.serializeRecordPrimaryAttributesValues(O))})}_getDependentAttributesNames(Y){return this._attributesMap.filter(O=>Y.includes(O.name)).filter(O=>O.dependentAttributes.length!==0).map(O=>O.dependentAttributes).flat()}_getDefaultLoadAttributes(){return this.getSchema().pipe((0,I.map)(Y=>Y.getPrimaryLoadAttributes()))}_checkAttributesInDataSchema(Y){return this.getSchema().pipe((0,I.tap)(O=>{const st=Y.filter(gt=>O.findAttributeByName(gt)==null);if(st.length>0)throw new Error(`data has unknown attributes names: ${st.join(", ")}`)}))}_createDataSource(Y,O,st=null){const gt=st??O.dataSourceConfig;return this._dataSourceFactory.create(Y,gt)}_notifyEventByParameters(Y,O){return this.getSchema().pipe((0,I.map)(st=>L.getPrimaryAttributeValuesFromParameters(st,Y)),(0,I.mergeMap)(st=>this._notifyDataChange(st,O)))}_notifyDataChange(Y,O){return this.getSchema().pipe((0,I.map)(st=>L.getModelPrimaryAttributeValues(st,Y)),(0,I.tap)(st=>{F.q.instance.notify({modelId:this._id,dataSchemaName:this._dataSchemaName,type:O,payload:{primaryAttributesValues:st}})}),(0,I.map)(()=>null))}_mapSaveResult(Y,O,st){return this.getSchema().pipe((0,I.map)(gt=>({result:Y,actionType:A.M.Update,data:L.getPrimaryAttributeValues(gt,O,st)})))}_mapInsertResult(Y){return{data:Y.primaryAttributes??[],result:Y,actionType:A.M.Create}}_getLoadAttributes(Y){if(Y&&Y.length!==0){let O=null;if(Y.every(gt=>(0,_.isString)(gt)))return O=this._getDependentAttributesNames(Y),(0,x.of)([...Y,...O]);{const gt=Y.map(ct=>ct.name);return O=this._getDependentAttributesNames(gt),this.getSchema().pipe((0,I.map)(ct=>(O=O.map(nt=>ct.findAttributeByName(nt)).map(nt=>({name:nt.name,path:nt.path,caption:nt.caption,dataValueType:nt.dataValueType,aggregationConfig:nt.aggregationConfig})),[...Y,...O])))}}return this._getDefaultLoadAttributes()}_getChangedAttributesValues(Y){return this._persistedState?Object.entries({...this._persistedState,...Y}).filter(([O])=>this._dirtyAttributes.has(O)).reduce((O,[st,gt])=>Object.assign(O,{[st]:gt}),{}):Y}_load(Y,O,st,gt,ct=w.b.Update){const nt={attributes:O,parameters:st,options:gt,mode:ct},Q=(0,_.cloneDeep)(this._lastRequestPayload),q=(0,_.isEqual)((0,_.omit)(nt,"options.loadType"),(0,_.omit)(Q,"options.loadType"));return this._loadingRequest&&q?this._loadingRequest:(this._lastRequestPayload&&!q&&(this._newLoadingRequestArrived.next(null),this._newLoadingRequestArrived=new x.Subject),this._lastRequestPayload=nt,this._loadingRequest=this._getLoadAttributes(O).pipe((0,y.pR)(()=>this._onBeforeLoad(nt,Q)),(0,I.switchMap)(lt=>Y(lt,st,gt)),(0,I.raceWith)(this._newLoadingRequestArrived.pipe((0,I.switchMap)(()=>(0,x.throwError)(()=>new U)))),(0,I.tap)(()=>this._markForNotCollection(ct)),(0,y.BB)(()=>this.getSchema()),(0,I.tap)(([lt,c])=>{this._registerPrimaryAttributeValues(L.getModelPrimaryAttributeValues(c,lt))}),(0,I.tap)(()=>this._persistedState={}),(0,I.map)(([lt,c])=>L.processImageData(c,lt,O)),(0,I.tap)(()=>this._isLoaded=!0),(0,y.pR)(()=>this._onAfterLoad(nt,Q)),(0,I.catchError)(lt=>(this._isLoaded=!1,(0,x.throwError)(()=>lt))),(0,I.tap)(()=>{this._dirtyAttributes.size===0&&this._markAsPristine(),this._loadingRequest=null}),(0,I.share)()),(0,x.iif)(()=>!this._doNotAllowCancelRequest,this._loadingRequest.pipe((0,I.takeUntil)(this._destroyed$)),this._loadingRequest))}_updateAttributesDependencies(){this._attributesMap.forEach(O=>O.dependentAttributes=[]),this._attributesMap.filter(O=>O.attributeType!==l.D.OwnAttribute).forEach(O=>{const st=O.path.split(".");if(st.length===1)return;const gt=st.shift(),ct=this._attributesMap.find(nt=>nt.path===gt);ct?.dependentAttributes.push(O.name)})}_buildAttributesMap(Y){const O=Y.attributes??[];this._attributesMap=O.map(st=>({name:st.name,path:st.path,attributeType:st.attributeType,dependentAttributes:[],isSchemaAttribute:!0})),this._updateAttributesDependencies()}_loadDependentDataForCreate(Y){return this.getSchema().pipe((0,I.map)(O=>O.attributes.filter(st=>st.dataValueType===t.r.Lookup).filter(st=>st.name in Y).map(st=>st.name)),(0,I.switchMap)(O=>{if(O.length===0)return(0,x.of)([]);const st=O.map(gt=>this.reloadDependentData(gt,Y[gt]));return(0,x.forkJoin)(st)}),(0,I.map)(O=>{let st={};return O.forEach(gt=>{st={...st,...gt[0]||{}}}),{...st,...Y}}))}_getDependentAttributesInfo(Y){return this.getSchema().pipe((0,I.map)(O=>Y.map(st=>{const gt=O.findAttributeByName(st),ct=gt?.path??st,nt=gt?.name??st,Q=gt?.aggregationConfig??null,q=gt?.dataValueType??null,lt=gt?.attributeType??null,c=ct.split(".");c.shift();const Tt=c.length===1?c[0]:nt;let Nt;return lt===l.D.AggregationAttribute?Nt=l.D.AggregationAttribute:Nt=c.length===1?l.D.OwnAttribute:l.D.ForwardReferenceAttribute,{alias:Tt,attributeName:nt,config:{path:c.join("."),aggregationConfig:Q,dataValueType:q,type:Nt},type:Nt}})))}_markAsPristine(){this._selfDirty$.next(!1)}_onBeforeLoad(Y,O){return this._lifecycleHookNotificationService?.onBeforeLoad?(0,x.from)(this._lifecycleHookNotificationService.onBeforeLoad({model:this,payload:{attributes:Y?.attributes,options:Y?.options,parameters:Y?.parameters},previousPayload:{attributes:O?.attributes,options:O?.options,parameters:O?.parameters}})).pipe((0,I.map)(st=>{if(st===!1)throw Error('Loading is disallowed by a "OnBeforeLoad" model lifecycle event')})):(0,x.of)(void 0)}_onAfterLoad(Y,O){return this._lifecycleHookNotificationService?.onAfterLoad?(0,x.from)(this._lifecycleHookNotificationService.onAfterLoad({model:this,payload:{attributes:Y?.attributes,options:Y?.options,parameters:Y?.parameters},previousPayload:{attributes:O?.attributes,options:O?.options,parameters:O?.parameters}})):(0,x.of)(void 0)}_onBeforeInsert(Y){return this._lifecycleHookNotificationService?.onBeforeInsert?this.getSchema().pipe((0,I.map)(O=>L.getModelPrimaryAttributeValues(O,[Y])),(0,I.map)(O=>O.pop()),(0,I.switchMap)(O=>this._lifecycleHookNotificationService.onBeforeInsert({model:this,payload:{data:Y,primaryAttributesValues:O}})),(0,I.map)(O=>{if(O===!1)throw Error('Inserting is disallowed by a "OnBeforeInsert" model lifecycle event')})):(0,x.of)(void 0)}_insert(Y,O){return O(Y).pipe((0,I.map)(st=>this._mapInsertResult(st)),(0,I.tap)(()=>this._persistedState={}),(0,I.tap)(()=>this._markAsPristine()),(0,I.tap)(()=>this._markForNotCollection(w.b.Update)),(0,y.BB)(()=>this.getSchema()),(0,I.tap)(([,st])=>{this._registerPrimaryAttributeValues(L.getModelPrimaryAttributeValues(st,[Y]))}),(0,I.map)(([st])=>st),(0,y.hk)(({data:st,actionType:gt})=>this._notifyDataChange(st,gt)),(0,I.map)(({result:st})=>st))}_onAfterInsert(Y){return this._lifecycleHookNotificationService?.onAfterInsert?(0,x.from)(this._lifecycleHookNotificationService.onAfterInsert({model:this,payload:{data:Y}})):(0,x.of)(void 0)}_onBeforeUpdate(Y,O){return this._lifecycleHookNotificationService?.onBeforeUpdate?(0,x.from)(this._lifecycleHookNotificationService.onBeforeUpdate({model:this,payload:{data:Y,parameters:O}})).pipe((0,I.map)(st=>{if(st===!1)throw Error('Updating is disallowed by a "OnBeforeUpdate" model lifecycle event')})):(0,x.of)(void 0)}_update(Y,O,st){return st(O,Y).pipe((0,I.mergeMap)(gt=>this._mapSaveResult(gt,Y,O)),(0,y.hk)(()=>this._notifyEventByParameters(O,A.M.Update)),(0,I.map)(({result:gt})=>gt),(0,I.tap)(()=>this.setLoadedState()))}_onAfterUpdate(Y,O){return this._lifecycleHookNotificationService?.onAfterUpdate?(0,x.from)(this._lifecycleHookNotificationService.onAfterUpdate({model:this,payload:{data:Y,parameters:O}})):(0,x.of)(void 0)}_onBeforeDelete(Y){return this._lifecycleHookNotificationService?.onBeforeDelete?(0,x.from)(this._lifecycleHookNotificationService.onBeforeDelete({model:this,payload:{parameters:Y}})).pipe((0,I.map)(O=>{if(O===!1)throw Error('Deleting is disallowed by a "OnBeforeDelete" model lifecycle event')})):(0,x.of)(void 0)}_delete(Y,O){return O(Y).pipe((0,I.tap)(()=>this._markAsPristine()),(0,I.tap)(()=>this._markForNotCollection(w.b.Init)),(0,y.hk)(()=>this._notifyEventByParameters(Y,A.M.Delete)))}_onAfterDelete(Y){return this._lifecycleHookNotificationService?.onAfterDelete?(0,x.from)(this._lifecycleHookNotificationService.onAfterDelete({model:this,payload:{parameters:Y}})):(0,x.of)(void 0)}innerInsert(Y,O){const gt=this.getSchema().pipe((0,I.map)(ct=>({dataSchema:ct,data:{...this._persistedState??{},...O}})),(0,I.map)(({data:ct,dataSchema:nt})=>L.getOwnColumnsValues(nt,ct))).pipe((0,y.pR)(ct=>this._onBeforeInsert(ct)),(0,y.DH)(ct=>this._insert(ct,Y)),(0,y.pR)(([ct])=>this._onAfterInsert(ct)),(0,I.map)(([,ct])=>ct),(0,I.tap)(()=>{this._isLoaded=!0}),(0,I.catchError)(ct=>(0,x.of)(tt(ct))));return(0,x.iif)(()=>!this._doNotAllowCancelRequest,gt.pipe((0,I.takeUntil)(this._destroyed$)),gt)}innerUpdate(Y,O,st){const ct=this.getSchema().pipe((0,I.map)(nt=>L.getOwnColumnsValues(nt,O)),(0,I.map)(nt=>this._getChangedAttributesValues(nt))).pipe((0,y.pR)(nt=>this._onBeforeUpdate(nt,st)),(0,y.DH)(nt=>this._update(nt,st,Y)),(0,y.pR)(([nt])=>this._onAfterUpdate(nt,st)),(0,I.map)(([,nt])=>nt),(0,I.catchError)(nt=>(0,x.of)(tt(nt))));return(0,x.iif)(()=>!this._doNotAllowCancelRequest,ct.pipe((0,I.takeUntil)(this._destroyed$)),ct)}innerDelete(Y,O){return this._onBeforeDelete(O).pipe((0,I.switchMap)(()=>this._delete(O,Y)),(0,y.pR)(()=>this._onAfterDelete(O)),(0,I.catchError)(st=>(0,x.of)(tt(st))))}innerLoad(Y,O){if(this._destroyed)return(0,x.of)([]);this._isLoading=!0;const st=O?.attributes,gt=O?.parameters||[],ct=L.getDataSourceLoadOptions(O?.options),nt=this._load(Y,st,gt,ct).pipe((0,I.tap)(()=>this._isLoading=!1),(0,I.catchError)(Q=>(this._isLoading=!1,(0,x.throwError)(()=>Q))));return(0,x.iif)(()=>!this._doNotAllowCancelRequest,nt.pipe((0,I.takeUntil)(this._destroyed$)),nt)}createChildModel(){return new Z(this.injector,this.dataSource)}init(){return this.getSchema().pipe((0,I.tap)(Y=>this._dataSchemaName=Y.name),(0,I.tap)(Y=>this._buildAttributesMap(Y)),(0,I.map)(()=>this),(0,I.tap)(()=>this._isInitialized=!this.hasCriticalErrors),(0,I.tap)(()=>{this._subscribeChildrenModeChanges(),this._subscribeChildrenDirtyChanges()}),(0,I.take)(1))}getSchema(){if(!this.dataSource)return(0,x.of)(null);if(this.hasCriticalErrors)return(0,x.of)(this.dataSource.getEmptySchema());const Y=this.dataSource.getSchema();return this._measurePerformanceService?Y.pipe(this._measurePerformanceService.measure$(`model.getSchema.${this.name}`)):Y}getDataSource(){return this.dataSource}load(Y){return this.innerLoad((O,st,gt)=>this.dataSource.load(O,st,gt),Y)}updateDependentAttributes(Y){this._attributesMap=this._attributesMap.filter(gt=>gt.isSchemaAttribute);const O=this._attributesMap.map(gt=>gt.name),st=Y.filter(gt=>!O.includes(gt.path)).map(gt=>({name:gt.path,path:gt.path,attributeType:gt.type??l.D.ForwardReferenceAttribute,dependentAttributes:[],isSchemaAttribute:!1}));this._attributesMap.push(...st),this._updateAttributesDependencies()}canReloadDependentData(Y){return this._getDependentAttributesNames([Y]).length!==0}getDependentAttributesNames(Y){return this._getDependentAttributesNames([Y])}reloadDependentData(Y,O){const st=this._getDependentAttributesNames([Y]);if(st.length===0)return(0,x.of)([]);if(O==null)return(0,x.of)([Object.fromEntries(st.map(nt=>[nt,null]))]);const gt=[{type:f.E.PrimaryColumnValue,value:O}],ct=[];return(0,x.forkJoin)([this._getDependentAttributesInfo(st),this.dataSource.getLookupDataSchema(Y)]).pipe((0,I.switchMap)(([nt,Q])=>{const q=nt.filter(c=>c.type!==l.D.OwnAttribute).map(c=>[c.alias,c.config]),lt={type:Q.dataSourceConfig.type,config:{...Q.dataSourceConfig.config,attributes:Object.fromEntries(q)}};return nt.forEach(c=>{ct.push({ownAttributeName:c.attributeName,alias:c.alias})}),this._createDataSource(`${this.name}_reloadData`,Q,lt)}),(0,I.switchMap)(nt=>nt.load([...new Set(ct.map(Q=>Q.alias))],gt,{throttled:!0})),(0,I.map)(nt=>nt.map(Q=>{const q={};return ct.forEach(lt=>{q[lt.ownAttributeName]=Q[lt.alias]}),q})))}create(Y={}){return this._isLoading=!0,this.getSchema().pipe((0,I.map)(O=>L.getOwnColumnsValues(O,Y)),(0,I.switchMap)(O=>(0,x.forkJoin)([(0,x.of)(O),this.dataSource.getDefaultValues()])),(0,I.tap)(()=>this._markForNotCollection(w.b.Create)),(0,I.map)(([O,st])=>(this._persistedState={...st,...O},this._persistedState)),(0,I.switchMap)(O=>this._loadDependentDataForCreate(O)),(0,I.tap)(()=>this._isLoading=!1))}copy(Y,O={}){return this._isLoading=!0,this.getSchema().pipe((0,I.map)(st=>({schema:st,attributes:st.attributes.filter(gt=>gt.attributeType===l.D.OwnAttribute&&gt.isValueCloneable).map(gt=>gt.name),parameters:typeof Y=="string"?[{type:f.E.PrimaryColumnValue,value:Y}]:st.getPrimaryAttributesNames().filter(gt=>Y[gt]).map(gt=>({type:f.E.PrimaryColumnValue,value:{[gt]:Y[gt]}}))})),(0,I.mergeMap)(({schema:st,attributes:gt,parameters:ct})=>this._load((nt,Q,q)=>this.dataSource.load(nt,Q,q),gt,ct,{},w.b.Copy).pipe((0,I.tap)(()=>{this._isLoaded=!1}),(0,I.tap)(nt=>{if(nt.length>1)throw new Error("More than one record loaded for copy");if(nt.length===0)throw new Error("No records loaded for copy")}),(0,I.map)(nt=>L.removeNotRequestedData(gt,{...nt[0]})),(0,I.map)(nt=>{st.getPrimaryAttributesNames().forEach(q=>delete nt[q]);const Q=L.getOwnColumnsValues(st,O);return{...nt,...Q}}),(0,I.switchMap)(nt=>this.dataSource.getDefaultValues().pipe((0,I.map)(Q=>({...Q,...nt})))),(0,I.tap)(nt=>{this._persistedState={...nt}}),(0,I.switchMap)(nt=>this._loadDependentDataForCreate(nt)),(0,I.tap)(()=>{this._isLoaded=!0,this._isLoading=!1}),(0,I.catchError)(nt=>(this._isLoading=!1,this._markForNotCollection(w.b.Update),(0,x.throwError)(()=>new Error(nt)))))))}insert(Y){return this.innerInsert(O=>this.dataSource.insert(O),Y)}update(Y,O){return this.innerUpdate((st,gt)=>this.dataSource.save(st,gt),Y,O)}insertOrUpdate(Y,O){return this._mode===w.b.Update?this.update(Y,O):this.insert(Y)}delete(Y){return this.innerDelete(O=>this.dataSource.delete(O),Y)}setValue(Y){const O=Object.keys(Y);return this._checkAttributesInDataSchema(O).pipe((0,I.tap)(()=>{O.length>0&&(this._dirtyAttributes=new Set([...this._dirtyAttributes,...O]),this._persistedState={...this._persistedState??{},...Y})}),(0,I.map)(()=>null))}_getPersistedState(){return{...this._persistedState??{}}}markFor(Y){this.mode!==Y&&(this._setMode(Y),this._modeChanges.next(Y))}resetMode(){this._mode!==w.b.Init&&(this._mode=w.b.Init,this._modeChanges.next(this._mode))}loadLookupList(Y,O,st={}){if(!this.dataSource)throw Error("DataSource is null");const gt=this.dataSource.getLookupDataSchema(Y).pipe((0,I.switchMap)(ct=>{const nt=ct.getPrimaryLoadAttributes();return this._createDataSource(this._lookupDataSourceName,ct).pipe((0,I.switchMap)(Q=>Q.load(nt,O,st)),(0,I.map)(Q=>({primaryAttributeName:ct.primaryAttributeName,primaryDisplayAttributeName:ct.primaryDisplayAttributeName,data:Q})))}));return(0,x.iif)(()=>!this._doNotAllowCancelRequest,gt.pipe((0,I.takeUntil)(this._destroyed$)),gt)}canDelete(Y){return(0,x.lastValueFrom)(this.dataSource.canDelete(Y),{defaultValue:null})}canSave(Y){switch(this._mode){case w.b.Init:return Promise.resolve({result:!1});case w.b.Create:case w.b.Copy:return(0,x.lastValueFrom)(this.dataSource.canCreate(Y),{defaultValue:null});case w.b.Update:return(0,x.lastValueFrom)(this.dataSource.canEdit(Y),{defaultValue:null});case w.b.Delete:return this.canDelete(Y);default:throw Error(`Unable to verify the possibility of operation executing: the '${this._mode}' is not supported.`)}}attributeChanged(Y,O){O||this._selfDirty$.next(!0),this._dirtyAttributes.add(Y)}setLoadedState(Y=null){if(this._isCollectionModel||!Y){this._dirtyAttributes.clear(),this._markAsPristine();return}Y.forEach(O=>this._dirtyAttributes.delete(O)),this._dirtyAttributes.size||this._markAsPristine()}createCollectionItemModel(Y){const O=this.createChildModel();return O._isCollectionItemModel=!0,O._isLoaded=!0,O._isInitialized=!0,O._persistedState={},O._dataSchemaName=this._dataSchemaName,O._attributesMap=this._attributesMap,Y!=null&&(O._setMode(Y),O._selfDirty$.next(!1)),this._children.push(O),O}childrenChange(){this._children$.next(this._children)}removeChild(Y){const O=Y?._id,st=this._children.findIndex(gt=>gt?._id===O);st!==-1&&this._children.splice(st,1)}_getAsyncResult(Y){return(0,x.firstValueFrom)(Y)}getLastError(){return this.dataSource?this.dataSource.getLastError():new Error("DataSource is null")}destroy(){this._isInitialized=!1,this._destroyed$.next(),this._destroyed$.complete(),this._selfDirty$.complete(),this._children$.complete(),this._childrenDirty$.complete(),this._childrenModes$.complete(),this._destroyed=!0}getOwnLoadParameters(){return this.dataSource.getOwnLoadParameters()}getAllowCopyingRecords(){return this.dataSource.getAllowCopyingRecords()}}(0,p.__decorate)([(0,E.D)({requestType:"crt.ModelGenerator",methodName:"generateOne"}),(0,p.__metadata)("design:type",Function)],Z.prototype,"_create",void 0)},18046:(P,j,o)=>{o.d(j,{f:()=>l});var p=o(59131),g=o.n(p);class l{transform(f){return function(E){const{instance:y,params:w}=f,m={value:E.value};return y.validate(m,w)}}static{this.\u0275fac=function(E){return new(E||l)}}static{this.\u0275prov=p.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac,providedIn:"root"})}}},49159:(P,j,o)=>{o.d(j,{q:()=>t});var p=o(62278),g=o.n(p);const l=window;class t{constructor(){this._event$=new p.Subject}static get instance(){return l.__modelEventNotificationService||(l.__modelEventNotificationService=new t),l.__modelEventNotificationService}get event$(){return this._event$.asObservable()}notify(E){this._event$.next(E)}}},97343:(P,j,o)=>{o.d(j,{OL:()=>w,OP:()=>y,SH:()=>f});var p=o(56711),g=o.n(p),l=o(36486),t=o.n(l);function f(m){Object.values(m.controls||{}).forEach(h=>{h instanceof p.FormGroup||h instanceof p.FormArray?f(h):h.updateValueAndValidity({onlySelf:!0})})}function E(m){m?.markAsPristine(),m?.markAsUntouched(),m?.updateValueAndValidity()}function y(m){return Object.values(m?.errors||{}).map(h=>h?.message).filter(Boolean)}function w(m){return m.statusChanges.pipe((0,l.startWith)(m.status),(0,l.first)(()=>m.status.toLowerCase()!=="pending"),(0,l.map)(()=>{}))}},93396:(P,j,o)=>{o.d(j,{J:()=>g});var p=o(73308);function g(t,f){return l.apply(this,arguments)}function l(){return l=(0,p.A)(function*(t,f){const E=typeof f=="string"?f.split("."):f;let y=E.shift(),w=t;for(;y;)w=yield w[y],y=E.shift();return w}),l.apply(this,arguments)}},14145:(P,j,o)=>{o.d(j,{iR:()=>_,Rz:()=>w,CB:()=>m});var p=o(89100),g=o(22524),l=o(96576),t=o(62278),f=o(36486);const E="DS",y="DYN";function w(x){for(;x?.parent;)x=x.parent;return x}function m(x){return x?.getDataSource()?.scope===p.Z.Page}function h(x){const I=[];return x?._modelsMap.forEach((k,A)=>{m(k)&&I.push(A)}),I}class _{static{this._dataCache=new WeakMap}static _getDataSourceColumns(I){const k={};let A=!1;for(const[F,z]of Object.entries(I.dataSourceConfig.config.attributes)){const N=z.path;k[(0,l.F)(F)]=N,N==="Id"&&(A=!0)}return!A&&I.includePrimaryAttributes!==!1&&(k.Id="Id"),k}static _createAttributesConfigMap(I,k,A,F,z){const N={},T=this.getAttributeDataSourceOldName(I,F);for(const[L]of Object.entries(k)){const U=z.config?.useOriginalAttributesName?`${L}`:`${T}_${L}`,B=z.config.attributes[L],tt={path:`${A}.${L}`,type:B?.type,functionConfig:B?.functionConfig,aggregationConfig:B?.aggregationConfig};N[U]={modelConfig:tt}}return N}static _createAttributePagingConfig(I){return I.pagingConfig||{rowCount:30}}static _createAttributeSortingConfig(I){return I.sortingConfig||{attributeName:I.attributeName+"Sorting"}}static _createAttributeFiltersConfig(I){return I.filtersConfig?.map(k=>{const A={...k};return delete A.value,A})||[]}static _getDataSourceNameForDynamicModel(I,k){return I.getBoundDataSourceNameByAttributePath(k)||this._getAttributeDataSourceDefaultName(k)}static _getDynamicDataSourceNamePrefix(){return`${y}_`}static _isDynamicDataSourceName(I){return I.startsWith(this._getDynamicDataSourceNamePrefix())}static _getAttributeDataSourceDefaultName(I){return`${I}${E}`}static _getLoadData(I,k,A,F){let z;return this._dataCache.has(I)?z=this._dataCache.get(I):(z=k.load(A,[]).pipe((0,f.share)(),(0,f.tap)(()=>this._dataCache.delete(I))),this._dataCache.set(I,z)),(0,t.lastValueFrom)(z.pipe((0,t.map)(()=>F())),{defaultValue:null})}static createAttributeConfig(I,k,A){const F=A.attributeName,z=A.dataSourceConfig,N=this._getDataSourceColumns(A),T=this._createAttributesConfigMap(I,N,k,F,z),L=this._createAttributePagingConfig(A),U=this._createAttributeSortingConfig(A),B=this._createAttributeFiltersConfig(A);return{isCollection:!0,modelConfig:{path:k,pagingConfig:L,sortingConfig:U,filterAttributes:B},viewModelConfig:{attributes:T}}}static getAttributeDataSourceOldName(I,k){let A=this._getDataSourceNameForDynamicModel(I,k);return(!A||this._isDynamicDataSourceName(A))&&(A=this._getAttributeDataSourceDefaultName(k)),A}static createDynamicDataSourceNameFromAttributeName(I,k){const A=this._getDynamicDataSourceNamePrefix(),F=this._getDataSourceNameForDynamicModel(I,k);return this._isDynamicDataSourceName(F)?F:`${A}${F}`}static defineAsyncAttribute(I,k,A,F,z){const N=A.modelConfig?.path?.split(".")[0],T=I.getModelByName(N),L="isLookup"in A&&A.isLookup,U="isCollection"in A&&A.isCollection;Object.defineProperty(I,k,{get:()=>T&&U&&!L&&!T?.isLoaded?this._getLoadData(T,I,N,F):Promise.resolve(F()),set:z,configurable:!0})}static deferUpdatingValueAndValidity(I,k,A){if(A?.["ViewModel.DontDeferUpdatingValueAndValidity"])return k();const F=I.formApiModel.updateValueAndValidity;if(F.callbackCount)F.callbackCount++;else{const T=(0,g.S)();T.callbackCount=1,T.originalFn=F.bind(I.formApiModel),I.formApiModel.updateValueAndValidity=T}const z=k(),N=()=>{const T=I.formApiModel.updateValueAndValidity;T.callbackCount===1?(I.formApiModel.updateValueAndValidity=T.originalFn,I.formApiModel.updateValueAndValidity()):T.callbackCount--};return z instanceof Promise?z.finally(N):z.pipe((0,f.finalize)(N))}}},95339:(P,j,o)=>{P.exports=o.p+"99af558b05eb0620cb099d8c76e6fec7.png"},95063:P=>{P.exports=`<svg width="56" height="51" viewBox="0 0 56 51" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M52.401 48.6233C52.008 49.0263 51.36 49.0256 50.9678 48.6218L40.2231 37.5595C39.8456 37.1709 39.8463 36.5523 40.2245 36.1645L41.7488 34.6018C42.1418 34.1989 42.7898 34.1995 43.182 34.6033L53.9267 45.6656C54.3042 46.0543 54.3036 46.6728 53.9253 47.0606L52.401 48.6233Z" stroke="currentColor" stroke-width="2"/>
	<circle cx="25.386" cy="21.386" r="20.386" stroke="currentColor" stroke-width="2"/>
	<path fill-rule="evenodd" clip-rule="evenodd" d="M45.0652 13H46V12V7V6H45H40.2397C40.5739 6.32273 40.8976 6.65625 41.2103 7H45V12H44.6076C44.7684 12.3287 44.921 12.6621 45.0652 13ZM5.28475 14.0682C5.02991 14.0234 4.76769 14 4.5 14C2.01472 14 0 16.0147 0 18.5C0 20.8363 1.78038 22.7567 4.05841 22.9786C4.0337 22.643 4.01674 22.3053 4.0077 21.9656C2.3078 21.7264 1 20.2659 1 18.5C1 16.567 2.567 15 4.5 15C4.65605 15 4.80971 15.0102 4.96036 15.03C5.06106 14.706 5.16926 14.3854 5.28475 14.0682Z" fill="currentColor"/>
	<mask id="path-4-inside-1_15152_1853" fill="white">
		<path fill-rule="evenodd" clip-rule="evenodd" d="M46.088 16H37H36V15V4V3H36.3156C36.8393 3.31201 37.3486 3.64575 37.8422 4H37V15H45.8022C45.9053 15.33 46.0006 15.6634 46.088 16ZM5.03754 27.985C10.0342 27.7063 14 23.5663 14 18.5C14 14.3366 11.3218 10.7988 7.59429 9.51532C7.40334 9.80095 7.21908 10.0914 7.04175 10.3865C10.4945 11.4671 13 14.691 13 18.5C13 23.113 9.32534 26.8677 4.74355 26.9966C4.83378 27.3294 4.93185 27.6589 5.03754 27.985Z"/>
	</mask>
	<path fill-rule="evenodd" clip-rule="evenodd" d="M46.088 16H37H36V15V4V3H36.3156C36.8393 3.31201 37.3486 3.64575 37.8422 4H37V15H45.8022C45.9053 15.33 46.0006 15.6634 46.088 16ZM5.03754 27.985C10.0342 27.7063 14 23.5663 14 18.5C14 14.3366 11.3218 10.7988 7.59429 9.51532C7.40334 9.80095 7.21908 10.0914 7.04175 10.3865C10.4945 11.4671 13 14.691 13 18.5C13 23.113 9.32534 26.8677 4.74355 26.9966C4.83378 27.3294 4.93185 27.6589 5.03754 27.985Z" fill="currentColor"/>
	<path d="M46.088 16V18H48.673L48.0239 15.4978L46.088 16ZM36 16H34V18H36V16ZM36 3V1H34V3H36ZM36.3156 3L37.3392 1.28179L36.8662 1H36.3156V3ZM37.8422 4V6H44.0588L39.0084 2.37518L37.8422 4ZM37 4V2H35V4H37ZM37 15H35V17H37V15ZM45.8022 15L47.7112 14.4035L47.2727 13H45.8022V15ZM5.03754 27.985L3.13495 28.6016L3.61009 30.0678L5.14892 29.9819L5.03754 27.985ZM7.59429 9.51532L8.24542 7.62428L6.78818 7.12251L5.93162 8.40378L7.59429 9.51532ZM7.04175 10.3865L5.32744 9.35642L4.01782 11.5358L6.4444 12.2953L7.04175 10.3865ZM4.74355 26.9966L4.6873 24.9974L2.14861 25.0688L2.81325 27.52L4.74355 26.9966ZM46.088 14H37V18H46.088V14ZM37 14H36V18H37V14ZM38 16V15H34V16H38ZM38 15V4H34V15H38ZM38 4V3H34V4H38ZM36 5H36.3156V1H36V5ZM35.292 4.71821C35.7667 5.00102 36.2285 5.3036 36.676 5.62482L39.0084 2.37518C38.4688 1.98791 37.9119 1.62299 37.3392 1.28179L35.292 4.71821ZM37 6H37.8422V2H37V6ZM39 15V4H35V15H39ZM45.8022 13H37V17H45.8022V13ZM43.8932 15.5965C43.9866 15.8954 44.073 16.1973 44.1521 16.5022L48.0239 15.4978C47.9283 15.1294 47.824 14.7646 47.7112 14.4035L43.8932 15.5965ZM12 18.5C12 22.499 8.86909 25.7682 4.92615 25.9881L5.14892 29.9819C11.1992 29.6445 16 24.6336 16 18.5H12ZM6.94315 11.4064C9.88844 12.4205 12 15.2162 12 18.5H16C16 13.457 12.7552 9.17712 8.24542 7.62428L6.94315 11.4064ZM8.75605 11.4167C8.91679 11.1492 9.08383 10.8858 9.25696 10.6269L5.93162 8.40378C5.72284 8.71607 5.52137 9.03369 5.32744 9.35642L8.75605 11.4167ZM6.4444 12.2953C9.08657 13.1221 11 15.5902 11 18.5H15C15 13.7917 11.9025 9.8121 7.63909 8.47783L6.4444 12.2953ZM11 18.5C11 22.0272 8.18992 24.8988 4.6873 24.9974L4.79979 28.9958C10.4608 28.8365 15 24.1987 15 18.5H11ZM6.94012 27.3685C6.8444 27.0731 6.75557 26.7746 6.67384 26.4732L2.81325 27.52C2.91199 27.8841 3.0193 28.2448 3.13495 28.6016L6.94012 27.3685Z" fill="currentColor" mask="url(#path-4-inside-1_15152_1853)"/>
	<path d="M12.25 44.3349L16 46.5L12.25 48.6651L12.25 44.3349Z" stroke="currentColor"/>
</svg>
`},26242:P=>{P.exports=`<svg id="Group_7" data-name="Group 7" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
	<rect id="Rectangle_7" data-name="Rectangle 7" width="24" height="24" fill="none"/>
	<line id="Line_5" data-name="Line 5" y1="10" x2="10" transform="translate(7 7)" fill="none" stroke="#ffff" stroke-miterlimit="10" stroke-width="1"/>
	<line id="Line_6" data-name="Line 6" x2="10" y2="10" transform="translate(7 7)" fill="none" stroke="#ffff" stroke-miterlimit="10" stroke-width="1"/>
</svg>
`},92825:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M13.1592 7.99998C13.1592 5.15064 10.8494 2.84079 8.00004 2.84079C5.1507 2.84079 2.84085 5.15064 2.84085 7.99998C2.84085 10.8493 5.1507 13.1592 8.00004 13.1592C10.8494 13.1592 13.1592 10.8493 13.1592 7.99998ZM8.00004 1.50079C11.5894 1.50079 14.4992 4.41058 14.4992 7.99998C14.4992 11.5894 11.5894 14.4992 8.00004 14.4992C4.41064 14.4992 1.50085 11.5894 1.50085 7.99998C1.50085 4.41058 4.41064 1.50079 8.00004 1.50079ZM7.16167 5.39671C7.16167 4.93555 7.53551 4.56171 7.99667 4.56171H8.00333C8.46449 4.56171 8.83833 4.93555 8.83833 5.39671C8.83833 5.85786 8.46449 6.23171 8.00333 6.23171H7.99667C7.53551 6.23171 7.16167 5.85786 7.16167 5.39671ZM7.99979 6.95437C8.46095 6.95477 8.83447 7.32893 8.83407 7.79009L8.83163 10.6063C8.83123 11.0674 8.45706 11.4409 7.9959 11.4405C7.53475 11.4401 7.16123 11.066 7.16163 10.6048L7.16407 7.78864C7.16447 7.32749 7.53864 6.95397 7.99979 6.95437Z" fill="currentColor"/>
</svg>
`},90651:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22" enable-background="new 0 0 22 22" fit="" height="100%" width="100%" preserveAspectRatio="xMidYMid meet" focusable="false"><circle cx="11" cy="11" r="9.5" fill="none" stroke="#22AC14" stroke-miterlimit="10" class="circle"></circle><g xmlns="http://www.w3.org/2000/svg" class="content" fill="#22AC14"><path d="m10 9h2v7h-2v-7"></path><path d="M10,6h2v2h-2V7"></path></g></svg>'},46844:P=>{P.exports=`<svg width="14" height="13" viewBox="0 0 14 13" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4.74997 1.34375H13.75V2.28125H4.74997V1.34375ZM4.74997 6.03125H13.75V6.96875H4.74997V6.03125ZM4.74997 10.7188H13.75V11.6562H4.74997V10.7188ZM2.74997 3.6875V0.171875H0.816077V1.10938H1.74997V3.6875H2.74997ZM0.790527 6.67903V8.14062H3.3159V7.16581H1.868L3.24044 6.51803V4.625H0.790527V5.5625H2.24997V5.97591L0.790527 6.67903ZM0.790527 11.8906V12.8281H3.24044V9.07812H0.790527V10.0156H2.24997V10.4844H1.49997V11.4219H2.24997V11.8906H0.790527Z" fill="#0D2E4E"/>
</svg>
`},96323:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16.024" viewBox="0 0 16 16.024"><defs><style>.structure-explorer-binary-icon-unique-class-a{fill:none;}.structure-explorer-binary-icon-unique-class-b{fill:#54657d;}</style></defs><g transform="translate(0 0)"><rect class="structure-explorer-binary-icon-unique-class-a" width="16" height="16" transform="translate(0 0)"/><path class="structure-explorer-binary-icon-unique-class-b" d="M881.587-85.337c0,2.3-.838,3.573-2.306,3.573-1.3,0-2.173-1.24-2.194-3.479,0-2.272.959-3.521,2.307-3.521C880.791-88.764,881.587-87.493,881.587-85.337Zm-3.6.1c0,1.761.531,2.761,1.347,2.761.918,0,1.357-1.093,1.357-2.822,0-1.667-.419-2.761-1.347-2.761C878.557-88.055,877.985-87.077,877.985-85.233Z" transform="translate(-871.088 88.764)"/><path class="structure-explorer-binary-icon-unique-class-b" d="M881.587-85.337c0,2.3-.838,3.573-2.306,3.573-1.3,0-2.173-1.24-2.194-3.479,0-2.272.959-3.521,2.307-3.521C880.791-88.764,881.587-87.493,881.587-85.337Zm-3.6.1c0,1.761.531,2.761,1.347,2.761.918,0,1.357-1.093,1.357-2.822,0-1.667-.419-2.761-1.347-2.761C878.557-88.055,877.985-87.077,877.985-85.233Z" transform="translate(-876.088 97.764)"/><path class="structure-explorer-binary-icon-unique-class-b" d="M874.186-87.884h-.023l-1.355.657-.2-.718,1.7-.819h.9v7h-1.019Z" transform="translate(-871.607 88.764)"/><path class="structure-explorer-binary-icon-unique-class-b" d="M884.332-87.884h-.024l-1.355.657-.2-.718,1.7-.819h.9v7h-1.019Z" transform="translate(-870.754 88.764)"/><path class="structure-explorer-binary-icon-unique-class-b" d="M884.332-87.884h-.024l-1.355.657-.2-.718,1.7-.819h.9v7h-1.019Z" transform="translate(-875.754 97.764)"/><path class="structure-explorer-binary-icon-unique-class-b" d="M884.332-79.907h-.024l-1.355.657-.2-.718,1.7-.819h.9v7h-1.019Z" transform="translate(-870.754 89.811)"/></g></svg>'},86174:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-boolean-icon-unique-class-a,.structure-explorer-boolean-icon-unique-class-b{fill:none;}.structure-explorer-boolean-icon-unique-class-a{stroke:#54657d;stroke-miterlimit:10;}</style></defs><g transform="translate(-586.213 93.047)"><path class="structure-explorer-boolean-icon-unique-class-a" d="M591.213-85.547l2.5,2,6.5-7.5"/><path class="structure-explorer-boolean-icon-unique-class-a" d="M1626.707,39.564a6.5,6.5,0,1,1-6.1-4.263" transform="translate(-1026.389 -126.848)"/></g><rect class="structure-explorer-boolean-icon-unique-class-b" width="16" height="16"/></svg>'},70313:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M8.456.779c2.084.007 2.813.35 4.468 1.861l-1.875 2.424-2.95-1.229Z" fill="#0d2e4e" opacity=".8"/><path d="M7.467 15.445c-2.083-.006-2.813-.35-4.467-1.861l1.875-2.424 2.949 1.229Z" fill="#0d2e4e" opacity=".4"/><path d="M15.5 8.331c-.064 2.22-.431 3.006-2 4.809l-2.4-1.931 1.322-3.175Z" fill="#0d2e4e" opacity=".6"/><path d="M.629 7.618c.006-2.084.35-2.814 1.86-4.468l2.425 1.875-1.229 2.949Z" fill="#0d2e4e" opacity=".2"/><path d="M13.409 3.076c1.5 1.443 1.8 2.195 1.949 4.431l-3.03.46-1.286-2.925Z" fill="#0d2e4e" opacity=".8"/><path d="M2.574 13.009c-1.5-1.443-1.795-2.195-1.948-4.43l3.029-.46 1.287 2.925Z" fill="#0d2e4e" opacity=".4"/><path d="M13.293 13.403c-1.578 1.562-2.386 1.878-4.769 2.1l-.4-3.055 3.149-1.384Z" fill="#0d2e4e" opacity=".6"/><path d="M3.026 2.622C4.468 1.122 5.22.828 7.455.674l.461 3.03L4.99 4.99Z" fill="#0d2e4e" opacity=".2"/><g transform="translate(-798.326 92.909)" fill="none"><path d="M798.326-92.909h16v16h-16z"/><circle cx="7.5" cy="7.5" r="7.5" transform="translate(798.826 -92.409)" stroke="#162e4c"/><circle cx="4" cy="4" r="4" transform="translate(802.326 -88.909)" stroke="#162e4c"/><g stroke="#162e4c"><path d="M806.326-81.1v3.686"/><path d="M806.326-89.023v-3.386"/><path d="M802.511-84.909h-3.685"/><path d="M813.826-84.909h-3.387"/><path d="m803.416-87.817-2.394-2.395"/><path d="m811.628-79.605-2.189-2.189"/><path d="m803.211-81.795-2.189 2.189"/><path d="m811.629-90.213-2.4 2.395"/></g></g></svg>
`},5254:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-date-icon-unique-class-a,.structure-explorer-date-icon-unique-class-b{fill:none;}.structure-explorer-date-icon-unique-class-a{stroke:#54657d;stroke-miterlimit:10;}.structure-explorer-date-icon-unique-class-c{stroke:none;}</style></defs><g transform="translate(0.5)"><g transform="translate(2365.657 64.642)"><line class="structure-explorer-date-icon-unique-class-a" x2="5.938" transform="translate(-2361.157 -62.142)"/><path class="structure-explorer-date-icon-unique-class-a" d="M-2353.157-61.732h2.5v12h-15v-12h2.563" transform="translate(0 -0.41)"/><line class="structure-explorer-date-icon-unique-class-a" x2="15" transform="translate(-2365.657 -58.142)"/><g class="structure-explorer-date-icon-unique-class-a" transform="translate(-2364.157 -64.642)"><rect class="structure-explorer-date-icon-unique-class-c" width="3" height="5"/><rect class="structure-explorer-date-icon-unique-class-b" x="0.5" y="0.5" width="2" height="4"/></g><g class="structure-explorer-date-icon-unique-class-a" transform="translate(-2355.157 -64.642)"><rect class="structure-explorer-date-icon-unique-class-c" width="3" height="5"/><rect class="structure-explorer-date-icon-unique-class-b" x="0.5" y="0.5" width="2" height="4"/></g></g></g><rect class="structure-explorer-date-icon-unique-class-b" width="16" height="16"/></svg>'},88552:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-date-time-icon-unique-class-a,.structure-explorer-date-time-icon-unique-class-b,.structure-explorer-date-time-icon-unique-class-c,.structure-explorer-date-time-icon-unique-class-d{fill:none;}.structure-explorer-date-time-icon-unique-class-b,.structure-explorer-date-time-icon-unique-class-c{stroke:#54657d;}.structure-explorer-date-time-icon-unique-class-b,.structure-explorer-date-time-icon-unique-class-d{stroke-miterlimit:10;}.structure-explorer-date-time-icon-unique-class-e,.structure-explorer-date-time-icon-unique-class-f{stroke:none;}.structure-explorer-date-time-icon-unique-class-f{fill:#54657d;}</style></defs><rect class="structure-explorer-date-time-icon-unique-class-a" width="16" height="16"/><path class="structure-explorer-date-time-icon-unique-class-b" d="M1895.033,260.278h-4.149v-9h12v2" transform="translate(-1890.384 -248.778)"/><path class="structure-explorer-date-time-icon-unique-class-c" d="M0,0H4.5" transform="translate(1 5.5)"/><g transform="translate(4.5)"><line class="structure-explorer-date-time-icon-unique-class-b" y2="4" transform="translate(-1 0)"/><line class="structure-explorer-date-time-icon-unique-class-b" y2="4" transform="translate(5 0)"/></g><g class="structure-explorer-date-time-icon-unique-class-d" transform="translate(-1889.764 -248.583)"><path class="structure-explorer-date-time-icon-unique-class-e" d="M1905.764,258.584a5,5,0,1,1-5-5A5,5,0,0,1,1905.764,258.584Z"/><path class="structure-explorer-date-time-icon-unique-class-f" d="M 1900.7626953125 262.5840454101563 C 1902.968994140625 262.5840454101563 1904.763916015625 260.7896728515625 1904.763916015625 258.5840759277344 C 1904.763916015625 256.3778686523438 1902.968994140625 254.5829772949219 1900.7626953125 254.5829772949219 C 1898.557739257813 254.5829772949219 1896.763916015625 256.3778686523438 1896.763916015625 258.5840759277344 C 1896.763916015625 260.7896728515625 1898.557739257813 262.5840454101563 1900.7626953125 262.5840454101563 M 1900.7626953125 263.5840454101563 C 1898.000244140625 263.5840454101563 1895.763916015625 261.3454284667969 1895.763916015625 258.5840759277344 C 1895.763916015625 255.8215942382813 1898.000244140625 253.5829772949219 1900.7626953125 253.5829772949219 C 1903.524169921875 253.5829772949219 1905.763916015625 255.8215942382813 1905.763916015625 258.5840759277344 C 1905.763916015625 261.3454284667969 1903.524169921875 263.5840454101563 1900.7626953125 263.5840454101563 Z"/></g><path class="structure-explorer-date-time-icon-unique-class-b" d="M1900.1,254.194v5h2.5" transform="translate(-1889.097 -248.694)"/></svg>'},26538:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="2" y="3.5" width="12" height="9" stroke="currentColor"/>
<path d="M14 3.5L8 9L2 3.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},87232:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-float-icon-unique-class-a{fill:#54657d;}.structure-explorer-float-icon-unique-class-b{fill:none;}</style></defs><g transform="translate(2212.813 -42.785)"><path class="structure-explorer-float-icon-unique-class-a" d="M-2210.728,47.87h-.024l-1.355.732-.2-.8,1.7-.911h.9v7.795h-1.019Z" transform="translate(1)"/><path class="structure-explorer-float-icon-unique-class-a" d="M-2207.943,54.682v-.647l.828-.8c1.99-1.9,2.891-2.9,2.9-4.077a1.391,1.391,0,0,0-1.547-1.524,2.659,2.659,0,0,0-1.656.66l-.336-.744a3.431,3.431,0,0,1,2.207-.791,2.193,2.193,0,0,1,2.387,2.266c0,1.44-1.043,2.6-2.686,4.186l-.624.576v.024h3.5v.875Z" transform="translate(4 0.03)"/><rect class="structure-explorer-float-icon-unique-class-a" width="1" height="1" transform="translate(-2206.813 53.785)"/></g><rect class="structure-explorer-float-icon-unique-class-b" width="16" height="16"/></svg>'},31242:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path fill="#0d2e4e" d="m8.446 5.548-.131.483h-1.07l-.8 3.2a19.171 19.171 0 0 1-1.077 3.274 5.653 5.653 0 0 1-1.655 2.255 2.323 2.323 0 0 1-1.348.476 1.106 1.106 0 0 1-.747-.263.581.581 0 0 1-.227-.476.534.534 0 0 1 .187-.407.648.648 0 0 1 .457-.172.477.477 0 0 1 .334.125.378.378 0 0 1 .135.285.4.4 0 0 1-.154.3q-.117.1-.117.153a.12.12 0 0 0 .051.1.336.336 0 0 0 .2.051 1.345 1.345 0 0 0 .663-.2 1.9 1.9 0 0 0 .619-.589 4.487 4.487 0 0 0 .513-1.132q.1-.308.549-2.029l1.275-4.958H4.828l.1-.483a2.888 2.888 0 0 0 .849-.085 1.024 1.024 0 0 0 .443-.322 4.834 4.834 0 0 0 .524-.89 7.189 7.189 0 0 1 .828-1.362 4 4 0 0 1 1.138-.978 2.365 2.365 0 0 1 1.125-.326 1.346 1.346 0 0 1 .893.282.8.8 0 0 1 .337.612.6.6 0 0 1-.168.432.571.571 0 0 1-.432.176.522.522 0 0 1-.37-.132.415.415 0 0 1-.143-.315.633.633 0 0 1 .095-.289.647.647 0 0 0 .1-.231.185.185 0 0 0-.066-.154.453.453 0 0 0-.279-.073 1.29 1.29 0 0 0-.828.293 3.3 3.3 0 0 0-.878 1.216q-.2.432-.725 2.146Z" data-name="Path 7000"/><path fill="#0d2e4e" d="M10.768 5.372a3.082 3.082 0 0 1 .542.761 10.154 10.154 0 0 1 .432 1.385l.645-.967a4.078 4.078 0 0 1 .622-.67 2.522 2.522 0 0 1 .645-.436.992.992 0 0 1 .388-.073.724.724 0 0 1 .5.168.532.532 0 0 1 .186.41.515.515 0 0 1-.109.381.685.685 0 0 1-.469.183.944.944 0 0 1-.33-.066 1.836 1.836 0 0 0-.461-.117.708.708 0 0 0-.418.205 5.842 5.842 0 0 0-1.084 1.472l.6 2.52a2.242 2.242 0 0 0 .234.692.261.261 0 0 0 .191.114.61.61 0 0 0 .359-.169 2.856 2.856 0 0 0 .688-.879l.256.132a4.589 4.589 0 0 1-1.171 1.436 1.192 1.192 0 0 1-.682.322.728.728 0 0 1-.651-.461 17.972 17.972 0 0 1-.638-2.461 10.388 10.388 0 0 1-1.831 2.556 1.382 1.382 0 0 1-.864.366.8.8 0 0 1-.535-.212.56.56 0 0 1-.175-.433.542.542 0 0 1 .161-.4.535.535 0 0 1 .4-.162.778.778 0 0 1 .5.235.543.543 0 0 0 .293.168.4.4 0 0 0 .227-.117 5.539 5.539 0 0 0 .938-1.2 11.879 11.879 0 0 0 .776-1.333q-.454-1.78-.491-1.882a1.369 1.369 0 0 0-.439-.674 1.346 1.346 0 0 0-.8-.2c-.113 0-.242.005-.389.015v-.264Z"/><path fill="none" d="M0 0h16v16H0z"/></svg>'},62907:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-guid-icon-unique-class-a{fill:none;}.structure-explorer-guid-icon-unique-class-b{fill:#54657d;}</style></defs><rect class="structure-explorer-guid-icon-unique-class-a" width="16" height="16"/><path class="structure-explorer-guid-icon-unique-class-b" d="M4.252-2.767h-2v1h1V-.5c-.016.018.177,0-.252,0A1.724,1.724,0,0,1,1.172-2.253,1.727,1.727,0,0,1,3-4.03a3.445,3.445,0,0,1,1.252.216l.013-.729A3.252,3.252,0,0,0,3-4.767,2.5,2.5,0,0,0,.252-2.253,2.45,2.45,0,0,0,.96-.439,2.675,2.675,0,0,0,2.857.2,4.082,4.082,0,0,0,4.252,0Zm1-2v2.919A1.86,1.86,0,0,0,7.232.233a1.869,1.869,0,0,0,2.02-2.081V-4.767h-1v2.919C8.252-.771,7.685-.5,7.232-.5c-.358,0-.98-.253-.98-1.344V-4.767Zm5,0v5h1v-5Zm2,4.964c.016.02.559,0,1.026,0a3.21,3.21,0,0,0,2.244-.7,2.518,2.518,0,0,0,.73-1.893,2.2,2.2,0,0,0-.715-1.749,2.987,2.987,0,0,0-2.056-.607c-.52,0-1.229-.032-1.229-.015Zm1-4.227c.173-.036-.11,0,.229,0,1.385,0,1.871.8,1.871,1.633A1.773,1.773,0,0,1,13.393-.5c-.256,0,.025.029-.141,0Z" transform="translate(-0.252 9.768)"/></svg>'},91627:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-image-icon-unique-class-a,.structure-explorer-image-icon-unique-class-c{fill:none;}.structure-explorer-image-icon-unique-class-a{stroke:#54657d;stroke-miterlimit:10;}.structure-explorer-image-icon-unique-class-b{fill:#54657d;}.structure-explorer-image-icon-unique-class-d{stroke:none;}</style></defs><g class="structure-explorer-image-icon-unique-class-a" transform="translate(0 2)"><rect class="structure-explorer-image-icon-unique-class-d" width="16" height="12"/><rect class="structure-explorer-image-icon-unique-class-c" x="0.5" y="0.5" width="15" height="11"/></g><circle class="structure-explorer-image-icon-unique-class-b" cx="1.5" cy="1.5" r="1.5" transform="translate(10 4)"/><path class="structure-explorer-image-icon-unique-class-b" d="M638.873-81.425l4-6,7,8h-11Z" transform="translate(-637.873 92.426)"/><path class="structure-explorer-image-icon-unique-class-b" d="M650.873-79.425l-2-3,2-1,2,2v2Z" transform="translate(-637.873 92.426)"/><rect class="structure-explorer-image-icon-unique-class-c" width="16" height="16"/></svg>'},39378:P=>{P.exports=`<svg width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2 12.0906V14.0081H16V4.00806H12.7424" stroke="currentColor" stroke-miterlimit="10"/>
<path d="M12.5 9.00806C13.3284 9.00806 14 8.33648 14 7.50806C14 6.67963 13.3284 6.00806 12.5 6.00806C11.6716 6.00806 11 6.67963 11 7.50806C11 8.33648 11.6716 9.00806 12.5 9.00806Z" fill="currentColor"/>
<path d="M3.99998 14.0081L4.89526 12.8143L8.5414 8.25662L14.2928 14.0081H3.99998Z" stroke="currentColor"/>
<path d="M3.69895 10.697C3.07795 11.318 2.33199 10.921 1.70999 10.297C1.08899 9.67596 0.689969 8.92896 1.30997 8.30796L3.29898 6.31896C3.91998 5.69796 4.66596 6.09496 5.28696 6.71896C5.90896 7.33996 6.30698 8.08596 5.68698 8.70796L3.69895 10.697Z" stroke="currentColor" stroke-miterlimit="10"/>
<path d="M8.69905 5.69693C8.07705 6.31793 7.33204 5.92093 6.71004 5.29693C6.08804 4.67593 5.69101 3.92993 6.31001 3.30893L8.29805 1.31993C8.92005 0.698935 9.666 1.09593 10.287 1.71993C10.909 2.34093 11.306 3.08693 10.687 3.70893L8.69905 5.69693Z" stroke="currentColor" stroke-miterlimit="10"/>
<path d="M4 8.24291L8.233 4.00891" stroke="currentColor" stroke-miterlimit="10"/>
</svg>
`},17984:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-integer-icon-unique-class-a{fill:#54657d;}.structure-explorer-integer-icon-unique-class-b{fill:none;}</style></defs><g transform="translate(0.502 3.971)"><path class="structure-explorer-integer-icon-unique-class-a" d="M-2210.728,47.87h-.024l-1.355.732-.2-.8,1.7-.911h.9v7.795h-1.019Z" transform="translate(2212.311 -46.755)"/><path class="structure-explorer-integer-icon-unique-class-a" d="M-2207.943,54.682v-.647l.828-.8c1.99-1.9,2.891-2.9,2.9-4.077a1.391,1.391,0,0,0-1.547-1.524,2.659,2.659,0,0,0-1.656.66l-.336-.744a3.431,3.431,0,0,1,2.207-.791,2.193,2.193,0,0,1,2.387,2.266c0,1.44-1.043,2.6-2.686,4.186l-.624.576v.024h3.5v.875Z" transform="translate(2212.311 -46.755)"/><path class="structure-explorer-integer-icon-unique-class-a" d="M-2201.9,53.471a3.526,3.526,0,0,0,1.727.492c1.356,0,1.775-.864,1.763-1.512-.013-1.091-.995-1.559-2.015-1.559h-.588V50.1h.588c.768,0,1.739-.4,1.739-1.319,0-.624-.4-1.176-1.368-1.176a2.86,2.86,0,0,0-1.558.516l-.276-.768a3.715,3.715,0,0,1,2.039-.6c1.535,0,2.231.911,2.231,1.859a1.938,1.938,0,0,1-1.439,1.835v.024a2.031,2.031,0,0,1,1.738,2c0,1.248-.971,2.339-2.842,2.339a3.964,3.964,0,0,1-2.027-.528Z" transform="translate(2212.311 -46.755)"/></g><rect class="structure-explorer-integer-icon-unique-class-b" width="16" height="16"/></svg>'},78764:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-lookup-icon-unique-class-a,.structure-explorer-lookup-icon-unique-class-b,.structure-explorer-lookup-icon-unique-class-c{fill:none;}.structure-explorer-lookup-icon-unique-class-a,.structure-explorer-lookup-icon-unique-class-b{stroke:#54657d;}.structure-explorer-lookup-icon-unique-class-a{stroke-miterlimit:10;}.structure-explorer-lookup-icon-unique-class-d{stroke:none;}</style></defs><g transform="translate(0.001)"><g class="structure-explorer-lookup-icon-unique-class-a" transform="translate(0 0)"><circle class="structure-explorer-lookup-icon-unique-class-d" cx="6" cy="6" r="6"/><circle class="structure-explorer-lookup-icon-unique-class-c" cx="6" cy="6" r="5.5"/></g><path class="structure-explorer-lookup-icon-unique-class-b" d="M.344.344,5.5,5.5" transform="translate(9.5 9.5)"/></g><rect class="structure-explorer-lookup-icon-unique-class-c" width="16" height="16"/></svg>'},21782:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.3353 2.83815L6.79954 2.65245L6.79954 2.65245L6.3353 2.83815ZM7.03813 4.59524L6.57389 4.78094L6.57389 4.78094L7.03813 4.59524ZM6.82454 5.94398L6.44043 5.62389L6.44042 5.6239L6.82454 5.94398ZM6.44629 6.39792L6.8304 6.71802L6.83041 6.718L6.44629 6.39792ZM6.52758 8.19434L6.17402 8.54789L6.17404 8.5479L6.52758 8.19434ZM7.8057 9.47236L8.15925 9.11881L8.15924 9.1188L7.8057 9.47236ZM9.60205 9.55382L9.28202 9.16966L9.28196 9.1697L9.60205 9.55382ZM10.0561 9.17554L10.3762 9.5597L10.3762 9.55965L10.0561 9.17554ZM11.4048 8.96192L11.5905 8.49768L11.5905 8.49768L11.4048 8.96192ZM13.1617 9.66476L12.976 10.129L12.976 10.129L13.1617 9.66476ZM13.9999 10.9027H13.4999V10.9027L13.9999 10.9027ZM14 12.7369H14.5V12.7369L14 12.7369ZM5.09733 2.5C5.43808 2.5 5.74451 2.70746 5.87106 3.02384L6.79954 2.65245C6.52112 1.95641 5.84699 1.5 5.09733 1.5V2.5ZM5.87106 3.02384L6.57389 4.78094L7.50237 4.40955L6.79954 2.65245L5.87106 3.02384ZM6.57389 4.78094C6.68759 5.0652 6.63634 5.3888 6.44043 5.62389L7.20866 6.26407C7.63979 5.74671 7.75243 5.03471 7.50237 4.40955L6.57389 4.78094ZM6.44042 5.6239L6.06217 6.07785L6.83041 6.718L7.20867 6.26406L6.44042 5.6239ZM6.06218 6.07783C5.45524 6.80615 5.50344 7.87731 6.17402 8.54789L6.88113 7.84078C6.57646 7.53612 6.55439 7.04923 6.8304 6.71802L6.06218 6.07783ZM6.17404 8.5479L7.45216 9.82593L8.15924 9.1188L6.88112 7.84077L6.17404 8.5479ZM7.45214 9.82592C8.12264 10.4964 9.19373 10.5449 9.92214 9.93793L9.28196 9.1697C8.95084 9.44564 8.464 9.42356 8.15925 9.11881L7.45214 9.82592ZM9.92209 9.93797L10.3762 9.5597L9.73609 8.79138L9.28202 9.16966L9.92209 9.93797ZM10.3762 9.55965C10.6113 9.36371 10.9348 9.31247 11.2191 9.42616L11.5905 8.49768C10.9652 8.2476 10.2534 8.36031 9.73603 8.79143L10.3762 9.55965ZM11.219 9.42615L12.976 10.129L13.3474 9.20052L11.5905 8.49768L11.219 9.42615ZM12.976 10.129C13.2925 10.2556 13.4999 10.562 13.4999 10.9027H14.4999C14.4999 10.153 14.0434 9.47891 13.3474 9.20052L12.976 10.129ZM13.4999 10.9027L13.5 12.7369L14.5 12.7369L14.4999 10.9027L13.4999 10.9027ZM13.5 12.7369C13.5 13.1584 13.1584 13.5 12.737 13.5V14.5C13.7108 14.5 14.5 13.7106 14.5 12.7369H13.5ZM12.737 13.5C7.08332 13.5 2.5 8.91682 2.5 3.26318H1.5C1.5 9.46913 6.53105 14.5 12.737 14.5V13.5ZM2.5 3.26318C2.5 2.84169 2.84169 2.5 3.26316 2.5V1.5C2.28938 1.5 1.5 2.28943 1.5 3.26318H2.5ZM3.26316 2.5H5.09733V1.5H3.26316V2.5Z" fill="currentColor"/>
</svg>
`},44344:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 4V6.112H11.732C11.7075 5.83541 11.6365 5.56494 11.522 5.312C11.3902 5.0689 11.188 4.87127 10.942 4.745C10.643 4.61142 10.3172 4.54879 9.98999 4.562H8.64697V11.438C8.60319 11.7946 8.66949 12.1561 8.83698 12.474C8.94798 12.5737 9.07811 12.6497 9.21942 12.6975C9.36073 12.7453 9.51029 12.7638 9.659 12.752H9.98999V12.997H5.94897V12.752H6.28699C6.44717 12.7684 6.60896 12.7457 6.75842 12.6858C6.90788 12.6259 7.0405 12.5305 7.14496 12.408C7.27744 12.1029 7.3298 11.769 7.297 11.438V4.562H6.151C5.83219 4.54791 5.513 4.57923 5.203 4.655C4.94879 4.74677 4.72978 4.91606 4.57697 5.13899C4.3865 5.42772 4.27925 5.76333 4.26697 6.10899H4V4H12Z" fill="#0D2E4E"/>
<rect x="0.5" y="0.5" width="15" height="15" rx="1.5" stroke="#0D2E4E"/>
</svg>
`},96832:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 16 16">
    <path fill="currentColor" d="M11.693 5.356a.5.5 0 1 0-.707-.708L8.342 7.293 5.697 4.648a.5.5 0 1 0-.707.708L7.635 8 4.99 10.645a.5.5 0 1 0 .707.707l2.645-2.645 2.644 2.645a.5.5 0 1 0 .707-.707L9.05 8l2.644-2.644Z"/>
</svg>`},43319:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-string-icon-unique-class-a{fill:#54657d;}.structure-explorer-string-icon-unique-class-b{fill:none;}</style></defs><g transform="translate(2212.813 -5.301)"><path class="structure-explorer-string-icon-unique-class-a" d="M-2199.672,7.3l.139,2.951h-.354a3.592,3.592,0,0,0-.277-1.114,1.871,1.871,0,0,0-.766-.793,2.672,2.672,0,0,0-1.258-.255h-1.771V17.7a2.586,2.586,0,0,0,.25,1.448,1.4,1.4,0,0,0,1.086.389h.435v.343h-5.334v-.343h.446a1.277,1.277,0,0,0,1.132-.482,2.832,2.832,0,0,0,.2-1.355V8.089h-1.512a4.188,4.188,0,0,0-1.252.13,1.717,1.717,0,0,0-.826.677,2.739,2.739,0,0,0-.409,1.355h-.353l.148-2.951Z"/></g><rect class="structure-explorer-string-icon-unique-class-b" width="16" height="16"/></svg>'},98535:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.structure-explorer-time-icon-unique-class-a,.structure-explorer-time-icon-unique-class-c{fill:none;}.structure-explorer-time-icon-unique-class-a{stroke:#54657d;stroke-miterlimit:10;}.structure-explorer-time-icon-unique-class-b{stroke:none;}</style></defs><g transform="translate(-1816.814 -33.301)"><g class="structure-explorer-time-icon-unique-class-a" transform="translate(1816.814 33.301)"><circle class="structure-explorer-time-icon-unique-class-b" cx="8" cy="8" r="8"/><circle class="structure-explorer-time-icon-unique-class-c" cx="8" cy="8" r="7.5"/></g><path class="structure-explorer-time-icon-unique-class-a" d="M1825.314,36.015v5.244l3,3.542"/></g></svg>'},73672:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2 8H14" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M8 13.8375C9.38071 13.8375 10.5 11.2239 10.5 7.99998C10.5 4.77601 9.38071 2.16248 8 2.16248C6.61929 2.16248 5.5 4.77601 5.5 7.99998C5.5 11.2239 6.61929 13.8375 8 13.8375Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},31953:P=>{P.exports=`<svg id="Group_7" data-name="Group 7" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_7" data-name="Rectangle 7" width="16" height="16" fill="none"/>
  <line id="Line_5" data-name="Line 5" y1="10" x2="10" transform="translate(3 3)" fill="none" stroke="#54657d" stroke-miterlimit="10" stroke-width="1"/>
  <line id="Line_6" data-name="Line 6" x2="10" y2="10" transform="translate(3 3)" fill="none" stroke="#54657d" stroke-miterlimit="10" stroke-width="1"/>
</svg>
`},16152:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M7.24213 2.29936C7.3158 2.11775 7.48481 2 7.67181 2H10.3725C10.7507 2 10.9723 2.44981 10.7555 2.77718L8.74663 5.80929C8.52974 6.13666 8.7514 6.58647 9.1296 6.58647H11.5316C11.935 6.58647 12.149 7.09001 11.881 7.40855L6.39275 13.9322C6.25182 14.0997 5.99756 13.9291 6.08112 13.7231L7.95246 9.10955C8.08467 8.78363 7.85839 8.42106 7.52278 8.42106H5.46798C5.13237 8.42106 4.9061 8.05849 5.0383 7.73256L7.24213 2.29936Z" fill="#0D2E4E"/>
</svg>
`},74828:P=>{P.exports=`<svg id="Group_7" data-name="Group 7" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_7" data-name="Rectangle 7" width="16" height="16" fill="none"/>
  <line id="Line_5" data-name="Line 5" y1="10" x2="10" transform="translate(3 3)" fill="none" stroke="#54657d" stroke-miterlimit="10" stroke-width="1"/>
  <line id="Line_6" data-name="Line 6" x2="10" y2="10" transform="translate(3 3)" fill="none" stroke="#54657d" stroke-miterlimit="10" stroke-width="1"/>
</svg>
`},82316:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16.392" viewBox="0 0 16 16.392"><defs><style>.value-picker-lighting-icon-unique-class-a,.value-picker-lighting-icon-unique-class-b{fill:none;}.value-picker-lighting-icon-unique-class-a{stroke:#54657d;stroke-miterlimit:10;}</style></defs><path class="value-picker-lighting-icon-unique-class-a" d="M-208.011,406.6h6.5l-4.5,5h6l-10,9,3-7h-5Z" transform="translate(214.011 -406.095)"/><rect class="value-picker-lighting-icon-unique-class-b" width="16" height="16"/></svg>'},97985:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g transform="translate(2.5 1.5)"><line x2="12" fill="none" stroke-miterlimit="10" stroke="#54657d" transform="translate(0 7)"/><line y1="12" fill="none" stroke-miterlimit="10" stroke="#54657d" transform="translate(6 1)"/></g><rect fill="none" width="16"  height="16"/></svg>
`},4946:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect class="a" fill="none" width="16" height="16"/><g transform="translate(828.001 -256.344)"><g class="b" stroke-miterlimit="10" fill="none" transform="translate(-0.562 -0.563)"><path class="d" d="M-822.721,270.046a2.984,2.984,0,0,0-3,.861l-.715-.714a2.983,2.983,0,0,0,.862-3l9.281-9.282,2.856,2.856Z"/><path class="e" stroke="none" fill="#54657d" d="M -824.6316528320313 269.1003723144531 C -824.2100830078125 268.9744262695313 -823.8204345703125 268.9347534179688 -823.4967651367188 268.9347534179688 C -823.3335571289063 268.9347534179688 -823.1836547851563 268.9448852539063 -823.0501098632813 268.9602355957031 L -814.8533325195313 260.7627868652344 L -816.2953491210938 259.3211669921875 L -824.4864501953125 267.5129089355469 C -824.4336547851563 267.9642028808594 -824.45556640625 268.5171203613281 -824.6316528320313 269.1003723144531 M -825.7241821289063 270.9070129394531 C -826.014892578125 270.6171875 -826.1371459960938 270.4949951171875 -826.4390258789063 270.1930847167969 C -825.00927734375 268.7652282714844 -825.5767211914063 267.18896484375 -825.5767211914063 267.18896484375 L -816.2954711914063 257.9070129394531 L -813.4390258789063 260.7626647949219 L -822.7213134765625 270.045654296875 C -822.7213134765625 270.045654296875 -823.029541015625 269.9347534179688 -823.4967651367188 269.9347534179688 C -824.0857543945313 269.9347534179688 -824.927490234375 270.1108093261719 -825.7241821289063 270.9070129394531 Z"/></g><path class="c" stroke="#54657d" fill="none" d="M.5.5l2,2" transform="translate(-819.501 259.844)"/></g></svg>'},8035:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3 1V15H13V5H8.99999V1H3ZM2 0H9.99999V4H14V16H2V0Z" fill="#006CE0"/>
<path d="M10 0L14 4H10V0Z" fill="#006CE0"/>
</svg>
`},25689:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.0667 3.80034V12.2003H9.40001V3.80034H14.0667ZM15 2.867H8.46667V13.1337H15V2.867Z" fill="#207245"/>
<path d="M13.1334 4.73367H11.2667V5.66701H13.1334V4.73367Z" fill="#207245"/>
<path d="M10.3334 4.73367H9.40002V5.66701H10.3334V4.73367Z" fill="#207245"/>
<path d="M13.1334 6.60034H11.2667V7.53368H13.1334V6.60034Z" fill="#207245"/>
<path d="M10.3334 6.60034H9.40002V7.53368H10.3334V6.60034Z" fill="#207245"/>
<path d="M13.1334 8.46701H11.2667V9.40034H13.1334V8.46701Z" fill="#207245"/>
<path d="M10.3334 8.46701H9.40002V9.40034H10.3334V8.46701Z" fill="#207245"/>
<path d="M13.1334 10.3337H11.2667V11.267H13.1334V10.3337Z" fill="#207245"/>
<path d="M10.3334 10.3337H9.40002V11.267H10.3334V10.3337Z" fill="#207245"/>
<path d="M8.46667 2.14835V13.8524L1.93333 12.4897V3.511L8.46667 2.14835ZM9.4 1.00034L1 2.75501V13.255L9.4 15.0097V1.00968V1.00034Z" fill="#207245"/>
<path d="M3.80005 5.66699L6.60005 10.8003" stroke="#207245" stroke-miterlimit="10"/>
<path d="M3.80005 10.3337L6.60005 5.20035" stroke="#207245" stroke-miterlimit="10"/>
</svg>
`},21431:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.5458 3H1.54578V13H15.5458V3Z" stroke="#FF8800" stroke-miterlimit="10"/>
<path d="M11.0458 8C11.8742 8 12.5458 7.32843 12.5458 6.5C12.5458 5.67157 11.8742 5 11.0458 5C10.2173 5 9.54578 5.67157 9.54578 6.5C9.54578 7.32843 10.2173 8 11.0458 8Z" fill="#FF8800"/>
<path d="M1.54578 13V11.6514L5.09954 6.32074L10.9439 13H1.54578Z" stroke="#FF8800"/>
<path d="M15.5458 13H13.8134L11.776 9.94392L13.447 9.10838L15.5458 11.2071V13Z" stroke="#FF8800"/>
</svg>
`},94570:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3 8V2H10.3L14 5.42461V14H6.5" stroke="#F40000" stroke-miterlimit="10"/>
<path d="M10.4702 2H9.47021V6H13.4702V5H10.4702V2Z" fill="#F40000"/>
<path d="M12.4598 11.07C12.4498 10.98 12.3799 10.86 12.2999 10.78C12.0799 10.56 11.5899 10.44 10.8499 10.43C10.3499 10.43 9.73986 10.47 9.10986 10.56C8.82986 10.39 8.52986 10.21 8.29986 9.98996C7.67986 9.39996 7.15984 8.57996 6.83984 7.67996C6.85984 7.59996 6.87984 7.51995 6.89984 7.44995C6.89984 7.44995 7.24985 5.41996 7.15985 4.73996C7.14985 4.64996 7.13984 4.61995 7.11984 4.54995L7.08984 4.46997C6.98984 4.24997 6.80986 4.00996 6.51986 4.01996H6.33984C6.00984 4.01996 5.74984 4.17997 5.67984 4.43997C5.46984 5.23997 5.67986 6.42995 6.07986 7.97995L5.97986 8.22995C5.69986 8.93995 5.33984 9.64996 5.02984 10.27L4.98987 10.35C4.65987 11.01 4.35984 11.57 4.08984 12.04L3.80984 12.19C3.80984 12.19 3.30986 12.46 3.19986 12.53C2.24986 13.11 1.60985 13.77 1.50985 14.3C1.47985 14.47 1.50986 14.68 1.66986 14.78L1.93985 14.9199C2.05985 14.9799 2.17984 15.01 2.30984 15.01C2.98984 15.01 3.77984 14.14 4.86984 12.21C6.12984 11.79 7.55984 11.44 8.80984 11.25C9.76984 11.8 10.9398 12.18 11.6798 12.18C11.8098 12.18 11.9299 12.17 12.0199 12.14C12.1599 12.1 12.2799 12.02 12.3499 11.91C12.4899 11.69 12.5199 11.38 12.4799 11.07H12.4598ZM2.13986 14.4799C2.25986 14.1299 2.74986 13.45 3.47986 12.84C3.52986 12.8 3.63987 12.69 3.73987 12.59C2.97987 13.83 2.46986 14.32 2.13986 14.47V14.4799ZM6.43985 4.36996C6.65985 4.36996 6.77985 4.92996 6.78985 5.45996C6.79985 5.98996 6.67984 6.35997 6.52984 6.62997C6.40984 6.21997 6.34985 5.57995 6.34985 5.16995C6.34985 5.16995 6.34985 4.36996 6.43985 4.36996ZM5.15985 11.58C5.30985 11.3 5.46985 11.0099 5.62985 10.6999C6.02985 9.93995 6.26984 9.33997 6.45984 8.84997C6.82984 9.53997 7.28986 10.12 7.82986 10.59C7.89986 10.65 7.96985 10.71 8.03985 10.77C6.93985 10.99 5.98985 11.26 5.15985 11.59V11.58ZM12.0898 11.52C12.0198 11.56 11.8298 11.59 11.7098 11.59C11.3098 11.59 10.8198 11.4 10.1298 11.1C10.3998 11.08 10.6399 11.07 10.8599 11.07C11.2599 11.07 11.3799 11.0699 11.7699 11.1699C12.1599 11.2699 12.1699 11.48 12.0999 11.52H12.0898Z" fill="#F40000"/>
</svg>
`},17935:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.0667 3.80034V12.2003H9.40001V3.80034H14.0667ZM15 2.867H8.46667V13.1337H15V2.867Z" fill="#D24625"/>
<path d="M13.1333 10.3337H8.46667V11.267H13.1333V10.3337Z" fill="#D24625"/>
<path d="M8.46667 2.14835V13.8524L1.93333 12.4897V3.511L8.46667 2.14835ZM9.4 1.00034L1 2.75501V13.255L9.4 15.0097V1.00968V1.00034Z" fill="#D24625"/>
<path d="M11.2667 4.73367V6.60034H13.1334C13.1334 5.57367 12.2934 4.73367 11.2667 4.73367Z" fill="#D24625"/>
<path d="M6.63733 7.067C6.63733 6.227 6.33866 5.50835 5.89999 5.16302C5.22799 4.64035 4.192 4.73366 4.192 4.73366H3.79065V11.267H4.72398V9.44701C5.05065 9.44701 5.46132 9.37234 5.83465 9.09234C6.36665 8.69101 6.62799 8.00968 6.62799 7.05768L6.63733 7.067ZM5.28399 8.34566C5.11599 8.47633 4.90133 8.51368 4.73333 8.51368V5.62968C4.91066 5.65768 5.12533 5.71368 5.29333 5.86302C5.564 6.09635 5.704 6.49768 5.704 7.05768C5.704 7.49635 5.62932 8.07501 5.28399 8.33634V8.34566Z" fill="#D24625"/>
<path d="M10.3334 7.53366V5.66699C9.98802 5.66699 9.67069 5.76966 9.40002 5.92832V9.14834C9.67069 9.307 9.98802 9.40967 10.3334 9.40967C11.36 9.40967 12.2 8.56967 12.2 7.543H10.3334V7.53366Z" fill="#D24625"/>
</svg>
`},94896:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.0667 3.80034V12.2003H9.40001V3.80034H14.0667ZM15 2.867H8.46667V13.1337H15V2.867Z" fill="#2A5699"/>
<path d="M13.1334 4.73367H9.40002V5.66701H13.1334V4.73367Z" fill="#2A5699"/>
<path d="M13.1334 6.60034H9.40002V7.53368H13.1334V6.60034Z" fill="#2A5699"/>
<path d="M13.1334 8.46701H9.40002V9.40034H13.1334V8.46701Z" fill="#2A5699"/>
<path d="M13.1334 10.3337H9.40002V11.267H13.1334V10.3337Z" fill="#2A5699"/>
<path d="M8.46667 2.14835V13.8524L1.93333 12.4897V3.511L8.46667 2.14835ZM9.4 1.00034L1 2.75501V13.255L9.4 15.0097V1.00968V1.00034Z" fill="#2A5699"/>
<path d="M5.90935 10.3337L5.19069 7.35632L4.48135 10.3337H3.88403L2.8667 5.66699H3.61335L4.2107 8.58833L4.90136 5.66699H5.49868L6.18936 8.61633L6.78668 5.66699H7.53337L6.51604 10.3337H5.90935Z" fill="#2A5699"/>
</svg>
`},27107:P=>{P.exports=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M31 6L39 14H31V6Z" fill="#0058EF"/>
<mask id="path-2-inside-1_3672_46963" fill="white">
<path fill-rule="evenodd" clip-rule="evenodd" d="M31 6H11V44H39V14H31V6Z"/>
</mask>
<path d="M11 6V4H9V6H11ZM31 6H33V4H31V6ZM11 44H9V46H11V44ZM39 44V46H41V44H39ZM39 14H41V12H39V14ZM31 14H29V16H31V14ZM11 8H31V4H11V8ZM13 44V6H9V44H13ZM39 42H11V46H39V42ZM37 14V44H41V14H37ZM39 12H31V16H39V12ZM33 14V6H29V14H33Z" fill="#0058EF" mask="url(#path-2-inside-1_3672_46963)"/>
</svg>
`},76185:P=>{P.exports=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.849 16.7535L20.249 32.1535" stroke="#207245" stroke-width="2" stroke-miterlimit="10"/>
<path d="M11.849 30.7535L20.249 15.3535" stroke="#207245" stroke-width="2" stroke-miterlimit="10"/>
<path d="M26.8625 4.75354L4.44897 9.74786V38.7394L26.8625 43.2465V4.75354Z" stroke="#207245" stroke-width="2"/>
<path d="M26.8625 10.1133H43.551V38.0085H26.8625M26.8625 15.8385H31.5311M26.8625 21.3201H31.5311M26.8625 27.0454H31.5311M26.8625 32.6488H31.5311M34.2463 15.8385H39.9148M34.2463 21.3201H39.9148M34.2463 27.0454H39.9148M34.2463 32.6488H39.9148" stroke="#207245" stroke-width="2"/>
</svg>
`},87831:P=>{P.exports=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5 37V11H43V37H5Z" stroke="#FF8800" stroke-width="2" stroke-miterlimit="10"/>
<path d="M33.6655 20.1493C33.6655 21.8257 32.3244 23.1657 30.6932 23.1657C29.0621 23.1657 27.7209 21.8257 27.7209 20.1493C27.7209 18.4729 29.0621 17.1329 30.6932 17.1329C32.3244 17.1329 33.6655 18.4729 33.6655 20.1493Z" stroke="#FF8800" stroke-width="2"/>
<path d="M6.09387 37V33.8161L14.9636 19.1407L31.0907 37H6.09387Z" stroke="#FF8800" stroke-width="2"/>
<path d="M42.0514 37H37.8244L32.1907 29.215L37.0649 26.7508L42.0514 32.5684V37Z" stroke="#FF8800" stroke-width="2"/>
</svg>
`},96682:P=>{P.exports=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 24V6H29.9001L41 16.2738V42H18.5" stroke="#F40000" stroke-width="2" stroke-miterlimit="10"/>
<path d="M29.3433 6.01556V16.5029C33.371 16.5029 41.4263 16.5029 41.4263 16.5029" stroke="#F40000" stroke-width="2"/>
<path d="M35.9689 33.2099C35.9389 32.9399 35.7289 32.5799 35.4889 32.3399C34.8289 31.6799 33.3589 31.3199 31.1389 31.2899C29.6389 31.2899 27.8089 31.4099 25.9189 31.6799C25.0789 31.1699 24.1789 30.6299 23.4889 29.9699C21.6289 28.1999 20.0689 25.7399 19.1089 23.0399C19.1689 22.7999 19.2289 22.5598 19.2889 22.3498C19.2889 22.3498 20.3389 16.2599 20.0689 14.2199C20.0389 13.9499 20.0089 13.8599 19.9489 13.6499L19.8589 13.4099C19.5589 12.7499 19.0189 12.0299 18.1489 12.0599H17.6089C16.6189 12.0599 15.8389 12.5399 15.6289 13.3199C14.9989 15.7199 15.6289 19.2898 16.8289 23.9398L16.5289 24.6898C15.6889 26.8198 14.6089 28.9499 13.6789 30.8099L13.559 31.0499C12.569 33.0299 11.6689 34.7099 10.8589 36.1199L10.0189 36.5699C10.0189 36.5699 8.51893 37.3799 8.18893 37.5899C5.33893 39.3299 3.41892 41.3099 3.11892 42.8999C3.02892 43.4099 3.11893 44.0399 3.59893 44.3399L4.4089 44.7598C4.7689 44.9398 5.12888 45.0299 5.51888 45.0299C7.55888 45.0299 9.92887 42.4199 13.1989 36.6299C16.9789 35.3699 21.2689 34.3199 25.0189 33.7499C27.8989 35.3999 31.4089 36.5399 33.6289 36.5399C34.0189 36.5399 34.3789 36.5098 34.6489 36.4198C35.0689 36.2999 35.4289 36.0599 35.6389 35.7299C36.0589 35.0699 36.1489 34.1399 36.0289 33.2099H35.9689ZM5.00893 43.4398C5.36893 42.3898 6.83892 40.3499 9.02892 38.5199C9.17892 38.3999 9.50895 38.0699 9.80895 37.7699C7.52895 41.4899 5.99893 42.9599 5.00893 43.4099V43.4398ZM17.9089 13.1099C18.5689 13.1099 18.9289 14.7899 18.9589 16.3799C18.9889 17.9699 18.6289 19.0799 18.1789 19.8899C17.8189 18.6599 17.6389 16.7398 17.6389 15.5098C17.6389 15.5098 17.6389 13.1099 17.9089 13.1099ZM14.0689 34.7399C14.5189 33.8999 14.9989 33.0298 15.4789 32.0998C16.6789 29.8198 17.3989 28.0199 17.9689 26.5499C19.0789 28.6199 20.4589 30.3599 22.0789 31.7699C22.2889 31.9499 22.4989 32.1299 22.7089 32.3099C19.4089 32.9699 16.5589 33.7799 14.0689 34.7699V34.7399ZM34.8589 34.5599C34.6489 34.6799 34.0789 34.7699 33.7189 34.7699C32.5189 34.7699 31.0489 34.1999 28.9789 33.2999C29.7889 33.2399 30.5089 33.2099 31.1689 33.2099C32.3689 33.2099 32.7289 33.2098 33.8989 33.5098C35.0689 33.8098 35.0989 34.4399 34.8889 34.5599H34.8589Z" fill="#F40000"/>
</svg>
`},30351:P=>{P.exports=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M26.8625 4.75354L4.44897 9.74786V38.7394L26.8625 43.2465V4.75354Z" stroke="#D24625" stroke-width="2"/>
<path d="M33.8 14.2097V19.8097H39.4C39.4 16.7297 36.88 14.2097 33.8 14.2097Z" fill="#D24625"/>
<path d="M31.0004 22.6097V17.0097C29.9644 17.0097 29.0124 17.3177 28.2004 17.7937V27.4537C29.0124 27.9297 29.9644 28.2377 31.0004 28.2377C34.0804 28.2377 36.6004 25.7177 36.6004 22.6377H31.0004V22.6097Z" fill="#D24625"/>
<path d="M19.9124 21.2097C19.9124 18.6897 19.0163 16.5337 17.7003 15.4977C15.6843 13.9297 12.5764 14.2097 12.5764 14.2097H11.3723V33.8097H14.1723V28.3497C15.1523 28.3497 16.3843 28.1257 17.5043 27.2857C19.1003 26.0817 19.8843 24.0377 19.8843 21.1817L19.9124 21.2097ZM15.8523 25.0457C15.3483 25.4377 14.7043 25.5497 14.2003 25.5497V16.8977C14.7323 16.9817 15.3764 17.1497 15.8804 17.5977C16.6924 18.2977 17.1124 19.5017 17.1124 21.1817C17.1124 22.4977 16.8883 24.2337 15.8523 25.0177V25.0457Z" fill="#D24625"/>
<path d="M26.8625 10.0612H43.551V37.9563H26.8625" stroke="#D24625" stroke-width="2"/>
<path d="M26.8748 32.0246H39.8748" stroke="#D24625" stroke-width="2"/>
</svg>
`},23472:P=>{P.exports=`<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17.728 31.001L15.5721 22.069L13.444 31.001H11.6521L8.6001 17.001H10.8401L12.6321 25.765L14.7041 17.001H16.496L18.5681 25.849L20.36 17.001H22.6001L19.5481 31.001H17.728Z" fill="#2A5699"/>
<path d="M26.8413 4.54126L4.42773 9.53558V38.5271L26.8413 43.0342V4.54126Z" stroke="#2A5699" stroke-width="2"/>
<path d="M26.8413 9.90106H43.5298V37.7962H26.8413M26.8413 15.6263H39.5098M26.8413 21.1079H39.5098M26.8413 26.8331H39.5098M26.8413 32.4365H39.5098" stroke="#2A5699" stroke-width="2"/>
</svg>
`},35723:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64">
	<rect width="72" height="64" fill="none" rx="6"/>
	<g stroke="#999" stroke-width="0.5">
		<rect width="56" height="46" x="8" y="8" fill="#fff" rx="4"/>
		<rect width="55" height="45" x="8.5" y="8.5" fill="none" rx="3.5"/>
	</g>
	<g fill="#d1d1d1">
		<rect width="40" height="6" x="16" y="18" rx="3"/>
		<rect width="40" height="6" x="16" y="28" rx="3"/>
		<rect width="40" height="6" x="16" y="38" rx="3"/>
	</g>
</svg>
`},27320:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64">
	<rect width="72" height="64" fill="none" rx="6"/>
	<g fill="#7fc8f4" stroke="#006ce0" opacity=".34">
		<rect width="50" height="43" x="11" y="11" rx="4"/>
		<rect width="49" height="42" x="11.5" y="11.5" fill="none" rx="3.5"/>
	</g>
</svg>
`},48305:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><g data-name="Group 14609" transform="translate(-446 -144)"><rect data-name="Rectangle 24755" width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/><g data-name="Rectangle 39843" transform="translate(484 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="23" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="22" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39845" transform="translate(457 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="23" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="22" height="42" rx="3.5" fill="none"/></g></g></svg>'},6206:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><g data-name="Group 14609" transform="translate(-446 -144)"><rect data-name="Rectangle 24755" width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/><g data-name="Rectangle 39845" transform="translate(456 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="15" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="14" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39906" transform="translate(474 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="15" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="14" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39907" transform="translate(492 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="15" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="14" height="42" rx="3.5" fill="none"/></g></g></svg>'},50103:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64"><g data-name="Group 14609" transform="translate(-446 -144)"><rect data-name="Rectangle 24755" width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/><g data-name="Rectangle 39845" transform="translate(457 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="10" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="9" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39908" transform="translate(470 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="10" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="9" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39909" transform="translate(483 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="10" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="9" height="42" rx="3.5" fill="none"/></g><g data-name="Rectangle 39910" transform="translate(496 155)" fill="#7fc8f4" stroke="#006ce0" opacity=".34"><rect width="10" height="43" rx="4" stroke="none"/><rect x=".5" y=".5" width="9" height="42" rx="3.5" fill="none"/></g></g></svg>'},75670:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" enable-background="new 0 0 20 20"><g fill="#afb4c1"><path d="m9 11.8h2v3.3h-2z"/><circle cx="10" cy="12" r="1.5"/></g><g fill="none" stroke="#afb4c1" stroke-miterlimit="10"><path d="m16.5 18.5h-13c-.6 0-1-.4-1-1v-9c0-.6.4-1 1-1h13c.6 0 1 .4 1 1v9c0 .6-.4 1-1 1z"/><path d="M5.5,7V5.5c0-2.2,1.8-4,4-4h1c2.2,0,4,1.8,4,4V7" stroke-width="1.25"/></g></svg>'},112:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><defs/><g transform="translate(143.941 -406.051)"><rect width="2" height="2" transform="translate(-136.941 408.051)" style="fill: #8095b3;"/><rect width="2" height="2" transform="translate(-136.941 413.051)" style="fill: #8095b3;"/><rect width="2" height="2" transform="translate(-136.941 418.051)" style="fill: #8095b3;"/></g><rect width="16" height="16" style="fill: none;"/></svg>
`},67347:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><defs/><path d="M-26.666,687.452l2.438,2,4.062-4" transform="translate(31.666 -676.453)" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"/><g transform="translate(0 2)" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"><rect width="16" height="14" style="stroke: none;"/><rect x="0.5" y="0.5" width="15" height="13" style="fill: none;"/></g><line x2="16" transform="translate(0 6.5)" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"/><g transform="translate(2)" style="stroke: #54657d; stroke-miterlimit: 10; fill: #fff;"><rect width="3" height="5" style="stroke: none;"/><rect x="0.5" y="0.5" width="2" height="4" style="fill: none;"/></g><g transform="translate(11)" style="stroke: #54657d; stroke-miterlimit: 10; fill: #fff;"><rect width="3" height="5" style="stroke: none;"/><rect x="0.5" y="0.5" width="2" height="4" style="fill: none;"/></g></svg>
`},63202:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16"><defs/><g transform="translate(-1816.814 -33.301)"><g transform="translate(1816.814 33.301)" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"><circle cx="8" cy="8" r="8" style="stroke: none;"/><circle cx="8" cy="8" r="7.5" style="fill: none;"/></g><path d="M1824.814,36.015v5.244l3.266,3.8" style="fill: none; stroke: #54657d; stroke-miterlimit: 10;"/></g></svg>
`},77017:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.error-icon-a{fill:#df1f26;}.error-icon-b,.error-icon-c{fill:none;}.error-icon-b{stroke:#fff;stroke-miterlimit:10;stroke-width:1.5px;}</style></defs><circle class="error-icon-a" cx="7" cy="7" r="7" transform="translate(1 1)"/><line class="error-icon-b" x2="6" y2="6" transform="translate(5 5)"/><line class="error-icon-b" y1="6" x2="6" transform="translate(5 5)"/><rect class="error-icon-c" width="16" height="16"/></svg>'},64207:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16.001" height="16" viewBox="0 0 16.001 16"><defs><style>.warning-icon-a{fill:#ff9800;}.warning-icon-b,.warning-icon-d{fill:none;}.warning-icon-b{stroke:#fff;stroke-linecap:round;stroke-miterlimit:10;stroke-width:2px;}.warning-icon-c{fill:#fff;}</style></defs><g transform="translate(-1330.138 361.759)"><path class="warning-icon-a" d="M1345.172-346.541H1331.1a.964.964,0,0,1-.84-1.438l7.033-12.505a.965.965,0,0,1,1.682,0l7.034,12.505A.965.965,0,0,1,1345.172-346.541Z"/><line class="warning-icon-b" y2="3" transform="translate(1338.139 -355.279)"/><circle class="warning-icon-c" cx="1.25" cy="1.25" r="1.25" transform="translate(1336.889 -350.529)"/></g><rect class="warning-icon-d" width="16" height="16" transform="translate(0.001)"/></svg>'},14186:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a,.b{fill:none;}.b{stroke:#fff;stroke-linecap:round;stroke-width:1.5px;}</style></defs><g transform="translate(16) rotate(90)"><rect class="a" width="16" height="16"/><path class="b" d="M10.365,0,5.182,5.465,0,0" transform="translate(2.818 5.268)"/></g></svg>'},54762:P=>{P.exports=`<svg id="Group_7" data-name="Group 7" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_7" data-name="Rectangle 7" width="16" height="16" fill="none"/>
  <line id="Line_5" data-name="Line 5" y1="10" x2="10" transform="translate(3 3)" fill="none" stroke="#999" stroke-miterlimit="10" stroke-width="1"/>
  <line id="Line_6" data-name="Line 6" x2="10" y2="10" transform="translate(3 3)" fill="none" stroke="#999" stroke-miterlimit="10" stroke-width="1"/>
</svg>
`},71235:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">
	<g fill="none">
		<path d="M0 16V0h16v16z"/>
		<path d="m14 5-5.5 5.5L3 5" stroke="#006ce0"/>
	</g>
</svg>
`},47943:P=>{P.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M7.49134 3.22305C7.49134 2.82264 7.15352 2.49805 6.73681 2.49805C6.32009 2.49805 5.98227 2.82264 5.98227 3.22305V3.41077H2.75453C2.33782 3.41077 2 3.73536 2 4.13577C2 4.53618 2.33782 4.86077 2.75453 4.86077H8.1046C7.97647 5.14655 7.83931 5.42552 7.69554 5.69677C7.2841 6.47305 6.81859 7.18611 6.35614 7.81489C6.03052 7.32801 5.72261 6.82084 5.42587 6.29971C5.22585 5.94845 4.76734 5.81949 4.40177 6.01168C4.03619 6.20387 3.90199 6.64443 4.102 6.9957C4.49601 7.68763 4.91857 8.37339 5.38474 9.03245C5.01375 9.46248 4.68032 9.81285 4.4245 10.0693C4.26253 10.2316 4.13205 10.3559 4.04334 10.4385C3.999 10.4797 3.96513 10.5106 3.94302 10.5305L3.91885 10.5521L3.91369 10.5567C3.60572 10.8261 3.58243 11.285 3.86266 11.5811C4.143 11.8774 4.6202 11.8992 4.92852 11.6298L4.42092 11.0934C4.92852 11.6298 4.92837 11.63 4.92852 11.6298L4.93016 11.6284L4.93303 11.6259L4.94239 11.6176L4.97513 11.5883C5.00304 11.5632 5.0429 11.5269 5.09339 11.4799C5.19436 11.3859 5.33801 11.2489 5.51383 11.0727C5.7348 10.8512 6.00719 10.5671 6.30993 10.2276C6.54806 10.5072 6.79704 10.7786 7.05826 11.0401C7.34683 11.329 7.82447 11.3384 8.12511 11.0611C8.42574 10.7839 8.43553 10.3249 8.14697 10.036C7.84094 9.72969 7.55143 9.40554 7.27557 9.06637C8.14191 7.94752 9.08008 6.50571 9.73299 4.86077H10.7151C11.1318 4.86077 11.4696 4.53618 11.4696 4.13577C11.4696 3.73536 11.1318 3.41077 10.7151 3.41077H9.22026C9.20855 3.41051 9.19687 3.41051 9.18522 3.41077H7.49134V3.22305Z" fill="#0D2E4E"/>
	<path fill-rule="evenodd" clip-rule="evenodd" d="M9.88447 7.94801C10.2159 7.17997 11.3516 7.1894 11.6692 7.96284L13.9471 13.5101C14.1001 13.8826 13.9098 14.3036 13.5222 14.4506C13.1346 14.5976 12.6963 14.4148 12.5434 14.0423L11.9148 12.5116L9.5486 12.5116L8.88299 14.0539C8.72337 14.4238 8.28192 14.5993 7.89699 14.4459C7.51205 14.2925 7.32941 13.8684 7.48903 13.4985L8.27697 11.6728C8.29592 11.5574 8.34318 11.4511 8.41171 11.3606L9.88447 7.94801ZM10.1744 11.0616H11.3194L10.7611 9.70208L10.1744 11.0616Z" fill="#0D2E4E"/>
</svg>
`},27809:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.lsa{fill:#8095b3;}.lsb,.lsc{fill:none;}.lsb{stroke:#8095b3;stroke-miterlimit:10;}</style></defs><path class="lsa" d="M14.5,14l-.9-2.5H10L9.1,14H8.2l3.2-8.4h.8L15.4,14ZM12,7.1c0-.1-.1-.2-.1-.3s-.1-.2-.1-.3h0a.367.367,0,0,1-.1.3c-.1.1,0,.2-.1.3l-1.4,3.7h3.1Z" transform="translate(0.301 1)"/><line class="lsb" x2="10" transform="translate(0.301 2.5)"/><line class="lsb" y2="2" transform="translate(4.801 1)"/><path class="lsb" d="M1.5,11.5S6.2,7.2,8,2" transform="translate(0.301 1)"/><path class="lsb" d="M3,4.5a24.292,24.292,0,0,0,4.5,5.6" transform="translate(0.301 1)"/><rect class="lsc" width="16" height="16"/></svg>'},38192:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16">
	<g fill="none">
		<path d="M16 0v16H0V0z"/>
		<path d="m2 11 5.5-5.5L13 11" stroke="#006ce0"/>
	</g>
</svg>
`},51782:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g transform="translate(4 7)"><path fill="currentColor" d="M1787.779-67.455l4,4,4-4Z" transform="translate(-1787.779 67.455)"/></g><rect fill="none" width="16" height="16"/></svg>
`},9490:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="40"><g transform="translate(-60 -304.334)"><g transform="translate(68 312.334)" fill="#fff" stroke="#0d2e4e"><rect width="56" height="24" rx="2" stroke="none"/><rect x=".5" y=".5" width="55" height="23" rx="1.5" fill="none"/></g><rect width="24" height="6" rx="3" transform="translate(76 321.334)" fill="#d1d1d1"/><g><path d="M112.183 317.113c2.084.007 2.813.35 4.468 1.861l-1.875 2.424-2.95-1.229Z" fill="#ff1c06"/><path d="M111.643 331.18c-2.083-.006-2.813-.35-4.467-1.861l1.875-2.424 2.949 1.229Z" fill="#ffc6b8"/><path d="M119.024 324.49c-.064 2.22-.431 3.006-2 4.809l-2.4-1.931 1.322-3.175Z" fill="#ff4013"/><path d="M117.074 319.477c1.5 1.443 1.8 2.195 1.949 4.431l-3.03.46-1.286-2.925Z" fill="#ff320e"/><path d="M107.224 329.194c-1.5-1.443-1.795-2.195-1.948-4.43l3.029-.46 1.287 2.925Z" fill="#ffe8e3"/><path d="M116.999 329.314c-1.578 1.562-2.386 1.878-4.769 2.1l-.4-3.055 3.149-1.384Z" fill="#ff795a"/><g transform="translate(-694.326 409.243)" fill="none"><path d="M798.326-92.909h16v16h-16z"/><circle cx="7" cy="7" r="7" transform="translate(799.326 -91.909)" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><circle cx="3" cy="3" r="3" transform="translate(803.326 -87.909)" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><g stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><path d="M806.326-81.454v3.686"/><path d="M806.326-88.519v-3.386"/><path d="M803.211-84.909h-3.685"/><path d="M812.826-84.909h-3.387"/><path d="M804.126-87.162c-.8-.8-2.306-2.252-3.1-3.05"/><path d="M811.628-79.605c-.729-.73-2.31-2.2-3.04-2.926"/><path d="m804.02-82.6-3 3"/><path d="m811.629-90.213-3.088 2.978"/></g></g></g></g></svg>
`},39935:P=>{P.exports=`<svg width="588" height="366" viewBox="0 0 588 366" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#clip0_14741_15949)">
        <rect width="588" height="366" rx="8" fill="white" />
        <rect width="588" height="366" fill="url(#paint0_linear_14741_15949)" fill-opacity="0.05" />
        <path
            d="M293.988 191.25C297.716 191.25 300.738 188.228 300.738 184.5C300.738 180.772 297.716 177.75 293.988 177.75C290.26 177.75 287.238 180.772 287.238 184.5C287.238 188.228 290.26 191.25 293.988 191.25Z"
            fill="#D6D6D6" />
        <path fill-rule="evenodd" clip-rule="evenodd"
            d="M285.816 168.551C286.225 167.326 287.371 166.5 288.662 166.5H299.338C300.629 166.5 301.775 167.326 302.184 168.551L303 171H307.5C309.985 171 312 173.015 312 175.5V193.5C312 195.985 309.985 198 307.5 198H280.5C278.015 198 276 195.985 276 193.5V175.5C276 173.015 278.015 171 280.5 171H285L285.816 168.551ZM293.988 194.25C299.373 194.25 303.738 189.885 303.738 184.5C303.738 179.115 299.373 174.75 293.988 174.75C288.604 174.75 284.238 179.115 284.238 184.5C284.238 189.885 288.604 194.25 293.988 194.25ZM304.5 176.257C304.5 177.5 305.507 178.507 306.75 178.507C307.993 178.507 309 177.5 309 176.257C309 175.015 307.993 174.007 306.75 174.007C305.507 174.007 304.5 175.015 304.5 176.257Z"
            fill="#D6D6D6" />
    </g>
    <rect x="0.5" y="0.5" width="587" height="365" rx="7.5" stroke="#E3E3E3" />
    <defs>
        <linearGradient id="paint0_linear_14741_15949" x1="188.519" y1="0" x2="536.382" y2="0"
            gradientUnits="userSpaceOnUse">
            <stop stop-color="#181818" />
            <stop offset="1" stop-color="#181818" stop-opacity="0" />
        </linearGradient>
        <clipPath id="clip0_14741_15949">
            <rect width="588" height="366" rx="8" fill="white" />
        </clipPath>
    </defs>
</svg>`},78064:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="130" height="16" viewBox="0 0 130 16">
  <rect width="130" height="16" rx="8" fill="#cacaca" opacity="0.4"/>
</svg>
`},6395:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16.001" height="16" viewBox="0 0 16.001 16">
  <g id="Group_16564" data-name="Group 16564" transform="translate(-1.999 -2)">
    <path id="Path_513" data-name="Path 513" d="M1734.432-870.935c1.5,1.207-.1,2.614-.8,3.419-.5.6-1.1,1.206-5.411-1.207a16.5,16.5,0,0,1-4.209-3.217,19.282,19.282,0,0,1-3.307-4.223c-2.3-4.323-1.7-5.027-1.1-5.429.8-.7,2.2-2.212,3.407-.8,2,2.413,2.2,3.519,1.5,4.122-.5.3-.4.4-.7.6-.8.8-.6,2.111,1.3,4.022l.3.4c1.4,1.408,3.207,2.111,4.008,1.408a7.084,7.084,0,0,0,.7-.9c.7-.7,1.4-.5,4.309,1.81" transform="translate(-1717.055 884.977)" fill="#4ba837"/>
    <g id="Group_359" data-name="Group 359" transform="translate(11 3)">
      <path id="Path_514" data-name="Path 514" d="M1728-880h4v1h-4Z" transform="translate(-1728 882)" fill="#4ba837"/>
      <path id="Path_515" data-name="Path 515" d="M1728-878h6v1h-6Z" transform="translate(-1728 882)" fill="#4ba837"/>
      <path id="Path_516" data-name="Path 516" d="M1728-882h7v1h-7Z" transform="translate(-1728 882)" fill="#4ba837"/>
    </g>
    <rect id="Rectangle_209" data-name="Rectangle 209" width="16" height="16" transform="translate(2 2)" fill="none"/>
  </g>
</svg>
`},82429:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="8" height="16" viewBox="0 0 8 16">
  <path d="M8,16H4a4,4,0,0,1-4-4V4A4,4,0,0,1,4,0H8Z" transform="translate(8 16) rotate(180)" fill="#cacaca" opacity="0.4"/>
</svg>`},2867:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="8" height="16" viewBox="0 0 8 16">
  <path d="M0,0l8,8-8,8V0Z" fill="#cacaca" opacity="0.4"/>
</svg>`},25064:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="8" height="16" viewBox="0 0 8 16">
  <path d="M0,0l8,8,-8,8H8V-16H-8Z" fill="#cacaca" opacity="0.4"/>
</svg>`},71191:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="8" height="16" viewBox="0 0 8 16">
  <path d="M0,0l8,8-8,8V0Z" fill="#22ac14" />
</svg>`},3190:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="8" height="16" viewBox="0 0 8 16">
  <path d="M8,16H4a4,4,0,0,1-4-4V4A4,4,0,0,1,4,0H8Z" fill="#22ac14"/>
</svg>`},81869:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Group_16565" data-name="Group 16565" transform="translate(-2.473 -2)">
    <g id="Group_361" data-name="Group 361" transform="translate(2.474 4)">
      <path id="Path_517" data-name="Path 517" d="M1763-872.1l-8-7.9v10.6l.4.4h15.4l.2-.4V-880Z" transform="translate(-1755 881)" fill="#f4ac5c"/>
      <path id="Path_518" data-name="Path 518" d="M1770-881h-13.9l6.9,7Z" transform="translate(-1755 881)" fill="#f4ac5c"/>
    </g>
    <rect id="Rectangle_210" data-name="Rectangle 210" width="16" height="16" transform="translate(2.473 2)" fill="none"/>
  </g>
</svg>
`},90135:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Group_16566" data-name="Group 16566" transform="translate(-2.423 -2)">
    <path id="Path_519" data-name="Path 519" d="M1804-870h-8l-4,3.1V-870h-2v-11h14Z" transform="translate(-1786.577 884)" fill="#3273bc"/>
    <rect id="Rectangle_211" data-name="Rectangle 211" width="16" height="16" transform="translate(2.423 2)" fill="none"/>
  </g>
</svg>
`},73681:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 16 16">
	<g>
		<path d="M2.5,16V.5h9.92L8.5,4.5l3.92,4H2.63" fill="none" stroke="#22ac14" stroke-miterlimit="10" stroke-width="1"/>
		<rect width="16" height="16" fill="none"/>
	</g>
</svg>
`},84262:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="200" height="56" viewBox="0 0 200 56">
  <g>
	<rect width="200" height="12" rx="6" fill="#f5f5f5"/>
	<rect width="64" height="12" rx="6" transform="translate(0 42)" fill="#f5f5f5"/>
	<rect width="64" height="12" rx="6" transform="translate(72 42)" fill="#f5f5f5"/>
  </g>
</svg>
`},39508:P=>{P.exports=`<svg id="Component_382_27" data-name="Component 382 \u2013 27" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <path id="Path_7198" data-name="Path 7198" d="M1544.291-465.2l5-4h-12v14h1v-6h11Z" transform="translate(-1535.291 470.198)" fill="#179efe"/>
  <rect id="Rectangle_6648" data-name="Rectangle 6648" width="16" height="16" fill="none"/>
</svg>
`},52030:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">
  <g id="Group_16580" data-name="Group 16580" transform="translate(-290 -760)">
    <rect id="Rectangle_39847" data-name="Rectangle 39847" width="72" height="64" rx="6" transform="translate(290 760)" fill="none"/>
    <rect id="Rectangle_6778" data-name="Rectangle 6778" width="56" height="46" rx="4" transform="translate(298 768)" fill="#f4f5f7"/>
    <g id="Rectangle_39849" data-name="Rectangle 39849" transform="translate(306 795)" fill="#fff" stroke="#e6e6e6" stroke-width="1">
      <rect width="40" height="11" rx="2" stroke="none"/>
      <rect x="0.5" y="0.5" width="39" height="10" rx="1.5" fill="none"/>
    </g>
    <g id="Group_16579" data-name="Group 16579" transform="translate(-236 614)">
      <path id="Path_11853" data-name="Path 11853" d="M2,0h9l3,3L11,6H2A2,2,0,0,1,0,4V2A2,2,0,0,1,2,0Z" transform="translate(542 162)" fill="#22ac14"/>
      <path id="Path_11855" data-name="Path 11855" d="M-3,0H9L6,3,9,6H-3A2,2,0,0,1-5,4V2A2,2,0,0,1-3,0Z" transform="translate(577 168) rotate(180)" fill="#d1d1d1"/>
      <rect id="Rectangle_42501" data-name="Rectangle 42501" width="5" height="5" rx="2.5" transform="translate(561 172)" fill="#0091ea"/>
      <rect id="Rectangle_42502" data-name="Rectangle 42502" width="5" height="5" rx="2.5" transform="translate(568 172)" fill="#ff4013"/>
      <path id="Path_11854" data-name="Path 11854" d="M0,0H11l3,3L11,6H0L3,3Z" transform="translate(555 162)" fill="#22ac14"/>
      <rect id="Rectangle_24765" data-name="Rectangle 24765" width="17" height="5" rx="2.5" transform="translate(542 172)" fill="#d1d1d1"/>
    </g>
  </g>
</svg>
`},99924:P=>{P.exports=`<svg width="73" height="64" viewBox="0 0 73 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.2498 12.313C18.3905 12.313 20.9366 14.859 20.9366 17.9998C20.9366 21.1405 18.3905 23.6866 15.2498 23.6866C12.109 23.6866 9.56299 21.1405 9.56299 17.9998C9.56299 14.859 12.109 12.313 15.2498 12.313ZM13.2657 19.9838C12.9946 19.7126 12.9946 19.2729 13.2657 19.0018L14.2678 17.9997L13.2657 16.9977C12.9945 16.7265 12.9945 16.2868 13.2657 16.0156C13.5369 15.7445 13.9766 15.7445 14.2478 16.0156L15.2498 17.0177L16.2519 16.0156C16.5231 15.7444 16.9627 15.7444 17.2339 16.0156C17.5051 16.2868 17.5051 16.7265 17.2339 16.9977L16.2319 17.9997L17.2339 19.0018C17.5051 19.273 17.5051 19.7126 17.2339 19.9838C16.9627 20.255 16.5231 20.255 16.2519 19.9838L15.2498 18.9818L14.2478 19.9838C13.9766 20.255 13.5369 20.255 13.2657 19.9838Z" fill="#FF4013"/>
<rect x="26.25" y="15" width="38" height="6" rx="3" fill="#D1D1D1"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.9366 31.9998C20.9366 28.859 18.3905 26.313 15.2498 26.313C12.109 26.313 9.56299 28.859 9.56299 31.9998C9.56299 35.1405 12.109 37.6866 15.2498 37.6866C18.3905 37.6866 20.9366 35.1405 20.9366 31.9998ZM17.8665 31.3789C18.1518 31.0936 18.1518 30.631 17.8665 30.3457C17.5812 30.0603 17.1186 30.0603 16.8332 30.3457L14.7249 32.454L13.929 31.6582C13.6437 31.3728 13.1811 31.3728 12.8957 31.6582C12.6104 31.9435 12.6104 32.4061 12.8957 32.6914L14.2082 34.0039C14.4936 34.2893 14.9562 34.2893 15.2415 34.0039L17.8665 31.3789Z" fill="#0B8500"/>
<rect x="26.25" y="29" width="38" height="6" rx="3" fill="#D1D1D1"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M20.9366 45.9998C20.9366 42.859 18.3905 40.313 15.2498 40.313C12.109 40.313 9.56299 42.859 9.56299 45.9998C9.56299 49.1405 12.109 51.6866 15.2498 51.6866C18.3905 51.6866 20.9366 49.1405 20.9366 45.9998ZM17.8665 45.3789C18.1518 45.0936 18.1518 44.631 17.8665 44.3457C17.5812 44.0603 17.1186 44.0603 16.8332 44.3457L14.7249 46.454L13.929 45.6582C13.6437 45.3728 13.1811 45.3728 12.8957 45.6582C12.6104 45.9435 12.6104 46.4061 12.8957 46.6914L14.2082 48.0039C14.4936 48.2893 14.9562 48.2893 15.2415 48.0039L17.8665 45.3789Z" fill="#757575"/>
<rect x="26.25" y="43" width="38" height="6" rx="3" fill="#D1D1D1"/>
</svg>
`},37729:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4.04284 9.8384C4.04284 10.0354 3.96457 10.2244 3.82526 10.3637C3.68595 10.503 3.497 10.5813 3.29998 10.5813C3.10297 10.5813 2.91402 10.503 2.77471 10.3637C2.63539 10.2244 2.55713 10.0354 2.55713 9.8384V6.49554C2.55713 6.29852 2.63539 6.10958 2.77471 5.97026C2.91402 5.83095 3.10297 5.75269 3.29998 5.75269C3.497 5.75269 3.68595 5.83095 3.82526 5.97026C3.96457 6.10958 4.04284 6.29852 4.04284 6.49554V9.8384ZM14.4428 9.8384C14.4428 10.0354 14.3645 10.2244 14.2252 10.3637C14.0859 10.503 13.897 10.5813 13.7 10.5813C13.5029 10.5813 13.314 10.503 13.1747 10.3637C13.0354 10.2244 12.9571 10.0354 12.9571 9.8384V6.49554C12.9571 6.29852 13.0354 6.10958 13.1747 5.97026C13.314 5.83095 13.5029 5.75269 13.7 5.75269C13.897 5.75269 14.0859 5.83095 14.2252 5.97026C14.3645 6.10958 14.4428 6.29852 14.4428 6.49554V9.8384ZM7.75711 13.9237C7.75711 14.1208 7.67885 14.3097 7.53954 14.449C7.40022 14.5883 7.21128 14.6666 7.01426 14.6666C6.81724 14.6666 6.62829 14.5883 6.48898 14.449C6.34967 14.3097 6.2714 14.1208 6.2714 13.9237V10.5809C6.2714 10.3839 6.34967 10.1949 6.48898 10.0556C6.62829 9.9163 6.81724 9.83803 7.01426 9.83803C7.21128 9.83803 7.40022 9.9163 7.53954 10.0556C7.67885 10.1949 7.75711 10.3839 7.75711 10.5809V13.9237ZM10.7285 13.9237C10.7285 14.1208 10.6503 14.3097 10.511 14.449C10.3716 14.5883 10.1827 14.6666 9.98568 14.6666C9.78866 14.6666 9.59971 14.5883 9.4604 14.449C9.32109 14.3097 9.24282 14.1208 9.24282 13.9237V10.5809C9.24282 10.3839 9.32109 10.1949 9.4604 10.0556C9.59971 9.9163 9.78866 9.83803 9.98568 9.83803C10.1827 9.83803 10.3716 9.9163 10.511 10.0556C10.6503 10.1949 10.7285 10.3839 10.7285 10.5809V13.9237Z" fill="#7CB342"/>
<path d="M4.78613 5.75274V11.3238C4.78613 11.5208 4.8644 11.7098 5.00371 11.8491C5.14302 11.9884 5.33197 12.0667 5.52899 12.0667H11.4718C11.6688 12.0667 11.8578 11.9884 11.9971 11.8491C12.1364 11.7098 12.2147 11.5208 12.2147 11.3238V5.75274H4.78613ZM8.50041 2.03809C6.27184 2.03809 4.91428 3.39194 4.78613 5.00952H12.2147C12.0862 3.39194 10.729 2.03809 8.50041 2.03809ZM7.0147 4.11734C6.91619 4.11734 6.82171 4.07821 6.75206 4.00855C6.6824 3.9389 6.64327 3.84442 6.64327 3.74591C6.64327 3.64741 6.6824 3.55293 6.75206 3.48328C6.82171 3.41362 6.91619 3.37449 7.0147 3.37449C7.11321 3.37449 7.20768 3.41362 7.27734 3.48328C7.34699 3.55293 7.38613 3.64741 7.38613 3.74591C7.38613 3.84442 7.34699 3.9389 7.27734 4.00855C7.20768 4.07821 7.11321 4.11734 7.0147 4.11734ZM9.98612 4.11734C9.88761 4.11734 9.79313 4.07821 9.72348 4.00855C9.65382 3.9389 9.61469 3.84442 9.61469 3.74591C9.61469 3.64741 9.65382 3.55293 9.72348 3.48328C9.79313 3.41362 9.88761 3.37449 9.98612 3.37449C10.0846 3.37449 10.1791 3.41362 10.2488 3.48328C10.3184 3.55293 10.3575 3.64741 10.3575 3.74591C10.3575 3.84442 10.3184 3.9389 10.2488 4.00855C10.1791 4.07821 10.0846 4.11734 9.98612 4.11734Z" fill="#7CB342"/>
<path d="M10.7286 1.66663L10.1098 2.59483M6.27148 1.66663L6.7666 2.43994" stroke="#7CB342" stroke-width="0.742856" stroke-linecap="round"/>
</svg>
`},87940:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"><path d="M6 2H2v4h4V2zm8 0h-4v4h4V2zm8 0h-4v4h4V2zM6 10H2v4h4v-4zm8 0h-4v4h4v-4zm8 0h-4v4h4v-4zM6 18H2v4h4v-4zm8 0h-4v4h4v-4zm8 0h-4v4h4v-4z"/></svg>
`},46696:P=>{P.exports=`<svg width="72" height="32" viewBox="0 0 72 32" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M3.96235 22.2363C3.38104 21.7147 2.91083 21.0813 2.57983 20.3739C2.24884 19.6665 2.06384 18.8996 2.03591 18.1191C2.00797 17.3386 2.13767 16.5605 2.41724 15.8312C2.69681 15.102 3.12053 14.4366 3.66306 13.8748C4.77629 12.7243 6.29228 12.0502 7.89222 11.9944C9.49216 11.9386 11.0514 12.5054 12.2421 13.5755H14.7939C14.7679 13.5366 14.741 13.4977 14.715 13.4588C14.1326 12.6209 13.395 11.9024 12.5423 11.3419C11.4253 10.6105 10.1468 10.1624 8.8176 10.0366C7.48835 9.91071 6.14843 10.1109 4.914 10.6197C3.48625 11.2059 2.25801 12.1917 1.37666 13.4588C0.628705 14.5315 0.167811 15.7778 0.0378952 17.0791C-0.0920209 18.3803 0.113378 19.6932 0.634489 20.8926C1.24995 22.3012 2.2625 23.4999 3.54835 24.3421C4.66619 25.0711 5.94431 25.5178 7.27288 25.6438C8.60146 25.7698 9.94076 25.5713 11.1757 25.0654C12.6042 24.479 13.8331 23.4928 14.715 22.2253C14.7619 22.1575 14.8148 22.0847 14.8577 22.0119H12.4715C11.3516 23.1316 9.8448 23.779 8.26168 23.8208C6.67856 23.8625 5.13976 23.2954 3.96235 22.2363V22.2363Z" fill="white"/>
	<path d="M71.506 17.2072C71.027 16.1112 70.239 15.1784 69.2385 14.5228C68.3685 13.955 67.3735 13.6071 66.3392 13.5091C65.3049 13.4111 64.2622 13.5659 63.301 13.9602C62.1894 14.4167 61.2331 15.1843 60.5468 16.1708C59.9645 17.0056 59.6057 17.9757 59.5046 18.9885C59.4035 20.0013 59.5634 21.0232 59.9692 21.9566C60.4486 23.0527 61.2369 23.9855 62.2376 24.6411C63.1069 25.2107 64.1021 25.5596 65.1367 25.6577C66.1714 25.7557 67.2143 25.5999 68.1751 25.2037C69.2865 24.7472 70.2425 23.9796 70.9284 22.9931C71.5107 22.1583 71.8696 21.1882 71.9707 20.1754C72.0718 19.1626 71.9118 18.1407 71.506 17.2072V17.2072ZM65.7201 23.8231C64.8834 23.8015 64.0716 23.5336 63.3864 23.0531C62.7011 22.5725 62.1728 21.9005 61.8675 21.1212C61.5622 20.3419 61.4934 19.4898 61.6699 18.6717C61.8464 17.8535 62.2602 17.1055 62.8596 16.5213C63.459 15.9371 64.2173 15.5427 65.0398 15.3873C65.8622 15.2319 66.7122 15.3225 67.4834 15.6477C68.2546 15.9729 68.9128 16.5183 69.3756 17.2157C69.8385 17.9131 70.0854 18.7315 70.0854 19.5685C70.0692 20.7105 69.6009 21.7995 68.7832 22.597C67.9656 23.3944 66.8652 23.8353 65.7231 23.8231H65.7201Z" fill="white"/>
	<path d="M27.8727 13.4793C26.2948 13.4216 24.7585 13.9922 23.6009 15.0658C22.4432 16.1395 21.7588 17.6286 21.6978 19.2063C21.6978 19.3333 21.6978 19.4603 21.6978 19.5874C21.6978 23.1616 24.3433 25.7174 28.3126 25.7174C29.2137 25.762 30.1138 25.6112 30.9512 25.2752C31.7885 24.9393 32.5433 24.4262 33.1637 23.7711L31.9357 22.3686C31.4807 22.8485 30.9286 23.2258 30.3162 23.4754C29.7038 23.725 29.0452 23.8411 28.3844 23.816C25.9474 23.816 24.2066 22.4135 23.9283 20.3096H33.9039C33.9268 20.1101 33.9508 19.8338 33.9508 19.6532C33.9962 18.8387 33.8709 18.0237 33.5828 17.2604C33.2947 16.4972 32.8502 15.8026 32.2779 15.2213C31.7055 14.64 31.018 14.1847 30.2594 13.8847C29.5008 13.5847 28.6878 13.4466 27.8727 13.4793V13.4793ZM23.9283 18.7494C24.0598 17.7966 24.5317 16.9236 25.2569 16.2917C25.982 15.6598 26.9113 15.3117 27.8731 15.3117C28.835 15.3117 29.7643 15.6598 30.4894 16.2917C31.2145 16.9236 31.6865 17.7966 31.818 18.7494H23.9283Z" fill="white"/>
	<path d="M21.9634 13.4834C19.8057 13.4834 18.2725 14.2076 17.4844 15.6092V13.5971H15.3486V25.5858H17.5762V19.6134C17.5762 16.9898 19.0625 15.5643 21.4527 15.5643C21.6233 15.5611 21.7938 15.5687 21.9634 15.5872V13.4834Z" fill="white"/>
	<path d="M53.3496 23.8893C52.1216 23.8893 51.7306 23.1651 51.7306 21.8772V15.3841H55.258V13.5975H51.7276V10.0801H49.499V13.5975H48.7329V15.3841H49.499V21.968C49.499 24.3891 50.6103 25.7218 53.0903 25.7218C53.9633 25.7557 54.8167 25.4565 55.4774 24.8849L54.7791 23.3267C54.3943 23.6936 53.8813 23.8955 53.3496 23.8893Z" fill="white"/>
	<path d="M58.5547 13.5957H56.3271V25.5844H58.5547V13.5957Z" fill="white"/>
	<path d="M45.436 15.2659C45.1536 14.9896 44.8457 14.7408 44.5162 14.5227C43.6462 13.9549 42.6512 13.6071 41.6169 13.5091C40.5826 13.4111 39.54 13.5658 38.5788 13.9601C37.4672 14.4168 36.5109 15.1843 35.8245 16.1706C35.2423 17.0055 34.8836 17.9757 34.7827 18.9885C34.6817 20.0013 34.8419 21.0231 35.2479 21.9565C35.7269 23.0526 36.5148 23.9854 37.5154 24.6409C38.3847 25.2105 39.3798 25.5594 40.4144 25.6574C41.4491 25.7554 42.492 25.5997 43.4528 25.2036C44.1908 24.8986 44.8638 24.4557 45.436 23.8988V25.5836H47.3623V13.5949H45.44L45.436 15.2659ZM41.0018 23.8239C40.1653 23.8024 39.3537 23.5346 38.6685 23.0542C37.9833 22.5738 37.455 21.9021 37.1496 21.123C36.8441 20.3439 36.7752 19.4921 36.9513 18.674C37.1275 17.8559 37.5409 17.1079 38.1399 16.5236C38.7389 15.9392 39.4968 15.5445 40.319 15.3886C41.1412 15.2328 41.9911 15.3228 42.7624 15.6474C43.5337 15.972 44.1921 16.5168 44.6554 17.2137C45.1187 17.9106 45.3663 18.7285 45.3672 19.5653C45.3517 20.7084 44.8833 21.7987 44.0649 22.5969C43.2465 23.395 42.1449 23.836 41.0018 23.8229V23.8239Z" fill="white"/>
	<path d="M62.5729 9.85965L53.9518 11.8087L56.5193 9.85965L46 5L62.5729 9.85965Z" fill="white"/>
	<path d="M62.5729 9.85965H56.5182L46 5L62.5729 9.85965Z" fill="white"/>
</svg>
`},12887:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M7.32983 7.32574C8.8018 7.32574 9.99507 6.13354 9.99507 4.66287C9.99507 3.19221 8.8018 2 7.32983 2C5.85786 2 4.66459 3.19221 4.66459 4.66287C4.66459 6.13354 5.85786 7.32574 7.32983 7.32574Z" fill="currentColor"/>
<path d="M6.14491 12.729C6.14491 13.2464 6.36108 13.6765 6.69464 14H3C2.44772 14 2 13.5523 2 13V12.6686C2 11.9623 2.2808 11.285 2.78063 10.7856C3.28046 10.2862 3.95837 10.0057 4.66524 10.0057H6.36533C6.22594 10.2526 6.14491 10.5366 6.14491 10.8534V12.729Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12.7466 9.64696V8.71975C12.7466 8.23132 12.4629 7.85052 12.1287 7.61656C11.7926 7.38121 11.3601 7.25456 10.9108 7.25456H10.5202C10.0719 7.25456 9.63972 7.38141 9.30371 7.61631C8.97002 7.84959 8.68444 8.23022 8.68444 8.71975V9.6493C8.00114 9.70725 7.46462 10.2805 7.46462 10.9792V12.668C7.46462 13.4051 8.06187 14.0027 8.79862 14.0027H12.6645C13.4012 14.0027 13.9985 13.4051 13.9985 12.668V10.9792C13.9985 10.2696 13.4451 9.68939 12.7466 9.64696ZM9.88326 8.71426C9.88237 8.71729 9.88231 8.71975 9.88231 8.71975V9.4608H11.5487V8.71975C11.5487 8.71975 11.5486 8.71676 11.5477 8.71359C11.5467 8.71018 11.5442 8.70323 11.5379 8.69286C11.5249 8.67138 11.4965 8.63673 11.4419 8.59851C11.3303 8.52039 11.1444 8.45307 10.9108 8.45307H10.5202C10.2884 8.45307 10.1022 8.52019 9.9898 8.59876C9.93482 8.63719 9.90614 8.67205 9.89304 8.69366C9.88673 8.70406 9.88423 8.71098 9.88326 8.71426ZM10.1704 11.5728C10.1704 11.2719 10.4143 11.028 10.7152 11.028C11.0161 11.028 11.26 11.2719 11.26 11.5728V12.1176C11.26 12.4184 11.0161 12.6623 10.7152 12.6623C10.4143 12.6623 10.1704 12.4184 10.1704 12.1176V11.5728Z" fill="currentColor"/>
</svg>
`},53594:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <line x1="5" y1="8" x2="12" y2="8" stroke="currentColor" stroke-width="2"/>
    <path d="M1.00001 14L1 2" stroke="currentColor" stroke-width="2"/>
    <path d="M1 3L5 3" stroke="currentColor" stroke-width="2"/>
    <line x1="2" y1="13" x2="5" y2="13" stroke="currentColor" stroke-width="2"/>
    <path d="M9 4L12.9977 7.99768L9 11.9954" stroke="currentColor" stroke-width="2"/>
</svg>`},22512:P=>{P.exports=`<svg width="22" height="21" viewBox="0 0 22 21" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.15 4.88656e-08C9.12614 0.000197826 7.14786 0.600523 5.46518 1.72506C3.78251 2.8496 2.47099 4.44784 1.69663 6.3177C0.92227 8.18755 0.719764 10.245 1.11472 12.23C1.50967 14.2149 2.48435 16.0382 3.9155 17.4692C5.34665 18.9002 7.17002 19.8747 9.155 20.2694C11.14 20.6642 13.1975 20.4615 15.0672 19.687C16.937 18.9124 18.5351 17.6008 19.6595 15.918C20.7839 14.2353 21.384 12.2569 21.384 10.233C21.384 8.8891 21.1193 7.55836 20.605 6.31677C20.0906 5.07518 19.3368 3.94706 18.3864 2.99683C17.4361 2.04659 16.308 1.29285 15.0664 0.778656C13.8247 0.264458 12.4939 -0.000131281 11.15 4.88656e-08ZM12.174 17.4H10.127V15.353H12.174V17.4ZM14.305 9.47L13.367 10.408C12.9506 10.7606 12.6249 11.208 12.4173 11.7127C12.2097 12.2173 12.1263 12.7644 12.174 13.308H10.127V12.796C10.124 12.2576 10.228 11.724 10.433 11.2262C10.6379 10.7283 10.9398 10.2762 11.321 9.896L12.601 8.616C12.8387 8.3776 13.014 8.0843 13.1114 7.76205C13.2088 7.43979 13.2253 7.09851 13.1594 6.76836C13.0935 6.43822 12.9473 6.12939 12.7337 5.86919C12.5201 5.60898 12.2457 5.40542 11.9347 5.2765C11.6237 5.14757 11.2857 5.09725 10.9507 5.13C10.6156 5.16274 10.2938 5.27754 10.0136 5.46424C9.73351 5.65094 9.50376 5.90379 9.34458 6.20042C9.18539 6.49706 9.10175 6.82835 9.10105 7.165H7.05405C7.03295 6.61378 7.12329 6.06398 7.31967 5.5485C7.51606 5.03302 7.81447 4.56248 8.19699 4.16503C8.57952 3.76759 9.03828 3.45142 9.54587 3.23546C10.0535 3.0195 10.5994 2.90819 11.151 2.90819C11.7026 2.90819 12.2486 3.0195 12.7562 3.23546C13.2638 3.45142 13.7226 3.76759 14.1051 4.16503C14.4876 4.56248 14.786 5.03302 14.9824 5.5485C15.1788 6.06398 15.2691 6.61378 15.248 7.165C15.2564 7.59202 15.1775 8.01625 15.0162 8.41173C14.8549 8.80721 14.6146 9.1656 14.31 9.465L14.305 9.47Z" fill="currentColor"/>
</svg>
`},56057:P=>{P.exports=`<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 11C9.67157 11 9 11.6716 9 12.5V27.5C9 28.3284 9.67157 29 10.5 29H29.5C30.3284 29 31 28.3284 31 27.5V12.5C31 11.6716 30.3284 11 29.5 11H10.5ZM12 13C11.4477 13 11 13.4477 11 14V26C11 26.5523 11.4477 27 12 27H22C22.5523 27 23 26.5523 23 26V14C23 13.4477 22.5523 13 22 13H12Z" fill="currentColor"/>
</svg>
`},14477:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.00002 1.75195C7.71975 1.75195 7.44445 1.826 7.20199 1.9666C6.9601 2.10687 6.75945 2.30843 6.62028 2.55094L6.61932 2.55261L1.52473 11.3523C1.38484 11.5946 1.31067 11.8701 1.31043 12.1499C1.31018 12.4297 1.38346 12.7046 1.52292 12.9472C1.66239 13.1897 1.86314 13.3914 2.10507 13.5319C2.347 13.6724 2.62161 13.7469 2.9014 13.7479L2.90376 13.7479H13.0963L13.0986 13.7479C13.3784 13.7469 13.653 13.6724 13.895 13.5319C14.1369 13.3914 14.3376 13.1897 14.4771 12.9472C14.6166 12.7046 14.6899 12.4297 14.6896 12.1499C14.6894 11.8701 14.6156 11.5953 14.4757 11.353L9.38071 2.55261L9.37975 2.55093C9.24058 2.30843 9.03994 2.10687 8.79804 1.9666C8.55559 1.826 8.28029 1.75195 8.00002 1.75195ZM8.00341 9.43805C7.54225 9.43805 7.16841 9.06421 7.16841 8.60305V6.48849C7.16841 6.02733 7.54225 5.65349 8.00341 5.65349C8.46457 5.65349 8.83841 6.02733 8.83841 6.48849V8.60305C8.83841 9.06421 8.46457 9.43805 8.00341 9.43805ZM8.00341 11.7759C8.46457 11.7759 8.83841 11.4021 8.83841 10.9409C8.83841 10.4798 8.46457 10.1059 8.00341 10.1059H7.99674C7.53559 10.1059 7.16174 10.4798 7.16174 10.9409C7.16174 11.4021 7.53559 11.7759 7.99674 11.7759H8.00341Z" fill="white"/>
</svg>
`},31617:P=>{P.exports=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path fill-rule="evenodd" clip-rule="evenodd" d="M8.30659 19.2816C7.71644 19.7459 7.17382 20.1728 7.03443 22C6.99244 22.5505 7.44732 23.0002 7.99939 23.0006L23.9794 23.0095C24.5319 23.0098 24.9875 22.5598 24.945 22.009C24.8041 20.1815 24.256 19.7534 23.66 19.2878C22.8088 18.623 21.8599 17.8818 21.8599 12.88C21.8599 9.23001 20.3693 7.33195 18.1785 7.27151C18.1067 7.26953 18.0342 7.2631 17.9649 7.24436C17.7351 7.18233 17.5174 7.0842 17.3196 6.95426C17.0935 6.80576 16.9899 6.53736 16.9899 6.26689V6C16.9899 5.44772 16.5422 5 15.9899 5V5C15.4377 5 14.9899 5.44772 14.9899 6V6.25688C14.9899 6.52735 14.8863 6.79575 14.6603 6.94425C14.4625 7.0742 14.2448 7.17232 14.015 7.23436C13.9456 7.25309 13.8732 7.25952 13.8014 7.26151C11.6096 7.32224 10.0899 9.22981 10.0899 12.87C10.0899 17.8786 9.14973 18.6183 8.30659 19.2816ZM15.9999 27.01C16.8695 27.01 17.6141 26.1726 17.8879 25.0018C18.0136 24.464 17.5522 24.01 16.9999 24.01H14.9999C14.4477 24.01 13.9862 24.464 14.112 25.0018C14.3858 26.1726 15.1304 27.01 15.9999 27.01Z" fill="currentColor"/>
	<path d="M27 9C29.2091 9 31 7.20914 31 5C31 2.79086 29.2091 1 27 1C24.7909 1 23 2.79086 23 5C23 7.20914 24.7909 9 27 9Z" fill="#D2310D"/>
</svg>
`},4803:P=>{P.exports=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path fill-rule="evenodd" clip-rule="evenodd" d="M8.30659 19.2816C7.71644 19.7459 7.17382 20.1728 7.03443 22C6.99244 22.5505 7.44732 23.0002 7.99939 23.0006L23.9794 23.0095C24.5319 23.0098 24.9875 22.5598 24.945 22.009C24.8041 20.1815 24.256 19.7534 23.66 19.2878C22.8088 18.623 21.8599 17.8818 21.8599 12.88C21.8599 9.23001 20.3693 7.33195 18.1785 7.27151C18.1067 7.26953 18.0342 7.2631 17.9649 7.24436C17.7351 7.18233 17.5174 7.0842 17.3196 6.95426C17.0935 6.80576 16.9899 6.53736 16.9899 6.26689V6C16.9899 5.44772 16.5422 5 15.9899 5V5C15.4377 5 14.9899 5.44772 14.9899 6V6.25688C14.9899 6.52735 14.8863 6.79575 14.6603 6.94425C14.4625 7.0742 14.2448 7.17232 14.015 7.23436C13.9456 7.25309 13.8732 7.25952 13.8014 7.26151C11.6096 7.32224 10.0899 9.22981 10.0899 12.87C10.0899 17.8786 9.14973 18.6183 8.30659 19.2816ZM15.9999 27.01C16.8695 27.01 17.6141 26.1726 17.8879 25.0018C18.0136 24.464 17.5522 24.01 16.9999 24.01H14.9999C14.4477 24.01 13.9862 24.464 14.112 25.0018C14.3858 26.1726 15.1304 27.01 15.9999 27.01Z" fill="currentColor"/>
</svg>
`},72816:P=>{P.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10.6477 3.7921C10.0849 3.98314 9.4883 4.26947 8.94174 4.69091C8.89082 4.73017 8.85784 4.78936 8.85784 4.85366V14.2763C8.85784 14.3201 8.90952 14.3396 8.93467 14.3038C9.31132 13.7685 10.03 13.3802 10.9124 13.1213C11.774 12.8685 12.6597 12.7776 13.1956 12.7466C13.6472 12.7204 14 12.3491 14 11.8998V4.25019C14 3.79737 13.6424 3.42414 13.187 3.40169L13.1839 3.40154L13.1785 3.40131L13.1631 3.40071C13.1509 3.40028 13.1346 3.39979 13.1146 3.39938C13.0747 3.39856 13.0196 3.39803 12.9514 3.39884C12.815 3.40044 12.6247 3.40734 12.3953 3.428C11.9394 3.46907 11.3143 3.56581 10.6477 3.7921Z" fill="currentColor"/>
<path d="M7.06679 14.3046C7.09196 14.3403 7.14355 14.3208 7.14355 14.2771V4.85559C7.14355 4.79051 7.11013 4.73061 7.05859 4.69087C6.51205 4.26945 5.91539 3.98312 5.35259 3.7921C4.6859 3.5658 4.06074 3.46906 3.60478 3.428C3.37541 3.40734 3.18503 3.40044 3.04866 3.39884C2.98038 3.39803 2.92533 3.39856 2.88537 3.39938C2.86539 3.39979 2.84915 3.40028 2.83688 3.40071L2.82148 3.40131L2.81607 3.40154L2.81394 3.40164L2.8122 3.40173C2.35727 3.42415 2 3.79701 2 4.24937V11.8999C2 12.3484 2.35168 12.7194 2.80252 12.7464C3.3393 12.7786 4.22567 12.8705 5.08792 13.1237C5.97123 13.383 6.69031 13.7709 7.06679 14.3046Z" fill="currentColor"/>
</svg>
`},5852:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.08247 2.00244C9.63475 2.00244 10.0825 2.45016 10.0825 3.00244V13C10.0825 13.5523 9.63475 14 9.08247 14H3C2.44772 14 2 13.5523 2 13V3.00244C2 2.45016 2.44772 2.00244 3 2.00244H9.08247ZM3.44871 12.2383C3.33825 12.2383 3.24871 12.1487 3.24871 12.0383V10.4383C3.24871 10.3278 3.33825 10.2383 3.44871 10.2383H5.02806C5.13852 10.2383 5.22806 10.3278 5.22806 10.4383V12.0383C5.22806 12.1487 5.13852 12.2383 5.02806 12.2383H3.44871ZM3.44871 8.99998C3.33825 8.99998 3.24871 8.91044 3.24871 8.79998V7.19998C3.24871 7.08952 3.33825 6.99998 3.44871 6.99998H5.02806C5.13852 6.99998 5.22806 7.08952 5.22806 7.19998V8.79998C5.22806 8.91044 5.13852 8.99998 5.02806 8.99998H3.44871ZM3.24871 5.56365C3.24871 5.67411 3.33825 5.76365 3.44871 5.76365H5.02806C5.13852 5.76365 5.22806 5.67411 5.22806 5.56365V3.96365C5.22806 3.8532 5.13852 3.76365 5.02806 3.76365H3.44871C3.33825 3.76365 3.24871 3.8532 3.24871 3.96365V5.56365ZM7.05531 12.2383C6.94485 12.2383 6.85531 12.1487 6.85531 12.0383V10.4383C6.85531 10.3278 6.94485 10.2383 7.05531 10.2383H8.63466C8.74512 10.2383 8.83466 10.3278 8.83466 10.4383V12.0383C8.83466 12.1487 8.74512 12.2383 8.63466 12.2383H7.05531ZM6.85531 8.79998C6.85531 8.91044 6.94485 8.99998 7.05531 8.99998H8.63466C8.74512 8.99998 8.83466 8.91044 8.83466 8.79998V7.19998C8.83466 7.08952 8.74512 6.99998 8.63466 6.99998H7.05531C6.94485 6.99998 6.85531 7.08952 6.85531 7.19998V8.79998ZM7.05531 5.76365C6.94485 5.76365 6.85531 5.67411 6.85531 5.56365V3.96365C6.85531 3.8532 6.94485 3.76365 7.05531 3.76365H8.63466C8.74512 3.76365 8.83466 3.8532 8.83466 3.96365V5.56365C8.83466 5.67411 8.74512 5.76365 8.63466 5.76365H7.05531Z" fill="currentColor"/>
<path d="M12.4981 3.99998H10.9415C10.831 3.99998 10.7415 4.08952 10.7415 4.19998V4.79998C10.7415 4.91044 10.831 4.99998 10.9415 4.99998H12.4981C12.7743 4.99998 12.9981 5.22384 12.9981 5.49998V12.5C12.9981 12.7761 12.7743 13 12.4981 13H10.9415C10.831 13 10.7415 13.0895 10.7415 13.2V13.8C10.7415 13.9104 10.831 14 10.9415 14H12.4981C13.3266 14 13.9981 13.3284 13.9981 12.5V5.49998C13.9981 4.67155 13.3266 3.99998 12.4981 3.99998Z" fill="currentColor"/>
<path d="M11.8454 6.35068H10.9415C10.831 6.35068 10.7415 6.44023 10.7415 6.55068V8.17193C10.7415 8.28239 10.831 8.37193 10.9415 8.37193H11.8454C11.9571 8.37193 12.0476 8.28144 12.0476 8.16981V6.55281C12.0476 6.44118 11.9571 6.35068 11.8454 6.35068Z" fill="currentColor"/>
<path d="M11.8454 9.64756H10.9415C10.831 9.64756 10.7415 9.7371 10.7415 9.84756V11.4688C10.7415 11.5793 10.831 11.6688 10.9415 11.6688H11.8454C11.9571 11.6688 12.0476 11.5783 12.0476 11.4667V9.84968C12.0476 9.73805 11.9571 9.64756 11.8454 9.64756Z" fill="currentColor"/>
</svg>
`},69258:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M13.582 8L4.58203 13.5V2.5L13.582 8Z" fill="currentColor"/>
</svg>
`},8644:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none">
	<path fill="#fff" d="m7.56 14.76-.4-2.44a.97.97 0 0 1 .25-.8s.15-.1 0-.24L4.76 8.63c-.1-.14-.25 0-.25 0-.23.18-.52.27-.8.25l-2.45-.4c-.25-.05-.35-.2-.15-.4l3.35-3.33a.98.98 0 0 1 .8-.25l.9.2a.39.39 0 0 0 .4-.1c2.95-2.7 6.7-4.44 8-3.19 1.3 1.3-.45 5.18-3.15 8.12a.25.25 0 0 0-.1.3l.25.95a.97.97 0 0 1-.25.8L7.96 14.9a.36.36 0 0 1-.2.09c-.1 0-.17-.08-.2-.24Zm3-11.26a1.44 1.44 0 0 0 0 2.05 1.49 1.49 0 0 0 2.05 0 1.44 1.44 0 0 0-1.03-2.47c-.38 0-.75.15-1.02.42ZM4.3 9.83c.05-.05.15-.15.35.05l1.55 1.54c.2.2.1.3.05.35-1.25 1.2-1.6.9-3.7 1.95a.17.17 0 0 1-.08.02c-.42 0 .63-2.72 1.82-3.9v-.01Z"/>
</svg>
`},63762:P=>{P.exports=`<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.3981 16.6992C10.3305 16.7505 10.2527 16.7867 10.17 16.8051C9.01547 17.058 7.82033 17.058 6.66577 16.8051C6.58357 16.788 6.50602 16.7531 6.43841 16.7031C6.37079 16.653 6.31469 16.5889 6.27394 16.5151L5.43965 15.0018C5.34721 14.8342 5.20794 14.6977 5.04155 14.6029C5.02685 14.5946 5.01219 14.5862 4.99758 14.5778C4.83004 14.4812 4.6407 14.4268 4.44735 14.4296L2.73271 14.455C2.64934 14.4565 2.56661 14.44 2.4901 14.4066C2.41359 14.3733 2.34507 14.3238 2.28914 14.2616C1.49047 13.3822 0.890248 12.3395 0.529613 11.205C0.512571 11.1469 0.502639 11.087 0.50004 11.0265C0.498725 10.9182 0.52962 10.812 0.588755 10.7215L1.48325 9.21753C1.57523 9.06288 1.62377 8.88629 1.62377 8.70636V8.61757C1.62377 8.437 1.57488 8.25981 1.48229 8.10479L0.588757 6.60881C0.544941 6.53586 0.517011 6.45438 0.506816 6.36977C0.496621 6.28515 0.504392 6.19933 0.529613 6.11796C0.891852 4.98573 1.48908 3.94384 2.28174 3.06129C2.33967 2.99961 2.40961 2.95061 2.4872 2.91734C2.56479 2.88407 2.64837 2.86725 2.73271 2.86793L4.432 2.89935C4.63492 2.9031 4.83275 2.84253 5.00838 2.74083C5.013 2.73816 5.01762 2.7355 5.02224 2.73284C5.19884 2.63132 5.35077 2.48973 5.44912 2.31135L6.27394 0.815276C6.31427 0.740359 6.37013 0.67503 6.43773 0.623707C6.50533 0.572383 6.58309 0.536263 6.66577 0.51779C7.82033 0.264903 9.01547 0.264903 10.17 0.51779C10.2533 0.534827 10.3317 0.570386 10.3995 0.621861C10.4673 0.673337 10.5227 0.739423 10.5619 0.815276L11.3962 2.32217C11.4886 2.48915 11.6278 2.62458 11.7931 2.72002C11.8039 2.72625 11.8147 2.73251 11.8254 2.7388C12.0021 2.84209 12.2019 2.90308 12.4066 2.8993L14.1031 2.86793C14.1865 2.86643 14.2692 2.88292 14.3457 2.91627C14.4222 2.94963 14.4907 2.99907 14.5467 3.06129C15.3453 3.94068 15.9456 4.98339 16.3062 6.11796C16.3314 6.19933 16.3392 6.28515 16.329 6.36977C16.3188 6.45438 16.2909 6.53586 16.247 6.60881L15.363 8.08888C15.2644 8.2539 15.217 8.44382 15.2175 8.63603C15.2176 8.65299 15.2176 8.66993 15.2175 8.68688C15.217 8.8791 15.2644 9.06902 15.363 9.23403L16.247 10.7141C16.2909 10.7871 16.3188 10.8685 16.329 10.9532C16.3392 11.0378 16.3314 11.1236 16.3062 11.205C15.9458 12.338 15.3484 13.3803 14.5541 14.2616C14.4961 14.3233 14.4262 14.3723 14.3486 14.4056C14.271 14.4389 14.1874 14.4557 14.1031 14.455L12.3939 14.4297C12.1971 14.4268 12.0052 14.4842 11.834 14.5812C11.8283 14.5844 11.8227 14.5877 11.817 14.5908C11.638 14.6915 11.4845 14.8341 11.3854 15.0139L10.5619 16.5076C10.5215 16.5826 10.4657 16.6479 10.3981 16.6992ZM7.10975 10.8843C8.35977 11.593 9.95817 11.1724 10.6799 9.94485C11.4016 8.7173 10.9733 7.14764 9.72326 6.43891C8.47324 5.73018 6.87484 6.15077 6.15314 7.37833C5.43144 8.60588 5.85973 10.1755 7.10975 10.8843Z" fill="currentColor"/>
</svg>
`},72546:P=>{P.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_17233_7092)">
<path d="M8.00098 15.5C11.867 15.5 15.001 12.366 15.001 8.5C15.001 4.63401 11.867 1.5 8.00098 1.5C4.13498 1.5 1.00098 4.63401 1.00098 8.5C1.00098 12.366 4.13498 15.5 8.00098 15.5Z" stroke="white" stroke-miterlimit="10"/>
<path d="M8.00098 3.5V8.5L11.001 11.5" stroke="white" stroke-miterlimit="10"/>
</g>
<defs>
<clipPath id="clip0_17233_7092">
<rect width="16" height="16" fill="currentColor" transform="translate(0.000976562 0.5)"/>
</clipPath>
</defs>
</svg>
`},72858:P=>{P.exports=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path fill-rule="evenodd" clip-rule="evenodd" d="M24.771 11.4644C25.2101 10.7619 24.9965 9.83651 24.294 9.39745L20.8235 7.22839C20.121 6.78932 19.1956 7.00288 18.7565 7.70539L16.5875 11.1759C16.1484 11.8784 16.362 12.8038 17.0645 13.2429L20.535 15.4119C21.2375 15.851 22.1629 15.6374 22.602 14.9349L24.771 11.4644ZM7.00073 9.27512C7.00073 8.44669 7.6723 7.77512 8.50073 7.77512H12.5933C13.4217 7.77512 14.0933 8.44669 14.0933 9.27512V13.3677C14.0933 14.1961 13.4217 14.8677 12.5933 14.8677H8.50073C7.67231 14.8677 7.00073 14.1961 7.00073 13.3677V9.27512ZM7.00073 19.4073C7.00073 18.5789 7.6723 17.9073 8.50073 17.9073H12.5933C13.4217 17.9073 14.0933 18.5789 14.0933 19.4073V23.4998C14.0933 24.3283 13.4217 24.9998 12.5933 24.9998H8.50073C7.67231 24.9998 7.00073 24.3283 7.00073 23.4998V19.4073ZM17.1328 19.4073C17.1328 18.5789 17.8044 17.9073 18.6328 17.9073H22.7254C23.5538 17.9073 24.2254 18.5789 24.2254 19.4073V23.4998C24.2254 24.3283 23.5538 24.9998 22.7254 24.9998H18.6328C17.8044 24.9998 17.1328 24.3283 17.1328 23.4998V19.4073Z" fill="currentColor"/>
	<path d="M27 9C29.2091 9 31 7.20914 31 5C31 2.79086 29.2091 1 27 1C24.7909 1 23 2.79086 23 5C23 7.20914 24.7909 9 27 9Z" fill="#D2310D"/>
</svg>
`},52440:P=>{P.exports=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path fill-rule="evenodd" clip-rule="evenodd" d="M24.771 11.4644C25.2101 10.7619 24.9965 9.83651 24.294 9.39745L20.8235 7.22839C20.121 6.78932 19.1956 7.00288 18.7565 7.70539L16.5875 11.1759C16.1484 11.8784 16.362 12.8038 17.0645 13.2429L20.535 15.4119C21.2375 15.851 22.1629 15.6374 22.602 14.9349L24.771 11.4644ZM7.00073 9.27512C7.00073 8.44669 7.6723 7.77512 8.50073 7.77512H12.5933C13.4217 7.77512 14.0933 8.44669 14.0933 9.27512V13.3677C14.0933 14.1961 13.4217 14.8677 12.5933 14.8677H8.50073C7.67231 14.8677 7.00073 14.1961 7.00073 13.3677V9.27512ZM7.00073 19.4073C7.00073 18.5789 7.6723 17.9073 8.50073 17.9073H12.5933C13.4217 17.9073 14.0933 18.5789 14.0933 19.4073V23.4998C14.0933 24.3283 13.4217 24.9998 12.5933 24.9998H8.50073C7.67231 24.9998 7.00073 24.3283 7.00073 23.4998V19.4073ZM17.1328 19.4073C17.1328 18.5789 17.8044 17.9073 18.6328 17.9073H22.7254C23.5538 17.9073 24.2254 18.5789 24.2254 19.4073V23.4998C24.2254 24.3283 23.5538 24.9998 22.7254 24.9998H18.6328C17.8044 24.9998 17.1328 24.3283 17.1328 23.4998V19.4073Z" fill="currentColor"/>
</svg>
`},32867:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
	<g fill="currentColor">
		<path d="m15.524 9.057-8.53 1.912 2.73-1.91-8.927-4.32 14.727 4.318Z"/>
	</g>
</svg>
`},11590:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12.1781 8.37031C12.1719 7.30469 12.6547 6.50156 13.6297 5.90938C13.0844 5.12813 12.2594 4.69844 11.1719 4.61562C10.1422 4.53437 9.01562 5.21562 8.60312 5.21562C8.16719 5.21562 7.17031 4.64375 6.38594 4.64375C4.76719 4.66875 3.04688 5.93437 3.04688 8.50937C3.04688 9.27031 3.18594 10.0563 3.46406 10.8656C3.83594 11.9313 5.17656 14.5422 6.575 14.5C7.30625 14.4828 7.82344 13.9812 8.775 13.9812C9.69844 13.9812 10.1766 14.5 10.9922 14.5C12.4031 14.4797 13.6156 12.1063 13.9688 11.0375C12.0766 10.1453 12.1781 8.425 12.1781 8.37031ZM10.5359 3.60469C11.3281 2.66406 11.2563 1.80781 11.2328 1.5C10.5328 1.54062 9.72344 1.97656 9.2625 2.5125C8.75469 3.0875 8.45625 3.79844 8.52031 4.6C9.27656 4.65781 9.96719 4.26875 10.5359 3.60469Z" fill="#0D2E4E"/>
</svg>
`},5060:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">
  <g id="Group_14560" data-name="Group 14560" transform="translate(-464 -425)">
    <rect id="Rectangle_24800" data-name="Rectangle 24800" width="72" height="64" rx="6" transform="translate(464 425)" fill="none"/>
    <g id="Group_14731" data-name="Group 14731" transform="translate(-18.251 3)">
      <g id="Group_14728" data-name="Group 14728" transform="translate(490.547 438)">
        <rect id="Rectangle_6612" data-name="Rectangle 6612" width="56" height="5" rx="2.5" transform="translate(-0.296)" fill="#d1d1d1"/>
        <rect id="Rectangle_41225" data-name="Rectangle 41225" width="8" height="5" rx="2.5" transform="translate(-0.296 8)" fill="#0b8500"/>
        <rect id="Rectangle_44669" data-name="Rectangle 44669" width="8" height="5" rx="2.5" transform="translate(10.704 8)" fill="#d2310d"/>
      </g>
      <g id="Group_16918" data-name="Group 16918" transform="translate(490.547 457)">
        <rect id="Rectangle_6612-2" data-name="Rectangle 6612" width="56" height="5" rx="2.5" transform="translate(-0.296)" fill="#d1d1d1"/>
        <rect id="Rectangle_41225-2" data-name="Rectangle 41225" width="8" height="5" rx="2.5" transform="translate(-0.296 8)" fill="#0b8500"/>
        <rect id="Rectangle_44670" data-name="Rectangle 44670" width="8" height="5" rx="2.5" transform="translate(10.704 8)" fill="#d2310d"/>
      </g>
    </g>
  </g>
</svg>
`},61806:P=>{P.exports=`<svg id="Component_2434_22" data-name="Component 2434 \u2013 22" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <rect id="Rectangle_6408" data-name="Rectangle 6408" width="16" height="16" fill="rgba(0,0,0,0)"/>
  <path id="Path_11751" data-name="Path 11751" d="M1861.646,249.562l2-2h2l-4,4-4-4h2Z" transform="translate(1869.646 257.562) rotate(180)" fill="currentColor"/>
</svg>
`},39416:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.99999 4.05707L4.49999 9.49106C4.24344 9.76079 4.10037 10.1188 4.10037 10.4911C4.10037 10.8633 4.24344 11.2213 4.49999 11.4911C4.76983 11.7474 5.1278 11.8903 5.49999 11.8903C5.87217 11.8903 6.23014 11.7474 6.49999 11.4911L13.074 5.00006C13.4536 4.59281 13.6646 4.05678 13.6646 3.50006C13.6646 2.94334 13.4536 2.40732 13.074 2.00006C12.6667 1.62048 12.1307 1.40942 11.574 1.40942C11.0173 1.40942 10.4812 1.62048 10.074 2.00006L2.592 9.55109C2.27549 10.0852 2.13652 10.706 2.1951 11.3241C2.25368 11.9422 2.50677 12.5259 2.91799 12.9911C3.15766 13.3049 3.4665 13.5593 3.82048 13.7344C4.17447 13.9095 4.56407 14.0006 4.95899 14.0006C5.3539 14.0006 5.7435 13.9095 6.09749 13.7344C6.45148 13.5593 6.76031 13.3049 6.99999 12.9911C8.20899 11.7821 13 7.00006 13 7.00006" stroke="currentColor" stroke-miterlimit="10"/>
</svg>
`},5959:P=>{P.exports=`<svg width="45" height="44" viewBox="0 0 45 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path fill-rule="evenodd" clip-rule="evenodd" d="M25.8484 7.21313H11.605V35.513H16.1419V31.8267C16.3375 29.2006 18.585 26.997 21.0955 24.5355C21.5057 24.1332 21.923 23.7241 22.3395 23.3051C22.5499 23.0935 22.7546 22.8872 22.954 22.6862C27.353 18.2531 29.1822 16.4097 32.4016 17.1075V13.067H25.8484V7.21313ZM27.3978 7.71138L30.9989 11.5176H27.3978V7.71138Z" fill="#D1D1D1"/>
	<path fill-rule="evenodd" clip-rule="evenodd" d="M24.9989 38.996C24.9213 38.9987 24.8438 39 24.7668 39C23.1725 39 21.7138 38.425 20.6381 37.3675C19.6763 36.4207 19.1943 35.0795 19.2437 33.4881C19.2966 31.7821 19.9733 29.9878 20.8527 29.2218C21.4565 28.6958 26.3094 23.8889 29.424 20.7862L29.4317 20.7786C29.7477 20.4685 30.6447 19.8222 32.1447 20.5148C32.729 20.7847 33.3686 21.2468 33.9458 21.8161C34.5208 22.3832 34.9867 23.0105 35.2577 23.5824C35.955 25.0541 35.2964 25.9331 34.9809 26.2427L26.8982 34.0935C26.3362 34.6394 25.4305 34.6338 24.8755 34.0808C24.3205 33.5279 24.3263 32.637 24.8884 32.091L32.5876 24.6126C32.2956 24.1281 31.578 23.4224 31.0856 23.1358C29.4146 24.7991 23.5963 30.5835 22.7612 31.318C22.3348 31.7842 21.5564 34.2904 22.6609 35.3777C23.8586 36.5554 26.0077 36.3405 26.9879 35.3769C28.4565 33.9323 34.3018 28.1928 34.3606 28.135C34.9197 27.5861 35.8253 27.5868 36.3834 28.1369C36.9414 28.6869 36.9406 29.5777 36.3815 30.1267L36.2599 30.2461C35.4092 31.0814 30.36 36.0394 29.0103 37.3672C28.0119 38.3486 26.55 38.9421 24.9989 38.996Z" fill="#004FD6"/>
	<path d="M24.7668 39V38.5H24.7668L24.7668 39ZM24.9989 38.996L24.9816 38.4963L24.9815 38.4963L24.9989 38.996ZM20.6381 37.3675L20.2873 37.7238L20.2876 37.7241L20.6381 37.3675ZM19.2437 33.4881L19.7434 33.5036V33.5036L19.2437 33.4881ZM20.8527 29.2218L20.5243 28.8447L20.5243 28.8447L20.8527 29.2218ZM29.424 20.7862L29.0724 20.4308L29.0711 20.432L29.424 20.7862ZM29.4317 20.7786L29.0815 20.4218L29.08 20.4232L29.4317 20.7786ZM32.1447 20.5148L32.3544 20.0609L32.3543 20.0609L32.1447 20.5148ZM33.9458 21.8161L34.2969 21.4601L34.2969 21.4601L33.9458 21.8161ZM35.2577 23.5824L35.7096 23.3683L35.7096 23.3683L35.2577 23.5824ZM34.9809 26.2427L35.3293 26.6014L35.3311 26.5996L34.9809 26.2427ZM26.8982 34.0935L27.2466 34.4521L27.2466 34.4521L26.8982 34.0935ZM24.8755 34.0808L24.5226 34.435L24.5226 34.4351L24.8755 34.0808ZM24.8884 32.091L25.2367 32.4497L25.2367 32.4497L24.8884 32.091ZM32.5876 24.6126L32.936 24.9713L33.2208 24.6946L33.0159 24.3546L32.5876 24.6126ZM31.0856 23.1358L31.3371 22.7037L31.0051 22.5104L30.7328 22.7814L31.0856 23.1358ZM22.7612 31.318L22.431 30.9425L22.4106 30.9605L22.3922 30.9806L22.7612 31.318ZM22.6609 35.3777L22.3101 35.734L22.3103 35.7342L22.6609 35.3777ZM26.9879 35.3769L27.3384 35.7335L27.3385 35.7334L26.9879 35.3769ZM34.3606 28.135L34.0103 27.7782L34.0103 27.7782L34.3606 28.135ZM36.3834 28.1369L36.0324 28.4929L36.0324 28.493L36.3834 28.1369ZM36.3815 30.1267L36.0312 29.7699L36.0312 29.77L36.3815 30.1267ZM36.2599 30.2461L36.6102 30.6029L36.6102 30.6029L36.2599 30.2461ZM29.0103 37.3672L29.3608 37.7238L29.3609 37.7237L29.0103 37.3672ZM24.7668 39.5C24.8495 39.5 24.9328 39.4986 25.0163 39.4957L24.9815 38.4963C24.9097 38.4988 24.838 38.5 24.7668 38.5V39.5ZM20.2876 37.7241C21.4629 38.8796 23.0502 39.5 24.7668 39.5L24.7668 38.5C23.2947 38.5 21.9647 37.9705 20.9886 37.011L20.2876 37.7241ZM18.7439 33.4727C18.6911 35.176 19.2083 36.6617 20.2873 37.7238L20.9889 37.0112C20.1443 36.1798 19.6976 34.983 19.7434 33.5036L18.7439 33.4727ZM20.5243 28.8447C19.9982 29.303 19.5715 30.0277 19.2704 30.826C18.966 31.6332 18.7721 32.5626 18.7439 33.4727L19.7434 33.5036C19.7681 32.7076 19.9391 31.8868 20.2061 31.1789C20.4764 30.462 20.8278 29.9066 21.1811 29.5988L20.5243 28.8447ZM29.0711 20.432C25.9452 23.546 21.1115 28.3333 20.5243 28.8447L21.1811 29.5988C21.8016 29.0583 26.6737 24.2318 29.7769 21.1404L29.0711 20.432ZM29.08 20.4232L29.0724 20.4308L29.7757 21.1416L29.7833 21.1341L29.08 20.4232ZM32.3543 20.0609C31.5092 19.6706 30.7931 19.6419 30.222 19.7859C29.6602 19.9275 29.2819 20.2251 29.0815 20.4218L29.7819 21.1355C29.8975 21.0221 30.1257 20.8414 30.4664 20.7555C30.7978 20.672 31.2802 20.6663 31.9351 20.9688L32.3543 20.0609ZM34.2969 21.4601C33.6888 20.8603 33.0027 20.3604 32.3544 20.0609L31.9351 20.9687C32.4553 21.209 33.0484 21.6333 33.5947 22.1721L34.2969 21.4601ZM35.7096 23.3683C35.4077 22.7313 34.9026 22.0575 34.2969 21.4601L33.5947 22.172C34.139 22.7089 34.5657 23.2897 34.8059 23.7965L35.7096 23.3683ZM35.3311 26.5996C35.5306 26.4038 35.8357 26.0315 35.9825 25.4761C36.1321 24.91 36.1043 24.2015 35.7096 23.3683L34.8059 23.7965C35.1084 24.435 35.1 24.9018 35.0157 25.2206C34.9286 25.55 34.7467 25.772 34.6307 25.8858L35.3311 26.5996ZM27.2466 34.4521L35.3292 26.6014L34.6325 25.884L26.5498 33.7348L27.2466 34.4521ZM24.5226 34.4351C25.2711 35.1808 26.4888 35.1881 27.2466 34.4521L26.5499 33.7348C26.1835 34.0906 25.59 34.0869 25.2284 33.7266L24.5226 34.4351ZM24.54 31.7324C23.7776 32.4729 23.7696 33.6848 24.5226 34.435L25.2284 33.7266C24.8714 33.3709 24.8749 32.8011 25.2367 32.4497L24.54 31.7324ZM32.2393 24.254L24.54 31.7324L25.2367 32.4497L32.936 24.9713L32.2393 24.254ZM30.834 23.5679C31.0299 23.682 31.2987 23.8985 31.5612 24.1565C31.8238 24.4147 32.0438 24.6788 32.1594 24.8707L33.0159 24.3546C32.8395 24.0619 32.5546 23.7309 32.2623 23.4435C31.9698 23.1559 31.6336 22.8763 31.3371 22.7037L30.834 23.5679ZM23.0914 31.6934C23.9419 30.9454 29.7783 25.1425 31.4383 23.4902L30.7328 22.7814C29.0508 24.4556 23.2508 30.2215 22.431 30.9425L23.0914 31.6934ZM23.0116 35.0213C22.6354 34.651 22.5277 33.9645 22.6325 33.1813C22.6824 32.8086 22.7761 32.4527 22.8801 32.1673C22.9912 31.8624 23.0928 31.6962 23.1302 31.6554L22.3922 30.9806C22.2164 31.1728 22.0608 31.4948 21.9405 31.8249C21.8132 32.1745 21.7013 32.6005 21.6414 33.0486C21.5265 33.9068 21.5818 35.017 22.3101 35.734L23.0116 35.0213ZM26.6374 35.0204C26.2556 35.3957 25.6028 35.6568 24.8893 35.6805C24.182 35.7041 23.4905 35.4921 23.0114 35.0211L22.3103 35.7342C23.0291 36.4409 24.0109 36.7103 24.9226 36.68C25.8281 36.6498 26.74 36.3218 27.3384 35.7335L26.6374 35.0204ZM34.0103 27.7782C33.9516 27.8359 28.106 33.5757 26.6373 35.0205L27.3385 35.7334C28.8069 34.289 34.6519 28.5497 34.7109 28.4918L34.0103 27.7782ZM36.7344 27.7808C35.9819 27.039 34.7641 27.0381 34.0103 27.7782L34.7109 28.4918C35.0753 28.134 35.6688 28.1346 36.0324 28.4929L36.7344 27.7808ZM36.7318 30.4835C37.4902 29.7388 37.4914 28.5269 36.7344 27.7807L36.0324 28.493C36.3915 28.8469 36.391 29.4167 36.0312 29.7699L36.7318 30.4835ZM36.6102 30.6029L36.7318 30.4835L36.0312 29.77L35.9096 29.8894L36.6102 30.6029ZM29.3609 37.7237C30.7104 36.3961 35.7594 31.4383 36.6102 30.6029L35.9096 29.8894C35.059 30.7245 30.0096 35.6828 28.6596 37.0108L29.3609 37.7237ZM25.0163 39.4957C26.6776 39.4379 28.2632 38.8027 29.3608 37.7238L28.6598 37.0106C27.7606 37.8945 26.4223 38.4462 24.9816 38.4963L25.0163 39.4957Z" fill="white"/>
</svg>
`},19127:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">
  <g id="Group_12169" data-name="Group 12169" transform="translate(-464 -425)">
    <g id="Group_9771" data-name="Group 9771" transform="translate(399 129)">
      <rect id="Rectangle_21438" data-name="Rectangle 21438" width="56" height="24" rx="3" transform="translate(73 316)" fill="#006ce0"/>
      <text id="OK" transform="translate(101 332)" fill="#fff" font-size="10" font-family="OpenSans-SemiBold, Open Sans" font-weight="600" letter-spacing="0.02em"><tspan x="-7.231" y="0">OK</tspan></text>
    </g>
    <rect id="Rectangle_24800" data-name="Rectangle 24800" width="72" height="64" rx="6" transform="translate(464 425)" fill="none"/>
  </g>
</svg>
`},95857:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.66835 9.87999L6.45131 13.18C6.5708 13.1799 6.68845 13.151 6.79445 13.0958C6.90044 13.0407 6.99167 12.9608 7.06031 12.863L8.52235 11.363L11.5523 13.751C12.1083 14.084 12.5004 13.908 12.6524 13.201L14.6412 3.17399C14.8182 2.28999 14.3414 1.94399 13.8034 2.16099L2.11232 6.977C1.31232 7.31 1.32733 7.78899 1.97633 8.00599L4.96534 9.00599L11.9072 4.33198C12.2342 4.09898 12.5322 4.23198 12.2872 4.46098L6.66835 9.87999Z" fill="#0091EA"/>
</svg>
`},87521:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.83195 14.3743C8.70172 14.483 8.5038 14.3904 8.5038 14.2207V12.5268C5.00438 12.5268 2.15771 10.089 2.15771 7.08726C2.15771 4.08557 5.00438 1.64777 8.5038 1.64777C12.0032 1.64777 14.8499 4.08829 14.8499 7.08726C14.833 7.93466 14.6079 8.76488 14.1945 9.50478C13.781 10.2447 13.192 10.8715 12.4792 11.3301L8.83195 14.3743ZM11.2235 6.18068C11.0442 6.18068 10.869 6.23385 10.7199 6.33347C10.5708 6.43308 10.4546 6.57467 10.386 6.74033C10.3174 6.90599 10.2994 7.08827 10.3344 7.26413C10.3694 7.43999 10.4557 7.60153 10.5825 7.72831C10.7093 7.8551 10.8708 7.94145 11.0467 7.97643C11.2225 8.01141 11.4048 7.99345 11.5705 7.92484C11.7361 7.85622 11.8777 7.74002 11.9773 7.59093C12.077 7.44185 12.1301 7.26657 12.1301 7.08726C12.1301 6.84682 12.0346 6.61623 11.8646 6.44621C11.6946 6.2762 11.464 6.18068 11.2235 6.18068ZM8.5038 6.18068C8.32449 6.18068 8.14921 6.23385 8.00012 6.33347C7.85104 6.43308 7.73484 6.57467 7.66622 6.74033C7.5976 6.90599 7.57965 7.08827 7.61463 7.26413C7.64961 7.43999 7.73596 7.60153 7.86274 7.72831C7.98953 7.8551 8.15107 7.94145 8.32693 7.97643C8.50279 8.01141 8.68507 7.99345 8.85073 7.92484C9.01639 7.85622 9.15797 7.74002 9.25759 7.59093C9.35721 7.44185 9.41038 7.26657 9.41038 7.08726C9.41038 6.84682 9.31486 6.61623 9.14485 6.44621C8.97483 6.2762 8.74424 6.18068 8.5038 6.18068ZM5.78405 6.18068C5.60474 6.18068 5.42946 6.23385 5.28038 6.33347C5.13129 6.43308 5.01509 6.57467 4.94647 6.74033C4.87786 6.90599 4.8599 7.08827 4.89488 7.26413C4.92986 7.43999 5.01621 7.60153 5.143 7.72831C5.26978 7.8551 5.43132 7.94145 5.60718 7.97643C5.78304 8.01141 5.96532 7.99345 6.13098 7.92484C6.29664 7.85622 6.43823 7.74002 6.53784 7.59093C6.63746 7.44185 6.69063 7.26657 6.69063 7.08726C6.69063 6.84682 6.59511 6.61623 6.4251 6.44621C6.25508 6.2762 6.02449 6.18068 5.78405 6.18068Z" fill="#FF4013"/>
</svg>
`},53139:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2 3.95833C2 3.42906 2.41574 3 2.92857 3H9.39145C9.90428 3 10.32 3.42906 10.32 3.95833V4.92325H7.61218C6.51255 4.92325 5.62113 5.85873 5.62113 7.01271V10.5442L4.44974 11.7853C4.27534 11.9701 3.97162 11.8427 3.97162 11.5847V10.1081H2.92857C2.41574 10.1081 2 9.67904 2 9.14977V3.95833Z" fill="#B87CCF"/>
<path d="M14.0714 5.92463C14.5843 5.92463 15 6.35369 15 6.88296V11.8445C15 12.3737 14.5843 12.8028 14.0714 12.8028H13.0284V14.2119C13.0284 14.467 12.7304 14.5958 12.5543 14.4167L10.9672 12.8028H7.60855C7.09572 12.8028 6.67998 12.3737 6.67998 11.8445V6.88296C6.67998 6.35369 7.09572 5.92463 7.60855 5.92463H14.0714Z" fill="#B87CCF"/>
</svg>
`},49100:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 40">
  <g fill="#fff" stroke="#0d2e4e" transform="translate(8 8)">
    <rect width="56" height="24" stroke="none" rx="2"/>
    <rect width="55" height="23" x=".5" y=".5" fill="none" rx="1.5"/>
  </g>
  <rect width="24" height="6" fill="#d1d1d1" rx="3" transform="translate(16 17)"/>
  <path fill="#ff4013" d="M16,14a2,2,0,0,1-2,2H2a2,2,0,0,1-2-2V2A2,2,0,0,1,2,0H14a2,2,0,0,1,2,2Z" transform="translate(44 12)"/>
  <path fill="none" stroke="#fff" d="M12.5,4.5l-6,6L4,8.1" transform="translate(44 12)"/>
</svg>
`},7585:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 40">
  <g fill="#fff" stroke="#0d2e4e" transform="translate(8 8)">
    <rect width="56" height="24" stroke="none" rx="2"/>
    <rect width="55" height="23" x=".5" y=".5" fill="none" rx="1.5"/>
  </g>
  <rect width="24" height="6" fill="#d1d1d1" rx="3" transform="translate(16 17)"/>
  <path fill="#ff4013" d="M1787.779-67.455l5.5,6,5.5-6Z" transform="translate(-1741.779 84.455)"/>
</svg>
`},97545:P=>{P.exports=`<svg width="72" height="64" viewBox="0 0 72 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M51.9044 17L60 17C62.2091 17 64 18.7909 64 21L64 45C64 47.2091 62.2091 49 60 49L12 49C9.79086 49 8 47.2091 8 45L8 27.24" stroke="#70ACEE"/>
<rect x="14.001" y="26" width="43.998" height="6" rx="3" fill="#D1D1D1"/>
<rect x="14.001" y="35" width="35.9995" height="6" rx="3" fill="#D1D1D1"/>
<path d="M22.7946 15.268C22.4642 15.0271 22 15.2631 22 15.672V20.75C22 21.4375 22.54 22 23.2 22H32.8C33.46 22 34 21.4375 34 20.75V15.6707C34 15.2618 33.5358 15.0258 33.2054 15.2667L28.4301 18.7487C28.1713 18.9374 27.8269 18.9374 27.5681 18.7487L22.7946 15.268Z" fill="#FF8800"/>
<path d="M33.63 13.046C33.8077 12.9164 33.8877 12.6788 33.7588 12.5005C33.5393 12.1971 33.1907 12 32.8 12H23.2C22.8088 12 22.4598 12.1976 22.2404 12.5017C22.1117 12.68 22.1918 12.9174 22.3694 13.0469L27.7045 16.9371C27.88 17.0651 28.1181 17.0651 28.2937 16.9371L33.63 13.046Z" fill="#FF8800"/>
<path d="M17.533 20.0298C18.6608 20.9345 17.4582 21.992 16.9317 22.5954C16.5558 23.0478 16.1041 23.5001 12.8749 21.6908C11.7006 21.0614 10.6352 20.2462 9.71967 19.2763C8.74935 18.3421 7.91405 17.2763 7.23788 16.1099C5.50789 12.8649 5.95946 12.3366 6.41022 12.039C7.01152 11.5106 8.06453 10.3789 8.96694 11.4355C10.4707 13.2448 10.6212 14.0772 10.0947 14.5295C9.71878 14.7557 9.79362 14.8316 9.56824 14.9818C8.96694 15.5852 9.11747 16.5668 10.5455 18.0007L10.7708 18.3028C11.8238 19.3594 13.177 19.8878 13.7792 19.3595C13.9727 19.1477 14.1488 18.9204 14.3057 18.68C14.8321 18.1517 15.3587 18.3028 17.5394 20.037" fill="#22AC14"/>
<path d="M40.9354 16.2082C40.9203 16.3699 40.7892 16.4959 40.6305 16.4959H38.2933C38.117 16.4959 37.9776 16.3414 38.0017 16.1626C38.3182 13.8162 39.9618 11.8942 42.1467 11.1878C42.4072 11.1036 42.6019 11.4071 42.4565 11.6439C41.6103 13.0228 41.0874 14.5842 40.9354 16.2082Z" fill="#0048D1"/>
<path d="M42.2216 16.4959C42.0461 16.4959 41.9073 16.3432 41.9262 16.1645C42.1103 14.4217 42.7492 12.528 43.7745 11.1168C43.8876 10.9611 44.112 10.9611 44.2251 11.1168C45.2505 12.528 45.8894 14.4217 46.0735 16.1645C46.0924 16.3432 45.9535 16.4959 45.778 16.4959H42.2216Z" fill="#0048D1"/>
<path d="M49.9979 16.1626C50.022 16.3414 49.8826 16.4959 49.7063 16.4959H47.3691C47.2104 16.4959 47.0794 16.3699 47.0642 16.2082C46.9123 14.5842 46.3894 13.0228 45.5432 11.6439C45.3978 11.4071 45.5925 11.1036 45.853 11.1878C48.0378 11.8942 49.6815 13.8162 49.9979 16.1626Z" fill="#0048D1"/>
<path d="M45.853 22.792C45.5925 22.8763 45.3978 22.5728 45.5432 22.3359C46.3894 20.9571 46.9123 19.3957 47.0642 17.7716C47.0794 17.6099 47.2104 17.4839 47.3691 17.4839H49.7063C49.8826 17.4839 50.022 17.6384 49.9979 17.8172C49.6815 20.1637 48.0378 22.0856 45.853 22.792Z" fill="#0048D1"/>
<path d="M45.778 17.4839C45.9535 17.4839 46.0924 17.6366 46.0735 17.8153C45.8894 19.5601 45.2504 21.4698 44.225 22.8832C44.112 23.0389 43.8876 23.0389 43.7746 22.8832C42.7492 21.4698 42.1103 19.5601 41.9261 17.8153C41.9073 17.6366 42.0461 17.4839 42.2216 17.4839H45.778Z" fill="#0048D1"/>
<path d="M38.0017 17.8172C37.9776 17.6384 38.117 17.4839 38.2933 17.4839H40.6305C40.7892 17.4839 40.9203 17.6099 40.9354 17.7716C41.0874 19.3956 41.6103 20.9571 42.4565 22.3359C42.6019 22.5728 42.4072 22.8763 42.1467 22.792C39.9618 22.0856 38.3182 20.1637 38.0017 17.8172Z" fill="#0048D1"/>
</svg>
`},31233:P=>{P.exports=`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.4257 6.05993C14.5912 5.27916 13.5985 4.65919 12.5046 4.23704C11.4107 3.81488 10.2375 3.59849 9.05297 3.60006C7.84615 3.59512 6.65112 3.81923 5.54131 4.25952C3.33025 5.12181 1.5784 6.76536 0.67149 8.82706C-0.235416 10.8888 -0.22322 13.1997 0.705281 15.2531C1.63378 17.3065 3.40301 18.9334 5.62302 19.7757C7.84302 20.6179 10.3319 20.608 12.5429 19.7457C13.6298 19.3267 14.6152 18.7077 15.4403 17.9284V20.2497H18.2197V3.76867H15.4403V6.05993H15.4257ZM9.03532 17.8216C7.78764 17.8218 6.56821 17.478 5.53072 16.8343C4.49324 16.1907 3.68478 15.2763 3.20727 14.2058C2.72975 13.1353 2.60475 11.9569 2.84818 10.8204C3.09162 9.68399 3.69219 8.64027 4.57451 7.821C5.45683 7.00173 6.58101 6.44507 7.80475 6.21918C9.0285 5.99329 10.2969 6.10902 11.4496 6.55266C12.6022 6.9963 13.5875 7.7473 14.2804 8.71091C14.9733 9.67452 15.3429 10.8064 15.3425 11.9651C15.34 13.5177 14.6743 15.0059 13.4921 16.1037C12.3099 17.2014 10.7071 17.8196 9.03532 17.8216Z" fill="white"/>
<path d="M24 3.82277H21.1803V20.2511H24V3.82277Z" fill="white"/>
</svg>
`},75139:P=>{P.exports=`<svg width="80" height="81" viewBox="0 0 80 81" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M46.9878 31.9066C45.1672 30.167 43.0014 28.7857 40.6149 27.8452C38.2285 26.9046 35.6689 26.4225 33.0846 26.426C30.4517 26.415 27.8445 26.9143 25.4233 27.8953C20.5995 29.8165 16.7775 33.4783 14.799 38.0718C12.8204 42.6653 12.847 47.8141 14.8727 52.3891C16.8984 56.9641 20.7582 60.5889 25.6015 62.4655C30.4449 64.342 35.8747 64.3199 40.6985 62.3987C43.0698 61.465 45.2196 60.086 47.0197 58.3498V63.5215H53.0833V26.8016H47.0197V31.9066H46.9878ZM33.0461 58.1118C30.324 58.1123 27.6636 57.3461 25.4002 55.9121C23.1367 54.478 21.373 52.4408 20.3312 50.0557C19.2894 47.6707 19.0167 45.0451 19.5478 42.5131C20.0789 39.9811 21.3891 37.6556 23.314 35.8303C25.239 34.0049 27.6916 32.7647 30.3614 32.2614C33.0312 31.7581 35.7985 32.016 38.3131 33.0044C40.8277 33.9928 42.9773 35.6661 44.489 37.813C46.0007 39.9599 46.8071 42.4818 46.8062 45.0635C46.8008 48.5227 45.3485 51.8383 42.7693 54.2841C40.19 56.73 36.6934 58.1073 33.0461 58.1118Z" fill="#FF4013"/>
<path d="M79.4171 15.8259L52.2681 21.7883L60.3572 15.8259L27.2461 0.919922L79.4171 15.8259Z" fill="#0D2E4E"/>
<path d="M66.4991 26.9238H59.543V63.5263H66.4991V26.9238Z" fill="#FF4013"/>
<g filter="url(#filter0_d_18494_170368)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M47.4926 57.8751H46.9919V45.5991C47.009 45.2254 47.0091 44.8508 46.9919 44.4763V31.8906C48.8908 33.6453 50.4106 35.766 51.4325 38.1383C53.386 42.6738 53.3597 47.7575 51.3597 52.2747C50.4322 54.3694 49.1152 56.2624 47.4926 57.8751Z" fill="url(#paint0_radial_18494_170368)" shape-rendering="crispEdges"/>
</g>
<path d="M53.0831 26.7559H46.9551V54.746H53.0831V26.7559Z" fill="url(#paint1_linear_18494_170368)"/>
<defs>
<filter id="filter0_d_18494_170368" x="45.9922" y="31.8906" width="7.88672" height="27.9844" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="1"/>
<feGaussianBlur stdDeviation="0.5"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.05 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_18494_170368"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_18494_170368" result="shape"/>
</filter>
<radialGradient id="paint0_radial_18494_170368" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(47.3681 51.8493) rotate(7.07677) scale(12.0998 147.215)">
<stop offset="0.000304211" stop-color="#FF4013"/>
<stop offset="0.644342" stop-color="#DC2C03"/>
<stop offset="0.99" stop-color="#FF4013" stop-opacity="0"/>
</radialGradient>
<linearGradient id="paint1_linear_18494_170368" x1="50.0191" y1="26.7559" x2="50.0191" y2="54.746" gradientUnits="userSpaceOnUse">
<stop stop-color="#E82C00"/>
<stop offset="0.715" stop-color="#FF4013"/>
<stop offset="0.99" stop-color="#FF4013" stop-opacity="0"/>
</linearGradient>
</defs>
</svg>
`},18430:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">
  <g id="Group_16583" data-name="Group 16583" transform="translate(-464 -425)">
    <rect id="Rectangle_2480011" data-name="Rectangle 2480011" width="72" height="64" rx="6" transform="translate(464 425)" fill="none"/>
    <g id="Group_14731" data-name="Group 14731" transform="translate(2.38)">
      <g id="Group_16585" data-name="Group 16585" transform="translate(-93)">
        <rect id="Rectangle_42511" data-name="Rectangle 42511" width="28" height="6" rx="3" transform="translate(583.62 438)" fill="#0091ea" opacity="0.5"/>
        <rect id="Rectangle_42512" data-name="Rectangle 42512" width="36" height="6" rx="3" transform="translate(583.62 450)" fill="#d1d1d1"/>
        <rect id="Rectangle_42514" data-name="Rectangle 42514" width="36" height="6" rx="3" transform="translate(583.62 460)" fill="#d1d1d1"/>
        <rect id="Rectangle_42516" data-name="Rectangle 42516" width="36" height="6" rx="3" transform="translate(583.62 470)" fill="#d1d1d1"/>
      </g>
    </g>
    <g id="Group_14733" data-name="Group 14733" transform="translate(440 367)">
      <rect id="Rectangle_6239" data-name="Rectangle 6239" width="16" height="16" rx="2" transform="translate(32 72)" fill="#ff4013"/>
      <path id="Path_6339" data-name="Path 6339" d="M448.6,1481l3.962-4,4.038,4" transform="translate(-412.602 -1399.001)" fill="none" stroke="#fff" stroke-width="2"/>
    </g>
  </g>
</svg>
`},42604:P=>{P.exports=`<svg width="72" height="64" viewBox="0 0 72 64" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M13 14H11C9.34315 14 8 15.3431 8 17C8 18.6569 9.34315 20 11 20H13C14.6569 20 16 18.6569 16 17C16 15.3431 14.6569 14 13 14Z" fill="#D1D1D1"/>
	<path d="M37 14H25C23.3431 14 22 15.3431 22 17C22 18.6569 23.3431 20 25 20H37C38.6569 20 40 18.6569 40 17C40 15.3431 38.6569 14 37 14Z" fill="#D1D1D1"/>
	<path d="M61 14H49C47.3431 14 46 15.3431 46 17C46 18.6569 47.3431 20 49 20H61C62.6569 20 64 18.6569 64 17C64 15.3431 62.6569 14 61 14Z" fill="#D1D1D1"/>
	<path d="M13 24H11C9.34315 24 8 25.3431 8 27C8 28.6569 9.34315 30 11 30H13C14.6569 30 16 28.6569 16 27C16 25.3431 14.6569 24 13 24Z" fill="#D1D1D1"/>
	<path d="M37 24H25C23.3431 24 22 25.3431 22 27C22 28.6569 23.3431 30 25 30H37C38.6569 30 40 28.6569 40 27C40 25.3431 38.6569 24 37 24Z" fill="#D1D1D1"/>
	<path d="M61 24H49C47.3431 24 46 25.3431 46 27C46 28.6569 47.3431 30 49 30H61C62.6569 30 64 28.6569 64 27C64 25.3431 62.6569 24 61 24Z" fill="#D1D1D1"/>
	<path d="M13 34H11C9.34315 34 8 35.3431 8 37C8 38.6569 9.34315 40 11 40H13C14.6569 40 16 38.6569 16 37C16 35.3431 14.6569 34 13 34Z" fill="#D1D1D1"/>
	<path d="M37 34H25C23.3431 34 22 35.3431 22 37C22 38.6569 23.3431 40 25 40H37C38.6569 40 40 38.6569 40 37C40 35.3431 38.6569 34 37 34Z" fill="#D1D1D1"/>
	<path d="M61 34H49C47.3431 34 46 35.3431 46 37C46 38.6569 47.3431 40 49 40H61C62.6569 40 64 38.6569 64 37C64 35.3431 62.6569 34 61 34Z" fill="#D1D1D1"/>
	<path d="M13 44H11C9.34315 44 8 45.3431 8 47C8 48.6569 9.34315 50 11 50H13C14.6569 50 16 48.6569 16 47C16 45.3431 14.6569 44 13 44Z" fill="#D1D1D1"/>
	<path d="M37 44H25C23.3431 44 22 45.3431 22 47C22 48.6569 23.3431 50 25 50H37C38.6569 50 40 48.6569 40 47C40 45.3431 38.6569 44 37 44Z" fill="#D1D1D1"/>
	<path d="M61 44H49C47.3431 44 46 45.3431 46 47C46 48.6569 47.3431 50 49 50H61C62.6569 50 64 48.6569 64 47C64 45.3431 62.6569 44 61 44Z" fill="#D1D1D1"/>
</svg>
`},44400:P=>{P.exports=`<svg width="72" height="64" viewBox="0 0 72 64" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M13 14H11C9.34315 14 8 15.3431 8 17C8 18.6569 9.34315 20 11 20H13C14.6569 20 16 18.6569 16 17C16 15.3431 14.6569 14 13 14Z" fill="#D1D1D1"/>
	<path d="M37 14H25C23.3431 14 22 15.3431 22 17C22 18.6569 23.3431 20 25 20H37C38.6569 20 40 18.6569 40 17C40 15.3431 38.6569 14 37 14Z" fill="#D1D1D1"/>
	<path d="M61 14H49C47.3431 14 46 15.3431 46 17C46 18.6569 47.3431 20 49 20H61C62.6569 20 64 18.6569 64 17C64 15.3431 62.6569 14 61 14Z" fill="#D1D1D1"/>
	<path d="M13 24H11C9.34315 24 8 25.3431 8 27C8 28.6569 9.34315 30 11 30H13C14.6569 30 16 28.6569 16 27C16 25.3431 14.6569 24 13 24Z" fill="#D1D1D1"/>
	<path d="M37 24H25C23.3431 24 22 25.3431 22 27C22 28.6569 23.3431 30 25 30H37C38.6569 30 40 28.6569 40 27C40 25.3431 38.6569 24 37 24Z" fill="#D1D1D1"/>
	<path d="M61 24H49C47.3431 24 46 25.3431 46 27C46 28.6569 47.3431 30 49 30H61C62.6569 30 64 28.6569 64 27C64 25.3431 62.6569 24 61 24Z" fill="#D1D1D1"/>
	<path d="M13 34H11C9.34315 34 8 35.3431 8 37C8 38.6569 9.34315 40 11 40H13C14.6569 40 16 38.6569 16 37C16 35.3431 14.6569 34 13 34Z" fill="#D1D1D1"/>
	<path d="M37 34H25C23.3431 34 22 35.3431 22 37C22 38.6569 23.3431 40 25 40H37C38.6569 40 40 38.6569 40 37C40 35.3431 38.6569 34 37 34Z" fill="#D1D1D1"/>
	<path d="M61 34H49C47.3431 34 46 35.3431 46 37C46 38.6569 47.3431 40 49 40H61C62.6569 40 64 38.6569 64 37C64 35.3431 62.6569 34 61 34Z" fill="#D1D1D1"/>
	<path d="M13 44H11C9.34315 44 8 45.3431 8 47C8 48.6569 9.34315 50 11 50H13C14.6569 50 16 48.6569 16 47C16 45.3431 14.6569 44 13 44Z" fill="#D1D1D1"/>
	<path d="M37 44H25C23.3431 44 22 45.3431 22 47C22 48.6569 23.3431 50 25 50H37C38.6569 50 40 48.6569 40 47C40 45.3431 38.6569 44 37 44Z" fill="#D1D1D1"/>
	<path d="M61 44H49C47.3431 44 46 45.3431 46 47C46 48.6569 47.3431 50 49 50H61C62.6569 50 64 48.6569 64 47C64 45.3431 62.6569 44 61 44Z" fill="#D1D1D1"/>
</svg>
`},92101:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3 1V15H13V5H8.99999V1H3ZM2 0H9.99999V4H14V16H2V0Z" fill="#006CE0"/>
<path d="M10 0L14 4H10V0Z" fill="#006CE0"/>
</svg>
`},63849:P=>{P.exports=`<svg width="72" height="64" viewBox="0 0 72 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M33.7812 19.8125C35.7529 19.8125 37.6802 20.3972 39.3196 21.4925C40.9589 22.5879 42.2367 24.1448 42.9912 25.9664C43.7457 27.7879 43.9431 29.7923 43.5585 31.7261C43.1738 33.6598 42.2244 35.4361 40.8302 36.8302C39.4361 38.2244 37.6598 39.1738 35.7261 39.5585C33.7923 39.9431 31.7879 39.7457 29.9664 38.9912C28.1448 38.2367 26.5879 36.9589 25.4925 35.3196C24.3972 33.6802 23.8125 31.7529 23.8125 29.7812C23.8154 27.1383 24.8666 24.6043 26.7355 22.7355C28.6043 20.8666 31.1383 19.8154 33.7812 19.8125ZM33.7812 36.125C35.0359 36.125 36.2624 35.7529 37.3056 35.0559C38.3489 34.3588 39.162 33.3681 39.6421 32.2089C40.1223 31.0497 40.2479 29.7742 40.0031 28.5436C39.7583 27.3131 39.1541 26.1827 38.267 25.2955C37.3798 24.4084 36.2494 23.8042 35.0189 23.5594C33.7883 23.3146 32.5128 23.4402 31.3536 23.9204C30.1944 24.4005 29.2037 25.2136 28.5066 26.2569C27.8096 27.3001 27.4375 28.5266 27.4375 29.7812C27.4375 31.4637 28.1059 33.0773 29.2955 34.267C30.4852 35.4566 32.0988 36.125 33.7812 36.125Z" fill="#0d2e4e"/>
<path d="M47.3752 45.9361L37.9629 36.5238L40.5258 33.9609L49.9381 43.3732L47.3752 45.9361Z" fill="#0d2e4e"/>
</svg>
`},19450:P=>{P.exports=`<svg width="72" height="64" viewBox="0 0 72 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="26.5" y="24.5234" width="41" height="16" rx="8" fill="#CCDEFC"/>
<path d="M39.8887 36.5234V30.1634H37.4287V29.5234H43.0887V30.1634H40.6287V36.5234H39.8887ZM46.1679 31.2234C47.5279 31.2234 48.2979 31.9034 48.2979 33.2634V36.5234H47.6179V35.7034C47.2979 36.2434 46.6779 36.5734 45.8079 36.5734C44.6179 36.5734 43.8879 35.9534 43.8879 35.0434C43.8879 34.2334 44.4079 33.5534 45.9179 33.5534H47.5879V33.2334C47.5879 32.3334 47.0779 31.8434 46.0979 31.8434C45.4179 31.8434 44.7779 32.0834 44.3479 32.4634L44.0279 31.9334C44.5579 31.4834 45.3379 31.2234 46.1679 31.2234ZM45.9179 36.0134C46.7179 36.0134 47.3079 35.6334 47.5879 34.9434V34.0834H45.9379C44.9179 34.0834 44.5879 34.4834 44.5879 35.0234C44.5879 35.6334 45.0779 36.0134 45.9179 36.0134ZM54.9359 31.2634H55.6159V35.8834C55.6159 37.6934 54.7259 38.5134 52.9859 38.5134C52.0259 38.5134 51.0859 38.2234 50.5359 37.7034L50.8959 37.1634C51.3959 37.6134 52.1559 37.8834 52.9659 37.8834C54.2959 37.8834 54.9059 37.2734 54.9059 35.9734V35.3034C54.4659 35.9734 53.7159 36.3234 52.8559 36.3234C51.3559 36.3234 50.2159 35.2734 50.2159 33.7634C50.2159 32.2534 51.3559 31.2234 52.8559 31.2234C53.7359 31.2234 54.4959 31.5834 54.9359 32.2734V31.2634ZM52.9259 35.6934C54.0859 35.6934 54.9259 34.9034 54.9259 33.7634C54.9259 32.6234 54.0859 31.8434 52.9259 31.8434C51.7659 31.8434 50.9359 32.6234 50.9359 33.7634C50.9359 34.9034 51.7659 35.6934 52.9259 35.6934Z" fill="#0058EF"/>
<path d="M39.8887 36.5234V30.1634H37.4287V29.5234H43.0887V30.1634H40.6287V36.5234H39.8887ZM46.1679 31.2234C47.5279 31.2234 48.2979 31.9034 48.2979 33.2634V36.5234H47.6179V35.7034C47.2979 36.2434 46.6779 36.5734 45.8079 36.5734C44.6179 36.5734 43.8879 35.9534 43.8879 35.0434C43.8879 34.2334 44.4079 33.5534 45.9179 33.5534H47.5879V33.2334C47.5879 32.3334 47.0779 31.8434 46.0979 31.8434C45.4179 31.8434 44.7779 32.0834 44.3479 32.4634L44.0279 31.9334C44.5579 31.4834 45.3379 31.2234 46.1679 31.2234ZM45.9179 36.0134C46.7179 36.0134 47.3079 35.6334 47.5879 34.9434V34.0834H45.9379C44.9179 34.0834 44.5879 34.4834 44.5879 35.0234C44.5879 35.6334 45.0779 36.0134 45.9179 36.0134ZM54.9359 31.2634H55.6159V35.8834C55.6159 37.6934 54.7259 38.5134 52.9859 38.5134C52.0259 38.5134 51.0859 38.2234 50.5359 37.7034L50.8959 37.1634C51.3959 37.6134 52.1559 37.8834 52.9659 37.8834C54.2959 37.8834 54.9059 37.2734 54.9059 35.9734V35.3034C54.4659 35.9734 53.7159 36.3234 52.8559 36.3234C51.3559 36.3234 50.2159 35.2734 50.2159 33.7634C50.2159 32.2534 51.3559 31.2234 52.8559 31.2234C53.7359 31.2234 54.4959 31.5834 54.9359 32.2734V31.2634ZM52.9259 35.6934C54.0859 35.6934 54.9259 34.9034 54.9259 33.7634C54.9259 32.6234 54.0859 31.8434 52.9259 31.8434C51.7659 31.8434 50.9359 32.6234 50.9359 33.7634C50.9359 34.9034 51.7659 35.6934 52.9259 35.6934Z" fill="black" fill-opacity="0.5"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.34654 24.4184C7.69348 24.416 7.16214 24.9435 7.15976 25.5965L7.13358 32.794C7.13243 33.1079 7.25611 33.4093 7.47736 33.6319L13.6371 39.8294C13.8796 40.0738 14.1679 40.2681 14.4855 40.4011C14.8033 40.5342 15.1443 40.6034 15.4888 40.6046C15.8334 40.6059 16.1748 40.5392 16.4936 40.4084C16.8124 40.2776 17.1023 40.0853 17.3467 39.8424L22.5256 34.701L21.6924 33.8618L22.5281 34.6985C23.0182 34.2091 23.2947 33.5455 23.2972 32.8528C23.2998 32.1601 23.0281 31.4946 22.5415 31.0015L16.3789 24.7939C16.1579 24.5714 15.8576 24.4457 15.544 24.4445L8.34654 24.4184ZM11.5502 27.4854C10.8089 27.4827 10.2058 28.0834 10.2031 28.8271C10.2004 29.5709 10.7991 30.176 11.5404 30.1787L11.5493 30.1787C12.2906 30.1814 12.8937 29.5807 12.8965 28.8369C12.8992 28.0932 12.3004 27.4881 11.5591 27.4854L11.5502 27.4854Z" fill="#FF4013"/>
</svg>
`},44405:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 5L4 3L6 3" stroke="white" stroke-opacity="0.4"/>
<path d="M9 5L9 3L11 3" stroke="white" stroke-opacity="0.4"/>
<path d="M4 9L4 7L6 7" stroke="white" stroke-opacity="0.4"/>
<path d="M9 9L9 7L11 7" stroke="white" stroke-opacity="0.4"/>
<path d="M4 14L4 12L6 12" stroke="white" stroke-opacity="0.4"/>
<path d="M9 14L9 12L11 12" stroke="white" stroke-opacity="0.4"/>
</svg>
`},2013:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2.79459 6.26801C2.46417 6.02708 2 6.26308 2 6.67201V11.75C2 12.4375 2.54 13 3.2 13H12.8C13.46 13 14 12.4375 14 11.75V6.67069C14 6.26176 13.5358 6.02576 13.2054 6.26668L8.43005 9.74872C8.17129 9.9374 7.82689 9.9374 7.56814 9.74872L2.79459 6.26801Z" fill="#F86700"/>
<path d="M13.63 4.04604C13.8077 3.91643 13.8877 3.67879 13.7588 3.50054C13.5393 3.19709 13.1907 3 12.8 3H3.2C2.80882 3 2.45979 3.1976 2.24037 3.50171C2.11174 3.67998 2.19179 3.91738 2.36941 4.04689L7.70451 7.93707C7.88004 8.06506 8.11814 8.06506 8.29368 7.93707L13.63 4.04604Z" fill="#F86700"/>
</svg>
`},73635:P=>{P.exports=`<svg width="100%" height="100%" viewBox="0 0 72 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="8.5" y="8.5" width="55" height="23" rx="0.5" fill="white" stroke="#0D2E4E"/>
<rect width="24" height="6" fill="#d1d1d1" rx="3" transform="translate(16 17)"></rect>
<path transform="translate(8,8)" d="M38 7.5H50V16C50 16.1326 49.9473 16.2598 49.8536 16.3536C49.7598 16.4473 49.6326 16.5 49.5 16.5H38.5C38.3674 16.5 38.2402 16.4473 38.1464 16.3536C38.0527 16.2598 38 16.1326 38 16V7.5Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path transform="translate(8,8)" d="M50 7.5L44 13L38 7.5" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},88574:P=>{P.exports=`<svg width="40" height="41" viewBox="0 0 40 41" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M38.75 6.41943H1.25V33.9194H38.75V6.41943Z" stroke="currentColor" stroke-miterlimit="10"/>
<path d="M28.75 17.6694C30.8211 17.6694 32.5 15.9905 32.5 13.9194C32.5 11.8484 30.8211 10.1694 28.75 10.1694C26.6789 10.1694 25 11.8484 25 13.9194C25 15.9905 26.6789 17.6694 28.75 17.6694Z" fill="currentColor"/>
<path d="M2.5 27.6694L12.5 12.6694L30 32.6694H2.5V27.6694Z" fill="currentColor"/>
<path d="M32.5 32.6694L27.5 25.1694L32.5 22.6694L37.5 27.6694V32.6694H32.5Z" fill="currentColor"/>
</svg>
`},45506:P=>{P.exports=`<svg width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="_Action Image">
<g id="Object Icon">
<rect y="0.857422" width="32" height="32" rx="16" fill="#5d36c1"/>
<g id="Icon | Flag - 16x16 | universal">
<path id="Path 520" d="M12.8205 17.6275H20.6135L17.6412 14.4143L20.6135 11.2012H12.0168V22.4482H12.8205V17.6275Z" fill="white"/>
</g>
</g>
</g>
</svg>
`},43332:P=>{P.exports=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="32" height="32" rx="16" fill="rgb(177,81,194)"/>
<path d="M21.6261 15.6281C21.5782 15.6346 21.534 15.6575 21.5011 15.6929L20.3627 16.9187C20.2848 17.0027 20.289 17.1338 20.3723 17.2124L20.9923 17.7983C21.0774 17.8788 21.2121 17.8734 21.2905 17.7865L22.4245 16.5299C22.4574 16.4934 22.4764 16.4464 22.4781 16.3972L22.4999 15.756C22.5043 15.6269 22.3914 15.5248 22.2634 15.5421L21.6261 15.6281Z" fill="white"/>
<path d="M17.5974 20.6678C17.5334 20.8429 17.7137 21.0077 17.8824 20.9282L18.9118 20.4431C18.9375 20.431 18.9605 20.4137 18.9793 20.3924L20.4785 18.6929C20.5554 18.6057 20.5463 18.4724 20.4581 18.3966L19.8073 17.8367C19.7214 17.7628 19.5923 17.7709 19.5163 17.855L18.0479 19.4799C18.0299 19.4998 18.0159 19.5229 18.0067 19.5481L17.5974 20.6678Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M21.9635 14.3853L21.9778 14.3834V13.1679C21.9778 12.5917 21.5106 12.1245 20.9343 12.1245L11.5434 12.1245C10.9672 12.1245 10.5 12.5917 10.5 13.1679L10.5 19.1155C10.5 19.6918 10.9672 20.159 11.5434 20.159H16.9077L17.2667 19.1768C17.3339 18.9931 17.4358 18.824 17.567 18.6789L19.0166 17.0748C19.1801 16.8939 19.3774 16.7612 19.5903 16.6778C19.6536 16.4521 19.7702 16.2376 19.9406 16.0541L21.0512 14.8582C21.2913 14.5997 21.6138 14.4325 21.9635 14.3853ZM16.4115 16.7589C16.1234 16.7589 15.8898 16.9925 15.8898 17.2806C15.8898 17.5688 16.1234 17.8024 16.4115 17.8024H17.0487C17.3369 17.8024 17.5705 17.5688 17.5705 17.2806C17.5705 16.9925 17.3369 16.7589 17.0487 16.7589H16.4115ZM15.8898 15.1403C15.8898 14.8521 16.1234 14.6186 16.4115 14.6186L18.9497 14.6186C19.2379 14.6186 19.4715 14.8521 19.4715 15.1403C19.4715 15.4284 19.2379 15.662 18.9497 15.662L16.4115 15.662C16.1234 15.662 15.8898 15.4284 15.8898 15.1403ZM13.0057 18.0448C13.0057 18.2378 13.1622 18.3943 13.3553 18.3943C13.5483 18.3943 13.7048 18.2378 13.7048 18.0448V17.9016H13.8466C14.129 17.9016 14.3998 17.7862 14.5995 17.5809C14.7992 17.3755 14.9113 17.0971 14.9113 16.8067C14.9113 16.5163 14.7992 16.2378 14.5995 16.0325C14.3998 15.8271 14.129 15.7118 13.8466 15.7118H13.048C12.9774 15.7118 12.9097 15.6829 12.8597 15.6316C12.8098 15.5803 12.7818 15.5107 12.7818 15.4381C12.7818 15.3655 12.8098 15.2958 12.8597 15.2445C12.9097 15.1932 12.9774 15.1643 13.048 15.1643H14.2458C14.4664 15.1643 14.6451 14.9805 14.6451 14.7538C14.6451 14.527 14.4664 14.3432 14.2458 14.3432H13.7048V14.156C13.7048 13.9629 13.5483 13.8064 13.3553 13.8064C13.1622 13.8064 13.0057 13.9629 13.0057 14.156V14.344C12.7387 14.3549 12.4848 14.4688 12.2951 14.6639C12.0954 14.8692 11.9832 15.1477 11.9832 15.4381C11.9832 15.7284 12.0954 16.0069 12.2951 16.2123C12.4947 16.4176 12.7656 16.5329 13.048 16.5329H13.8466C13.9172 16.5329 13.9849 16.5618 14.0348 16.6131C14.0847 16.6645 14.1128 16.7341 14.1128 16.8067C14.1128 16.8793 14.0847 16.9489 14.0348 17.0002C13.9849 17.0516 13.9172 17.0804 13.8466 17.0804H12.4283C12.2078 17.0804 12.029 17.2642 12.029 17.491C12.029 17.7177 12.2078 17.9016 12.4283 17.9016H13.0057V18.0448Z" fill="white"/>
<path d="M21.7799 19.727L21.6471 19.8776C21.696 19.8318 21.7405 19.7814 21.7799 19.727Z" fill="white"/>
</svg>
`},34731:P=>{P.exports=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="32" height="32" rx="16" fill="rgb(68,57,166)"/>
<path d="M10 12.25C10 11.6977 10.4477 11.25 11 11.25H21C21.5523 11.25 22 11.6977 22 12.25V13.0295H10V12.25Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M10 14.5295V19.25C10 19.8023 10.4477 20.25 11 20.25H21C21.5523 20.25 22 19.8023 22 19.25V14.5295H10ZM11.5044 17.2779C11.5044 17.0018 11.7283 16.7779 12.0044 16.7779H13.7568C14.033 16.7779 14.2568 17.0018 14.2568 17.2779V18.2779C14.2568 18.554 14.033 18.7779 13.7568 18.7779H12.0044C11.7283 18.7779 11.5044 18.554 11.5044 18.2779V17.2779ZM15.5352 17.1879C15.5352 16.9615 15.7187 16.7779 15.9452 16.7779H20.0607C20.2871 16.7779 20.4707 16.9615 20.4707 17.1879C20.4707 17.4143 20.2871 17.5979 20.0607 17.5979H15.9452C15.7187 17.5979 15.5352 17.4143 15.5352 17.1879ZM15.9452 17.9579C15.7187 17.9579 15.5352 18.1415 15.5352 18.3679C15.5352 18.5943 15.7187 18.7779 15.9452 18.7779H18.4157C18.6421 18.7779 18.8257 18.5943 18.8257 18.3679C18.8257 18.1415 18.6421 17.9579 18.4157 17.9579H15.9452Z" fill="white"/>
</svg>
`},723:P=>{P.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="Icon | Call - 16x16 | universal">
<path id="Path 6315" d="M13.533 11.7798C14.6608 12.6845 13.4582 13.742 12.9317 14.3454C12.5558 14.7978 12.1041 15.2501 8.87494 13.4408C7.70062 12.8114 6.63518 11.9962 5.71967 11.0263C4.74935 10.0921 3.91405 9.02631 3.23788 7.85994C1.50789 4.61492 1.95946 4.08659 2.41022 3.78896C3.01152 3.26064 4.06453 2.12886 4.96694 3.1855C6.47066 4.99483 6.62119 5.82716 6.09471 6.27949C5.71878 6.50565 5.79362 6.58165 5.56824 6.73182C4.96694 7.33523 5.11747 8.31677 6.54546 9.75066L6.77084 10.0528C7.8238 11.1094 9.17699 11.6378 9.7792 11.1095C9.97273 10.8977 10.1488 10.6704 10.3057 10.43C10.8321 9.90172 11.3587 10.0528 13.5394 11.787" fill="#22AC14"/>
</g>
</svg>
`},53171:P=>{P.exports=`<svg width="33" height="32" viewBox="0 0 33 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="0.5" width="32" height="32" rx="16" fill="rgb(230,62,16)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 10C11.1716 10 10.5 10.6731 10.5 11.5034V17.8888C10.5 18.7191 11.1716 19.3922 12 19.3922H13.3437V21.4979C13.3437 21.9133 13.8189 22.1484 14.1478 21.8957L17.4074 19.3922H21C21.8284 19.3922 22.5 18.7191 22.5 17.8888V11.5034C22.5 10.6731 21.8284 10 21 10H12ZM16.4966 11.4926C16.9578 11.4926 17.3316 11.8673 17.3316 12.3295V13.9582C17.3316 14.4204 16.9578 14.7951 16.4966 14.7951C16.0355 14.7951 15.6616 14.4204 15.6616 13.9582V12.3295C15.6616 11.8673 16.0355 11.4926 16.4966 11.4926ZM15.4966 16.8567C15.4966 16.3032 15.9443 15.8544 16.4966 15.8544H16.5033C17.0556 15.8544 17.5033 16.3032 17.5033 16.8567C17.5033 17.4103 17.0556 17.859 16.5033 17.859H16.4966C15.9443 17.859 15.4966 17.4103 15.4966 16.8567Z" fill="white"/>
</svg>
`},40241:P=>{P.exports=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="32" height="32" rx="16" fill="rgb(0,133,120)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 12.2223C11.5 11.5472 12.0433 11 12.7136 11H18.7709C19.4411 11 19.9845 11.5472 19.9845 12.2223V15.2781C19.793 15.3561 19.6168 15.4711 19.4665 15.6182L18.2288 16.8292C18.0388 17.015 17.9041 17.2367 17.825 17.4734C17.5956 17.5503 17.3801 17.6806 17.1976 17.8641L15.5797 19.4906C15.4333 19.6378 15.3164 19.812 15.2355 20.0037L14.8374 20.947H12.7136C12.0433 20.947 11.5 20.3998 11.5 19.7247V12.2223ZM13.4909 15.1944C13.1558 15.1944 12.8841 15.468 12.8841 15.8055C12.8841 16.143 13.1558 16.4166 13.4909 16.4166H16.4537C16.7888 16.4166 17.0605 16.143 17.0605 15.8055C17.0605 15.468 16.7888 15.1944 16.4537 15.1944H13.4909ZM12.8841 13.5262C12.8841 13.1887 13.1558 12.9151 13.4909 12.9151H18.0239C18.3591 12.9151 18.6307 13.1887 18.6307 13.5262C18.6307 13.8638 18.3591 14.1374 18.0239 14.1374H13.4909C13.1558 14.1374 12.8841 13.8638 12.8841 13.5262ZM13.4909 17.4719C13.1558 17.4719 12.8841 17.7455 12.8841 18.083C12.8841 18.4205 13.1558 18.6941 13.4909 18.6941H14.7214C15.0565 18.6941 15.3282 18.4205 15.3282 18.083C15.3282 17.7455 15.0565 17.4719 14.7214 17.4719H13.4909Z" fill="white"/>
<path d="M20.2891 16.5121C20.233 16.5168 20.1803 16.5409 20.14 16.5804L18.8776 17.8156C18.782 17.9091 18.7791 18.0626 18.8711 18.1597L19.4727 18.7943C19.5668 18.8936 19.7235 18.8954 19.8199 18.7984L21.0789 17.5308C21.1194 17.49 21.1443 17.4362 21.1492 17.3788L21.205 16.722C21.2178 16.5712 21.0929 16.445 20.9431 16.4575L20.2891 16.5121Z" fill="white"/>
<path d="M15.727 21.6592C15.6422 21.8603 15.8417 22.0639 16.0424 21.9811L17.1187 21.5368C17.1493 21.5242 17.1771 21.5053 17.2002 21.4815L18.8757 19.7561C18.9703 19.6587 18.9676 19.5023 18.8698 19.4083L18.2348 18.7982C18.1395 18.7066 17.989 18.7083 17.8958 18.802L16.2566 20.4499C16.2345 20.4721 16.2169 20.4984 16.2047 20.5273L15.727 21.6592Z" fill="white"/>
</svg>
`},66840:P=>{P.exports=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="Object Icon">
<rect width="32" height="32" rx="16" fill="rgb(0,80,219)"/>
<g id="cube">
<path id="Vector" d="M22.2708 12.0582L16.2708 9.39149C16.1855 9.35357 16.0932 9.33398 15.9998 9.33398C15.9065 9.33398 15.8141 9.35357 15.7288 9.39149L9.72883 12.0582C9.7155 12.0642 9.70616 12.0742 9.69283 12.0815C9.67416 12.0908 9.65416 12.0968 9.63683 12.1082C9.62216 12.1182 9.61083 12.1308 9.59683 12.1415C9.5481 12.1777 9.50536 12.2213 9.47016 12.2708C9.45683 12.2895 9.44283 12.3062 9.43083 12.3248C9.41099 12.3601 9.39404 12.3968 9.38016 12.4348C9.37416 12.4528 9.36483 12.4695 9.3595 12.4875C9.34275 12.546 9.33401 12.6066 9.3335 12.6675V19.3342C9.3335 19.5982 9.48816 19.8362 9.7295 19.9435L15.7295 22.6102C15.8162 22.6488 15.9082 22.6675 16.0002 22.6675C16.093 22.6651 16.1843 22.6433 16.2682 22.6035L16.2708 22.6102L22.2708 19.9435C22.3888 19.8912 22.489 19.8058 22.5593 19.6976C22.6296 19.5894 22.6669 19.4632 22.6668 19.3342V12.6675C22.6669 12.5385 22.6296 12.4122 22.5593 12.3041C22.489 12.1959 22.3888 12.1105 22.2708 12.0582ZM16.0002 10.7308L20.3588 12.6675L16.0002 14.6042L15.1282 14.2168L11.6422 12.6675L16.0002 10.7308ZM16.6668 20.9748V15.7675L21.3335 13.6935V18.9015L16.6668 20.9748Z" fill="white"/>
</g>
</g>
</svg>
`},85130:P=>{P.exports=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="32" height="32" rx="16" fill="rgb(255,153,4)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M11 11.5213C11 10.9572 11.4592 10.5 12.0256 10.5H18.1795C18.7459 10.5 19.2051 10.9572 19.2051 11.5213V19.6915C19.2051 20.2555 18.7459 20.7128 18.1795 20.7128H12.0256C11.4592 20.7128 11 20.2555 11 19.6915V11.5213ZM12.5161 13.0088C12.2452 13.0088 12.0255 12.7901 12.0255 12.5203C12.0255 12.2506 12.2452 12.0319 12.5161 12.0319H17.6888C17.9597 12.0319 18.1794 12.2506 18.1794 12.5203C18.1794 12.7901 17.9597 13.0088 17.6888 13.0088H12.5161ZM12.5161 14.9048C12.2452 14.9048 12.0255 14.6861 12.0255 14.4163C12.0255 14.1465 12.2452 13.9278 12.5161 13.9278H16.6732C16.9441 13.9278 17.1637 14.1465 17.1637 14.4163C17.1637 14.6861 16.9441 14.9048 16.6732 14.9048H12.5161ZM12.0255 16.3124C12.0255 16.5821 12.2452 16.8008 12.5161 16.8008H15.1407C15.4117 16.8008 15.6313 16.5821 15.6313 16.3124C15.6313 16.0426 15.4117 15.8239 15.1407 15.8239L12.5161 15.8239C12.2452 15.8239 12.0255 16.0426 12.0255 16.3124ZM12.5161 18.6969C12.2452 18.6969 12.0255 18.4782 12.0255 18.2084C12.0255 17.9387 12.2452 17.72 12.5161 17.72H14.1226C14.3935 17.72 14.6132 17.9387 14.6132 18.2084C14.6132 18.4782 14.3935 18.6969 14.1226 18.6969H12.5161Z" fill="white"/>
<path d="M13.8205 22.5C13.2541 22.5 12.7949 22.0428 12.7949 21.4787H18.9487C19.5152 21.4787 19.9744 21.0215 19.9744 20.4574V12.2872C20.5408 12.2872 21 12.7445 21 13.3085V21.4787C21 22.0428 20.5408 22.5 19.9744 22.5H13.8205Z" fill="white"/>
</svg>
`},66037:P=>{P.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="Icon | Mail - 16x16 | universal">
<g id="Group 361">
<path id="Path 517" d="M7.92468 10.6184L1.58472 4.35742V12.7574L1.90173 13.0744H14.1017L14.2607 12.7574V4.35742L7.92468 10.6184Z" fill="#FF8800"/>
<path id="Path 518" d="M13.4734 3.56641H2.4574L7.92639 9.11438L13.4734 3.56641Z" fill="#FF8800"/>
</g>
</g>
</svg>
`},37691:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M7.99998 1.00451C7.08949 0.971226 6.18166 1.1224 5.33117 1.44894C4.48067 1.77548 3.70509 2.27063 3.0511 2.90458C2.39712 3.53853 1.87826 4.29818 1.52576 5.13778C1.17326 5.97739 0.994415 6.87959 0.999982 7.79009C0.988753 8.73454 1.17879 9.67057 1.55746 10.536C1.93613 11.4014 2.49476 12.1763 3.19623 12.8093C3.25334 12.8598 3.2992 12.9216 3.33085 12.9909C3.36251 13.0602 3.37925 13.1354 3.37998 13.2116L3.41498 14.4532C3.4171 14.5454 3.44197 14.6356 3.48737 14.7158C3.53276 14.7961 3.59729 14.8638 3.6752 14.9132C3.75312 14.9625 3.84202 14.9918 3.93401 14.9985C4.02599 15.0052 4.11822 14.9891 4.20248 14.9517L5.59373 14.3396C5.71232 14.2875 5.84531 14.2783 5.96998 14.3133C6.63151 14.4938 7.31424 14.585 7.99998 14.5844C8.91048 14.6177 9.8183 14.4665 10.6688 14.14C11.5193 13.8134 12.2949 13.3183 12.9489 12.6843C13.6028 12.0504 14.1217 11.2907 14.4742 10.4511C14.8267 9.61153 15.0055 8.70933 15 7.79883C15.0065 6.88767 14.8283 5.98463 14.4763 5.14411C14.1242 4.3036 13.6056 3.543 12.9515 2.90817C12.2974 2.27333 11.5215 1.77738 10.6706 1.45022C9.8196 1.12305 8.91116 0.97144 7.99998 1.00451Z" fill="url(#paint0_radial_322_115_nextsteps)" stroke="white"/>
<path d="M3.65472 9.68625L5.78097 6.59488C5.95919 6.35674 6.22241 6.19653 6.5158 6.14764C6.8092 6.09874 7.11015 6.16491 7.35597 6.33238L9.04822 7.49C9.12562 7.5427 9.21708 7.57089 9.31072 7.57089C9.40436 7.57089 9.49582 7.5427 9.57322 7.49L11.8535 5.89925C12.1615 5.684 12.5587 6.0235 12.3513 6.32188L10.2172 9.41325C10.0393 9.65175 9.77602 9.81223 9.4825 9.86115C9.18897 9.91007 8.8879 9.84365 8.64222 9.67575L6.94997 8.51813C6.87257 8.46542 6.78111 8.43724 6.68747 8.43724C6.59383 8.43724 6.50237 8.46542 6.42497 8.51813L4.14472 10.1097C3.84634 10.3127 3.44822 9.98463 3.65472 9.68625Z" fill="white"/>
<defs>
<radialGradient id="paint0_radial_322_115_nextsteps" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(1.17581 0.280024) rotate(70.8499) scale(32.2741 14.6554)">
<stop stop-color="#0077FF"/>
<stop offset="0.61" stop-color="#8A1FE6"/>
<stop offset="0.935" stop-color="#F1255B"/>
<stop offset="1" stop-color="#FF1800"/>
</radialGradient>
</defs>
</svg>
`},81007:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.5 4C1.5 3.44771 1.93113 3 2.46296 3H8.68372C9.21555 3 9.64669 3.44771 9.64669 4V5.00687H7.32004C6.17968 5.00687 5.25524 5.98302 5.25524 7.18717V10.3723L4.04048 11.6673C3.85961 11.8601 3.54465 11.7271 3.54465 11.458V9.91715H2.46296C1.93113 9.91715 1.5 9.46943 1.5 8.91715V4Z" fill="#B87CCF"/>
<path d="M13.537 6.05179C14.0689 6.05179 14.5 6.4995 14.5 7.05178V11.729C14.5 12.2813 14.0689 12.729 13.537 12.729H12.4554V14.1994C12.4554 14.4656 12.1463 14.5999 11.9637 14.4131L10.3179 12.729H7.31628C6.78445 12.729 6.35331 12.2813 6.35331 11.729V7.05178C6.35331 6.4995 6.78445 6.05179 7.31628 6.05179H13.537Z" fill="#B87CCF"/>
</svg>
`},86582:P=>{P.exports=`<svg width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect y="0.5" width="32" height="32" rx="16" fill="rgb(255,153,5)"/>
<path d="M15.9992 16.4053C14.5093 16.4053 13.3015 15.2064 13.3015 13.7275C13.3015 12.2487 14.5093 11.0498 15.9992 11.0498C17.4892 11.0498 18.697 12.2487 18.697 13.7275C18.697 15.2064 17.4892 16.4053 15.9992 16.4053Z" fill="white"/>
<path d="M11.4369 22.5498C10.9788 22.5498 10.6074 22.1813 10.6074 21.7267V21.2109C10.6074 20.5008 10.8917 19.8197 11.3976 19.3175C11.9035 18.8153 12.5385 18.482 13.254 18.482L16.0493 18.482C16.1121 18.6003 16.189 18.7079 16.2775 18.802C16.0216 19.0742 15.8618 19.46 15.8618 19.888C15.8618 20.316 16.0216 20.7019 16.2775 20.9741C16.0216 21.2463 15.8618 21.6321 15.8618 22.0601C15.8618 22.2316 15.8875 22.3964 15.9347 22.5498H11.4369Z" fill="white"/>
<path d="M17.4597 17.1872C17.1942 17.1872 16.979 17.4432 16.979 17.7591C16.979 18.0749 17.1942 18.331 17.4597 18.331H21.6817C21.9472 18.331 22.1625 18.0749 22.1625 17.7591C22.1625 17.4432 21.9472 17.1872 21.6817 17.1872H17.4597Z" fill="white"/>
<path d="M17.4598 19.2966C17.1943 19.2966 16.9791 19.5526 16.9791 19.8685C16.9791 20.1843 17.1943 20.4404 17.4598 20.4404H19.9546C20.2201 20.4404 20.4354 20.1843 20.4354 19.8685C20.4354 19.5526 20.2201 19.2966 19.9546 19.2966H17.4598Z" fill="white"/>
<path d="M16.9791 21.9779C16.9791 21.6621 17.1943 21.406 17.4598 21.406H21.6818C21.9473 21.406 22.1625 21.6621 22.1625 21.9779C22.1625 22.2938 21.9473 22.5498 21.6818 22.5498H17.4598C17.1943 22.5498 16.9791 22.2938 16.9791 21.9779Z" fill="white"/>
</svg>
`},89270:P=>{P.exports=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="32" height="32" rx="16" fill="rgb(67,57,164)"/>
<path d="M12.2367 14.6324C12.8182 14.9585 13.5643 15.1736 14.3828 15.2392C15.1635 14.0278 16.5012 13.229 18.0204 13.229C18.2972 13.229 18.568 13.2555 18.8305 13.3062V12.8802C18.8305 12.117 18.2844 11.5153 17.5938 11.1279C16.8883 10.7322 15.9405 10.5 14.9152 10.5C13.89 10.5 12.9422 10.7322 12.2367 11.1279C11.5461 11.5153 11 12.117 11 12.8802V16.8301C11 17.5931 11.5461 18.1948 12.2367 18.5821C12.6971 18.8404 13.2606 19.0291 13.8815 19.129C13.7923 18.8531 13.7285 18.5654 13.6928 18.2687C13.2792 18.1759 12.913 18.0384 12.6141 17.8707C12.0302 17.5432 11.7881 17.1574 11.7881 16.8301V16.3066C11.9267 16.4177 12.0779 16.5181 12.2367 16.6071C12.6511 16.8396 13.1491 17.0157 13.6973 17.1214C13.7321 16.8493 13.7908 16.5848 13.8709 16.3303C13.384 16.2392 12.9552 16.0871 12.6141 15.8957C12.0302 15.5682 11.7881 15.1824 11.7881 14.8551V14.3318C11.9267 14.4429 12.0779 14.5433 12.2367 14.6324Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.148 21.5C20.1066 21.5 21.6944 19.8673 21.6944 17.8532C21.6944 15.8392 20.1066 14.2065 18.148 14.2065C16.1893 14.2065 14.6015 15.8392 14.6015 17.8532C14.6015 19.8673 16.1893 21.5 18.148 21.5ZM17.7619 16.909C17.6922 16.909 17.6254 16.9374 17.5761 16.9881C17.5268 17.0387 17.4992 17.1074 17.4992 17.1791C17.4992 17.2507 17.5268 17.3194 17.5761 17.3701C17.6254 17.4208 17.6922 17.4492 17.7619 17.4492H18.55C18.8287 17.4492 19.096 17.5631 19.293 17.7657C19.4901 17.9683 19.6008 18.2432 19.6008 18.5297C19.6008 18.8163 19.4901 19.0911 19.293 19.2938C19.096 19.4964 18.8287 19.6103 18.55 19.6103H17.3678C17.1502 19.6103 16.9738 19.4288 16.9738 19.2051C16.9738 18.9813 17.1502 18.7999 17.3678 18.7999H18.55C18.6197 18.7999 18.6865 18.7714 18.7357 18.7207C18.785 18.6701 18.8127 18.6014 18.8127 18.5297C18.8127 18.4581 18.785 18.3894 18.7357 18.3387C18.6865 18.2881 18.6197 18.2596 18.55 18.2596H17.7619C17.4832 18.2596 17.2159 18.1458 17.0188 17.9431C16.8218 17.7405 16.7111 17.4657 16.7111 17.1791C16.7111 16.8925 16.8218 16.6177 17.0188 16.415C17.2159 16.2124 17.4832 16.0986 17.7619 16.0986H18.944C19.1617 16.0986 19.3381 16.28 19.3381 16.5038C19.3381 16.7275 19.1617 16.909 18.944 16.909H17.7619Z" fill="white"/>
</svg>
`},4229:P=>{P.exports=`<svg width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="_Action Image">
<g id="Object Icon">
<rect y="0.286133" width="32" height="32" rx="16" fill="rgb(196,43,43)"/>
<g id="Icon | Lead - 16x16 | universal">
<g id="Vector">
<path d="M18.8 13.1529V14.7529H20.4V15.5529H18.8V16.3529H20.4V17.1529H18.8V17.9529H20.4V18.7529H18.8V19.5529H20.4V20.3529H18.8V21.9529H22V13.1529H18.8Z" fill="white"/>
<path d="M10.8 10.7529V16.2641C11.6 15.6921 11.9656 15.3529 12.7864 15.3529C13.0907 15.331 13.3963 15.3714 13.6845 15.4715C13.9728 15.5717 14.2376 15.7295 14.4628 15.9354C14.688 16.1412 14.8689 16.3909 14.9944 16.669C15.1199 16.9471 15.1874 17.2479 15.1928 17.5529C15.1941 17.8768 15.129 18.1975 15.0016 18.4953L14.868 18.8105L14.96 18.9929C15.4418 19.3135 15.8292 19.7569 16.0823 20.2772C16.3354 20.7976 16.4451 21.376 16.4 21.9529H18V10.7529H10.8ZM14 13.9529H11.6V13.1529H14V13.9529ZM17.2 18.7529H15.6V17.9529H17.2V18.7529ZM17.2 16.3529H15.6V15.5529H17.2V16.3529ZM17.2 13.9529H14.8V13.1529H17.2V13.9529Z" fill="white"/>
<path d="M12.6 18.7529C13.2627 18.7529 13.8 18.2157 13.8 17.5529C13.8 16.8902 13.2627 16.3529 12.6 16.3529C11.9373 16.3529 11.4 16.8902 11.4 17.5529C11.4 18.2157 11.9373 18.7529 12.6 18.7529Z" fill="white"/>
<path d="M12.6 19.5529C12.2697 19.5309 11.9383 19.5764 11.6262 19.6867C11.314 19.7969 11.0275 19.9696 10.7843 20.1941C10.541 20.4187 10.3461 20.6905 10.2112 20.9928C10.0764 21.2952 10.0045 21.6219 10 21.9529H15C15.0189 21.6328 14.9697 21.3123 14.8558 21.0126C14.7418 20.7129 14.5657 20.4407 14.339 20.2139C14.1122 19.9872 13.8401 19.8111 13.5403 19.6971C13.2406 19.5832 12.9201 19.534 12.6 19.5529Z" fill="white"/>
</g>
</g>
</g>
</g>
</svg>
`},82292:P=>{P.exports=`<svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect y="0.5" width="20" height="20" rx="10" fill="rgb(231,40,115)"/>
<path d="M11.8707 6.62235V7.43203H12.5655C13.0773 7.43203 13.4923 7.79938 13.4923 8.25255V9.09592L5.86133 9.09826V8.25489C5.86133 7.80173 6.27624 7.43437 6.78805 7.43437H7.48287V6.62235C7.48287 6.04255 8.4444 6.04255 8.4444 6.62235V7.43437L10.9092 7.43203V6.62235C10.9092 6.05252 11.8707 6.04763 11.8707 6.62235Z" fill="white"/>
<path d="M5.86133 9.7696L11.8736 9.76775C11.5677 9.89573 11.2858 10.0813 11.0452 10.318C10.5516 10.8035 10.272 11.4646 10.272 12.1567C10.272 12.9259 10.5758 13.5827 10.8993 14.0692C10.9858 14.1992 11.0766 14.3215 11.1686 14.4357L6.78805 14.4375C6.27624 14.4375 5.86133 14.0701 5.86133 13.617V9.7696Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M11.5711 10.8527C11.9228 10.5068 12.3997 10.3125 12.897 10.3125C13.3943 10.3125 13.8712 10.5068 14.2228 10.8527C14.5744 11.1985 14.772 11.6676 14.772 12.1567C14.772 12.7267 14.5459 13.2392 14.2701 13.6539C13.9938 14.0694 13.6572 14.4024 13.41 14.6186C13.1145 14.8771 12.6794 14.8771 12.3839 14.6186C12.1368 14.4024 11.8002 14.0694 11.5238 13.6539C11.2481 13.2392 11.022 12.7267 11.022 12.1567C11.022 11.6676 11.2195 11.1985 11.5711 10.8527ZM13.8345 12.2615C13.8345 12.7792 13.4147 13.199 12.897 13.199C12.3792 13.199 11.9595 12.7792 11.9595 12.2615C11.9595 11.7437 12.3792 11.324 12.897 11.324C13.4147 11.324 13.8345 11.7437 13.8345 12.2615Z" fill="white"/>
</svg>
`},50468:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2 4.50066C2 3.67187 2.67157 3 3.5 3H12.5C13.3284 3 14 3.67187 14 4.50065V11.067C14 11.8958 13.3284 12.5676 12.5 12.5676H8.9074H4.84368H3.5C2.67157 12.5676 2 11.8958 2 11.067L2 4.50066Z" fill="#0091EA"/>
<path d="M4.84368 12.5676V14.4989C4.84368 14.9057 5.30331 15.1424 5.63425 14.906L8.9074 12.5676H4.84368Z" fill="#0091EA"/>
</svg>
`},62564:P=>{P.exports=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="_Action Image">
<g id="Object Icon">
<rect width="32" height="32" rx="16" fill="rgb(30,154,17)"/>
<g id="Icon | Opportunity - 16x16 | universal">
<g id="Vector">
<path d="M20.9199 14.6077L22.498 10.8945H9.50201L11.0801 14.6077H20.9199Z" fill="white"/>
<path d="M19.3446 18.3208L20.5254 15.5359H11.4682L12.6489 18.3208H19.3446Z" fill="white"/>
<path d="M13.0435 19.2491L13.8316 21.1057H18.1639L18.952 19.2491H13.0435Z" fill="white"/>
</g>
</g>
</g>
</g>
</svg>
`},33301:P=>{P.exports=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="32" height="32" rx="16" fill="rgb(230,39,114)"/>
<path d="M19.811 21.5122C20.212 21.5122 20.537 21.1892 20.537 20.7907C20.537 20.3923 20.212 20.0693 19.811 20.0693C19.4101 20.0693 19.0851 20.3923 19.0851 20.7907C19.0851 21.1892 19.4101 21.5122 19.811 21.5122Z" fill="white"/>
<path d="M14.5911 21.5122C14.992 21.5122 15.317 21.1892 15.317 20.7907C15.317 20.3923 14.992 20.0693 14.5911 20.0693C14.1901 20.0693 13.8651 20.3923 13.8651 20.7907C13.8651 21.1892 14.1901 21.5122 14.5911 21.5122Z" fill="white"/>
<path d="M21.9691 12.8826C22.1046 12.4451 21.7775 12.0014 21.3194 12.0014H13.2488C12.9476 12.0014 12.6811 11.8063 12.5902 11.5191V11.5191C12.471 11.0759 11.7738 10.7074 10.4422 10.6412C10.1983 10.629 10 10.8286 10 11.0728C10 11.3366 10.2304 11.5391 10.4939 11.5515C10.779 11.5648 11.0611 11.6173 11.3323 11.7075C11.5187 11.7695 11.6534 11.9274 11.7108 12.1152L13.7333 18.729C13.8207 19.0149 14.0846 19.2102 14.3836 19.2102H19.9677C20.2509 19.2102 20.4804 18.9807 20.4804 18.6975C20.4804 18.4144 20.2509 18.1848 19.9677 18.1848H14.7516C14.6602 18.1848 14.58 18.1241 14.5552 18.0362L14.3465 17.2972C14.3097 17.167 14.4075 17.0377 14.5428 17.0377H20.1817C20.4798 17.0377 20.7432 16.8435 20.8314 16.5587L21.9691 12.8826Z" fill="white"/>
</svg>
`},90723:P=>{P.exports=`<svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect y="0.5" width="20" height="20" rx="10" fill="rgb(1,181,157)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.91846 7.00009C5.91846 6.35499 6.44141 5.83203 7.08651 5.83203H12.629C13.2741 5.83203 13.797 6.35499 13.797 7.00009V9.76545C13.6151 9.83737 13.4477 9.94485 13.3054 10.0831L12.1574 11.1984C11.9811 11.3696 11.8562 11.5738 11.7828 11.7917C11.57 11.8626 11.3701 11.9826 11.2009 12.1516L9.70018 13.6496C9.56437 13.7851 9.45598 13.9456 9.38092 14.1222L9.00648 15.0031H7.08651C6.44141 15.0031 5.91846 14.4801 5.91846 13.835V7.00009ZM7.54818 9.67175C7.22563 9.67175 6.96415 9.93323 6.96415 10.2558C6.96415 10.5783 7.22563 10.8398 7.54818 10.8398H10.5107C10.8333 10.8398 11.0948 10.5783 11.0948 10.2558C11.0948 9.93323 10.8333 9.67175 10.5107 9.67175H7.54818ZM6.96415 8.15676C6.96415 7.83421 7.22563 7.57273 7.54818 7.57273H12.1532C12.4758 7.57273 12.7373 7.83421 12.7373 8.15676C12.7373 8.47931 12.4758 8.74079 12.1532 8.74079H7.54818C7.22563 8.74079 6.96415 8.47931 6.96415 8.15676ZM7.54818 11.7694C7.22563 11.7694 6.96415 12.0308 6.96415 12.3534C6.96415 12.6759 7.22563 12.9374 7.54818 12.9374H8.90395C9.2265 12.9374 9.48798 12.6759 9.48798 12.3534C9.48798 12.0308 9.2265 11.7694 8.90395 11.7694H7.54818Z" fill="white"/>
<path d="M14.071 10.9057C14.0171 10.9101 13.9664 10.9332 13.9276 10.9709L12.7648 12.1005C12.6728 12.1899 12.6701 12.3366 12.7586 12.4294L13.3048 13.0015C13.3953 13.0963 13.5462 13.0981 13.6389 13.0054L14.7985 11.8463C14.8374 11.8073 14.8614 11.7559 14.8661 11.701L14.9167 11.1092C14.9291 10.9651 14.8088 10.8445 14.6647 10.8564L14.071 10.9057Z" fill="white"/>
<path d="M9.84473 15.6275C9.76307 15.8196 9.95517 16.0142 10.1483 15.9351L11.1259 15.5344C11.1554 15.5223 11.1821 15.5043 11.2044 15.4816L12.7513 13.8998C12.8423 13.8068 12.8397 13.6573 12.7456 13.5675L12.1688 13.0172C12.077 12.9297 11.9322 12.9313 11.8425 13.0209L10.3291 14.5316C10.3078 14.5528 10.2909 14.5779 10.2791 14.6055L9.84473 15.6275Z" fill="white"/>
</svg>
`},43045:P=>{P.exports=`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="Photo Placeholder ">
<g clip-path="url(#clip0_6984_8837)">
<path id="Rectangle 7758" d="M32 0H0V32H32V0Z" fill="white"/>
<path id="Vector" d="M31.6858 28.0662L22.6858 24.0751L22.3429 22.9917C22.2286 22.6202 22.0858 22.2505 21.7429 22.1648C21.6716 22.1305 21.6103 22.0782 21.5653 22.0131C21.5202 21.948 21.4928 21.8723 21.4858 21.7934L21.2858 19.6551C21.281 19.4862 21.3425 19.3221 21.4572 19.198C22.0162 18.5001 22.372 17.6617 22.4858 16.7748C22.5429 16.3177 22.8001 15.8911 22.9143 15.4348L23.4001 12.8974C23.4572 12.5545 23.4286 12.2974 23.0572 12.1845C22.9429 12.156 22.8572 11.9845 22.8572 11.7274C22.8572 11.7274 23.3143 8.42024 23.1715 7.25138C22.9715 5.71196 21.8001 2.60453 18.6001 2.77538C10.0858 0.298527 10.7143 4.43224 7.77149 5.65824C8.60006 6.25824 9.17149 6.17253 9.62863 6.0011C9.48578 6.11538 8.4572 6.17253 7.97149 8.22481C8.5682 7.45931 8.88233 7.45512 9.27921 7.23082C8.31835 7.78464 9.20013 11.0195 9.22863 11.3325V11.7611C9.22863 11.9611 9.14292 12.1897 9.02863 12.2182C8.6572 12.3611 8.6572 12.6182 8.68578 12.9311L9.17149 15.4662C9.28578 15.9234 9.54292 16.35 9.60006 16.8062C9.71381 17.6931 10.0697 18.5315 10.6286 19.2294C10.7316 19.3604 10.7915 19.5201 10.8001 19.6865L10.6001 21.8248C10.5715 21.9677 10.4572 22.1677 10.3429 22.1962C10.0001 22.282 9.82863 22.6534 9.74292 23.0231L9.40006 24.1065L0.314347 28.0662C0.217795 28.1199 0.137584 28.1987 0.0822438 28.2943C0.0269036 28.3899 -0.00149736 28.4987 6.08349e-05 28.6091V32.0005H32.0001V28.6091C32.0016 28.4987 31.9732 28.3899 31.9179 28.2943C31.8625 28.1987 31.7823 28.1199 31.6858 28.0662Z" fill="#D9D9D9"/>
</g>
<rect x="0.5" y="0.5" width="31" height="31" rx="15.5" stroke="#181818" stroke-opacity="0.05"/>
</g>
<defs>
<clipPath id="clip0_6984_8837">
<rect width="32" height="32" rx="16" fill="white"/>
</clipPath>
</defs>
</svg>
`},68039:P=>{P.exports=`<svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect y="0.5" width="20" height="20" rx="10" fill="rgb(0,133,121)"/>
<path d="M13.7671 13.0262C13.7671 12.358 12.9575 12.0234 12.4841 12.4959L11.7337 13.2446C11.0588 13.9182 9.96447 13.9183 9.28939 13.2449L7.58444 11.544C6.99735 10.9583 6.99719 10.0086 7.58409 9.42268C8.17098 8.83679 9.12269 8.83663 9.70979 9.42232L9.97988 9.69176C10.2734 9.98457 10.7492 9.98453 11.0426 9.69167L13.0788 7.65967C13.3437 7.39533 13.3751 6.94358 13.0227 6.81659C12.9032 6.77349 12.7742 6.75 12.6397 6.75H6.62733C6.00472 6.75 5.5 7.25368 5.5 7.875V13.875C5.5 14.4963 6.00472 15 6.62733 15H12.6397C13.2623 15 13.7671 14.4963 13.7671 13.875V13.0262Z" fill="white"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.0299 7.83401C15.3234 8.12691 15.3234 8.60179 15.0299 8.89467L11.2023 12.7141C10.8208 13.0948 10.2023 13.0948 9.82073 12.7142L8.11578 11.0133C7.82223 10.7205 7.82215 10.2456 8.1156 9.95267C8.40905 9.65972 8.88491 9.65964 9.17845 9.95249L10.5114 11.2823L13.967 7.83398C14.2605 7.54109 14.7364 7.54111 15.0299 7.83401Z" fill="white"/>
</svg>
`},99518:P=>{P.exports=`<svg width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="_Action Image">
<g id="Object Icon">
<rect y="0.142578" width="32" height="32" rx="16" fill="rgb(1,181,157)"/>
<g id="Icon | File - 16x16 | universal">
<g id="Vector">
<path d="M20.2308 14.0272L16.8461 10.6426V14.0272H20.2308Z" fill="white"/>
<path d="M16 10.6426H11.7692V21.6426H20.2308V14.8733H16V10.6426Z" fill="white"/>
</g>
</g>
</g>
</g>
</svg>
`},6418:P=>{P.exports=`<svg width="32" height="33" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="_Action Image">
<g id="Object Icon">
<rect y="0.857422" width="32" height="32" rx="16" fill="#5d36c1"/>
<g id="Icon | Flag - 16x16 | universal">
<path id="Path 520" d="M12.8205 17.6275H20.6135L17.6412 14.4143L20.6135 11.2012H12.0168V22.4482H12.8205V17.6275Z" fill="white"/>
</g>
</g>
</g>
</svg>
`},92888:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.16835 9.87999L5.95131 13.18C6.0708 13.1799 6.18845 13.151 6.29445 13.0958C6.40044 13.0407 6.49167 12.9608 6.56031 12.863L8.02235 11.363L11.0523 13.751C11.6083 14.084 12.0004 13.908 12.1524 13.201L14.1412 3.17399C14.3182 2.28999 13.8414 1.94399 13.3034 2.16099L1.61232 6.977C0.812317 7.31 0.82733 7.78899 1.47633 8.00599L4.46534 9.00599L11.4072 4.33198C11.7342 4.09898 12.0322 4.23198 11.7872 4.46098L6.16835 9.87999Z" fill="#0091EA"/>
</svg>
`},71986:P=>{P.exports=`<svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect y="0.5" width="20" height="20" rx="10" fill="rgb(178,84,195)"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.8334 10.8232C15.8026 10.9166 15.7536 11.0031 15.6892 11.0775C15.6249 11.1519 15.5464 11.2128 15.4584 11.2567L14.421 11.7754C14.3729 11.7995 14.329 11.8312 14.2909 11.8692L13.6415 12.5191C13.1518 13.0088 11.942 14.3951 11.6163 14.4643C10.8909 14.6184 9.02851 13.9497 8.2832 13.6839C7.60802 13.4432 6.02038 12.1138 5.72756 11.8657C5.69635 11.8392 5.6622 11.8166 5.62561 11.7983L4.54257 11.2567C4.3647 11.1678 4.22942 11.0119 4.16648 10.8233C4.10355 10.6346 4.1181 10.4287 4.20695 10.2508L5.37179 7.92159C5.46071 7.74372 5.61663 7.60844 5.80527 7.5455C5.99391 7.48256 6.19982 7.49712 6.37773 7.58597L7.23445 8.01316C7.34837 8.06996 7.47878 8.08142 7.60087 8.04538C8.14391 7.88507 9.68924 7.43711 9.99976 7.4375C10.343 7.43793 10.8105 7.76243 11.138 7.95588C11.2004 7.99274 11.271 8.01298 11.3433 8.01785L12.4515 8.09248C12.5401 8.09845 12.6287 8.0807 12.7082 8.04106L13.6209 7.58597C13.7988 7.49712 14.0047 7.48256 14.1933 7.5455C14.382 7.60844 14.5379 7.74372 14.6268 7.92159L15.7916 10.2508C15.8361 10.3387 15.8626 10.4346 15.8698 10.5328C15.877 10.631 15.8646 10.7297 15.8334 10.8232ZM11.1841 11.4799C11.385 11.3559 11.6451 11.3501 11.8294 11.4976L12.4161 11.9675C12.634 12.1419 12.6668 12.4604 12.4838 12.6711C12.132 13.0761 11.5965 13.6646 11.391 13.7426C11.1157 13.8471 9.65596 13.4915 8.65961 13.0324C7.94341 12.7024 7.07716 12.0063 6.63816 11.6333C6.46756 11.4883 6.42252 11.2464 6.52266 11.0462L7.53797 9.01593C7.60064 8.8906 7.71303 8.79733 7.84776 8.75882L9.93601 8.162C9.97768 8.15009 10.0218 8.15008 10.0635 8.16198C10.2353 8.211 10.2897 8.42751 10.1614 8.55187L8.34695 10.3117C8.34558 10.3129 8.34433 10.3141 8.3432 10.3155C8.26371 10.3949 8.20307 10.4912 8.16577 10.5971C8.12848 10.7031 8.11547 10.8161 8.1277 10.9278C8.13994 11.0395 8.17712 11.147 8.23649 11.2424C8.29586 11.3378 8.3759 11.4186 8.4707 11.4789C9.32225 12.0219 10.3293 12.0079 11.1841 11.4799ZM12.084 8.87878C12.2735 8.87878 12.4467 8.98587 12.5313 9.15537L13.5772 11.2493C13.631 11.3572 13.6103 11.4874 13.5255 11.5731C13.4241 11.6757 13.2616 11.6851 13.1491 11.595L11.7341 10.4613C11.6619 10.4034 11.5708 10.3743 11.4783 10.3796C11.3859 10.3849 11.2987 10.4242 11.2335 10.4899C10.6367 11.0913 9.9911 11.2094 9.45464 11.0894C9.13995 11.0189 9.0964 10.6322 9.32772 10.4076L10.7561 9.02012C10.8494 8.92948 10.9744 8.87878 11.1045 8.87878H12.084Z" fill="white"/>
</svg>
`},71381:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.3382 2.65553C11.9198 1.27456 10.0177 0.501155 8.03696 0.500006C6.7295 0.498375 5.44464 0.840236 4.31126 1.49127C3.17787 2.14231 2.23579 3.07964 1.57966 4.20918C0.923544 5.33873 0.576417 6.62076 0.573084 7.92664C0.569752 9.23252 0.910374 10.5163 1.56072 11.6492L0.500488 15.5L4.46586 14.468C5.56944 15.0486 6.79548 15.3584 8.04272 15.372C9.51537 15.373 10.9554 14.9382 12.1808 14.1225C13.4063 13.3068 14.3622 12.1468 14.9282 10.7889C15.4941 9.43093 15.6446 7.93598 15.3606 6.49271C15.0766 5.04944 14.3709 3.72257 13.3325 2.67959L13.3382 2.65553Z" fill="#ECEFF1"/>
<path d="M8.0505 14.0049H8.03697C6.85138 14.0024 5.69125 13.6613 4.69331 13.022L2.38 13.6227L3.00077 11.3758L2.85228 11.1447C2.24098 10.1731 1.91691 9.04885 1.91736 7.90135C1.92751 6.69384 2.2942 5.51617 2.97147 4.51588C3.64875 3.51559 4.60648 2.73717 5.72471 2.27812C6.84295 1.81907 8.0719 1.69981 9.25769 1.93529C10.4435 2.17077 11.5334 2.75051 12.3907 3.60188C13.2432 4.4566 13.8228 5.54464 14.0561 6.7284C14.2894 7.91215 14.1659 9.13843 13.7012 10.2521C13.2366 11.3657 12.4517 12.3167 11.4458 12.9847C10.44 13.6527 9.25841 14.0078 8.0505 14.0049Z" fill="#4CAF50"/>
<path d="M11.2399 9.53889L11.2351 9.58799C11.0587 9.49172 10.1989 9.01037 10.0389 8.94587C9.67942 8.79472 9.78062 8.9218 9.09049 9.81809C8.98736 9.94805 8.88609 9.95865 8.71163 9.86815C8.18457 9.62865 7.70646 9.29376 7.30147 8.88041C6.91408 8.46927 6.58637 8.00586 6.32795 7.50374C6.15639 7.16679 6.51596 7.11865 6.84272 6.41587C6.86615 6.36027 6.87692 6.30016 6.87425 6.23989C6.87158 6.17962 6.85556 6.12069 6.8273 6.06737C6.78393 5.9711 6.43305 4.98911 6.28654 4.59921C6.14003 4.20931 5.99744 4.26035 5.89238 4.26035C5.75054 4.22117 5.60064 4.22183 5.45915 4.26226C5.31767 4.30268 5.19005 4.38131 5.09041 4.48948C4.14389 5.6688 4.38192 6.88661 5.19254 8.1805C6.78389 10.543 7.63307 10.9791 9.18297 11.5818C9.53713 11.7045 9.91737 11.7324 10.2857 11.6626C10.5392 11.5981 10.7759 11.4801 10.9799 11.3165C11.1839 11.153 11.3504 10.9476 11.4683 10.7144C11.5855 10.4128 11.622 10.086 11.5743 9.76609C11.5309 9.67655 11.4163 9.62652 11.2399 9.53698V9.53889Z" fill="#FAFAFA"/>
</svg>
`},54663:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4 10L8.0208 6L12 10" stroke="currentColor" stroke-width="2"/>
</svg>
`},26819:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64">
  <g id="Group_145601111" data-name="Group 145601111" transform="translate(-464 -425)">
    <rect id="Rectangle_248001111" data-name="Rectangle 248001111" width="72" height="64" rx="6" transform="translate(464 425)" fill="none"/>
    <g id="Group_147311111" data-name="Group 147311111" transform="translate(2.38)">
      <g id="Group_147281111" data-name="Group 147281111" transform="translate(491 439)">
        <rect id="Rectangle_66121111" data-name="Rectangle 66121111" width="30" height="5" rx="2" transform="translate(-0.38)" fill="#e3e9f9"/>
        <rect id="Rectangle_389701111" data-name="Rectangle 389701111" width="35" height="5" rx="2" transform="translate(-0.38 8)" fill="#006ce0"/>
      </g>
      <g id="Group_147291111" data-name="Group 147291111" transform="translate(491 455)">
        <rect id="Rectangle_6612-21111" data-name="Rectangle 66121111" width="30" height="5" rx="2" transform="translate(-0.38)" fill="#e3e9f9"/>
        <rect id="Rectangle_38970-21111" data-name="Rectangle 389701111" width="35" height="5" rx="2" transform="translate(-0.38 8)" fill="#006ce0"/>
      </g>
      <g id="Group_147301111" data-name="Group 147301111" transform="translate(491 471)">
        <rect id="Rectangle_6612-31111" data-name="Rectangle 66121111" width="20" height="5" rx="2" transform="translate(9.62)" fill="#e3e9f9"/>
        <rect id="Rectangle_398951111" data-name="Rectangle 398951111" width="5" height="5" rx="2" transform="translate(-0.38)" fill="#006ce0"/>
      </g>
    </g>
    <g id="Group_147331111" data-name="Group 147331111" transform="translate(440 367)">
      <rect id="Rectangle_62391111" data-name="Rectangle 62391111" width="16" height="16" rx="2" transform="translate(32 72)" fill="#ff4013"/>
      <path id="Path_63391111" data-name="Path 63391111" d="M448.6,1481l3.962-4,4.038,4" transform="translate(-412.602 -1399.001)" fill="none" stroke="#fff" stroke-width="1.3"/>
    </g>
  </g>
</svg>
`},21371:P=>{P.exports=`<svg id="Component_2433_33" data-name="Component 2433 \u2013 33" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
  <rect id="Rectangle_39404" data-name="Rectangle 39404" width="24" height="24" fill="none"/>
  <path id="Path_11238" data-name="Path 11238" d="M3.011-1.195H2.7A11.1,11.1,0,0,1-.46-1.642,10.6,10.6,0,0,1-3.3-2.879,11.332,11.332,0,0,1-5.683-4.872,11.436,11.436,0,0,1-7.539-7.518l-.172-.275.172-.309a11.03,11.03,0,0,1,1.856-2.577,11.916,11.916,0,0,1,2.44-1.993A11.8,11.8,0,0,1-.391-13.944,10.859,10.859,0,0,1,2.7-14.391h0a11.457,11.457,0,0,1,3.2.447,11.648,11.648,0,0,1,2.887,1.271,11.144,11.144,0,0,1,2.405,1.993A10.779,10.779,0,0,1,12.976-8.1l.137.309-.137.275a10.173,10.173,0,0,1-1.615,2.612A11.29,11.29,0,0,1,9.024-2.947,12.152,12.152,0,0,1,6.207-1.642,11.457,11.457,0,0,1,3.011-1.195Zm0-1.478h0A10.05,10.05,0,0,0,8.182-4.03a9.55,9.55,0,0,0,3.625-3.763,9.679,9.679,0,0,0-1.615-2.131,10.351,10.351,0,0,0-2.062-1.6,10.528,10.528,0,0,0-2.44-1.048,9.591,9.591,0,0,0-2.68-.378A10.134,10.134,0,0,0-2.11-11.59a9.39,9.39,0,0,0-3.677,3.8A8.406,8.406,0,0,0-2.161-4.081,11.683,11.683,0,0,0,3.011-2.672Zm0-10.275a4.761,4.761,0,0,0-1.735.326A4.08,4.08,0,0,0-.22-11.607H.09a1.58,1.58,0,0,1,1.134.464A1.535,1.535,0,0,1,1.7-9.992a1.551,1.551,0,0,1-.481,1.134A1.551,1.551,0,0,1,.09-8.377,1.78,1.78,0,0,1-.769-8.6a1.41,1.41,0,0,1-.619-.67v.722A4.364,4.364,0,0,0-.151-5.473,3.982,3.982,0,0,0,2.873-4.15h.137A4.364,4.364,0,0,0,6.086-5.387a3.945,3.945,0,0,0,1.323-2.99v-.172a4.332,4.332,0,0,0-1.254-3.076,4,4,0,0,0-3.007-1.323H3.011Z" transform="translate(9.299 19.293)" fill="#004fd6"/>
</svg>
`},28258:P=>{P.exports=`<svg id="Component_2433_33" data-name="Component 2433 \u2013 33" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
  <rect id="Rectangle_39404" data-name="Rectangle 39404" width="24" height="24" fill="none"/>
  <path id="Path_11238" data-name="Path 11238" d="M3.011-1.195H2.7A11.1,11.1,0,0,1-.46-1.642,10.6,10.6,0,0,1-3.3-2.879,11.332,11.332,0,0,1-5.683-4.872,11.436,11.436,0,0,1-7.539-7.518l-.172-.275.172-.309a11.03,11.03,0,0,1,1.856-2.577,11.916,11.916,0,0,1,2.44-1.993A11.8,11.8,0,0,1-.391-13.944,10.859,10.859,0,0,1,2.7-14.391h0a11.457,11.457,0,0,1,3.2.447,11.648,11.648,0,0,1,2.887,1.271,11.144,11.144,0,0,1,2.405,1.993A10.779,10.779,0,0,1,12.976-8.1l.137.309-.137.275a10.173,10.173,0,0,1-1.615,2.612A11.29,11.29,0,0,1,9.024-2.947,12.152,12.152,0,0,1,6.207-1.642,11.457,11.457,0,0,1,3.011-1.195Zm0-1.478h0A10.05,10.05,0,0,0,8.182-4.03a9.55,9.55,0,0,0,3.625-3.763,9.679,9.679,0,0,0-1.615-2.131,10.351,10.351,0,0,0-2.062-1.6,10.528,10.528,0,0,0-2.44-1.048,9.591,9.591,0,0,0-2.68-.378A10.134,10.134,0,0,0-2.11-11.59a9.39,9.39,0,0,0-3.677,3.8A8.406,8.406,0,0,0-2.161-4.081,11.683,11.683,0,0,0,3.011-2.672Zm0-10.275a4.761,4.761,0,0,0-1.735.326A4.08,4.08,0,0,0-.22-11.607H.09a1.58,1.58,0,0,1,1.134.464A1.535,1.535,0,0,1,1.7-9.992a1.551,1.551,0,0,1-.481,1.134A1.551,1.551,0,0,1,.09-8.377,1.78,1.78,0,0,1-.769-8.6a1.41,1.41,0,0,1-.619-.67v.722A4.364,4.364,0,0,0-.151-5.473,3.982,3.982,0,0,0,2.873-4.15h.137A4.364,4.364,0,0,0,6.086-5.387a3.945,3.945,0,0,0,1.323-2.99v-.172a4.332,4.332,0,0,0-1.254-3.076,4,4,0,0,0-3.007-1.323H3.011Z" transform="translate(9.299 19.293)" fill="#284578"/>
</svg>
`},28276:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M3.25 1H13.75C14.214 1.00049 14.6588 1.18503 14.9869 1.51311C15.315 1.84119 15.4995 2.28602 15.5 2.75V13.25C15.4995 13.714 15.315 14.1588 14.9869 14.4869C14.6588 14.815 14.214 14.9995 13.75 15H3.25C2.78602 14.9995 2.34119 14.815 2.01311 14.4869C1.68503 14.1588 1.50049 13.714 1.5 13.25V2.75C1.50025 2.28595 1.6847 1.84097 2.01284 1.51284C2.34097 1.1847 2.78595 1.00025 3.25 1ZM11.1255 6.28547V8.02893H13.302L12.4312 10.2055H11.1245V14.9981H8.51121V10.2055H6.76868V8.02893H8.51214V6.28547C8.51214 5.59237 8.78748 4.92766 9.27757 4.43756C9.76767 3.94747 10.4324 3.67213 11.1255 3.67213H12.8689V5.8496H11.9972C11.9586 5.8496 11.9207 5.84931 11.8834 5.84903C11.4556 5.8458 11.1255 5.8433 11.1255 6.28547Z" fill="#3B5999"/>
</svg>
`},66537:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3 13L13 3" stroke="currentColor" stroke-miterlimit="10"/>
<path d="M3 3L13 13" stroke="currentColor" stroke-miterlimit="10"/>
</svg>
`},59047:P=>{P.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6 5.01465H5V12.0146H6V5.01465Z" fill="currentColor"/>
<path d="M10 5.01465H9V12.0146H10V5.01465Z" fill="currentColor"/>
<path d="M8 5.01465H7V12.0146H8V5.01465Z" fill="currentColor"/>
<path d="M13 3.01465H10V1.01465H5V3.01465H2V4.01465H3V12.9146L4.40997 14.0146H10.56L12.01 12.9146V4.01465H13.01L13 3.01465ZM6 2.01465H9V3.01465H6V2.01465ZM11 12.4146L10.22 13.0146H4.75L4 12.4247V4.01465H11V12.4146Z" fill="currentColor"/>
</svg>
`},74262:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="40" viewBox="0 0 72 40">
  <g transform="translate(-60 -304.334)">
    <rect width="72" height="40" transform="translate(60 304.334)" fill="none" opacity="0"/>
    <g transform="translate(68 312.334)" fill="#fff" stroke="#0d2e4e" stroke-width="1">
      <rect width="56" height="24" rx="2" stroke="none"/>
      <rect x="0.5" y="0.5" width="55" height="23" rx="1.5" fill="none"/>
    </g>
    <rect width="24" height="6" rx="3" transform="translate(76 321.334)" fill="#d1d1d1"/>
    <path d="M-244.554,414.3l4.807-4.746c.572-.57-1.528-2.67-2.1-2.1,0,0-4.631,4.69-5.142,5.142s-1.171,2.607-.09,3.688,3.135,1.22,4.019.337,4.541-4.435,4.541-4.435" transform="translate(354.22 -87.852)" fill="none" stroke="#ff4013" stroke-linecap="round" stroke-linejoin="bevel" stroke-miterlimit="10" stroke-width="2"/>
  </g>
</svg>
`},10702:P=>{P.exports=`<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M69.7805 44.0724V16.1562C69.7805 15.904 69.7983 15.6518 69.7783 15.4017C69.6805 14.27 69.4094 14.0049 68.2249 14.0049C56.1508 13.9984 44.0745 13.9984 32.0004 14.0049C30.8159 14.0049 30.5448 14.27 30.447 15.4017C30.4248 15.6518 30.4448 15.904 30.4448 16.1562V44.0724" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M60.391 56.8984C60.0399 57.2218 59.6288 57.502 59.3465 57.875C58.0265 59.6189 56.7419 61.3866 55.4485 63.1499C55.0885 63.6414 55.1485 64.0575 55.5441 64.5619C57.1353 66.5839 58.8154 68.5629 60.1466 70.7401C60.6177 71.5097 61.0711 72.1176 61.76 72.6608C61.9667 72.8247 62.02 73.2924 61.9867 73.605C61.8356 75.0817 61.6222 76.5518 61.4489 78.0263C61.2178 80.001 61.02 81.9799 60.7666 83.9523C60.7088 84.3942 60.4844 84.8168 60.3355 85.2479" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M39.8902 71.6649C39.8524 71.6649 39.8102 71.652 39.779 71.6649C38.3945 72.3612 38.0523 73.3895 38.2923 74.9028C38.7634 77.8647 38.9812 80.8633 39.3501 83.8403C39.4101 84.321 39.7035 84.7758 39.8879 85.2436" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M69.4467 51.0781C69.5867 52.3996 69.2311 53.5679 68.5889 54.7579C67.5132 56.7476 66.7465 58.899 65.6309 60.8649C64.8086 62.3157 62.5329 71.458 61.9951 72.9584" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M30.8893 51.0781C30.8027 52.4729 31.0538 53.7059 31.8316 54.9907C32.9495 56.836 33.6517 58.9162 34.5674 60.88C34.7851 61.3457 35.1474 61.7466 35.4452 62.1778" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M55.2239 79.1016C54.4839 80.0005 53.7172 80.88 53.0082 81.8005C52.0571 83.04 51.1504 84.3119 50.2236 85.5686" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M45.002 79.1016C45.742 80.035 46.5132 80.949 47.2176 81.9083C48.2088 83.2556 49.1511 84.6331 50.1134 85.9998" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M41.8905 51.0781C42.1394 52.9557 41.2127 54.3332 40.2015 55.8767C39.1636 57.4568 37.848 58.8623 36.988 60.5567C36.7835 60.9598 36.459 61.3392 36.1035 61.6302C35.3301 62.2597 35.299 62.9344 35.6523 63.8032C36.3012 65.3984 36.7946 67.0561 37.4835 68.6319C37.6836 69.0911 38.3903 69.3196 38.7703 69.7335C39.9304 71.001 40.6682 72.5552 41.6794 73.9198C42.7416 75.3533 43.8906 76.7287 45.0018 78.1299" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M39.8828 56.0366C40.5873 56.9355 41.4162 58.6903 42.1096 59.5957C43.043 60.8115 44.2253 61.9281 44.8297 63.284C45.7942 65.4462 47.5055 67.0781 48.6789 69.0721C49.0433 69.6907 49.7189 70.1693 49.9678 70.816C50.6212 72.5039 51.9768 73.7176 52.9125 75.2093C53.5658 76.2527 54.4437 77.1645 55.2215 78.1346" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M44.8829 63.3652C44.3273 63.9753 43.8228 65.5123 43.3472 66.1763C42.4472 67.4373 41.6471 68.7652 40.7648 70.0392C40.5537 70.3454 40.0671 71.4124 39.7715 71.6646" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M52.2246 51.0781C52.5513 52.9536 51.489 54.2642 50.5112 55.7517C49.2289 57.7047 47.7955 59.5543 46.5398 61.5224C46.1309 62.1627 45.5198 62.6822 45.002 63.2578" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M74.2252 50.8628H26" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M55.2239 64.3359C54.5572 65.1271 53.8639 65.8967 53.2305 66.7115C52.2082 68.0243 51.2237 69.3652 50.2236 70.6952" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M50.1055 56.4678C51.1055 57.7978 52.2078 59.5698 53.2301 60.8826C53.8634 61.6975 54.5568 62.4671 55.2235 63.2582" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M60.3357 71.6646C59.2979 73.0291 58.2645 74.3958 57.2244 75.7604C56.6733 76.4825 56.1488 77.2262 55.5488 77.9074C55.0599 78.4614 55.1665 78.7675 55.6377 79.3431C56.7777 80.7378 57.7245 82.277 58.7912 83.7299C59.3157 84.4456 59.9313 85.101 60.5046 85.7843" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M50.1132 71.6646C49.6687 72.1668 49.1887 72.6454 48.7864 73.1778C47.5463 74.8183 46.144 76.3812 45.184 78.1683C44.6084 79.2375 43.8017 80.1105 43.2016 81.1366C42.5616 82.2339 41.7571 83.2428 40.9948 84.271C40.6037 84.7992 40.1481 85.282 39.7236 85.7843" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M62.4465 51.0781C62.6687 52.9169 62.0798 54.4626 60.6686 55.7129C60.1863 56.1397 60.2263 56.4997 60.6486 57.0214C61.5997 58.1962 62.4309 59.4594 63.3421 60.6666C63.7443 61.1991 64.2243 61.6776 64.6688 62.1799" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M37.668 51.0781C37.4169 53.1217 38.2258 54.7105 39.8904 55.9284" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M47.891 51.0781C47.5999 53.139 48.5533 54.6652 50.1134 55.9284" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M58.3347 51.0781C58.0902 53.0484 58.6725 54.6975 60.3348 55.9284" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M37.6675 69.2935C37.1853 70.5394 37.5053 71.6345 38.3342 72.6348" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},51824:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M7.24213 2.29936C7.3158 2.11775 7.48481 2 7.67181 2H10.3725C10.7507 2 10.9723 2.44981 10.7555 2.77718L8.74663 5.80929C8.52974 6.13666 8.7514 6.58647 9.1296 6.58647H11.5316C11.935 6.58647 12.149 7.09001 11.881 7.40855L6.39275 13.9322C6.25182 14.0997 5.99756 13.9291 6.08112 13.7231L7.95246 9.10955C8.08467 8.78363 7.85839 8.42106 7.52278 8.42106H5.46798C5.13237 8.42106 4.9061 8.05849 5.0383 7.73256L7.24213 2.29936Z" fill="#0D2E4E"/>
</svg>
`},57844:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path fill-rule="evenodd" clip-rule="evenodd" d="M6.66667 12C6.66667 12.4228 6.92903 12.7843 7.29982 12.9306L7.71591 11.9522C7.81504 11.7191 7.95822 11.5072 8.13759 11.3283L8.45882 11.0078C8.41771 11.0027 8.37583 11 8.33333 11H7.66667C7.11438 11 6.66667 11.4477 6.66667 12ZM11 7C11.4031 7 11.7505 7.23848 11.9087 7.58205L11.3831 8.0924C11.1504 8.31839 10.9853 8.58791 10.8884 8.87563C10.7885 8.9089 10.6907 8.95036 10.5962 9H5C4.44772 9 4 8.55228 4 8C4 7.44772 4.44772 7 5 7H11ZM3 3C2.44772 3 2 3.44772 2 4C2 4.55228 2.44772 5 3 5H13C13.5523 5 14 4.55228 14 4C14 3.44772 13.5523 3 13 3H3ZM13.8334 8.06976C13.7616 8.07571 13.694 8.10642 13.6422 8.15664L12.0372 9.71417C11.9144 9.83333 11.9107 10.0292 12.0289 10.1529L12.7915 10.9508C12.9122 11.077 13.1131 11.0794 13.2367 10.956L14.8378 9.35722C14.8898 9.30528 14.9218 9.23663 14.9281 9.16339L14.9988 8.3381C15.0152 8.14595 14.8549 7.98517 14.6627 8.00109L13.8334 8.06976ZM8.02577 14.5654C7.91679 14.8215 8.17282 15.0811 8.43039 14.9756L9.79511 14.4169C9.83439 14.4009 9.86997 14.3769 9.89966 14.3466L12.0311 12.1697C12.1526 12.0456 12.1491 11.8461 12.0234 11.7263L11.2184 10.9592C11.0961 10.8426 10.9032 10.8448 10.7836 10.9641L8.69806 13.0436C8.6697 13.0719 8.64706 13.1054 8.63138 13.1422L8.02577 14.5654Z" fill="#0D2E4E"/>
</svg>
`},51248:P=>{P.exports=`<svg id="svg" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" height="289.69359331476323" viewBox="0, 0, 400,289.69359331476323"><g id="svgg"><path id="path0" d="M155.278 17.681 C 155.162 18.125,154.883 18.261,154.085 18.261 C 153.325 18.261,153.043 18.386,153.043 18.723 C 153.043 18.977,152.783 19.253,152.464 19.336 C 151.448 19.602,151.587 27.919,152.624 28.880 C 153.030 29.257,153.617 29.565,153.928 29.565 C 154.239 29.565,154.754 29.826,155.072 30.145 C 155.649 30.721,156.039 30.725,217.826 30.725 C 279.614 30.725,280.004 30.721,280.580 30.145 C 280.899 29.826,281.472 29.565,281.853 29.565 C 282.235 29.565,282.622 29.370,282.714 29.130 C 282.805 28.891,283.080 28.696,283.324 28.696 C 283.704 28.696,283.768 28.029,283.768 24.058 C 283.768 20.008,283.710 19.420,283.306 19.420 C 283.052 19.420,282.776 19.159,282.693 18.841 C 282.585 18.430,282.297 18.261,281.708 18.261 C 281.188 18.261,280.738 18.042,280.512 17.681 C 280.152 17.104,279.836 17.101,217.790 17.101 C 155.674 17.101,155.429 17.104,155.278 17.681 M155.257 60.145 C 155.161 60.398,154.727 60.580,154.222 60.580 C 153.650 60.580,153.248 60.778,153.043 61.159 C 152.873 61.478,152.542 61.739,152.309 61.739 C 151.955 61.739,151.884 62.465,151.884 66.109 L 151.884 70.479 152.731 71.327 C 153.235 71.830,153.885 72.174,154.335 72.174 C 154.750 72.174,155.166 72.370,155.257 72.609 C 155.405 72.993,162.625 73.043,217.826 73.043 C 273.027 73.043,280.247 72.993,280.395 72.609 C 280.498 72.340,280.939 72.174,281.551 72.174 C 282.297 72.174,282.578 72.031,282.693 71.594 C 282.776 71.275,283.052 71.014,283.306 71.014 C 283.710 71.014,283.768 70.427,283.768 66.377 C 283.768 62.327,283.710 61.739,283.306 61.739 C 283.052 61.739,282.776 61.478,282.693 61.159 C 282.580 60.729,282.297 60.580,281.591 60.580 C 281.015 60.580,280.576 60.409,280.475 60.145 C 280.327 59.760,273.103 59.710,217.866 59.710 C 162.630 59.710,155.405 59.760,155.257 60.145 M256.449 102.633 C 256.170 102.938,255.688 103.188,255.377 103.188 C 253.697 103.188,253.333 104.212,253.333 108.946 C 253.333 112.767,253.393 113.333,253.795 113.333 C 254.049 113.333,254.325 113.594,254.409 113.913 C 254.522 114.346,254.804 114.493,255.522 114.493 C 256.228 114.493,256.531 114.646,256.667 115.072 C 256.850 115.650,257.105 115.652,319.275 115.652 C 381.445 115.652,381.701 115.650,381.884 115.072 C 382.019 114.646,382.323 114.493,383.029 114.493 C 383.747 114.493,384.029 114.346,384.142 113.913 C 384.225 113.594,384.501 113.333,384.755 113.333 C 385.158 113.333,385.217 112.767,385.217 108.946 C 385.217 104.212,384.854 103.188,383.173 103.188 C 382.863 103.188,382.348 102.928,382.029 102.609 C 381.135 101.714,257.266 101.738,256.449 102.633 M52.752 134.710 C 52.751 134.989,52.491 135.609,52.174 136.087 C 51.857 136.565,51.597 137.360,51.596 137.854 C 51.595 138.348,51.333 139.053,51.014 139.420 C 50.696 139.788,50.435 140.431,50.435 140.849 C 50.435 141.268,50.255 141.867,50.036 142.182 C 49.817 142.496,49.546 143.300,49.434 143.969 C 49.322 144.637,49.045 145.338,48.818 145.526 C 48.060 146.155,48.287 147.826,49.130 147.826 C 49.780 147.826,49.855 147.709,49.855 146.687 C 49.855 144.867,50.297 144.638,53.804 144.638 L 56.841 144.638 57.287 145.580 C 58.258 147.633,58.409 147.826,59.054 147.826 C 59.818 147.826,59.874 147.574,59.285 146.795 C 59.051 146.485,58.854 145.841,58.849 145.362 C 58.843 144.884,58.578 144.066,58.260 143.544 C 57.942 143.022,57.681 142.276,57.681 141.886 C 57.681 141.496,57.420 140.713,57.101 140.145 C 56.783 139.577,56.521 138.758,56.520 138.325 C 56.519 137.891,56.259 137.145,55.942 136.667 C 55.625 136.188,55.365 135.438,55.364 135.000 C 55.362 134.249,55.287 134.203,54.058 134.203 C 53.010 134.203,52.753 134.302,52.752 134.710 M62.899 141.014 C 62.899 146.876,62.959 147.826,63.333 147.826 C 63.700 147.826,63.768 147.164,63.768 143.605 C 63.768 139.429,64.212 136.819,65.006 136.328 C 65.455 136.051,66.087 137.091,66.087 138.107 C 66.087 138.643,66.319 139.201,66.667 139.498 C 66.986 139.771,67.246 140.261,67.246 140.586 C 67.246 140.911,67.432 141.249,67.660 141.336 C 67.887 141.423,68.159 142.006,68.265 142.631 C 68.377 143.298,68.619 143.768,68.848 143.768 C 69.090 143.768,69.315 144.267,69.435 145.072 C 69.543 145.790,69.749 146.377,69.894 146.377 C 70.039 146.377,70.306 146.703,70.488 147.101 C 70.744 147.664,71.034 147.826,71.786 147.826 L 72.754 147.826 72.754 141.014 C 72.754 134.396,72.737 134.203,72.174 134.203 C 71.615 134.203,71.594 134.396,71.594 139.510 C 71.594 145.295,71.288 146.671,70.290 145.379 C 70.051 145.070,69.855 144.637,69.855 144.417 C 69.855 144.197,69.660 143.821,69.421 143.582 C 69.182 143.343,68.899 142.800,68.792 142.374 C 68.685 141.948,68.424 141.426,68.212 141.214 C 68.000 141.002,67.826 140.646,67.826 140.423 C 67.826 140.200,67.500 139.304,67.101 138.433 C 66.703 137.562,66.377 136.776,66.377 136.687 C 66.377 135.406,65.291 134.203,64.135 134.203 L 62.899 134.203 62.899 141.014 M77.391 141.014 L 77.391 147.826 80.399 147.826 C 82.626 147.826,83.495 147.721,83.745 147.420 C 83.930 147.196,84.404 146.932,84.799 146.833 C 85.580 146.637,86.667 145.816,86.667 145.422 C 86.667 145.287,86.853 144.990,87.081 144.762 C 88.806 143.036,87.273 135.425,85.190 135.374 C 84.936 135.367,84.491 135.101,84.203 134.783 C 83.740 134.271,83.310 134.203,80.535 134.203 L 77.391 134.203 77.391 141.014 M84.834 136.821 C 88.241 140.194,86.147 146.451,81.599 146.488 C 78.692 146.512,78.841 146.805,78.841 141.022 C 78.841 135.302,78.630 135.708,81.609 135.675 C 83.621 135.653,83.673 135.671,84.834 136.821 M54.790 136.686 C 54.945 137.094,55.072 137.796,55.072 138.244 C 55.072 138.693,55.262 139.217,55.493 139.408 C 55.724 139.600,56.000 140.335,56.106 141.041 C 56.374 142.828,55.997 143.188,53.858 143.188 C 51.216 143.188,50.488 142.559,51.417 141.077 C 51.638 140.724,51.904 139.949,52.008 139.356 C 52.431 136.940,54.230 135.213,54.790 136.686 M256.449 144.952 C 256.170 145.257,255.688 145.507,255.377 145.507 C 253.697 145.507,253.333 146.531,253.333 151.265 C 253.333 155.086,253.393 155.652,253.795 155.652 C 254.049 155.652,254.325 155.913,254.409 156.232 C 254.516 156.642,254.804 156.812,255.394 156.812 C 255.913 156.812,256.363 157.030,256.589 157.391 C 256.949 157.968,257.265 157.971,319.326 157.971 C 381.445 157.971,381.701 157.969,381.884 157.391 C 382.019 156.965,382.323 156.812,383.029 156.812 C 383.747 156.812,384.029 156.665,384.142 156.232 C 384.225 155.913,384.501 155.652,384.755 155.652 C 385.554 155.652,385.439 146.670,384.638 146.461 C 384.319 146.377,384.058 146.129,384.058 145.908 C 384.058 145.674,383.757 145.507,383.333 145.507 C 382.935 145.507,382.348 145.246,382.029 144.928 C 381.135 144.033,257.266 144.057,256.449 144.952 M156.733 154.783 C 156.327 155.101,155.796 155.362,155.552 155.362 C 154.468 155.362,153.250 157.007,153.005 158.803 C 152.874 159.757,152.740 160.646,152.707 160.777 C 152.474 161.694,153.151 165.797,153.536 165.797 C 153.773 165.797,154.036 166.058,154.119 166.377 C 154.211 166.727,154.515 166.957,154.889 166.958 C 155.229 166.959,155.881 167.155,156.337 167.393 C 160.369 169.496,164.618 166.192,164.630 160.946 C 164.643 155.944,159.931 152.267,156.733 154.783 M168.696 161.014 L 168.696 167.826 169.420 167.826 C 170.135 167.826,170.145 167.793,170.145 165.420 C 170.145 162.791,170.372 162.319,171.633 162.319 C 172.981 162.319,173.883 162.819,174.094 163.685 C 174.203 164.129,174.532 164.804,174.827 165.184 C 175.121 165.564,175.362 166.247,175.362 166.700 C 175.362 167.441,176.508 168.229,176.945 167.788 C 177.150 167.581,176.583 165.145,176.287 164.962 C 176.123 164.860,175.898 164.419,175.789 163.983 C 175.679 163.546,175.478 163.188,175.341 163.188 C 174.710 163.188,174.489 162.055,175.019 161.536 C 178.623 158.004,176.567 154.203,171.053 154.203 L 168.696 154.203 168.696 161.014 M161.873 156.674 C 163.874 158.736,163.764 163.416,161.668 165.397 C 157.671 169.173,153.231 165.422,154.372 159.233 C 155.046 155.580,159.375 154.103,161.873 156.674 M174.612 156.544 C 176.705 159.031,173.324 162.511,170.507 160.770 C 170.123 160.532,169.975 156.209,170.338 155.845 C 170.986 155.198,173.877 155.670,174.612 156.544 M228.931 184.214 C 228.822 190.710,229.414 190.135,222.826 190.140 L 217.681 190.145 217.681 191.304 L 217.681 192.464 223.033 192.464 C 229.536 192.464,228.986 191.903,228.986 198.532 L 228.986 203.478 230.145 203.478 L 231.304 203.478 231.304 198.319 C 231.304 191.903,230.729 192.464,237.304 192.464 L 242.609 192.464 242.609 191.304 L 242.609 190.145 237.517 190.145 C 230.722 190.145,231.304 190.703,231.304 184.193 L 231.304 178.841 230.163 178.841 L 229.021 178.841 228.931 184.214 M126.377 242.164 C 126.377 248.666,126.938 248.116,120.309 248.116 L 115.362 248.116 115.362 249.269 L 115.362 250.422 120.797 250.501 L 126.232 250.580 126.311 256.014 L 126.390 261.449 127.543 261.449 L 128.696 261.449 128.696 256.503 C 128.696 249.874,128.146 250.435,134.648 250.435 L 140.000 250.435 140.000 249.293 L 140.000 248.152 134.661 248.061 C 131.725 248.012,129.214 247.863,129.081 247.730 C 128.949 247.598,128.800 245.087,128.750 242.150 L 128.660 236.812 127.518 236.812 L 126.377 236.812 126.377 242.164 " stroke="none" fill="#c4c4c4" fill-rule="evenodd"></path><path id="path1" d="M101.739 145.507 C 101.739 236.135,101.836 281.739,102.029 281.739 C 102.222 281.739,102.319 236.135,102.319 145.507 C 102.319 54.879,102.222 9.275,102.029 9.275 C 101.836 9.275,101.739 54.879,101.739 145.507 M118.206 13.298 L 117.246 14.155 117.246 23.478 L 117.246 32.801 118.193 33.647 L 119.140 34.493 128.110 34.493 L 137.081 34.493 138.106 33.593 L 139.130 32.694 139.130 23.491 L 139.130 14.288 138.353 13.448 L 137.575 12.609 128.370 12.525 L 119.165 12.441 118.206 13.298 M134.181 17.959 C 134.467 18.112,134.920 18.572,135.188 18.982 L 135.676 19.726 131.125 24.356 C 128.622 26.902,126.392 28.986,126.170 28.986 C 125.403 28.986,122.035 25.424,122.032 24.610 C 122.026 22.997,124.154 22.423,125.018 23.805 C 125.631 24.786,126.289 24.387,129.613 21.015 C 132.921 17.660,133.232 17.452,134.181 17.959 M118.193 55.628 L 117.246 56.474 117.246 65.797 L 117.246 75.120 118.193 75.966 L 119.140 76.812 128.081 76.812 C 137.655 76.812,137.798 76.791,138.909 75.227 C 139.026 75.062,139.124 70.800,139.126 65.755 L 139.130 56.582 138.106 55.682 L 137.081 54.783 128.110 54.783 L 119.140 54.783 118.193 55.628 M134.227 60.362 C 134.460 60.562,134.895 61.016,135.192 61.372 L 135.733 62.019 131.147 66.662 C 128.624 69.215,126.377 71.304,126.154 71.304 C 125.357 71.304,122.029 67.795,122.029 66.956 C 122.029 65.329,124.191 64.710,124.945 66.120 C 125.509 67.173,126.324 66.689,129.622 63.344 C 132.894 60.025,133.427 59.680,134.227 60.362 M220.402 97.379 C 218.593 98.129,218.551 98.374,218.551 108.116 C 218.551 117.651,218.572 117.799,220.135 118.909 C 220.300 119.026,224.543 119.122,229.565 119.122 C 234.587 119.122,238.831 119.026,238.995 118.909 C 240.559 117.798,240.580 117.655,240.580 108.081 L 240.580 99.140 239.734 98.193 L 238.889 97.246 229.952 97.186 C 225.036 97.153,220.739 97.240,220.402 97.379 M204.211 97.705 C 203.909 98.499,204.189 223.623,204.493 223.623 C 204.887 223.623,205.041 97.969,204.648 97.575 C 204.466 97.394,204.311 97.440,204.211 97.705 M235.964 103.166 C 236.430 103.632,236.812 104.169,236.812 104.360 C 236.812 104.856,228.093 113.623,227.600 113.623 C 227.014 113.623,223.188 109.855,223.188 109.278 C 223.188 107.783,225.959 107.190,226.489 108.571 C 226.861 109.538,227.899 108.880,231.071 105.667 C 234.697 101.994,234.760 101.962,235.964 103.166 M12.289 130.343 L 11.449 131.120 11.365 140.312 L 11.281 149.504 12.170 150.477 L 13.058 151.449 22.319 151.449 L 31.580 151.449 32.468 150.477 L 33.356 149.504 33.272 140.312 L 33.188 131.120 32.349 130.343 L 31.510 129.565 22.319 129.565 L 13.128 129.565 12.289 130.343 M28.993 135.662 C 29.813 136.815,29.771 136.876,24.629 142.027 C 19.943 146.722,20.322 146.634,17.464 143.688 C 15.825 141.999,15.698 141.637,16.393 140.644 C 16.953 139.844,17.952 139.819,18.920 140.580 C 20.135 141.536,20.587 141.299,23.887 137.971 C 27.379 134.450,27.947 134.193,28.993 135.662 M220.580 139.619 C 220.341 139.710,219.781 140.173,219.336 140.647 L 218.528 141.510 218.612 150.702 L 218.696 159.894 219.535 160.672 L 220.375 161.449 229.565 161.449 L 238.756 161.449 239.595 160.672 L 240.435 159.894 240.519 150.702 L 240.603 141.510 239.715 140.538 L 238.827 139.565 229.921 139.510 C 225.022 139.479,220.819 139.528,220.580 139.619 M236.328 145.867 C 236.732 146.408,236.802 146.736,236.592 147.110 C 236.101 147.987,227.997 155.942,227.595 155.942 C 226.875 155.942,223.214 152.337,223.198 151.613 C 223.165 150.154,225.723 149.567,226.450 150.866 C 226.972 151.798,227.881 151.241,231.156 147.981 C 234.789 144.365,235.109 144.234,236.328 145.867 M118.193 150.411 L 117.246 151.257 117.246 160.580 L 117.246 169.903 118.193 170.748 L 119.140 171.594 128.110 171.594 L 137.081 171.594 138.106 170.695 L 139.130 169.795 139.126 160.622 C 139.124 155.577,139.026 151.314,138.909 151.149 C 137.798 149.586,137.655 149.565,128.081 149.565 L 119.140 149.565 118.193 150.411 M134.181 155.061 C 134.467 155.214,134.923 155.678,135.194 156.093 L 135.688 156.846 131.124 161.467 C 128.614 164.008,126.375 166.087,126.149 166.087 C 125.377 166.087,122.030 162.532,122.029 161.712 C 122.029 160.108,124.198 159.507,124.945 160.903 C 125.510 161.958,126.325 161.473,129.624 158.117 C 132.922 154.762,133.233 154.553,134.181 155.061 " stroke="none" fill="#0777e5" fill-rule="evenodd"></path><path id="path2" d="M0.000 144.928 L 0.000 289.855 200.000 289.855 L 400.000 289.855 400.000 144.928 L 400.000 0.000 200.000 0.000 L 0.000 0.000 0.000 144.928 M102.754 145.507 L 102.754 282.174 102.029 282.174 L 101.304 282.174 101.230 145.797 C 101.152 1.250,101.105 8.606,102.100 8.748 L 102.754 8.841 102.754 145.507 M138.444 12.531 C 139.729 13.411,139.702 13.166,139.706 23.691 L 139.710 33.034 138.864 33.981 L 138.019 34.928 128.173 34.928 L 118.327 34.928 117.497 34.097 L 116.667 33.267 116.667 23.422 L 116.667 13.576 117.613 12.730 L 118.560 11.884 128.030 11.884 C 137.352 11.884,137.515 11.894,138.444 12.531 M280.870 17.391 C 281.049 17.726,281.476 17.971,281.881 17.971 C 283.696 17.971,284.058 18.986,284.058 24.085 L 284.058 28.723 283.261 29.425 C 282.822 29.811,282.191 30.131,281.857 30.136 C 281.523 30.141,281.013 30.406,280.725 30.725 C 279.896 31.640,155.756 31.640,154.928 30.725 C 154.639 30.406,154.129 30.145,153.795 30.145 C 153.460 30.145,152.828 29.765,152.390 29.301 L 151.594 28.458 151.603 24.012 C 151.614 19.079,152.008 17.971,153.752 17.971 C 154.174 17.971,154.642 17.724,154.850 17.391 C 155.422 16.475,280.379 16.475,280.870 17.391 M130.000 21.601 C 126.573 25.129,125.382 25.739,124.638 24.348 C 124.177 23.486,122.899 23.564,122.899 24.453 C 122.899 25.166,125.443 27.826,126.125 27.826 C 126.573 27.826,134.493 19.993,134.493 19.550 C 134.493 19.230,133.557 18.232,133.311 18.289 C 133.243 18.305,131.754 19.795,130.000 21.601 M138.725 55.188 L 139.710 56.174 139.710 65.797 L 139.710 75.420 138.725 76.406 L 137.739 77.391 128.163 77.391 L 118.587 77.391 117.627 76.515 L 116.667 75.638 116.667 65.797 L 116.667 55.956 117.627 55.080 L 118.587 54.203 128.163 54.203 L 137.739 54.203 138.725 55.188 M280.802 59.710 C 281.004 60.033,281.478 60.290,281.873 60.290 C 283.694 60.290,284.058 61.303,284.058 66.377 C 284.058 71.451,283.694 72.464,281.873 72.464 C 281.478 72.464,281.004 72.720,280.802 73.043 C 280.230 73.959,155.756 73.959,154.928 73.043 C 154.639 72.725,154.121 72.464,153.777 72.464 C 152.036 72.464,151.594 71.232,151.594 66.377 C 151.594 61.522,152.036 60.290,153.777 60.290 C 154.121 60.290,154.639 60.029,154.928 59.710 C 155.449 59.134,155.820 59.130,217.946 59.130 C 280.126 59.130,280.442 59.133,280.802 59.710 M130.000 63.947 C 126.573 67.445,125.379 68.051,124.638 66.667 C 124.188 65.826,122.898 65.880,122.902 66.739 C 122.906 67.555,125.252 70.145,125.987 70.145 C 126.770 70.145,134.624 62.210,134.406 61.640 C 133.888 60.291,133.257 60.622,130.000 63.947 M240.283 97.627 L 241.159 98.587 241.159 108.163 L 241.159 117.739 240.174 118.725 L 239.188 119.710 229.565 119.710 L 219.942 119.710 218.957 118.725 L 217.971 117.739 217.971 108.163 L 217.971 98.587 218.768 97.722 C 219.816 96.584,219.853 96.581,230.355 96.627 L 239.407 96.667 240.283 97.627 M205.217 160.580 L 205.217 224.348 204.524 224.348 C 203.440 224.348,203.478 226.693,203.478 160.580 C 203.478 94.466,203.440 96.812,204.524 96.812 L 205.217 96.812 205.217 160.580 M382.252 102.029 C 382.451 102.348,382.914 102.609,383.282 102.609 C 385.078 102.609,385.507 103.802,385.507 108.798 L 385.507 113.361 384.710 114.063 C 384.272 114.449,383.621 114.768,383.263 114.773 C 382.906 114.778,382.451 115.043,382.252 115.362 C 381.679 116.278,256.722 116.278,256.232 115.362 C 256.053 115.028,255.625 114.783,255.220 114.783 C 253.412 114.783,253.043 113.760,253.043 108.737 L 253.043 104.166 253.856 103.388 C 254.304 102.959,254.955 102.609,255.303 102.609 C 255.652 102.609,256.100 102.348,256.299 102.029 C 256.659 101.452,256.975 101.449,319.275 101.449 C 381.576 101.449,381.891 101.452,382.252 102.029 M231.449 106.274 C 227.995 109.804,227.087 110.251,225.942 108.986 C 225.191 108.156,224.348 108.226,224.348 109.119 C 224.348 109.979,226.646 112.464,227.442 112.464 C 228.198 112.464,236.015 104.585,235.804 104.035 C 235.273 102.651,234.714 102.938,231.449 106.274 M33.013 130.010 L 33.913 131.035 33.913 140.572 L 33.913 150.109 33.036 151.069 L 32.160 152.029 22.319 152.029 L 12.478 152.029 11.601 151.069 L 10.725 150.109 10.725 140.572 L 10.725 131.035 11.624 130.010 L 12.524 128.986 22.319 128.986 L 32.114 128.986 33.013 130.010 M55.608 134.638 C 55.666 134.957,55.961 135.765,56.263 136.433 C 56.565 137.102,56.812 137.781,56.812 137.941 C 56.812 138.102,57.211 139.381,57.698 140.783 C 58.186 142.186,58.754 143.926,58.961 144.651 C 59.167 145.376,59.486 146.248,59.668 146.589 C 60.182 147.549,60.066 148.037,59.275 148.235 C 57.931 148.572,57.134 148.154,56.807 146.939 C 56.306 145.080,55.895 144.858,53.164 144.972 C 50.402 145.088,50.484 145.041,50.205 146.676 C 49.961 148.108,49.064 148.642,47.746 148.141 L 46.999 147.857 47.602 145.885 C 47.933 144.800,48.380 143.502,48.595 143.000 C 48.810 142.497,48.986 141.910,48.987 141.695 C 48.988 141.480,49.248 140.913,49.565 140.435 C 49.882 139.957,50.142 139.307,50.143 138.991 C 50.144 138.675,50.422 137.697,50.760 136.817 C 51.099 135.937,51.490 134.918,51.630 134.551 C 51.988 133.614,55.434 133.689,55.608 134.638 M66.267 135.580 C 66.668 136.496,67.182 137.593,67.411 138.016 C 67.639 138.439,67.826 138.933,67.826 139.115 C 67.826 139.695,69.566 143.188,69.855 143.188 C 70.302 143.188,70.434 142.135,70.509 137.971 L 70.580 134.058 71.884 134.058 L 73.188 134.058 73.266 140.647 C 73.341 146.925,73.317 147.263,72.759 147.821 C 71.526 149.053,69.834 148.419,68.789 146.333 C 67.322 143.407,65.829 140.090,65.643 139.348 C 65.534 138.909,65.333 138.551,65.196 138.551 C 64.574 138.551,64.348 139.966,64.348 143.863 L 64.348 148.053 63.643 148.230 C 63.256 148.327,62.595 148.276,62.174 148.116 L 61.410 147.826 61.502 141.148 C 61.606 133.585,61.489 133.925,64.002 133.917 L 65.539 133.913 66.267 135.580 M84.576 134.495 C 88.348 136.461,89.531 142.541,86.770 145.767 C 84.845 148.016,79.128 149.356,76.793 148.106 C 76.092 147.731,75.903 134.384,76.594 134.105 C 77.721 133.650,83.497 133.932,84.576 134.495 M24.123 138.708 C 20.624 142.262,19.607 142.784,18.773 141.449 C 18.254 140.618,17.101 140.675,17.101 141.533 C 17.101 142.226,19.583 144.928,20.220 144.928 C 20.662 144.928,28.696 137.080,28.696 136.648 C 28.696 136.340,27.776 135.349,27.513 135.374 C 27.446 135.381,25.920 136.881,24.123 138.708 M79.493 136.265 C 78.898 136.877,78.985 145.679,79.589 145.911 C 84.349 147.738,87.583 140.514,83.652 136.836 C 82.765 136.005,80.101 135.640,79.493 136.265 M52.778 138.328 C 51.988 140.345,51.393 142.338,51.554 142.429 C 53.171 143.337,55.221 142.697,54.954 141.366 C 54.345 138.318,53.335 136.908,52.778 138.328 M240.172 139.854 L 241.014 140.578 241.014 150.583 L 241.014 160.587 240.145 161.298 L 239.275 162.008 229.565 162.008 L 219.855 162.008 218.986 161.298 L 218.116 160.587 218.116 150.583 L 218.116 140.578 218.958 139.854 L 219.800 139.130 229.565 139.130 L 239.330 139.130 240.172 139.854 M382.096 144.348 C 382.302 144.678,382.772 144.928,383.187 144.928 C 383.615 144.928,384.243 145.275,384.711 145.771 L 385.507 146.615 385.507 151.120 C 385.507 156.077,385.133 157.101,383.323 157.101 C 382.928 157.101,382.453 157.358,382.252 157.681 C 381.891 158.258,381.576 158.261,319.270 158.261 C 257.009 158.261,256.648 158.258,256.154 157.681 C 255.881 157.362,255.402 157.101,255.088 157.101 C 253.422 157.101,253.043 155.989,253.043 151.090 C 253.043 146.152,253.477 144.928,255.227 144.928 C 255.571 144.928,256.088 144.667,256.377 144.348 C 257.206 143.432,381.524 143.432,382.096 144.348 M231.667 148.326 C 230.033 149.982,228.696 151.446,228.696 151.579 C 228.696 152.411,226.788 152.318,226.033 151.449 C 225.199 150.490,224.348 150.487,224.348 151.444 C 224.348 152.326,226.607 154.783,227.418 154.783 C 227.753 154.783,229.610 153.149,232.028 150.726 L 236.076 146.669 235.357 145.992 L 234.638 145.315 231.667 148.326 M138.725 149.971 L 139.710 150.957 139.710 160.580 L 139.710 170.203 138.725 171.188 L 137.739 172.174 128.163 172.174 L 118.587 172.174 117.627 171.297 L 116.667 170.420 116.667 160.580 L 116.667 150.739 117.627 149.862 L 118.587 148.986 128.163 148.986 L 137.739 148.986 138.725 149.971 M162.279 154.754 C 165.594 156.954,166.104 163.914,163.144 166.547 C 159.646 169.660,154.192 168.989,152.228 165.205 C 151.183 163.194,151.380 158.251,152.567 156.696 C 154.762 153.818,159.454 152.880,162.279 154.754 M175.794 155.200 C 177.567 156.851,177.619 158.826,175.945 160.909 C 175.165 161.880,175.044 162.198,175.312 162.576 C 176.697 164.529,177.889 167.803,177.344 168.159 C 176.068 168.992,173.699 166.937,173.620 164.928 C 173.583 164.001,172.301 162.847,171.420 162.948 C 170.580 163.043,170.580 163.044,170.494 165.349 C 170.386 168.259,169.808 168.926,167.995 168.230 C 167.517 168.047,167.264 154.572,167.729 154.106 C 167.836 154.000,169.383 153.913,171.167 153.913 L 174.412 153.913 175.794 155.200 M130.000 158.729 C 126.573 162.228,125.379 162.834,124.638 161.449 C 124.187 160.607,122.895 160.662,122.910 161.522 C 122.924 162.337,125.269 164.928,125.993 164.928 C 126.770 164.928,134.623 156.989,134.406 156.423 C 133.888 155.074,133.257 155.404,130.000 158.729 M157.188 156.139 C 154.903 156.603,153.643 161.996,155.229 164.525 C 156.809 167.045,160.630 166.540,161.723 163.665 C 163.296 159.528,160.810 155.402,157.188 156.139 M170.555 156.627 C 170.472 156.844,170.443 157.789,170.492 158.728 L 170.580 160.435 171.663 160.525 C 173.661 160.690,174.724 158.949,173.761 157.087 C 173.266 156.130,170.877 155.787,170.555 156.627 M231.884 184.058 L 232.029 189.420 237.391 189.565 L 242.754 189.710 242.841 191.225 L 242.928 192.741 237.479 192.820 L 232.029 192.899 231.868 198.406 C 231.679 204.850,231.916 204.058,230.176 204.058 C 228.360 204.058,228.406 204.210,228.406 198.123 C 228.406 192.143,229.086 192.754,222.425 192.754 L 217.361 192.754 217.449 191.232 L 217.536 189.710 222.899 189.565 L 228.261 189.420 228.336 184.348 C 228.427 178.155,228.315 178.499,230.214 178.608 L 231.739 178.696 231.884 184.058 M129.275 242.029 L 129.420 247.391 134.783 247.536 L 140.145 247.681 140.233 249.203 L 140.320 250.725 135.123 250.725 C 128.751 250.725,129.309 250.162,129.210 256.688 L 129.130 261.884 127.681 261.884 L 126.232 261.884 126.153 256.624 C 126.057 250.195,126.626 250.758,120.124 250.659 L 114.928 250.580 114.928 249.130 L 114.928 247.681 120.124 247.602 C 126.650 247.502,126.087 248.060,126.087 241.688 L 126.087 236.491 127.609 236.579 L 129.130 236.667 129.275 242.029 " stroke="none" fill="none" fill-rule="evenodd"></path><path id="path3" d="M101.301 9.038 C 101.221 9.248,101.189 70.790,101.230 145.797 L 101.304 282.174 102.029 282.174 L 102.754 282.174 102.754 145.507 L 102.754 8.841 102.100 8.748 C 101.741 8.697,101.381 8.827,101.301 9.038 M102.319 145.507 C 102.319 236.135,102.222 281.739,102.029 281.739 C 101.836 281.739,101.739 236.135,101.739 145.507 C 101.739 54.879,101.836 9.275,102.029 9.275 C 102.222 9.275,102.319 54.879,102.319 145.507 M117.613 12.730 L 116.667 13.576 116.667 23.422 L 116.667 33.267 117.497 34.097 L 118.327 34.928 128.173 34.928 L 138.019 34.928 138.864 33.981 L 139.710 33.034 139.706 23.691 C 139.701 10.574,140.996 11.884,128.030 11.884 L 118.560 11.884 117.613 12.730 M138.353 13.448 L 139.130 14.288 139.130 23.491 L 139.130 32.694 138.106 33.593 L 137.081 34.493 128.110 34.493 L 119.140 34.493 118.193 33.647 L 117.246 32.801 117.246 23.478 L 117.246 14.155 118.206 13.298 L 119.165 12.441 128.370 12.525 L 137.575 12.609 138.353 13.448 M129.613 21.015 C 126.289 24.387,125.631 24.786,125.018 23.805 C 124.154 22.423,122.026 22.997,122.032 24.610 C 122.035 25.424,125.403 28.986,126.170 28.986 C 126.392 28.986,128.622 26.902,131.125 24.356 L 135.676 19.726 135.188 18.982 C 134.674 18.197,133.916 17.681,133.280 17.682 C 133.070 17.682,131.420 19.182,129.613 21.015 M133.963 18.741 C 134.254 19.004,134.493 19.369,134.493 19.550 C 134.493 19.993,126.573 27.826,126.125 27.826 C 125.443 27.826,122.899 25.166,122.899 24.453 C 122.899 23.564,124.177 23.486,124.638 24.348 C 125.382 25.739,126.573 25.129,130.000 21.601 C 133.638 17.855,133.274 18.118,133.963 18.741 M117.627 55.080 L 116.667 55.956 116.667 65.797 L 116.667 75.638 117.627 76.515 L 118.587 77.391 128.163 77.391 L 137.739 77.391 138.725 76.406 L 139.710 75.420 139.710 65.797 L 139.710 56.174 138.725 55.188 L 137.739 54.203 128.163 54.203 L 118.587 54.203 117.627 55.080 M138.106 55.682 L 139.130 56.582 139.126 65.755 C 139.124 70.800,139.026 75.062,138.909 75.227 C 137.798 76.791,137.655 76.812,128.081 76.812 L 119.140 76.812 118.193 75.966 L 117.246 75.120 117.246 65.797 L 117.246 56.474 118.193 55.628 L 119.140 54.783 128.110 54.783 L 137.081 54.783 138.106 55.682 M129.622 63.344 C 126.324 66.689,125.509 67.173,124.945 66.120 C 124.191 64.710,122.029 65.329,122.029 66.956 C 122.029 67.795,125.357 71.304,126.154 71.304 C 126.377 71.304,128.624 69.215,131.147 66.662 L 135.733 62.019 135.192 61.372 C 133.566 59.426,133.442 59.469,129.622 63.344 M134.406 61.640 C 134.624 62.210,126.770 70.145,125.987 70.145 C 125.252 70.145,122.906 67.555,122.902 66.739 C 122.898 65.880,124.188 65.826,124.638 66.667 C 125.379 68.051,126.573 67.445,130.000 63.947 C 133.257 60.622,133.888 60.291,134.406 61.640 M220.435 96.722 C 219.957 96.796,219.207 97.246,218.768 97.722 L 217.971 98.587 217.971 108.163 L 217.971 117.739 218.957 118.725 L 219.942 119.710 229.565 119.710 L 239.188 119.710 240.174 118.725 L 241.159 117.739 241.159 108.163 L 241.159 98.587 240.283 97.627 L 239.407 96.667 230.355 96.627 C 225.377 96.605,220.913 96.648,220.435 96.722 M203.654 97.270 C 203.424 97.869,203.424 223.290,203.654 223.889 C 203.751 224.142,204.142 224.348,204.524 224.348 L 205.217 224.348 205.217 160.580 L 205.217 96.812 204.524 96.812 C 204.142 96.812,203.751 97.018,203.654 97.270 M239.734 98.193 L 240.580 99.140 240.580 108.081 C 240.580 117.655,240.559 117.798,238.995 118.909 C 238.831 119.026,234.587 119.122,229.565 119.122 C 224.543 119.122,220.300 119.026,220.135 118.909 C 218.572 117.799,218.551 117.651,218.551 108.116 C 218.551 96.050,217.453 97.102,229.952 97.186 L 238.889 97.246 239.734 98.193 M204.856 160.740 C 204.807 202.420,204.685 223.623,204.493 223.623 C 204.189 223.623,203.909 98.499,204.211 97.705 C 204.862 95.992,204.924 102.018,204.856 160.740 M231.071 105.667 C 227.899 108.880,226.861 109.538,226.489 108.571 C 225.959 107.190,223.188 107.783,223.188 109.278 C 223.188 109.855,227.014 113.623,227.600 113.623 C 228.093 113.623,236.812 104.856,236.812 104.360 C 236.812 103.882,235.204 102.316,234.732 102.334 C 234.521 102.342,232.873 103.842,231.071 105.667 M235.804 104.035 C 236.015 104.585,228.198 112.464,227.442 112.464 C 226.646 112.464,224.348 109.979,224.348 109.119 C 224.348 108.226,225.191 108.156,225.942 108.986 C 227.087 110.251,227.995 109.804,231.449 106.274 C 234.714 102.938,235.273 102.651,235.804 104.035 M11.624 130.010 L 10.725 131.035 10.725 140.572 L 10.725 150.109 11.601 151.069 L 12.478 152.029 22.319 152.029 L 32.160 152.029 33.036 151.069 L 33.913 150.109 33.913 140.572 L 33.913 131.035 33.013 130.010 L 32.114 128.986 22.319 128.986 L 12.524 128.986 11.624 130.010 M32.349 130.343 L 33.188 131.120 33.272 140.312 L 33.356 149.504 32.468 150.477 L 31.580 151.449 22.319 151.449 L 13.058 151.449 12.170 150.477 L 11.281 149.504 11.365 140.312 L 11.449 131.120 12.289 130.343 L 13.128 129.565 22.319 129.565 L 31.510 129.565 32.349 130.343 M72.758 141.087 C 72.761 145.639,72.858 147.824,73.043 147.536 C 73.427 146.943,73.427 134.203,73.043 134.203 C 72.858 134.203,72.755 136.688,72.758 141.087 M23.887 137.971 C 20.587 141.299,20.135 141.536,18.920 140.580 C 17.952 139.819,16.953 139.844,16.393 140.644 C 15.698 141.637,15.825 141.999,17.464 143.688 C 20.322 146.634,19.943 146.722,24.629 142.027 C 29.771 136.876,29.813 136.815,28.993 135.662 C 27.947 134.193,27.379 134.450,23.887 137.971 M28.166 135.842 C 28.457 136.106,28.696 136.468,28.696 136.648 C 28.696 137.080,20.662 144.928,20.220 144.928 C 19.583 144.928,17.101 142.226,17.101 141.533 C 17.101 140.675,18.254 140.618,18.773 141.449 C 19.607 142.784,20.624 142.262,24.123 138.708 C 27.810 134.961,27.463 135.207,28.166 135.842 M67.251 138.478 C 67.248 138.837,67.377 139.130,67.536 139.130 C 67.899 139.130,67.899 138.823,67.536 138.261 C 67.309 137.909,67.254 137.951,67.251 138.478 M63.944 138.719 C 63.643 139.504,63.745 147.777,64.058 147.971 C 64.247 148.088,64.348 146.428,64.348 143.206 C 64.348 138.354,64.298 137.798,63.944 138.719 M218.958 139.854 L 218.116 140.578 218.116 150.583 L 218.116 160.587 218.986 161.298 L 219.855 162.008 229.565 162.008 L 239.275 162.008 240.145 161.298 L 241.014 160.587 241.014 150.583 L 241.014 140.578 240.172 139.854 L 239.330 139.130 229.565 139.130 L 219.800 139.130 218.958 139.854 M239.715 140.538 L 240.603 141.510 240.519 150.702 L 240.435 159.894 239.595 160.672 L 238.756 161.449 229.565 161.449 L 220.375 161.449 219.535 160.672 L 218.696 159.894 218.612 150.702 L 218.528 141.510 219.336 140.647 C 220.492 139.414,220.171 139.449,229.921 139.510 L 238.827 139.565 239.715 140.538 M231.156 147.981 C 227.881 151.241,226.972 151.798,226.450 150.866 C 225.723 149.567,223.165 150.154,223.198 151.613 C 223.214 152.337,226.875 155.942,227.595 155.942 C 227.997 155.942,236.101 147.987,236.592 147.110 C 236.936 146.495,236.126 145.260,235.137 144.895 C 234.580 144.689,234.050 145.100,231.156 147.981 M232.028 150.726 C 229.610 153.149,227.753 154.783,227.418 154.783 C 226.607 154.783,224.348 152.326,224.348 151.444 C 224.348 150.487,225.199 150.490,226.033 151.449 C 226.788 152.318,228.696 152.411,228.696 151.579 C 228.696 151.446,230.033 149.982,231.667 148.326 L 234.638 145.315 235.357 145.992 L 236.076 146.669 232.028 150.726 M117.627 149.862 L 116.667 150.739 116.667 160.580 L 116.667 170.420 117.627 171.297 L 118.587 172.174 128.163 172.174 L 137.739 172.174 138.725 171.188 L 139.710 170.203 139.710 160.580 L 139.710 150.957 138.725 149.971 L 137.739 148.986 128.163 148.986 L 118.587 148.986 117.627 149.862 M137.859 150.207 C 138.319 150.561,138.791 150.985,138.909 151.149 C 139.026 151.314,139.124 155.577,139.126 160.622 L 139.130 169.795 138.106 170.695 L 137.081 171.594 128.110 171.594 L 119.140 171.594 118.193 170.748 L 117.246 169.903 117.246 160.580 L 117.246 151.257 118.193 150.411 L 119.140 149.565 128.081 149.565 C 136.868 149.565,137.038 149.576,137.859 150.207 M129.624 158.117 C 126.325 161.473,125.510 161.958,124.945 160.903 C 124.198 159.507,122.029 160.108,122.029 161.712 C 122.030 162.532,125.377 166.087,126.149 166.087 C 126.375 166.087,128.614 164.008,131.124 161.467 L 135.688 156.846 135.194 156.093 C 134.674 155.299,133.918 154.782,133.280 154.784 C 133.070 154.785,131.425 156.285,129.624 158.117 M134.406 156.423 C 134.623 156.989,126.770 164.928,125.993 164.928 C 125.269 164.928,122.924 162.337,122.910 161.522 C 122.895 160.662,124.187 160.607,124.638 161.449 C 125.379 162.834,126.573 162.228,130.000 158.729 C 133.257 155.404,133.888 155.074,134.406 156.423 M154.203 161.159 C 154.203 162.116,154.301 162.899,154.420 162.899 C 154.540 162.899,154.638 162.116,154.638 161.159 C 154.638 160.203,154.540 159.420,154.420 159.420 C 154.301 159.420,154.203 160.203,154.203 161.159 " stroke="none" fill="#a4ccf4" fill-rule="evenodd"></path><path id="path4" d="M154.850 17.391 C 154.642 17.724,154.174 17.971,153.752 17.971 C 152.008 17.971,151.614 19.079,151.603 24.012 L 151.594 28.458 152.390 29.301 C 152.828 29.765,153.460 30.145,153.795 30.145 C 154.129 30.145,154.639 30.406,154.928 30.725 C 155.756 31.640,279.896 31.640,280.725 30.725 C 281.013 30.406,281.523 30.141,281.857 30.136 C 282.191 30.131,282.822 29.811,283.261 29.425 L 284.058 28.723 284.058 24.085 C 284.058 18.986,283.696 17.971,281.881 17.971 C 281.476 17.971,281.049 17.726,280.870 17.391 C 280.379 16.475,155.422 16.475,154.850 17.391 M280.512 17.681 C 280.738 18.042,281.188 18.261,281.708 18.261 C 282.297 18.261,282.585 18.430,282.693 18.841 C 282.776 19.159,283.052 19.420,283.306 19.420 C 283.710 19.420,283.768 20.008,283.768 24.058 C 283.768 28.029,283.704 28.696,283.324 28.696 C 283.080 28.696,282.805 28.891,282.714 29.130 C 282.622 29.370,282.235 29.565,281.853 29.565 C 281.472 29.565,280.899 29.826,280.580 30.145 C 280.004 30.721,279.614 30.725,217.826 30.725 C 156.039 30.725,155.649 30.721,155.072 30.145 C 154.754 29.826,154.239 29.565,153.928 29.565 C 153.617 29.565,153.030 29.257,152.624 28.880 C 151.587 27.919,151.448 19.602,152.464 19.336 C 152.783 19.253,153.043 18.977,153.043 18.723 C 153.043 18.386,153.325 18.261,154.085 18.261 C 154.883 18.261,155.162 18.125,155.278 17.681 C 155.429 17.104,155.674 17.101,217.790 17.101 C 279.836 17.101,280.152 17.104,280.512 17.681 M154.928 59.710 C 154.639 60.029,154.121 60.290,153.777 60.290 C 152.036 60.290,151.594 61.522,151.594 66.377 C 151.594 71.232,152.036 72.464,153.777 72.464 C 154.121 72.464,154.639 72.725,154.928 73.043 C 155.756 73.959,280.230 73.959,280.802 73.043 C 281.004 72.720,281.478 72.464,281.873 72.464 C 283.694 72.464,284.058 71.451,284.058 66.377 C 284.058 61.303,283.694 60.290,281.873 60.290 C 281.478 60.290,281.004 60.033,280.802 59.710 C 280.442 59.133,280.126 59.130,217.946 59.130 C 155.820 59.130,155.449 59.134,154.928 59.710 M280.475 60.145 C 280.576 60.409,281.015 60.580,281.591 60.580 C 282.297 60.580,282.580 60.729,282.693 61.159 C 282.776 61.478,283.052 61.739,283.306 61.739 C 283.710 61.739,283.768 62.327,283.768 66.377 C 283.768 70.427,283.710 71.014,283.306 71.014 C 283.052 71.014,282.776 71.275,282.693 71.594 C 282.578 72.031,282.297 72.174,281.551 72.174 C 280.939 72.174,280.498 72.340,280.395 72.609 C 280.141 73.270,155.511 73.270,155.257 72.609 C 155.166 72.370,154.750 72.174,154.335 72.174 C 153.885 72.174,153.235 71.830,152.731 71.327 L 151.884 70.479 151.884 66.109 C 151.884 62.465,151.955 61.739,152.309 61.739 C 152.542 61.739,152.873 61.478,153.043 61.159 C 153.248 60.778,153.650 60.580,154.222 60.580 C 154.727 60.580,155.161 60.398,155.257 60.145 C 155.405 59.760,162.630 59.710,217.866 59.710 C 273.103 59.710,280.327 59.760,280.475 60.145 M256.299 102.029 C 256.100 102.348,255.652 102.609,255.303 102.609 C 254.955 102.609,254.304 102.959,253.856 103.388 L 253.043 104.166 253.043 108.737 C 253.043 113.760,253.412 114.783,255.220 114.783 C 255.625 114.783,256.053 115.028,256.232 115.362 C 256.722 116.278,381.679 116.278,382.252 115.362 C 382.451 115.043,382.906 114.778,383.263 114.773 C 383.621 114.768,384.272 114.449,384.710 114.063 L 385.507 113.361 385.507 108.798 C 385.507 103.802,385.078 102.609,383.282 102.609 C 382.914 102.609,382.451 102.348,382.252 102.029 C 381.891 101.452,381.576 101.449,319.275 101.449 C 256.975 101.449,256.659 101.452,256.299 102.029 M382.029 102.609 C 382.348 102.928,382.863 103.188,383.173 103.188 C 384.854 103.188,385.217 104.212,385.217 108.946 C 385.217 112.767,385.158 113.333,384.755 113.333 C 384.501 113.333,384.225 113.594,384.142 113.913 C 384.029 114.346,383.747 114.493,383.029 114.493 C 382.323 114.493,382.019 114.646,381.884 115.072 C 381.701 115.650,381.445 115.652,319.275 115.652 C 257.105 115.652,256.850 115.650,256.667 115.072 C 256.531 114.646,256.228 114.493,255.522 114.493 C 254.804 114.493,254.522 114.346,254.409 113.913 C 254.325 113.594,254.049 113.333,253.795 113.333 C 253.393 113.333,253.333 112.767,253.333 108.946 C 253.333 104.212,253.697 103.188,255.377 103.188 C 255.688 103.188,256.170 102.938,256.449 102.633 C 257.266 101.738,381.135 101.714,382.029 102.609 M51.624 134.565 C 51.487 134.924,51.099 135.937,50.760 136.817 C 50.422 137.697,50.144 138.675,50.143 138.991 C 50.142 139.307,49.882 139.957,49.565 140.435 C 49.248 140.913,48.988 141.480,48.987 141.695 C 48.986 141.910,48.810 142.497,48.595 143.000 C 48.380 143.502,47.933 144.800,47.602 145.885 L 46.999 147.857 47.746 148.141 C 49.064 148.642,49.961 148.108,50.205 146.676 C 50.484 145.041,50.402 145.088,53.164 144.972 C 55.895 144.858,56.306 145.080,56.807 146.939 C 57.215 148.455,60.047 149.025,59.977 147.577 C 59.963 147.277,59.900 147.235,59.808 147.464 C 59.728 147.663,59.378 147.826,59.030 147.826 C 58.413 147.826,58.249 147.615,57.287 145.580 L 56.841 144.638 53.804 144.638 C 50.297 144.638,49.855 144.867,49.855 146.687 C 49.855 147.709,49.780 147.826,49.130 147.826 C 48.287 147.826,48.060 146.155,48.818 145.526 C 49.045 145.338,49.322 144.637,49.434 143.969 C 49.546 143.300,49.817 142.496,50.036 142.182 C 50.255 141.867,50.435 141.268,50.435 140.849 C 50.435 140.431,50.696 139.788,51.014 139.420 C 51.333 139.053,51.595 138.348,51.596 137.854 C 51.597 137.360,51.857 136.565,52.174 136.087 C 52.491 135.609,52.751 134.989,52.752 134.710 C 52.753 134.302,53.010 134.203,54.058 134.203 C 55.287 134.203,55.363 134.249,55.367 135.000 C 55.369 135.438,55.509 135.993,55.678 136.232 C 55.985 136.667,55.779 134.642,55.464 134.133 C 55.099 133.542,51.875 133.905,51.624 134.565 M62.029 134.196 C 61.668 134.425,61.579 135.598,61.502 141.148 L 61.410 147.826 62.217 148.132 C 62.756 148.337,63.218 148.344,63.613 148.152 C 64.188 147.873,64.186 147.865,63.551 147.846 L 62.899 147.826 62.899 141.014 L 62.899 134.203 64.169 134.203 C 65.235 134.203,65.467 134.306,65.607 134.842 C 65.699 135.194,65.855 135.401,65.954 135.302 C 66.913 134.343,63.375 133.347,62.029 134.196 M70.578 134.275 C 70.507 134.475,70.395 136.464,70.329 138.696 C 70.263 140.928,70.121 143.210,70.013 143.768 C 69.739 145.186,70.492 146.244,71.159 145.379 C 71.509 144.926,71.594 143.786,71.594 139.529 L 71.594 134.241 72.391 134.121 C 72.946 134.037,72.812 133.987,71.947 133.956 C 71.182 133.930,70.657 134.052,70.578 134.275 M76.594 134.105 C 75.903 134.384,76.092 147.731,76.793 148.106 C 77.886 148.691,82.549 148.473,84.026 147.768 C 85.964 146.842,87.939 144.928,86.957 144.928 C 86.797 144.928,86.667 145.094,86.667 145.298 C 86.667 145.799,85.677 146.613,84.799 146.833 C 84.404 146.932,83.930 147.196,83.745 147.420 C 83.495 147.721,82.626 147.826,80.399 147.826 L 77.391 147.826 77.391 141.014 L 77.391 134.203 80.535 134.203 C 83.310 134.203,83.740 134.271,84.203 134.783 C 84.491 135.101,84.936 135.363,85.190 135.364 C 85.444 135.365,85.973 135.837,86.365 136.413 C 86.758 136.989,87.131 137.304,87.194 137.113 C 87.355 136.631,85.918 135.194,84.576 134.495 C 83.497 133.932,77.721 133.650,76.594 134.105 M79.203 135.844 C 78.933 135.953,78.841 137.268,78.841 141.022 C 78.841 146.805,78.692 146.512,81.599 146.488 C 85.204 146.459,86.765 144.033,86.184 139.357 C 85.832 136.518,82.138 134.660,79.203 135.844 M53.274 136.682 C 52.978 137.330,53.026 137.504,53.660 138.092 C 55.754 140.033,55.247 143.121,52.899 142.733 C 51.395 142.485,51.328 142.434,51.522 141.694 C 51.634 141.266,51.580 141.134,51.350 141.276 C 50.824 141.601,50.957 142.558,51.575 142.888 C 52.455 143.359,55.516 143.266,55.940 142.756 C 56.394 142.209,56.086 139.900,55.493 139.408 C 55.262 139.217,55.072 138.693,55.072 138.244 C 55.072 136.204,53.940 135.220,53.274 136.682 M66.397 136.285 C 66.372 136.900,66.925 138.389,67.111 138.203 C 67.187 138.127,67.062 137.555,66.833 136.931 C 66.605 136.307,66.408 136.017,66.397 136.285 M83.652 136.836 C 87.583 140.514,84.349 147.738,79.589 145.911 C 78.985 145.679,78.898 136.877,79.493 136.265 C 80.101 135.640,82.765 136.005,83.652 136.836 M64.648 136.793 C 64.234 137.566,64.247 139.769,64.661 139.058 C 65.083 138.333,65.414 138.430,65.643 139.348 C 65.829 140.090,67.322 143.407,68.789 146.333 C 69.739 148.228,71.196 148.935,72.464 148.116 C 72.787 147.907,72.620 147.834,71.812 147.831 C 71.214 147.828,70.725 147.696,70.725 147.536 C 70.725 147.377,70.452 146.974,70.119 146.641 C 69.676 146.197,69.490 145.594,69.429 144.394 C 69.383 143.492,69.196 142.428,69.014 142.029 L 68.683 141.304 68.797 142.029 C 68.860 142.428,69.007 142.982,69.124 143.261 C 69.272 143.613,69.205 143.768,68.904 143.768 C 68.430 143.768,67.991 142.112,68.271 141.381 C 68.363 141.142,68.237 140.505,67.990 139.966 C 67.562 139.029,67.574 139.374,68.024 140.976 C 68.126 141.336,68.050 141.476,67.800 141.392 C 67.593 141.323,67.323 140.892,67.200 140.433 C 67.077 139.975,66.777 139.488,66.532 139.351 C 66.285 139.213,66.087 138.712,66.087 138.227 C 66.087 137.264,65.637 136.232,65.217 136.232 C 65.069 136.232,64.813 136.484,64.648 136.793 M56.551 138.316 C 56.535 138.905,56.652 139.467,56.812 139.565 C 57.147 139.772,57.147 139.018,56.812 137.971 C 56.603 137.320,56.577 137.355,56.551 138.316 M52.383 137.868 C 52.279 138.035,52.127 138.746,52.044 139.448 L 51.892 140.725 52.324 139.424 C 52.742 138.169,52.777 137.230,52.383 137.868 M87.681 141.014 C 87.681 142.658,87.777 143.852,87.894 143.668 C 88.011 143.484,88.107 142.290,88.107 141.014 C 88.107 139.739,88.011 138.545,87.894 138.361 C 87.777 138.177,87.681 139.371,87.681 141.014 M57.710 141.939 C 57.694 142.448,57.812 142.945,57.971 143.043 C 58.304 143.249,58.304 142.780,57.971 141.739 C 57.749 141.047,57.738 141.056,57.710 141.939 M256.377 144.348 C 256.088 144.667,255.571 144.928,255.227 144.928 C 253.477 144.928,253.043 146.152,253.043 151.090 C 253.043 155.989,253.422 157.101,255.088 157.101 C 255.402 157.101,255.881 157.362,256.154 157.681 C 256.648 158.258,257.009 158.261,319.270 158.261 C 381.576 158.261,381.891 158.258,382.252 157.681 C 382.453 157.358,382.928 157.101,383.323 157.101 C 385.133 157.101,385.507 156.077,385.507 151.120 L 385.507 146.615 384.711 145.771 C 384.243 145.275,383.615 144.928,383.187 144.928 C 382.772 144.928,382.302 144.678,382.096 144.348 C 381.524 143.432,257.206 143.432,256.377 144.348 M382.029 144.928 C 382.348 145.246,382.935 145.507,383.333 145.507 C 383.757 145.507,384.058 145.674,384.058 145.908 C 384.058 146.129,384.319 146.377,384.638 146.461 C 385.439 146.670,385.554 155.652,384.755 155.652 C 384.501 155.652,384.225 155.913,384.142 156.232 C 384.029 156.665,383.747 156.812,383.029 156.812 C 382.323 156.812,382.019 156.965,381.884 157.391 C 381.701 157.969,381.445 157.971,319.326 157.971 C 257.265 157.971,256.949 157.968,256.589 157.391 C 256.363 157.030,255.913 156.812,255.394 156.812 C 254.804 156.812,254.516 156.642,254.409 156.232 C 254.325 155.913,254.049 155.652,253.795 155.652 C 253.393 155.652,253.333 155.086,253.333 151.265 C 253.333 146.531,253.697 145.507,255.377 145.507 C 255.688 145.507,256.170 145.257,256.449 144.952 C 257.266 144.057,381.135 144.033,382.029 144.928 M58.869 145.418 C 58.854 145.926,58.971 146.423,59.130 146.522 C 59.464 146.728,59.464 146.258,59.130 145.217 C 58.909 144.525,58.897 144.534,58.869 145.418 M154.737 154.772 C 150.542 157.407,150.238 164.591,154.203 167.432 C 155.927 168.668,159.650 168.841,161.415 167.768 C 162.873 166.881,164.059 165.736,164.055 165.218 C 164.053 164.956,163.765 165.146,163.333 165.694 C 161.812 167.623,158.378 168.458,156.337 167.393 C 155.881 167.155,155.229 166.959,154.889 166.958 C 154.515 166.957,154.211 166.727,154.119 166.377 C 154.036 166.058,153.773 165.797,153.536 165.797 C 153.151 165.797,152.474 161.694,152.707 160.777 C 152.740 160.646,152.874 159.757,153.005 158.803 C 153.250 157.007,154.468 155.362,155.552 155.362 C 155.796 155.362,156.327 155.101,156.733 154.783 C 158.050 153.746,162.245 154.582,163.241 156.080 C 164.111 157.388,164.342 157.543,164.031 156.610 C 163.155 153.982,157.710 152.905,154.737 154.772 M167.729 154.106 C 167.264 154.572,167.517 168.047,167.995 168.230 C 169.808 168.926,170.386 168.259,170.494 165.349 C 170.580 163.044,170.580 163.043,171.420 162.948 C 172.301 162.847,173.583 164.001,173.620 164.928 C 173.669 166.171,175.220 168.261,176.161 168.352 C 177.320 168.463,177.573 167.970,177.137 166.453 L 176.823 165.362 176.935 166.594 C 177.015 167.479,176.938 167.826,176.663 167.826 C 175.798 167.826,175.362 167.441,175.362 166.675 C 175.362 166.235,175.121 165.564,174.827 165.184 C 174.532 164.804,174.203 164.129,174.094 163.685 C 173.883 162.819,172.981 162.319,171.633 162.319 C 170.372 162.319,170.145 162.791,170.145 165.420 C 170.145 167.793,170.135 167.826,169.420 167.826 L 168.696 167.826 168.696 161.014 L 168.696 154.203 171.094 154.203 C 173.340 154.203,173.587 154.266,175.007 155.201 C 176.776 156.366,177.032 156.105,175.393 154.807 C 174.287 153.931,168.439 153.396,167.729 154.106 M155.502 156.692 C 154.758 157.458,154.500 157.972,154.519 158.648 L 154.545 159.565 154.801 158.685 C 156.244 153.722,162.029 155.744,162.029 161.211 C 162.029 166.372,156.185 168.323,154.801 163.623 L 154.545 162.754 154.520 163.623 C 154.471 165.357,156.144 166.667,158.408 166.667 C 162.106 166.667,163.793 163.885,163.060 158.997 C 162.560 155.660,157.888 154.235,155.502 156.692 M170.338 155.845 C 169.975 156.209,170.123 160.532,170.507 160.770 C 173.324 162.511,176.705 159.031,174.612 156.544 C 173.877 155.670,170.986 155.198,170.338 155.845 M173.761 157.087 C 174.724 158.949,173.661 160.690,171.663 160.525 L 170.580 160.435 170.492 158.728 C 170.371 156.397,170.472 156.232,172.012 156.232 C 173.166 156.232,173.370 156.332,173.761 157.087 M176.894 157.826 C 176.897 158.623,176.953 158.915,177.020 158.474 C 177.086 158.034,177.084 157.382,177.016 157.025 C 176.947 156.668,176.892 157.029,176.894 157.826 M164.747 160.870 C 164.747 162.703,164.794 163.453,164.852 162.536 C 164.909 161.620,164.909 160.120,164.852 159.203 C 164.794 158.286,164.747 159.036,164.747 160.870 M175.926 160.337 C 175.732 160.710,175.329 161.249,175.030 161.536 C 174.486 162.058,174.705 163.188,175.349 163.188 C 175.491 163.188,175.692 163.580,175.797 164.058 C 175.902 164.536,176.105 164.928,176.248 164.928 C 176.591 164.928,176.028 163.474,175.427 162.810 C 175.104 162.453,175.041 162.164,175.230 161.908 C 176.276 160.486,176.580 159.962,176.440 159.821 C 176.351 159.733,176.120 159.965,175.926 160.337 M228.550 178.898 C 228.473 179.105,228.377 181.558,228.336 184.348 L 228.261 189.420 222.899 189.565 L 217.536 189.710 217.449 191.232 L 217.361 192.754 222.425 192.754 C 229.086 192.754,228.406 192.143,228.406 198.123 C 228.406 204.210,228.360 204.058,230.176 204.058 C 231.916 204.058,231.679 204.850,231.868 198.406 L 232.029 192.899 237.479 192.820 L 242.928 192.741 242.841 191.225 L 242.754 189.710 237.391 189.565 L 232.029 189.420 231.884 184.058 L 231.739 178.696 230.214 178.608 C 229.160 178.547,228.646 178.637,228.550 178.898 M231.304 184.193 C 231.304 190.703,230.722 190.145,237.517 190.145 L 242.609 190.145 242.609 191.304 L 242.609 192.464 237.304 192.464 C 230.729 192.464,231.304 191.903,231.304 198.319 L 231.304 203.478 230.145 203.478 L 228.986 203.478 228.986 198.532 C 228.986 191.903,229.536 192.464,223.033 192.464 L 217.681 192.464 217.681 191.304 L 217.681 190.145 222.826 190.140 C 229.414 190.135,228.822 190.710,228.931 184.214 L 229.021 178.841 230.163 178.841 L 231.304 178.841 231.304 184.193 M126.087 241.688 C 126.087 248.060,126.650 247.502,120.124 247.602 L 114.928 247.681 114.928 249.130 L 114.928 250.580 120.124 250.659 C 126.626 250.758,126.057 250.195,126.153 256.624 L 126.232 261.884 127.681 261.884 L 129.130 261.884 129.210 256.688 C 129.309 250.162,128.751 250.725,135.123 250.725 L 140.320 250.725 140.233 249.203 L 140.145 247.681 134.783 247.536 L 129.420 247.391 129.275 242.029 L 129.130 236.667 127.609 236.579 L 126.087 236.491 126.087 241.688 M128.750 242.150 C 128.800 245.087,128.949 247.598,129.081 247.730 C 129.214 247.863,131.725 248.012,134.661 248.061 L 140.000 248.152 140.000 249.293 L 140.000 250.435 134.648 250.435 C 128.146 250.435,128.696 249.874,128.696 256.503 L 128.696 261.449 127.543 261.449 L 126.390 261.449 126.311 256.014 L 126.232 250.580 120.797 250.501 L 115.362 250.422 115.362 249.269 L 115.362 248.116 120.309 248.116 C 126.938 248.116,126.377 248.666,126.377 242.164 L 126.377 236.812 127.518 236.812 L 128.660 236.812 128.750 242.150 " stroke="none" fill="#cec4c4" fill-rule="evenodd"></path></g></svg>
`},45379:P=>{P.exports=`<svg width="72" height="64" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 64">
	<rect x="8" y="36" width="16" height="10" rx="2" fill="#80C8F5"/>
	<path stroke="#D1D1D1" d="M8 48.043h4M13 48.043h4M8 49.815h16M8 51.5h16"/>
	<rect x="28" y="36" width="16" height="10" rx="2" fill="#80C8F5"/>
	<path stroke="#D1D1D1" d="M28 48.043h4M33 48.043h4M28 49.815h16M28 51.5h16"/>
	<rect x="48" y="36" width="16" height="10" rx="2" fill="#80C8F5"/>
	<path stroke="#D1D1D1" d="M48 48.043h4M53 48.043h4M48 49.815h16M48 51.5h16"/>
	<rect x="8" y="13" width="16" height="10" rx="2" fill="#80C8F5"/>
	<path stroke="#D1D1D1" d="M8 25.043h4M13 25.043h4M8 26.814h16M8 28.5h16"/>
	<rect x="28" y="13" width="16" height="10" rx="2" fill="#80C8F5"/>
	<path stroke="#D1D1D1" d="M28 25.043h4M33 25.043h4M28 26.814h16M28 28.5h16"/>
	<rect x="48" y="13" width="16" height="10" rx="2" fill="#80C8F5"/>
	<path stroke="#D1D1D1" d="M48 25.043h4M53 25.043h4M48 26.814h16M48 28.5h16"/>
</svg>
`},80873:P=>{P.exports=`<svg id="Component_2995_69" data-name="Component 2995 \u2013 69" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
  <rect id="Rectangle_42510" data-name="Rectangle 42510" width="24" height="24" rx="4" fill="rgba(0,0,0,0)" opacity="0"/>
  <g id="Group_14771" data-name="Group 14771" transform="translate(11 6)">
    <rect id="Rectangle_6186" data-name="Rectangle 6186" width="2" height="2" fill="currentColor" stroke="rgba(0,0,0,0)" stroke-width="1"/>
    <rect id="Rectangle_6187" data-name="Rectangle 6187" width="2" height="2" transform="translate(0 5)" fill="currentColor" stroke="rgba(0,0,0,0)" stroke-width="1"/>
    <rect id="Rectangle_6188" data-name="Rectangle 6188" width="2" height="2" transform="translate(0 10)" fill="currentColor" stroke="rgba(0,0,0,0)" stroke-width="1"/>
  </g>
</svg>
`},69562:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.3634 13C13.1851 13.31 13.2641 13.56 12.9651 13.7323C12.6661 13.905 12.3217 14 11.9634 14H5.03672C4.67872 14 4.33472 13.905 4.03539 13.7327C3.73605 13.5603 3.81505 13.31 3.63672 13L6.19339 10H10.8067L13.3634 13Z" fill="#1E88E5"/>
<path d="M9.65415 2.33298C10.0118 2.33231 10.3555 2.09431 10.6545 2.26698C10.9535 2.43998 11.2078 2.69031 11.3868 3.00064L14.8502 8.99931C15.0292 9.30931 15.1192 9.65498 15.1195 9.99998C15.1198 10.3456 14.6972 10.691 14.5175 11.0003L10.8085 9.99864L8.50049 6.00098L9.65415 2.33298Z" fill="#FBC02D"/>
<path d="M15.12 10C15.12 10.3467 15.03 10.69 14.85 11L13.6266 13.1167C13.45 13.3767 13.2233 13.5833 12.9633 13.7333L10.8066 10H15.12Z" fill="#E53935"/>
<path d="M2.48237 11.0003C2.30304 10.691 1.88037 10.3457 1.88037 10.0003C1.8807 9.65499 1.97037 9.30933 2.1497 8.99899L5.61304 3.00033C5.79204 2.69033 6.04637 2.43966 6.34504 2.26699C6.64404 2.09399 6.98804 2.33199 7.3457 2.33266L8.4987 6.00233L6.19137 9.99866L2.48237 11.0003Z" fill="#4CAF50"/>
<path d="M6.19322 10L4.03655 13.7333C3.77655 13.5833 3.54988 13.3767 3.37322 13.1167L2.14988 11C1.96988 10.69 1.87988 10.3467 1.87988 10H6.19322Z" fill="#1565C0"/>
<path d="M10.6533 2.26667L8.49993 6L6.34326 2.26667C6.60326 2.11667 6.89659 2.02333 7.20993 2.00333L9.65326 2C10.0133 2 10.3566 2.09333 10.6533 2.26667Z" fill="#2E7D32"/>
</svg>
`},72569:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.41992 7.98879L10.7847 9.54883L12.6201 10.7216L12.9394 7.99863L12.6201 5.3371L10.7496 6.36731L9.41992 7.98879Z" fill="#00832D"/>
<path d="M1.5 10.4682V12.7885C1.5 13.3183 1.93002 13.7485 2.45995 13.7485H4.78032L5.2608 11.9953L4.78032 10.4682L3.18839 9.98767L1.5 10.4682Z" fill="#0066DA"/>
<path d="M4.78032 2.22906L1.5 5.50938L3.18849 5.98875L4.78032 5.50938L5.25207 4.00305L4.78032 2.22906Z" fill="#F14336"/>
<path d="M1.5 10.4692H4.78032V5.50934H1.5V10.4692Z" fill="#518EF8"/>
<path d="M14.7156 3.61795L12.6201 5.33711V10.7215L14.7243 12.4474C15.0393 12.6941 15.5001 12.4692 15.5001 12.0688V3.98877C15.5001 3.58394 15.0283 3.36015 14.7156 3.61795Z" fill="#00AC47"/>
<path d="M9.41979 7.98877V10.4681H4.78027V13.7485H11.66C12.19 13.7485 12.62 13.3183 12.62 12.7885V10.7216L9.41979 7.98877Z" fill="#28B446"/>
<path d="M11.66 2.22906H4.78027V5.50938H9.41979V7.98876L12.62 5.33707V3.18901C12.62 2.65908 12.19 2.22906 11.66 2.22906Z" fill="#FBBB00"/>
</svg>
`},38591:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.2 8.15911C15.2 7.66275 15.1554 7.18548 15.0727 6.72729H8.47998V9.43502H12.2473C12.085 10.31 11.5918 11.0514 10.8504 11.5477V13.3041H13.1127C14.4363 12.0855 15.2 10.2909 15.2 8.15911Z" fill="#4285F4"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.48006 15C10.3701 15 11.9546 14.3732 13.1128 13.3041L10.8505 11.5477C10.2237 11.9677 9.42188 12.2159 8.48006 12.2159C6.65688 12.2159 5.1137 10.9846 4.56325 9.33002H2.22461V11.1437C3.37643 13.4314 5.7437 15 8.48006 15Z" fill="#34A853"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M4.56316 9.33002C4.42316 8.91002 4.34362 8.46138 4.34362 8.00002C4.34362 7.53866 4.42316 7.09002 4.56316 6.67002V4.85638H2.22453C1.75043 5.80138 1.47998 6.87048 1.47998 8.00002C1.47998 9.12957 1.75043 10.1987 2.22453 11.1437L4.56316 9.33002Z" fill="#FBBC05"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.48006 3.78409C9.50779 3.78409 10.4305 4.13727 11.156 4.83091L13.1637 2.82318C11.9514 1.69364 10.3669 1 8.48006 1C5.7437 1 3.37643 2.56864 2.22461 4.85636L4.56325 6.67C5.1137 5.01545 6.65688 3.78409 8.48006 3.78409Z" fill="#EA4335"/>
</svg>
`},70285:P=>{P.exports=`<svg id="Component_5489_35" data-name="Component 5489 \u2013 35" xmlns="http://www.w3.org/2000/svg" width="72" height="40" viewBox="0 0 72 40">
  <rect id="Rectangle_42509" data-name="Rectangle 42509" width="72" height="40" fill="none" opacity="0"/>
  <g id="Rectangle_6778" data-name="Rectangle 6778" transform="translate(8 8)" fill="#fff" stroke="#0d2e4e" stroke-width="1">
    <rect width="56" height="24" rx="2" stroke="none"/>
    <rect x="0.5" y="0.5" width="55" height="23" rx="1.5" fill="none"/>
  </g>
  <rect id="Rectangle_24809" data-name="Rectangle 24809" width="24" height="6" rx="3" transform="translate(16 17)" fill="#d1d1d1"/>
  <g id="Group_16934" data-name="Group 16934" transform="translate(-86 -304.334)">
    <g id="Path_6994" data-name="Path 6994" transform="translate(3320.745 303.789)" fill="none">
      <path d="M-3175.745,22.99l-4.143-4.444-7.857,9h12Z" stroke="none"/>
      <path d="M -3179.839111328125 21.53073883056641 L -3183.34375 25.54541397094727 L -3177.74462890625 25.54541397094727 L -3177.74462890625 23.77750778198242 L -3179.839111328125 21.53073883056641 M -3179.887939453125 18.54541397094727 L -3175.74462890625 22.98985481262207 L -3175.74462890625 27.54541397094727 L -3187.74462890625 27.54541397094727 L -3179.887939453125 18.54541397094727 Z" stroke="none" fill="#ff4013"/>
    </g>
    <g id="Group_16777" data-name="Group 16777" transform="translate(131 317.334)">
      <path id="Path_6280" data-name="Path 6280" d="M672.674-50.443c-.559.559-1.231.2-1.791-.358h0c-.559-.559-.918-1.232-.358-1.791l1.791-1.791c.559-.559,1.231-.2,1.79.358h0c.56.559.918,1.231.358,1.791Z" transform="translate(-670.245 59.164)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/>
      <path id="Path_6281" data-name="Path 6281" d="M678.178-55.947c-.56.559-1.231.2-1.79-.359h0c-.56-.559-.918-1.231-.358-1.79l1.79-1.791c.56-.559,1.231-.2,1.791.359h0c.56.559.918,1.231.359,1.791Z" transform="translate(-671.248 60.167)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/>
      <path id="Path_11959" data-name="Path 11959" d="M1,2.811,2.811,1" transform="translate(2.7 2.701)" fill="none" stroke="#ff4013" stroke-width="2"/>
    </g>
    <path id="Path_11958" data-name="Path 11958" d="M541.476,636h2.707v12h-12v-2.426" transform="translate(-400.182 -317.666)" fill="none" stroke="#ff4013" stroke-width="2"/>
  </g>
</svg>
`},56106:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.4607 5.11369C15.4271 4.36829 15.3067 3.85829 15.1358 3.41273C14.9566 2.95316 14.7185 2.56085 14.3293 2.17414C13.94 1.78743 13.5507 1.54363 13.0914 1.36709C12.6461 1.19335 12.1364 1.07566 11.3915 1.04203C10.6437 1.00841 10.4057 1 8.5069 1C6.60532 1 6.36727 1.00841 5.62232 1.04203C4.87737 1.07566 4.36767 1.19616 3.92238 1.36709C3.46029 1.54644 3.06821 1.78463 2.68174 2.17414C2.29526 2.56365 2.05161 2.95316 1.87517 3.41273C1.70434 3.85829 1.58392 4.36829 1.55031 5.11369C1.5167 5.86189 1.5083 6.10008 1.5083 8C1.5083 9.90272 1.5167 10.1409 1.55031 10.8863C1.58392 11.6317 1.70434 12.1417 1.87517 12.5873C2.05441 13.0468 2.29246 13.4392 2.68174 13.8259C3.06821 14.2154 3.46029 14.4564 3.91958 14.6329C4.36487 14.8066 4.87457 14.9243 5.61952 14.958C6.36727 14.9916 6.60532 15 8.5041 15C10.4057 15 10.6437 14.9916 11.3887 14.958C12.1336 14.9243 12.6433 14.8038 13.0886 14.6329C13.5479 14.4536 13.94 14.2154 14.3265 13.8259C14.7129 13.4363 14.9566 13.0468 15.133 12.5873C15.3067 12.1417 15.4243 11.6317 15.4579 10.8863C15.4915 10.1381 15.4999 9.89992 15.4999 8C15.4999 6.10008 15.4943 5.85909 15.4607 5.11369ZM14.2032 10.8303C14.1724 11.514 14.0576 11.8867 13.9624 12.1305C13.8364 12.4556 13.6823 12.691 13.4359 12.9376C13.1894 13.1841 12.957 13.3327 12.6293 13.4644C12.3829 13.5596 12.0104 13.6745 11.3299 13.7054C10.5933 13.739 10.3721 13.7474 8.5013 13.7474C6.63052 13.7474 6.40928 13.739 5.67273 13.7054C4.9894 13.6745 4.61692 13.5596 4.37327 13.4644C4.04841 13.3383 3.81316 13.1841 3.56671 12.9376C3.32026 12.691 3.17183 12.4584 3.04021 12.1305C2.94499 11.8839 2.83017 11.5112 2.79936 10.8303C2.76575 10.0933 2.75735 9.8719 2.75735 8C2.75735 6.1281 2.76575 5.90673 2.79936 5.16974C2.83017 4.48599 2.94499 4.11329 3.04021 3.8695C3.16623 3.54444 3.32026 3.30905 3.56671 3.06245C3.81316 2.81585 4.04561 2.66733 4.37327 2.53563C4.61972 2.44035 4.9922 2.32546 5.67273 2.29464C6.40928 2.26101 6.63052 2.2526 8.5013 2.2526C10.3721 2.2526 10.5933 2.26101 11.3299 2.29464C12.0132 2.32546 12.3857 2.44035 12.6293 2.53563C12.9542 2.66173 13.1894 2.81585 13.4359 3.06245C13.6823 3.30905 13.8308 3.54163 13.9624 3.8695C14.0576 4.11609 14.1724 4.48879 14.2032 5.16974C14.2368 5.90673 14.2452 6.1281 14.2452 8C14.2452 9.8719 14.234 10.0933 14.2032 10.8303Z" fill="url(#paint0_linear_14146_4443)"/>
<path d="M8.50119 4.40192C6.51279 4.40192 4.90527 6.01321 4.90527 7.99999C4.90527 9.98959 6.5156 11.5981 8.50119 11.5981C10.4868 11.5981 12.0971 9.98398 12.0971 7.99999C12.0971 6.0104 10.4896 4.40192 8.50119 4.40192ZM8.50119 10.3343C7.21293 10.3343 6.16833 9.28903 6.16833 7.99999C6.16833 6.71096 7.21293 5.66573 8.50119 5.66573C9.78945 5.66573 10.8341 6.71096 10.8341 7.99999C10.8341 9.28903 9.78945 10.3343 8.50119 10.3343Z" fill="url(#paint1_linear_14146_4443)"/>
<path d="M12.2371 5.10249C12.7012 5.10249 13.0773 4.72611 13.0773 4.26182C13.0773 3.79752 12.7012 3.42114 12.2371 3.42114C11.7731 3.42114 11.397 3.79752 11.397 4.26182C11.397 4.72611 11.7731 5.10249 12.2371 5.10249Z" fill="#BC30A0"/>
<path d="M1.5 8C1.5 9.90272 1.50841 10.1409 1.54203 10.8863C1.57566 11.6317 1.69616 12.1417 1.86709 12.5873C2.04644 13.0468 2.28463 13.4392 2.67414 13.8259C3.06085 14.2126 3.45316 14.4564 3.91273 14.6329C4.35829 14.8066 4.86829 14.9243 5.61369 14.958C6.36189 14.9916 6.60008 15 8.5 15C10.4027 15 10.6409 14.9916 11.3863 14.958C12.1317 14.9243 12.6417 14.8038 13.0873 14.6329C13.5468 14.4536 13.9392 14.2154 14.3259 13.8259C14.7126 13.4392 14.9564 13.0468 15.1329 12.5873C15.3066 12.1417 15.4243 11.6317 15.458 10.8863C15.4916 10.1381 15.5 9.89992 15.5 8C15.5 6.09728 15.4916 5.85909 15.458 5.11369C15.4243 4.36829 15.3038 3.85829 15.1329 3.41273C14.9536 2.95316 14.7154 2.56085 14.3259 2.17414C13.942 1.78463 13.5496 1.54363 13.0901 1.36709C12.6445 1.19335 12.1345 1.07566 11.3891 1.04203C10.6409 1.00841 10.4027 1 8.5028 1C6.60008 1 6.36189 1.00841 5.61649 1.04203C4.8711 1.07566 4.36109 1.19616 3.91553 1.36709C3.45596 1.54644 3.06365 1.78463 2.67694 2.17414C2.29023 2.56365 2.04644 2.95316 1.8699 3.41273C1.69616 3.85829 1.57566 4.36829 1.54203 5.11369C1.50841 5.85909 1.5 6.09728 1.5 8ZM2.76381 8C2.76381 6.13091 2.77222 5.90673 2.80584 5.16974C2.83667 4.48599 2.95156 4.11329 3.04684 3.8695C3.17294 3.54444 3.32706 3.30905 3.57366 3.06245C3.82026 2.81585 4.05284 2.66733 4.3807 2.53563C4.6273 2.44035 5 2.32546 5.68094 2.29464C6.41793 2.26101 6.63931 2.2526 8.51121 2.2526C10.3831 2.2526 10.6045 2.26101 11.3415 2.29464C12.0252 2.32546 12.3979 2.44035 12.6417 2.53563C12.9668 2.66173 13.2022 2.81585 13.4488 3.06245C13.6954 3.30905 13.8439 3.54163 13.9756 3.8695C14.0709 4.11609 14.1857 4.48879 14.2166 5.16974C14.2502 5.90673 14.2586 6.1281 14.2586 8C14.2586 9.8719 14.2502 10.0933 14.2166 10.8303C14.1857 11.514 14.0709 11.8867 13.9756 12.1305C13.8495 12.4556 13.6954 12.691 13.4488 12.9376C13.2022 13.1841 12.9696 13.3327 12.6417 13.4644C12.3951 13.5596 12.0224 13.6745 11.3415 13.7054C10.6045 13.739 10.3831 13.7474 8.51121 13.7474C6.63931 13.7474 6.41793 13.739 5.68094 13.7054C4.9972 13.6745 4.6245 13.5596 4.3807 13.4644C4.05564 13.3383 3.82026 13.1841 3.57366 12.9376C3.32706 12.691 3.17854 12.4584 3.04684 12.1305C2.95156 11.8839 2.83667 11.5112 2.80584 10.8303C2.76942 10.0933 2.76381 9.8691 2.76381 8Z" fill="url(#paint2_linear_14146_4443)"/>
<defs>
<linearGradient id="paint0_linear_14146_4443" x1="13.3389" y1="2.07053" x2="3.21084" y2="14.4794" gradientUnits="userSpaceOnUse">
<stop stop-color="#AE3DAE"/>
<stop offset="0.0468721" stop-color="#B23BA6"/>
<stop offset="0.1216" stop-color="#BD368E"/>
<stop offset="0.2148" stop-color="#CE2E69"/>
<stop offset="0.3216" stop-color="#E62335"/>
<stop offset="0.418" stop-color="#FF1800"/>
</linearGradient>
<linearGradient id="paint1_linear_14146_4443" x1="10.2161" y1="5.11416" x2="6.53681" y2="11.2966" gradientUnits="userSpaceOnUse">
<stop stop-color="#E12F6A"/>
<stop offset="0.1705" stop-color="#EA3751"/>
<stop offset="0.3563" stop-color="#F13D3E"/>
<stop offset="0.5467" stop-color="#F64133"/>
<stop offset="0.7469" stop-color="#F7422F"/>
<stop offset="0.7946" stop-color="#F74C2F"/>
<stop offset="0.8743" stop-color="#F7652F"/>
<stop offset="0.9757" stop-color="#F78F2E"/>
<stop offset="1" stop-color="#F79A2E"/>
</linearGradient>
<linearGradient id="paint2_linear_14146_4443" x1="11.6783" y1="0.423649" x2="5.48348" y2="15.1988" gradientUnits="userSpaceOnUse">
<stop offset="0.2341" stop-color="#9E35A5" stop-opacity="0"/>
<stop offset="0.4512" stop-color="#D42F7F" stop-opacity="0.5"/>
<stop offset="0.7524" stop-color="#F7772E"/>
<stop offset="0.9624" stop-color="#FEF780"/>
</linearGradient>
</defs>
</svg>
`},3099:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(-464 -425)"><g transform="translate(399 129)"><rect width="30" height="5" rx="2.5" transform="translate(99 320)" fill="#c8c8c8"/><rect width="56" height="5" rx="2.5" transform="translate(73 328)" fill="#c8c8c8"/><rect width="56" height="5" rx="2.5" transform="translate(73 336)" fill="#c8c8c8"/><text transform="translate(84 325)" fill="#181818" style="font-size:10px;font-family:OpenSans-Semibold, Open Sans;font-weight:600;letter-spacing:0.02em;"><tspan x="-10.73" y="0">Text</tspan></text></g><rect width="72" height="64" rx="6" transform="translate(464 425)" fill="none"/></g></svg>'},31324:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.8434 3.71049L8.61763 4.93626C8.35598 5.19791 7.93176 5.19791 7.67011 4.93626C7.40846 4.67461 7.40846 4.25039 7.67011 3.98874L8.90761 2.75124C8.91492 2.74393 8.9224 2.73678 8.93004 2.72982C9.58135 2.13619 10.4363 1.81634 11.3174 1.83673C12.1984 1.85713 13.0376 2.21621 13.6608 2.83934C14.2839 3.46248 14.643 4.30175 14.6634 5.18277C14.6838 6.06378 14.3639 6.91877 13.7703 7.57008C13.7631 7.57801 13.7556 7.58577 13.748 7.59335L11.981 9.35412C11.9807 9.35444 11.9804 9.35476 11.9801 9.35508C11.6631 9.67298 11.2865 9.92524 10.872 10.0974C10.4569 10.2698 10.012 10.3585 9.56262 10.3585C9.11325 10.3585 8.66829 10.2698 8.25329 10.0974C7.83828 9.92507 7.46139 9.67247 7.14422 9.35412C6.88306 9.09198 6.88386 8.66776 7.146 8.4066C7.40814 8.14544 7.83236 8.14623 8.09352 8.40837C8.28618 8.60176 8.51513 8.75521 8.76724 8.85991C9.01934 8.96461 9.28964 9.01851 9.56262 9.01851C9.8356 9.01851 10.1059 8.96461 10.358 8.85991C10.6101 8.75521 10.8391 8.60176 11.0317 8.40837L11.0334 8.40665L12.79 6.65631C13.145 6.26114 13.336 5.74523 13.3237 5.21378C13.3113 4.67733 13.0927 4.16629 12.7133 3.78686C12.3338 3.40744 11.8228 3.18879 11.2863 3.17638C10.7547 3.16407 10.2386 3.35524 9.8434 3.71049ZM7.43762 6.98149C7.16464 6.98149 6.89434 7.03539 6.64224 7.14009C6.39013 7.24479 6.16118 7.39823 5.96852 7.59162L5.9668 7.59335L5.96679 7.59335L4.21024 9.34369C3.85523 9.73886 3.66419 10.2548 3.6765 10.7862C3.68892 11.3227 3.90756 11.8337 4.28699 12.2131C4.66642 12.5926 5.17745 12.8112 5.7139 12.8236C6.24554 12.8359 6.76162 12.6448 7.15684 12.2895L8.38261 11.0637C8.64426 10.8021 9.06848 10.8021 9.33013 11.0637C9.59178 11.3254 9.59178 11.7496 9.33013 12.0113L8.09263 13.2488C8.08532 13.2561 8.07784 13.2632 8.0702 13.2702C7.41889 13.8638 6.5639 14.1837 5.68289 14.1633C4.80188 14.1429 3.9626 13.7838 3.33946 13.1607C2.71633 12.5375 2.35725 11.6982 2.33686 10.8172C2.31646 9.93622 2.63631 9.08122 3.22994 8.42992C3.23717 8.42199 3.24459 8.41423 3.2522 8.40665L5.01922 6.64587C5.01952 6.64558 5.01981 6.64528 5.02011 6.64499C5.33708 6.32706 5.71366 6.07477 6.12829 5.90257C6.54329 5.73021 6.98825 5.64149 7.43762 5.64149C7.887 5.64149 8.33195 5.73021 8.74696 5.90257C9.16196 6.07493 9.53886 6.32752 9.85602 6.64587C10.1172 6.90801 10.1164 7.33223 9.85425 7.5934C9.59211 7.85456 9.16789 7.85376 8.90672 7.59162C8.71406 7.39823 8.48511 7.24479 8.233 7.14009C7.9809 7.03539 7.7106 6.98149 7.43762 6.98149Z" fill="#0D2E4E"/>
</svg>
`},3494:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.2335 1H2.76653C2.43063 1 2.10848 1.13344 1.87096 1.37096C1.63344 1.60848 1.5 1.93063 1.5 2.26653L1.5 13.7335C1.5 14.0694 1.63344 14.3915 1.87096 14.629C2.10848 14.8666 2.43063 15 2.76653 15H14.2335C14.5694 15 14.8915 14.8666 15.129 14.629C15.3666 14.3915 15.5 14.0694 15.5 13.7335V2.26653C15.5 1.93063 15.3666 1.60848 15.129 1.37096C14.8915 1.13344 14.5694 1 14.2335 1V1ZM5.83347 13.0885C5.83226 13.1859 5.79303 13.279 5.72415 13.3479C5.65527 13.4168 5.5622 13.456 5.4648 13.4572H3.89493C3.79753 13.456 3.70446 13.4168 3.63558 13.3479C3.56671 13.279 3.52748 13.1859 3.52627 13.0885V6.51227C3.52748 6.41487 3.56671 6.3218 3.63558 6.25292C3.70446 6.18404 3.79753 6.14481 3.89493 6.1436H5.46387C5.56127 6.14481 5.65434 6.18404 5.72322 6.25292C5.79209 6.3218 5.83132 6.41487 5.83253 6.51227L5.83347 13.0885ZM4.67893 5.52387C4.38322 5.52498 4.09384 5.43826 3.84747 5.27473C3.6011 5.11119 3.40882 4.87819 3.29502 4.60525C3.18122 4.33232 3.15101 4.03174 3.20822 3.74161C3.26543 3.45149 3.4075 3.18489 3.6164 2.97559C3.8253 2.7663 4.09164 2.62373 4.38165 2.56597C4.67167 2.50821 4.9723 2.53786 5.24545 2.65115C5.5186 2.76444 5.75196 2.95627 5.91596 3.20234C6.07996 3.44841 6.16722 3.73762 6.16667 4.03333C6.16593 4.42794 6.00904 4.80621 5.73027 5.0855C5.45151 5.36479 5.07353 5.52239 4.67893 5.52387ZM14.03 13.1184C14.03 13.2083 13.9943 13.2944 13.9308 13.358C13.8672 13.4215 13.7811 13.4572 13.6912 13.4572H12.0112C11.9213 13.4572 11.8352 13.4215 11.7716 13.358C11.7081 13.2944 11.6724 13.2083 11.6724 13.1184V10.0337C11.6724 9.5736 11.8077 8.0168 10.4703 8.0168C9.43333 8.0168 9.21867 9.08267 9.17667 9.56053V13.1184C9.17667 13.2083 9.14097 13.2944 9.07743 13.358C9.0139 13.4215 8.92772 13.4572 8.83787 13.4572H7.21013C7.12028 13.4572 7.0341 13.4215 6.97057 13.358C6.90703 13.2944 6.87133 13.2083 6.87133 13.1184V6.4824C6.87133 6.39254 6.90703 6.30637 6.97057 6.24283C7.0341 6.17929 7.12028 6.1436 7.21013 6.1436H8.83787C8.92772 6.1436 9.0139 6.17929 9.07743 6.24283C9.14097 6.30637 9.17667 6.39254 9.17667 6.4824V7.0564C9.40994 6.70232 9.73613 6.41925 10.1195 6.23816C10.5029 6.05708 10.9288 5.98497 11.3504 6.02973C14.0459 6.02973 14.0309 8.54973 14.0309 9.932V13.1147L14.03 13.1184Z" fill="#0077B7"/>
</svg>
`},44982:P=>{P.exports=`<svg width="73" height="64" viewBox="0 0 73 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<g opacity="0.2">
<path d="M36.6928 50.5714C39.9458 50.4927 43.1153 49.5258 45.8583 47.7755C48.6014 46.0252 50.8135 43.5581 52.2553 40.641L42.1953 34.4531C42.0221 34.3418 41.8256 34.272 41.621 34.2493L37.3783 33.675C37.0618 33.6295 36.7391 33.6903 36.4609 33.8479C36.1826 34.0055 35.9645 34.2509 35.8406 34.5457L33.3024 40.2335C33.1831 40.498 33.1441 40.7918 33.1902 41.0783C33.2363 41.3648 33.3655 41.6315 33.5618 41.8453L37.0449 45.6062C37.2023 45.7793 37.3177 45.9863 37.3819 46.2113C37.4462 46.4362 37.4577 46.673 37.4154 46.9031L36.6928 50.5714Z" fill="#C9C9C9"/>
<path d="M24.6134 19.3724L22.946 23.3C22.8007 23.6487 22.7941 24.0397 22.9274 24.3931L25.058 30.0623C25.1413 30.2986 25.2838 30.5096 25.472 30.675C25.6601 30.8404 25.8876 30.9548 26.1326 31.0072L27.133 31.211L28.6707 27.5612C28.7861 27.2929 28.9773 27.0641 29.2208 26.9028C29.4644 26.7415 29.7497 26.6549 30.0417 26.6534H34.0065C34.2523 26.6468 34.4932 26.5834 34.7105 26.4681L36.9893 25.2083C37.0903 25.1527 37.1837 25.0842 37.2672 25.0045L42.2509 20.5025C42.4948 20.2757 42.6563 19.9741 42.7099 19.6454C42.7636 19.3167 42.7064 18.9795 42.5473 18.6869L40.8243 15.5744C39.3414 15.1933 37.8164 15.0003 36.2853 15C31.9928 14.9918 27.844 16.5459 24.6134 19.3724Z" fill="#C9C9C9"/>
</g>
<path d="M52.2553 40.641L42.1952 34.4531C42.0221 34.3418 41.8255 34.272 41.6209 34.2493L37.3783 33.675C37.0617 33.6295 36.7391 33.6903 36.4608 33.8479C36.1825 34.0055 35.9644 34.2509 35.8405 34.5457L33.3024 40.2335C33.1831 40.498 33.144 40.7918 33.1901 41.0783C33.2362 41.3648 33.3655 41.6315 33.5617 41.8453L37.0448 45.6062C37.2022 45.7793 37.3176 45.9863 37.3819 46.2113C37.4461 46.4362 37.4576 46.673 37.4153 46.9031L36.6928 50.5714M24.6133 19.3723L22.9459 23.3C22.8007 23.6487 22.794 24.0397 22.9274 24.3931L25.0579 30.0623C25.1412 30.2986 25.2837 30.5095 25.4719 30.675C25.66 30.8404 25.8875 30.9548 26.1325 31.0072L30.0972 31.8594C30.3173 31.9039 30.5239 31.9991 30.7008 32.1373C30.8777 32.2756 31.0199 32.4532 31.1162 32.656L31.8202 34.1197C31.9453 34.3671 32.1357 34.5756 32.3709 34.7226C32.606 34.8696 32.8769 34.9494 33.1541 34.9534H35.6553M40.8242 15.5743L42.5472 18.6868C42.7063 18.9795 42.7635 19.3167 42.7098 19.6454C42.6562 19.9741 42.4947 20.2756 42.2508 20.5025L37.2671 25.0045C37.1836 25.0841 37.0902 25.1526 36.9892 25.2083L34.7104 26.4681C34.4931 26.5834 34.2522 26.6468 34.0064 26.6534H30.0416C29.7495 26.6548 29.4643 26.7415 29.2207 26.9028C28.9772 27.064 28.786 27.2929 28.6706 27.5612L27.1329 31.2109M54.0709 32.7857C54.0709 42.6085 46.108 50.5714 36.2852 50.5714C26.4624 50.5714 18.4995 42.6085 18.4995 32.7857C18.4995 22.9629 26.4624 15 36.2852 15C46.108 15 54.0709 22.9629 54.0709 32.7857Z" stroke="#C9C9C9" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M57.5 42C57.5 47.2467 53.2467 51.5 48 51.5C42.7533 51.5 38.5 47.2467 38.5 42C38.5 36.7533 42.7533 32.5 48 32.5C53.2467 32.5 57.5 36.7533 57.5 42Z" fill="white" stroke="#004FD6"/>
<path d="M49.5444 38.1905C49.5444 37.6382 49.0967 37.1905 48.5444 37.1905C47.9921 37.1905 47.5444 37.6382 47.5444 38.1905H49.5444ZM48.5444 42.9489H47.5444V43.2862L47.7486 43.5545L48.5444 42.9489ZM49.9255 46.4151C50.2599 46.8546 50.8873 46.9398 51.3268 46.6053C51.7663 46.2709 51.8515 45.6435 51.517 45.204L49.9255 46.4151ZM55.5716 42C55.5716 46.1816 52.1817 49.5714 48.0001 49.5714V51.5714C53.2863 51.5714 57.5716 47.2862 57.5716 42H55.5716ZM48.0001 49.5714C43.8186 49.5714 40.4287 46.1816 40.4287 42H38.4287C38.4287 47.2862 42.714 51.5714 48.0001 51.5714V49.5714ZM40.4287 42C40.4287 37.8184 43.8186 34.4286 48.0001 34.4286V32.4286C42.714 32.4286 38.4287 36.7139 38.4287 42H40.4287ZM48.0001 34.4286C52.1817 34.4286 55.5716 37.8184 55.5716 42H57.5716C57.5716 36.7139 53.2863 32.4286 48.0001 32.4286V34.4286ZM47.5444 38.1905V42.9489H49.5444V38.1905H47.5444ZM47.7486 43.5545L49.9255 46.4151L51.517 45.204L49.3402 42.3434L47.7486 43.5545Z" fill="#004FD6"/>
</svg>
`},67566:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g transform="translate(-1783.779 74.455)">
    <g>
      <g>
        <path d="M1787.779-67.455l4,4,4-4Z" fill="currentColor"/>
      </g>
    </g>
  </g>
  <rect width="16" height="16" fill="none"/>
</svg>
`},1705:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.50015 1.00451C7.58969 0.971226 6.68191 1.1224 5.83146 1.44894C4.981 1.77548 4.20545 2.27063 3.5515 2.90458C2.89754 3.53853 2.37871 4.29818 2.02623 5.13778C1.67374 5.97739 1.4949 6.87959 1.50047 7.79009C1.48924 8.73454 1.67927 9.67057 2.05792 10.536C2.43657 11.4014 2.99518 12.1763 3.69662 12.8093C3.75372 12.8598 3.79958 12.9216 3.83124 12.9909C3.86289 13.0602 3.87962 13.1354 3.88036 13.2116L3.91536 14.4532C3.91748 14.5454 3.94235 14.6356 3.98774 14.7158C4.03313 14.7961 4.09765 14.8638 4.17557 14.9132C4.25348 14.9625 4.34238 14.9918 4.43436 14.9985C4.52634 15.0052 4.61856 14.9891 4.70282 14.9517L6.09401 14.3396C6.21259 14.2875 6.34558 14.2783 6.47024 14.3133C7.13174 14.4938 7.81444 14.585 8.50015 14.5844C9.4106 14.6177 10.3184 14.4665 11.1688 14.14C12.0193 13.8134 12.7948 13.3183 13.4488 12.6843C14.1028 12.0504 14.6216 11.2907 14.9741 10.4511C15.3266 9.61153 15.5054 8.70933 15.4998 7.79883C15.5063 6.88767 15.3282 5.98463 14.9762 5.14411C14.6241 4.3036 14.1055 3.543 13.4514 2.90817C12.7974 2.27333 12.0216 1.77738 11.1706 1.45022C10.3197 1.12305 9.41128 0.97144 8.50015 1.00451Z" fill="url(#paint0_radial_14146_6474)" stroke="white"/>
<path d="M4.1552 9.68628L6.28136 6.59491C6.45957 6.35677 6.72278 6.19657 7.01616 6.14767C7.30954 6.09877 7.61048 6.16494 7.85628 6.33241L9.54846 7.49003C9.62585 7.54273 9.71731 7.57092 9.81095 7.57092C9.90458 7.57092 9.99604 7.54273 10.0734 7.49003L12.3536 5.89928C12.6616 5.68403 13.0588 6.02353 12.8514 6.32191L10.7174 9.41328C10.5395 9.65178 10.2762 9.81226 9.98271 9.86119C9.6892 9.91011 9.38815 9.84368 9.14248 9.67578L7.4503 8.51816C7.37291 8.46545 7.28145 8.43727 7.18782 8.43727C7.09418 8.43727 7.00272 8.46545 6.92533 8.51816L4.64518 10.1098C4.34682 10.3128 3.94871 9.98466 4.1552 9.68628Z" fill="white"/>
<defs>
<radialGradient id="paint0_radial_14146_6474" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(1.67629 0.280024) rotate(70.8507) scale(32.2739 14.6548)">
<stop stop-color="#0077FF"/>
<stop offset="0.61" stop-color="#8A1FE6"/>
<stop offset="0.935" stop-color="#F1255B"/>
<stop offset="1" stop-color="#FF1800"/>
</radialGradient>
</defs>
</svg>
`},66052:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.0625 9.37953C10.3579 9.37953 12.2187 7.50371 12.2187 5.18976C12.2187 2.87582 10.3579 1 8.0625 1C5.76707 1 3.90625 2.87582 3.90625 5.18976C3.90625 7.50371 5.76707 9.37953 8.0625 9.37953Z" fill="#036C70"/>
<path d="M11.9453 12.4668C13.9085 12.4668 15.5 10.8624 15.5 8.8834C15.5 6.90437 13.9085 5.30005 11.9453 5.30005C9.98211 5.30005 8.39062 6.90437 8.39062 8.8834C8.39062 10.8624 9.98211 12.4668 11.9453 12.4668Z" fill="#1A9BA1"/>
<path d="M8.5 15.1129C10.0706 15.1129 11.3437 13.8294 11.3437 12.2462C11.3437 10.663 10.0706 9.37952 8.5 9.37952C6.92944 9.37952 5.65625 10.663 5.65625 12.2462C5.65625 13.8294 6.92944 15.1129 8.5 15.1129Z" fill="#37C6D0"/>
<path opacity="0.1" d="M8.79181 4.08722H4.05194C3.88429 4.70879 3.86098 5.36095 3.98382 5.99308C4.10665 6.6252 4.37233 7.22029 4.76023 7.73216C5.14813 8.24404 5.64782 8.65892 6.22051 8.94462C6.79321 9.23032 7.42351 9.37915 8.0625 9.37955C8.18368 9.37955 8.30356 9.37382 8.42256 9.36368L8.42475 9.38044C7.68381 9.40021 6.9798 9.71082 6.46269 10.2461C5.94557 10.7814 5.65622 11.4991 5.65625 12.2462C5.65625 12.3203 5.65902 12.3938 5.66456 12.4667H8.79181C8.94634 12.4663 9.0944 12.4042 9.20367 12.294C9.31294 12.1839 9.37453 12.0346 9.37499 11.8789V4.67511C9.37453 4.51933 9.31294 4.37007 9.20367 4.25992C9.0944 4.14977 8.94634 4.08768 8.79181 4.08722Z" fill="black"/>
<path opacity="0.2" d="M8.35439 4.5282H3.95752C3.86295 5.12678 3.89827 5.73891 4.06105 6.32241C4.22383 6.9059 4.5102 7.44686 4.90041 7.90801C5.29062 8.36916 5.7754 8.73951 6.32131 8.99355C6.86723 9.24759 7.4613 9.37927 8.06258 9.37951C8.18377 9.3795 8.30364 9.37377 8.42264 9.36363L8.42483 9.38039C8.00215 9.39197 7.58734 9.49835 7.21056 9.6918C6.83378 9.88525 6.5045 10.1609 6.24665 10.4987C5.98879 10.8365 5.80886 11.228 5.71991 11.6447C5.63097 12.0614 5.63525 12.4929 5.73246 12.9077H8.35439C8.50892 12.9073 8.65699 12.8452 8.76626 12.735C8.87553 12.6249 8.93712 12.4756 8.93758 12.3198V5.11609C8.93712 4.96031 8.87553 4.81105 8.76626 4.7009C8.65699 4.59075 8.50892 4.52866 8.35439 4.5282Z" fill="black"/>
<path opacity="0.2" d="M8.35439 4.5282H3.95752C3.86295 5.12678 3.89827 5.73891 4.06105 6.32241C4.22383 6.9059 4.5102 7.44686 4.90041 7.90801C5.29062 8.36916 5.7754 8.73951 6.32131 8.99355C6.86723 9.24759 7.4613 9.37927 8.06258 9.37951C8.18377 9.3795 8.30364 9.37377 8.42264 9.36363L8.42483 9.38039C7.7216 9.39902 7.05018 9.67974 6.54031 10.1683C6.03043 10.6569 5.71829 11.3186 5.66421 12.0257H8.35439C8.50892 12.0252 8.65699 11.9631 8.76626 11.853C8.87553 11.7428 8.93712 11.5936 8.93758 11.4378V5.11609C8.93712 4.96031 8.87553 4.81105 8.76626 4.7009C8.65699 4.59075 8.50892 4.52866 8.35439 4.5282Z" fill="black"/>
<path opacity="0.2" d="M7.91689 4.5282H3.95752C3.86295 5.12678 3.89827 5.73891 4.06105 6.32241C4.22383 6.9059 4.5102 7.44686 4.90041 7.90801C5.29062 8.36916 5.7754 8.73951 6.32131 8.99355C6.86723 9.24759 7.4613 9.37927 8.06258 9.37951C8.18377 9.3795 8.30364 9.37377 8.42264 9.36363L8.42483 9.38039C7.7216 9.39902 7.05018 9.67974 6.54031 10.1683C6.03043 10.6569 5.71829 11.3186 5.66421 12.0257H7.91689C8.07142 12.0252 8.21949 11.9631 8.32876 11.853C8.43803 11.7428 8.49962 11.5936 8.50008 11.4378V5.11609C8.49962 4.96031 8.43803 4.81105 8.32876 4.7009C8.21949 4.59075 8.07142 4.52866 7.91689 4.5282Z" fill="black"/>
<path d="M2.08319 4.5282H7.91681C8.07148 4.5282 8.21981 4.59014 8.32918 4.70039C8.43855 4.81064 8.49999 4.96017 8.49999 5.11609V10.9968C8.49999 11.1527 8.43855 11.3022 8.32918 11.4125C8.21981 11.5227 8.07148 11.5846 7.91681 11.5846H2.08319C1.92852 11.5846 1.78018 11.5227 1.67081 11.4125C1.56144 11.3022 1.5 11.1527 1.5 10.9968V5.11609C1.5 4.96017 1.56144 4.81064 1.67081 4.70039C1.78018 4.59014 1.92852 4.5282 2.08319 4.5282Z" fill="#03787C"/>
<path d="M3.98079 7.97927C3.8334 7.88075 3.71038 7.7495 3.62116 7.59558C3.53426 7.43481 3.49095 7.25378 3.4956 7.07075C3.48798 6.82304 3.57097 6.58116 3.72879 6.39113C3.89447 6.20078 4.10873 6.05984 4.34829 5.98362C4.62135 5.89294 4.90737 5.84824 5.19485 5.85131C5.57287 5.8373 5.95038 5.8906 6.31003 6.00876V6.80261C6.15372 6.70715 5.9835 6.63705 5.8056 6.59488C5.61248 6.54699 5.41429 6.523 5.21541 6.52344C5.00584 6.51579 4.79761 6.56017 4.60904 6.65266C4.53786 6.68367 4.47722 6.73495 4.43455 6.80021C4.39188 6.86547 4.36905 6.94187 4.36885 7.02004C4.36797 7.11683 4.40454 7.21017 4.47079 7.28024C4.54949 7.36243 4.64246 7.42939 4.7451 7.47782C4.86001 7.53545 5.03151 7.6119 5.2596 7.70716C5.28493 7.71516 5.30964 7.72503 5.33354 7.73671C5.55853 7.8255 5.77559 7.9335 5.98235 8.05954C6.13905 8.15686 6.27056 8.29034 6.36603 8.44897C6.46436 8.62844 6.5123 8.83153 6.50472 9.03642C6.5159 9.29079 6.4387 9.54112 6.28641 9.74426C6.13442 9.93092 5.93129 10.0684 5.70235 10.1394C5.4332 10.2246 5.15228 10.2658 4.87022 10.2616C4.61778 10.2626 4.36572 10.2417 4.11685 10.199C3.90617 10.1653 3.70045 10.1054 3.50435 10.0208V9.18195C3.69197 9.31698 3.90165 9.41774 4.12385 9.47965C4.34464 9.54916 4.5742 9.58629 4.80547 9.5899C5.01966 9.60367 5.23349 9.5579 5.42366 9.4576C5.48852 9.42004 5.54209 9.36549 5.57868 9.29972C5.61527 9.23395 5.63351 9.15942 5.63147 9.08405C5.63191 9.031 5.62184 8.9784 5.60186 8.92933C5.58188 8.88026 5.55238 8.8357 5.5151 8.79826C5.42111 8.70549 5.31243 8.62918 5.19354 8.57245C5.05674 8.50307 4.85462 8.41192 4.58716 8.29902C4.37499 8.21302 4.17186 8.10591 3.98079 7.97927Z" fill="white"/>
</svg>
`},40809:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8.93731 5.63404C10.065 5.63404 10.9791 4.70427 10.9791 3.55735C10.9791 2.41042 10.065 1.48065 8.93731 1.48065C7.80966 1.48065 6.89551 2.41042 6.89551 3.55735C6.89551 4.70427 7.80966 5.63404 8.93731 5.63404Z" fill="#7B83EB"/>
<path opacity="0.1" d="M8.79169 4.00232H6.94238L6.95157 4.0437L6.95245 4.04726L6.96207 4.08553C7.09644 4.60379 7.42247 5.04923 7.87207 5.32882C8.32166 5.60841 8.86008 5.70055 9.37488 5.58598V4.59547C9.37441 4.4383 9.31282 4.2877 9.20355 4.17657C9.09429 4.06543 8.94622 4.00279 8.79169 4.00232Z" fill="black"/>
<path opacity="0.2" d="M8.35452 4.44733H7.09277C7.25837 4.80243 7.51964 5.10244 7.84622 5.31252C8.1728 5.52259 8.55129 5.63409 8.9377 5.63407V5.04048C8.93724 4.88331 8.87565 4.73271 8.76638 4.62157C8.65712 4.51044 8.50905 4.4478 8.35452 4.44733Z" fill="black"/>
<path d="M13.5312 5.78224C14.3769 5.78224 15.0625 5.08496 15.0625 4.22483C15.0625 3.3647 14.3769 2.66742 13.5312 2.66742C12.6856 2.66742 12 3.3647 12 4.22483C12 5.08496 12.6856 5.78224 13.5312 5.78224Z" fill="#5059C9"/>
<path d="M14.8436 6.22723H11.4044C11.3301 6.22723 11.2589 6.25724 11.2064 6.31064C11.1539 6.36405 11.1244 6.43649 11.1244 6.51202V10.1208C11.1149 10.643 11.2822 11.1528 11.5981 11.5646C11.9141 11.9765 12.3596 12.2654 12.86 12.383C13.1787 12.451 13.5083 12.4459 13.8248 12.368C14.1413 12.2901 14.4368 12.1414 14.6897 11.9327C14.9425 11.724 15.1465 11.4606 15.2866 11.1616C15.4268 10.8626 15.4996 10.5356 15.4998 10.2044V6.8947C15.4998 6.71767 15.4307 6.5479 15.3076 6.42273C15.1845 6.29756 15.0176 6.22723 14.8436 6.22723Z" fill="#5059C9"/>
<path d="M12.4375 6.8947V11.1219C12.4379 11.9053 12.1841 12.667 11.7154 13.2887C11.2467 13.9103 10.5894 14.3573 9.84544 14.5602C9.10147 14.763 8.31248 14.7104 7.60089 14.4106C6.88931 14.1108 6.29493 13.5804 5.91 12.9018C5.82581 12.7595 5.75267 12.6108 5.69125 12.4569C5.63399 12.3118 5.58577 12.1632 5.54688 12.0119C5.47475 11.7209 5.43802 11.422 5.4375 11.1219V6.8947C5.43739 6.80701 5.45428 6.72016 5.48722 6.63913C5.52016 6.5581 5.56849 6.48447 5.62945 6.42247C5.69042 6.36047 5.76281 6.3113 5.84248 6.2778C5.92215 6.2443 6.00754 6.22712 6.09375 6.22723H11.7812C11.8674 6.22712 11.9528 6.2443 12.0325 6.2778C12.1122 6.3113 12.1846 6.36047 12.2455 6.42247C12.3065 6.48447 12.3548 6.5581 12.3878 6.63913C12.4207 6.72016 12.4376 6.80701 12.4375 6.8947Z" fill="#7B83EB"/>
<path opacity="0.2" d="M8.35452 4.44733H7.09277C7.25837 4.80243 7.51964 5.10244 7.84622 5.31252C8.1728 5.52259 8.55129 5.63409 8.9377 5.63407V5.04048C8.93724 4.88331 8.87565 4.73271 8.76638 4.62157C8.65712 4.51044 8.50905 4.4478 8.35452 4.44733Z" fill="black"/>
<path opacity="0.1" d="M9.37499 6.22723V11.8651C9.37499 11.9992 9.32985 12.1293 9.24708 12.2337C9.1643 12.3382 9.04887 12.4106 8.91999 12.4391C8.87883 12.4515 8.83605 12.4575 8.79311 12.4569H5.69125C5.63399 12.3118 5.58577 12.1632 5.54688 12.0119C5.47475 11.7209 5.43802 11.422 5.4375 11.122V6.8947C5.43739 6.80701 5.45428 6.72016 5.48722 6.63913C5.52016 6.5581 5.56849 6.48447 5.62945 6.42247C5.69042 6.36047 5.76281 6.3113 5.84248 6.2778C5.92215 6.2443 6.00754 6.22712 6.09375 6.22723H9.37499Z" fill="black"/>
<path opacity="0.2" d="M8.93749 6.22723V12.31C8.93813 12.3537 8.93223 12.3972 8.91999 12.4391C8.89201 12.5702 8.82077 12.6876 8.71809 12.7717C8.61542 12.8559 8.4875 12.9019 8.35562 12.9018H5.91C5.82581 12.7595 5.75267 12.6108 5.69125 12.4569C5.63399 12.3118 5.58577 12.1632 5.54688 12.0119C5.47475 11.7209 5.43802 11.422 5.4375 11.122V6.8947C5.43739 6.80701 5.45428 6.72016 5.48722 6.63913C5.52016 6.5581 5.56849 6.48447 5.62945 6.42247C5.69042 6.36047 5.76281 6.3113 5.84248 6.2778C5.92215 6.2443 6.00754 6.22712 6.09375 6.22723H8.93749Z" fill="black"/>
<path opacity="0.2" d="M8.93749 6.22723V11.4201C8.9368 11.5768 8.87527 11.7269 8.7663 11.8378C8.65733 11.9486 8.50973 12.0112 8.35562 12.0119H5.54688C5.47475 11.7209 5.43802 11.422 5.4375 11.122V6.8947C5.43739 6.80701 5.45428 6.72016 5.48722 6.63913C5.52016 6.5581 5.56849 6.48447 5.62945 6.42247C5.69042 6.36047 5.76281 6.3113 5.84248 6.2778C5.92215 6.2443 6.00754 6.22712 6.09375 6.22723H8.93749Z" fill="black"/>
<path opacity="0.2" d="M6.09375 6.22723C6.00754 6.22712 5.92215 6.2443 5.84248 6.2778C5.76281 6.3113 5.69042 6.36047 5.62945 6.42247C5.56849 6.48447 5.52016 6.5581 5.48722 6.63913C5.45428 6.72016 5.43739 6.80701 5.4375 6.8947V11.122C5.43802 11.422 5.47475 11.7209 5.54688 12.0119H7.91812C8.07223 12.0112 8.21983 11.9486 8.3288 11.8378C8.43777 11.7269 8.4993 11.5768 8.49999 11.4201V6.22723H6.09375Z" fill="black"/>
<path d="M2.08319 4.44733H7.91679C8.07146 4.44733 8.2198 4.50982 8.32917 4.62106C8.43853 4.73229 8.49998 4.88316 8.49998 5.04048V10.9738C8.49998 11.1311 8.43853 11.2819 8.32917 11.3932C8.2198 11.5044 8.07146 11.5669 7.91679 11.5669H2.08319C1.92852 11.5669 1.78018 11.5044 1.67081 11.3932C1.56144 11.2819 1.5 11.1311 1.5 10.9738V5.04048C1.5 4.88316 1.56144 4.73229 1.67081 4.62106C1.78018 4.50982 1.92852 4.44733 2.08319 4.44733Z" fill="#4B53BC"/>
<path d="M6.74128 6.66108H5.43316V10.2298H4.57478V6.66108H3.25879V5.78448H6.74128V6.66108Z" fill="white"/>
</svg>
`},10934:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.515 7.98478C2.95691 7.99315 2.5 7.54304 2.5 6.98489V5.30391C2.5 4.83442 2.82661 4.42815 3.28514 4.32727L5.28514 3.88727C5.9091 3.75 6.5 4.22503 6.5 4.86391V6.95489C6.5 7.50132 6.06137 7.94658 5.515 7.95478L3.515 7.98478ZM12.6175 2.26869C13.2417 2.13074 13.8333 2.60586 13.8333 3.24513V6.84822C13.8333 7.39466 13.3947 7.83991 12.8483 7.84811L8.18166 7.91811C7.62358 7.92648 7.16667 7.47637 7.16667 6.91822V4.27646C7.16667 3.80733 7.49279 3.40126 7.95087 3.30002L12.6175 2.26869ZM2.5 9.68178C2.5 9.12363 2.95691 8.67352 3.515 8.68189L5.515 8.71189C6.06137 8.72009 6.5 9.16534 6.5 9.71178V12.0568C6.5 12.6846 5.92831 13.1571 5.31176 13.0389L3.31176 12.6556C2.84064 12.5653 2.5 12.1532 2.5 11.6735V9.68178ZM12.8483 8.81856C13.3947 8.82675 13.8333 9.27201 13.8333 9.81845V13.4576C13.8333 14.0851 13.2621 14.5576 12.6457 14.4398L7.97906 13.5485C7.50764 13.4585 7.16667 13.0462 7.16667 12.5663V9.74845C7.16667 9.19029 7.62358 8.74019 8.18166 8.74856L12.8483 8.81856Z" fill="#0D2E4E"/>
</svg>
`},98789:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.3"><rect x="5" y="5" width="5.6" height="4.667" rx="1"/><rect x="13.4" y="5" width="5.6" height="6.533" rx="1"/><rect x="5" y="12.467" width="5.6" height="6.533" rx="1"/><rect x="13.4" y="14.333" width="5.6" height="4.667" rx="1"/></svg>'},57946:P=>{P.exports=`<svg width="72" height="65" viewBox="0 0 72 65" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="72" height="64" transform="translate(0 0.613281)" fill="none"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M13.0291 16.2383C12.2536 16.2383 11.625 16.9109 11.625 17.7407V37.3452C11.625 38.1146 12.2536 38.7383 13.0291 38.7383C13.8046 38.7383 14.4332 38.1146 14.4332 37.3452V28.9407H28.9709C29.5106 28.9407 30.0026 28.6096 30.2364 28.0891C30.4702 27.5685 30.4045 26.9507 30.0673 26.4997L26.6417 22.5895L30.0673 18.6793C30.4045 18.2283 30.4702 17.6104 30.2364 17.0899C30.0026 16.5693 29.5106 16.2383 28.9709 16.2383H13.0291Z" fill="#7848EE"/>
<rect width="23" height="7" rx="2" transform="matrix(1 0 0 -1 34 51.2266)" fill="#D9D9D9"/>
<path d="M38 35.2266C38 36.3311 38.8954 37.2266 40 37.2266H59C60.1046 37.2266 61 36.3311 61 35.2266V32.2266C61 31.122 60.1046 30.2266 59 30.2266H40C38.8954 30.2266 38 31.122 38 32.2266V35.2266Z" fill="#D9D9D9"/>
<path d="M44 21.2266C44 22.3311 44.8954 23.2266 46 23.2266H65C66.1046 23.2266 67 22.3311 67 21.2266V18.2266C67 17.122 66.1046 16.2266 65 16.2266H46C44.8954 16.2266 44 17.122 44 18.2266V21.2266Z" fill="#D9D9D9"/>
</svg>
`},48387:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 40">
  <g transform="translate(-60 -304.334)">
    <g fill="#fff" stroke="#0d2e4e" transform="translate(68 312.334)">
      <rect width="56" height="24" stroke="none" rx="2"/>
      <rect width="55" height="23" x=".5" y=".5" fill="none" rx="1.5"/>
    </g>
    <rect width="24" height="6" fill="#d1d1d1" rx="3" transform="translate(76 321.334)"/>
  </g>
  <text fill="#ff4013" font-family="OpenSans-Bold, Open Sans" font-size="15" font-weight="700" transform="translate(43 26)"><tspan x="0" y="0">10</tspan></text>
</svg>
`},67365:P=>{P.exports=`<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5 9.5C7.48528 9.5 9.5 7.48528 9.5 5C9.5 2.51472 7.48528 0.5 5 0.5C2.51472 0.5 0.5 2.51472 0.5 5C0.5 7.48528 2.51472 9.5 5 9.5Z" fill="#0B8500" stroke="#D6D6D6"/>
</svg>
`},23909:P=>{P.exports=`<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5 9.5C7.48528 9.5 9.5 7.48528 9.5 5C9.5 2.51472 7.48528 0.5 5 0.5C2.51472 0.5 0.5 2.51472 0.5 5C0.5 7.48528 2.51472 9.5 5 9.5Z" fill="#757575" stroke="#D6D6D6"/>
</svg>
`},21193:P=>{P.exports=`<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5 9.5C7.48528 9.5 9.5 7.48528 9.5 5C9.5 2.51472 7.48528 0.5 5 0.5C2.51472 0.5 0.5 2.51472 0.5 5C0.5 7.48528 2.51472 9.5 5 9.5Z" fill="#D2310D" stroke="#D6D6D6"/>
</svg>
`},23346:P=>{P.exports=`<svg width="12" height="13" viewBox="0 0 12 13" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M4.77954 0.405273C4.22726 0.405273 3.77954 0.852989 3.77954 1.40527V4.09277C3.77954 4.13461 3.78211 4.17585 3.7871 4.21634L2.60392 4.21635C1.76603 4.21635 1.05746 4.83724 0.947878 5.66793L0.307829 10.5198C0.175857 11.5202 0.954422 12.4082 1.96349 12.4082H9.62452C10.6339 12.4082 11.413 11.5196 11.2805 10.519L10.638 5.66711C10.5281 4.83677 9.82005 4.21632 8.98246 4.21633L7.77198 4.21633C7.77697 4.17584 7.77954 4.13461 7.77954 4.09277V1.40527C7.77954 0.852989 7.33183 0.405273 6.77954 0.405273H4.77954ZM2.60393 5.55635L8.98207 5.55633C9.14758 5.55633 9.28749 5.67893 9.30922 5.84301L9.45271 6.92667H2.13383L2.27676 5.84319C2.29842 5.67904 2.43835 5.55635 2.60393 5.55635ZM1.95706 8.26667L1.63671 10.695C1.61063 10.8927 1.76448 11.0682 1.96388 11.0682H6.93444V9.45271H8.27444V11.0682H9.62452C9.82398 11.0682 9.97785 10.8926 9.95166 10.6949L9.63014 8.26667H1.95706Z" fill="#0D2E4E"/>
</svg>
`},2748:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 4.49805C2.5 3.66962 3.17157 2.99805 4 2.99805H13C13.8284 2.99805 14.5 3.66962 14.5 4.49805V11.502C14.5 12.3304 13.8284 13.002 13 13.002H4C3.17157 13.002 2.5 12.3304 2.5 11.502V4.49805ZM12.6809 12.0013H4.1095C3.71501 12.0013 3.39522 11.6655 3.39522 11.2513V10.4038C3.39522 10.2026 3.45591 10.0061 3.56936 9.83992L5.3777 7.19142C5.63858 6.78053 6.19988 6.74193 6.50958 7.11356L8.77048 9.82665C8.90203 9.98451 9.12285 10.035 9.30994 9.95002L10.1809 9.56383L11.5062 8.86808C11.7812 8.72371 12.1133 8.7803 12.3307 9.00857L13.1595 9.99103C13.3117 10.1714 13.3952 10.3998 13.3952 10.6359V11.2513C13.3952 11.6655 13.0754 12.0013 12.6809 12.0013ZM11.7285 7.4631C12.4189 7.4631 12.9785 6.90345 12.9785 6.2131C12.9785 5.52274 12.4189 4.9631 11.7285 4.9631C11.0382 4.9631 10.4785 5.52274 10.4785 6.2131C10.4785 6.90345 11.0382 7.4631 11.7285 7.4631Z" fill="#22AC14"/>
</svg>
`},25102:P=>{P.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="Icon | Back - 16x16 | heavy">
<path id="Vector" d="M2.24295 7.91198C2.09279 8.06296 2 8.27104 2 8.50079C2 8.7416 2.10193 8.95859 2.265 9.11098L6.2337 13.2434C6.55313 13.576 7.08171 13.5867 7.41432 13.2672C7.74693 12.9478 7.75761 12.4192 7.43818 12.0866L4.79633 9.33579L13.165 9.33579C13.6262 9.33579 14 8.96195 14 8.50079C14 8.03964 13.6262 7.66579 13.165 7.66579L4.79481 7.66579L7.43818 4.91339C7.75761 4.58078 7.74693 4.05219 7.41432 3.73276C7.08171 3.41333 6.55313 3.42401 6.2337 3.75662L2.24295 7.91198Z" fill="#004FD6"/>
</g>
</svg>
`},19702:P=>{P.exports=`<svg width="72" height="64" viewBox="0 0 72 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="56" height="6" rx="3" transform="matrix(1 0 0 -1 8 48)" fill="#D1D1D1"/>
<path d="M35 33C35 34.6569 36.3431 36 38 36H61C62.6569 36 64 34.6569 64 33C64 31.3431 62.6569 30 61 30H38C36.3431 30 35 31.3431 35 33Z" fill="#D1D1D1"/>
<path d="M35 21C35 22.6569 36.3431 24 38 24H61C62.6569 24 64 22.6569 64 21C64 19.3431 62.6569 18 61 18H38C36.3431 18 35 19.3431 35 21Z" fill="#D1D1D1"/>
<path d="M23.4487 18.673C22.2607 19.0257 21.2652 19.561 20.2363 20.1481C20.0579 20.2498 19.9508 20.4239 19.9508 20.6104V35.4137C19.9508 35.914 20.6673 36.1714 21.1184 35.8649C21.9414 35.306 22.8371 34.9109 23.966 34.6211C25.6498 34.1889 27.3807 34.0335 28.4279 33.9805C29.3106 33.9359 30 33.301 30 32.5329V19.4561C30 18.6971 29.3282 18.0689 28.4631 18.0085C28.4459 18.0073 28.4285 18.0063 28.4111 18.0056L28.4052 18.0053L28.3946 18.0049L28.3645 18.0039C28.3406 18.0031 28.3088 18.0023 28.2698 18.0016C28.2427 18.0011 28.2121 18.0007 28.1781 18.0004C28.114 17.9999 28.0379 17.9998 27.9507 18.0007C27.6842 18.0034 27.3122 18.0152 26.864 18.0505C25.9731 18.1207 24.7515 18.2861 23.4487 18.673Z" fill="#22AC14"/>
<path d="M16.8847 35.8682C17.336 36.174 18.0519 35.9164 18.0519 35.4165V20.6118C18.0519 20.4252 17.9446 20.251 17.766 20.1492C16.7361 19.5623 15.7409 19.026 14.5519 18.673C13.249 18.2861 12.0272 18.1207 11.1362 18.0505C10.6879 18.0152 10.3159 18.0034 10.0494 18.0007C9.94924 17.9997 9.86368 17.9999 9.79421 18.0007C9.77109 18.0009 9.74976 18.0013 9.73026 18.0016C9.6912 18.0023 9.65946 18.0031 9.63549 18.0039L9.6054 18.0049L9.59482 18.0053L9.59066 18.0055L9.58726 18.0056C9.56174 18.0067 9.53638 18.0083 9.51119 18.0104C8.65869 18.0807 8 18.7036 8 19.4547V32.5331C8 33.2999 8.68729 33.9341 9.56833 33.9803C10.6174 34.0353 12.3496 34.1925 14.0346 34.6252C15.1634 34.915 16.0604 35.3097 16.8847 35.8682Z" fill="#22AC14"/>
</svg>
`},82019:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
  <g id="Group_14450901" data-name="Group 14450901" transform="translate(-1268 -148)">
    <rect id="Rectangle_30688901" data-name="Rectangle 30688901" width="16" height="16" rx="4" transform="translate(1268 148)" fill="none"/>
    <g id="Group_7490901" data-name="Group 7490901" transform="translate(1270.03 148.925)">
      <line id="Line_774901" data-name="Line 774901" x2="12" transform="translate(-0.03 7.075)" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>
      <line id="Line_775901" data-name="Line 775901" y1="12" transform="translate(5.97 1.075)" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/>
    </g>
  </g>
</svg>
`},99081:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.0994 12.6979C5.09935 12.5322 4.96505 12.398 4.7994 12.398H3.8C3.08203 12.398 2.5 11.8159 2.5 11.098V4.15096C2.5 3.43299 3.08203 2.85096 3.8 2.85096H8.1047C8.33897 2.85096 8.48613 3.10998 8.38954 3.3234C8.13957 3.87574 8.00756 4.47625 8.00448 5.08684C8.00494 6.2436 8.46406 7.35344 9.28086 8.17114C10.0977 8.98885 11.2052 9.44781 12.36 9.44758C12.9821 9.44554 13.5941 9.30885 14.155 9.04929C14.3689 8.9503 14.6309 9.09747 14.6309 9.33317V11.0963C14.6309 11.8142 14.0489 12.3963 13.3309 12.3963H8.2093C8.137 12.3963 8.06713 12.4224 8.01255 12.4698L5.59668 14.5686C5.40252 14.7373 5.10002 14.5995 5.09993 14.3423L5.0994 12.6979ZM11.5083 6.81874C11.4633 6.63694 11.6054 6.46668 11.7927 6.46668H12.9236C13.111 6.46668 13.2532 6.63705 13.208 6.81889C12.9933 7.6842 12.6408 8.17792 12.3583 8.17792C12.0757 8.17792 11.7229 7.68651 11.5083 6.81874ZM13.8113 6.46668H14.6718C14.896 6.46668 15.0377 6.70274 14.9058 6.88402C14.7559 7.09011 14.5811 7.27759 14.385 7.44223C14.2521 7.55375 14.1106 7.65379 13.962 7.74149C13.7303 7.87817 13.4999 7.6199 13.5902 7.36651C13.6936 7.07585 13.7683 6.77509 13.8128 6.46841C13.8129 6.4675 13.8122 6.46668 13.8113 6.46668ZM9.80963 6.88381C9.67782 6.70257 9.81945 6.46668 10.0435 6.46668H10.6442C10.7935 6.46668 10.919 6.57675 10.9483 6.72317C10.9921 6.94201 11.0513 7.1572 11.1257 7.36714C11.2153 7.62053 10.9848 7.87838 10.7533 7.74176C10.6047 7.65401 10.4632 7.5539 10.3303 7.44223C10.1344 7.27756 9.95955 7.08996 9.80963 6.88381ZM14.2186 5.94543C14.0406 5.94543 13.9023 5.79141 13.9137 5.61383C13.9248 5.44015 13.9305 5.26617 13.9309 5.09193C13.9305 4.91669 13.9248 4.74144 13.9136 4.56654C13.9022 4.38899 14.0406 4.23504 14.2185 4.23504H15.1503C15.2828 4.23504 15.4011 4.32161 15.4296 4.45094C15.476 4.66123 15.4997 4.87621 15.5 5.09193C15.4996 5.3068 15.476 5.52049 15.4297 5.7297C15.4011 5.85896 15.2828 5.94543 15.1505 5.94543H14.2186ZM11.6329 5.94543C11.4801 5.94543 11.3511 5.8306 11.3393 5.67824C11.3242 5.48321 11.3164 5.28775 11.316 5.09193C11.3164 4.8952 11.3242 4.69847 11.3393 4.50231C11.3511 4.34992 11.4801 4.23504 11.633 4.23504H13.0889C13.2417 4.23504 13.3707 4.3499 13.3825 4.50228C13.3976 4.69845 13.4053 4.89519 13.4058 5.09193C13.4053 5.28776 13.3976 5.48323 13.3825 5.67826C13.3708 5.83061 13.2417 5.94543 13.0889 5.94543H11.6329ZM9.573 5.94543C9.44063 5.94543 9.32237 5.85897 9.29377 5.72973C9.24748 5.5205 9.22389 5.30681 9.22354 5.09193C9.22384 4.8762 9.24747 4.66121 9.29387 4.45092C9.32241 4.32159 9.44071 4.23504 9.57315 4.23504H10.5057C10.6834 4.23504 10.8216 4.38858 10.8106 4.5659C10.7998 4.74102 10.7944 4.91649 10.7944 5.09193C10.7944 5.26638 10.7998 5.44057 10.8106 5.61448C10.8216 5.79184 10.6833 5.94543 10.5056 5.94543H9.573ZM14.0757 3.71039C13.9264 3.71039 13.8009 3.60046 13.7716 3.45414C13.7277 3.23501 13.6682 3.01954 13.5938 2.80931C13.5041 2.55603 13.7346 2.29833 13.9661 2.43469C14.1153 2.52259 14.2574 2.62291 14.3907 2.73484C14.5867 2.89938 14.7615 3.08683 14.9114 3.29281C15.0434 3.47414 14.9017 3.71039 14.6774 3.71039H14.0757ZM11.7974 3.71039C11.61 3.71039 11.4678 3.53994 11.5131 3.35808C11.7278 2.49479 12.0802 2 12.3626 2C12.645 2 12.9974 2.49479 13.2122 3.35808C13.2574 3.53994 13.1152 3.71039 12.9278 3.71039H11.7974ZM10.0486 3.71039C9.82432 3.71039 9.68267 3.47418 9.81472 3.29291C9.96481 3.08687 10.1398 2.89945 10.336 2.73484C10.4699 2.62255 10.6126 2.52189 10.7625 2.43375C10.994 2.29764 11.2241 2.55519 11.1344 2.8083C11.0598 3.01885 11.0002 3.23466 10.9562 3.45413C10.9269 3.60046 10.8014 3.71039 10.6521 3.71039H10.0486Z" fill="url(#paint0_linear_14146_2821)"/>
<defs>
<linearGradient id="paint0_linear_14146_2821" x1="9" y1="2" x2="9" y2="15" gradientUnits="userSpaceOnUse">
<stop stop-color="#7F53AC"/>
<stop offset="1" stop-color="#647DEE"/>
</linearGradient>
</defs>
</svg>
`},37566:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="1" y="1" width="14" height="14" rx="2" fill="#05472C"/>
<path d="M10 12C10 11.4627 10.4148 11 10.9926 11C11.5852 11 12 11.4627 12 12C12 12.5374 11.5852 13 11.0074 13C10.4148 13 10 12.5374 10 12Z" fill="#B3D334"/>
<path d="M5.64307 4.96347C5.64307 4.28413 6.27897 3.74144 7.09461 3.74144C8.15913 3.74144 8.7834 4.24344 9.1429 6.80904H9.3641L9.69584 3.3092C7.34566 2.47261 4.40096 3.33709 4.35948 5.86091C4.35948 8.57989 8.65321 8.5784 8.65321 11.0618C8.65321 11.7869 8.01723 12.2889 7.29841 12.2889C5.40313 12.2889 4.95389 10.6853 4.85718 9.01211H4.62207L4 12.1634C4 12.1634 5.41014 13 6.9309 13C8.7558 12.9721 9.9724 11.6196 10 10.1974C10 7.4644 5.64307 6.90163 5.64307 4.96347Z" fill="white"/>
</svg>
`},45728:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.8784 9.14031C14.9346 8.79124 14.9629 8.43828 14.9633 8.08472C14.9633 6.35065 14.2745 4.68759 13.0484 3.46132C11.8223 2.23506 10.1593 1.54603 8.42527 1.54578C8.07293 1.54562 7.7212 1.57403 7.37345 1.63072C6.75403 1.21724 6.02559 0.99729 5.28085 0.998849C4.278 0.999096 3.31635 1.39766 2.60732 2.10687C1.89828 2.81608 1.50001 3.77787 1.50001 4.78072C1.49845 5.46127 1.682 6.12941 2.03105 6.71363C1.93511 7.16434 1.88689 7.62392 1.88727 8.08472C1.8885 9.8179 2.57786 11.4797 3.80383 12.7048C5.02981 13.9299 6.69209 14.6181 8.42527 14.6181C8.88728 14.6179 9.34805 14.5697 9.80009 14.4743C10.3812 14.8159 11.0431 14.9958 11.7171 14.9951C12.7202 14.9951 13.6823 14.5967 14.3917 13.8875C15.1011 13.1783 15.4998 12.2163 15.5 11.2132C15.5002 10.4763 15.284 9.75554 14.8784 9.14031ZM10.4133 11.8227C9.38782 12.2065 8.27102 12.2751 7.20631 12.0197C6.73861 11.966 6.29668 11.7775 5.93426 11.477C5.57183 11.1766 5.30464 10.7772 5.16521 10.3275C5.12512 10.1431 5.15065 9.95049 5.23756 9.78297C5.32447 9.61545 5.46725 9.48357 5.64111 9.41016C5.81496 9.33674 6.00902 9.32638 6.18969 9.3809C6.37036 9.43542 6.52627 9.55139 6.6305 9.70872C6.75929 9.85898 6.87692 10.0167 7.00385 10.1679C7.18365 10.3609 7.39993 10.5164 7.64016 10.6253C7.8804 10.7342 8.13986 10.7945 8.40351 10.8025C8.66716 10.8106 8.92975 10.7664 9.1762 10.6723C9.42265 10.5783 9.64801 10.4363 9.83928 10.2547C9.93952 10.1194 9.99307 9.95516 9.99173 9.78679C9.99038 9.61841 9.93427 9.45505 9.83188 9.32137C9.59575 9.02177 9.32969 9.02365 7.07289 8.44965C6.69856 8.39722 6.34387 8.24994 6.04249 8.02181C5.74111 7.79367 5.50311 7.49228 5.35104 7.14624C5.19896 6.80019 5.13789 6.421 5.17364 6.04471C5.2094 5.66842 5.34079 5.30751 5.55532 4.99631C5.8527 4.63456 6.22681 4.34348 6.65055 4.14412C7.07428 3.94476 7.53703 3.84214 8.00532 3.84365C9.60598 3.72139 11.3653 4.48017 11.5258 5.52364C11.5459 5.61831 11.5467 5.71607 11.5281 5.81104C11.5095 5.906 11.4718 5.9962 11.4174 6.07624C11.363 6.15628 11.2929 6.22448 11.2115 6.27676C11.13 6.32904 11.0388 6.3643 10.9434 6.38044C10.3377 6.52044 10.1295 6.13405 9.79633 5.77845C9.46061 5.46917 9.03409 5.27643 8.5801 5.22884C8.12612 5.18126 7.66894 5.28138 7.27638 5.51433C7.18759 5.57587 7.11392 5.65674 7.06093 5.75088C7.00794 5.84502 6.97703 5.94996 6.97047 6.05778C6.96391 6.16561 6.98191 6.27351 7.02311 6.37338C7.0643 6.47324 7.12758 6.56246 7.20825 6.63431C7.76825 7.08511 9.61432 7.20832 10.5113 7.60498C10.9194 7.75672 11.2698 8.0323 11.5135 8.39314C11.7572 8.75398 11.882 9.182 11.8702 9.61726C11.8866 10.0907 11.755 10.5574 11.4939 10.9526C11.2328 11.3479 10.8551 11.652 10.4133 11.8227Z" fill="url(#paint0_linear_14146_2769)"/>
<defs>
<linearGradient id="paint0_linear_14146_2769" x1="8.50001" y1="0.99884" x2="8.50001" y2="14.9951" gradientUnits="userSpaceOnUse">
<stop stop-color="#00B7F0"/>
<stop offset="1" stop-color="#0089CB"/>
</linearGradient>
</defs>
</svg>
`},55320:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 72 40">
  <g id="Group_16619" data-name="Group 16619" transform="translate(-16 -184)">
    <g id="Component_1200_43" data-name="Component 1200 \u2013 43" transform="translate(16 184)">
      <rect id="Rectangle_24279" data-name="Rectangle 24279" width="72" height="64" rx="6" fill="none"/>
    </g>
    <g id="Group_15489" data-name="Group 15489">
      <g id="Group_13838" data-name="Group 13838" transform="translate(-44 -120.334)">
        <rect id="Rectangle_42509" data-name="Rectangle 42509" width="72" height="40" transform="translate(60 304.334)" fill="none" opacity="0"/>
        <g id="Rectangle_44559" data-name="Rectangle 44559" transform="translate(68 312.334)" fill="#fff" stroke="#0d2e4e" stroke-width="1">
          <rect width="56" height="24" rx="2" stroke="none"/>
          <rect x="0.5" y="0.5" width="55" height="23" rx="1.5" fill="none"/>
        </g>
        <rect id="Rectangle_6778" data-name="Rectangle 6778" width="40" height="6" rx="3" transform="translate(76 321.334)" fill="#d1d1d1"/>
        <rect id="Rectangle_44560" data-name="Rectangle 44560" width="26" height="6" rx="3" transform="translate(76 321.334)" fill="#0d2e4e"/>
        <g id="Ellipse_2990" data-name="Ellipse 2990" transform="translate(96 318.334)" fill="#fff" stroke="#ff4013" stroke-width="2">
          <circle cx="6" cy="6" r="6" stroke="none"/>
          <circle cx="6" cy="6" r="5" fill="none"/>
        </g>
        <g id="Ellipse_2991" data-name="Ellipse 2991" transform="translate(96 318.334)" fill="none" stroke="#fff" stroke-width="2">
          <circle cx="6" cy="6" r="6" stroke="none"/>
          <circle cx="6" cy="6" r="7" fill="none"/>
        </g>
      </g>
    </g>
  </g>
</svg>
`},11969:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="18.084" height="18.108" viewBox="0 0 18.084 18.108">
  <path id="Icon_weather-snowflake-cold" data-name="Icon weather-snowflake-cold" d="M8.952,17.292a.864.864,0,0,1,.24-.6.755.755,0,0,1,.576-.252.781.781,0,0,1,.588.252.843.843,0,0,1,.24.6.788.788,0,0,1-.24.576.811.811,0,0,1-1.152,0A.749.749,0,0,1,8.952,17.292Zm2.376,0a.864.864,0,0,1,.24-.6.755.755,0,0,1,.576-.252H16.02L13.284,13.7a.713.713,0,0,1-.252-.564.832.832,0,0,1,1.428-.588l2.724,2.724V11.424a.826.826,0,0,1,.252-.6.807.807,0,0,1,.6-.252.755.755,0,0,1,.576.252.843.843,0,0,1,.24.6V15.3L21.6,12.54a.793.793,0,0,1,.576-.252.819.819,0,0,1,.588.252.868.868,0,0,1,.216.588.769.769,0,0,1-.216.564l-2.736,2.736H23.9a.748.748,0,0,1,.564.252.843.843,0,0,1,.24.6.82.82,0,0,1-.8.8H20.028l2.748,2.748a.769.769,0,0,1,.216.564.868.868,0,0,1-.216.588.819.819,0,0,1-.588.252.774.774,0,0,1-.576-.252l-2.748-2.76v3.888a.815.815,0,0,1-.24.588.788.788,0,0,1-.576.24.864.864,0,0,1-.6-.24.781.781,0,0,1-.252-.588V19.248l-2.724,2.724a.84.84,0,0,1-1.428-.588.73.73,0,0,1,.252-.564l2.76-2.748H12.168a.788.788,0,0,1-.576-.24A.614.614,0,0,1,11.328,17.292ZM11.34,23.1a.774.774,0,0,1,.252-.576.713.713,0,0,1,.564-.252A.862.862,0,0,1,13,23.1a.774.774,0,0,1-.252.576.8.8,0,0,1-.588.252.713.713,0,0,1-.564-.252A.755.755,0,0,1,11.34,23.1Zm0-11.652a.774.774,0,0,1,.252-.576.713.713,0,0,1,.564-.252.862.862,0,0,1,.84.828.819.819,0,0,1-.252.588.8.8,0,0,1-.588.252.713.713,0,0,1-.564-.252A.819.819,0,0,1,11.34,11.448ZM17.16,25.5a.748.748,0,0,1,.252-.564.843.843,0,0,1,.6-.24.82.82,0,0,1,.816.8.815.815,0,0,1-.24.588.788.788,0,0,1-.576.24.864.864,0,0,1-.6-.24A.763.763,0,0,1,17.16,25.5Zm0-16.452a.781.781,0,0,1,.252-.588.843.843,0,0,1,.6-.24.788.788,0,0,1,.576.24.815.815,0,0,1,.24.588.82.82,0,0,1-.816.8.864.864,0,0,1-.6-.24A.748.748,0,0,1,17.16,9.048ZM23,23.1a.774.774,0,0,1,.252-.576.713.713,0,0,1,.564-.252.862.862,0,0,1,.84.828.774.774,0,0,1-.252.576.8.8,0,0,1-.588.252.713.713,0,0,1-.564-.252A.755.755,0,0,1,23,23.1Zm0-11.652a.774.774,0,0,1,.252-.576.713.713,0,0,1,.564-.252.862.862,0,0,1,.84.828.819.819,0,0,1-.252.588.8.8,0,0,1-.588.252.713.713,0,0,1-.564-.252A.819.819,0,0,1,23,11.448Zm2.4,5.844a.864.864,0,0,1,.24-.6.781.781,0,0,1,.588-.252.748.748,0,0,1,.564.252.843.843,0,0,1,.24.6.82.82,0,0,1-.8.8.815.815,0,0,1-.588-.24A.781.781,0,0,1,25.4,17.292Z" transform="translate(-8.952 -8.22)" fill="currentColor"/>
</svg>
`},2550:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="72" height="64" viewBox="0 0 72 64"><g transform="translate(-446 -144)"><rect width="72" height="64" rx="6" transform="translate(446 144)" fill="none"/><rect width="12" height="6" rx="3" transform="translate(454 164)" fill="#ff6100"/><rect width="12" height="6" rx="3" transform="translate(470 164)" fill="#0091ea" opacity="0.5"/><rect width="12" height="6" rx="3" transform="translate(486 164)" fill="#0091ea" opacity="0.5"/><rect width="56" height="6" rx="3" transform="translate(454 174)" fill="#d1d1d1"/><rect width="56" height="6" rx="3" transform="translate(454 184)" fill="#d1d1d1"/></g></svg>'},70353:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_14146_6507)">
<path opacity="0.5" d="M12.9998 3.99999C12.6119 3.99206 12.23 4.09623 11.8998 4.29999C11.8998 4.49999 11.9998 4.79999 11.9998 4.99999C11.9818 5.75426 11.738 6.48578 11.2998 7.09999C11.4823 7.38314 11.7345 7.61462 12.0322 7.77223C12.3298 7.92983 12.6631 8.00827 12.9998 7.99999C13.5302 7.99999 14.0389 7.78928 14.414 7.41421C14.7891 7.03913 14.9998 6.53043 14.9998 5.99999C14.9998 5.46956 14.7891 4.96085 14.414 4.58578C14.0389 4.21071 13.5302 3.99999 12.9998 3.99999Z" fill="#0D2E4E"/>
<path opacity="0.5" d="M12.4 9.8C13.199 10.498 13.7295 11.4529 13.9 12.5H16C16 10.7 14.6 9.5 12.6 9.5H12C12.1 9.6 12.3 9.7 12.4 9.8Z" fill="#0D2E4E"/>
<path d="M8.5 2.5C8.00555 2.5 7.5222 2.64662 7.11108 2.92132C6.69995 3.19603 6.37952 3.58647 6.1903 4.04329C6.00108 4.5001 5.95157 5.00277 6.04804 5.48772C6.1445 5.97267 6.3826 6.41813 6.73223 6.76776C7.08187 7.11739 7.52732 7.3555 8.01228 7.45196C8.49723 7.54842 8.9999 7.49891 9.45671 7.30969C9.91353 7.12048 10.304 6.80004 10.5787 6.38892C10.8534 5.9778 11 5.49445 11 5C11.0032 4.6708 10.9407 4.34427 10.8162 4.03951C10.6917 3.73474 10.5077 3.45787 10.2749 3.22508C10.0421 2.99229 9.76525 2.80827 9.46049 2.68376C9.15573 2.55926 8.8292 2.49679 8.5 2.5Z" fill="#0D2E4E"/>
<path opacity="0.5" d="M4 3.99999C4.3879 3.99206 4.76984 4.09623 5.1 4.29999C5.1 4.49999 5 4.79999 5 4.99999C5.018 5.75426 5.26184 6.48578 5.7 7.09999C5.51754 7.38314 5.26535 7.61462 4.96765 7.77223C4.66996 7.92983 4.33674 8.00827 4 7.99999C3.46957 7.99999 2.96086 7.78928 2.58579 7.41421C2.21071 7.03913 2 6.53043 2 5.99999C2 5.46956 2.21071 4.96085 2.58579 4.58578C2.96086 4.21071 3.46957 3.99999 4 3.99999Z" fill="#0D2E4E"/>
<path d="M13 13.5C13 11.1 11.2 9.5 8.5 9.5C5.8 9.5 4 11.1 4 13.5H13Z" fill="#0D2E4E"/>
<path opacity="0.5" d="M4.6 9.8C3.80101 10.498 3.27053 11.4529 3.1 12.5H1C1 10.7 2.4 9.5 4.4 9.5H5C4.9 9.6 4.7 9.7 4.6 9.8Z" fill="#0D2E4E"/>
</g>
<defs>
<clipPath id="clip0_14146_6507">
<rect width="16" height="16" fill="white" transform="translate(0.5)"/>
</clipPath>
</defs>
</svg>
`},26969:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 40">
  <g transform="translate(-60 -304.334)">
    <g fill="#fff" stroke="#0d2e4e" transform="translate(68 312.334)">
      <rect width="56" height="24" stroke="none" rx="2"/>
      <rect width="55" height="23" x=".5" y=".5" fill="none" rx="1.5"/>
    </g>
    <rect width="24" height="6" fill="#d1d1d1" rx="3" transform="translate(76 321.334)"/>
  </g>
  <text fill="#ff4013" font-family="OpenSans-Bold, Open Sans" font-size="15" font-weight="700" transform="translate(48 25)"><tspan x="0" y="0">T</tspan></text>
</svg>
`},38799:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"><path d="M10 2l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
`},66024:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none"><path d="M6 14l6-6-6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
`},60306:P=>{P.exports=`<svg width="72" height="64" viewBox="0 0 72 64" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M35.4568 20.9721C27.4629 20.9721 20.9826 27.4524 20.9826 35.4462C20.9826 43.4401 27.4629 49.9204 35.4568 49.9204C43.4506 49.9204 49.9309 43.4401 49.9309 35.4462C49.9309 27.4524 43.4506 20.9721 35.4568 20.9721ZM18.5933 35.4462C18.5933 26.7454 25.1826 19.5837 33.6433 18.6791C34.2391 18.6154 34.8441 18.5827 35.4568 18.5827C36.07 18.5827 36.6756 18.6154 37.2718 18.6792C45.7317 19.5845 52.3203 26.7459 52.3203 35.4462C52.3203 44.7597 44.7703 52.3097 35.4568 52.3097C26.1433 52.3097 18.5933 44.7597 18.5933 35.4462Z" fill="#D1D1D1"/>
<path d="M22.6142 24.5167C23.1587 23.8775 23.7501 23.2794 24.383 22.7279L22.6423 21.0055L20.8666 22.7812L22.6142 24.5167Z" fill="#D1D1D1"/>
<path d="M46.4037 22.6183C47.0498 23.1729 47.6843 23.802 48.2399 24.4471L49.8386 22.7814L48.0511 20.9939L46.4037 22.6183Z" fill="#D1D1D1"/>
<path d="M33.6433 18.6791C34.2391 18.6154 34.8441 18.5827 35.4568 18.5827C36.07 18.5827 36.6756 18.6154 37.2718 18.6792V16.469H33.6433V18.6791Z" fill="#D1D1D1"/>
<path d="M35.457 35.4464L42.508 28.3954" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M31.873 12.6903C31.873 12.138 32.3208 11.6903 32.873 11.6903H38.0412C38.5935 11.6903 39.0412 12.138 39.0412 12.6903V15.4691C39.0412 16.0214 38.5935 16.4691 38.0412 16.4691H32.873C32.3208 16.4691 31.873 16.0214 31.873 15.4691V12.6903Z" fill="#004FD6"/>
<path d="M18.2437 21.75C17.8532 21.3595 17.8532 20.7263 18.2437 20.3358L20.2086 18.3709C20.5991 17.9804 21.2323 17.9804 21.6228 18.3709L22.7429 19.491C23.1335 19.8816 23.1335 20.5147 22.7429 20.9052L20.7781 22.8701C20.3875 23.2607 19.7544 23.2607 19.3638 22.8701L18.2437 21.75Z" fill="#004FD6"/>
<path d="M49.0827 18.3542C49.4733 17.9637 50.1064 17.9637 50.497 18.3542L52.4618 20.3191C52.8524 20.7096 52.8524 21.3428 52.4618 21.7333L51.3417 22.8534C50.9512 23.2439 50.318 23.2439 49.9275 22.8534L47.9626 20.8885C47.5721 20.498 47.5721 19.8648 47.9626 19.4743L49.0827 18.3542Z" fill="#004FD6"/>
</svg>
`},71462:P=>{P.exports=`<svg width="72" height="64" viewBox="0 0 72 64" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="10" y="13" width="15.3333" height="6" rx="2" fill="#80C8F4"/>
	<rect x="28.3333" y="13" width="15.3333" height="6" rx="2" fill="#80C8F4"/>
	<rect x="46.6667" y="13" width="15.3333" height="6" rx="2" fill="#004FD6"/>
	<path d="M53 30H19C17.3431 30 16 31.3431 16 33C16 34.6569 17.3431 36 19 36H53C54.6569 36 56 34.6569 56 33C56 31.3431 54.6569 30 53 30Z" fill="#D1D1D1"/>
	<path d="M53 40H19C17.3431 40 16 41.3431 16 43C16 44.6569 17.3431 46 19 46H53C54.6569 46 56 44.6569 56 43C56 41.3431 54.6569 40 53 40Z" fill="#D1D1D1"/>
	<rect x="9.5" y="23.5" width="53" height="29" rx="3.5" stroke="#70ACEE"/>
</svg>
`},33754:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor">
	<path d="M24 24H0V0h24v24z" fill="none" opacity=".87"  stroke="none"/>
	<path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z" />
</svg>
`},54657:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor">
	<path d="M0 0h24v24H0V0z" fill="none"/>
	<path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6-6-6z" />
</svg>
`},53825:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M16.5 3.41914C15.9356 3.66147 15.3387 3.82248 14.7277 3.89721C15.3716 3.52101 15.8529 2.9253 16.0805 2.22295C15.4777 2.57503 14.8182 2.82298 14.1305 2.95607C13.7087 2.5134 13.1614 2.20579 12.5599 2.07316C11.9583 1.94053 11.3301 1.98901 10.7568 2.21229C10.1836 2.43558 9.6917 2.82337 9.34501 3.32534C8.99832 3.82732 8.81283 4.42032 8.81261 5.02739C8.81018 5.25932 8.83402 5.49078 8.88371 5.7175C7.66032 5.65845 6.46337 5.34578 5.3711 4.79996C4.27883 4.25414 3.31584 3.48745 2.54509 2.55C2.1493 3.21621 2.02666 4.00606 2.2022 4.75829C2.37774 5.51052 2.83822 6.16841 3.48964 6.59764C3.00283 6.58479 2.5263 6.45684 2.10024 6.22458V6.25758C2.10117 6.95684 2.34667 7.63445 2.79543 8.17637C3.24419 8.71829 3.86881 9.09145 4.56419 9.23305C4.30107 9.30144 4.02989 9.33508 3.75777 9.33306C3.56245 9.33636 3.36733 9.31893 3.17581 9.28106C3.37462 9.88196 3.75765 10.4074 4.27218 10.7852C4.78672 11.1629 5.40748 11.3743 6.04906 11.3904C4.96063 12.2288 3.61822 12.6838 2.23634 12.6826C1.99023 12.6841 1.74428 12.6701 1.5 12.6406C2.90617 13.533 4.54477 14.0051 6.21765 13.9998C7.36917 14.0078 8.51083 13.7903 9.57629 13.3601C10.6418 12.9299 11.6098 12.2955 12.4241 11.4937C13.2385 10.692 13.883 9.73885 14.3201 8.68973C14.7572 7.64061 14.9783 6.51641 14.9704 5.38245C14.9704 5.24843 14.9704 5.11941 14.9593 4.99139C15.5656 4.56388 16.0877 4.03109 16.5 3.41914Z" fill="#03A9F4"/>
</svg>
`},3100:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.7785 9.09974C15.1959 5.58922 14.5782 3.37307 13.4662 2.37081C11.6675 0.658406 5.59242 0.404779 3.44287 2.4469C2.48051 3.44653 2.13679 4.91231 2.09917 6.73229C2.06155 8.55226 2.01781 11.9491 5.18833 12.8718V14.2816C5.18833 14.2816 5.16654 14.8518 5.53136 14.9663C5.94867 15.1019 6.13764 14.8369 7.43594 13.2872C8.78505 13.4156 10.1461 13.3121 11.4602 12.9811C11.8976 12.8342 14.3778 12.5062 14.7794 9.10499L14.7785 9.09974ZM7.64761 12.291C7.64761 12.291 6.27398 14.0026 5.84704 14.4469C5.70706 14.592 5.55396 14.578 5.55571 14.2912C5.55571 14.104 5.56617 11.9526 5.56617 11.9526C2.87858 11.1821 3.03701 8.28551 3.06588 6.77076C2.9684 5.47325 3.37081 4.1876 4.19086 3.17716C6.07795 1.40791 11.4026 1.80409 12.7595 3.07834C14.4217 4.54849 13.8276 8.70007 13.8311 8.84175C13.4899 11.6815 11.4813 11.8616 11.1112 11.9841C9.98036 12.27 8.81113 12.3736 7.64761 12.291Z" fill="#8E24AA"/>
<path d="M8.40686 3.51034C8.36046 3.51034 8.31601 3.52877 8.2832 3.56158C8.25038 3.59438 8.23193 3.63887 8.23193 3.68526C8.23193 3.73165 8.25038 3.77613 8.2832 3.80894C8.31601 3.84174 8.36046 3.86017 8.40686 3.86017C8.84964 3.85547 9.28841 3.94359 9.69503 4.11885C10.1016 4.2941 10.4671 4.5526 10.7677 4.87768C11.0682 5.20276 11.2973 5.58719 11.4401 6.00619C11.5829 6.42519 11.6361 6.86946 11.5966 7.31034C11.5908 7.33596 11.5908 7.36256 11.5966 7.38817C11.6025 7.41378 11.614 7.43776 11.6304 7.4583C11.6468 7.47883 11.6676 7.49541 11.6912 7.50681C11.7149 7.5182 11.741 7.52413 11.7673 7.52413C11.7936 7.52413 11.8194 7.5182 11.8431 7.50681C11.8668 7.49541 11.8876 7.47883 11.904 7.4583C11.9204 7.43776 11.9319 7.41378 11.9377 7.38817C11.9436 7.36256 11.9438 7.33596 11.9379 7.31034C11.9773 6.82416 11.9148 6.33512 11.7549 5.87429C11.595 5.41347 11.3409 4.99094 11.0088 4.63356C10.6767 4.27619 10.2739 3.99177 9.82596 3.7984C9.37801 3.60503 8.89479 3.50693 8.40686 3.51034Z" fill="#8E24AA"/>
<path d="M10.6954 6.94484C10.6887 6.97039 10.688 6.99713 10.6931 7.02305C10.6982 7.04897 10.709 7.07341 10.7249 7.09451C10.7408 7.11562 10.7612 7.13285 10.7847 7.14491C10.8082 7.15698 10.8343 7.16356 10.8607 7.16417C10.8872 7.16478 10.9134 7.1594 10.9374 7.14844C10.9615 7.13747 10.9825 7.12121 10.9994 7.10086C11.0162 7.08051 11.0283 7.05661 11.0346 7.03095C11.0409 7.00529 11.0414 6.97854 11.0359 6.95271C11.0581 6.63279 11.015 6.31169 10.909 6.00899C10.8031 5.70629 10.6364 5.42833 10.4195 5.19207C10.2025 4.95582 9.93976 4.76621 9.64711 4.63481C9.35447 4.50342 9.03812 4.43299 8.71735 4.42783C8.67095 4.4247 8.6253 4.44012 8.59027 4.47071C8.55524 4.5013 8.53381 4.54455 8.53068 4.59094C8.52754 4.63733 8.54279 4.68306 8.57339 4.71808C8.60399 4.7531 8.64745 4.77453 8.69386 4.77766C8.97061 4.7783 9.24417 4.836 9.4976 4.94716C9.75103 5.05832 9.9787 5.22055 10.1666 5.4237C10.3544 5.62685 10.4985 5.86656 10.5895 6.12784C10.6805 6.38912 10.7165 6.66636 10.6954 6.94222V6.94484Z" fill="#8E24AA"/>
<path d="M10.3295 8.44818C10.2203 8.37797 10.0894 8.34948 9.96088 8.36795C9.83233 8.38642 9.71465 8.45062 9.62961 8.54875L9.37693 8.87671C9.33043 8.92726 9.27281 8.96654 9.20883 8.99154C9.14485 9.01655 9.0761 9.02664 9.00763 9.02102C8.47516 8.85136 7.99312 8.55236 7.60455 8.1508C7.21599 7.74925 6.9331 7.25766 6.78116 6.72002C6.77555 6.65007 6.78493 6.57974 6.80893 6.51379C6.83293 6.44784 6.87094 6.38783 6.92021 6.33784L7.23697 6.07546C7.33393 5.98393 7.39635 5.86187 7.41403 5.72972C7.43171 5.59757 7.40343 5.46337 7.33394 5.34958C7.08799 4.90316 6.79725 4.48295 6.46612 4.09545C6.39418 4.0012 6.28914 3.93776 6.17222 3.91795C6.05529 3.89815 5.93522 3.92345 5.83624 3.98875H5.8309C5.3261 4.28348 4.77506 4.83533 4.95091 5.40292C5.47743 6.91917 6.3783 8.27797 7.57017 9.35335C8.38465 10.0039 9.29509 10.5244 10.2691 10.8961L10.2744 10.904C10.823 11.0868 11.3575 10.5139 11.6418 9.99529V9.99091C11.7053 9.88936 11.73 9.76842 11.7117 9.65011C11.6934 9.5318 11.6332 9.424 11.5421 9.34636C11.1729 9.00353 10.7671 8.70233 10.3321 8.44818H10.3295Z" fill="#8E24AA"/>
<path d="M8.95877 5.72767C9.51898 5.76094 9.79111 6.0533 9.81999 6.65465C9.81556 6.68049 9.81709 6.707 9.82427 6.73221C9.83145 6.75743 9.84407 6.7807 9.86145 6.80033C9.87883 6.81996 9.90033 6.83545 9.9245 6.84562C9.94866 6.8558 9.97481 6.86043 10.001 6.85915C10.0272 6.85788 10.0527 6.85073 10.0758 6.83825C10.0989 6.82577 10.119 6.80827 10.1344 6.78704C10.1497 6.76582 10.16 6.74141 10.1647 6.71561C10.1694 6.68982 10.1684 6.6633 10.1615 6.63801C10.1743 6.47559 10.153 6.31228 10.0991 6.15854C10.0452 6.0048 9.95969 5.86401 9.8482 5.74519C9.73672 5.62637 9.60157 5.53215 9.45157 5.46854C9.30157 5.40493 9.14006 5.37334 8.97715 5.37579C8.93072 5.37335 8.88519 5.38946 8.85063 5.42057C8.81608 5.45168 8.79516 5.49523 8.79272 5.54166C8.79028 5.5881 8.80649 5.6336 8.8376 5.66815C8.86871 5.70271 8.91234 5.72349 8.95877 5.72592V5.72767Z" fill="#8E24AA"/>
</svg>
`},67093:P=>{P.exports=`<svg width="100%" height="100%" viewBox="0 0 72 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="8.5" y="8.5" width="55" height="23" rx="0.5" fill="white" stroke="#0D2E4E"/>
<rect width="24" height="6" fill="#d1d1d1" rx="3" transform="translate(16 17)"></rect>
<path transform="translate(8,8)" d="M44 18C47.3137 18 50 15.3137 50 12C50 8.68629 47.3137 6 44 6C40.6863 6 38 8.68629 38 12C38 15.3137 40.6863 18 44 18Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path transform="translate(8,8)" d="M38 12H50" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path transform="translate(8,8)" d="M44 17.8375C45.3807 17.8375 46.5 15.2239 46.5 12C46.5 8.77601 45.3807 6.16248 44 6.16248C42.6193 6.16248 41.5 8.77601 41.5 12C41.5 15.2239 42.6193 17.8375 44 17.8375Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},55958:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.8378 2.65553C12.4194 1.27456 10.5173 0.501155 8.53647 0.500006C7.22902 0.498375 5.94415 0.840236 4.81077 1.49127C3.67738 2.14231 2.7353 3.07964 2.07918 4.20918C1.42306 5.33873 1.07593 6.62076 1.0726 7.92664C1.06926 9.23252 1.40989 10.5163 2.06023 11.6492L1 15.5L4.96537 14.468C6.06896 15.0486 7.295 15.3584 8.54223 15.372C10.0149 15.373 11.4549 14.9382 12.6803 14.1225C13.9058 13.3068 14.8618 12.1468 15.4277 10.7889C15.9936 9.43093 16.1441 7.93598 15.8601 6.49271C15.5761 5.04944 14.8704 3.72257 13.832 2.67959L13.8378 2.65553Z" fill="#ECEFF1"/>
<path d="M8.55013 14.0049H8.5366C7.35102 14.0024 6.19088 13.6613 5.19294 13.022L2.87963 13.6227L3.5004 11.3758L3.35192 11.1447C2.74061 10.1731 2.41654 9.04885 2.41699 7.90135C2.42715 6.69384 2.79384 5.51617 3.47111 4.51588C4.14838 3.51559 5.10611 2.73717 6.22435 2.27812C7.34258 1.81907 8.57153 1.69981 9.75732 1.93529C10.9431 2.17077 12.033 2.75051 12.8904 3.60188C13.7429 4.4566 14.3225 5.54464 14.5557 6.7284C14.789 7.91215 14.6655 9.13843 14.2009 10.2521C13.7362 11.3657 12.9513 12.3167 11.9454 12.9847C10.9396 13.6527 9.75805 14.0078 8.55013 14.0049Z" fill="#4CAF50"/>
<path d="M11.7395 9.53889L11.7347 9.58799C11.5583 9.49172 10.6986 9.01037 10.5386 8.94587C10.1791 8.79472 10.2803 8.9218 9.59013 9.81809C9.48699 9.94805 9.38572 9.95865 9.21126 9.86815C8.68421 9.62865 8.20609 9.29376 7.80111 8.88041C7.41371 8.46927 7.086 8.00586 6.82759 7.50374C6.65602 7.16679 7.0156 7.11865 7.34235 6.41587C7.36579 6.36027 7.37655 6.30016 7.37388 6.23989C7.37122 6.17962 7.35519 6.12069 7.32694 6.06737C7.28356 5.9711 6.93268 4.98911 6.78617 4.59921C6.63966 4.20931 6.49707 4.26035 6.39201 4.26035C6.25017 4.22117 6.10027 4.22183 5.95879 4.26226C5.8173 4.30268 5.68968 4.38131 5.59004 4.48948C4.64352 5.6688 4.88156 6.88661 5.69217 8.1805C7.28352 10.543 8.1327 10.9791 9.68261 11.5818C10.0368 11.7045 10.417 11.7324 10.7853 11.6626C11.0388 11.5981 11.2755 11.4801 11.4795 11.3165C11.6835 11.153 11.85 10.9476 11.9679 10.7144C12.0851 10.4128 12.1217 10.086 12.0739 9.76609C12.0306 9.67655 11.9159 9.62652 11.7395 9.53698V9.53889Z" fill="#FAFAFA"/>
</svg>
`},55473:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.5 8C14.5 9.72391 13.8152 11.3772 12.5962 12.5962C11.3772 13.8152 9.72391 14.5 8 14.5C6.27609 14.5 4.6228 13.8152 3.40381 12.5962C2.18482 11.3772 1.5 9.72391 1.5 8C1.5 6.27609 2.18482 4.6228 3.40381 3.40381C4.6228 2.18482 6.27609 1.5 8 1.5C9.72391 1.5 11.3772 2.18482 12.5962 3.40381C13.8152 4.6228 14.5 6.27609 14.5 8Z" fill="#0048D1" stroke="white" stroke-miterlimit="10"/>
<path d="M10.5 7.99768C10.5 11.5317 9.381 14.3976 8 14.3976C6.619 14.3976 5.5 11.5317 5.5 7.99768C5.5 4.46368 6.619 1.59766 8 1.59766C9.381 1.59766 10.5 4.46268 10.5 7.99768Z" fill="#0048D1" stroke="white" stroke-miterlimit="10"/>
<path d="M2 5.5H14" stroke="white" stroke-miterlimit="10"/>
<path d="M2 10.5H14" stroke="white" stroke-miterlimit="10"/>
</svg>
`},32983:P=>{P.exports=`<svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.3488 4.56511C15.1841 3.95319 14.7016 3.47071 14.0897 3.30596C12.9717 3 8.49997 3 8.49997 3C8.49997 3 4.02822 3 2.91028 3.29419C2.31012 3.45894 1.81588 3.95319 1.65113 4.56511C1.35693 5.68305 1.35693 8.0013 1.35693 8.0013C1.35693 8.0013 1.35693 10.3313 1.65113 11.4375C1.81588 12.0494 2.29836 12.5319 2.91028 12.6966C4.03999 13.0026 8.49997 13.0026 8.49997 13.0026C8.49997 13.0026 12.9717 13.0026 14.0897 12.7084C14.7016 12.5437 15.1841 12.0612 15.3488 11.4493C15.643 10.3313 15.643 8.01307 15.643 8.01307C15.643 8.01307 15.6548 5.68305 15.3488 4.56511Z" fill="#FF0000"/>
<path d="M7.07617 10.143L10.7948 8.00129L7.07617 5.85956V10.143Z" fill="white"/>
</svg>
`},77700:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15 7.99785C15 4.1326 11.8674 1 8 1C4.1326 1 1 4.1326 1 7.99785C1 11.8631 4.13475 14.9979 8 14.9979C11.8653 14.9979 15 11.8631 15 7.99785Z" fill="#008CFF"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.29161 5.5H3.5V9.20355C3.53995 10.6607 4.86418 10.4942 4.86418 10.4942H9.5V6.62429C9.46005 5.62587 8.29161 5.5 8.29161 5.5ZM12.5 10.5V5.5L10.5 6.99808V9.0382L12.5 10.5Z" fill="white"/>
</svg>
`},3522:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="72" height="40" viewBox="0 0 72 40">
  <g transform="translate(-60 -304.334)">
    <rect width="72" height="40" transform="translate(60 304.334)" fill="none" opacity="0"/>
    <g transform="translate(68 312.334)" fill="#fff" stroke="#0d2e4e" stroke-width="1">
      <rect width="56" height="24" rx="2" stroke="none"/>
      <rect x="0.5" y="0.5" width="55" height="23" rx="1.5" fill="none"/>
    </g>
    <rect width="24" height="6" rx="3" transform="translate(76 321.334)" fill="#d1d1d1"/>
  </g>
  <g transform="translate(-14416 23128)">
    <rect width="16" height="16" transform="translate(14460 -23116)" fill="none"/>
    <path d="M1895.033,260.278h-4.149v-9h12v2" transform="translate(12569.617 -23364.777)" fill="none" stroke="#ff4013" stroke-width="1.5"/>
    <path d="M0,0H4.5" transform="translate(14461 -23110.5)" fill="none" stroke="#ff4013" stroke-width="1.5"/>
    <line y2="4" transform="translate(14463.5 -23116)" fill="none" stroke="#ff4013" stroke-width="1.5"/>
    <line y2="4" transform="translate(14469.5 -23116)" fill="none" stroke="#ff4013" stroke-width="1.5"/>
    <g transform="translate(12570.236 -23364.582)" fill="none">
      <path d="M1905.764,258.584a5,5,0,1,1-5-5A5,5,0,0,1,1905.764,258.584Z" stroke="none"/>
      <path d="M 1900.7626953125 262.0840454101562 C 1902.693237304688 262.0840454101562 1904.263916015625 260.5139770507812 1904.263916015625 258.5840759277344 C 1904.263916015625 256.653564453125 1902.693237304688 255.0829772949219 1900.7626953125 255.0829772949219 C 1898.83349609375 255.0829772949219 1897.263916015625 256.653564453125 1897.263916015625 258.5840759277344 C 1897.263916015625 260.5139770507812 1898.83349609375 262.0840454101562 1900.7626953125 262.0840454101562 M 1900.7626953125 263.5840454101562 C 1898.000244140625 263.5840454101562 1895.763916015625 261.3454284667969 1895.763916015625 258.5840759277344 C 1895.763916015625 255.8215942382812 1898.000244140625 253.5829772949219 1900.7626953125 253.5829772949219 C 1903.524169921875 253.5829772949219 1905.763916015625 255.8215942382812 1905.763916015625 258.5840759277344 C 1905.763916015625 261.3454284667969 1903.524169921875 263.5840454101562 1900.7626953125 263.5840454101562 Z" stroke="none" fill="#ff4013"/>
    </g>
    <path d="M1900.1,254.194v5h2.5" transform="translate(12570.902 -23364.695)" fill="none" stroke="#ff4013" stroke-width="1.5"/>
  </g>
</svg>
`},31354:P=>{P.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.533 11.3618C14.6608 12.2665 13.4582 13.324 12.9317 13.9275C12.5558 14.3798 12.1041 14.8321 8.87494 13.0228C7.70062 12.3935 6.63518 11.5782 5.71967 10.6083C4.74935 9.6741 3.91405 8.60834 3.23788 7.44197C1.50789 4.19695 1.95946 3.66863 2.41022 3.37099C3.01152 2.84267 4.06453 1.71089 4.96694 2.76753C6.47066 4.57686 6.62119 5.40919 6.09471 5.86152C5.71878 6.08769 5.79362 6.16368 5.56824 6.31385C4.96694 6.91726 5.11747 7.8988 6.54546 9.33269L6.77084 9.63483C7.8238 10.6915 9.17699 11.2198 9.7792 10.6915C9.97273 10.4797 10.1488 10.2525 10.3057 10.0121C10.8321 9.48375 11.3587 9.63483 13.5394 11.3691" fill="#22AC14"/>
</svg>
`},12076:P=>{P.exports=`<svg width="100%" height="100%" viewBox="0 0 72 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="8.5" y="8.5" width="55" height="23" rx="0.5" fill="white" stroke="#0D2E4E"/>
<rect width="24" height="6" fill="#d1d1d1" rx="3" transform="translate(16 17)"></rect>
<path transform="translate(8,8)" d="M42.3353 6.83815L43.2638 6.46676L43.2638 6.46676L42.3353 6.83815ZM43.0381 8.59524L42.1097 8.96663L42.1097 8.96663L43.0381 8.59524ZM42.8245 9.94398L42.0563 9.3038L42.0563 9.30383L42.8245 9.94398ZM42.4463 10.3979L43.2145 11.0381L43.2145 11.0381L42.4463 10.3979ZM42.5276 12.1943L41.8205 12.9014L41.8205 12.9015L42.5276 12.1943ZM43.8057 13.4724L44.5128 12.7653L44.5128 12.7652L43.8057 13.4724ZM45.6021 13.5538L44.962 12.7855L44.9619 12.7856L45.6021 13.5538ZM46.0561 13.1755L46.6962 13.9439L46.6963 13.9438L46.0561 13.1755ZM47.4048 12.9619L47.7762 12.0335L47.7761 12.0334L47.4048 12.9619ZM49.1617 13.6648L48.7903 14.5932L48.7903 14.5932L49.1617 13.6648ZM49.9999 14.9027H48.9999V14.9027L49.9999 14.9027ZM50 16.7369H51V16.7368L50 16.7369ZM41.0973 7C41.2336 7 41.3562 7.08298 41.4068 7.20954L43.2638 6.46676C42.9094 5.58089 42.0514 5 41.0973 5V7ZM41.4068 7.20953L42.1097 8.96663L43.9666 8.22386L43.2638 6.46676L41.4068 7.20953ZM42.1097 8.96663C42.1552 9.08044 42.1346 9.20985 42.0563 9.3038L43.5928 10.5842C44.1415 9.92566 44.2849 9.01947 43.9666 8.22385L42.1097 8.96663ZM42.0563 9.30383L41.678 9.75777L43.2145 11.0381L43.5928 10.5841L42.0563 9.30383ZM41.6781 9.75774C40.9057 10.6846 40.9669 12.0479 41.8205 12.9014L43.2347 11.4872C43.113 11.3655 43.104 11.1708 43.2145 11.0381L41.6781 9.75774ZM41.8205 12.9015L43.0986 14.1795L44.5128 12.7652L43.2347 11.4872L41.8205 12.9015ZM43.0986 14.1795C43.952 15.0328 45.3152 15.0946 46.2422 14.322L44.9619 12.7856C44.8294 12.896 44.6347 12.8871 44.5128 12.7653L43.0986 14.1795ZM46.2421 14.3221L46.6962 13.9439L45.4161 12.4072L44.962 12.7855L46.2421 14.3221ZM46.6963 13.9438C46.7903 13.8654 46.9196 13.8449 47.0334 13.8904L47.7761 12.0334C46.9805 11.7152 46.0744 11.8586 45.4159 12.4073L46.6963 13.9438ZM47.0333 13.8904L48.7903 14.5932L49.5331 12.7363L47.7762 12.0335L47.0333 13.8904ZM48.7903 14.5932C48.917 14.6439 48.9999 14.7665 48.9999 14.9027H50.9999C50.9999 13.9485 50.4189 13.0906 49.5331 12.7363L48.7903 14.5932ZM48.9999 14.9027L49 16.7369L51 16.7368L50.9999 14.9026L48.9999 14.9027ZM49 16.7369C49 16.8823 48.8822 17 48.737 17V19C49.987 19 51 17.9867 51 16.7369H49ZM48.737 17C43.3594 17 39 12.6407 39 7.26318H37C37 13.7453 42.2549 19 48.737 19V17ZM39 7.26318C39 7.11782 39.1178 7 39.2632 7V5C38.0132 5 37 6.0133 37 7.26318H39ZM39.2632 7H41.0973V5H39.2632V7Z" fill="#FF4013"/>
</svg>
`},86142:P=>{P.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M9.91327 3.69279C9.53448 3.69279 9.17121 3.84326 8.90337 4.1111L4.46517 8.54931C3.98313 9.03135 3.71232 9.68513 3.71232 10.3668C3.71232 11.0485 3.98313 11.7023 4.46517 12.1844C4.94721 12.6664 5.60099 12.9372 6.2827 12.9372C6.96441 12.9372 7.6182 12.6664 8.10024 12.1844L12.5384 7.74617C12.8728 7.41182 13.4149 7.41182 13.7492 7.74617C14.0836 8.08052 14.0836 8.62261 13.7492 8.95696L9.31103 13.3952C8.50787 14.1983 7.41854 14.6495 6.2827 14.6495C5.14686 14.6495 4.05754 14.1983 3.25437 13.3952C2.45121 12.592 2 11.5027 2 10.3668C2 9.231 2.45121 8.14168 3.25437 7.33851L7.69258 2.90031C8.28154 2.31134 9.08035 1.98047 9.91327 1.98047C10.7462 1.98047 11.545 2.31134 12.1339 2.90031C12.7229 3.48927 13.0538 4.28807 13.0538 5.12099C13.0538 5.95391 12.7229 6.75271 12.1339 7.34167L7.69003 11.7799C7.3153 12.1544 6.80683 12.3652 6.27699 12.3652C5.747 12.3652 5.23871 12.1546 4.86395 11.7799C4.48919 11.4051 4.27865 10.8968 4.27865 10.3668C4.27865 9.83685 4.48919 9.32856 4.86395 8.9538L8.90298 4.92049C9.23753 4.58633 9.77962 4.58665 10.1138 4.9212C10.4479 5.25575 10.4476 5.79784 10.1131 6.13199L6.07475 10.1646C6.02116 10.2182 5.99097 10.291 5.99097 10.3668C5.99097 10.4427 6.02111 10.5154 6.07475 10.5691C6.12839 10.6227 6.20114 10.6529 6.27699 10.6529C6.35285 10.6529 6.4256 10.6227 6.47924 10.5691L10.9232 6.13088C11.191 5.86305 11.3415 5.49974 11.3415 5.12099C11.3415 4.74221 11.191 4.37894 10.9232 4.1111C10.6553 3.84326 10.292 3.69279 9.91327 3.69279Z" fill="currentColor"/>
</svg>
`},29759:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fill-rule="evenodd" clip-rule="evenodd" d="M13.1592 7.99998C13.1592 5.15064 10.8494 2.84079 8.00004 2.84079C5.1507 2.84079 2.84085 5.15064 2.84085 7.99998C2.84085 10.8493 5.1507 13.1592 8.00004 13.1592C10.8494 13.1592 13.1592 10.8493 13.1592 7.99998ZM8.00004 1.50079C11.5894 1.50079 14.4992 4.41058 14.4992 7.99998C14.4992 11.5894 11.5894 14.4992 8.00004 14.4992C4.41064 14.4992 1.50085 11.5894 1.50085 7.99998C1.50085 4.41058 4.41064 1.50079 8.00004 1.50079ZM7.16167 5.39671C7.16167 4.93555 7.53551 4.56171 7.99667 4.56171H8.00333C8.46449 4.56171 8.83833 4.93555 8.83833 5.39671C8.83833 5.85786 8.46449 6.23171 8.00333 6.23171H7.99667C7.53551 6.23171 7.16167 5.85786 7.16167 5.39671ZM7.99979 6.95437C8.46095 6.95477 8.83447 7.32893 8.83407 7.79009L8.83163 10.6063C8.83123 11.0674 8.45706 11.4409 7.9959 11.4405C7.53475 11.4401 7.16123 11.066 7.16163 10.6048L7.16407 7.78864C7.16447 7.32749 7.53864 6.95397 7.99979 6.95437Z" fill="currentColor"/>
</svg>
`},37480:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.67553 3.30182C8.67553 2.85899 9.03452 2.5 9.47735 2.5H12.6017C13.0975 2.5 13.4995 2.90198 13.4995 3.39784V6.52217C13.4995 6.965 13.1405 7.32398 12.6977 7.32398C12.2549 7.32398 11.8959 6.965 11.8959 6.52217V5.23993L7.61104 9.53408C7.29825 9.84755 6.79057 9.8481 6.4771 9.53531C6.16363 9.22252 6.16308 8.71484 6.47587 8.40137L10.7643 4.10363H9.47735C9.03452 4.10363 8.67553 3.74465 8.67553 3.30182ZM5.22234 4.10363C4.60449 4.10363 4.10363 4.60449 4.10363 5.22234V10.7776C4.10363 11.3954 4.60449 11.8963 5.22234 11.8963H10.7776C11.3954 11.8963 11.8963 11.3954 11.8963 10.7776V9.78139C11.8963 9.33856 12.2553 8.97958 12.6981 8.97958C13.1409 8.97958 13.4999 9.33856 13.4999 9.78139V10.7776C13.4999 12.2811 12.2811 13.4999 10.7776 13.4999H5.22234C3.71883 13.4999 2.5 12.2811 2.5 10.7776V5.22234C2.5 3.71883 3.71883 2.5 5.22234 2.5H6.18746C6.63029 2.5 6.98928 2.85899 6.98928 3.30182C6.98928 3.74465 6.63029 4.10363 6.18746 4.10363H5.22234Z" fill="currentColor"/>
</svg>
`},54373:P=>{P.exports=`<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<g>
<path d="M13.7355 1.48633H3.73547C2.6309 1.48633 1.73547 2.38176 1.73547 3.48633V13.4863C1.73547 14.5909 2.6309 15.4863 3.73547 15.4863H13.7355C14.84 15.4863 15.7355 14.5909 15.7355 13.4863V3.48633C15.7355 2.38176 14.84 1.48633 13.7355 1.48633Z" stroke="currentColor" stroke-width="2" stroke-miterlimit="10"/>
<path d="M9.73547 12.4863H7.73547V6.48633H4.73547V4.48633H12.7355V6.48633H9.73547V12.4863Z" fill="currentColor"/>
</g>
</svg>
`},42085:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M3.69231 2C3.24348 2 2.81303 2.1783 2.49567 2.49567C2.1783 2.81303 2 3.24348 2 3.69231V12.3077C2 12.7565 2.1783 13.187 2.49567 13.5043C2.81303 13.8217 3.24348 14 3.69231 14H12.3077C12.7565 14 13.187 13.8217 13.5043 13.5043C13.8217 13.187 14 12.7565 14 12.3077V5.53846C14 5.41605 13.9514 5.29866 13.8648 5.2121L10.7879 2.13518C10.7013 2.04863 10.5839 2 10.4615 2H3.69231ZM11.2653 7.25728C11.6058 6.95867 11.6397 6.44059 11.3411 6.10011C11.0425 5.75963 10.5244 5.72569 10.1839 6.0243L6.7897 9.00114L5.80197 8.05396C5.4751 7.74051 4.95601 7.75139 4.64257 8.07826C4.32912 8.40514 4.34 8.92422 4.66687 9.23767L6.19742 10.7054C6.5045 10.9998 6.98579 11.0105 7.30565 10.73L11.2653 7.25728Z" fill="currentColor"/>
</svg>
`},56148:P=>{P.exports=`<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M2.5 3.31445C2.5 2.76217 2.94772 2.31445 3.5 2.31445H13.5C14.0523 2.31445 14.5 2.76217 14.5 3.31445V4.28496C14.5 4.83725 14.0523 5.28496 13.5 5.28496H3.5C2.94772 5.28496 2.5 4.83724 2.5 4.28496V3.31445ZM7.44922 7.32042C7.44922 6.76813 7.89693 6.31768 8.44922 6.31768H13.4492C14.0015 6.31768 14.4492 6.76813 14.4492 7.32042C14.4492 7.8727 14.0015 8.32316 13.4492 8.32316H8.44922C7.89693 8.32316 7.44922 7.8727 7.44922 7.32042ZM14.4492 10.3161C14.4492 9.76378 14.0015 9.31332 13.4492 9.31332H8.44922C7.89693 9.31332 7.44922 9.76378 7.44922 10.3161C7.44922 10.8683 7.89693 11.3188 8.44922 11.3188H13.4492C14.0015 11.3188 14.4492 10.8683 14.4492 10.3161ZM7.44922 13.3117C7.44922 12.7594 7.89693 12.309 8.44922 12.309H13.4492C14.0015 12.309 14.4492 12.7594 14.4492 13.3117C14.4492 13.864 14.0015 14.3145 13.4492 14.3145H8.44922C7.89693 14.3145 7.44922 13.864 7.44922 13.3117ZM6.5 7.29254C6.5 6.74025 6.05228 6.29254 5.5 6.29254H3.5C2.94772 6.29254 2.5 6.74025 2.5 7.29254V13.2139C2.5 13.7662 2.94772 14.2139 3.5 14.2139H5.5C6.05228 14.2139 6.5 13.7662 6.5 13.2139V7.29254Z" fill="currentColor"/>
</svg>
`},52655:P=>{P.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.8054 3.54116C15.0664 3.27893 15.0655 2.85471 14.8033 2.59364C14.5411 2.33256 14.1168 2.33349 13.8558 2.59572L13.0894 3.36548C12.848 3.19009 12.5809 3.04244 12.2943 2.95882C12.0236 2.87985 11.7237 2.85474 11.4149 2.92959C11.1043 3.00489 10.8272 3.17115 10.5891 3.40989L8.50246 5.50488C8.26429 5.744 8.09908 6.02184 8.02434 6.33239C7.95008 6.64101 7.97498 6.94087 8.05342 7.21173C8.20418 7.73228 8.56447 8.18891 8.91972 8.54519C9.27452 8.90182 9.72985 9.26456 10.2498 9.4164C10.5206 9.49549 10.8208 9.5206 11.1298 9.44543C11.4405 9.36985 11.7176 9.20319 11.9555 8.96413L14.0418 6.86944C14.2799 6.63038 14.4451 6.35262 14.5199 6.0421C14.5942 5.7335 14.5692 5.43367 14.4908 5.16285C14.4008 4.85233 14.2363 4.56451 14.0427 4.30714L14.8054 3.54116ZM12.1243 4.33479L11.3749 5.08754C11.1138 5.34976 11.1147 5.77398 11.377 6.03506C11.6392 6.29613 12.0634 6.2952 12.3245 6.03298L13.0814 5.27274C13.1403 5.36906 13.181 5.45731 13.2037 5.53572C13.2296 5.62497 13.2275 5.68522 13.2171 5.72848C13.2071 5.76981 13.1801 5.83569 13.0923 5.92382L11.006 8.0185C10.9181 8.10689 10.8527 8.13376 10.8131 8.1434C10.7716 8.15349 10.7132 8.15576 10.6254 8.13012C10.4282 8.07253 10.1664 7.89836 9.86944 7.59987C9.57303 7.30265 9.39836 7.03864 9.34053 6.83896C9.31466 6.74964 9.31672 6.68928 9.32715 6.64591C9.33712 6.60447 9.36416 6.53857 9.45188 6.4505L11.5379 4.35612C11.6256 4.26822 11.6908 4.24152 11.7306 4.23186C11.7723 4.22175 11.831 4.21953 11.919 4.24519C11.9813 4.26337 12.0501 4.29316 12.1243 4.33479Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M4.68883 14.8904C4.39456 14.8045 4.12097 14.651 3.87456 14.4693L3.1448 15.2023C2.88373 15.4645 2.45951 15.4655 2.19728 15.2044C1.93506 14.9433 1.93412 14.5191 2.1952 14.2569L2.92612 13.5227C2.73833 13.2699 2.57926 12.9881 2.49137 12.6847C2.41289 12.4137 2.38799 12.1137 2.46228 11.805C2.53704 11.4943 2.70232 11.2164 2.94059 10.9771L5.02824 8.88111C5.26643 8.64226 5.54401 8.47564 5.8547 8.40031C6.16356 8.32543 6.46362 8.35055 6.73441 8.42955C7.25451 8.58128 7.71012 8.94371 8.0653 9.30031C8.42058 9.65701 8.78117 10.1139 8.93203 10.6347C9.01052 10.9056 9.03545 11.2056 8.96113 11.5143C8.88634 11.8249 8.72104 12.1028 8.48283 12.342L6.39549 14.4377C6.15749 14.6768 5.88001 14.8439 5.56923 14.9195C5.26011 14.9947 4.95979 14.9696 4.68883 14.8904ZM5.97749 9.8269C6.06532 9.73887 6.13047 9.71227 6.17043 9.70258C6.21224 9.69245 6.27105 9.69023 6.35912 9.71592C6.55676 9.77358 6.81888 9.94774 7.11588 10.2459C7.41279 10.544 7.58706 10.8077 7.64496 11.0076C7.67085 11.0969 7.66879 11.1573 7.65835 11.2007C7.64837 11.2421 7.62129 11.3081 7.53341 11.3963L5.44577 13.4924C5.35774 13.5809 5.29224 13.6078 5.25248 13.6175C5.21093 13.6276 5.15238 13.6298 5.06447 13.6042C4.99616 13.5842 4.92011 13.5503 4.83756 13.5021L5.62511 12.7111C5.88618 12.4489 5.88525 12.0246 5.62303 11.7636C5.3608 11.5025 4.93658 11.5034 4.6755 11.7656L3.88909 12.5555C3.83644 12.4667 3.79967 12.385 3.77848 12.3119C3.75258 12.2225 3.75462 12.162 3.76509 12.1185C3.77508 12.0769 3.80218 12.0109 3.89001 11.9228L5.97749 9.8269Z" fill="currentColor"/>
</svg>
`},14560:P=>{P.exports=`<svg width="72" height="40" viewBox="0 0 72 40" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="8.5" y="8.5" width="55" height="23" rx="0.5" fill="white" stroke="#0D2E4E"/>
<path d="M37 17H19C17.3431 17 16 18.3431 16 20C16 21.6569 17.3431 23 19 23H37C38.6569 23 40 21.6569 40 20C40 18.3431 38.6569 17 37 17Z" fill="#D1D1D1"/>
<path d="M57 13H47C45.8954 13 45 13.8954 45 15V25C45 26.1046 45.8954 27 47 27H57C58.1046 27 59 26.1046 59 25V15C59 13.8954 58.1046 13 57 13Z" stroke="#FF4013" stroke-width="2" stroke-miterlimit="10"/>
<path d="M53 24H51V18H48V16H56V18H53V24Z" fill="#FF4013"/>
</svg>
`},44991:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="9" height="9" fill="none" >
	<circle cx="4.51" cy="4.209" r="4" fill="currentColor"/>
</svg>
`},55429:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g transform="translate(2.5 1.5)"><line x2="12" fill="none" stroke-miterlimit="10" stroke="#54657d" transform="translate(0 7)"/><line y1="12" fill="none" stroke-miterlimit="10" stroke="#54657d" transform="translate(6 1)"/></g><rect fill="none" width="16"  height="16"/></svg>
`},11213:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect class="a" fill="none" width="16" height="16"/><g transform="translate(828.001 -256.344)"><g class="b" stroke-miterlimit="10" fill="none" transform="translate(-0.562 -0.563)"><path class="d" d="M-822.721,270.046a2.984,2.984,0,0,0-3,.861l-.715-.714a2.983,2.983,0,0,0,.862-3l9.281-9.282,2.856,2.856Z"/><path class="e" stroke="none" fill="#54657d" d="M -824.6316528320313 269.1003723144531 C -824.2100830078125 268.9744262695313 -823.8204345703125 268.9347534179688 -823.4967651367188 268.9347534179688 C -823.3335571289063 268.9347534179688 -823.1836547851563 268.9448852539063 -823.0501098632813 268.9602355957031 L -814.8533325195313 260.7627868652344 L -816.2953491210938 259.3211669921875 L -824.4864501953125 267.5129089355469 C -824.4336547851563 267.9642028808594 -824.45556640625 268.5171203613281 -824.6316528320313 269.1003723144531 M -825.7241821289063 270.9070129394531 C -826.014892578125 270.6171875 -826.1371459960938 270.4949951171875 -826.4390258789063 270.1930847167969 C -825.00927734375 268.7652282714844 -825.5767211914063 267.18896484375 -825.5767211914063 267.18896484375 L -816.2954711914063 257.9070129394531 L -813.4390258789063 260.7626647949219 L -822.7213134765625 270.045654296875 C -822.7213134765625 270.045654296875 -823.029541015625 269.9347534179688 -823.4967651367188 269.9347534179688 C -824.0857543945313 269.9347534179688 -824.927490234375 270.1108093261719 -825.7241821289063 270.9070129394531 Z"/></g><path class="c" stroke="#54657d" fill="none" d="M.5.5l2,2" transform="translate(-819.501 259.844)"/></g></svg>'},53023:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a,.b{fill:none;}.b{stroke:#8095b3;stroke-miterlimit:10;}.c{fill:#8095b3;}</style></defs><rect class="a" width="16" height="16"/><rect class="b" width="11" height="9" rx="2" transform="translate(2.5 5.5)"/><path class="c" d="M9,9H7v2H9V9Z"/><path class="b" d="M626.5-136.5v-2a2,2,0,0,1,2-2h1a2,2,0,0,1,2,2v2" transform="translate(-621 142)"/></svg>'},19148:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.value-picker-entity-column-source-icon-unique-class-a,.value-picker-entity-column-source-icon-unique-class-c{fill:none;}.value-picker-entity-column-source-icon-unique-class-a{stroke:#54657d;stroke-miterlimit:10;}.value-picker-entity-column-source-icon-unique-class-b{fill:#54657d;}.value-picker-entity-column-source-icon-unique-class-d{stroke:none;}</style></defs><g transform="translate(353.034 -406.658)"><g class="value-picker-entity-column-source-icon-unique-class-a" transform="translate(-352.034 408.658)"><rect class="value-picker-entity-column-source-icon-unique-class-d" width="11" height="3"/><rect class="value-picker-entity-column-source-icon-unique-class-c" x="0.5" y="0.5" width="10" height="2"/></g><g class="value-picker-entity-column-source-icon-unique-class-a" transform="translate(-349.034 417.658)"><rect class="value-picker-entity-column-source-icon-unique-class-d" width="11" height="3"/><rect class="value-picker-entity-column-source-icon-unique-class-c" x="0.5" y="0.5" width="10" height="2"/></g><g transform="translate(426.929 869.553) rotate(90)"><path class="value-picker-entity-column-source-icon-unique-class-b" d="M-458.894,770.963h3v1h-3Z"/><path class="value-picker-entity-column-source-icon-unique-class-b" d="M-455.894,773.963v-5l4,2.5Z"/></g></g><rect class="value-picker-entity-column-source-icon-unique-class-c" width="16" height="16"/></svg>
`},67302:P=>{P.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><defs><style>.a{fill:#54657d;}.b{fill:none;}</style></defs><g transform="translate(2417.813 -289.371)"><path class="a" d="M-2409.367,294.919l-.131.483h-1.07l-.8,3.2a19.171,19.171,0,0,1-1.077,3.274,5.653,5.653,0,0,1-1.655,2.255,2.323,2.323,0,0,1-1.348.476,1.106,1.106,0,0,1-.747-.263.581.581,0,0,1-.227-.476.534.534,0,0,1,.187-.407.648.648,0,0,1,.457-.172.477.477,0,0,1,.334.125.378.378,0,0,1,.135.285.4.4,0,0,1-.154.3q-.117.1-.117.153a.12.12,0,0,0,.051.1.336.336,0,0,0,.2.051,1.345,1.345,0,0,0,.663-.2,1.9,1.9,0,0,0,.619-.589,4.487,4.487,0,0,0,.513-1.132q.1-.308.549-2.029l1.275-4.958h-1.275l.1-.483a2.888,2.888,0,0,0,.849-.085,1.024,1.024,0,0,0,.443-.322,4.834,4.834,0,0,0,.524-.89,7.189,7.189,0,0,1,.828-1.362,4,4,0,0,1,1.138-.978,2.365,2.365,0,0,1,1.125-.326,1.346,1.346,0,0,1,.893.282.8.8,0,0,1,.337.612.6.6,0,0,1-.168.432.571.571,0,0,1-.432.176.522.522,0,0,1-.37-.132.415.415,0,0,1-.143-.315.633.633,0,0,1,.095-.289.647.647,0,0,0,.1-.231.185.185,0,0,0-.066-.154.453.453,0,0,0-.279-.073,1.29,1.29,0,0,0-.828.293,3.3,3.3,0,0,0-.878,1.216q-.2.432-.725,2.146Z"/><path class="a" d="M-2407.045,294.743a3.082,3.082,0,0,1,.542.761,10.154,10.154,0,0,1,.432,1.385l.645-.967a4.078,4.078,0,0,1,.622-.67,2.522,2.522,0,0,1,.645-.436.992.992,0,0,1,.388-.073.724.724,0,0,1,.5.168.532.532,0,0,1,.186.41.515.515,0,0,1-.109.381.685.685,0,0,1-.469.183.944.944,0,0,1-.33-.066,1.836,1.836,0,0,0-.461-.117.708.708,0,0,0-.418.205,5.842,5.842,0,0,0-1.084,1.472l.6,2.52a2.242,2.242,0,0,0,.234.692.261.261,0,0,0,.191.114.61.61,0,0,0,.359-.169,2.856,2.856,0,0,0,.688-.879l.256.132a4.589,4.589,0,0,1-1.171,1.436,1.192,1.192,0,0,1-.682.322.728.728,0,0,1-.651-.461,17.972,17.972,0,0,1-.638-2.461,10.388,10.388,0,0,1-1.831,2.556,1.382,1.382,0,0,1-.864.366.8.8,0,0,1-.535-.212.56.56,0,0,1-.175-.433.542.542,0,0,1,.161-.4.535.535,0,0,1,.4-.162.778.778,0,0,1,.5.235.543.543,0,0,0,.293.168.4.4,0,0,0,.227-.117,5.539,5.539,0,0,0,.938-1.2,11.879,11.879,0,0,0,.776-1.333q-.454-1.78-.491-1.882a1.369,1.369,0,0,0-.439-.674,1.346,1.346,0,0,0-.8-.2c-.113,0-.242.005-.389.015v-.264Z"/></g><rect class="b" width="16" height="16"/></svg>'},49967:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="65.898" height="50" viewBox="0 0 65.898 50">
  <g id="Group_10554" data-name="Group 10554" transform="translate(-630.824 -282)">
    <g id="Group_10553" data-name="Group 10553" transform="translate(-8 4)">
      <rect id="Rectangle_23319" data-name="Rectangle 23319" width="24" height="8" transform="translate(640 311) rotate(-90)" fill="#757575" opacity="0.15"/>
      <rect id="Rectangle_23320" data-name="Rectangle 23320" width="15" height="8" transform="translate(655 313) rotate(-90)" fill="#757575" opacity="0.36"/>
      <rect id="Rectangle_23321" data-name="Rectangle 23321" width="50" height="8" transform="translate(671 328) rotate(-90)" fill="#757575" opacity="0.16"/>
      <rect id="Rectangle_23326" data-name="Rectangle 23326" width="20" height="8" transform="translate(671 298) rotate(-90)" fill="#757575" opacity="0.36"/>
      <rect id="Rectangle_23322" data-name="Rectangle 23322" width="30" height="8" transform="translate(687 311) rotate(-90)" fill="#757575" opacity="0.12"/>
      <rect id="Rectangle_23327" data-name="Rectangle 23327" width="17" height="8" transform="translate(687 298) rotate(-90)" fill="#757575" opacity="0.36"/>
      <rect id="Rectangle_23323" data-name="Rectangle 23323" width="11" height="8" transform="translate(640 298) rotate(-90)" fill="#757575" opacity="0.15"/>
      <rect id="Rectangle_23324" data-name="Rectangle 23324" width="25" height="8" transform="translate(655 313) rotate(-90)" fill="#757575" opacity="0.19"/>
      <path id="Path_9959" data-name="Path 9959" d="M223.923,2054c8.8,1.753,9.21,7.979,18.455,7.661s19.38-15.618,29.076-15.618,13.109-8.362,16.091-8.043" transform="translate(416.077 -1753.707)" fill="none" stroke="#757575" stroke-linecap="round" stroke-width="2" opacity="0.36"/>
    </g>
  </g>
</svg>
`},78683:P=>{P.exports=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0 1.49845H0.783829V4.00128H2.48383V0.000488281H0V1.49845Z" fill="#FF4013"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M14 1.00089H5.08699V3.00089H14V1.00089ZM14 6.00052H5.08699V8.00052H14V6.00052ZM0 12.7274V13.9998H3.19044V9.99979H0V11.1761H1.5V11.5073H0.75V12.3962H1.5V12.7274H0ZM14 10.9998H5.08699V12.9998H14V10.9998Z" fill="#FF4013"/>
<path d="M2.14577e-05 7.56383V8.99972L3.15902 8.99977V7.56383L2.26167 7.56378L3.15902 6.86625L3.15902 5.00135L2.14577e-05 5.00128L0 6.43327H1.5L2.14577e-05 7.56383Z" fill="#FF4013"/>
</svg>
`},36659:P=>{P.exports=`<svg id="Boolean_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Rectangle_12" transform="translate(1 1)" fill="none" stroke="#ff4013" stroke-width="2"><rect width="14" height="14" stroke="none"/><rect x="1" y="1" width="12" height="12" fill="none"/></g><path id="Path_30" d="M10.5,4.5,5.912,9,4,7.162" transform="translate(1 0.5)" fill="rgba(0,0,0,0)" stroke="#ff4013" stroke-width="2"/></svg>
`},39078:P=>{P.exports=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path d="M8.183.779c2.084.007 2.813.35 4.468 1.861l-1.875 2.424-2.95-1.229Z" fill="#ff1c06"/><path d="M7.643 14.846c-2.083-.006-2.813-.35-4.467-1.861l1.875-2.424L8 11.79Z" fill="#ffc6b8"/><path d="M15.024 8.156c-.064 2.22-.431 3.006-2 4.809l-2.4-1.931 1.322-3.175Z" fill="#ff4013"/><path d="M13.074 3.143c1.5 1.443 1.8 2.195 1.949 4.431l-3.03.46-1.286-2.925Z" fill="#ff320e"/><path d="M3.224 12.86c-1.5-1.443-1.795-2.195-1.948-4.43l3.029-.46 1.287 2.925Z" fill="#ffe8e3"/><path d="M12.999 12.98c-1.578 1.562-2.386 1.878-4.769 2.1l-.4-3.055 3.149-1.384Z" fill="#ff795a"/><g transform="translate(-798.326 92.909)" fill="none"><path d="M798.326-92.909h16v16h-16z"/><circle cx="7" cy="7" r="7" transform="translate(799.326 -91.909)" stroke="#ff4013" stroke-width="2"/><circle cx="3" cy="3" r="3" transform="translate(803.326 -87.909)" stroke="#ff4013" stroke-width="2"/><g stroke="#ff4013" stroke-width="2"><path d="M806.326-81.454v3.686"/><path d="M806.326-88.519v-3.386"/><path d="M803.211-84.909h-3.685"/><path d="M812.826-84.909h-3.387"/><path d="M804.126-87.162c-.8-.8-2.306-2.252-3.1-3.05"/><path d="M811.628-79.605c-.729-.73-2.31-2.2-3.04-2.926"/><path d="m804.02-82.6-3 3"/><path d="m811.629-90.213-3.088 2.978"/></g></g></svg>
`},26861:P=>{P.exports=`<svg id="Date_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Rectangle_6448" transform="translate(1 3)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><rect width="14" height="12" stroke="none"/><rect x="1" y="1" width="12" height="10" fill="none"/></g><line id="Line_764" x2="12" transform="translate(2 7)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_11729" d="M176.171,1073.754v3" transform="translate(-171.171 -1072.754)" fill="none" stroke="#ff4013" stroke-width="2"/><path id="Path_11730" d="M176.171,1073.754v3" transform="translate(-165.171 -1072.754)" fill="none" stroke="#ff4013" stroke-width="2"/></svg>
`},55146:P=>{P.exports=`<svg id="Datetime_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Icon_left_panel_date_time_16x16_heavy" transform="translate(0)"><rect id="Rectangle_6448" width="16" height="16" fill="none"/><path id="Path_6271" d="M1895.033,260.278h-4.149v-9h12v2" transform="translate(-1889.884 -248.278)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7772" d="M0,0H4.5" transform="translate(1 6)" fill="none" stroke="#ff4013" stroke-width="2"/><line id="Line_771" y2="4" transform="translate(4)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_772" y2="4" transform="translate(10)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><g id="Path_6272" transform="translate(-1889.764 -248.582)" fill="none" stroke-miterlimit="10"><path d="M1905.764,258.584a5,5,0,1,1-5-5A5,5,0,0,1,1905.764,258.584Z" stroke="none"/><path d="M 1900.7626953125 261.5840454101562 C 1902.417602539062 261.5840454101562 1903.763916015625 260.23828125 1903.763916015625 258.5840759277344 C 1903.763916015625 256.9292602539062 1902.417602539062 255.5829772949219 1900.7626953125 255.5829772949219 C 1899.109130859375 255.5829772949219 1897.763916015625 256.9292602539062 1897.763916015625 258.5840759277344 C 1897.763916015625 260.23828125 1899.109130859375 261.5840454101562 1900.7626953125 261.5840454101562 M 1900.7626953125 263.5840454101562 C 1898.000244140625 263.5840454101562 1895.763916015625 261.3454284667969 1895.763916015625 258.5840759277344 C 1895.763916015625 255.8215942382812 1898.000244140625 253.5829772949219 1900.7626953125 253.5829772949219 C 1903.524169921875 253.5829772949219 1905.763916015625 255.8215942382812 1905.763916015625 258.5840759277344 C 1905.763916015625 261.3454284667969 1903.524169921875 263.5840454101562 1900.7626953125 263.5840454101562 Z" stroke="none" fill="#ff4013"/></g><path id="Path_6273" d="M1900.1,255.194v4h2.5" transform="translate(-1889.098 -249.194)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></g></svg>
`},71011:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2 3.5H14V12C14 12.1326 13.9473 12.2598 13.8536 12.3536C13.7598 12.4473 13.6326 12.5 13.5 12.5H2.5C2.36739 12.5 2.24021 12.4473 2.14645 12.3536C2.05268 12.2598 2 12.1326 2 12V3.5Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M14 3.5L8 9L2 3.5" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},55039:P=>{P.exports=`<svg id="File_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Group_7055" transform="translate(-733.278 92.545)"><g id="Rectangle_6454" transform="translate(735.278 -91.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><rect width="12" height="14" stroke="none"/><rect x="1" y="1" width="10" height="12" fill="none"/></g><line id="Line_774" x2="6" transform="translate(738.278 -87.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_775" x2="6" transform="translate(738.278 -84.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><line id="Line_777" x2="4" transform="translate(738.278 -81.545)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></g></svg>
`},68877:P=>{P.exports=`<svg id="Float_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Group_14515" transform="translate(-144 -422)"><rect id="Rectangle_39433" width="16" height="16" transform="translate(144 422)" fill="none"/></g><path id="Path_11302" d="M6.957-4.64a6.469,6.469,0,0,1-.8,3.6A2.764,2.764,0,0,1,3.707.127,2.732,2.732,0,0,1,1.285-1.079,6.377,6.377,0,0,1,.47-4.64a6.53,6.53,0,0,1,.793-3.621A2.752,2.752,0,0,1,3.707-9.426,2.739,2.739,0,0,1,6.135-8.208,6.39,6.39,0,0,1,6.957-4.64Zm-4.539,0a7.22,7.22,0,0,0,.3,2.447,1.022,1.022,0,0,0,.993.74A1.033,1.033,0,0,0,4.7-2.2,7.02,7.02,0,0,0,5-4.64a7,7,0,0,0-.308-2.453,1.034,1.034,0,0,0-.987-.746,1.025,1.025,0,0,0-.99.746A7.208,7.208,0,0,0,2.418-4.64ZM7.759-.908a1.064,1.064,0,0,1,.286-.806,1.158,1.158,0,0,1,.832-.273,1.125,1.125,0,0,1,.816.279,1.061,1.061,0,0,1,.289.8,1.061,1.061,0,0,1-.292.79,1.105,1.105,0,0,1-.812.289,1.138,1.138,0,0,1-.825-.282A1.057,1.057,0,0,1,7.759-.908ZM13.69,0H11.728V-5.37l.019-.882.032-.965q-.489.489-.679.641l-1.066.857L9.088-6.9l2.99-2.38H13.69Z" transform="translate(0.53 12.426)" fill="#ff4013"/></svg>
`},92458:P=>{P.exports=`<svg id="Guid_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_42308" width="16" height="16" fill="none"/><path id="Path_11737" d="M1.162,0H3.43V-9.8H1.162Zm9.926-10.388v3.654a2.894,2.894,0,0,0-2.254-.91A3.661,3.661,0,0,0,5.068-3.766,3.661,3.661,0,0,0,8.834.112a2.9,2.9,0,0,0,2.352-.98V0h2.086V-10.388ZM9.212-1.68A1.911,1.911,0,0,1,7.28-3.766,1.911,1.911,0,0,1,9.212-5.852,1.908,1.908,0,0,1,11.13-3.766,1.908,1.908,0,0,1,9.212-1.68Z" transform="translate(0.838 13)" fill="#ff4013" stroke="rgba(0,0,0,0)" stroke-width="1"/></svg>
`},65689:P=>{P.exports=`<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_1742_819)">
<path d="M10.913 8.99277L7.40833 13.0074H13.0074V11.2395L10.913 8.99277ZM10.8641 6.00745L15.0074 10.4519V15.0074H3.00745L10.8641 6.00745Z" fill="#ff4013"/>
<path d="M3.43597 9.72806C2.87697 10.2871 2.20496 9.92807 1.64496 9.37007C1.08596 8.81107 0.726988 8.13807 1.28699 7.57907L3.07794 5.78806C3.63694 5.22906 4.30898 5.58806 4.86798 6.14606C5.42798 6.70506 5.78595 7.37706 5.22595 7.93706L3.43597 9.72806Z" stroke="#ff4013" stroke-width="2" stroke-miterlimit="10"/>
<path d="M7.93689 5.22705C7.37689 5.78605 6.70591 5.42704 6.14691 4.86804C5.58691 4.30904 5.22894 3.63704 5.78894 3.07804L7.57892 1.28704C8.13892 0.728043 8.80993 1.08704 9.36993 1.64604C9.92993 2.20504 10.2879 2.87704 9.72888 3.43704L7.93689 5.22705Z" stroke="#ff4013" stroke-width="2" stroke-miterlimit="10"/>
<path d="M4.70691 6.51907L6.51791 4.70807" stroke="#ff4013" stroke-width="2"/>
<path d="M11.301 2.00702H14.0079V14.007H2.00793V11.581" stroke="#ff4013" stroke-width="2"/>
</g>
<defs>
<clipPath id="clip0_1742_819">
<rect width="16.007" height="16.007" fill="#ff4013"/>
</clipPath>
</defs>
</svg>
`},60521:P=>{P.exports=`<svg id="Integer_icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.99433 4.65198C9.48732 5.09802 9.74027 5.69781 9.74027 6.39946C9.74027 7.11039 9.46186 7.74386 8.95863 8.29085L8.95331 8.29664C8.68048 8.58037 8.17318 8.98047 7.44252 9.47417L7.44143 9.4749C7.00788 9.76552 6.67964 10.0338 6.4484 10.2773C6.39755 10.3308 6.35224 10.3822 6.31202 10.4316H9.03463C9.42976 10.4316 9.75009 10.7519 9.75009 11.1471C9.75009 11.5422 9.42976 11.8625 9.03463 11.8625H4.36201V11.5055C4.36201 10.774 4.62396 10.1113 5.14954 9.53003C5.45393 9.18287 5.98212 8.74216 6.73359 8.22779C7.28336 7.835 7.61754 7.57002 7.77738 7.40238C8.08169 7.07198 8.22096 6.73348 8.22096 6.38964C8.22096 6.03409 8.11952 5.81409 7.95289 5.66027C7.78277 5.50324 7.51683 5.40148 7.12478 5.40148C6.72877 5.40148 6.47218 5.52561 6.29884 5.75228L6.29169 5.76164L6.28392 5.77051C6.13055 5.94579 6.0142 6.20942 5.96505 6.5873C5.91679 6.95826 5.61042 7.29659 5.18377 7.29659C4.7751 7.29659 4.39395 6.95656 4.44447 6.49553C4.51728 5.83108 4.75991 5.26428 5.17392 4.82141C5.68203 4.26788 6.36125 4 7.15424 4C7.87626 4 8.49451 4.21025 8.99122 4.6492L8.99433 4.65198ZM14.8743 4.5961C15.3635 5.01371 15.6083 5.57814 15.6083 6.262C15.6083 6.71398 15.4974 7.12093 15.2526 7.45671C15.1531 7.59318 15.0352 7.71289 14.9008 7.81669C15.0605 7.92572 15.2015 8.0545 15.3211 8.20545C15.6165 8.55303 15.7556 8.98069 15.7556 9.46307C15.7556 10.1963 15.4914 10.8144 14.9713 11.2883C14.4419 11.7715 13.7612 12 12.9634 12C12.2299 12 11.6078 11.8045 11.1119 11.4124L11.1064 11.408C10.628 11.014 10.3332 10.4794 10.2052 9.83055C10.1107 9.35139 10.5042 8.97835 10.9288 8.97835C11.3492 8.97835 11.6378 9.30727 11.7079 9.64478C11.7693 9.94025 11.9002 10.158 12.0891 10.3154C12.3147 10.495 12.5969 10.5985 12.9634 10.5985C13.3872 10.5985 13.6961 10.4769 13.9229 10.2668C14.1282 10.0596 14.2363 9.80805 14.2363 9.49253C14.2363 9.15687 14.1319 8.93882 13.9486 8.7817C13.7609 8.62082 13.483 8.52399 13.0419 8.52399H12.7866C12.4159 8.52399 12.1154 8.22345 12.1154 7.85271C12.1154 7.48197 12.4159 7.18143 12.7866 7.18143H13.0125C13.4306 7.18143 13.6903 7.08609 13.85 6.9535C14.0037 6.81675 14.0989 6.61783 14.0989 6.31109C14.0989 6.00164 14.0017 5.79895 13.8513 5.66111L13.8504 5.66027C13.6842 5.50686 13.4217 5.4113 13.0223 5.4113C12.6106 5.4113 12.3484 5.51295 12.1702 5.68456L12.1656 5.68906C12.0215 5.82278 11.914 6.00455 11.8495 6.25293C11.766 6.57474 11.481 6.87436 11.0816 6.87436C10.6572 6.87436 10.2506 6.49494 10.3668 6.00508C10.4953 5.4634 10.7597 5.01133 11.1524 4.66211C11.6438 4.20736 12.2763 4 13.0125 4C13.739 4 14.3777 4.18225 14.8711 4.59337L14.8743 4.5961ZM3.41307 4.92822V11.1029C3.41307 11.5224 3.07297 11.8625 2.65342 11.8625C2.23388 11.8625 1.89377 11.5224 1.89377 11.1029V6.23307C1.68552 6.37174 1.46266 6.49124 1.22573 6.59268C0.723506 6.80771 0.244141 6.40276 0.244141 5.92406C0.244141 5.5872 0.467589 5.3135 0.755873 5.2089C0.963927 5.13341 1.17934 5.03405 1.39555 4.90741C1.64533 4.74519 1.85627 4.57307 2.04007 4.3863C2.18718 4.23681 2.39336 4.13748 2.62233 4.13748C3.05905 4.13748 3.41307 4.4915 3.41307 4.92822Z" fill="#ff4013"/>
</svg>
`},61631:P=>{P.exports=`<svg id="Lookup_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><g id="Group_6916" transform="translate(2.277 2)"><g id="Group_6915" transform="translate(-0.277)"><circle id="Ellipse_237" cx="4.5" cy="4.5" r="4.5" fill="none" stroke="#ff4013" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"/><path id="Path_6243" d="M.344.344,4.123,4.123" transform="translate(7.877 7.876)" fill="none" stroke="#ff4013" stroke-width="2"/></g></g><rect id="Rectangle_24756" width="16" height="16" fill="none"/></svg>
`},32643:P=>{P.exports=`<svg id="Money_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><path id="Path_7070" d="M-318.645,863.293h-6v-8h14v4" transform="translate(325.645 -852.293)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7071" d="M-322.646,855.292a2,2,0,0,1-2,2" transform="translate(326.646 -851.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7072" d="M-312.246,857.292a2,2,0,0,1-2-2" transform="translate(326.246 -851.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7073" d="M-324.646,861.692a2,2,0,0,1,2,2" transform="translate(326.646 -853.692)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><g id="Ellipse_1363" transform="translate(6 5)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><circle cx="2" cy="2" r="2" stroke="none"/><circle cx="2" cy="2" r="1" fill="none"/></g><path id="Path_7074" d="M-310.846,861.425c0,.737-1.12,1.333-2.5,1.333s-2.5-.6-2.5-1.333,1.12-1.333,2.5-1.333S-310.846,860.69-310.846,861.425Z" transform="translate(325.846 -851.092)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/><path id="Path_7075" d="M-310.846,863.292c0,.589-1.12,1.333-2.5,1.333s-2.5-.744-2.5-1.333" transform="translate(325.846 -850.292)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></svg>
`},59155:P=>{P.exports=`<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M5.3353 1.83815L6.26378 1.46676L6.26378 1.46676L5.3353 1.83815ZM6.03813 3.59524L5.10965 3.96663L5.10965 3.96663L6.03813 3.59524ZM5.82454 4.94398L5.05632 4.3038L5.0563 4.30383L5.82454 4.94398ZM5.44629 5.39792L6.21451 6.03811L6.21453 6.03808L5.44629 5.39792ZM5.52758 7.19434L4.82047 7.90144L4.8205 7.90147L5.52758 7.19434ZM6.8057 8.47236L7.5128 7.76526L7.51278 7.76523L6.8057 8.47236ZM8.60205 8.55382L7.96198 7.7855L7.96187 7.78559L8.60205 8.55382ZM9.05613 8.17554L9.69619 8.94386L9.69631 8.94376L9.05613 8.17554ZM10.4048 7.96192L10.7762 7.03345L10.7761 7.03344L10.4048 7.96192ZM12.1617 8.66476L11.7903 9.59322L11.7903 9.59323L12.1617 8.66476ZM12.9999 9.90268H11.9999V9.90272L12.9999 9.90268ZM13 11.7369H14V11.7368L13 11.7369ZM4.09733 2C4.23363 2 4.3562 2.08298 4.40682 2.20954L6.26378 1.46676C5.90943 0.580885 5.05144 0 4.09733 0V2ZM4.40682 2.20953L5.10965 3.96663L6.96661 3.22386L6.26378 1.46676L4.40682 2.20953ZM5.10965 3.96663C5.15517 4.08044 5.13462 4.20985 5.05632 4.3038L6.59277 5.58417C7.14152 4.92566 7.28485 4.01947 6.96661 3.22385L5.10965 3.96663ZM5.0563 4.30383L4.67804 4.75777L6.21453 6.03808L6.59279 5.58414L5.0563 4.30383ZM4.67807 4.75774C3.90567 5.68462 3.96693 7.0479 4.82047 7.90144L6.23468 6.48723C6.11298 6.36552 6.10396 6.17076 6.21451 6.03811L4.67807 4.75774ZM4.8205 7.90147L6.09862 9.17949L7.51278 7.76523L6.23466 6.4872L4.8205 7.90147ZM6.09859 9.17947C6.95196 10.0328 8.31517 10.0946 9.24224 9.32204L7.96187 7.78559C7.82939 7.89599 7.63468 7.88713 7.5128 7.76526L6.09859 9.17947ZM9.24212 9.32213L9.69619 8.94386L8.41606 7.40722L7.96198 7.7855L9.24212 9.32213ZM9.69631 8.94376C9.79033 8.86541 9.91963 8.8449 10.0334 8.8904L10.7761 7.03344C9.98045 6.71516 9.07438 6.85861 8.41594 7.40732L9.69631 8.94376ZM10.0333 8.89039L11.7903 9.59322L12.5331 7.73629L10.7762 7.03345L10.0333 8.89039ZM11.7903 9.59323C11.917 9.64389 11.9999 9.76649 11.9999 9.90268H13.9999C13.9999 8.94847 13.4189 8.09059 12.5331 7.73628L11.7903 9.59323ZM11.9999 9.90272L12 11.7369L14 11.7368L13.9999 9.90264L11.9999 9.90272ZM12 11.7369C12 11.8823 11.8822 12 11.737 12V14C12.987 14 14 12.9867 14 11.7369H12ZM11.737 12C6.35945 12 2 7.64067 2 2.26318H0C0 8.74528 5.25492 14 11.737 14V12ZM2 2.26318C2 2.11782 2.11785 2 2.26316 2V0C1.01322 0 0 1.0133 0 2.26318H2ZM2.26316 2H4.09733V0H2.26316V2Z" fill="#FF4013"/>
</svg>
`},67021:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13 1H3C1.89543 1 1 1.89543 1 3V13C1 14.1046 1.89543 15 3 15H13C14.1046 15 15 14.1046 15 13V3C15 1.89543 14.1046 1 13 1Z" stroke="#FF4013" stroke-width="2" stroke-miterlimit="10"/>
<path d="M9 12H7V6H4V4H12V6H9V12Z" fill="#FF4013"/>
</svg>
`},28010:P=>{P.exports=`<svg width="16" height="17" viewBox="0 0 16 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.14 6.90901C5.13775 7.50618 5.25259 8.098 5.478 8.65101L1.5 12.629V15.229H4.1V13.669H5.66V12.109H7.22L8.078 11.251C8.631 11.4764 9.22282 11.5912 9.82 11.589C10.7456 11.589 11.6504 11.3145 12.4201 10.8003C13.1897 10.286 13.7895 9.55512 14.1438 8.69996C14.498 7.84481 14.5907 6.90381 14.4101 5.99598C14.2295 5.08815 13.7838 4.25426 13.1293 3.59975C12.4747 2.94524 11.6409 2.49951 10.733 2.31893C9.82519 2.13835 8.8842 2.23103 8.02904 2.58525C7.17388 2.93947 6.44297 3.53932 5.92872 4.30894C5.41448 5.07856 5.14 5.98339 5.14 6.90901ZM12.4832 5.95178C12.4832 6.84671 11.7577 7.57221 10.8628 7.57221C9.96785 7.57221 9.24236 6.84671 9.24236 5.95178C9.24236 5.05684 9.96785 4.33135 10.8628 4.33135C11.7577 4.33135 12.4832 5.05684 12.4832 5.95178Z" fill="#FF4013"/>
</svg>
`},97180:P=>{P.exports=`<svg id="Text_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_39432" width="16" height="16" fill="none"/><path id="Path_11304" d="M5.113,0H2.994V-8.23H.28V-9.994H7.827V-8.23H5.113Z" transform="translate(4 13)" fill="#ff4013"/></svg>
`},8510:P=>{P.exports=`<svg id="Time_icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><rect id="Rectangle_23177" width="16" height="16" fill="none"/><g id="Ellipse_1346" transform="translate(1 1)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"><circle cx="7" cy="7" r="7" stroke="none"/><circle cx="7" cy="7" r="6" fill="none"/></g><path id="Path_6908" d="M1824.814,31.345v6h3" transform="translate(-1816.814 -29.345)" fill="none" stroke="#ff4013" stroke-miterlimit="10" stroke-width="2"/></svg>
`},64337:P=>{P.exports=`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M8 14C11.3137 14 14 11.3137 14 8C14 4.68629 11.3137 2 8 2C4.68629 2 2 4.68629 2 8C2 11.3137 4.68629 14 8 14Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2 8H14" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M8 13.8375C9.38071 13.8375 10.5 11.2239 10.5 7.99998C10.5 4.77601 9.38071 2.16248 8 2.16248C6.61929 2.16248 5.5 4.77601 5.5 7.99998C5.5 11.2239 6.61929 13.8375 8 13.8375Z" stroke="#FF4013" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
`},31463:P=>{P.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCA3MiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KCTxwYXRoIGQ9Ik0zLjk2MjM1IDIyLjIzNjNDMy4zODEwNCAyMS43MTQ3IDIuOTEwODMgMjEuMDgxMyAyLjU3OTgzIDIwLjM3MzlDMi4yNDg4NCAxOS42NjY1IDIuMDYzODQgMTguODk5NiAyLjAzNTkxIDE4LjExOTFDMi4wMDc5NyAxNy4zMzg2IDIuMTM3NjcgMTYuNTYwNSAyLjQxNzI0IDE1LjgzMTJDMi42OTY4MSAxNS4xMDIgMy4xMjA1MyAxNC40MzY2IDMuNjYzMDYgMTMuODc0OEM0Ljc3NjI5IDEyLjcyNDMgNi4yOTIyOCAxMi4wNTAyIDcuODkyMjIgMTEuOTk0NEM5LjQ5MjE2IDExLjkzODYgMTEuMDUxNCAxMi41MDU0IDEyLjI0MjEgMTMuNTc1NUgxNC43OTM5QzE0Ljc2NzkgMTMuNTM2NiAxNC43NDEgMTMuNDk3NyAxNC43MTUgMTMuNDU4OEMxNC4xMzI2IDEyLjYyMDkgMTMuMzk1IDExLjkwMjQgMTIuNTQyMyAxMS4zNDE5QzExLjQyNTMgMTAuNjEwNSAxMC4xNDY4IDEwLjE2MjQgOC44MTc2IDEwLjAzNjZDNy40ODgzNSA5LjkxMDcxIDYuMTQ4NDMgMTAuMTEwOSA0LjkxNCAxMC42MTk3QzMuNDg2MjUgMTEuMjA1OSAyLjI1ODAxIDEyLjE5MTcgMS4zNzY2NiAxMy40NTg4QzAuNjI4NzA1IDE0LjUzMTUgMC4xNjc4MTEgMTUuNzc3OCAwLjAzNzg5NTIgMTcuMDc5MUMtMC4wOTIwMjA5IDE4LjM4MDMgMC4xMTMzNzggMTkuNjkzMiAwLjYzNDQ4OSAyMC44OTI2QzEuMjQ5OTUgMjIuMzAxMiAyLjI2MjUgMjMuNDk5OSAzLjU0ODM1IDI0LjM0MjFDNC42NjYxOSAyNS4wNzExIDUuOTQ0MzEgMjUuNTE3OCA3LjI3Mjg4IDI1LjY0MzhDOC42MDE0NiAyNS43Njk4IDkuOTQwNzYgMjUuNTcxMyAxMS4xNzU3IDI1LjA2NTRDMTIuNjA0MiAyNC40NzkgMTMuODMzMSAyMy40OTI4IDE0LjcxNSAyMi4yMjUzQzE0Ljc2MTkgMjIuMTU3NSAxNC44MTQ4IDIyLjA4NDcgMTQuODU3NyAyMi4wMTE5SDEyLjQ3MTVDMTEuMzUxNiAyMy4xMzE2IDkuODQ0OCAyMy43NzkgOC4yNjE2OCAyMy44MjA4QzYuNjc4NTYgMjMuODYyNSA1LjEzOTc2IDIzLjI5NTQgMy45NjIzNSAyMi4yMzYzVjIyLjIzNjNaIiBmaWxsPSJ3aGl0ZSIvPgoJPHBhdGggZD0iTTcxLjUwNiAxNy4yMDcyQzcxLjAyNyAxNi4xMTEyIDcwLjIzOSAxNS4xNzg0IDY5LjIzODUgMTQuNTIyOEM2OC4zNjg1IDEzLjk1NSA2Ny4zNzM1IDEzLjYwNzEgNjYuMzM5MiAxMy41MDkxQzY1LjMwNDkgMTMuNDExMSA2NC4yNjIyIDEzLjU2NTkgNjMuMzAxIDEzLjk2MDJDNjIuMTg5NCAxNC40MTY3IDYxLjIzMzEgMTUuMTg0MyA2MC41NDY4IDE2LjE3MDhDNTkuOTY0NSAxNy4wMDU2IDU5LjYwNTcgMTcuOTc1NyA1OS41MDQ2IDE4Ljk4ODVDNTkuNDAzNSAyMC4wMDEzIDU5LjU2MzQgMjEuMDIzMiA1OS45NjkyIDIxLjk1NjZDNjAuNDQ4NiAyMy4wNTI3IDYxLjIzNjkgMjMuOTg1NSA2Mi4yMzc2IDI0LjY0MTFDNjMuMTA2OSAyNS4yMTA3IDY0LjEwMjEgMjUuNTU5NiA2NS4xMzY3IDI1LjY1NzdDNjYuMTcxNCAyNS43NTU3IDY3LjIxNDMgMjUuNTk5OSA2OC4xNzUxIDI1LjIwMzdDNjkuMjg2NSAyNC43NDcyIDcwLjI0MjUgMjMuOTc5NiA3MC45Mjg0IDIyLjk5MzFDNzEuNTEwNyAyMi4xNTgzIDcxLjg2OTYgMjEuMTg4MiA3MS45NzA3IDIwLjE3NTRDNzIuMDcxOCAxOS4xNjI2IDcxLjkxMTggMTguMTQwNyA3MS41MDYgMTcuMjA3MlYxNy4yMDcyWk02NS43MjAxIDIzLjgyMzFDNjQuODgzNCAyMy44MDE1IDY0LjA3MTYgMjMuNTMzNiA2My4zODY0IDIzLjA1MzFDNjIuNzAxMSAyMi41NzI1IDYyLjE3MjggMjEuOTAwNSA2MS44Njc1IDIxLjEyMTJDNjEuNTYyMiAyMC4zNDE5IDYxLjQ5MzQgMTkuNDg5OCA2MS42Njk5IDE4LjY3MTdDNjEuODQ2NCAxNy44NTM1IDYyLjI2MDIgMTcuMTA1NSA2Mi44NTk2IDE2LjUyMTNDNjMuNDU5IDE1LjkzNzEgNjQuMjE3MyAxNS41NDI3IDY1LjAzOTggMTUuMzg3M0M2NS44NjIyIDE1LjIzMTkgNjYuNzEyMiAxNS4zMjI1IDY3LjQ4MzQgMTUuNjQ3N0M2OC4yNTQ2IDE1Ljk3MjkgNjguOTEyOCAxNi41MTgzIDY5LjM3NTYgMTcuMjE1N0M2OS44Mzg1IDE3LjkxMzEgNzAuMDg1NCAxOC43MzE1IDcwLjA4NTQgMTkuNTY4NUM3MC4wNjkyIDIwLjcxMDUgNjkuNjAwOSAyMS43OTk1IDY4Ljc4MzIgMjIuNTk3QzY3Ljk2NTYgMjMuMzk0NCA2Ni44NjUyIDIzLjgzNTMgNjUuNzIzMSAyMy44MjMxSDY1LjcyMDFaIiBmaWxsPSJ3aGl0ZSIvPgoJPHBhdGggZD0iTTI3Ljg3MjcgMTMuNDc5M0MyNi4yOTQ4IDEzLjQyMTYgMjQuNzU4NSAxMy45OTIyIDIzLjYwMDkgMTUuMDY1OEMyMi40NDMyIDE2LjEzOTUgMjEuNzU4OCAxNy42Mjg2IDIxLjY5NzggMTkuMjA2M0MyMS42OTc4IDE5LjMzMzMgMjEuNjk3OCAxOS40NjAzIDIxLjY5NzggMTkuNTg3NEMyMS42OTc4IDIzLjE2MTYgMjQuMzQzMyAyNS43MTc0IDI4LjMxMjYgMjUuNzE3NEMyOS4yMTM3IDI1Ljc2MiAzMC4xMTM4IDI1LjYxMTIgMzAuOTUxMiAyNS4yNzUyQzMxLjc4ODUgMjQuOTM5MyAzMi41NDMzIDI0LjQyNjIgMzMuMTYzNyAyMy43NzExTDMxLjkzNTcgMjIuMzY4NkMzMS40ODA3IDIyLjg0ODUgMzAuOTI4NiAyMy4yMjU4IDMwLjMxNjIgMjMuNDc1NEMyOS43MDM4IDIzLjcyNSAyOS4wNDUyIDIzLjg0MTEgMjguMzg0NCAyMy44MTZDMjUuOTQ3NCAyMy44MTYgMjQuMjA2NiAyMi40MTM1IDIzLjkyODMgMjAuMzA5NkgzMy45MDM5QzMzLjkyNjggMjAuMTEwMSAzMy45NTA4IDE5LjgzMzggMzMuOTUwOCAxOS42NTMyQzMzLjk5NjIgMTguODM4NyAzMy44NzA5IDE4LjAyMzcgMzMuNTgyOCAxNy4yNjA0QzMzLjI5NDcgMTYuNDk3MiAzMi44NTAyIDE1LjgwMjYgMzIuMjc3OSAxNS4yMjEzQzMxLjcwNTUgMTQuNjQgMzEuMDE4IDE0LjE4NDcgMzAuMjU5NCAxMy44ODQ3QzI5LjUwMDggMTMuNTg0NyAyOC42ODc4IDEzLjQ0NjYgMjcuODcyNyAxMy40NzkzVjEzLjQ3OTNaTTIzLjkyODMgMTguNzQ5NEMyNC4wNTk4IDE3Ljc5NjYgMjQuNTMxNyAxNi45MjM2IDI1LjI1NjkgMTYuMjkxN0MyNS45ODIgMTUuNjU5OCAyNi45MTEzIDE1LjMxMTcgMjcuODczMSAxNS4zMTE3QzI4LjgzNSAxNS4zMTE3IDI5Ljc2NDMgMTUuNjU5OCAzMC40ODk0IDE2LjI5MTdDMzEuMjE0NSAxNi45MjM2IDMxLjY4NjUgMTcuNzk2NiAzMS44MTggMTguNzQ5NEgyMy45MjgzWiIgZmlsbD0id2hpdGUiLz4KCTxwYXRoIGQ9Ik0yMS45NjM0IDEzLjQ4MzRDMTkuODA1NyAxMy40ODM0IDE4LjI3MjUgMTQuMjA3NiAxNy40ODQ0IDE1LjYwOTJWMTMuNTk3MUgxNS4zNDg2VjI1LjU4NThIMTcuNTc2MlYxOS42MTM0QzE3LjU3NjIgMTYuOTg5OCAxOS4wNjI1IDE1LjU2NDMgMjEuNDUyNyAxNS41NjQzQzIxLjYyMzMgMTUuNTYxMSAyMS43OTM4IDE1LjU2ODcgMjEuOTYzNCAxNS41ODcyVjEzLjQ4MzRaIiBmaWxsPSJ3aGl0ZSIvPgoJPHBhdGggZD0iTTUzLjM0OTYgMjMuODg5M0M1Mi4xMjE2IDIzLjg4OTMgNTEuNzMwNiAyMy4xNjUxIDUxLjczMDYgMjEuODc3MlYxNS4zODQxSDU1LjI1OFYxMy41OTc1SDUxLjcyNzZWMTAuMDgwMUg0OS40OTlWMTMuNTk3NUg0OC43MzI5VjE1LjM4NDFINDkuNDk5VjIxLjk2OEM0OS40OTkgMjQuMzg5MSA1MC42MTAzIDI1LjcyMTggNTMuMDkwMyAyNS43MjE4QzUzLjk2MzMgMjUuNzU1NyA1NC44MTY3IDI1LjQ1NjUgNTUuNDc3NCAyNC44ODQ5TDU0Ljc3OTEgMjMuMzI2N0M1NC4zOTQzIDIzLjY5MzYgNTMuODgxMyAyMy44OTU1IDUzLjM0OTYgMjMuODg5M1oiIGZpbGw9IndoaXRlIi8+Cgk8cGF0aCBkPSJNNTguNTU0NyAxMy41OTU3SDU2LjMyNzFWMjUuNTg0NEg1OC41NTQ3VjEzLjU5NTdaIiBmaWxsPSJ3aGl0ZSIvPgoJPHBhdGggZD0iTTQ1LjQzNiAxNS4yNjU5QzQ1LjE1MzYgMTQuOTg5NiA0NC44NDU3IDE0Ljc0MDggNDQuNTE2MiAxNC41MjI3QzQzLjY0NjIgMTMuOTU0OSA0Mi42NTEyIDEzLjYwNzEgNDEuNjE2OSAxMy41MDkxQzQwLjU4MjYgMTMuNDExMSAzOS41NCAxMy41NjU4IDM4LjU3ODggMTMuOTYwMUMzNy40NjcyIDE0LjQxNjggMzYuNTEwOSAxNS4xODQzIDM1LjgyNDUgMTYuMTcwNkMzNS4yNDIzIDE3LjAwNTUgMzQuODgzNiAxNy45NzU3IDM0Ljc4MjcgMTguOTg4NUMzNC42ODE3IDIwLjAwMTMgMzQuODQxOSAyMS4wMjMxIDM1LjI0NzkgMjEuOTU2NUMzNS43MjY5IDIzLjA1MjYgMzYuNTE0OCAyMy45ODU0IDM3LjUxNTQgMjQuNjQwOUMzOC4zODQ3IDI1LjIxMDUgMzkuMzc5OCAyNS41NTk0IDQwLjQxNDQgMjUuNjU3NEM0MS40NDkxIDI1Ljc1NTQgNDIuNDkyIDI1LjU5OTcgNDMuNDUyOCAyNS4yMDM2QzQ0LjE5MDggMjQuODk4NiA0NC44NjM4IDI0LjQ1NTcgNDUuNDM2IDIzLjg5ODhWMjUuNTgzNkg0Ny4zNjIzVjEzLjU5NDlINDUuNDRMNDUuNDM2IDE1LjI2NTlaTTQxLjAwMTggMjMuODIzOUM0MC4xNjUzIDIzLjgwMjQgMzkuMzUzNyAyMy41MzQ2IDM4LjY2ODUgMjMuMDU0MkMzNy45ODMzIDIyLjU3MzggMzcuNDU1IDIxLjkwMjEgMzcuMTQ5NiAyMS4xMjNDMzYuODQ0MSAyMC4zNDM5IDM2Ljc3NTIgMTkuNDkyMSAzNi45NTEzIDE4LjY3NEMzNy4xMjc1IDE3Ljg1NTkgMzcuNTQwOSAxNy4xMDc5IDM4LjEzOTkgMTYuNTIzNkMzOC43Mzg5IDE1LjkzOTIgMzkuNDk2OCAxNS41NDQ1IDQwLjMxOSAxNS4zODg2QzQxLjE0MTIgMTUuMjMyOCA0MS45OTExIDE1LjMyMjggNDIuNzYyNCAxNS42NDc0QzQzLjUzMzcgMTUuOTcyIDQ0LjE5MjEgMTYuNTE2OCA0NC42NTU0IDE3LjIxMzdDNDUuMTE4NyAxNy45MTA2IDQ1LjM2NjMgMTguNzI4NSA0NS4zNjcyIDE5LjU2NTNDNDUuMzUxNyAyMC43MDg0IDQ0Ljg4MzMgMjEuNzk4NyA0NC4wNjQ5IDIyLjU5NjlDNDMuMjQ2NSAyMy4zOTUgNDIuMTQ0OSAyMy44MzYgNDEuMDAxOCAyMy44MjI5VjIzLjgyMzlaIiBmaWxsPSJ3aGl0ZSIvPgoJPHBhdGggZD0iTTYyLjU3MjkgOS44NTk2NUw1My45NTE4IDExLjgwODdMNTYuNTE5MyA5Ljg1OTY1TDQ2IDVMNjIuNTcyOSA5Ljg1OTY1WiIgZmlsbD0id2hpdGUiLz4KCTxwYXRoIGQ9Ik02Mi41NzI5IDkuODU5NjVINTYuNTE4Mkw0NiA1TDYyLjU3MjkgOS44NTk2NVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="},60638:P=>{P.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTg4IiBoZWlnaHQ9IjM2NiIgdmlld0JveD0iMCAwIDU4OCAzNjYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMTQ3NDFfMTU5NDkpIj4KICAgICAgICA8cmVjdCB3aWR0aD0iNTg4IiBoZWlnaHQ9IjM2NiIgcng9IjgiIGZpbGw9IndoaXRlIiAvPgogICAgICAgIDxyZWN0IHdpZHRoPSI1ODgiIGhlaWdodD0iMzY2IiBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMTQ3NDFfMTU5NDkpIiBmaWxsLW9wYWNpdHk9IjAuMDUiIC8+CiAgICAgICAgPHBhdGgKICAgICAgICAgICAgZD0iTTI5My45ODggMTkxLjI1QzI5Ny43MTYgMTkxLjI1IDMwMC43MzggMTg4LjIyOCAzMDAuNzM4IDE4NC41QzMwMC43MzggMTgwLjc3MiAyOTcuNzE2IDE3Ny43NSAyOTMuOTg4IDE3Ny43NUMyOTAuMjYgMTc3Ljc1IDI4Ny4yMzggMTgwLjc3MiAyODcuMjM4IDE4NC41QzI4Ny4yMzggMTg4LjIyOCAyOTAuMjYgMTkxLjI1IDI5My45ODggMTkxLjI1WiIKICAgICAgICAgICAgZmlsbD0iI0Q2RDZENiIgLz4KICAgICAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIKICAgICAgICAgICAgZD0iTTI4NS44MTYgMTY4LjU1MUMyODYuMjI1IDE2Ny4zMjYgMjg3LjM3MSAxNjYuNSAyODguNjYyIDE2Ni41SDI5OS4zMzhDMzAwLjYyOSAxNjYuNSAzMDEuNzc1IDE2Ny4zMjYgMzAyLjE4NCAxNjguNTUxTDMwMyAxNzFIMzA3LjVDMzA5Ljk4NSAxNzEgMzEyIDE3My4wMTUgMzEyIDE3NS41VjE5My41QzMxMiAxOTUuOTg1IDMwOS45ODUgMTk4IDMwNy41IDE5OEgyODAuNUMyNzguMDE1IDE5OCAyNzYgMTk1Ljk4NSAyNzYgMTkzLjVWMTc1LjVDMjc2IDE3My4wMTUgMjc4LjAxNSAxNzEgMjgwLjUgMTcxSDI4NUwyODUuODE2IDE2OC41NTFaTTI5My45ODggMTk0LjI1QzI5OS4zNzMgMTk0LjI1IDMwMy43MzggMTg5Ljg4NSAzMDMuNzM4IDE4NC41QzMwMy43MzggMTc5LjExNSAyOTkuMzczIDE3NC43NSAyOTMuOTg4IDE3NC43NUMyODguNjA0IDE3NC43NSAyODQuMjM4IDE3OS4xMTUgMjg0LjIzOCAxODQuNUMyODQuMjM4IDE4OS44ODUgMjg4LjYwNCAxOTQuMjUgMjkzLjk4OCAxOTQuMjVaTTMwNC41IDE3Ni4yNTdDMzA0LjUgMTc3LjUgMzA1LjUwNyAxNzguNTA3IDMwNi43NSAxNzguNTA3QzMwNy45OTMgMTc4LjUwNyAzMDkgMTc3LjUgMzA5IDE3Ni4yNTdDMzA5IDE3NS4wMTUgMzA3Ljk5MyAxNzQuMDA3IDMwNi43NSAxNzQuMDA3QzMwNS41MDcgMTc0LjAwNyAzMDQuNSAxNzUuMDE1IDMwNC41IDE3Ni4yNTdaIgogICAgICAgICAgICBmaWxsPSIjRDZENkQ2IiAvPgogICAgPC9nPgogICAgPHJlY3QgeD0iMC41IiB5PSIwLjUiIHdpZHRoPSI1ODciIGhlaWdodD0iMzY1IiByeD0iNy41IiBzdHJva2U9IiNFM0UzRTMiIC8+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMTQ3NDFfMTU5NDkiIHgxPSIxODguNTE5IiB5MT0iMCIgeDI9IjUzNi4zODIiIHkyPSIwIgogICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxODE4MTgiIC8+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iIzE4MTgxOCIgc3RvcC1vcGFjaXR5PSIwIiAvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGNsaXBQYXRoIGlkPSJjbGlwMF8xNDc0MV8xNTk0OSI+CiAgICAgICAgICAgIDxyZWN0IHdpZHRoPSI1ODgiIGhlaWdodD0iMzY2IiByeD0iOCIgZmlsbD0id2hpdGUiIC8+CiAgICAgICAgPC9jbGlwUGF0aD4KICAgIDwvZGVmcz4KPC9zdmc+"},92272:(P,j,o)=>{o.d(j,{A:()=>g});function p(l){return l===void 0}const g=p},73308:(P,j,o)=>{o.d(j,{A:()=>g});function p(l,t,f,E,y,w,m){try{var h=l[w](m),_=h.value}catch(x){f(x);return}h.done?t(_):Promise.resolve(_).then(E,y)}function g(l){return function(){var t=this,f=arguments;return new Promise(function(E,y){var w=l.apply(t,f);function m(_){p(w,E,y,m,h,"next",_)}function h(_){p(w,E,y,m,h,"throw",_)}m(void 0)})}}}}]);
