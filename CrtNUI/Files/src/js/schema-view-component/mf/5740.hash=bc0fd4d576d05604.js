(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[5740,3359],{73359:(y,d,a)=>{a.r(d),a.d(d,{BaseChartDirective:()=>n,NG_CHARTS_CONFIGURATION:()=>h,ThemeService:()=>r,provideCharts:()=>v,withDefaultRegisterables:()=>C});var t=a(59131),c=a(16318),l=a(69524),u=a(47868),g=a(62278),f=a(36486);const h=new t.InjectionToken("Configuration for ngCharts");function C(...p){return{registerables:[...c.$L,...p]}}function v(...p){const e=(0,u.A)({},...p);return{provide:h,useValue:e}}class r{constructor(){this.colorschemesOptions=new g.BehaviorSubject(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:r.\u0275fac,providedIn:"root"})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(r,[{type:t.Injectable,args:[{providedIn:"root"}]}],null,null);class n{constructor(e,s,o,i){this.zone=s,this.themeService=o,this.type="bar",this.plugins=[],this.chartClick=new t.EventEmitter,this.chartHover=new t.EventEmitter,this.subs=[],this.themeOverrides={},i?.registerables&&c.t1.register(...i.registerables),i?.defaults&&l.d.set(i.defaults),this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe((0,f.distinctUntilChanged)()).subscribe(O=>this.themeChanged(O)))}ngOnChanges(e){const s=["type"],o=Object.getOwnPropertyNames(e);if(o.some(i=>s.includes(i))||o.every(i=>e[i].isFirstChange()))this.render();else{const i=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,i.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,i.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,i.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),this.zone.runOutsideAngular(()=>this.chart=new c.t1(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(e))}hideDataset(e,s){this.chart&&(this.chart.getDatasetMeta(e).hidden=s,this.update())}isDatasetHidden(e){return this.chart?.getDatasetMeta(e)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return(0,u.A)({onHover:(e,s)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:e,active:s}))},onClick:(e,s)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:e,active:s}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions(),plugins:this.plugins}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}static{this.\u0275fac=function(s){return new(s||n)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(r),t.\u0275\u0275directiveInject(h,8))}}static{this.\u0275dir=t.\u0275\u0275defineDirective({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],standalone:!0,features:[t.\u0275\u0275NgOnChangesFeature]})}}(typeof ngDevMode>"u"||ngDevMode)&&t.\u0275setClassMetadata(n,[{type:t.Directive,args:[{selector:"canvas[baseChart]",exportAs:"base-chart",standalone:!0}]}],()=>[{type:t.ElementRef},{type:t.NgZone},{type:r},{type:void 0,decorators:[{type:t.Optional},{type:t.Inject,args:[h]}]}],{type:[{type:t.Input}],legend:[{type:t.Input}],data:[{type:t.Input}],options:[{type:t.Input}],plugins:[{type:t.Input}],labels:[{type:t.Input}],datasets:[{type:t.Input}],chartClick:[{type:t.Output}],chartHover:[{type:t.Output}]})}}]);
