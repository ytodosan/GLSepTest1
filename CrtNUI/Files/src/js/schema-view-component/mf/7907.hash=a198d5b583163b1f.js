(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[7907],{57907:(oe,E,r)=>{r.r(E),r.d(E,{AddNextStepHandler:()=>j,AddNextStepRequest:()=>Z,CHANGE_NEXT_STEPS_STATE_DEBOUNCE_MS:()=>ve,CHANGE_NEXT_STEPS_STATE_EVENT_NAME:()=>U,ChangeNextStepsStateRequest:()=>ee,ChangeNextStepsStateRequestHandler:()=>F,CrtApprovalTileComponent:()=>T,CrtNextStepTileComponent:()=>C,CrtNextStepsComponent:()=>d,CrtNextStepsIconComponent:()=>v,CrtNextStepsModule:()=>H,EnitityStageProgressBarSaveRecordHandler:()=>L,FILTER_NEXT_STEPS_ITEMS_EVENT_NAME:()=>M,LoadNextStepsConverter:()=>B,NEXT_STEPS_APPROVAL_ENTITY_NAME:()=>V,NEXT_STEPS_OLD_APPROVAL_ENTITY_NAME_REGEX:()=>G,NextStepTileIconUtil:()=>ye,NextStepsPreprocessor:()=>b,NextStepsService:()=>w,RELOAD_NEXT_STEPS_PREFIX:()=>X});var s=r(5960),p=r(40297),y=r(52989),A=r(10067),re=r(55642),u=r(79772),P=r(28627),se=r(5476),le=r(47951),ce=r(50663),pe=r(31149),de=r(24091),me=r(48629),xe=r(94439),ue=r(90895),ge=r(69015),Ae=r(12841),he=r(43691),e=r(59131),fe=r(61541),h=r(77592),ke=r(34760),z=r(3671),K=r(96677),Re=r(52793),Pe=r(10098),_=r(59969),Me=r(74068),$=r(68712),Ve=r(29423),Oe=r(73723),De=r(72572),_e=r(94660),l=r(28399);const U="ChangeNextStepsStateEvent",M="FilterNextStepsItemsEvent",X="NextStepsEvent_",V="SysApproval",G=new RegExp(".+?Visa$","i");var Y=r(62115),O=r(12325),Be=r(70362),q=r(58433),je=r(86432);const Fe=()=>["next-step-activity-icon","next-step-call-icon","next-step-feed-icon","next-step-email-icon"];function Le(a,t){if(a&1&&(e.\u0275\u0275elementStart(0,"div",15),e.\u0275\u0275element(1,"crt-button",16),e.\u0275\u0275pipe(2,"translate"),e.\u0275\u0275elementEnd()),a&2){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(),e.\u0275\u0275property("iconPosition","left-icon")("iconSize","large")("icon","add-button-icon")("menuItems",n.addNextStepsItems)("color","default")("caption",e.\u0275\u0275pipeBind1(2,6,"NextSteps.AddNewStepMenuCaption"))}}function He(a,t){if(a&1&&(e.\u0275\u0275elementStart(0,"div",10),e.\u0275\u0275element(1,"crt-lottie",11)(2,"crt-label",12),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275element(4,"crt-label",13),e.\u0275\u0275pipe(5,"translate"),e.\u0275\u0275template(6,Le,3,8,"div",14),e.\u0275\u0275elementEnd()),a&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(),e.\u0275\u0275property("config",n.noDataAnimationOptions),e.\u0275\u0275advance(),e.\u0275\u0275property("caption",e.\u0275\u0275pipeBind1(3,4,"NextSteps.NoDataContainerLabel")),e.\u0275\u0275advance(2),e.\u0275\u0275property("caption",e.\u0275\u0275pipeBind1(5,6,"NextSteps.NoDataContainerDescription")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",n.canAdd)}}function ze(a,t){if(a&1&&e.\u0275\u0275element(0,"crt-gallery",17),a&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("items",n.dataItems)("itemConfig",n.galleryItemConfig)("selectable",!0)("loading",n.loading)("mode",n.galleryItemViewMode.ViewElementConfig)}}function Ke(a,t){if(a&1&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"div",8),e.\u0275\u0275template(2,He,7,8,"div",9)(3,ze,1,5,"ng-template",null,1,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementContainerEnd()),a&2){const n=e.\u0275\u0275reference(4),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",(i.dataItems==null?null:i.dataItems.length)===0)("ngIfElse",n)}}function $e(a,t){if(a&1&&e.\u0275\u0275element(0,"mat-icon",31),a&2){const n=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275property("svgIcon",n)}}function Ue(a,t){if(a&1&&e.\u0275\u0275element(0,"crt-skeleton-loader",32),a&2){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("styles",n.skeletonConfig.icon)}}function Xe(a,t){a&1&&e.\u0275\u0275element(0,"div",33)}function Ge(a,t){if(a&1&&e.\u0275\u0275element(0,"crt-skeleton-loader",34),a&2){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("styles",n.skeletonConfig.title)}}function Ye(a,t){a&1&&e.\u0275\u0275element(0,"div",35)}function qe(a,t){if(a&1&&e.\u0275\u0275element(0,"crt-skeleton-loader",36),a&2){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("styles",n.skeletonConfig.title)}}function Qe(a,t){a&1&&e.\u0275\u0275element(0,"div",37)}function We(a,t){if(a&1&&e.\u0275\u0275element(0,"crt-skeleton-loader",38),a&2){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("styles",n.skeletonConfig.footerIcon)}}function Je(a,t){a&1&&e.\u0275\u0275element(0,"div",39)}function Ze(a,t){a&1&&e.\u0275\u0275element(0,"div",39)}function et(a,t){if(a&1&&e.\u0275\u0275element(0,"crt-skeleton-loader",40),a&2){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("styles",n.skeletonConfig.ownerName)}}function tt(a,t){if(a&1&&(e.\u0275\u0275elementStart(0,"div",21)(1,"div",22),e.\u0275\u0275template(2,$e,1,1,"mat-icon",23)(3,Ue,1,1,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(5,"div",24),e.\u0275\u0275template(6,Xe,1,0,"div",25)(7,Ge,1,1,"ng-template",null,3,e.\u0275\u0275templateRefExtractor)(9,Ye,1,0,"div",26)(10,qe,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"div",27),e.\u0275\u0275template(13,Qe,1,0,"div",28)(14,We,1,1,"ng-template",null,5,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(16,"div",29),e.\u0275\u0275template(17,Je,1,0,"div",30)(18,Ze,1,0,"div",30)(19,et,1,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()()),a&2){const n=e.\u0275\u0275reference(4),i=e.\u0275\u0275reference(8),o=e.\u0275\u0275reference(11),c=e.\u0275\u0275reference(15),m=e.\u0275\u0275reference(20),g=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",g.isDesignTime)("ngIfElse",n),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",g.isDesignTime)("ngIfElse",i),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",g.isDesignTime)("ngIfElse",o),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",g.isDesignTime)("ngIfElse",c),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",g.isDesignTime)("ngIfElse",m),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",g.isDesignTime)("ngIfElse",m)}}function nt(a,t){if(a&1&&(e.\u0275\u0275elementStart(0,"div",18)(1,"div",19),e.\u0275\u0275template(2,tt,21,12,"div",20),e.\u0275\u0275elementEnd()()),a&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngClass","next-steps-plug "+(n.isDesignTime?"design-time":"runtime")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pureFunction0(2,Fe))}}const ve=500;let d=class te extends $.K{set nextSteps(t){if(!t)return;this.dataLoading=!1;const n=new Oe.A(this._viewModelGenerator);t.forEach(i=>{n.push({...i,tileConfig:this._getTileConfig(i)})}),this.dataItems=n}set masterSchemaId(t){t&&(this._masterSchemaId=t)}set masterSchemaName(t){t&&(this._masterSchemaName=t)}set galleryItemConfig(t){this._galleryItemConfig=t}get galleryItemConfig(){return{...this._defaultGalleryItemConfig,...this._galleryItemConfig}}set tilesMap(t){const n=Object.assign({},this._defaultTilesMap);Object.keys(t).forEach(i=>{n[i]={...n[i],...t[i]}}),this._tilesMap=n}get tilesMap(){return(0,l.isEmpty)(this._tilesMap)&&(this._tilesMap={...this._defaultTilesMap}),this._tilesMap}set canAdd(t){this._canAdd=t}get canAdd(){return this._canAdd&&this.cardState===fe.n.Edit}set bindingColumns(t){this._bindingColumns=t,this._setAddNextStepsItems()}get addNextStepsItems(){return this._addNextStepsItems||this._setAddNextStepsItems(),this._addNextStepsItems}get isDesignTime(){return this._isDesignTime??!1}constructor(t,n,i,o,c){super(t),this._viewModelGenerator=n,this._isDesignTime=i,this._customEventService=o,this._translateService=c,this._subscriptions=[],this._canAdd=!0,this._defaultTilesMap={[V]:{tileClassName:"crt.ApprovalTile"},Activity:{tileClassName:"crt.NextStepTile",editPage:"CrtActivityMiniPage"},default:{tileClassName:"crt.NextStepTile"}},this._defaultGalleryItemConfig={viewElementConfigFactory:m=>({type:this._getViewElementType(m),record:m})},this._reloadNextStepsDebounceFn=(0,l.debounce)(()=>this._reloadNextSteps(),ve),this.galleryItemViewMode=Me.O,this.skeletonConfig={icon:{height:"20px",width:"20px",margin:0,"vertical-align":"top"},footerIcon:{height:"16px",width:"16px",margin:0,"vertical-align":"top"},title:{height:"16px","vertical-align":"top","border-radius":"4px"},ownerName:{height:"12px",width:"46px","vertical-align":"top","border-radius":"4px"}},this.dataItems=[],this.noDataAnimationOptions={animationData:()=>r.e(3691).then(r.t.bind(r,66072,19)),autoplay:!0,loop:!1},this.reloadNextStepsChange=new e.EventEmitter,this.dataLoading=!0,this._liveEditingService=t.get(De.m)}_reloadNextSteps(){(0,l.isEmpty)(this._masterSchemaId)||(0,l.isEmpty)(this._masterSchemaName)||this._masterSchemaName==="#DataSourceEntityName()#"||this.reloadNextStepsChange.emit(X+new Date)}_setAddNextStepsItems(){this._addNextStepsItems=[{caption:this._translateService.instant("NextSteps.CreateActivityButtonCaption"),type:"crt.MenuItem",name:"AddTask",clicked:{request:"crt.AddNextStepRequest",params:{entityName:"Activity"}}},{caption:this._translateService.instant("NextSteps.CreateEmailButtonCaption"),type:"crt.MenuItem",name:"AddEmail",clicked:{request:"crt.CreateEmailRequest",params:{bindingColumns:this._bindingColumns}}}]}_getTileConfig(t){if((0,l.isEmpty)(t?.entityName))return this.tilesMap.default;const n=this.tilesMap[t.entityName];return n||(G.test(t.entityName)?this.tilesMap[V]:this.tilesMap.default)}_getViewElementType(t){const n=this._getTileConfig(t),i=this.tilesMap.default;return n.tileClassName||i.tileClassName}_subscribeToEvents(){this._subscriptions.push(this._customEventService.subscribe(U).subscribe(()=>this._reloadNextStepsDebounceFn())),this._subscriptions.push(this._liveEditingService.liveEditingEvent$.subscribe(t=>{t.entitySchemaName==="Activity"&&this._reloadNextStepsDebounceFn()})),this._subscriptions.push(this._customEventService.subscribe(M).subscribe(t=>this._filterDataItems(t)))}_filterDataItems(t){this.dataItems=this.dataItems.filter(n=>n.id!==t),this.changeDetectorRef.detectChanges()}_unsubscribeFromEvents(){this._subscriptions.forEach(t=>t?.unsubscribe())}ngOnInit(){(0,l.isEmpty)(this.reloadNextSteps)||this._reloadNextStepsDebounceFn(),this._subscribeToEvents()}ngOnDestroy(){super.ngOnDestroy(),this._unsubscribeFromEvents()}static{this.\u0275fac=function(n){return new(n||te)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(_e.d),e.\u0275\u0275directiveInject(Ve.w,8),e.\u0275\u0275directiveInject(_.Dj),e.\u0275\u0275directiveInject(u.TranslateService))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:te,selectors:[["crt-next-steps"]],inputs:{reloadNextSteps:"reloadNextSteps",nextSteps:"nextSteps",dataLoading:"dataLoading",cardState:"cardState",masterSchemaId:"masterSchemaId",masterSchemaName:"masterSchemaName",galleryItemConfig:"galleryItemConfig",tilesMap:"tilesMap",canAdd:"canAdd",bindingColumns:"bindingColumns"},outputs:{reloadNextStepsChange:"reloadNextStepsChange"},features:[e.\u0275\u0275ProvidersFeature([{provide:_.Dj,useFactory:t=>new _.Dj(t),deps:[p.DOCUMENT]}]),e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["next_steps_plug",""],["next_steps",""],["nextStepsSkeletonIcon",""],["nextStepsSkeletonTitle",""],["nextStepsSkeletonDesc",""],["nextStepsSkeletonFooterIcon",""],["nextStepsSkeletonSignatureItem",""],[4,"ngIf","ngIfElse"],[1,"next-steps"],["class","next-steps-no-data-container",4,"ngIf","ngIfElse"],[1,"next-steps-no-data-container"],[3,"config"],[1,"next-steps-no-data-main-label",3,"caption"],[1,"next-steps-no-data-description",3,"caption"],["class","next-steps-no-data-add-step-container",4,"ngIf"],[1,"next-steps-no-data-add-step-container"],["clickMode","menu",1,"next-steps-plug-add-button",3,"iconPosition","iconSize","icon","menuItems","color","caption"],[1,"next-steps-gallery",3,"items","itemConfig","selectable","loading","mode"],[3,"ngClass"],[1,"next-steps-plug-tiles"],["class","next-steps-plug-tiles-item",4,"ngFor","ngForOf"],[1,"next-steps-plug-tiles-item"],[1,"next-steps-plug-tiles-item-header"],[3,"svgIcon",4,"ngIf","ngIfElse"],[1,"next-steps-plug-tiles-item-header-content"],["class","next-steps-plug-tiles-item-header-content-text title",4,"ngIf","ngIfElse"],["class","next-steps-plug-tiles-item-header-content-text desc",4,"ngIf","ngIfElse"],[1,"next-steps-plug-tiles-item-footer"],["class","next-steps-plug-tiles-item-footer-icon",4,"ngIf","ngIfElse"],[1,"next-steps-plug-tiles-item-footer-signature"],["class","next-steps-plug-tiles-item-footer-signature-item",4,"ngIf","ngIfElse"],[3,"svgIcon"],["appearance","circle","count","1",1,"next-steps-plug-tiles-item-header-icon",3,"styles"],[1,"next-steps-plug-tiles-item-header-content-text","title"],["appearance","line","count","1",1,"next-steps-plug-tiles-item-header-content-text","title",3,"styles"],[1,"next-steps-plug-tiles-item-header-content-text","desc"],["appearance","line","count","1",1,"next-steps-plug-tiles-item-header-content-text","desc",3,"styles"],[1,"next-steps-plug-tiles-item-footer-icon"],["appearance","circle","count","1",1,"next-steps-plug-tiles-item-footer-icon",3,"styles"],[1,"next-steps-plug-tiles-item-footer-signature-item"],["appearance","line","count","2",1,"next-steps-plug-tiles-item-footer-signature-item-skeleton",3,"styles"]],template:function(n,i){if(n&1&&e.\u0275\u0275template(0,Ke,5,2,"ng-container",7)(1,nt,3,3,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),n&2){const o=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngIf",!i.isDesignTime&&!i.dataLoading)("ngIfElse",o)}},dependencies:[Y.B,p.NgClass,p.NgForOf,p.NgIf,O.V,y.MatIcon,Be.D,q.W,je.w,u.TranslatePipe],styles:[".next-steps[_ngcontent-%COMP%]:not(.card-toggle-tab-panel   .next-steps)[_ngcontent-%COMP%]{max-height:312px}.next-steps-no-data-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;height:100%}.next-steps-no-data-container[_ngcontent-%COMP%]   ng-lottie[_ngcontent-%COMP%]{cursor:pointer}.next-steps-no-data-container[_ngcontent-%COMP%]   .next-steps-no-data-main-label[_ngcontent-%COMP%]{margin-top:35px}.next-steps-no-data-container[_ngcontent-%COMP%]   .next-steps-no-data-add-step-container[_ngcontent-%COMP%]{display:inline-block}.next-steps-no-data-container[_ngcontent-%COMP%]   .next-steps-no-data-description[_ngcontent-%COMP%], .next-steps-no-data-container[_ngcontent-%COMP%]   .next-steps-plug-add-button[_ngcontent-%COMP%]{margin-top:16px}.next-steps-no-data-container[_ngcontent-%COMP%]   .next-steps-plug-add-caption[_ngcontent-%COMP%]{float:right;margin-top:22px}.next-steps-plug.design-time[_ngcontent-%COMP%]{padding-bottom:12px}.next-steps-plug.runtime[_ngcontent-%COMP%]{padding:0}.next-steps-plug-tiles[_ngcontent-%COMP%]{container-type:inline-size;margin-top:12px;display:flex;flex-wrap:wrap;gap:8px}.next-steps-plug-tiles-item[_ngcontent-%COMP%]{background:var(--crt-palette-interaction-A100);padding:12px;height:96px;border:1px solid var(--crt-palette-foreground-50);border-radius:8px;box-sizing:border-box}.next-steps-plug-tiles-item-header[_ngcontent-%COMP%]{display:flex}.next-steps-plug-tiles-item-header-content[_ngcontent-%COMP%]{width:calc(100% - 20px)}.next-steps-plug-tiles-item-header-content-text[_ngcontent-%COMP%]{margin-inline-start:8px;border-radius:4px;height:16px;background-color:var(--crt-palette-secondary-50)}.next-steps-plug-tiles-item-header-content-text.title[_ngcontent-%COMP%]{width:calc(100% - 8px)}.next-steps-plug-tiles-item-header-content-text.desc[_ngcontent-%COMP%]{margin-top:4px;width:calc(87% - 8px)}.next-steps-plug-tiles-item-header-icon[_ngcontent-%COMP%]{border-radius:50%;width:20px;height:20px;background-color:var(--crt-palette-secondary-50)}.next-steps-plug-tiles-item-footer[_ngcontent-%COMP%]{display:flex;margin-top:22px}.next-steps-plug-tiles-item-footer-icon[_ngcontent-%COMP%]{border-radius:50%;width:16px;height:16px;background-color:var(--crt-palette-secondary-50)}.next-steps-plug-tiles-item-footer-signature[_ngcontent-%COMP%]{margin-top:2px;margin-inline-start:12px;display:flex;justify-content:space-between;width:calc(100% - 28px)}.next-steps-plug-tiles-item-footer-signature-item[_ngcontent-%COMP%], .next-steps-plug-tiles-item-footer-signature-item-skeleton[_ngcontent-%COMP%]{border-radius:4px;width:46px;height:12px;background-color:var(--crt-palette-secondary-50);margin-inline-start:4px}.next-steps-plug-tiles-item-footer-signature-item-skeleton[_ngcontent-%COMP%], .next-steps-plug-tiles-item-footer-signature-item-skeleton-skeleton[_ngcontent-%COMP%]{margin-inline-start:0}@container (max-width: 472px){.next-steps-plug-tiles-item[_ngcontent-%COMP%]{width:100%}}@container (min-width: 472px) and (max-width: 712px){.next-steps-plug-tiles-item[_ngcontent-%COMP%]{width:calc((100% - 8px)/2)}}@container (min-width: 712px) and (max-width: 952px){.next-steps-plug-tiles-item[_ngcontent-%COMP%]{width:calc((100% - 16px) / 3)}}@container (min-width: 952px){.next-steps-plug-tiles-item[_ngcontent-%COMP%]{width:calc((100% - 24px)/4);max-width:292px}}"]})}};(0,s.__decorate)([(0,h.k)(),(0,s.__metadata)("design:type",String)],d.prototype,"reloadNextSteps",void 0),(0,s.__decorate)([(0,ke.j)(),(0,s.__metadata)("design:type",Object)],d.prototype,"reloadNextStepsChange",void 0),(0,s.__decorate)([(0,h.k)(),(0,s.__metadata)("design:type",Array),(0,s.__metadata)("design:paramtypes",[Array])],d.prototype,"nextSteps",null),(0,s.__decorate)([(0,h.k)(),(0,s.__metadata)("design:type",Object)],d.prototype,"dataLoading",void 0),(0,s.__decorate)([(0,h.k)(),(0,s.__metadata)("design:type",String)],d.prototype,"cardState",void 0),(0,s.__decorate)([(0,h.k)(),(0,s.__metadata)("design:type",String),(0,s.__metadata)("design:paramtypes",[String])],d.prototype,"masterSchemaId",null),(0,s.__decorate)([(0,h.k)(),(0,s.__metadata)("design:type",String),(0,s.__metadata)("design:paramtypes",[String])],d.prototype,"masterSchemaName",null),(0,s.__decorate)([(0,h.k)(),(0,s.__metadata)("design:type",Object),(0,s.__metadata)("design:paramtypes",[Object])],d.prototype,"galleryItemConfig",null),(0,s.__decorate)([(0,h.k)(),(0,s.__metadata)("design:type",Object),(0,s.__metadata)("design:paramtypes",[Object])],d.prototype,"tilesMap",null),(0,s.__decorate)([(0,h.k)(),(0,s.__metadata)("design:type",Boolean),(0,s.__metadata)("design:paramtypes",[Boolean])],d.prototype,"canAdd",null),(0,s.__decorate)([(0,h.k)(),(0,s.__metadata)("design:type",Array),(0,s.__metadata)("design:paramtypes",[Array])],d.prototype,"bindingColumns",null),d=(0,s.__decorate)([(0,z.v)({type:"crt.NextSteps",reuseStrategy:K.B.Reuse}),(0,Re.f)({designControlConfig:{allowDesignContent:!0},propertiesPanelComponentTypeName:"crt.NextStepsPropertiesPanel",viewElementGroupType:Pe.J.Components,typeCaption:"NextSteps.Caption"}),(0,s.__metadata)("design:paramtypes",[e.Injector,_e.d,Boolean,_.Dj,u.TranslateService])],d);var x=r(73308),it=r(86464),k=r(91775),Q=r(6530),at=r(48478),D=r(55359),ot=r(41314),rt=r(90983);class ye{static{this._activitySchemaName="Activity"}static{this._activityCategoryTileIconHash={"e52bd583-7825-e011-8165-00155d043204":"call","03df85bf-6b19-4dea-8463-d5d49b80bb28":"call","42c74c49-58e6-df11-971b-001d60e938c6":"meeting","2365ae4f-58e6-df11-971b-001d60e938c6":"paper-work","8b16d130-313e-4b12-a12e-73a2dd8d33cf":"visit"}}static _getActivityTileIconKey(t){if(t.TypeId?.toLowerCase()===D.Iq.toLowerCase())return"email";const i=t.ActivityCategoryId;return(0,l.isEmpty)(i)?"":this._activityCategoryTileIconHash[i]}static getTileIconKey(t,n){if(t===this._activitySchemaName&&n){const i=this._getActivityTileIconKey(n);if(!(0,l.isEmpty)(i))return i}return t}}var Ce=r(53703),Se=r(92340),st=r(56027),lt=r(20405);class v extends $.K{get icon(){let t=this.tileKey?.toLowerCase();return st.z.includes(t)||(G.test(t)?t=V.toLowerCase():t="default"),`${t}-entity-icon`}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(v)))(i||v)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:v,selectors:[["crt-next-steps-icon"]],inputs:{tileKey:"tileKey"},features:[e.\u0275\u0275InheritDefinitionFeature],decls:1,vars:2,consts:[[3,"tileKey","icon"]],template:function(n,i){n&1&&e.\u0275\u0275element(0,"crt-entity-icon",0),n&2&&e.\u0275\u0275property("tileKey",i.tileKey)("icon",i.icon)},dependencies:[lt.N]})}}var we=r(38884);const ct=["nextStepTile"],pt=a=>({dataType:a});function dt(a,t){if(a&1&&e.\u0275\u0275element(0,"crt-skeleton-loader",5),a&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("styles",n.skeletonStyles)}}function mt(a,t){a&1&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275text(2," * "),e.\u0275\u0275elementEnd()),a&2&&e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,1,"NextSteps.RequiredStepHint"))}function xt(a,t){if(a&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"crt-link",21),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(o.onLinkClick("Contact",o.ownerId))}),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()}if(a&2){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275property("href",n.ownerLink),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1("",n.ownerName," ")}}function ut(a,t){if(a&1&&(e.\u0275\u0275elementStart(0,"span",22),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),a&2){const n=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate(n.ownerName)}}function gt(a,t){if(a&1&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"crt-image-input",19),e.\u0275\u0275template(3,xt,2,2,"crt-link",20)(4,ut,2,1,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),a&2){const n=e.\u0275\u0275reference(5),i=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,6,"NextSteps.OwnerHint")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",i.photoUrl)("placeholder",i.ownerNamePlaceholder)("colorId",i.ownerId),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.getRecordValue("entityName")!=="ProcessElement")("ngIfElse",n)}}function ht(a,t){if(a&1&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"mat-icon",23,2),e.\u0275\u0275elementStart(4,"span",22),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),a&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,3,"NextSteps.OwnerRoleHint")),e.\u0275\u0275advance(2),e.\u0275\u0275property("svgIcon","next-step-role-icon"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.ownerName)}}function ft(a,t){if(a&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",6,1),e.\u0275\u0275listener("keydown.escape",function(o){return e.\u0275\u0275restoreView(n),e.\u0275\u0275resetView(o.target.blur())})("mouseenter",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.mouseEnter())})("mouseleave",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.mouseLeave())})("touchstart",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.mouseEnter())})("touchend",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.mouseLeave())}),e.\u0275\u0275elementStart(2,"div",7)(3,"div",8),e.\u0275\u0275element(4,"crt-next-steps-icon",9),e.\u0275\u0275pipe(5,"lowercase"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",10),e.\u0275\u0275listener("keydown.enter",function(o){e.\u0275\u0275restoreView(n);const c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onTileCaptionClick(o))})("click",function(o){e.\u0275\u0275restoreView(n);const c=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(c.onTileCaptionClick(o))}),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,mt,3,3,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",12),e.\u0275\u0275template(10,gt,6,8,"div",13)(11,ht,6,5,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(13,"div",14),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"dateTimeFormat"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",15)(17,"crt-button",16),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onCompleteClicked())}),e.\u0275\u0275elementEnd()()()()}if(a&2){const n=e.\u0275\u0275reference(12),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("tileKey",e.\u0275\u0275pipeBind1(5,9,i.tileIconKey)),e.\u0275\u0275advance(2),e.\u0275\u0275property("title",i.getRecordValue("caption")),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",i.getRecordValue("caption")," "),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.getRecordValue("isRequired")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!i.getRecordValue("isOwnerRole"))("ngIfElse",n),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(15,11,i.getRecordValue("date"),e.\u0275\u0275pureFunction1(16,pt,i.dateValueType))," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",i.actionDisabled)("caption",e.\u0275\u0275pipeBind1(18,14,"NextSteps.CompleteButtonCaption"))}}var f;(function(a){a.RunProcess="runProcess",a.OpenSpecificPage="openSpecificPage",a.OpenDefaultPage="openDefaultPage",a.EditEmail="editEmail"})(f||(f={}));let C=class ne extends at.t{constructor(t){super(t),this._debounceOnCompleteClicked=(0,l.debounce)(this._onCompleteClicked,500),this.skeletonStyles={height:"60px",width:"60px"},this.dateValueType=it.r.Date,this.actionDisabled=!1,this._handleKeyDown=n=>{n.key==="Escape"&&this._isHover&&(this._isBlockedHover=!0,this.mouseLeave())},this._window=this.injector.get(_.ZP),this._window.addEventListener("keydown",this._handleKeyDown)}_runProcess(t){return(0,x.A)(function*(){const n={type:"crt.OpenProcessPageRequest",processElementUId:t,$context:null};yield k.t.instance.process(n)})()}_openSpecificPage(t,n){return(0,x.A)(function*(){const i={type:"crt.OpenPageRequest",schemaName:t,modelInitConfigs:[{recordId:n,action:fe.n.Edit}],$context:null};yield k.t.instance.process(i)})()}_openDefaultPage(t,n){return(0,x.A)(function*(){const i={type:"crt.UpdateRecordRequest",entityName:t,recordId:n,$context:null};yield k.t.instance.process(i)})()}_editEmail(t){return(0,x.A)(function*(){const n={type:"crt.CreateEmailRequest",recordId:t,$context:null};yield k.t.instance.process(n)})()}_getCompleteAction(){const t=this.getRecordValue("entityName");if(t==="ProcessElement")return f.RunProcess;const n=this.getRecordValue("processElementId"),i=this.getRecordValue("additionalInfo");if(t==="Activity"&&i?.TypeId.toLowerCase()===D.Iq.toLowerCase())return f.EditEmail;if(!(0,l.isEmpty)(n)&&n!==Q.To&&i?.UserTaskEntitySchemaName!=="Activity")return f.RunProcess;const o=this.getRecordValue("tileConfig");return(0,l.isEmpty)(o?.editPage)?f.OpenDefaultPage:f.OpenSpecificPage}_onCompleteClicked(){var t=this;return(0,x.A)(function*(){t.actionDisabled=!0;const n=t.getRecordValue("id"),i=t.getRecordValue("processElementId"),o=t.getRecordValue("tileConfig"),c=t.getRecordValue("entityName");switch(t._getCompleteAction()){case f.RunProcess:yield t._runProcess(i||n);break;case f.OpenSpecificPage:yield t._openSpecificPage(o.editPage,n);break;case f.EditEmail:yield t._editEmail(n);break;default:yield t._openDefaultPage(c,n);break}t.setEnableActionButtonsTask()})()}setEnableActionButtonsTask(){setTimeout(()=>this.actionDisabled=!1,500)}get photoUrl(){const t=this.getRecordValue("owner")?.primaryImageValue;return t&&t!==Q.To?(0,ot.Mc)(t):""}get ownerId(){return this.getRecordValue("owner")?.value}get ownerLink(){const t=this.ownerId;return t?(0,rt.TX)("Contact",t):""}get ownerName(){return this.getRecordValue("owner")?.displayValue||""}get ownerNamePlaceholder(){const t=this.ownerName;return(0,l.isEmpty)(t)?"":t[0]}get tileIconKey(){const t=this.getRecordValue("entityName"),n=this.getRecordValue("additionalInfo");return ye.getTileIconKey(t,n)}onLinkClick(t,n){var i=this;return(0,x.A)(function*(){yield i._openDefaultPage(t,n)})()}onTileCaptionClick(t){var n=this;return(0,x.A)(function*(){t.stopPropagation();const i=n.getRecordValue("entityName"),o=n.getRecordValue("id");yield n._openDefaultPage(i,o)})()}onCompleteClicked(){var t=this;return(0,x.A)(function*(){yield t._debounceOnCompleteClicked()})()}mouseEnter(){this._isHover=!0,this._isBlockedHover||this.nextStepTile.nativeElement.classList.add("hover")}mouseLeave(){this._isHover=this._isBlockedHover=!1,this.nextStepTile.nativeElement.classList.remove("hover")}ngOnDestroy(){this._window.removeEventListener("keydown",this._handleKeyDown)}static{this.\u0275fac=function(n){return new(n||ne)(e.\u0275\u0275directiveInject(e.Injector))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:ne,selectors:[["crt-next-step-tile"]],viewQuery:function(n,i){if(n&1&&e.\u0275\u0275viewQuery(ct,5,e.ElementRef),n&2){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.nextStepTile=o.first)}},features:[e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["nextStepsGalleryItem",""],["nextStepTile",""],["ownerRole",""],["ownerLabel",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],[1,"next-step-tile",3,"keydown.escape","mouseenter","mouseleave","touchstart","touchend"],[1,"next-step-tile-header"],[1,"next-step-tile-icon"],[3,"tileKey"],["tabindex","0",1,"next-step-tile-caption",3,"keydown.enter","click","title"],["class","next-step-tile-required",3,"title",4,"ngIf"],[1,"next-step-tile-footer"],["class","next-step-tile-owner",3,"title",4,"ngIf","ngIfElse"],[1,"next-step-tile-date"],[1,"next-step-tile-actions"],["size","medium","color","accent",3,"clicked","disabled","caption"],[1,"next-step-tile-required",3,"title"],[1,"next-step-tile-owner",3,"title"],["readonly","true","placeholderMode","abbreviation","borderRadius","large","positioning","scale-down","size","none",1,"next-step-tile-owner-photo",3,"value","placeholder","colorId"],["mode","'preventDefault'","underlining","hover","class","next-step-tile-owner-link",3,"href","clicked",4,"ngIf","ngIfElse"],["mode","'preventDefault'","underlining","hover",1,"next-step-tile-owner-link",3,"clicked","href"],[1,"next-step-tile-owner-text"],[1,"next-step-tile-owner-photo",3,"svgIcon"]],template:function(n,i){if(n&1&&e.\u0275\u0275template(0,dt,1,1,"crt-skeleton-loader",4)(1,ft,19,18,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),n&2){const o=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngIf",i.loading)("ngIfElse",o)}},dependencies:[Y.B,p.NgIf,Ce.h,y.MatIcon,Se.g,q.W,v,p.LowerCasePipe,u.TranslatePipe,we.V],styles:[`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.next-steps .crt-gallery-items-wrap{gap:8px;padding:0;container-type:inline-size}.next-step-tile{height:96px;max-width:100%;border:1px solid var(--crt-palette-interaction-900);border-radius:8px;overflow:auto;background:var(--crt-palette-background-400);padding:5px}.next-step-tile.hover,.next-step-tile:focus-within{background-color:var(--crt-palette-interaction-200)}.next-step-tile.hover .next-step-tile-actions,.next-step-tile:focus-within .next-step-tile-actions{width:-moz-fit-content;max-width:50%;display:inline-block}.next-step-tile.hover .next-step-tile-date,.next-step-tile:focus-within .next-step-tile-date{display:none}.next-step-tile-header{display:flex}.next-step-tile-footer{display:flex;margin:12px 8px 0;align-items:center;height:24px}.next-step-tile-icon{display:inline-block;width:20px;height:20px;margin:6px}.next-step-tile-icon .icon{width:20px!important;height:20px!important}.next-step-tile-required{float:right;color:var(--crt-palette-error-500);font-size:large;line-height:.7em}.next-step-tile-caption{font-family:var(--crt-body-1-font-family);font-size:var(--crt-body-1-font-size);line-height:var(--crt-body-1-line-height);font-weight:var(--crt-body-1-font-weight);letter-spacing:var(--crt-body-1-letter-spacing);text-transform:var(--crt-body-1-text-transform);-webkit-font-smoothing:antialiased;width:calc(100% - 32px);overflow:hidden;height:2.8em;margin-top:6px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;cursor:pointer}.next-step-tile-caption:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.next-step-tile-owner{font-family:var(--crt-caption-font-family);font-size:var(--crt-caption-font-size);line-height:var(--crt-caption-line-height);font-weight:var(--crt-caption-font-weight);letter-spacing:var(--crt-caption-letter-spacing);text-transform:var(--crt-caption-text-transform);-webkit-font-smoothing:antialiased;width:100%;display:inline-flex;overflow:hidden;margin-inline-end:3em}.next-step-tile-owner-photo{width:16px;display:flex;height:16px;margin-inline-end:8px}.next-step-tile-owner-photo .placeholder-abbreviation.no-photo{min-width:unset!important;min-height:unset!important;line-height:16px;height:16px;width:16px;font-size:8px}.next-step-tile-owner-photo img{object-fit:unset!important}.next-step-tile-owner-link{max-width:calc(100% - 24px)!important}.next-step-tile-owner-text{max-width:calc(100% - 24px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.next-step-tile-date{font-family:var(--crt-caption-font-family);font-size:var(--crt-caption-font-size);line-height:var(--crt-caption-line-height);font-weight:var(--crt-caption-font-weight);letter-spacing:var(--crt-caption-letter-spacing);text-transform:var(--crt-caption-text-transform);-webkit-font-smoothing:antialiased;color:var(--crt-palette-label-500);width:100px;text-align:end;display:inline-block}.next-step-tile-actions{display:none}@container (max-width: 472px){.next-steps .crt-gallery-view-item-wrap{width:100%}}@container (min-width: 472px) and (max-width: 712px){.next-steps .crt-gallery-view-item-wrap{width:calc((100% - 8px)/2)}}@container (min-width: 712px) and (max-width: 952px){.next-steps .crt-gallery-view-item-wrap{width:calc((100% - 16px) / 3)}}@container (min-width: 952px) and (max-width: 1192px){.next-steps .crt-gallery-view-item-wrap{width:calc((100% - 24px)/4)}}@container (min-width: 1192px) and (max-width: 1432px){.next-steps .crt-gallery-view-item-wrap{width:calc((100% - 32px)/5)}}@container (min-width: 1432px) and (max-width: 2008px){.next-steps .crt-gallery-view-item-wrap{width:calc((100% - 40px) / 6)}}@container (min-width: 2008px){.next-steps .next-step-tile{max-width:280px}}
`],encapsulation:2,changeDetection:0})}};C=(0,s.__decorate)([(0,z.v)({selector:"crt-next-step-tile",type:"crt.NextStepTile",reuseStrategy:K.B.Reuse}),(0,s.__metadata)("design:paramtypes",[e.Injector])],C);var _t=r(95145),Ee=r(52335),R=r(62278);class S extends $.K{constructor(){super(...arguments),this.labelText=""}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(S)))(i||S)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:S,selectors:[["crt-base-next-steps-snackbar-label"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[[1,"message-snackbar-label-container"],["labelTextAlign","center"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"crt-label",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),n&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,i.labelText)))},dependencies:[O.V,u.TranslatePipe],styles:[`.message-action-snackbar-container{--mdc-snackbar-container-color: var(--crt-color-primary-black);opacity:.6!important}.message-action-snackbar-container .message-snackbar-label-container{width:100%}.message-action-snackbar-container .message-snackbar-label-container .crt-label{width:100%;color:var(--crt-palette-background-50)}
`],encapsulation:2})}}class I extends S{constructor(){super(...arguments),this.labelText="NextSteps.ApprovalApprovedSnackbarCaption"}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(I)))(i||I)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:I,selectors:[["crt-approval-approved-snackbar-label"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[[1,"message-snackbar-label-container"],["labelTextAlign","center"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"crt-label",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),n&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,i.labelText)))},dependencies:[O.V,u.TranslatePipe],styles:[`.message-action-snackbar-container{--mdc-snackbar-container-color: var(--crt-color-primary-black);opacity:.6!important}.message-action-snackbar-container .message-snackbar-label-container{width:100%}.message-action-snackbar-container .message-snackbar-label-container .crt-label{width:100%;color:var(--crt-palette-background-50)}
`],encapsulation:2})}}class N extends S{constructor(){super(...arguments),this.labelText="NextSteps.ApprovalRejectedSnackbarCaption"}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=e.\u0275\u0275getInheritedFactory(N)))(i||N)}})()}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:N,selectors:[["crt-approval-rejected-snackbar-label"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:4,vars:3,consts:[[1,"message-snackbar-label-container"],["labelTextAlign","center"]],template:function(n,i){n&1&&(e.\u0275\u0275elementStart(0,"div",0)(1,"crt-label",1),e.\u0275\u0275text(2),e.\u0275\u0275pipe(3,"translate"),e.\u0275\u0275elementEnd()()),n&2&&(e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(3,1,i.labelText)))},dependencies:[O.V,u.TranslatePipe],styles:[`.message-action-snackbar-container{--mdc-snackbar-container-color: var(--crt-color-primary-black);opacity:.6!important}.message-action-snackbar-container .message-snackbar-label-container{width:100%}.message-action-snackbar-container .message-snackbar-label-container .crt-label{width:100%;color:var(--crt-palette-background-50)}
`],encapsulation:2})}}const vt=["nextStepTile"],yt=a=>({dataType:a});function Ct(a,t){if(a&1&&e.\u0275\u0275element(0,"crt-skeleton-loader",4),a&2){const n=e.\u0275\u0275nextContext();e.\u0275\u0275property("styles",n.skeletonStyles)}}function St(a,t){a&1&&(e.\u0275\u0275elementStart(0,"div",17),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275text(2," * "),e.\u0275\u0275elementEnd()),a&2&&e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,1,"NextSteps.RequiredStepHint"))}function wt(a,t){if(a&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"crt-image-input",19),e.\u0275\u0275elementStart(3,"crt-link",20),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.onLinkClick("Contact",o.ownerId))}),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()}if(a&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,6,"NextSteps.OwnerHint")),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",n.photoUrl)("placeholder",n.ownerNamePlaceholder)("colorId",n.ownerId),e.\u0275\u0275advance(),e.\u0275\u0275property("href",n.ownerLink),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1("",n.ownerName," ")}}function Et(a,t){if(a&1&&(e.\u0275\u0275elementStart(0,"div",18),e.\u0275\u0275pipe(1,"translate"),e.\u0275\u0275element(2,"mat-icon",21,2),e.\u0275\u0275elementStart(4,"span",22),e.\u0275\u0275text(5),e.\u0275\u0275elementEnd()()),a&2){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275property("title",e.\u0275\u0275pipeBind1(1,3,"NextSteps.OwnerRoleHint")),e.\u0275\u0275advance(2),e.\u0275\u0275property("svgIcon","next-step-role-icon"),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(n.ownerName)}}function It(a,t){if(a&1){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",5,1),e.\u0275\u0275listener("keydown.escape",function(o){return e.\u0275\u0275restoreView(n),e.\u0275\u0275resetView(o.target.blur())})("mouseenter",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.mouseEnter())})("mouseleave",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.mouseLeave())})("touchstart",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.mouseEnter())})("touchend",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.mouseLeave())}),e.\u0275\u0275elementStart(2,"div",6)(3,"div",7),e.\u0275\u0275element(4,"crt-next-steps-icon",8),e.\u0275\u0275pipe(5,"lowercase"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",9),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(8,St,3,3,"div",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",11),e.\u0275\u0275template(10,wt,5,8,"div",12)(11,Et,6,5,"ng-template",null,2,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementStart(13,"div",13),e.\u0275\u0275text(14),e.\u0275\u0275pipe(15,"dateTimeFormat"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",14)(17,"crt-button",15),e.\u0275\u0275pipe(18,"translate"),e.\u0275\u0275pipe(19,"translate"),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onApproveClicked())}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"crt-button",16),e.\u0275\u0275pipe(21,"translate"),e.\u0275\u0275pipe(22,"translate"),e.\u0275\u0275listener("clicked",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.onRejectClicked())}),e.\u0275\u0275elementEnd()()()()}if(a&2){const n=e.\u0275\u0275reference(12),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("tileKey",e.\u0275\u0275pipeBind1(5,13,i.tileIconKey)),e.\u0275\u0275advance(2),e.\u0275\u0275property("title",i.getRecordValue("caption")),e.\u0275\u0275advance(),e.\u0275\u0275textInterpolate1(" ",i.getRecordValue("caption")," "),e.\u0275\u0275advance(),e.\u0275\u0275property("ngIf",i.getRecordValue("isRequired")),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!i.getRecordValue("isOwnerRole"))("ngIfElse",n),e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",e.\u0275\u0275pipeBind2(15,15,i.getRecordValue("date"),e.\u0275\u0275pureFunction1(26,yt,i.dateValueType))," "),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",i.actionDisabled)("ariaLabel",e.\u0275\u0275pipeBind1(18,18,"Approvals.ApproveButtonLabel"))("title",e.\u0275\u0275pipeBind1(19,20,"Approvals.ApproveButtonLabel")),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",i.actionDisabled)("ariaLabel",e.\u0275\u0275pipeBind1(21,22,"Approvals.RejectButtonLabel"))("title",e.\u0275\u0275pipeBind1(22,24,"Approvals.RejectButtonLabel"))}}let T=class ie extends C{constructor(t){super(t),this._snackBarDisplayTime=3e3,this._debounceOnApproveClicked=(0,l.debounce)(this._onApproveClicked,500),this._debounceOnRejectClicked=(0,l.debounce)(this._onRejectClicked,500),this.skeletonStyles={height:"60px",width:"60px"},this._sysSettingsService=t.get(_t.A),this._customEventService=t.get(_.Dj),this._snackBar=t.get(A.MatSnackBar)}_getRequest(t,n){const i={id:this.getRecordValue("id"),schemaName:this.getRecordValue("entityName"),actionType:t};return{type:n,config:i,approvalChangedHandlerAttributeName:null,$context:null}}_processRequest(t){return(0,x.A)(function*(){return yield k.t.instance.process(t)})()}_showSnackbar(t){this._snackBar.openFromComponent(t,{duration:this._snackBarDisplayTime,panelClass:"message-action-snackbar-container"})}_onApproveClicked(){var t=this;return(0,x.A)(function*(){t.actionDisabled=!0;const n=yield(0,R.lastValueFrom)(t._sysSettingsService.getByCode("AcceptApprovalWithoutComment")),i=(0,l.isEmpty)(n)?!0:n.value,o=i?"crt.ApprovalActionHandlerRequest":"crt.ApprovalConfirmationHandlerRequest",c=t._getRequest(Ee.q.Approve,o),m=c;t._processRequest(m).then(g=>{g&&(t._customEventService.createOutboundChannel(M).next(m.config.id),t._showSnackbar(I))}),t.setEnableActionButtonsTask()})()}_onRejectClicked(){this.actionDisabled=!0;const t=this._getRequest(Ee.q.Reject,"crt.ApprovalConfirmationHandlerRequest");this._processRequest(t).then(n=>{n&&(this._customEventService.createOutboundChannel(M).next(t.config.id),this._showSnackbar(N))}),this.setEnableActionButtonsTask()}onApproveClicked(){var t=this;return(0,x.A)(function*(){yield t._debounceOnApproveClicked()})()}onRejectClicked(){this._debounceOnRejectClicked()}static{this.\u0275fac=function(n){return new(n||ie)(e.\u0275\u0275directiveInject(e.Injector))}}static{this.\u0275cmp=e.\u0275\u0275defineComponent({type:ie,selectors:[["crt-approval-tile"]],viewQuery:function(n,i){if(n&1&&e.\u0275\u0275viewQuery(vt,5,e.ElementRef),n&2){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.nextStepTile=o.first)}},features:[e.\u0275\u0275ProvidersFeature([{provide:_.Dj,useFactory:t=>new _.Dj(t),deps:[p.DOCUMENT]}]),e.\u0275\u0275InheritDefinitionFeature],decls:3,vars:2,consts:[["approvalTile",""],["nextStepTile",""],["ownerRole",""],[3,"styles",4,"ngIf","ngIfElse"],[3,"styles"],[1,"next-step-tile",3,"keydown.escape","mouseenter","mouseleave","touchstart","touchend"],[1,"next-step-tile-header"],[1,"next-step-tile-icon"],[3,"tileKey"],["tabindex","0",1,"next-step-tile-caption",3,"title"],["class","next-step-tile-required",3,"title",4,"ngIf"],[1,"next-step-tile-footer"],["class","next-step-tile-owner approval-tile",3,"title",4,"ngIf","ngIfElse"],[1,"next-step-tile-date"],[1,"next-step-tile-actions","approval-tile"],["icon","approve-visa-icon","iconPosition","only-icon","color","accent",1,"approve-visa-icon",3,"clicked","disabled","ariaLabel","title"],["icon","reject-visa-icon","iconPosition","only-icon","color","warn",1,"reject-visa-icon",3,"clicked","disabled","ariaLabel","title"],[1,"next-step-tile-required",3,"title"],[1,"next-step-tile-owner","approval-tile",3,"title"],["readonly","true","placeholderMode","abbreviation","borderRadius","large","positioning","scale-down","size","none",1,"next-step-tile-owner-photo",3,"value","placeholder","colorId"],["mode","'preventDefault'","underlining","hover",1,"next-step-tile-owner-link",3,"clicked","href"],[1,"next-step-tile-owner-photo",3,"svgIcon"],[1,"next-step-tile-owner-text"]],template:function(n,i){if(n&1&&e.\u0275\u0275template(0,Ct,1,1,"crt-skeleton-loader",3)(1,It,23,28,"ng-template",null,0,e.\u0275\u0275templateRefExtractor),n&2){const o=e.\u0275\u0275reference(2);e.\u0275\u0275property("ngIf",i.loading)("ngIfElse",o)}},dependencies:[Y.B,p.NgIf,Ce.h,y.MatIcon,Se.g,q.W,v,p.LowerCasePipe,u.TranslatePipe,we.V],styles:[`.next-step-tile.hover .next-step-tile-actions.approval-tile,.next-step-tile:focus-within .next-step-tile-actions.approval-tile{display:flex;gap:8px}.next-step-tile-actions.approval-tile{margin-bottom:13px}.next-step-tile .approve-visa-icon,.next-step-tile .reject-visa-icon{width:24px;margin-top:12px}.next-step-tile .approve-visa-icon .crt-button,.next-step-tile .reject-visa-icon .crt-button{height:24px;padding:0 4px!important}
`,`body{--focus-outline-outer-color: var(--crt-palette-secondary-500);--focus-outline-inner-color: white}.next-steps .crt-gallery-items-wrap{gap:8px;padding:0;container-type:inline-size}.next-step-tile{height:96px;max-width:100%;border:1px solid var(--crt-palette-interaction-900);border-radius:8px;overflow:auto;background:var(--crt-palette-background-400);padding:5px}.next-step-tile.hover,.next-step-tile:focus-within{background-color:var(--crt-palette-interaction-200)}.next-step-tile.hover .next-step-tile-actions,.next-step-tile:focus-within .next-step-tile-actions{width:-moz-fit-content;max-width:50%;display:inline-block}.next-step-tile.hover .next-step-tile-date,.next-step-tile:focus-within .next-step-tile-date{display:none}.next-step-tile-header{display:flex}.next-step-tile-footer{display:flex;margin:12px 8px 0;align-items:center;height:24px}.next-step-tile-icon{display:inline-block;width:20px;height:20px;margin:6px}.next-step-tile-icon .icon{width:20px!important;height:20px!important}.next-step-tile-required{float:right;color:var(--crt-palette-error-500);font-size:large;line-height:.7em}.next-step-tile-caption{font-family:var(--crt-body-1-font-family);font-size:var(--crt-body-1-font-size);line-height:var(--crt-body-1-line-height);font-weight:var(--crt-body-1-font-weight);letter-spacing:var(--crt-body-1-letter-spacing);text-transform:var(--crt-body-1-text-transform);-webkit-font-smoothing:antialiased;width:calc(100% - 32px);overflow:hidden;height:2.8em;margin-top:6px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;text-overflow:ellipsis;cursor:pointer}.next-step-tile-caption:focus-visible{box-shadow:inset 0 0 0 1px var(--focus-outline-outer-color),inset 0 0 0 2px var(--focus-outline-inner-color);outline:none;border-radius:4px}.next-step-tile-owner{font-family:var(--crt-caption-font-family);font-size:var(--crt-caption-font-size);line-height:var(--crt-caption-line-height);font-weight:var(--crt-caption-font-weight);letter-spacing:var(--crt-caption-letter-spacing);text-transform:var(--crt-caption-text-transform);-webkit-font-smoothing:antialiased;width:100%;display:inline-flex;overflow:hidden;margin-inline-end:3em}.next-step-tile-owner-photo{width:16px;display:flex;height:16px;margin-inline-end:8px}.next-step-tile-owner-photo .placeholder-abbreviation.no-photo{min-width:unset!important;min-height:unset!important;line-height:16px;height:16px;width:16px;font-size:8px}.next-step-tile-owner-photo img{object-fit:unset!important}.next-step-tile-owner-link{max-width:calc(100% - 24px)!important}.next-step-tile-owner-text{max-width:calc(100% - 24px);text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.next-step-tile-date{font-family:var(--crt-caption-font-family);font-size:var(--crt-caption-font-size);line-height:var(--crt-caption-line-height);font-weight:var(--crt-caption-font-weight);letter-spacing:var(--crt-caption-letter-spacing);text-transform:var(--crt-caption-text-transform);-webkit-font-smoothing:antialiased;color:var(--crt-palette-label-500);width:100px;text-align:end;display:inline-block}.next-step-tile-actions{display:none}@container (max-width: 472px){.next-steps .crt-gallery-view-item-wrap{width:100%}}@container (min-width: 472px) and (max-width: 712px){.next-steps .crt-gallery-view-item-wrap{width:calc((100% - 8px)/2)}}@container (min-width: 712px) and (max-width: 952px){.next-steps .crt-gallery-view-item-wrap{width:calc((100% - 16px) / 3)}}@container (min-width: 952px) and (max-width: 1192px){.next-steps .crt-gallery-view-item-wrap{width:calc((100% - 24px)/4)}}@container (min-width: 1192px) and (max-width: 1432px){.next-steps .crt-gallery-view-item-wrap{width:calc((100% - 32px)/5)}}@container (min-width: 1432px) and (max-width: 2008px){.next-steps .crt-gallery-view-item-wrap{width:calc((100% - 40px) / 6)}}@container (min-width: 2008px){.next-steps .next-step-tile{max-width:280px}}
`],encapsulation:2,changeDetection:0})}};T=(0,s.__decorate)([(0,z.v)({selector:"crt-approval-tile",type:"crt.ApprovalTile",reuseStrategy:K.B.Reuse}),(0,s.__metadata)("design:paramtypes",[e.Injector])],T);var Nt=r(4164),Tt=r(49973),Ie=r(58504),bt=r(65751),At=r(36486);class w{constructor(t){this._queryExecutor=t.get(bt.w)}_mapNextStep(t){return{id:t.Id,caption:t.Caption,owner:t.Owner,entityName:t.EntityName,isRequired:t.IsRequired,isOwnerRole:t.IsOwnerRole,date:t.Date,processElementId:t.ProcessElementId,masterEntityId:t.MasterEntityId,masterEntityName:t.MasterEntityName,additionalInfo:(0,l.isEmpty)(t.AdditionalInfo)?{}:JSON.parse(t.AdditionalInfo)}}getNextSteps(t,n){if((0,l.isEmpty)(t)||(0,l.isEmpty)(n))return(0,R.of)([]);const i=new Tt.s("NextStep");return i.addSchemaColumn("Id"),i.addSchemaColumn("Caption"),i.addSchemaColumn("Owner"),i.addSchemaColumn("IsOwnerRole"),i.addSchemaColumn("EntityName"),i.addSchemaColumn("ProcessElementId"),i.addSchemaColumn("IsRequired"),i.addSchemaColumn("Date"),i.addSchemaColumn("MasterEntityId"),i.addSchemaColumn("MasterEntityName"),i.addSchemaColumn("AdditionalInfo"),i.filters.addSchemaColumnFilterWithParameter(Ie.H.Equal,"MasterEntityId",t),i.filters.addSchemaColumnFilterWithParameter(Ie.H.Equal,"MasterEntityName",n),this._queryExecutor.executeSelectQuery(i).pipe((0,At.map)(o=>o.map(c=>this._mapNextStep(c))))}static{this.\u0275fac=function(n){return new(n||w)(e.\u0275\u0275inject(e.Injector))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac})}}let B=class{constructor(t){this._nextStepsService=t}convert(t,n,i){const o=t.find(c=>(0,Q.n7)(c));return(0,l.isEmpty)(o)||(0,l.isEmpty)(i)||i==="#DataSourceEntityName()#"?(0,R.lastValueFrom)((0,R.of)([])):(0,R.lastValueFrom)(this._nextStepsService.getNextSteps(o,i))}};B=(0,s.__decorate)([(0,Nt.a)({type:"crt.LoadNextSteps"}),(0,s.__metadata)("design:paramtypes",[w])],B);var W=r(41287),J=r(844),kt=r(29858);let j=class extends W.l{constructor(t){super(),this._entityConnectionService=t.get(kt.r)}handle(t){var n=this;return(0,x.A)(function*(){const i=t.$context,c=(yield i.getPrimaryDataSchema()).name,m=i.attributes[i.primaryAttributeName],g=t.defaultValues||[];g.push({attributeName:"Type",value:D.zY},{attributeName:"ActivityCategory",value:D.er});const be=yield n._entityConnectionService.getEntityConnectionColumns("Activity",c);be&&be.forEach(Pt=>{g.push({attributeName:Pt.name,value:m})}),yield n.handlerChain.process({type:"crt.CreateRecordRequest",$context:t.$context,entityName:t.entityName,defaultValues:g}),yield n.next?.handle(t)})()}};j=(0,s.__decorate)([(0,J.l)({requestType:"crt.AddNextStepRequest",type:"crt.AddNextStepHandler"}),(0,s.__metadata)("design:paramtypes",[e.Injector])],j);let F=class extends W.l{constructor(t){super(),this.customEventService=t}emitChangeNextStepsPromise(){return new Promise(t=>{this.customEventService.createOutboundChannel(U).next({}),t()})}handle(t){var n=this;return(0,x.A)(function*(){yield n.emitChangeNextStepsPromise(),yield n.next?.handle(t)})()}};F=(0,s.__decorate)([(0,J.l)({type:"crt.ChangeNextStepsStateRequestHandler",requestType:"crt.ChangeNextStepsStateRequest"}),(0,s.__metadata)("design:paramtypes",[_.Dj])],F);let L=class extends W.l{changeNextStepsState(t){const{$context:n,scopes:i}=t,o={type:"crt.ChangeNextStepsStateRequest",scopes:i,$context:n};return this.handlerChain.process(o)}handle(t){var n=this;return(0,x.A)(function*(){const i=yield n.next?.handle(t);return yield n.changeNextStepsState(t),i})()}};L=(0,s.__decorate)([(0,J.l)({requestType:"crt.SaveRecordRequest",type:"crt.EnitityStageProgressBarSaveRecordHandler"})],L);var Rt=r(74368);class b{constructor(t){this._translateService=t,this._metadataSchemaUtils=(0,e.inject)(Rt.u)}_getViewConfigs(t,n){return this._metadataSchemaUtils.getViewConfigInfoByProperty("type",n,t.viewConfig).map(i=>i?.viewConfig).filter(Boolean)}_setAddNextStepBtnAdditionalProperties(t){Object.keys(t).includes("visible")||(t.visible="$CardState | crt.IsEqual : 'edit'"),Object.keys(t).includes("ariaLabel")||(t.ariaLabel=this._translateService.instant("NextSteps.AddNewStepMenuCaption"))}_setNextStepsComponentAdditionalProperties(t,n){if(t&&(Object.keys(t).includes("cardState")||(t.cardState="$CardState"),!Object.keys(t).includes("nextSteps"))){const i=n.viewModelConfig.attributes;this._createNextStepsAttribute(t,i)}}_createNextStepsAttribute(t,n){const i=`NextSteps_${t.name}`,o=`ReloadNextSteps_${t.name}`;n[i]={from:[this._getOrCreatePropertyAttribute(t.masterSchemaId||"",`MasterSchemaId_${t.name}`,n),this._getOrCreatePropertyAttribute(X,o,n)],converter:`crt.LoadNextSteps : '${t.masterSchemaName}'`},t.nextSteps=`$${i}`,t.reloadNextSteps=`$${o}`}_getOrCreatePropertyAttribute(t,n,i){return t.startsWith("$")?t.replace("$",""):(i[n]={value:t},n)}_handleNextStepsComponent(t){this._getViewConfigs(t,"crt.NextSteps").forEach(i=>{this._setNextStepsComponentAdditionalProperties(i,t)})}_handleNextStepsAddButtons(t){this._getViewConfigs(t,"crt.Button").forEach(i=>{if(i&&i.clickMode==="menu"){const o=i.menuItems||[];Array.isArray(o)&&o.some(c=>{const m=c.clicked;return m&&(m.request==="crt.AddNextStepRequest"||m.request==="crt.CreateEmailRequest")})&&this._setAddNextStepBtnAdditionalProperties(i)}})}_getNextStepRelatedConfigs(t){const n=this._metadataSchemaUtils.getViewConfigInfoByFilter(i=>i.type==="crt.NextSteps"&&i.bindingColumns||i.type==="crt.MenuItem"&&i.clicked?.request==="crt.CreateEmailRequest"&&!i.clicked?.params?.bindingColumns,[t]).map(i=>i?.viewConfig).filter(Boolean);return n?.length!==2?null:{nextStep:n.find(i=>i.type==="crt.NextSteps"),addEmailBtn:n.find(i=>i.type==="crt.MenuItem")}}_getConfigsToFix(t){const n=new Array;return this._metadataSchemaUtils.getViewConfigInfoByFilter(i=>{if(i.type!=="crt.ExpansionPanel")return!1;const o=this._getNextStepRelatedConfigs(i);return o&&n.push(o),!!o},t.viewConfig),n}_fixBindingColumns(t){this._getConfigsToFix(t).forEach(i=>{const o=i.addEmailBtn.clicked;o.params=o.params||{},o.params.bindingColumns=(0,l.cloneDeep)(i.nextStep.bindingColumns)})}crtOnMetaDataInit(t){const n=t;return this._fixBindingColumns(n),this._handleNextStepsAddButtons(n),this._handleNextStepsComponent(n),Promise.resolve(t)}static{this.\u0275fac=function(n){return new(n||b)(e.\u0275\u0275inject(u.TranslateService))}}static{this.\u0275prov=e.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac})}}let H=class ae{constructor(t){this._materialIconsRegistrator=t;const n=[];n.push({name:"expansion-panel-arrow",icon:r(54663)}),this._materialIconsRegistrator.addIcons(n)}static{this.\u0275fac=function(n){return new(n||ae)(e.\u0275\u0275inject(ce.K))}}static{this.\u0275mod=e.\u0275\u0275defineNgModule({type:ae})}static{this.\u0275inj=e.\u0275\u0275defineInjector({providers:[w,{provide:Ae.m,useClass:b,multi:!0}],imports:[pe.q,p.CommonModule,de.S,me.U,P.f,y.MatIconModule,u.TranslateModule,xe.y,he.X,ue.J,se.q,le.x,A.MatSnackBarModule,ge.Q]})}};H=(0,s.__decorate)([(0,re.g)({viewElements:[d,C,T],requestHandlers:[j,F,L],converters:[B]}),(0,s.__metadata)("design:paramtypes",[ce.K])],H),function(){(typeof ngJitMode>"u"||ngJitMode)&&e.\u0275\u0275setNgModuleScope(H,{declarations:[d,C,T,I,N,S,v],imports:[pe.q,p.CommonModule,de.S,me.U,P.f,y.MatIconModule,u.TranslateModule,xe.y,he.X,ue.J,se.q,le.x,A.MatSnackBarModule,ge.Q],exports:[d,C,T,v]})}();var Ne=r(81517),Te=r(2828);let Z=class extends Ne.S{};Z=(0,s.__decorate)([(0,Te.$)({type:"crt.AddNextStepRequest"})],Z);let ee=class extends Ne.S{};ee=(0,s.__decorate)([(0,Te.$)({type:"crt.ChangeNextStepsStateRequest"})],ee)},52335:(oe,E,r)=>{r.d(E,{q:()=>s});var s;(function(p){p[p.Reject=0]="Reject",p[p.Approve=1]="Approve"})(s||(s={}))},55359:(oe,E,r)=>{r.d(E,{Aw:()=>P,Iq:()=>y,er:()=>u,zY:()=>A});const s="C449D832-A4CC-4B01-B9D5-8A12C42A9F89",p="Activity",y="E2831DEC-CFC0-DF11-B00F-001D60E938C6",A="fbe0acdc-cfc0-df11-b00f-001d60e938c6",re="42c74c49-58e6-df11-971b-001d60e938c6",u="f51c4643-58e6-df11-971b-001d60e938c6",P="8038A396-7825-E011-8165-00155D043204"}}]);
