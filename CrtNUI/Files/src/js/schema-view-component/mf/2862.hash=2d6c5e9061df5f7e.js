(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[2862],{82862:(C,rt,g)=>{g.r(rt),g.d(rt,{CrtEntityStageProgressBarComponent:()=>p,CrtEntityStageProgressBarModule:()=>O});var l=g(5960),D=g(40297),vt=g(55642),x=g(79772),st=g(50663),nt=g(31149),K=g(52989),_t=g(71252),at=g(48067),it=g(38794),a=g(59131),It=g(65001),lt=g(68712),At=g(26594),$=g(28399);class A{constructor(){this._lastMenuColor="#d1d1d1",this._disabledStepColor="#757575"}buildMenuModeItems(t,e,o){if(!t?.length)return[];const r=t.find(h=>h.value===e?.id),s=t.indexOf(r),n=s===t.length-1,i=this._getParentMenuModeItems(t,s),c=this._getDropdownMenuModeItems(t,s,e,o);i.forEach(h=>{if(h.menuItems){const _=!!h.menuItems.find(f=>f.value===h.value)?.disabled;h.disabled=_}h.menuItems&&h.value===r?.value&&(h.disabled=!0),h.menuItems=void 0,h.tooltipTitle=h.tooltipTitle??h.displayValue}),n?i[i.length-1]={...r,tooltipTitle:r?.tooltipTitle??r?.displayValue,clickMode:"default",ariaLabel:`${r?.ariaLabel} or choose a different stage in the separate menu`,menuItems:c,disabled:!0}:i.push({value:"menu-value",backgroundColor:this._lastMenuColor,disabled:!0,displayValue:"...",ariaLabel:"Select another stage",tooltipTitle:"Select another stage",color:"black",clickMode:"default",menuItems:c});const d=i.findIndex(h=>h.value===e?.id),b=i[d-1];return b&&e?.id&&(b.displayValue=""),i}_getParentMenuModeItems(t,e){let o=[];const r=e===t.length-1;let s=e;if(s===-1&&(s=0),r){const n=(0,$.cloneDeep)(t[s-1]);n&&o.push(n),o.push(t[s])}else o=t.filter((n,i)=>i>=s-1&&i<=s+1);return o}_getDropdownMenuModeItems(t,e,o,r){const s=[];for(let n=0;n<t.length;n++){const i=t[n],c=n<=e;let d=c?i.originalBackgroundColor:this._disabledStepColor;const b=!!i.menuItems,h=i.menuItems?.some(M=>!M.disabled),_={iconColor:d,hasSubMenu:b,subMenuHasAvailableStages:h,menuBindingFunction:b?void 0:r},f=this._getDropdownMenuItem(i,_);if(i.menuItems){const M=i.menuItems.findIndex(v=>v.value===o?.id),z=!!i.menuItems.find(v=>!v.disabled);f.disabled=!z;const I=i.menuItems.map((v,T)=>(c&&(d=v.disabled?this._disabledStepColor:v.originalBackgroundColor),e===n&&(d=T<=M?v.originalBackgroundColor:this._disabledStepColor),this._getDropdownMenuItem(v,{iconColor:d,menuBindingFunction:r})));f.items=I}s.push(f)}return s}_getDropdownMenuItem(t,e){const o={type:"crt.MenuItem",caption:t.displayValue,handleItemClick:()=>{},...t,disabled:t.disabled,icon:t.disabled?"stage-dot-disabled":"stage-dot",iconColor:e.iconColor};return e.menuBindingFunction&&(o.handleItemClick=()=>e.menuBindingFunction(t)),e.hasSubMenu&&(o.icon=e.subMenuHasAvailableStages?"stage-dot":"stage-dot-disabled"),o}static{this.\u0275fac=function(e){return new(e||A)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:A,factory:A.\u0275fac,providedIn:"root"})}}var J=g(59969);class E{constructor(){this._newPaletteColorsMap=[{oldColor:"#000000",newColor:"#181818"},{oldColor:"#999999",newColor:"#757575"},{oldColor:"#DFDFDF",newColor:"#D6D6D6"},{oldColor:"#EF7E63",newColor:"#E00022"},{oldColor:"#C73920",newColor:"#B41406"},{oldColor:"#D2310D",newColor:"#B41406"},{oldColor:"#E06F56",newColor:"#E00022"},{oldColor:"#EBA793",newColor:"#E67860"},{oldColor:"#E99886",newColor:"#E67860"},{oldColor:"#7F2910",newColor:"#840D01"},{oldColor:"#B61303",newColor:"#840D01"},{oldColor:"#85C280",newColor:"#54AA4E"},{oldColor:"#D1E9BD",newColor:"#54AA4E"},{oldColor:"#54AA4D",newColor:"#0C8701"},{oldColor:"#2C6018",newColor:"#073F05"},{oldColor:"#035500",newColor:"#073F05"},{oldColor:"#64B8DF",newColor:"#4D84E2"},{oldColor:"#D4EBF6",newColor:"#80A7EB"},{oldColor:"#286581",newColor:"#0026BC"},{oldColor:"#6483C3",newColor:"#9641A9"},{oldColor:"#B87CCF",newColor:"#9641A9"},{oldColor:"#46639F",newColor:"#7848EE"},{oldColor:"#D1DCF0",newColor:"#B97CD1"},{oldColor:"#D6BEE3",newColor:"#B97CD1"},{oldColor:"#2B467E",newColor:"#4F43C2"},{oldColor:"#5BC8C4",newColor:"#02C2A8"},{oldColor:"#95DBD1",newColor:"#02C2A8"},{oldColor:"#4CA6A3",newColor:"#08857E"},{oldColor:"#00BFA5",newColor:"#08857E"},{oldColor:"#BFE8E7",newColor:"#95DBD8"},{oldColor:"#D3F1ED",newColor:"#95DBD8"},{oldColor:"#327B78",newColor:"#0E5F53"},{oldColor:"#009688",newColor:"#0E5F53"},{oldColor:"#F8D162",newColor:"#FFAC07"},{oldColor:"#D3AE46",newColor:"#FF8800"},{oldColor:"#FBE8B2",newColor:"#F9D68D"},{oldColor:"#A8882E",newColor:"#F86700"},{oldColor:"#FF6534",newColor:"#F86700"},{oldColor:"#FBAD43",newColor:"#FF602E"},{oldColor:"#FF795A",newColor:"#FF602E"},{oldColor:"#CC8930",newColor:"#FF4013"},{oldColor:"#FDD6A1",newColor:"#FFA089"},{oldColor:"#A16A1F",newColor:"#D31E0D"},{oldColor:"#FF1C06",newColor:"#D31E0D"},{oldColor:"#8E8EB7",newColor:"#566D83"},{oldColor:"#5E5684",newColor:"#0D2E4E"},{oldColor:"#E1DEED",newColor:"#8697A7"},{oldColor:"#3C365B",newColor:"#031225"},{oldColor:"#0B8500",newColor:"#066800"},{oldColor:"#309726",newColor:"#066800"},{oldColor:"#589928",newColor:"#066800"},{oldColor:"#8ECB60",newColor:"#0C8701"},{oldColor:"#8A8A8A",newColor:"#757575"},{oldColor:"#2669DC",newColor:"#004FD6"},{oldColor:"#3A8BB1",newColor:"#004FD6"},{oldColor:"#0058EF",newColor:"#004FD6"},{oldColor:"#314D69",newColor:"#0D2E4E"}]}_combineColors(t,e){const o=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*(\d*\.?\d+)?\)/),r=e.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*(\d*\.?\d+)?\)/),s=Math.round((parseInt(o[1])+parseInt(r[1]))/2),n=Math.round((parseInt(o[2])+parseInt(r[2]))/2),i=Math.round((parseInt(o[3])+parseInt(r[3]))/2),c=((parseFloat(o[4]||"1")+parseFloat(r[4]||"1"))/2).toFixed(2);return`rgba(${s},${n},${i},${c})`}getStageColor(t){const e=this._newPaletteColorsMap.find(o=>o.oldColor===t.toUpperCase())?.newColor;return e||t}getStageLightHover(t){if(t)return this._combineColors((0,J.zX)(t,1),(0,J.zX)("#FFFFFF",.6))}getStageDarkHover(t){if(t)return(0,J.Le)(t,.25)}static{this.\u0275fac=function(e){return new(e||E)}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"})}}var Et=g(77731);const gt=["buttonToggleGroup"],wt=["container"],Pt=(B,t)=>({rtl:B,loading:t});class w extends lt.K{get displayItems(){return this.loading?this._loadingItems:this.menuMode?this._menuModeItems:this.items}set steps(t){this._stepModels=t,this.loading||this._refreshStepItems()}set currentStep(t){this.value=t,this._refreshStepItems()}constructor(t,e,o,r){super(t),this.injector=t,this._itemBuilderService=e,this._entityStageProgressBarColorMapperService=o,this._featureValues=r,this._stepModels=[],this._disabledStepColor="#d1d1d1",this._loadingStepBackgroundColor="#D0D0D0",this._rendererListeners=[],this._pxPerStepMenuBreakpoint=110,this._menuModeItems=[],this._loadingItems=Array(4).fill(null).map((s,n)=>({value:n,backgroundColor:this._loadingStepBackgroundColor,disabled:!0})),this._activeColor="white",this._inactiveColor="black",this._isChanged=!1,this.items=[],this.size=It.Z.ExtraLarge,this.menuMode=!1,this.stepChange=new a.EventEmitter,this._renderer=this.injector.get(a.Renderer2)}_buildStepItems(){const t=this._stepModels?.find(n=>n.id===this.value?.id),e=this._stepModels?.indexOf(t);let o=this._disabledStepColor;t&&(o=t.color);const r=this._generateItems(t,e,o),s=this._createHierarchyFromItems(r);if(this._setActiveParentItems(s),this.items=s,this.btgValue=this.items?.find(n=>n.value===this.value?.id),this.value||this._stepModels?.length){const n=i=>this._buttonToggleGroup.onToggleItemClick(i);this._menuModeItems=this._itemBuilderService.buildMenuModeItems((0,$.cloneDeep)(this.items),this.value,n)}}_refreshStepItems(){this._buildStepItems(),this._detectMenuModeChange(),this.detectChanges(),setTimeout(()=>{this.applyButtonsHover()},0)}_detectMenuModeChange(){if(!this.items?.length)return;const t=this._container?.nativeElement.offsetWidth;let o=t/this.items.length<=this._pxPerStepMenuBreakpoint;t||(o=!1);const r=this.menuMode!==o;return this.menuMode=o,r}_findActiveItem(t,e,o){const r=t.menuItems?.find(s=>s.value===this.value.id||!this._isChanged&&o.get(s.value));return!this._isChanged||r?r:t.value===e?t:t.menuItems?.find(s=>s.value===e)}_setActiveParentItems(t){if(!this.value||!this._stepModels)return;const e=new Map(this._stepModels.map(o=>[o.id,!!o.active]));for(let o=0;o<t?.length;o++){const r=t[o];let s;if(this._featureValues.EnableHistoryDCM){const n=this.items?.[o]?.value;s=this._findActiveItem(r,n,e)}else s=r.menuItems?.find(n=>n.value===this.value.id);if(s){const n=(0,$.omit)(s,"parentId","type","handleItemClick","disabled");if(n.menuItems=r.menuItems,t[o]=n,this._featureValues.EnableHistoryDCM&&s.value===this.value.id)return}}}_createHierarchyFromItems(t){const e=t?.filter(o=>!o.parentId);return e?.forEach(o=>{const r=t.filter(s=>s.parentId===o.value);if(r?.length){const s=r.map(n=>({type:"crt.MenuItem",caption:n.displayValue,handleItemClick:()=>this._buttonToggleGroup.onToggleItemClick(n),...n,disabled:n.disabled}));s.splice(0,0,{type:"crt.MenuItem",caption:o.displayValue,handleItemClick:()=>this._buttonToggleGroup.onToggleItemClick(o),...o,disabled:o.disabled}),o.menuItems=s,o.disabled=!1}}),e}_generateItems(t,e,o){return this._stepModels?.map((r,s)=>{const n=t&&s<=e,i=this._mapStepToStepValue(r);return i.backgroundColor=n?o:this._disabledStepColor,i.originalBackgroundColor=r.color,i.color=n?this._activeColor:this._inactiveColor,i.disabled=r.disabled,i})}_mapStepToStepValue(t){return{disabled:t.disabled,displayValue:t.caption,tooltipTitle:t.tooltipTitle??t.caption,value:t.id,ariaLabel:t.ariaLabel,parentId:t.parentId}}_focusCurrentValueButton(){const t=this._btnToggleGroup?.nativeElement,e=this.items.findIndex(s=>s.value===this.value.id),o=t?.querySelectorAll("button"),r=o&&o[e];r&&r?.focus()}_applyButtonColor(t,e){t?.forEach(o=>{this._renderer.setStyle(o,"background-color",e)})}_resetButtonColor(t,e){t?.forEach((o,r)=>{const s=e[r];this._renderer.setStyle(o,"background-color",s.backgroundColor)})}handleFinishLoadViewModelAttributes(){this.ngOnDestroy(),this._refreshStepItems()}applyButtonsHover(){const t=this._btnToggleGroup?.nativeElement;if(!t||!this.items)return;const e=t.querySelectorAll("crt-button"),o=this.menuMode?this._menuModeItems:this.items,r=o.findIndex(d=>d.value===this.value?.id),s=o.find(d=>d.value===this.value?.id)?.backgroundColor||o[0]?.originalBackgroundColor,n=this._entityStageProgressBarColorMapperService.getStageDarkHover(s),i=this._entityStageProgressBarColorMapperService.getStageLightHover(s||this._disabledStepColor);let c=!0;this._renderer.listen(document,"mousedown",d=>{!this.elementRef.nativeElement.contains(d.target)&&!c&&(this._resetButtonColor(e,o),c=!0)}),this.ngOnDestroy(),e.forEach((d,b)=>{const h=d.querySelectorAll("button"),y=o[b],_=Array.from(e),f=b<r?_.slice(b+1,r+1):_.slice(r+1,b+1),M=b<=r&&!y.disabled?n:i,z=b<=r&&!y.disabled?[d]:f;this._rendererListeners.push(this._renderer.listen(d,"mouseover",()=>{this._resetButtonColor(e,o),this._applyButtonColor(z,M),c=!1}),...Array.from(h).map(I=>this._renderer.listen(I,"focus",v=>{if(y.disabled)this._applyButtonColor(z,M),c=!1;else if(v.relatedTarget){const T=new Event("mouseover");d.dispatchEvent(T)}})),this._renderer.listen(d,"mouseout",I=>{if(b<=r&&!y.disabled)this._applyButtonColor([d],s),c=!1;else{if(I.relatedTarget?.classList?.contains("cdk-overlay-backdrop"))return;this._applyButtonColor(f,y.backgroundColor),c=!0}}),...Array.from(h).map(I=>this._renderer.listen(I,"blur",v=>{if(v.relatedTarget?.classList?.contains("crt-menu-item-container"))return;b===e.length-1&&(this._applyButtonColor(y.disabled?[...f,d]:f,y.backgroundColor),c=!0);const T=new Event("mouseout");d.dispatchEvent(T)})))})}onStepChange(t){t&&(this._isChanged=!0,this.value=this._stepModels.find(e=>e.id===t.value),this._refreshStepItems(),this.stepChange.emit(this.value),setTimeout(()=>{this._focusCurrentValueButton()},0))}ngOnDestroy(){this._rendererListeners&&this._rendererListeners.forEach(t=>t())}onResized(){this._detectMenuModeChange()&&setTimeout(()=>{this._buildStepItems(),this.detectChanges(),this.applyButtonsHover()},0)}static{this.\u0275fac=function(e){return new(e||w)(a.\u0275\u0275directiveInject(a.Injector),a.\u0275\u0275directiveInject(A),a.\u0275\u0275directiveInject(E),a.\u0275\u0275directiveInject(At.G))}}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:w,selectors:[["crt-step-progress-bar"]],viewQuery:function(e,o){if(e&1&&(a.\u0275\u0275viewQuery(gt,5),a.\u0275\u0275viewQuery(gt,5,a.ElementRef),a.\u0275\u0275viewQuery(wt,5,a.ElementRef)),e&2){let r;a.\u0275\u0275queryRefresh(r=a.\u0275\u0275loadQuery())&&(o._buttonToggleGroup=r.first),a.\u0275\u0275queryRefresh(r=a.\u0275\u0275loadQuery())&&(o._btnToggleGroup=r.first),a.\u0275\u0275queryRefresh(r=a.\u0275\u0275loadQuery())&&(o._container=r.first)}},inputs:{steps:"steps",currentStep:"currentStep"},outputs:{stepChange:"stepChange"},features:[a.\u0275\u0275InheritDefinitionFeature],decls:4,vars:15,consts:[["container",""],["buttonToggleGroup",""],["crtResizable","",3,"resized"],[1,"step-progress-bar",3,"valueChange","ngClass","items","size","value","allowUntoggle","menuButtonsMode"]],template:function(e,o){if(e&1){const r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",2,0),a.\u0275\u0275listener("resized",function(){return a.\u0275\u0275restoreView(r),a.\u0275\u0275resetView(o.onResized())}),a.\u0275\u0275elementStart(2,"crt-button-toggle-group",3,1),a.\u0275\u0275listener("valueChange",function(n){return a.\u0275\u0275restoreView(r),a.\u0275\u0275resetView(o.onStepChange(n))}),a.\u0275\u0275elementEnd()()}e&2&&(a.\u0275\u0275classProp("menu-mode",o.menuMode),a.\u0275\u0275advance(2),a.\u0275\u0275classProp("has-value",!!o.btgValue),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction2(12,Pt,o.isRtl(),o.loading))("items",o.displayItems)("size",o.size)("value",o.btgValue)("allowUntoggle",!1)("menuButtonsMode",!o.menuMode),a.\u0275\u0275attribute("aria-label",(o.value==null?null:o.value.caption)+" progressbar")("items-length",o.items==null?null:o.items.length))},dependencies:[D.NgClass,at.C,Et.s],styles:[`crt-button-toggle-group.step-progress-bar.loading .button-toggle:nth-child(1){animation:stepHighlight 2s infinite;animation-delay:0ms}crt-button-toggle-group.step-progress-bar.loading .button-toggle:nth-child(2){animation:stepHighlight 2s infinite;animation-delay:.5s}crt-button-toggle-group.step-progress-bar.loading .button-toggle:nth-child(3){animation:stepHighlight 2s infinite;animation-delay:1s}crt-button-toggle-group.step-progress-bar.loading .button-toggle:nth-child(4){animation:stepHighlight 2s infinite;animation-delay:1.5s}@keyframes stepHighlight{0%,25%{filter:brightness(105%)}26%,to{filter:brightness(100%)}}crt-button-toggle-group.step-progress-bar:focus{outline:none}crt-button-toggle-group.step-progress-bar .button-toggle-group{gap:0;overflow:hidden}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle,crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected{flex:1}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle:not(:only-child):first-child,crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected:not(:only-child):first-child{margin-left:0}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle:not(:only-child):first-child crt-button,crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected:not(:only-child):first-child crt-button{clip-path:polygon(0% 0%,calc(100% - 10px) 0%,calc(100% - 10px) 1%,calc(100% - 9.5px) 1%,calc(100% - .5px) 45%,100% 50%,calc(100% - .5px) 55%,calc(100% - 9.5px) 99%,calc(100% - 10px) 99%,calc(100% - 10px) 100%,0% 100%);border-radius:8px 0 0 8px}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle:not(:only-child):not(:first-child):not(:last-child),crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected:not(:only-child):not(:first-child):not(:last-child){margin-left:-7px}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle:not(:only-child):not(:first-child):not(:last-child) crt-button,crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected:not(:only-child):not(:first-child):not(:last-child) crt-button{clip-path:polygon(calc(100% - 10px) 0%,calc(100% - 10px) 1%,calc(100% - 9.5px) 1%,calc(100% - .5px) 45%,100% 50%,calc(100% - .5px) 55%,calc(100% - 9.5px) 99%,calc(100% - 10px) 99%,calc(100% - 10px) 100%,3px 100%,3px 93%,9px 65%,11.5px 50%,9px 35%,3px 7%,3px 0%);padding-left:.5vw}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle:not(:only-child):last-child,crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected:not(:only-child):last-child{margin-left:-7px}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle:not(:only-child):last-child crt-button:first-of-type,crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected:not(:only-child):last-child crt-button:first-of-type{clip-path:polygon(100% 0%,100% 100%,3px 100%,3px 93%,9px 65%,11.5px 50%,9px 35%,3px 7%,3px 0%);border-radius:0 8px 8px 0;padding-left:.5vw}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle:only-child crt-button,crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected:only-child crt-button{border-radius:8px}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle crt-button,crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected crt-button{width:100%;box-sizing:border-box}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle .crt-button,crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected .crt-button{width:100%}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle .crt-button.crt-button-with-menu .button-content-align-start,crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected .crt-button.crt-button-with-menu .button-content-align-start{min-width:0%}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle .crt-button[disabled],crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected .crt-button[disabled]{cursor:not-allowed}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle button.crt-button:not([disabled]),crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle button.crt-button:not([disabled]):hover,crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle button.crt-button.crt-button-with-menu:not([disabled]),crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle button.crt-button.crt-button-with-menu:not([disabled]):hover,crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected button.crt-button:not([disabled]),crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected button.crt-button:not([disabled]):hover,crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected button.crt-button.crt-button-with-menu:not([disabled]),crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected button.crt-button.crt-button-with-menu:not([disabled]):hover{background-color:unset;color:unset}crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle button.crt-button[disabled],crt-button-toggle-group.step-progress-bar .button-toggle-group .button-toggle.selected button.crt-button[disabled]{color:unset}crt-button-toggle-group.step-progress-bar.rtl .button-toggle-group .button-toggle{flex:1;border-radius:0 8px 8px 0}crt-button-toggle-group.step-progress-bar.rtl .button-toggle-group .button-toggle:not(:only-child):first-child{margin-left:-7px}crt-button-toggle-group.step-progress-bar.rtl .button-toggle-group .button-toggle:not(:only-child):first-child crt-button{clip-path:polygon(calc(0% + 10px) 0%,calc(0% + 10px) 1%,calc(0% + 9.5px) 1%,calc(0% + .5px) 45%,0% 50%,calc(0% + .5px) 55%,calc(0% + 9.5px) 99%,calc(0% + 10px) 99%,calc(0% + 10px) 100%,100% 100%,100% 0%);border-radius:0 8px 8px 0}crt-button-toggle-group.step-progress-bar.rtl .button-toggle-group .button-toggle:not(:only-child):not(:first-child):not(:last-child) crt-button{clip-path:polygon(calc(0% + 10px) 0%,calc(0% + 10px) 1%,calc(0% + 9.5px) 1%,calc(0% + .5px) 45%,0% 50%,calc(0% + .5px) 55%,calc(0% + 9.5px) 99%,calc(0% + 10px) 99%,calc(0% + 10px) 100%,calc(100% - 3px) 100%,calc(100% - 3px) 93%,calc(100% - 9px) 65%,calc(100% - 11.5px) 50%,calc(100% - 9px) 35%,calc(100% - 3px) 7%,calc(100% - 3px) 0%);padding-left:0;padding-right:.5vw}crt-button-toggle-group.step-progress-bar.rtl .button-toggle-group .button-toggle:not(:only-child):last-child{margin-left:0}crt-button-toggle-group.step-progress-bar.rtl .button-toggle-group .button-toggle:not(:only-child):last-child crt-button:first-of-type{clip-path:polygon(calc(100% - 3px) 100%,calc(100% - 3px) 93%,calc(100% - 9px) 65%,calc(100% - 11.5px) 50%,calc(100% - 9px) 35%,calc(100% - 3px) 7%,calc(100% - 3px) 0%,0% 0%,0% 100%);border-radius:8px 0 0 8px;padding-left:0;padding-right:.5vw}crt-step-progress-bar div:not(.menu-mode) crt-button-toggle-group.step-progress-bar .button-toggle{transition:width .5s ease-out;min-width:50px;width:0}crt-step-progress-bar div:not(.menu-mode) crt-button-toggle-group.step-progress-bar .button-toggle:hover,crt-step-progress-bar div:not(.menu-mode) crt-button-toggle-group.step-progress-bar .button-toggle:focus,crt-step-progress-bar div:not(.menu-mode) crt-button-toggle-group.step-progress-bar .button-toggle.selected,crt-step-progress-bar div:not(.menu-mode) crt-button-toggle-group.step-progress-bar .button-toggle.after-selected{min-width:auto;width:100%}crt-step-progress-bar div:not(.menu-mode) crt-button-toggle-group.step-progress-bar .button-toggle:hover .crt-button.crt-button-with-menu .button-content-align-start,crt-step-progress-bar div:not(.menu-mode) crt-button-toggle-group.step-progress-bar .button-toggle:focus .crt-button.crt-button-with-menu .button-content-align-start,crt-step-progress-bar div:not(.menu-mode) crt-button-toggle-group.step-progress-bar .button-toggle.selected .crt-button.crt-button-with-menu .button-content-align-start,crt-step-progress-bar div:not(.menu-mode) crt-button-toggle-group.step-progress-bar .button-toggle.after-selected .crt-button.crt-button-with-menu .button-content-align-start{max-width:100%}crt-step-progress-bar div:not(.menu-mode) .step-progress-bar:not([items-length="1"]):not([items-length="2"]):not([items-length="3"]) .button-toggle{max-width:28%}crt-step-progress-bar div:not(.menu-mode) .step-progress-bar:not([items-length="1"]):not([items-length="2"]):not([items-length="3"]) .button-toggle:hover,crt-step-progress-bar div:not(.menu-mode) .step-progress-bar:not([items-length="1"]):not([items-length="2"]):not([items-length="3"]) .button-toggle:focus,crt-step-progress-bar div:not(.menu-mode) .step-progress-bar:not([items-length="1"]):not([items-length="2"]):not([items-length="3"]) .button-toggle.selected,crt-step-progress-bar div:not(.menu-mode) .step-progress-bar:not([items-length="1"]):not([items-length="2"]):not([items-length="3"]) .button-toggle.after-selected{max-width:34%}crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="1"] .button-toggle:hover,crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="1"] .button-toggle:focus,crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="1"] .button-toggle.selected,crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="1"] .button-toggle.after-selected{max-width:100%}crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="2"]:not(.has-value) .button-toggle:hover,crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="2"]:not(.has-value) .button-toggle:focus{min-width:auto;max-width:80%}crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="2"].has-value .button-toggle:focus,crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="2"].has-value .button-toggle.selected{min-width:auto;max-width:80%}crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="2"].has-value .button-toggle.before-selected,crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="2"].has-value .button-toggle.after-selected{min-width:20%}crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="3"]:not(.has-value) .button-toggle:hover,crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="3"]:not(.has-value) .button-toggle:focus{min-width:auto;max-width:80%}crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="3"].has-value .button-toggle:focus,crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="3"].has-value .button-toggle.selected{min-width:auto;max-width:40%}crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="3"].has-value .button-toggle.after-selected{min-width:auto;max-width:40%}crt-step-progress-bar div:not(.menu-mode) .step-progress-bar[items-length="3"].has-value .button-toggle.before-selected{min-width:20%}crt-step-progress-bar div.menu-mode crt-button-toggle-group.step-progress-bar .rtl .button-toggle.selected:only-child{clip-path:none;margin:0}crt-step-progress-bar div.menu-mode crt-button-toggle-group.step-progress-bar .button-toggle:not(.before-selected){min-width:20%}crt-step-progress-bar div.menu-mode crt-button-toggle-group.step-progress-bar .button-toggle:last-child:not(.selected){min-width:80px;max-width:80px}crt-step-progress-bar div.menu-mode crt-button-toggle-group.step-progress-bar .button-toggle.before-selected{max-width:28px}crt-step-progress-bar div.menu-mode crt-button-toggle-group.step-progress-bar .button-toggle.selected,crt-step-progress-bar div.menu-mode crt-button-toggle-group.step-progress-bar .button-toggle.after-selected{min-width:24px}crt-step-progress-bar div.menu-mode crt-button-toggle-group.step-progress-bar .button-toggle.selected:only-child{clip-path:none;margin:0}crt-step-progress-bar div.menu-mode crt-button-toggle-group.step-progress-bar .button-toggle.selected:only-child crt-button:first-of-type{border-radius:8px}crt-step-progress-bar div.menu-mode crt-button-toggle-group.step-progress-bar .button-toggle:last-child:not(.selected) .crt-button-menu-trigger-icon{min-width:30px}crt-step-progress-bar div.menu-mode crt-button-toggle-group.step-progress-bar .button-toggle:last-child:not(.selected) .crt-button.crt-button-with-menu .button-content-align-start{min-width:0%}
`],encapsulation:2,changeDetection:0})}}class P{constructor(t,e){this._matIconRegistry=t,this._domSanitizer=e,this._registerIcons()}_registerIcons(){[{name:"stage-dot-disabled",icon:g(34542)},{name:"stage-dot",icon:g(60177)}].forEach(({name:e,icon:o})=>{this._matIconRegistry.addSvgIconLiteral(e,this._domSanitizer.bypassSecurityTrustHtml(o))})}static{this.\u0275fac=function(e){return new(e||P)(a.\u0275\u0275inject(K.MatIconRegistry),a.\u0275\u0275inject(_t.DomSanitizer))}}static{this.\u0275mod=a.\u0275\u0275defineNgModule({type:P})}static{this.\u0275inj=a.\u0275\u0275defineInjector({providers:[A],imports:[D.CommonModule,K.MatIconModule,it.T]})}}(function(){(typeof ngJitMode>"u"||ngJitMode)&&a.\u0275\u0275setNgModuleScope(P,{declarations:[w],imports:[D.CommonModule,at.C,K.MatIconModule,it.T],exports:[w]})})();var ct=g(96176),Bt=g(12841),S=g(77592),F=g(34760),Mt=g(3671),Dt=g(52793),xt=g(10098),Ft=g(62115);const Rt=["entityStageProgressBarContainer"],Vt=["changeCaseButton"],Ht=["stepProgressBar"];let p=class et extends lt.K{set recordId(t){this._recordId=t,t&&setTimeout(()=>{this._emitLoadDataEvent()},0)}get recordId(){return this._recordId}set entityName(t){this._entityName=t}set saveOnChange(t){this._saveOnChange=t}set askUserToChangeSchema(t){this._askUserToChangeSchema=t}set stages(t){this._stages=t,this._applyChangeCaseButtonColor(),this._checkIsEmptyStages()}get stages(){return this._stages}set stageConnections(t){this._stageConnections=t,this._setupAllowedStages()}get stageConnections(){return this._stageConnections}set allowedStages(t){this._allowedStages=t,t&&(this.areStagesLoading=!1),this._setupAllowedStages()}get allowedStages(){return this._allowedStages}set value(t){let e=null;t?.value&&(e={caption:t?.displayValue,id:t?.value}),this.currentStage=e,this._canReloadStages&&this.onStageChanged(this.currentStage,!1),this._canReloadStages=!0,this._applyChangeCaseButtonColor()}set stageSchemaFilterByValue(t){!this.areStagesLoading&&t!==this._stageSchemaFilterByValue&&(t?.value||t===null)&&(this.onStageSchemaFilterValueChanged(),this._stageSchemaFilterByValue=t)}set currentStage(t){this._value=t,this._setupAllowedStages()}get currentStage(){return this._value}set isAppropriateEntityStageSchema(t){t!==null&&(this._isAppropriateEntityStageSchema=t)}get isAppropriateEntityStageSchema(){return this._isAppropriateEntityStageSchema}set stageRunningProcessUId(t){!this.areStagesLoading&&!t&&this._stageRunningProcessUId!==t?this._emitLoadDataEvent():t&&this._checkAppropriateProcessSchema(!1),this._stageRunningProcessUId=t}get isChangeStageProcessButtonVisible(){return!this.isAppropriateEntityStageSchema&&!this.areStagesLoading&&!this._isFinalStage(this.currentStage)}constructor(t){super(t),this._isAppropriateEntityStageSchema=!0,this._stageSchemaFilterByValue=null,this._isHidden=!1,this.areStagesLoading=!0,this.loadData=new a.EventEmitter,this.stageChanged=new a.EventEmitter,this.checkIsAnAppropriateProcessSchema=new a.EventEmitter,this.changeToAppropriateEntityStageSchema=new a.EventEmitter,this.setAllowedStages=new a.EventEmitter,this._renderer=this.injector.get(a.Renderer2)}_emitLoadDataEvent(){this.loadData.emit({entityName:this._entityName,recordId:this.recordId})}_checkAppropriateProcessSchema(t){this.checkIsAnAppropriateProcessSchema.emit({changeCaseHandler:this.onStageSchemaChange.bind(this),askUserToChangeSchema:t})}_applyChangeCaseButtonColor(){setTimeout(()=>{const t=this._changeCaseButton?.nativeElement?.querySelector(".crt-button"),o=this._stepProgressBar?.nativeElement?.querySelector("crt-button:first-child")?.style?.backgroundColor;o&&t&&this._renderer.setStyle(t,"background-color",o)},0)}_isFinalStage(t){return this._stages?.find(e=>e.id===t?.id)?.isFinal}_checkIsEmptyStages(){const t=!!this._stages&&this._stages.length===0;this._isHidden!==t&&(this._updateParentElementDisplayProperty(!t),this._isHidden=t)}_updateParentElementDisplayProperty(t){const e=this._entityStageProgressBarContainer?.nativeElement?.parentElement;e&&(e.style.display=t?null:"none")}_setupAllowedStages(){this.setAllowedStages.emit({currentStage:this.currentStage,stageConnections:this.stageConnections,stages:this.stages,allowedStages:this.allowedStages})}onStageSchemaFilterValueChanged(){this._isFinalStage(this.currentStage)||(this._stageRunningProcessUId?this._checkAppropriateProcessSchema(this._askUserToChangeSchema):(this.areStagesLoading=!0,this.allowedStages=null,this._emitLoadDataEvent()),this._applyChangeCaseButtonColor())}onStageChanged(t,e=!0){this._canReloadStages=!1,this.currentStage=t;let o=this._saveOnChange;e||(o=!0),this.stageChanged.emit({stage:t,stageConnections:this.stageConnections,stages:this.stages,allowedStages:this.allowedStages,doSave:e&&this._saveOnChange,silentSave:o})}onStageSchemaChange(){this.changeToAppropriateEntityStageSchema.emit()}static{this.\u0275fac=function(e){return new(e||et)(a.\u0275\u0275directiveInject(a.Injector))}}static{this.\u0275cmp=a.\u0275\u0275defineComponent({type:et,selectors:[["crt-entity-stage-progress-bar"]],viewQuery:function(e,o){if(e&1&&(a.\u0275\u0275viewQuery(Rt,5,a.ElementRef),a.\u0275\u0275viewQuery(Vt,5,a.ElementRef),a.\u0275\u0275viewQuery(Ht,5,a.ElementRef)),e&2){let r;a.\u0275\u0275queryRefresh(r=a.\u0275\u0275loadQuery())&&(o._entityStageProgressBarContainer=r.first),a.\u0275\u0275queryRefresh(r=a.\u0275\u0275loadQuery())&&(o._changeCaseButton=r.first),a.\u0275\u0275queryRefresh(r=a.\u0275\u0275loadQuery())&&(o._stepProgressBar=r.first)}},inputs:{recordId:"recordId",entityName:"entityName",saveOnChange:"saveOnChange",askUserToChangeSchema:"askUserToChangeSchema",stages:"stages",stageConnections:"stageConnections",allowedStages:"allowedStages",value:"value",stageSchemaFilterByValue:"stageSchemaFilterByValue",currentStage:"currentStage",isAppropriateEntityStageSchema:"isAppropriateEntityStageSchema",stageRunningProcessUId:"stageRunningProcessUId"},outputs:{loadData:"loadData",stageChanged:"stageChanged",checkIsAnAppropriateProcessSchema:"checkIsAnAppropriateProcessSchema",changeToAppropriateEntityStageSchema:"changeToAppropriateEntityStageSchema",setAllowedStages:"setAllowedStages"},features:[a.\u0275\u0275InheritDefinitionFeature],decls:9,vars:8,consts:[["entityStageProgressBarContainer",""],["changeCaseButton",""],["stepProgressBar",""],[1,"entity-stage-progress-bar-container"],[1,"change-stage-container"],["icon","change_case","shape","rounded","data-item-marker","changeCaseButton","matTooltipPosition","below","matTooltipClass","entity-stage-progress-bar-change-stage-tooltip",1,"change-stage-button",3,"clicked","title"],[1,"dot"],[3,"stepChange","loading","steps","currentStep"]],template:function(e,o){if(e&1){const r=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",3,0)(2,"div",4)(3,"crt-button",5,1),a.\u0275\u0275pipe(5,"translate"),a.\u0275\u0275listener("clicked",function(){return a.\u0275\u0275restoreView(r),a.\u0275\u0275resetView(o.onStageSchemaChange())}),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(6,"div",6),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(7,"crt-step-progress-bar",7,2),a.\u0275\u0275listener("stepChange",function(n){return a.\u0275\u0275restoreView(r),a.\u0275\u0275resetView(o.onStageChanged(n))}),a.\u0275\u0275elementEnd()()}e&2&&(a.\u0275\u0275classProp("change-stage-available",o.isChangeStageProcessButtonVisible),a.\u0275\u0275advance(3),a.\u0275\u0275property("title",a.\u0275\u0275pipeBind1(5,6,"EntityStageProgressBar.ChangeStageProcessButtonHint")),a.\u0275\u0275advance(4),a.\u0275\u0275property("loading",o.areStagesLoading||o.loading)("steps",o.stages)("currentStep",o.currentStage))},dependencies:[w,Ft.B,x.TranslatePipe],styles:["[_nghost-%COMP%]   .entity-stage-progress-bar-container[_ngcontent-%COMP%]{padding-top:4px}[_nghost-%COMP%]   .entity-stage-progress-bar-container.change-stage-available[_ngcontent-%COMP%]{padding-left:4px}[_nghost-%COMP%]   .entity-stage-progress-bar-container.change-stage-available[_ngcontent-%COMP%]   .change-stage-container[_ngcontent-%COMP%]{display:block;position:relative}[_nghost-%COMP%]   .entity-stage-progress-bar-container.change-stage-available[_ngcontent-%COMP%]   .change-stage-container[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{height:8px;width:8px;border-radius:50%;position:relative;top:-80%;left:-5%}[_nghost-%COMP%]   .change-stage-container[_ngcontent-%COMP%]{display:none}"],changeDetection:0})}};(0,l.__decorate)([(0,S.k)(),(0,l.__metadata)("design:type",String),(0,l.__metadata)("design:paramtypes",[String])],p.prototype,"recordId",null),(0,l.__decorate)([(0,S.k)(),(0,l.__metadata)("design:type",String),(0,l.__metadata)("design:paramtypes",[String])],p.prototype,"entityName",null),(0,l.__decorate)([(0,S.k)(),(0,l.__metadata)("design:type",Boolean),(0,l.__metadata)("design:paramtypes",[Boolean])],p.prototype,"saveOnChange",null),(0,l.__decorate)([(0,S.k)(),(0,l.__metadata)("design:type",Boolean),(0,l.__metadata)("design:paramtypes",[Boolean])],p.prototype,"askUserToChangeSchema",null),(0,l.__decorate)([(0,S.k)(),(0,l.__metadata)("design:type",Array),(0,l.__metadata)("design:paramtypes",[Array])],p.prototype,"stages",null),(0,l.__decorate)([(0,S.k)(),(0,l.__metadata)("design:type",Array),(0,l.__metadata)("design:paramtypes",[Array])],p.prototype,"stageConnections",null),(0,l.__decorate)([(0,S.k)(),(0,l.__metadata)("design:type",Array),(0,l.__metadata)("design:paramtypes",[Array])],p.prototype,"allowedStages",null),(0,l.__decorate)([(0,S.k)(),(0,l.__metadata)("design:type",Object),(0,l.__metadata)("design:paramtypes",[Object])],p.prototype,"value",null),(0,l.__decorate)([(0,S.k)(),(0,l.__metadata)("design:type",Object),(0,l.__metadata)("design:paramtypes",[Object])],p.prototype,"stageSchemaFilterByValue",null),(0,l.__decorate)([(0,S.k)(),(0,l.__metadata)("design:type",Object),(0,l.__metadata)("design:paramtypes",[Object])],p.prototype,"currentStage",null),(0,l.__decorate)([(0,S.k)(),(0,l.__metadata)("design:type",Boolean),(0,l.__metadata)("design:paramtypes",[Boolean])],p.prototype,"isAppropriateEntityStageSchema",null),(0,l.__decorate)([(0,S.k)(),(0,l.__metadata)("design:type",String),(0,l.__metadata)("design:paramtypes",[String])],p.prototype,"stageRunningProcessUId",null),(0,l.__decorate)([(0,F.j)(),(0,l.__metadata)("design:type",Object)],p.prototype,"loadData",void 0),(0,l.__decorate)([(0,F.j)(),(0,l.__metadata)("design:type",Object)],p.prototype,"stageChanged",void 0),(0,l.__decorate)([(0,F.j)(),(0,l.__metadata)("design:type",Object)],p.prototype,"checkIsAnAppropriateProcessSchema",void 0),(0,l.__decorate)([(0,F.j)(),(0,l.__metadata)("design:type",Object)],p.prototype,"changeToAppropriateEntityStageSchema",void 0),(0,l.__decorate)([(0,F.j)(),(0,l.__metadata)("design:type",Object)],p.prototype,"setAllowedStages",void 0),p=(0,l.__decorate)([(0,Mt.v)({type:"crt.EntityStageProgressBar"}),(0,Dt.f)({toolbarConfig:{icon:g(65118),hint:"Components.ProgressBar.Hint",position:130,defaultPropertyValues:{saveOnChange:!1,askUserToChangeSchema:!0}},typeCaption:"Components.ProgressBar.Caption",propertiesPanelComponentTypeName:"crt.EntityStageProgressBarPropertiesPanel",viewElementGroupType:xt.J.Components}),(0,l.__metadata)("design:paramtypes",[a.Injector])],p);var m=g(73308),Lt=g(74368),Nt=g(1499),u=g(62278),R=g(36486),dt=g(38071),ut=g(22110),pt=g(99497),jt=g(81923);class V{get isProcessingDisabled(){return(0,u.lastValueFrom)(this._featureService.getFeatureState("DisableEntityStageProgressBarPreprocessing"))}constructor(t,e,o,r){this._featureService=t,this._dcmSchemaManagerService=e,this._configurationDataService=o,this._entitySchemaRepository=r,this._componentName="crt.EntityStageProgressBar",this._stagesAttributeSuffix="_StagesList",this._stageConnectionsAttributeSuffix="_StageConnections",this._allowedStagesAttributeSuffix="_AllowedStages",this._valueAttributeSuffix="_CurrentStage",this._stageFilteredByAttributeSuffix="_StageFilteredBy",this._stageRunningProcessUIdAttributeSuffix="_RunningProcessUId",this._entityStageSchemasAttributeSuffix="_EntityStageSchemas",this._isAppropriateEntityStageSchemaAttributeSuffix="_IsAppropriateEntityStageSchema",this._filteredByValueAttributeName="",this._primaryDataSourceName="",this._metadataSchemaUtils=(0,a.inject)(Lt.u)}_getComponents(t){return this._metadataSchemaUtils.getViewConfigInfoByProperty("type",this._componentName,t.viewConfig)}_getEntityStagesSchemas(t){return(0,u.lastValueFrom)(this._dcmSchemaManagerService.getDcmSchemaDataCollection().pipe((0,R.map)(e=>e.filter(o=>o.entitySchemaUId===t))))}_getEntitySchemaUid(t){return(0,u.lastValueFrom)(this._configurationDataService.getEntityUId(t).pipe((0,R.map)(e=>e?.data?.entityUIds?.filter(o=>o.entitySchemaName===t)[0].entitySchemaUId)))}_getEntityColumnByUId(t,e){if(!(!t||!e))return(0,u.lastValueFrom)(this._entitySchemaRepository.getSchemaByName(t).pipe((0,R.map)(o=>o.columns.find(r=>r.uId===e)?.name)))}_findAttributeKeyByPath(t,e){let o=null;return Object.keys(t).forEach(r=>{t[r]?.modelConfig?.path===e&&(o=r)}),o}_generateAttributes(t){return{listAttributeName:`${t}${this._stagesAttributeSuffix}`,stageConnectionsAttributeName:`${t}${this._stageConnectionsAttributeSuffix}`,allowedStagesAttributeName:`${t}${this._allowedStagesAttributeSuffix}`,stageRunningProcessUIdAttributeName:`${t}${this._stageRunningProcessUIdAttributeSuffix}`,entityStageSchemasAttribute:`${t}${this._entityStageSchemasAttributeSuffix}`,isAppropriateEntityStageSchemaAttribute:`${t}${this._isAppropriateEntityStageSchemaAttributeSuffix}`,currentStageAttributeName:""}}_loadEntityStageSchemas(t,e,o){var r=this;return(0,m.A)(function*(){let s="";if(!e)return s;const n=yield r._getEntitySchemaUid(e),i=(yield r._getEntityStagesSchemas(n)).filter(c=>c.isActive&&c.isActiveVersion);if(i?.length){s=i[0].stageColumnUId,t[`${o}${r._entityStageSchemasAttributeSuffix}`]={value:i};const c=i.find(f=>f.filters)?.filters;if(!c)return s;const d=JSON.parse(c),h=Object.values(d.items)[0].leftExpression.columnPath,y=`${r._primaryDataSourceName}.${h}`,_=r._findAttributeKeyByPath(t,y);_&&(r._filteredByValueAttributeName=_),r._filteredByValueAttributeName||(r._filteredByValueAttributeName=`${o}${r._stageFilteredByAttributeSuffix}`,t[r._filteredByValueAttributeName]={modelConfig:{path:y}})}return s})()}_loadEntityAttributes(t,e){var o=this;return(0,m.A)(function*(){const r=`ProgressBarComponent_${e}`,s=o._generateAttributes(r);let n=t.viewModelConfig.attributes;n||(n=t.viewModelConfig.attributes={}),n[s.entityStageSchemasAttribute]={value:null};const i=yield o._loadEntityStageSchemas(n,e,r);s.filterValueAttributeName=o._filteredByValueAttributeName||"";const c=yield o._getEntityColumnByUId(e,i);return c&&(s.currentStageAttributeName=o.setupColumnAttribute(c,n,r,o._valueAttributeSuffix)),s.idAttributeName=o.setupColumnAttribute("Id",n,r,"_RecordId"),n[s.listAttributeName]={value:null},n[s.stageConnectionsAttributeName]={value:null},n[s.allowedStagesAttributeName]={value:null},n[s.stageRunningProcessUIdAttributeName]={value:null},n[s.isAppropriateEntityStageSchemaAttribute]={value:!0},s})()}setupColumnAttribute(t,e,o,r){const s=`${this._primaryDataSourceName}.${t}`;let n=this._findAttributeKeyByPath(e,s);return n||(n=`${o}${r}`,e[n]={modelConfig:{path:s}}),n}_setupComponentConfig(t,e){this._setupComponentFields(t,e),this._setupComponentHandlers(t,e)}_setupComponentFields(t,e){const o=t?.viewConfig;o.recordId=`$${e.idAttributeName}`,o.stages=`$${e.listAttributeName}`,o.stageConnections=`$${e.stageConnectionsAttributeName}`,o.allowedStages=`$${e.allowedStagesAttributeName}`,o.stageSchemaFilterByValue=`$${e.filterValueAttributeName}`,o.value=`$${e.currentStageAttributeName}`,o.isAppropriateEntityStageSchema=`$${e.isAppropriateEntityStageSchemaAttribute}`,o.stageRunningProcessUId=`$${e.stageRunningProcessUIdAttributeName}`}_setupComponentHandlers(t,e){const o=t?.viewConfig;o.stageChanged={request:"crt.EntityStageProgressBarStageChangedHandlerRequest",params:{stageAttribute:e.currentStageAttributeName,stagesAttribute:e.listAttributeName,config:"@event"}},o.setAllowedStages={request:"crt.EntityStageProgressBarProcessStagePermissionsHandlerRequest",params:{stagesAttribute:e.listAttributeName,config:"@event"}},o.loadData={request:"crt.EntityStageProgressBarLoadDataHandlerRequest",params:{stagesAttribute:e.listAttributeName,stageConnectionsAttribute:e.stageConnectionsAttributeName,allowedStagesAttribute:e.allowedStagesAttributeName,stageRunningProcessUIdAttribute:e.stageRunningProcessUIdAttributeName,stageSchemaFilterByValueName:e.filterValueAttributeName,currentStageAttribute:e.currentStageAttributeName,config:"@event"}},o.checkIsAnAppropriateProcessSchema={request:"crt.EntityStageProcessAppropriateCheckHandlerRequest",params:{entityStageSchemas:`$${e.entityStageSchemasAttribute}`,stageRunningProcessUId:`$${e.stageRunningProcessUIdAttributeName}`,filterColumnAttributeName:e.filterValueAttributeName,isAppropriateEntityStageSchemaAttribute:e.isAppropriateEntityStageSchemaAttribute,config:"@event"}},o.changeToAppropriateEntityStageSchema={request:"crt.EntityStageProgressBarChangeStageProcessHandlerRequest",params:{entityName:t?.viewConfig.entityName,entityId:`$${e.idAttributeName}`,currentStage:`$${e.currentStageAttributeName}`,stageRunningProcessUIdAttribute:e.stageRunningProcessUIdAttributeName,isAppropriateEntityStageSchemaAttribute:e.isAppropriateEntityStageSchemaAttribute,loadDataRequest:o.loadData}}}crtOnModelInit(t,e){var o=this;return(0,m.A)(function*(){if(yield o.isProcessingDisabled)return t;const r=t;o._primaryDataSourceName=(0,Nt.h)(r);const s=o._getComponents(r),n=s.map(i=>i.viewConfig.entityName).filter((i,c,d)=>d.indexOf(i)===c);for(const i of n){o._filteredByValueAttributeName="";const c=yield o._loadEntityAttributes(r,i);for(const d of s.filter(b=>b.viewConfig.entityName===i))o._setupComponentConfig(d,c)}return t})()}static{this.\u0275fac=function(e){return new(e||V)(a.\u0275\u0275inject(dt.wf),a.\u0275\u0275inject(ut.M),a.\u0275\u0275inject(pt.G),a.\u0275\u0275inject(jt.v))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac})}}var H=g(81517),L=g(2828),N=g(41287),Tt=g(49973),j=g(844),Ut=g(5704),kt=g(58504),$t=g(29025),Ot=g(53163),zt=g(65751),Qt=g(48899),ht=g(71183),Gt=g(22392);let mt=class extends H.S{};mt=(0,l.__decorate)([(0,L.$)({type:"crt.EntityStageProgressBarLoadDataHandlerRequest"})],mt);let W=class Q extends N.l{constructor(t){super(),this._injector=t,this._stageLookupValues=[],this._configurationDataService=this._injector.get(pt.G),this._dcmService=this._injector.get(ut.M),this._stageSchemaFilterService=this._injector.get(ht.A),this._stageColorMapper=this._injector.get(E),this._queryExecutor=this._injector.get(zt.w),this._entitySchemaService=this._injector.get(Qt.e),this._featureService=this._injector.get(dt.wf)}_processAllowedStages(t){return t?.map(e=>({stageRecordId:this._dcmDataInfo.stages.find(r=>e.stageUId===r.uId).stageRecordId,hint:e.hint,isAllowed:e.isAllowed}))}_processStageConnections(t){const e=[];return t?.stageConnections?.forEach(o=>{const r=this._dcmDataInfo.stages.find(n=>o.source===n.uId),s=this._dcmDataInfo.stages.find(n=>o.target===n.uId);e.push({source:r.stageRecordId,target:s.stageRecordId})}),e}_getStageColumnLookupValues(t,e){var o=this;return(0,m.A)(function*(){const r=yield(0,Gt.N)(e,t);if(!r?.referenceSchemaName)return[];const s=o._stageLookupValues?.find(n=>n.entityName===r?.referenceSchemaName);if(s)return s.values;{const n=yield(0,u.firstValueFrom)(o._getEntityUId(r.referenceSchemaName)),i=yield(0,u.firstValueFrom)(o._entitySchemaService.getEntitySchemaByUId(n)),c=yield(0,u.firstValueFrom)(o._getLookupValues(i?.entitySchema));return o._stageLookupValues.push({entityName:r.referenceSchemaName,values:c}),c}})()}_getLookupValues(t){const e=new Tt.s(t.name),o=t.getPrimaryDisplayColumn();return e.addSchemaColumn("Id"),e.addSchemaColumn(o.name),this._queryExecutor.executeSelectQuery(e).pipe((0,u.map)(r=>r?.map(s=>({value:s.Id,displayValue:s[o.name]}))))}_getEntityUId(t){return this._configurationDataService.getEntityUId(t).pipe((0,u.map)(e=>e?.data?.entityUIds?.filter(o=>o.entitySchemaName===t)[0].entitySchemaUId))}_loadAllowedStages(t){return this._featureService.getFeatureState("ShowCustomHintMessageInProgressBar").pipe((0,R.switchMap)(o=>o?this._getRecordInfoWithCustomHint(t):this._getRecordInfo()))}_getRecordInfoWithCustomHint(t){return this._dcmService.getDcmRecordInfo(t,this._dcmDataItem?.uId).pipe((0,u.map)(e=>e.stages))}_getRecordInfo(){return this._dcmService.getAllowedStages(this._dcmDataItem?.uId).pipe((0,u.map)(t=>t.map(e=>({stageUId:e,isAllowed:!0}))))}_getActualHistory(t){const e=[];if(t.length===0)return e;const o=new Map(this._dcmDataInfo?.stages.map((n,i)=>[n.uId,{index:i,stage:n}]));let r=1/0;const s=new Set;return t.forEach(n=>{const i=o.get(n);if(!i)return;const c=i.stage,d=i.index;d<=r&&!s.has(c.uId)&&!s.has(c.parentStageUId)&&(e.push({stageRecordId:c.stageRecordId,index:d,caption:c.caption}),c.parentStageUId&&s.add(c.parentStageUId),r=d)}),e}buildPlaybookStageFilter(t){const e=t.$context,o=this._dcmDataCollection.find(s=>s.entitySchemaUId===this._entityUId),r=new Ut.x(kt.H.Equal,new $t.g({columnPath:"[PlaybookStage:KnowledgeBase:Id].[CrtPlaybook:Id:Playbook].[VwSysDcmLib:Id:DcmCase].UId"}),new Ot.J({value:this._dcmDataItem?.uId??o?.uId}));e.Filter_by_DCM_value=r.toJson()}setupEntityUId(t){return this._getEntityUId(t.config.entityName).pipe((0,u.map)(e=>this._entityUId=e))}setupDcmSchema(t){var e=this;const o=t.$context;let r;return this._dcmService.getDcmSchemaDataCollection().pipe((0,u.map)(s=>this._dcmDataCollection=s),(0,u.mergeMap)(()=>this._featureService.getFeatureState("EnableHistoryDCM")),(0,u.mergeMap)(s=>s?this._dcmService.getDcmRunningProcessHistory(this._entityUId,t.config.recordId):this._dcmService.getDcmRunningProcess(this._entityUId,t.config.recordId)),(0,u.map)(s=>{if(r=s.history||[],s?.uId)this._runningProcessUId=s.uId,t.stageRunningProcessUIdAttribute&&o.setValue({[t.stageRunningProcessUIdAttribute]:this._runningProcessUId}),this._dcmDataItem=this._dcmDataCollection.find(n=>n.uId===this._runningProcessUId);else{const n=o.attributes[t.stageSchemaFilterByValueName],i=this._dcmDataCollection.filter(d=>d.entitySchemaUId===this._entityUId);this._dcmDataItem=this._stageSchemaFilterService.getEntityStageSchemaByFilteredColumnValue(i,n?.value);const c=i.some(d=>d.isActive&&d.isActiveVersion&&d.filters!=="");if(!this._dcmDataItem&&c&&!n){o.setValue({[t.allowedStagesAttribute]:null}),o.setValue({[t.allowedStagesAttribute]:[]});return}}}),(0,u.mergeMap)(()=>this._dcmService.getDcmSchemaData(this._dcmDataItem?.uId)),(0,u.mergeMap)(function(){var s=(0,m.A)(function*(n){e._dcmDataInfo=n,e._stageConnections=e._processStageConnections(n),o.setValue({[t.stageConnectionsAttribute]:e._stageConnections});const i=yield e._getStageColumnLookupValues(t.currentStageAttribute,t.$context);e._stages=e.convertStages(i,r),o.setValue({[t.stagesAttribute]:e._stages})});return function(n){return s.apply(this,arguments)}}()),(0,u.mergeMap)(()=>this._dcmDataItem?.uId?this._loadAllowedStages(t.config.recordId):(0,u.of)([])),(0,u.map)(s=>{this._allowedStages=this._processAllowedStages(s),o.setValue({[t.allowedStagesAttribute]:null}),o.setValue({[t.allowedStagesAttribute]:this._allowedStages})}))}convertStages(t,e){const o=this._dcmDataInfo?.stages,r=o?.map(n=>({color:this._stageColorMapper.getStageColor(n.color),caption:t.find(i=>i.value===n.stageRecordId)?.displayValue??n.caption,id:n.stageRecordId,parentId:o.find(i=>i.uId===n.parentStageUId)?.stageRecordId}));if(r.length){const n=r[r.length-1];n.isFinal=!0,n.parentId&&r.filter(i=>i.id===n.parentId).forEach(i=>i.isFinal=!0)}const s=this._getActualHistory(e);return r.forEach(n=>{s.find(c=>c.stageRecordId===n.id)&&(n.active=!0)}),r}handle(t){var e=this;return(0,m.A)(function*(){yield(0,u.lastValueFrom)((0,u.of)(1).pipe((0,u.mergeMap)(()=>e.setupEntityUId(t)),(0,u.mergeMap)(()=>e.setupDcmSchema(t)),(0,u.mergeMap)(()=>(0,u.of)(e.buildPlaybookStageFilter(t)))))})()}static{this.\u0275fac=function(e){return new(e||Q)(a.\u0275\u0275inject(a.Injector))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Q,factory:Q.\u0275fac,providedIn:"root"})}};W=(0,l.__decorate)([(0,j.l)({type:"crt.EntityStageProgressBarLoadDataHandler",requestType:"crt.EntityStageProgressBarLoadDataHandlerRequest"}),(0,l.__metadata)("design:paramtypes",[a.Injector])],W);var bt=g(6503),Zt=g(94449),Kt=g(31774);let Ct=class extends H.S{};Ct=(0,l.__decorate)([(0,L.$)({type:"crt.EntityStageProgressBarChangeStageProcessHandlerRequest"})],Ct);let X=class G extends N.l{constructor(t){super(),this._injector=t,this._processEngineService=this._injector.get(Zt.N),this._messageDialogProvider=this._injector.get(Kt.r),this._translateService=this._injector.get(x.TranslateService),this._notifyService=this._injector.get(bt.F)}_saveViewModel(t){var e=this;return(0,m.A)(function*(){const{$context:o,scopes:r}=t,s={type:"crt.SaveRecordRequest",preventCardClose:!0,scopes:r,$context:o};return yield e.handlerChain.process(s)})()}_reloadData(t){var e=this;return(0,m.A)(function*(){const o=yield t.getPrimaryModelName(),r=yield t.getPrimaryDataSchema(),s={type:"crt.LoadDataRequest",dataSourceName:o,parameters:[{type:"primaryColumnValue",value:r.primaryAttributeName}],$context:t};return yield e.handlerChain.process(s)})()}_reloadDcmData(t,e){var o=this;return(0,m.A)(function*(){const r={type:t.loadDataRequest.request,...t.loadDataRequest.params,config:{entityName:t.entityName,recordId:t.entityId,currentStage:t.currentStage?{id:t.currentStage.value}:null},$context:e};return yield o.handlerChain.process(r)})()}_changeToAppropriateEntityStageSchemaInstance(t){return(0,u.lastValueFrom)(this._processEngineService.changeToAppropriateDcmInstance(t.currentStage?.value,t.entityName,t.entityId).pipe((0,R.map)(e=>e.success)))}_showNotification(){const t={message:"EntityStageProgressBar.SnackbarEntityProcessChangedMessage",duration:3e3};this._notifyService.show(t)}handle(t){var e=this;return(0,m.A)(function*(){(yield(0,u.lastValueFrom)(e._messageDialogProvider.confirmation("EntityStageProgressBar.ConfirmChangeCaseDialogMessage")))&&(yield e._saveViewModel(t),(yield e._changeToAppropriateEntityStageSchemaInstance(t))&&t.stageRunningProcessUIdAttribute&&(e._showNotification(),yield e._reloadDcmData(t,t.$context),yield e._reloadData(t.$context)))})()}static{this.\u0275fac=function(e){return new(e||G)(a.\u0275\u0275inject(a.Injector))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:G,factory:G.\u0275fac,providedIn:"root"})}};X=(0,l.__decorate)([(0,j.l)({type:"crt.EntityStageProgressBarChangeStageProcessHandler",requestType:"crt.EntityStageProgressBarChangeStageProcessHandlerRequest"}),(0,l.__metadata)("design:paramtypes",[a.Injector])],X);var Jt=g(89285);let St=class extends H.S{};St=(0,l.__decorate)([(0,L.$)({type:"crt.EntityStageProgressBarStageChangedHandlerRequest"})],St);let Y=class U extends N.l{_saveViewModel(t){var e=this;return(0,m.A)(function*(){const{$context:o,scopes:r}=t,s=(yield o.PrimaryModelMode)===Jt.b.Create,n={type:"crt.SaveRecordRequest",preventCardClose:!0,scopes:r,$context:o},i=t.$context,c=yield e.handlerChain.process(n);return c?s&&(yield e._reloadRequest(o)):yield i.set(t.stageAttribute,e._oldValue,{preventStateChange:!0}),c})()}_reloadRequest(t){var e=this;return(0,m.A)(function*(){const o=yield t.getPrimaryModelName(),r=yield t.getPrimaryDataSchema(),s={type:"crt.LoadDataRequest",dataSourceName:o,parameters:[{type:"primaryColumnValue",value:r.primaryAttributeName}],$context:t};yield e.handlerChain.process(s)})()}processStagesPermissions(t){const{$context:e,scopes:o}=t,r={type:"crt.EntityStageProgressBarProcessStagePermissionsHandlerRequest",scopes:o,$context:e,config:{allowedStages:t.config.allowedStages,stageConnections:t.config.stageConnections,stages:t.config.stages,currentStage:t.config.stage},stagesAttribute:t.stagesAttribute};return this.handlerChain.process(r)}changeCurrentStage(t){var e=this;return(0,m.A)(function*(){const o=t.$context,r=t.config.stage;if(r?.id){const s={value:r.id,displayValue:r.caption},n=yield o[t.stageAttribute];e._oldValue=n,n?.value!==r.id&&(yield o.set(t.stageAttribute,s,{preventStateChange:t.config.silentSave}),o.getControl(t.stageAttribute)?.formControl?.markAsDirty())}})()}handle(t){var e=this;return(0,m.A)(function*(){yield e.changeCurrentStage(t),yield e.processStagesPermissions(t),t.config.doSave&&(yield e._saveViewModel(t))})()}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=a.\u0275\u0275getInheritedFactory(U)))(o||U)}})()}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:U,factory:U.\u0275fac,providedIn:"root"})}};Y=(0,l.__decorate)([(0,j.l)({type:"crt.EntityStageProgressBarStageChangedHandler",requestType:"crt.EntityStageProgressBarStageChangedHandlerRequest"})],Y);var Wt=g(94950);let yt=class extends H.S{};yt=(0,l.__decorate)([(0,L.$)({type:"crt.EntityStageProcessAppropriateCheckHandlerRequest"})],yt);let q=class Z extends N.l{constructor(t){super(),this._injector=t,this._stageSchemaFilterService=this._injector.get(ht.A),this._notifyService=this._injector.get(bt.F),this._translateService=this._injector.get(x.TranslateService),this._featureService=this._injector.get(Wt.w)}_askUserToChangeProcessSchema(t,e){var o=this;return(0,m.A)(function*(){const r=[{caption:o._translateService.instant("EntityStageProgressBar.SnackbarIgnoreButtonCaption"),icon:"icon_close_24"},{caption:o._translateService.instant("EntityStageProgressBar.SnackbarReplaceButtonCaption"),icon:"change_case_small",handler:()=>{t.config?.changeCaseHandler?.call()}}],n={message:yield(0,u.firstValueFrom)(o._translateService.get("EntityStageProgressBar.SnackbarActualFilterCaseMessage",{caption:e.caption}),{defaultValue:null}),duration:1e4,actions:r};o._notifyService.show(n)})()}_canShowNotification(t,e){var o=this;return(0,m.A)(function*(){const r=yield o._featureService.getFeatureState("EntityStageProgressbar-ShowSnackbar");return t===!1&&e.stageRunningProcessUId&&e?.config?.askUserToChangeSchema&&r})()}handle(t){var e=this;return(0,m.A)(function*(){const o=t.$context;if(t.entityStageSchemas&&t.stageRunningProcessUId){const r=o.attributes[t.filterColumnAttributeName],s=e._stageSchemaFilterService.getEntityStageSchemaByFilteredColumnValue(t.entityStageSchemas,r?.value),n=!s||s.uId===t.stageRunningProcessUId;(yield e._canShowNotification(n,t))&&(yield e._askUserToChangeProcessSchema(t,s)),t.isAppropriateEntityStageSchemaAttribute&&o.setValue({[t.isAppropriateEntityStageSchemaAttribute]:n})}})()}static{this.\u0275fac=function(e){return new(e||Z)(a.\u0275\u0275inject(a.Injector))}}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:Z,factory:Z.\u0275fac,providedIn:"root"})}};q=(0,l.__decorate)([(0,j.l)({type:"crt.EntityStageProcessAppropriateCheckHandler",requestType:"crt.EntityStageProcessAppropriateCheckHandlerRequest"}),(0,l.__metadata)("design:paramtypes",[a.Injector])],q);let ft=class extends H.S{};ft=(0,l.__decorate)([(0,L.$)({type:"crt.EntityStageProgressBarProcessStagePermissionsHandlerRequest"})],ft);let tt=class k extends N.l{handle(t){return(0,m.A)(function*(){const e=t.$context,o=(0,$.cloneDeep)(t.config.stages),r=t.config.allowedStages,s=t.config.stageConnections,n=t.config.currentStage;o?.forEach(i=>{const c=r?.find(d=>d.stageRecordId===i.id);i.disabled=!c?.isAllowed,i.tooltipTitle=i.disabled&&c?.hint?c?.hint:i.caption,i.disabled||=i.id===n?.id,i.ariaLabel=`Set the record stage ${i.caption}`,n&&n.id&&o.some(d=>d.id===n.id)&&(i.disabled||=!s?.some(d=>d.source===n.id&&d.target===i.id))}),yield(0,u.firstValueFrom)(e.setValue({[t.stagesAttribute]:o}))})()}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=a.\u0275\u0275getInheritedFactory(k)))(o||k)}})()}static{this.\u0275prov=a.\u0275\u0275defineInjectable({token:k,factory:k.\u0275fac,providedIn:"root"})}};tt=(0,l.__decorate)([(0,j.l)({type:"crt.EntityStageProgressBarProcessStagePermissionsHandler",requestType:"crt.EntityStageProgressBarProcessStagePermissionsHandlerRequest"})],tt);const Xt=[p];let O=class ot{constructor(t){this._materialIconsRegistrator=t;const e=[{name:"change_case",icon:g(89463)},{name:"change_case_small",icon:g(84300)},{name:"refresh",icon:g(42661)}];this._materialIconsRegistrator.addIcons(e)}static{this.\u0275fac=function(e){return new(e||ot)(a.\u0275\u0275inject(st.K))}}static{this.\u0275mod=a.\u0275\u0275defineNgModule({type:ot})}static{this.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:Bt.m,useClass:V,multi:!0}],imports:[D.CommonModule,ct.c,P,nt.q,x.TranslateModule]})}};O=(0,l.__decorate)([(0,vt.g)({viewElements:[p],requestHandlers:[W,X,Y,q,tt]}),(0,l.__metadata)("design:paramtypes",[st.K])],O),function(){(typeof ngJitMode>"u"||ngJitMode)&&a.\u0275\u0275setNgModuleScope(O,{declarations:[p],imports:[D.CommonModule,ct.c,P,nt.q,x.TranslateModule],exports:[p]})}()},89463:C=>{C.exports=`<svg width="14" height="12" viewBox="0 0 14 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.3751 0.25205C11.0531 -0.0781192 10.5245 -0.0847784 10.1943 0.237176C9.86414 0.559131 9.85748 1.08778 10.1794 1.41795L10.6851 1.93653H9.51889C8.9588 1.93571 8.40898 2.05577 7.90404 2.28422C7.48389 2.47432 7.29739 2.96903 7.48749 3.38918C7.67759 3.80934 8.1723 3.99583 8.59245 3.80574C8.88274 3.6744 9.19736 3.606 9.51688 3.60653L10.6855 3.60653L10.1794 4.12553C9.85748 4.4557 9.86414 4.98435 10.1943 5.30631C10.5245 5.62826 11.0531 5.6216 11.3751 5.29143L13.2636 3.35469C13.3507 3.26544 13.4137 3.16158 13.4529 3.05114C13.4839 2.96372 13.5008 2.8696 13.5008 2.77153C13.5008 2.53871 13.4056 2.32815 13.2519 2.17672L11.3751 0.25205Z" fill="currentColor"/>
<path d="M11.3751 6.70785C11.0531 6.37769 10.5245 6.37103 10.1943 6.69298C9.86414 7.01494 9.85748 7.54359 10.1794 7.87375L10.6851 8.39233H9.51825C8.9118 8.39233 8.3258 8.14547 7.89039 7.69895C7.45428 7.25172 7.20566 6.64076 7.20566 5.99943C7.20566 4.92857 6.79104 3.89747 6.04657 3.13401C5.30141 2.36983 4.2862 1.93653 3.22307 1.93653H1.33451C0.873353 1.93653 0.499512 2.31037 0.499512 2.77153C0.499512 3.23269 0.873353 3.60653 1.33451 3.60653H3.22307C3.82952 3.60653 4.41552 3.85339 4.85093 4.29991C5.28703 4.74714 5.53566 5.3581 5.53566 5.99943C5.53566 7.07029 5.95027 8.10139 6.69474 8.86485C7.43991 9.62903 8.45512 10.0623 9.51825 10.0623H10.6855L10.1794 10.5813C9.85748 10.9115 9.86414 11.4402 10.1943 11.7621C10.5245 12.0841 11.0531 12.0774 11.3751 11.7472L13.2636 9.8105C13.3507 9.72125 13.4137 9.61738 13.4529 9.50694C13.4839 9.41953 13.5008 9.3254 13.5008 9.22733C13.5008 8.99454 13.4056 8.784 13.2519 8.63256L11.3751 6.70785Z" fill="currentColor"/>
<path d="M4.51006 9.84525C4.94559 9.69366 5.17578 9.21771 5.02419 8.78218C4.87261 8.34665 4.39666 8.11646 3.96113 8.26804C3.72492 8.35026 3.47614 8.39268 3.22421 8.39233L1.33451 8.39233C0.873353 8.39233 0.499512 8.76618 0.499512 9.22733C0.499512 9.68849 0.873353 10.0623 1.33451 10.0623H3.22251C3.66362 10.0629 4.09846 9.9885 4.51006 9.84525Z" fill="currentColor"/>
</svg>
`},84300:C=>{C.exports=`<svg width="20" height="20" viewBox="-3 -4 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.3751 0.25205C11.0531 -0.0781192 10.5245 -0.0847784 10.1943 0.237176C9.86414 0.559131 9.85748 1.08778 10.1794 1.41795L10.6851 1.93653H9.51889C8.9588 1.93571 8.40898 2.05577 7.90404 2.28422C7.48389 2.47432 7.29739 2.96903 7.48749 3.38918C7.67759 3.80934 8.1723 3.99583 8.59245 3.80574C8.88274 3.6744 9.19736 3.606 9.51688 3.60653L10.6855 3.60653L10.1794 4.12553C9.85748 4.4557 9.86414 4.98435 10.1943 5.30631C10.5245 5.62826 11.0531 5.6216 11.3751 5.29143L13.2636 3.35469C13.3507 3.26544 13.4137 3.16158 13.4529 3.05114C13.4839 2.96372 13.5008 2.8696 13.5008 2.77153C13.5008 2.53871 13.4056 2.32815 13.2519 2.17672L11.3751 0.25205Z" fill="currentColor"/>
<path d="M11.3751 6.70785C11.0531 6.37769 10.5245 6.37103 10.1943 6.69298C9.86414 7.01494 9.85748 7.54359 10.1794 7.87375L10.6851 8.39233H9.51825C8.9118 8.39233 8.3258 8.14547 7.89039 7.69895C7.45428 7.25172 7.20566 6.64076 7.20566 5.99943C7.20566 4.92857 6.79104 3.89747 6.04657 3.13401C5.30141 2.36983 4.2862 1.93653 3.22307 1.93653H1.33451C0.873353 1.93653 0.499512 2.31037 0.499512 2.77153C0.499512 3.23269 0.873353 3.60653 1.33451 3.60653H3.22307C3.82952 3.60653 4.41552 3.85339 4.85093 4.29991C5.28703 4.74714 5.53566 5.3581 5.53566 5.99943C5.53566 7.07029 5.95027 8.10139 6.69474 8.86485C7.43991 9.62903 8.45512 10.0623 9.51825 10.0623H10.6855L10.1794 10.5813C9.85748 10.9115 9.86414 11.4402 10.1943 11.7621C10.5245 12.0841 11.0531 12.0774 11.3751 11.7472L13.2636 9.8105C13.3507 9.72125 13.4137 9.61738 13.4529 9.50694C13.4839 9.41953 13.5008 9.3254 13.5008 9.22733C13.5008 8.99454 13.4056 8.784 13.2519 8.63256L11.3751 6.70785Z" fill="currentColor"/>
<path d="M4.51006 9.84525C4.94559 9.69366 5.17578 9.21771 5.02419 8.78218C4.87261 8.34665 4.39666 8.11646 3.96113 8.26804C3.72492 8.35026 3.47614 8.39268 3.22421 8.39233L1.33451 8.39233C0.873353 8.39233 0.499512 8.76618 0.499512 9.22733C0.499512 9.68849 0.873353 10.0623 1.33451 10.0623H3.22251C3.66362 10.0629 4.09846 9.9885 4.51006 9.84525Z" fill="currentColor"/>
</svg>
`},42661:C=>{C.exports=`<svg width="13" height="13" viewBox="-6 -6 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M2.08183 6.5C2.08183 5.91871 2.19619 5.34312 2.41835 4.80616C2.64052 4.2692 2.96614 3.7814 3.37659 3.37066C3.68569 3.06135 3.68605 2.55949 3.37741 2.24972C3.06876 1.93996 2.56798 1.93959 2.25888 2.24891C1.7013 2.80687 1.25896 3.46953 0.957151 4.19898C0.655346 4.92842 0.5 5.71034 0.5 6.5C0.5 7.28966 0.655345 8.07158 0.957151 8.80102C1.25881 9.5301 1.70086 10.1925 2.25804 10.7503C2.25832 10.7505 2.2586 10.7508 2.25888 10.7511L2.91915 11.4148L1.98301 11.4148C1.5462 11.4148 1.19209 11.7696 1.19209 12.2074C1.19209 12.6451 1.5462 13 1.98301 13L4.82463 13C5.26144 13 5.61555 12.6451 5.61555 12.2074L5.61555 9.35962C5.61555 8.92187 5.26144 8.567 4.82463 8.567C4.38782 8.567 4.03371 8.92187 4.03371 9.35962L4.03371 10.2898L3.37782 9.63057L3.37659 9.62934C2.96614 9.2186 2.64052 8.7308 2.41835 8.19384C2.19619 7.65688 2.08183 7.08129 2.08183 6.5ZM8.17537 3.35501e-07C7.73856 3.16407e-07 7.38445 0.354871 7.38445 0.792625L7.38445 3.64038C7.38445 4.07814 7.73856 4.43301 8.17537 4.43301C8.61218 4.43301 8.96629 4.07814 8.96629 3.64038L8.96629 2.71018L9.62341 3.37067C10.0339 3.7814 10.3595 4.2692 10.5816 4.80616C10.8038 5.34312 10.9182 5.91871 10.9182 6.5C10.9182 7.08129 10.8038 7.65688 10.5816 8.19384C10.3595 8.7308 10.0339 9.2186 9.62341 9.62934C9.31431 9.93865 9.31395 10.4405 9.62259 10.7503C9.93124 11.06 10.432 11.0604 10.7411 10.7511C11.2987 10.1931 11.741 9.53047 12.0428 8.80102C12.3447 8.07158 12.5 7.28966 12.5 6.5C12.5 5.71034 12.3447 4.92842 12.0428 4.19898C11.7412 3.46981 11.299 2.80738 10.7418 2.24955C10.7415 2.24933 10.742 2.24976 10.7418 2.24955L10.0808 1.58525L11.017 1.58525C11.4538 1.58525 11.8079 1.23038 11.8079 0.792626C11.8079 0.354871 11.4538 4.78806e-07 11.017 4.59712e-07L8.17537 3.35501e-07Z" fill="currentColor"/>
</svg>
`},65118:C=>{C.exports=`<svg width="72" height="65" viewBox="0 0 72 65" fill="none" xmlns="http://www.w3.org/2000/svg">
	<path d="M9 24.0577C9 22.3474 10.3865 20.9609 12.0968 20.9609H20.4839V44.9609H12.0968C10.3865 44.9609 9 43.5745 9 41.8642V24.0577Z" fill="#0B8500"/>
	<path d="M29.0003 32.9609L20.4246 20.9609H19.71V44.9609H20.4246L29.0003 32.9609Z" fill="#0B8500"/>
	<path d="M31.5757 32.9609L23 20.9609H32.2903V44.9609H23L31.5757 32.9609Z" fill="#0B8500"/>
	<rect width="2.96774" height="24" transform="translate(31.5166 20.9609)" fill="#0B8500"/>
	<path d="M43.0003 32.9609L34.4246 20.9609H33.71V44.9609H34.4246L43.0003 32.9609Z" fill="#0B8500"/>
	<path d="M45.5757 32.9609L37 20.9609H46.2903V44.9609H37L45.5757 32.9609Z" fill="#BABABA"/>
	<path d="M45.5166 20.9609H59.9037C61.614 20.9609 63.0005 22.3474 63.0005 24.0577V41.8642C63.0005 43.5745 61.614 44.9609 59.9037 44.9609H45.5166V20.9609Z" fill="#BABABA"/>
</svg>
`},34542:C=>{C.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><circle cx="5" cy="5" r="3" fill="#e3e3e3" transform="translate(3 3)"/><path fill="none" d="M0 0h16v16H0z" /></svg>'},60177:C=>{C.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><circle cx="5" cy="5" r="3" fill="currentColor" transform="translate(3 3)"/><path fill="none" d="M0 0h16v16H0z" /></svg>'}}]);
