(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[5973],{66716:(rt,Y,l)=>{var a;/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */(function(b,d,m,v){"use strict";var T=["","webkit","Moz","MS","ms","o"],u=d.createElement("div"),x="function",C=Math.round,y=Math.abs,s=Date.now;function e(R,L,j){return setTimeout(_(R,j),L)}function p(R,L,j){return Array.isArray(R)?(n(R,j[L],j),!0):!1}function n(R,L,j){var tt;if(R)if(R.forEach)R.forEach(L,j);else if(R.length!==v)for(tt=0;tt<R.length;)L.call(j,R[tt],tt,R),tt++;else for(tt in R)R.hasOwnProperty(tt)&&L.call(j,R[tt],tt,R)}function o(R,L,j){var tt="DEPRECATED METHOD: "+L+`
`+j+` AT 
`;return function(){var at=new Error("get-stack-trace"),ct=at&&at.stack?at.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",dt=b.console&&(b.console.warn||b.console.log);return dt&&dt.call(b.console,tt,ct),R.apply(this,arguments)}}var i;typeof Object.assign!="function"?i=function(L){if(L===v||L===null)throw new TypeError("Cannot convert undefined or null to object");for(var j=Object(L),tt=1;tt<arguments.length;tt++){var at=arguments[tt];if(at!==v&&at!==null)for(var ct in at)at.hasOwnProperty(ct)&&(j[ct]=at[ct])}return j}:i=Object.assign;var h=o(function(L,j,tt){for(var at=Object.keys(j),ct=0;ct<at.length;)(!tt||tt&&L[at[ct]]===v)&&(L[at[ct]]=j[at[ct]]),ct++;return L},"extend","Use `assign`."),g=o(function(L,j){return h(L,j,!0)},"merge","Use `assign`.");function f(R,L,j){var tt=L.prototype,at;at=R.prototype=Object.create(tt),at.constructor=R,at._super=tt,j&&i(at,j)}function _(R,L){return function(){return R.apply(L,arguments)}}function O(R,L){return typeof R==x?R.apply(L&&L[0]||v,L):R}function N(R,L){return R===v?L:R}function A(R,L,j){n(k(L),function(tt){R.addEventListener(tt,j,!1)})}function B(R,L,j){n(k(L),function(tt){R.removeEventListener(tt,j,!1)})}function D(R,L){for(;R;){if(R==L)return!0;R=R.parentNode}return!1}function U(R,L){return R.indexOf(L)>-1}function k(R){return R.trim().split(/\s+/g)}function Z(R,L,j){if(R.indexOf&&!j)return R.indexOf(L);for(var tt=0;tt<R.length;){if(j&&R[tt][j]==L||!j&&R[tt]===L)return tt;tt++}return-1}function ot(R){return Array.prototype.slice.call(R,0)}function et(R,L,j){for(var tt=[],at=[],ct=0;ct<R.length;){var dt=L?R[ct][L]:R[ct];Z(at,dt)<0&&tt.push(R[ct]),at[ct]=dt,ct++}return j&&(L?tt=tt.sort(function(yt,mt){return yt[L]>mt[L]}):tt=tt.sort()),tt}function J(R,L){for(var j,tt,at=L[0].toUpperCase()+L.slice(1),ct=0;ct<T.length;){if(j=T[ct],tt=j?j+at:L,tt in R)return tt;ct++}return v}var V=1;function w(){return V++}function M(R){var L=R.ownerDocument||R;return L.defaultView||L.parentWindow||b}var S=/mobile|tablet|ip(ad|hone|od)|android/i,E="ontouchstart"in b,t=J(b,"PointerEvent")!==v,r=E&&S.test(navigator.userAgent),c="touch",P="pen",W="mouse",H="kinect",X=25,$=1,q=2,it=4,F=8,G=1,z=2,I=4,K=8,Q=16,nt=z|I,st=K|Q,ut=nt|st,ft=["x","y"],lt=["clientX","clientY"];function ht(R,L){var j=this;this.manager=R,this.callback=L,this.element=R.element,this.target=R.options.inputTarget,this.domHandler=function(tt){O(R.options.enable,[R])&&j.handler(tt)},this.init()}ht.prototype={handler:function(){},init:function(){this.evEl&&A(this.element,this.evEl,this.domHandler),this.evTarget&&A(this.target,this.evTarget,this.domHandler),this.evWin&&A(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&B(this.element,this.evEl,this.domHandler),this.evTarget&&B(this.target,this.evTarget,this.domHandler),this.evWin&&B(M(this.element),this.evWin,this.domHandler)}};function pt(R){var L,j=R.options.inputClass;return j?L=j:t?L=Bt:r?L=Qt:E?L=se:L=wt,new L(R,vt)}function vt(R,L,j){var tt=j.pointers.length,at=j.changedPointers.length,ct=L&$&&tt-at===0,dt=L&(it|F)&&tt-at===0;j.isFirst=!!ct,j.isFinal=!!dt,ct&&(R.session={}),j.eventType=L,Pt(R,j),R.emit("hammer.input",j),R.recognize(j),R.session.prevInput=j}function Pt(R,L){var j=R.session,tt=L.pointers,at=tt.length;j.firstInput||(j.firstInput=Ht(L)),at>1&&!j.firstMultiple?j.firstMultiple=Ht(L):at===1&&(j.firstMultiple=!1);var ct=j.firstInput,dt=j.firstMultiple,gt=dt?dt.center:ct.center,yt=L.center=jt(tt);L.timeStamp=s(),L.deltaTime=L.timeStamp-ct.timeStamp,L.angle=Lt(gt,yt),L.distance=It(gt,yt),ie(j,L),L.offsetDirection=zt(L.deltaX,L.deltaY);var mt=Gt(L.deltaTime,L.deltaX,L.deltaY);L.overallVelocityX=mt.x,L.overallVelocityY=mt.y,L.overallVelocity=y(mt.x)>y(mt.y)?mt.x:mt.y,L.scale=dt?Vt(dt.pointers,tt):1,L.rotation=dt?kt(dt.pointers,tt):0,L.maxPointers=j.prevInput?L.pointers.length>j.prevInput.maxPointers?L.pointers.length:j.prevInput.maxPointers:L.pointers.length,re(j,L);var Tt=R.element;D(L.srcEvent.target,Tt)&&(Tt=L.srcEvent.target),L.target=Tt}function ie(R,L){var j=L.center,tt=R.offsetDelta||{},at=R.prevDelta||{},ct=R.prevInput||{};(L.eventType===$||ct.eventType===it)&&(at=R.prevDelta={x:ct.deltaX||0,y:ct.deltaY||0},tt=R.offsetDelta={x:j.x,y:j.y}),L.deltaX=at.x+(j.x-tt.x),L.deltaY=at.y+(j.y-tt.y)}function re(R,L){var j=R.lastInterval||L,tt=L.timeStamp-j.timeStamp,at,ct,dt,gt;if(L.eventType!=F&&(tt>X||j.velocity===v)){var yt=L.deltaX-j.deltaX,mt=L.deltaY-j.deltaY,Tt=Gt(tt,yt,mt);ct=Tt.x,dt=Tt.y,at=y(Tt.x)>y(Tt.y)?Tt.x:Tt.y,gt=zt(yt,mt),R.lastInterval=L}else at=j.velocity,ct=j.velocityX,dt=j.velocityY,gt=j.direction;L.velocity=at,L.velocityX=ct,L.velocityY=dt,L.direction=gt}function Ht(R){for(var L=[],j=0;j<R.pointers.length;)L[j]={clientX:C(R.pointers[j].clientX),clientY:C(R.pointers[j].clientY)},j++;return{timeStamp:s(),pointers:L,center:jt(L),deltaX:R.deltaX,deltaY:R.deltaY}}function jt(R){var L=R.length;if(L===1)return{x:C(R[0].clientX),y:C(R[0].clientY)};for(var j=0,tt=0,at=0;at<L;)j+=R[at].clientX,tt+=R[at].clientY,at++;return{x:C(j/L),y:C(tt/L)}}function Gt(R,L,j){return{x:L/R||0,y:j/R||0}}function zt(R,L){return R===L?G:y(R)>=y(L)?R<0?z:I:L<0?K:Q}function It(R,L,j){j||(j=ft);var tt=L[j[0]]-R[j[0]],at=L[j[1]]-R[j[1]];return Math.sqrt(tt*tt+at*at)}function Lt(R,L,j){j||(j=ft);var tt=L[j[0]]-R[j[0]],at=L[j[1]]-R[j[1]];return Math.atan2(at,tt)*180/Math.PI}function kt(R,L){return Lt(L[1],L[0],lt)+Lt(R[1],R[0],lt)}function Vt(R,L){return It(L[0],L[1],lt)/It(R[0],R[1],lt)}var Yt={mousedown:$,mousemove:q,mouseup:it},At="mousedown",$t="mousemove mouseup";function wt(){this.evEl=At,this.evWin=$t,this.pressed=!1,ht.apply(this,arguments)}f(wt,ht,{handler:function(L){var j=Yt[L.type];j&$&&L.button===0&&(this.pressed=!0),j&q&&L.which!==1&&(j=it),this.pressed&&(j&it&&(this.pressed=!1),this.callback(this.manager,j,{pointers:[L],changedPointers:[L],pointerType:W,srcEvent:L}))}});var Xt={pointerdown:$,pointermove:q,pointerup:it,pointercancel:F,pointerout:F},xt={2:c,3:P,4:W,5:H},Zt="pointerdown",Wt="pointermove pointerup pointercancel";b.MSPointerEvent&&!b.PointerEvent&&(Zt="MSPointerDown",Wt="MSPointerMove MSPointerUp MSPointerCancel");function Bt(){this.evEl=Zt,this.evWin=Wt,ht.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}f(Bt,ht,{handler:function(L){var j=this.store,tt=!1,at=L.type.toLowerCase().replace("ms",""),ct=Xt[at],dt=xt[L.pointerType]||L.pointerType,gt=dt==c,yt=Z(j,L.pointerId,"pointerId");ct&$&&(L.button===0||gt)?yt<0&&(j.push(L),yt=j.length-1):ct&(it|F)&&(tt=!0),!(yt<0)&&(j[yt]=L,this.callback(this.manager,ct,{pointers:j,changedPointers:[L],pointerType:dt,srcEvent:L}),tt&&j.splice(yt,1))}});var Ut={touchstart:$,touchmove:q,touchend:it,touchcancel:F},oe="touchstart",ae="touchstart touchmove touchend touchcancel";function ve(){this.evTarget=oe,this.evWin=ae,this.started=!1,ht.apply(this,arguments)}f(ve,ht,{handler:function(L){var j=Ut[L.type];if(j===$&&(this.started=!0),!!this.started){var tt=Oe.call(this,L,j);j&(it|F)&&tt[0].length-tt[1].length===0&&(this.started=!1),this.callback(this.manager,j,{pointers:tt[0],changedPointers:tt[1],pointerType:c,srcEvent:L})}}});function Oe(R,L){var j=ot(R.touches),tt=ot(R.changedTouches);return L&(it|F)&&(j=et(j.concat(tt),"identifier",!0)),[j,tt]}var Ae={touchstart:$,touchmove:q,touchend:it,touchcancel:F},Re="touchstart touchmove touchend touchcancel";function Qt(){this.evTarget=Re,this.targetIds={},ht.apply(this,arguments)}f(Qt,ht,{handler:function(L){var j=Ae[L.type],tt=we.call(this,L,j);tt&&this.callback(this.manager,j,{pointers:tt[0],changedPointers:tt[1],pointerType:c,srcEvent:L})}});function we(R,L){var j=ot(R.touches),tt=this.targetIds;if(L&($|q)&&j.length===1)return tt[j[0].identifier]=!0,[j,j];var at,ct,dt=ot(R.changedTouches),gt=[],yt=this.target;if(ct=j.filter(function(mt){return D(mt.target,yt)}),L===$)for(at=0;at<ct.length;)tt[ct[at].identifier]=!0,at++;for(at=0;at<dt.length;)tt[dt[at].identifier]&&gt.push(dt[at]),L&(it|F)&&delete tt[dt[at].identifier],at++;if(gt.length)return[et(ct.concat(gt),"identifier",!0),gt]}var Se=2500,ge=25;function se(){ht.apply(this,arguments);var R=_(this.handler,this);this.touch=new Qt(this.manager,R),this.mouse=new wt(this.manager,R),this.primaryTouch=null,this.lastTouches=[]}f(se,ht,{handler:function(L,j,tt){var at=tt.pointerType==c,ct=tt.pointerType==W;if(!(ct&&tt.sourceCapabilities&&tt.sourceCapabilities.firesTouchEvents)){if(at)De.call(this,j,tt);else if(ct&&Ie.call(this,tt))return;this.callback(L,j,tt)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function De(R,L){R&$?(this.primaryTouch=L.changedPointers[0].identifier,ye.call(this,L)):R&(it|F)&&ye.call(this,L)}function ye(R){var L=R.changedPointers[0];if(L.identifier===this.primaryTouch){var j={x:L.clientX,y:L.clientY};this.lastTouches.push(j);var tt=this.lastTouches,at=function(){var ct=tt.indexOf(j);ct>-1&&tt.splice(ct,1)};setTimeout(at,Se)}}function Ie(R){for(var L=R.srcEvent.clientX,j=R.srcEvent.clientY,tt=0;tt<this.lastTouches.length;tt++){var at=this.lastTouches[tt],ct=Math.abs(L-at.x),dt=Math.abs(j-at.y);if(ct<=ge&&dt<=ge)return!0}return!1}var me=J(u.style,"touchAction"),_e=me!==v,Ee="compute",xe="auto",ce="manipulation",St="none",bt="pan-x",Ft="pan-y",Jt=Be();function ue(R,L){this.manager=R,this.set(L)}ue.prototype={set:function(R){R==Ee&&(R=this.compute()),_e&&this.manager.element.style&&Jt[R]&&(this.manager.element.style[me]=R),this.actions=R.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var R=[];return n(this.manager.recognizers,function(L){O(L.options.enable,[L])&&(R=R.concat(L.getTouchAction()))}),Le(R.join(" "))},preventDefaults:function(R){var L=R.srcEvent,j=R.offsetDirection;if(this.manager.session.prevented){L.preventDefault();return}var tt=this.actions,at=U(tt,St)&&!Jt[St],ct=U(tt,Ft)&&!Jt[Ft],dt=U(tt,bt)&&!Jt[bt];if(at){var gt=R.pointers.length===1,yt=R.distance<2,mt=R.deltaTime<250;if(gt&&yt&&mt)return}if(!(dt&&ct)&&(at||ct&&j&nt||dt&&j&st))return this.preventSrc(L)},preventSrc:function(R){this.manager.session.prevented=!0,R.preventDefault()}};function Le(R){if(U(R,St))return St;var L=U(R,bt),j=U(R,Ft);return L&&j?St:L||j?L?bt:Ft:U(R,ce)?ce:xe}function Be(){if(!_e)return!1;var R={},L=b.CSS&&b.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(j){R[j]=L?b.CSS.supports("touch-action",j):!0}),R}var qt=1,_t=2,Nt=4,Rt=8,Mt=Rt,Kt=16,Ct=32;function Ot(R){this.options=i({},this.defaults,R||{}),this.id=w(),this.manager=null,this.options.enable=N(this.options.enable,!0),this.state=qt,this.simultaneous={},this.requireFail=[]}Ot.prototype={defaults:{},set:function(R){return i(this.options,R),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(R){if(p(R,"recognizeWith",this))return this;var L=this.simultaneous;return R=te(R,this),L[R.id]||(L[R.id]=R,R.recognizeWith(this)),this},dropRecognizeWith:function(R){return p(R,"dropRecognizeWith",this)?this:(R=te(R,this),delete this.simultaneous[R.id],this)},requireFailure:function(R){if(p(R,"requireFailure",this))return this;var L=this.requireFail;return R=te(R,this),Z(L,R)===-1&&(L.push(R),R.requireFailure(this)),this},dropRequireFailure:function(R){if(p(R,"dropRequireFailure",this))return this;R=te(R,this);var L=Z(this.requireFail,R);return L>-1&&this.requireFail.splice(L,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(R){return!!this.simultaneous[R.id]},emit:function(R){var L=this,j=this.state;function tt(at){L.manager.emit(at,R)}j<Rt&&tt(L.options.event+Ce(j)),tt(L.options.event),R.additionalEvent&&tt(R.additionalEvent),j>=Rt&&tt(L.options.event+Ce(j))},tryEmit:function(R){if(this.canEmit())return this.emit(R);this.state=Ct},canEmit:function(){for(var R=0;R<this.requireFail.length;){if(!(this.requireFail[R].state&(Ct|qt)))return!1;R++}return!0},recognize:function(R){var L=i({},R);if(!O(this.options.enable,[this,L])){this.reset(),this.state=Ct;return}this.state&(Mt|Kt|Ct)&&(this.state=qt),this.state=this.process(L),this.state&(_t|Nt|Rt|Kt)&&this.tryEmit(L)},process:function(R){},getTouchAction:function(){},reset:function(){}};function Ce(R){return R&Kt?"cancel":R&Rt?"end":R&Nt?"move":R&_t?"start":""}function Te(R){return R==Q?"down":R==K?"up":R==z?"left":R==I?"right":""}function te(R,L){var j=L.manager;return j?j.get(R):R}function Et(){Ot.apply(this,arguments)}f(Et,Ot,{defaults:{pointers:1},attrTest:function(R){var L=this.options.pointers;return L===0||R.pointers.length===L},process:function(R){var L=this.state,j=R.eventType,tt=L&(_t|Nt),at=this.attrTest(R);return tt&&(j&F||!at)?L|Kt:tt||at?j&it?L|Rt:L&_t?L|Nt:_t:Ct}});function ee(){Et.apply(this,arguments),this.pX=null,this.pY=null}f(ee,Et,{defaults:{event:"pan",threshold:10,pointers:1,direction:ut},getTouchAction:function(){var R=this.options.direction,L=[];return R&nt&&L.push(Ft),R&st&&L.push(bt),L},directionTest:function(R){var L=this.options,j=!0,tt=R.distance,at=R.direction,ct=R.deltaX,dt=R.deltaY;return at&L.direction||(L.direction&nt?(at=ct===0?G:ct<0?z:I,j=ct!=this.pX,tt=Math.abs(R.deltaX)):(at=dt===0?G:dt<0?K:Q,j=dt!=this.pY,tt=Math.abs(R.deltaY))),R.direction=at,j&&tt>L.threshold&&at&L.direction},attrTest:function(R){return Et.prototype.attrTest.call(this,R)&&(this.state&_t||!(this.state&_t)&&this.directionTest(R))},emit:function(R){this.pX=R.deltaX,this.pY=R.deltaY;var L=Te(R.direction);L&&(R.additionalEvent=this.options.event+L),this._super.emit.call(this,R)}});function le(){Et.apply(this,arguments)}f(le,Et,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(R){return this._super.attrTest.call(this,R)&&(Math.abs(R.scale-1)>this.options.threshold||this.state&_t)},emit:function(R){if(R.scale!==1){var L=R.scale<1?"in":"out";R.additionalEvent=this.options.event+L}this._super.emit.call(this,R)}});function fe(){Ot.apply(this,arguments),this._timer=null,this._input=null}f(fe,Ot,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[xe]},process:function(R){var L=this.options,j=R.pointers.length===L.pointers,tt=R.distance<L.threshold,at=R.deltaTime>L.time;if(this._input=R,!tt||!j||R.eventType&(it|F)&&!at)this.reset();else if(R.eventType&$)this.reset(),this._timer=e(function(){this.state=Mt,this.tryEmit()},L.time,this);else if(R.eventType&it)return Mt;return Ct},reset:function(){clearTimeout(this._timer)},emit:function(R){this.state===Mt&&(R&&R.eventType&it?this.manager.emit(this.options.event+"up",R):(this._input.timeStamp=s(),this.manager.emit(this.options.event,this._input)))}});function he(){Et.apply(this,arguments)}f(he,Et,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[St]},attrTest:function(R){return this._super.attrTest.call(this,R)&&(Math.abs(R.rotation)>this.options.threshold||this.state&_t)}});function de(){Et.apply(this,arguments)}f(de,Et,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:nt|st,pointers:1},getTouchAction:function(){return ee.prototype.getTouchAction.call(this)},attrTest:function(R){var L=this.options.direction,j;return L&(nt|st)?j=R.overallVelocity:L&nt?j=R.overallVelocityX:L&st&&(j=R.overallVelocityY),this._super.attrTest.call(this,R)&&L&R.offsetDirection&&R.distance>this.options.threshold&&R.maxPointers==this.options.pointers&&y(j)>this.options.velocity&&R.eventType&it},emit:function(R){var L=Te(R.offsetDirection);L&&this.manager.emit(this.options.event+L,R),this.manager.emit(this.options.event,R)}});function ne(){Ot.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}f(ne,Ot,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ce]},process:function(R){var L=this.options,j=R.pointers.length===L.pointers,tt=R.distance<L.threshold,at=R.deltaTime<L.time;if(this.reset(),R.eventType&$&&this.count===0)return this.failTimeout();if(tt&&at&&j){if(R.eventType!=it)return this.failTimeout();var ct=this.pTime?R.timeStamp-this.pTime<L.interval:!0,dt=!this.pCenter||It(this.pCenter,R.center)<L.posThreshold;this.pTime=R.timeStamp,this.pCenter=R.center,!dt||!ct?this.count=1:this.count+=1,this._input=R;var gt=this.count%L.taps;if(gt===0)return this.hasRequireFailures()?(this._timer=e(function(){this.state=Mt,this.tryEmit()},L.interval,this),_t):Mt}return Ct},failTimeout:function(){return this._timer=e(function(){this.state=Ct},this.options.interval,this),Ct},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Mt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Dt(R,L){return L=L||{},L.recognizers=N(L.recognizers,Dt.defaults.preset),new pe(R,L)}Dt.VERSION="2.0.7",Dt.defaults={domEvents:!1,touchAction:Ee,enable:!0,inputTarget:null,inputClass:null,preset:[[he,{enable:!1}],[le,{enable:!1},["rotate"]],[de,{direction:nt}],[ee,{direction:nt},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[fe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Ue=1,Pe=2;function pe(R,L){this.options=i({},Dt.defaults,L||{}),this.options.inputTarget=this.options.inputTarget||R,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=R,this.input=pt(this),this.touchAction=new ue(this,this.options.touchAction),Me(this,!0),n(this.options.recognizers,function(j){var tt=this.add(new j[0](j[1]));j[2]&&tt.recognizeWith(j[2]),j[3]&&tt.requireFailure(j[3])},this)}pe.prototype={set:function(R){return i(this.options,R),R.touchAction&&this.touchAction.update(),R.inputTarget&&(this.input.destroy(),this.input.target=R.inputTarget,this.input.init()),this},stop:function(R){this.session.stopped=R?Pe:Ue},recognize:function(R){var L=this.session;if(!L.stopped){this.touchAction.preventDefaults(R);var j,tt=this.recognizers,at=L.curRecognizer;(!at||at&&at.state&Mt)&&(at=L.curRecognizer=null);for(var ct=0;ct<tt.length;)j=tt[ct],L.stopped!==Pe&&(!at||j==at||j.canRecognizeWith(at))?j.recognize(R):j.reset(),!at&&j.state&(_t|Nt|Rt)&&(at=L.curRecognizer=j),ct++}},get:function(R){if(R instanceof Ot)return R;for(var L=this.recognizers,j=0;j<L.length;j++)if(L[j].options.event==R)return L[j];return null},add:function(R){if(p(R,"add",this))return this;var L=this.get(R.options.event);return L&&this.remove(L),this.recognizers.push(R),R.manager=this,this.touchAction.update(),R},remove:function(R){if(p(R,"remove",this))return this;if(R=this.get(R),R){var L=this.recognizers,j=Z(L,R);j!==-1&&(L.splice(j,1),this.touchAction.update())}return this},on:function(R,L){if(R!==v&&L!==v){var j=this.handlers;return n(k(R),function(tt){j[tt]=j[tt]||[],j[tt].push(L)}),this}},off:function(R,L){if(R!==v){var j=this.handlers;return n(k(R),function(tt){L?j[tt]&&j[tt].splice(Z(j[tt],L),1):delete j[tt]}),this}},emit:function(R,L){this.options.domEvents&&Ne(R,L);var j=this.handlers[R]&&this.handlers[R].slice();if(!(!j||!j.length)){L.type=R,L.preventDefault=function(){L.srcEvent.preventDefault()};for(var tt=0;tt<j.length;)j[tt](L),tt++}},destroy:function(){this.element&&Me(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Me(R,L){var j=R.element;if(j.style){var tt;n(R.options.cssProps,function(at,ct){tt=J(j.style,ct),L?(R.oldCssProps[tt]=j.style[tt],j.style[tt]=at):j.style[tt]=R.oldCssProps[tt]||""}),L||(R.oldCssProps={})}}function Ne(R,L){var j=d.createEvent("Event");j.initEvent(R,!0,!0),j.gesture=L,L.target.dispatchEvent(j)}i(Dt,{INPUT_START:$,INPUT_MOVE:q,INPUT_END:it,INPUT_CANCEL:F,STATE_POSSIBLE:qt,STATE_BEGAN:_t,STATE_CHANGED:Nt,STATE_ENDED:Rt,STATE_RECOGNIZED:Mt,STATE_CANCELLED:Kt,STATE_FAILED:Ct,DIRECTION_NONE:G,DIRECTION_LEFT:z,DIRECTION_RIGHT:I,DIRECTION_UP:K,DIRECTION_DOWN:Q,DIRECTION_HORIZONTAL:nt,DIRECTION_VERTICAL:st,DIRECTION_ALL:ut,Manager:pe,Input:ht,TouchAction:ue,TouchInput:Qt,MouseInput:wt,PointerEventInput:Bt,TouchMouseInput:se,SingleTouchInput:ve,Recognizer:Ot,AttrRecognizer:Et,Tap:ne,Pan:ee,Swipe:de,Pinch:le,Rotate:he,Press:fe,on:A,off:B,each:n,merge:g,extend:h,assign:i,inherit:f,bindFn:_,prefixed:J});var We=typeof b<"u"?b:typeof self<"u"?self:{};We.Hammer=Dt,a=function(){return Dt}.call(Y,l,Y,rt),a!==v&&(rt.exports=a)})(window,document,"Hammer")},51270:rt=>{typeof Object.create=="function"?rt.exports=function(l,a){a&&(l.super_=a,l.prototype=Object.create(a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:rt.exports=function(l,a){if(a){l.super_=a;var b=function(){};b.prototype=a.prototype,l.prototype=new b,l.prototype.constructor=l}}},82867:(rt,Y,l)=>{rt.exports=l(49389),rt.exports.Collection=l(12251)},12251:rt=>{function Y(a,b,d,m){var v=d.inverse;return Object.defineProperty(a,"remove",{value:function(T){var u=this.indexOf(T);return u!==-1&&(this.splice(u,1),b.unset(T,v,m)),T}}),Object.defineProperty(a,"contains",{value:function(T){return this.indexOf(T)!==-1}}),Object.defineProperty(a,"add",{value:function(T,u){var x=this.indexOf(T);if(typeof u>"u"){if(x!==-1)return;u=this.length}x!==-1&&this.splice(x,1),this.splice(u,0,T),x===-1&&b.set(T,v,m)}}),Object.defineProperty(a,"__refs_collection",{value:!0}),a}function l(a){return a.__refs_collection===!0}rt.exports.extend=Y,rt.exports.isExtended=l},49389:(rt,Y,l)=>{var a=l(12251);function b(T,u){return Object.prototype.hasOwnProperty.call(T,u.name||u)}function d(T,u,x){var C=a.extend(x[u.name]||[],T,u,x);Object.defineProperty(x,u.name,{enumerable:u.enumerable,value:C}),C.length&&C.forEach(function(y){T.set(y,u.inverse,x)})}function m(T,u,x){var C=u.inverse,y=x[u.name];Object.defineProperty(x,u.name,{configurable:u.configurable,enumerable:u.enumerable,get:function(){return y},set:function(s){if(s!==y){var e=y;y=null,e&&T.unset(e,C,x),y=s,T.set(y,C,x)}}})}function v(T,u){if(!(this instanceof v))return new v(T,u);T.inverse=u,u.inverse=T,this.props={},this.props[T.name]=T,this.props[u.name]=u}v.prototype.bind=function(T,u){if(typeof u=="string"){if(!this.props[u])throw new Error("no property <"+u+"> in ref");u=this.props[u]}u.collection?d(this,u,T):m(this,u,T)},v.prototype.ensureRefsCollection=function(T,u){var x=T[u.name];return a.isExtended(x)||d(this,u,T),x},v.prototype.ensureBound=function(T,u){b(T,u)||this.bind(T,u)},v.prototype.unset=function(T,u,x){T&&(this.ensureBound(T,u),u.collection?this.ensureRefsCollection(T,u).remove(x):T[u.name]=void 0)},v.prototype.set=function(T,u,x){T&&(this.ensureBound(T,u),u.collection?this.ensureRefsCollection(T,u).add(x):T[u.name]=x)},rt.exports=v},38305:rt=>{var Y=/,?([a-z]),?/gi,l=parseFloat,a=Math,b=a.PI,d=a.min,m=a.max,v=a.pow,T=a.abs,u=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/ig,x=/(-?\d*\.?\d*(?:e[-+]?\d+)?)[\s]*,?[\s]*/ig,C=Array.isArray||function(E){return E instanceof Array};function y(E,t){return Object.prototype.hasOwnProperty.call(E,t)}function s(E){if(typeof E=="function"||Object(E)!==E)return E;var t=new E.constructor;for(var r in E)y(E,r)&&(t[r]=s(E[r]));return t}function e(E,t){for(var r=0,c=E.length;r<c;r++)if(E[r]===t)return E.push(E.splice(r,1)[0])}function p(E){function t(){var r=Array.prototype.slice.call(arguments,0),c=r.join("\u2400"),P=t.cache=t.cache||{},W=t.count=t.count||[];return y(P,c)?(e(W,c),P[c]):(W.length>=1e3&&delete P[W.shift()],W.push(c),P[c]=E.apply(0,r),P[c])}return t}function n(E){if(!E)return null;var t=o(E);if(t.arr)return s(t.arr);var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},c=[];return C(E)&&C(E[0])&&(c=s(E)),c.length||String(E).replace(u,function(P,W,H){var X=[],$=W.toLowerCase();for(H.replace(x,function(q,it){it&&X.push(+it)}),$=="m"&&X.length>2&&(c.push([W].concat(X.splice(0,2))),$="l",W=W=="m"?"l":"L");X.length>=r[$]&&(c.push([W].concat(X.splice(0,r[$]))),!!r[$]););}),c.toString=o.toString,t.arr=s(c),c}function o(E){var t=o.ps=o.ps||{};return t[E]?t[E].sleep=100:t[E]={sleep:100},setTimeout(function(){for(var r in t)y(t,r)&&r!=E&&(t[r].sleep--,!t[r].sleep&&delete t[r])}),t[E]}function i(E,t,r,c){return arguments.length===1&&(t=E.y,r=E.width,c=E.height,E=E.x),{x:E,y:t,width:r,height:c,x2:E+r,y2:t+c}}function h(){return this.join(",").replace(Y,"$1")}function g(E){var t=s(E);return t.toString=h,t}function f(E,t,r,c,P,W,H,X,$){var q=1-$,it=v(q,3),F=v(q,2),G=$*$,z=G*$,I=it*E+F*3*$*r+q*3*$*$*P+z*H,K=it*t+F*3*$*c+q*3*$*$*W+z*X;return{x:U(I),y:U(K)}}function _(E){var t=M.apply(null,E);return i(t.x0,t.y0,t.x1-t.x0,t.y1-t.y0)}function O(E,t,r){return t>=E.x&&t<=E.x+E.width&&r>=E.y&&r<=E.y+E.height}function N(E,t){return E=i(E),t=i(t),O(t,E.x,E.y)||O(t,E.x2,E.y)||O(t,E.x,E.y2)||O(t,E.x2,E.y2)||O(E,t.x,t.y)||O(E,t.x2,t.y)||O(E,t.x,t.y2)||O(E,t.x2,t.y2)||(E.x<t.x2&&E.x>t.x||t.x<E.x2&&t.x>E.x)&&(E.y<t.y2&&E.y>t.y||t.y<E.y2&&t.y>E.y)}function A(E,t,r,c,P){var W=-3*t+9*r-9*c+3*P,H=E*W+6*t-12*r+6*c;return E*H-3*t+3*r}function B(E,t,r,c,P,W,H,X,$){$==null&&($=1),$=$>1?1:$<0?0:$;for(var q=$/2,it=12,F=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],G=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],z=0,I=0;I<it;I++){var K=q*F[I]+q,Q=A(K,E,r,P,H),nt=A(K,t,c,W,X),st=Q*Q+nt*nt;z+=G[I]*a.sqrt(st)}return q*z}function D(E,t,r,c,P,W,H,X){if(!(m(E,r)<d(P,H)||d(E,r)>m(P,H)||m(t,c)<d(W,X)||d(t,c)>m(W,X))){var $=(E*c-t*r)*(P-H)-(E-r)*(P*X-W*H),q=(E*c-t*r)*(W-X)-(t-c)*(P*X-W*H),it=(E-r)*(W-X)-(t-c)*(P-H);if(it){var F=U($/it),G=U(q/it),z=+F.toFixed(2),I=+G.toFixed(2);if(!(z<+d(E,r).toFixed(2)||z>+m(E,r).toFixed(2)||z<+d(P,H).toFixed(2)||z>+m(P,H).toFixed(2)||I<+d(t,c).toFixed(2)||I>+m(t,c).toFixed(2)||I<+d(W,X).toFixed(2)||I>+m(W,X).toFixed(2)))return{x:F,y:G}}}}function U(E){return Math.round(E*1e11)/1e11}function k(E,t,r){var c=_(E),P=_(t);if(!N(c,P))return r?0:[];for(var W=B.apply(0,E),H=B.apply(0,t),X=et(E)?1:~~(W/5)||1,$=et(t)?1:~~(H/5)||1,q=[],it=[],F={},G=r?0:[],z=0;z<X+1;z++){var I=f.apply(0,E.concat(z/X));q.push({x:I.x,y:I.y,t:z/X})}for(z=0;z<$+1;z++)I=f.apply(0,t.concat(z/$)),it.push({x:I.x,y:I.y,t:z/$});for(z=0;z<X;z++)for(var K=0;K<$;K++){var Q=q[z],nt=q[z+1],st=it[K],ut=it[K+1],ft=T(nt.x-Q.x)<.01?"y":"x",lt=T(ut.x-st.x)<.01?"y":"x",ht=D(Q.x,Q.y,nt.x,nt.y,st.x,st.y,ut.x,ut.y),pt;if(ht){if(pt=ht.x.toFixed(9)+"#"+ht.y.toFixed(9),F[pt])continue;F[pt]=!0;var vt=Q.t+T((ht[ft]-Q[ft])/(nt[ft]-Q[ft]))*(nt.t-Q.t),Pt=st.t+T((ht[lt]-st[lt])/(ut[lt]-st[lt]))*(ut.t-st.t);vt>=0&&vt<=1&&Pt>=0&&Pt<=1&&(r?G++:G.push({x:ht.x,y:ht.y,t1:vt,t2:Pt}))}}return G}function Z(E,t,r){E=S(E),t=S(t);for(var c,P,W,H,X,$,q,it,F,G,z=r?0:[],I=0,K=E.length;I<K;I++){var Q=E[I];if(Q[0]=="M")c=X=Q[1],P=$=Q[2];else{Q[0]=="C"?(F=[c,P].concat(Q.slice(1)),c=F[6],P=F[7]):(F=[c,P,c,P,X,$,X,$],c=X,P=$);for(var nt=0,st=t.length;nt<st;nt++){var ut=t[nt];if(ut[0]=="M")W=q=ut[1],H=it=ut[2];else{ut[0]=="C"?(G=[W,H].concat(ut.slice(1)),W=G[6],H=G[7]):(G=[W,H,W,H,q,it,q,it],W=q,H=it);var ft=k(F,G,r);if(r)z+=ft;else{for(var lt=0,ht=ft.length;lt<ht;lt++)ft[lt].segment1=I,ft[lt].segment2=nt,ft[lt].bez1=F,ft[lt].bez2=G;z=z.concat(ft)}}}}}return z}function ot(E){var t=o(E);if(t.abs)return g(t.abs);if((!C(E)||!C(E&&E[0]))&&(E=n(E)),!E||!E.length)return[["M",0,0]];var r=[],c=0,P=0,W=0,H=0,X=0,$;E[0][0]=="M"&&(c=+E[0][1],P=+E[0][2],W=c,H=P,X++,r[0]=["M",c,P]);for(var q,it,F=X,G=E.length;F<G;F++){if(r.push(q=[]),it=E[F],$=it[0],$!=$.toUpperCase())switch(q[0]=$.toUpperCase(),q[0]){case"A":q[1]=it[1],q[2]=it[2],q[3]=it[3],q[4]=it[4],q[5]=it[5],q[6]=+it[6]+c,q[7]=+it[7]+P;break;case"V":q[1]=+it[1]+P;break;case"H":q[1]=+it[1]+c;break;case"M":W=+it[1]+c,H=+it[2]+P;default:for(var z=1,I=it.length;z<I;z++)q[z]=+it[z]+(z%2?c:P)}else for(var K=0,Q=it.length;K<Q;K++)q[K]=it[K];switch($=$.toUpperCase(),q[0]){case"Z":c=+W,P=+H;break;case"H":c=q[1];break;case"V":P=q[1];break;case"M":W=q[q.length-2],H=q[q.length-1];default:c=q[q.length-2],P=q[q.length-1]}}return r.toString=h,t.abs=g(r),r}function et(E){return E[0]===E[2]&&E[1]===E[3]&&E[4]===E[6]&&E[5]===E[7]}function J(E,t,r,c){return[E,t,r,c,r,c]}function V(E,t,r,c,P,W){var H=.3333333333333333,X=2/3;return[H*E+X*r,H*t+X*c,H*P+X*r,H*W+X*c,P,W]}function w(E,t,r,c,P,W,H,X,$,q){var it=b*120/180,F=b/180*(+P||0),G=[],z,I=p(function(Wt,Bt,Ut){var oe=Wt*a.cos(Ut)-Bt*a.sin(Ut),ae=Wt*a.sin(Ut)+Bt*a.cos(Ut);return{x:oe,y:ae}});if(q)pt=q[0],vt=q[1],lt=q[2],ht=q[3];else{z=I(E,t,-F),E=z.x,t=z.y,z=I(X,$,-F),X=z.x,$=z.y;var K=(E-X)/2,Q=(t-$)/2,nt=K*K/(r*r)+Q*Q/(c*c);nt>1&&(nt=a.sqrt(nt),r=nt*r,c=nt*c);var st=r*r,ut=c*c,ft=(W==H?-1:1)*a.sqrt(T((st*ut-st*Q*Q-ut*K*K)/(st*Q*Q+ut*K*K))),lt=ft*r*Q/c+(E+X)/2,ht=ft*-c*K/r+(t+$)/2,pt=a.asin(((t-ht)/c).toFixed(9)),vt=a.asin((($-ht)/c).toFixed(9));pt=E<lt?b-pt:pt,vt=X<lt?b-vt:vt,pt<0&&(pt=b*2+pt),vt<0&&(vt=b*2+vt),H&&pt>vt&&(pt=pt-b*2),!H&&vt>pt&&(vt=vt-b*2)}var Pt=vt-pt;if(T(Pt)>it){var ie=vt,re=X,Ht=$;vt=pt+it*(H&&vt>pt?1:-1),X=lt+r*a.cos(vt),$=ht+c*a.sin(vt),G=w(X,$,r,c,P,0,H,re,Ht,[vt,ie,lt,ht])}Pt=vt-pt;var jt=a.cos(pt),Gt=a.sin(pt),zt=a.cos(vt),It=a.sin(vt),Lt=a.tan(Pt/4),kt=4/3*r*Lt,Vt=4/3*c*Lt,Yt=[E,t],At=[E+kt*Gt,t-Vt*jt],$t=[X+kt*It,$-Vt*zt],wt=[X,$];if(At[0]=2*Yt[0]-At[0],At[1]=2*Yt[1]-At[1],q)return[At,$t,wt].concat(G);G=[At,$t,wt].concat(G).join().split(",");for(var Xt=[],xt=0,Zt=G.length;xt<Zt;xt++)Xt[xt]=xt%2?I(G[xt-1],G[xt],F).y:I(G[xt],G[xt+1],F).x;return Xt}function M(E,t,r,c,P,W,H,X){for(var $=[],q=[[],[]],it,F,G,z,I,K,Q,nt,st=0;st<2;++st){if(st==0?(F=6*E-12*r+6*P,it=-3*E+9*r-9*P+3*H,G=3*r-3*E):(F=6*t-12*c+6*W,it=-3*t+9*c-9*W+3*X,G=3*c-3*t),T(it)<1e-12){if(T(F)<1e-12)continue;z=-G/F,0<z&&z<1&&$.push(z);continue}Q=F*F-4*G*it,nt=a.sqrt(Q),!(Q<0)&&(I=(-F+nt)/(2*it),0<I&&I<1&&$.push(I),K=(-F-nt)/(2*it),0<K&&K<1&&$.push(K))}for(var ut=$.length,ft=ut,lt;ut--;)z=$[ut],lt=1-z,q[0][ut]=lt*lt*lt*E+3*lt*lt*z*r+3*lt*z*z*P+z*z*z*H,q[1][ut]=lt*lt*lt*t+3*lt*lt*z*c+3*lt*z*z*W+z*z*z*X;return q[0][ft]=E,q[1][ft]=t,q[0][ft+1]=H,q[1][ft+1]=X,q[0].length=q[1].length=ft+2,{x0:d.apply(0,q[0]),y0:d.apply(0,q[1]),x1:m.apply(0,q[0]),y1:m.apply(0,q[1])}}function S(E){var t=o(E);if(t.curve)return g(t.curve);for(var r=ot(E),c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},P=function(z,I,K){var Q,nt;if(!z)return["C",I.x,I.y,I.x,I.y,I.x,I.y];switch(!(z[0]in{T:1,Q:1})&&(I.qx=I.qy=null),z[0]){case"M":I.X=z[1],I.Y=z[2];break;case"A":z=["C"].concat(w.apply(0,[I.x,I.y].concat(z.slice(1))));break;case"S":K=="C"||K=="S"?(Q=I.x*2-I.bx,nt=I.y*2-I.by):(Q=I.x,nt=I.y),z=["C",Q,nt].concat(z.slice(1));break;case"T":K=="Q"||K=="T"?(I.qx=I.x*2-I.qx,I.qy=I.y*2-I.qy):(I.qx=I.x,I.qy=I.y),z=["C"].concat(V(I.x,I.y,I.qx,I.qy,z[1],z[2]));break;case"Q":I.qx=z[1],I.qy=z[2],z=["C"].concat(V(I.x,I.y,z[1],z[2],z[3],z[4]));break;case"L":z=["C"].concat(J(I.x,I.y,z[1],z[2]));break;case"H":z=["C"].concat(J(I.x,I.y,z[1],I.y));break;case"V":z=["C"].concat(J(I.x,I.y,I.x,z[1]));break;case"Z":z=["C"].concat(J(I.x,I.y,I.X,I.Y));break}return z},W=function(z,I){if(z[I].length>7){z[I].shift();for(var K=z[I];K.length;)H[I]="A",z.splice(I++,0,["C"].concat(K.splice(0,6)));z.splice(I,1),it=r.length}},H=[],X="",$="",q=0,it=r.length;q<it;q++){r[q]&&(X=r[q][0]),X!="C"&&(H[q]=X,q&&($=H[q-1])),r[q]=P(r[q],c,$),H[q]!="A"&&X=="C"&&(H[q]="C"),W(r,q);var F=r[q],G=F.length;c.x=F[G-2],c.y=F[G-1],c.bx=l(F[G-4])||c.x,c.by=l(F[G-3])||c.y}return t.curve=g(r),r}rt.exports=Z},15192:(rt,Y,l)=>{l.d(Y,{A:()=>V});var a=/^class /;function b(w){return a.test(w.toString())}function d(w){return Object.prototype.toString.call(w)==="[object Array]"}function m(){var w=Array.prototype.slice.call(arguments);w.length===1&&d(w[0])&&(w=w[0]);var M=w.pop();return M.$inject=w,M}var v=/constructor\s*[^(]*\(\s*([^)]*)\)/m,T=/^function\s*[^(]*\(\s*([^)]*)\)/m,u=/\/\*([^*]*)\*\//m;function x(w){if(typeof w!="function")throw new Error('Cannot annotate "'+w+'". Expected a function!');var M=w.toString().match(b(w)?v:T);return M?M[1]&&M[1].split(",").map(function(S){return M=S.match(u),M?M[1].trim():S.trim()})||[]:[]}function C(){var w=[];this.factory=function(M,S){return w.push([M,"factory",S]),this},this.value=function(M,S){return w.push([M,"value",S]),this},this.type=function(M,S){return w.push([M,"type",S]),this},this.forEach=function(M){w.forEach(M)}}var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w};function s(w){if(Array.isArray(w)){for(var M=0,S=Array(w.length);M<w.length;M++)S[M]=w[M];return S}else return Array.from(w)}function e(w,M){M=M||{get:function(G,z){if(S.push(G),z===!1)return null;throw c('No provider for "'+G+'"!')}};var S=[],E=this._providers=Object.create(M._providers||null),t=this._instances=Object.create(null),r=t.injector=this,c=function(G){var z=S.join(" -> ");return S.length=0,new Error(z?G+" (Resolving: "+z+")":G)},P=function F(G,z){if(!E[G]&&G.indexOf(".")!==-1){for(var I=G.split("."),K=F(I.shift());I.length;)K=K[I.shift()];return K}if(p(t,G))return t[G];if(p(E,G)){if(S.indexOf(G)!==-1)throw S.push(G),c("Cannot resolve circular dependency!");return S.push(G),t[G]=E[G][0](E[G][1]),S.pop(),t[G]}return M.get(G,z)},W=function(G){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof G!="function")if(d(G))G=m(G.slice());else throw new Error('Cannot invoke "'+G+'". Expected a function!');var I=G.$inject||x(G),K=I.map(function(Q){return p(z,Q)?z[Q]:P(Q)});return{fn:G,dependencies:K}},H=function(G){var z=W(G),I=z.dependencies,K=z.fn;return new(Function.prototype.bind.apply(K,[null].concat(s(I))))},X=function(G,z,I){var K=W(G,I),Q=K.dependencies,nt=K.fn;return nt.call.apply(nt,[z].concat(s(Q)))},$=function(G){return m(function(z){return G.get(z)})},q=function(G,z){if(z&&z.length){var I=Object.create(null),K=Object.create(null),Q=[],nt=[],st=[],ut,ft,lt,ht;for(var pt in E)ut=E[pt],z.indexOf(pt)!==-1&&(ut[2]==="private"?(ft=Q.indexOf(ut[3]),ft===-1?(lt=ut[3].createChild([],z),ht=$(lt),Q.push(ut[3]),nt.push(lt),st.push(ht),I[pt]=[ht,pt,"private",lt]):I[pt]=[st[ft],pt,"private",nt[ft]]):I[pt]=[ut[2],ut[1]],K[pt]=!0),(ut[2]==="factory"||ut[2]==="type")&&ut[1].$scope&&z.forEach(function(vt){ut[1].$scope.indexOf(vt)!==-1&&(I[pt]=[ut[2],ut[1]],K[vt]=!0)});z.forEach(function(vt){if(!K[vt])throw new Error('No provider for "'+vt+'". Cannot use provider from the parent!')}),G.unshift(I)}return new e(G,r)},it={factory:X,type:H,value:function(G){return G}};w.forEach(function(F){function G(Q,nt){return Q!=="value"&&d(nt)&&(nt=m(nt.slice())),nt}if(F instanceof C)F.forEach(function(Q){var nt=Q[0],st=Q[1],ut=Q[2];E[nt]=[it[st],G(st,ut),st]});else if((typeof F>"u"?"undefined":y(F))==="object")if(F.__exports__){var z=Object.keys(F).reduce(function(Q,nt){return nt.substring(0,2)!=="__"&&(Q[nt]=F[nt]),Q},Object.create(null)),I=new e((F.__modules__||[]).concat([z]),r),K=m(function(Q){return I.get(Q)});F.__exports__.forEach(function(Q){E[Q]=[K,Q,"private",I]})}else Object.keys(F).forEach(function(Q){if(F[Q][2]==="private"){E[Q]=F[Q];return}var nt=F[Q][0],st=F[Q][1];E[Q]=[it[nt],G(nt,st),nt]})}),this.get=P,this.invoke=X,this.instantiate=H,this.createChild=q}function p(w,M){return Object.hasOwnProperty.call(w,M)}var n=l(51270),o=l.n(n),i=l(97975),h=l(12619),g=l(33225),f=l(10018),_=1;function O(w,M){i.A.call(this,w,_),this.CONNECTION_STYLE=M.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=M.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=M.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}o()(O,i.A),O.prototype.canRender=function(){return!0},O.prototype.drawShape=function(M,S){var E=(0,g.vt)("rect");return(0,g.CF)(E,{x:0,y:0,width:S.width||0,height:S.height||0}),(0,f.eb)(S)?(0,g.CF)(E,this.FRAME_STYLE):(0,g.CF)(E,this.SHAPE_STYLE),(0,g.BC)(M,E),E},O.prototype.drawConnection=function(M,S){var E=(0,h.RJ)(S.waypoints,this.CONNECTION_STYLE);return(0,g.BC)(M,E),E},O.prototype.getShapePath=function(M){var S=M.x,E=M.y,t=M.width,r=M.height,c=[["M",S,E],["l",t,0],["l",0,r],["l",-t,0],["z"]];return(0,h.tx)(c)},O.prototype.getConnectionPath=function(M){var S=M.waypoints,E,t,r=[];for(E=0;t=S[E];E++)t=t.original||t,r.push([E===0?"M":"L",t.x,t.y]);return(0,h.tx)(r)},O.$inject=["eventBus","styles"];var N=l(19187);const A={__init__:["defaultRenderer"],defaultRenderer:["type",O],styles:["type",N.A]};var B=l(69034),D=l(54343),U=l(15176),k=l(95820),Z=l(40969);const ot={__depends__:[A],__init__:["canvas"],canvas:["type",B.A],elementRegistry:["type",D.A],elementFactory:["type",U.A],eventBus:["type",k.A],graphicsFactory:["type",Z.A]};function et(w){var M=[],S=[];function E(P){return M.indexOf(P)>=0}function t(P){M.push(P)}function r(P){E(P)||((P.__depends__||[]).forEach(r),!E(P)&&(t(P),(P.__init__||[]).forEach(function(W){S.push(W)})))}w.forEach(r);var c=new e(M);return S.forEach(function(P){try{c[typeof P=="string"?"get":"invoke"](P)}catch(W){throw console.error("Failed to instantiate component"),console.error(W.stack),W}}),c}function J(w){w=w||{};var M={config:["value",w]},S=[M,ot].concat(w.modules||[]);return et(S)}function V(w,M){this.injector=M=M||J(w),this.get=M.get,this.invoke=M.invoke,this.get("eventBus").fire("diagram.init")}V.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},V.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},6705:(rt,Y,l)=>{l.d(Y,{A:()=>m});var a=l(98218),b=l.n(a),d=1e3;function m(u){this._eventBus=u}m.$inject=["eventBus"];function v(u,x){return function(C){return u.call(x||null,C.context,C.command,C)}}m.prototype.on=function(u,x,C,y,s,e){if(((0,a.isFunction)(x)||(0,a.isNumber)(x))&&(e=s,s=y,y=C,C=x,x=null),(0,a.isFunction)(C)&&(e=s,s=y,y=C,C=d),(0,a.isObject)(s)&&(e=s,s=!1),!(0,a.isFunction)(y))throw new Error("handlerFn must be a function");(0,a.isArray)(u)||(u=[u]);var p=this._eventBus;(0,a.forEach)(u,function(n){var o=["commandStack",n,x].filter(function(i){return i}).join(".");p.on(o,C,s?v(y,e):y,e)})};var T=["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"];(0,a.forEach)(T,function(u){m.prototype[u]=function(x,C,y,s,e){((0,a.isFunction)(x)||(0,a.isNumber)(x))&&(e=s,s=y,y=C,C=x,x=null),this.on(x,u,C,y,s,e)}})},17389:(rt,Y,l)=>{l.d(Y,{A:()=>d});var a=l(98218),b=l.n(a);function d(m,v){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=v,this._eventBus=m,this._uid=1,m.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}d.$inject=["eventBus","injector"],d.prototype.execute=function(m,v){if(!m)throw new Error("command required");var T={command:m,context:v};this._pushAction(T),this._internalExecute(T),this._popAction(T)},d.prototype.canExecute=function(m,v){var T={command:m,context:v},u=this._getHandler(m),x=this._fire(m,"canExecute",T);if(x===void 0){if(!u)return!1;u.canExecute&&(x=u.canExecute(v))}return x},d.prototype.clear=function(m){this._stack.length=0,this._stackIdx=-1,m!==!1&&this._fire("changed")},d.prototype.undo=function(){var m=this._getUndoAction(),v;if(m){for(this._pushAction(m);m&&(this._internalUndo(m),v=this._getUndoAction(),!(!v||v.id!==m.id));)m=v;this._popAction()}},d.prototype.redo=function(){var m=this._getRedoAction(),v;if(m){for(this._pushAction(m);m&&(this._internalExecute(m,!0),v=this._getRedoAction(),!(!v||v.id!==m.id));)m=v;this._popAction()}},d.prototype.register=function(m,v){this._setHandler(m,v)},d.prototype.registerHandler=function(m,v){if(!m||!v)throw new Error("command and handlerCls must be defined");var T=this._injector.instantiate(v);this.register(m,T)},d.prototype.canUndo=function(){return!!this._getUndoAction()},d.prototype.canRedo=function(){return!!this._getRedoAction()},d.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},d.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},d.prototype._internalUndo=function(m){var v=this,T=m.command,u=m.context,x=this._getHandler(T);this._atomicDo(function(){v._fire(T,"revert",m),x.revert&&v._markDirty(x.revert(u)),v._revertedAction(m),v._fire(T,"reverted",m)})},d.prototype._fire=function(m,v,T){arguments.length<3&&(T=v,v=null);var u=v?[m+"."+v,v]:[m],x,C,y;for(T=this._eventBus.createEvent(T),x=0;(C=u[x])&&(y=this._eventBus.fire("commandStack."+C,T),!T.cancelBubble);x++);return y},d.prototype._createId=function(){return this._uid++},d.prototype._atomicDo=function(m){var v=this._currentExecution;v.atomic=!0;try{m()}finally{v.atomic=!1}},d.prototype._internalExecute=function(m,v){var T=this,u=m.command,x=m.context,C=this._getHandler(u);if(!C)throw new Error("no command handler registered for <"+u+">");this._pushAction(m),v||(this._fire(u,"preExecute",m),C.preExecute&&C.preExecute(x),this._fire(u,"preExecuted",m)),this._atomicDo(function(){T._fire(u,"execute",m),C.execute&&T._markDirty(C.execute(x)),T._executedAction(m,v),T._fire(u,"executed",m)}),v||(this._fire(u,"postExecute",m),C.postExecute&&C.postExecute(x),this._fire(u,"postExecuted",m)),this._popAction(m)},d.prototype._pushAction=function(m){var v=this._currentExecution,T=v.actions,u=T[0];if(v.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+m.command+")");m.id||(m.id=u&&u.id||this._createId()),T.push(m)},d.prototype._popAction=function(){var m=this._currentExecution,v=m.actions,T=m.dirty;v.pop(),v.length||(this._eventBus.fire("elements.changed",{elements:(0,a.uniqueBy)("id",T.reverse())}),T.length=0,this._fire("changed"))},d.prototype._markDirty=function(m){var v=this._currentExecution;m&&(m=(0,a.isArray)(m)?m:[m],v.dirty=v.dirty.concat(m))},d.prototype._executedAction=function(m,v){var T=++this._stackIdx;v||this._stack.splice(T,this._stack.length,m)},d.prototype._revertedAction=function(m){this._stackIdx--},d.prototype._getHandler=function(m){return this._handlerMap[m]},d.prototype._setHandler=function(m,v){if(!m||!v)throw new Error("command and handler required");if(this._handlerMap[m])throw new Error("overriding handler for command <"+m+">");this._handlerMap[m]=v}},69034:(rt,Y,l)=>{l.d(Y,{A:()=>e});var a=l(98218),b=l.n(a),d=l(6958),m=l(10018),v=l(33225);function T(n,o){return Math.round(n*o)/o}function u(n){return(0,a.isNumber)(n)?n+"px":n}function x(n){n=(0,a.assign)({},{width:"100%",height:"100%"},n);var o=n.container||document.body,i=document.createElement("div");return i.setAttribute("class","djs-container"),(0,a.assign)(i.style,{position:"relative",overflow:"hidden",width:u(n.width),height:u(n.height)}),o.appendChild(i),i}function C(n,o,i){var h=(0,v.vt)("g");(0,v.Ly)(h).add(o);var g=i!==void 0?i:n.childNodes.length-1;return n.insertBefore(h,n.childNodes[g]||null),h}var y="base",s={shape:["x","y","width","height"],connection:["waypoints"]};function e(n,o,i,h){this._eventBus=o,this._elementRegistry=h,this._graphicsFactory=i,this._init(n||{})}e.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],e.prototype._init=function(n){var o=this._eventBus,i=this._container=x(n),h=this._svg=(0,v.vt)("svg");(0,v.CF)(h,{width:"100%",height:"100%"}),(0,v.BC)(i,h);var g=this._viewport=C(h,"viewport");this._layers={},n.deferUpdate!==!1&&(this._viewboxChanged=(0,a.debounce)((0,a.bind)(this._viewboxChanged,this),300)),o.on("diagram.init",function(){o.fire("canvas.init",{svg:h,viewport:g})},this),o.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),o.on("diagram.destroy",500,this._destroy,this),o.on("diagram.clear",500,this._clear,this)},e.prototype._destroy=function(n){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var o=this._container.parentNode;o&&o.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},e.prototype._clear=function(){var n=this,o=this._elementRegistry.getAll();o.forEach(function(i){var h=(0,m.Pw)(i);h==="root"?n.setRootElement(null,!0):n._removeElement(i,h)}),delete this._cachedViewbox},e.prototype.getDefaultLayer=function(){return this.getLayer(y,0)},e.prototype.getLayer=function(n,o){if(!n)throw new Error("must specify a name");var i=this._layers[n];if(i||(i=this._layers[n]=this._createLayer(n,o)),typeof o<"u"&&i.index!==o)throw new Error("layer <"+n+"> already created at index <"+o+">");return i.group},e.prototype._createLayer=function(n,o){o||(o=0);var i=(0,a.reduce)(this._layers,function(h,g){return o>=g.index&&h++,h},0);return{group:C(this._viewport,"layer-"+n,i),index:o}},e.prototype.getContainer=function(){return this._container},e.prototype._updateMarker=function(n,o,i){var h;n.id||(n=this._elementRegistry.get(n)),h=this._elementRegistry._elements[n.id],h&&((0,a.forEach)([h.gfx,h.secondaryGfx],function(g){g&&(i?(0,v.Ly)(g).add(o):(0,v.Ly)(g).remove(o))}),this._eventBus.fire("element.marker.update",{element:n,gfx:h.gfx,marker:o,add:!!i}))},e.prototype.addMarker=function(n,o){this._updateMarker(n,o,!0)},e.prototype.removeMarker=function(n,o){this._updateMarker(n,o,!1)},e.prototype.hasMarker=function(n,o){n.id||(n=this._elementRegistry.get(n));var i=this.getGraphics(n);return(0,v.Ly)(i).has(o)},e.prototype.toggleMarker=function(n,o){this.hasMarker(n,o)?this.removeMarker(n,o):this.addMarker(n,o)},e.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},e.prototype.setRootElement=function(n,o){n&&this._ensureValid("root",n);var i=this._rootElement,h=this._elementRegistry,g=this._eventBus;if(i){if(!o)throw new Error("rootElement already set, need to specify override");g.fire("root.remove",{element:i}),g.fire("root.removed",{element:i}),h.remove(i)}if(n){var f=this.getDefaultLayer();g.fire("root.add",{element:n}),h.add(n,f,this._svg),g.fire("root.added",{element:n,gfx:f})}return this._rootElement=n,n},e.prototype._ensureValid=function(n,o){if(!o.id)throw new Error("element must have an id");if(this._elementRegistry.get(o.id))throw new Error("element with id "+o.id+" already exists");var i=s[n],h=(0,a.every)(i,function(g){return typeof o[g]<"u"});if(!h)throw new Error("must supply { "+i.join(", ")+" } with "+n)},e.prototype._setParent=function(n,o,i){(0,d.WQ)(o.children,n,i),n.parent=o},e.prototype._addElement=function(n,o,i,h){i=i||this.getRootElement();var g=this._eventBus,f=this._graphicsFactory;this._ensureValid(n,o),g.fire(n+".add",{element:o,parent:i}),this._setParent(o,i,h);var _=f.create(n,o,h);return this._elementRegistry.add(o,_),f.update(n,o,_),g.fire(n+".added",{element:o,gfx:_}),o},e.prototype.addShape=function(n,o,i){return this._addElement("shape",n,o,i)},e.prototype.addConnection=function(n,o,i){return this._addElement("connection",n,o,i)},e.prototype._removeElement=function(n,o){var i=this._elementRegistry,h=this._graphicsFactory,g=this._eventBus;if(n=i.get(n.id||n),!!n)return g.fire(o+".remove",{element:n}),h.remove(n),(0,d.TF)(n.parent&&n.parent.children,n),n.parent=null,g.fire(o+".removed",{element:n}),i.remove(n),n},e.prototype.removeShape=function(n){return this._removeElement(n,"shape")},e.prototype.removeConnection=function(n){return this._removeElement(n,"connection")},e.prototype.getGraphics=function(n,o){return this._elementRegistry.getGraphics(n,o)},e.prototype._changeViewbox=function(n){this._eventBus.fire("canvas.viewbox.changing"),n.apply(this),this._cachedViewbox=null,this._viewboxChanged()},e.prototype._viewboxChanged=function(){this._container&&this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},e.prototype.viewbox=function(n){if(n===void 0&&this._cachedViewbox)return this._cachedViewbox;var o=this._viewport,i,h=this.getSize(),g,f,_,O,N;if(n)this._changeViewbox(function(){_=Math.min(h.width/n.width,h.height/n.height);var A=this._svg.createSVGMatrix().scale(_).translate(-n.x,-n.y);(0,v.pd)(o,A)});else return i=this.getDefaultLayer().getBBox(),f=(0,v.pd)(o),g=f?f.matrix:(0,v.uK)(),_=T(g.a,1e3),O=T(-g.e||0,1e3),N=T(-g.f||0,1e3),n=this._cachedViewbox={x:O?O/_:0,y:N?N/_:0,width:h.width/_,height:h.height/_,scale:_,inner:{width:i.width,height:i.height,x:i.x,y:i.y},outer:h},n;return n},e.prototype.scroll=function(n){var o=this._viewport,i=o.getCTM();return n&&this._changeViewbox(function(){n=(0,a.assign)({dx:0,dy:0},n||{}),i=this._svg.createSVGMatrix().translate(n.dx,n.dy).multiply(i),p(o,i)}),{x:i.e,y:i.f}},e.prototype.zoom=function(n,o){if(!n)return this.viewbox(n).scale;if(n==="fit-viewport")return this._fitViewport(o);var i,h;return this._changeViewbox(function(){typeof o!="object"&&(i=this.viewbox().outer,o={x:i.width/2,y:i.height/2}),h=this._setZoom(n,o)}),T(h.a,1e3)};function p(n,o){var i="matrix("+o.a+","+o.b+","+o.c+","+o.d+","+o.e+","+o.f+")";n.setAttribute("transform",i)}e.prototype._fitViewport=function(n){var o=this.viewbox(),i=o.outer,h=o.inner,g,f;return h.x>=0&&h.y>=0&&h.x+h.width<=i.width&&h.y+h.height<=i.height&&!n?f={x:0,y:0,width:Math.max(h.width+h.x,i.width),height:Math.max(h.height+h.y,i.height)}:(g=Math.min(1,i.width/h.width,i.height/h.height),f={x:h.x+(n?h.width/2-i.width/g/2:0),y:h.y+(n?h.height/2-i.height/g/2:0),width:i.width/g,height:i.height/g}),this.viewbox(f),this.viewbox(!1).scale},e.prototype._setZoom=function(n,o){var i=this._svg,h=this._viewport,g=i.createSVGMatrix(),f=i.createSVGPoint(),_,O,N,A,B;N=h.getCTM();var D=N.a;return o?(_=(0,a.assign)(f,o),O=_.matrixTransform(N.inverse()),A=g.translate(O.x,O.y).scale(1/D*n).translate(-O.x,-O.y),B=N.multiply(A)):B=g.scale(n),p(this._viewport,B),B},e.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},e.prototype.getAbsoluteBBox=function(n){var o=this.viewbox(),i;if(n.waypoints){var h=this.getGraphics(n);i=h.getBBox()}else i=n;var g=i.x*o.scale-o.x*o.scale,f=i.y*o.scale-o.y*o.scale,_=i.width*o.scale,O=i.height*o.scale;return{x:g,y:f,width:_,height:O}},e.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},15176:(rt,Y,l)=>{l.d(Y,{A:()=>m});var a=l(49096),b=l(98218),d=l.n(b);function m(){this._uid=12}m.prototype.createRoot=function(v){return this.create("root",v)},m.prototype.createLabel=function(v){return this.create("label",v)},m.prototype.createShape=function(v){return this.create("shape",v)},m.prototype.createConnection=function(v){return this.create("connection",v)},m.prototype.create=function(v,T){return T=(0,b.assign)({},T||{}),T.id||(T.id=v+"_"+this._uid++),(0,a.vt)(v,T)}},54343:(rt,Y,l)=>{l.d(Y,{A:()=>d});var a=l(33225),b="data-element-id";function d(m){this._elements={},this._eventBus=m}d.$inject=["eventBus"],d.prototype.add=function(m,v,T){var u=m.id;this._validateId(u),(0,a.CF)(v,b,u),T&&(0,a.CF)(T,b,u),this._elements[u]={element:m,gfx:v,secondaryGfx:T}},d.prototype.remove=function(m){var v=this._elements,T=m.id||m,u=T&&v[T];u&&((0,a.CF)(u.gfx,b,""),u.secondaryGfx&&(0,a.CF)(u.secondaryGfx,b,""),delete v[T])},d.prototype.updateId=function(m,v){this._validateId(v),typeof m=="string"&&(m=this.get(m)),this._eventBus.fire("element.updateId",{element:m,newId:v});var T=this.getGraphics(m),u=this.getGraphics(m,!0);this.remove(m),m.id=v,this.add(m,T,u)},d.prototype.get=function(m){var v;typeof m=="string"?v=m:v=m&&(0,a.CF)(m,b);var T=this._elements[v];return T&&T.element},d.prototype.filter=function(m){var v=[];return this.forEach(function(T,u){m(T,u)&&v.push(T)}),v},d.prototype.getAll=function(){return this.filter(function(m){return m})},d.prototype.forEach=function(m){var v=this._elements;Object.keys(v).forEach(function(T){var u=v[T],x=u.element,C=u.gfx;return m(x,C)})},d.prototype.getGraphics=function(m,v){var T=m.id||m,u=this._elements[T];return u&&(v?u.secondaryGfx:u.gfx)},d.prototype._validateId=function(m){if(!m)throw new Error("element must have an id");if(this._elements[m])throw new Error("element with id "+m+" already added")}},95820:(rt,Y,l)=>{l.d(Y,{A:()=>T});var a=l(98218),b=l.n(a),d="__fn",m=1e3,v=Array.prototype.slice;function T(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}T.prototype.on=function(C,y,s,e){if(C=(0,a.isArray)(C)?C:[C],(0,a.isFunction)(y)&&(e=s,s=y,y=m),!(0,a.isNumber)(y))throw new Error("priority must be a number");var p=s;e&&(p=(0,a.bind)(s,e),p[d]=s[d]||s);var n=this;C.forEach(function(o){n._addListener(o,{priority:y,callback:p,next:null})})},T.prototype.once=function(C,y,s,e){var p=this;if((0,a.isFunction)(y)&&(e=s,s=y,y=m),!(0,a.isNumber)(y))throw new Error("priority must be a number");function n(){var o=s.apply(e,arguments);return p.off(C,n),o}n[d]=s,this.on(C,y,n)},T.prototype.off=function(C,y){C=(0,a.isArray)(C)?C:[C];var s=this;C.forEach(function(e){s._removeListener(e,y)})},T.prototype.createEvent=function(C){var y=new u;return y.init(C),y},T.prototype.fire=function(C,y){var s,e,p,n;if(n=v.call(arguments),typeof C=="object"&&(y=C,C=y.type),!C)throw new Error("no event type specified");if(e=this._listeners[C],!!e){y instanceof u?s=y:s=this.createEvent(y),n[0]=s;var o=s.type;C!==o&&(s.type=C);try{p=this._invokeListeners(s,n,e)}finally{C!==o&&(s.type=o)}return p===void 0&&s.defaultPrevented&&(p=!1),p}},T.prototype.handleError=function(C){return this.fire("error",{error:C})===!1},T.prototype._destroy=function(){this._listeners={}},T.prototype._invokeListeners=function(C,y,s){for(var e;s&&!C.cancelBubble;)e=this._invokeListener(C,y,s),s=s.next;return e},T.prototype._invokeListener=function(C,y,s){var e;try{e=x(s.callback,y),e!==void 0&&(C.returnValue=e,C.stopPropagation()),e===!1&&C.preventDefault()}catch(p){if(!this.handleError(p))throw console.error("unhandled error in event listener"),console.error(p.stack),p}return e},T.prototype._addListener=function(C,y){var s=this._getListeners(C),e;if(!s){this._setListeners(C,y);return}for(;s;){if(s.priority<y.priority){y.next=s,e?e.next=y:this._setListeners(C,y);return}e=s,s=s.next}e.next=y},T.prototype._getListeners=function(C){return this._listeners[C]},T.prototype._setListeners=function(C,y){this._listeners[C]=y},T.prototype._removeListener=function(C,y){var s=this._getListeners(C),e,p,n;if(!y){this._setListeners(C,null);return}for(;s;)e=s.next,n=s.callback,(n===y||n[d]===y)&&(p?p.next=e:this._setListeners(C,e)),p=s,s=e};function u(){}u.prototype.stopPropagation=function(){this.cancelBubble=!0},u.prototype.preventDefault=function(){this.defaultPrevented=!0},u.prototype.init=function(C){(0,a.assign)(this,C||{})};function x(C,y){return C.apply(null,y)}},40969:(rt,Y,l)=>{l.d(Y,{A:()=>C});var a=l(98218),b=l.n(a),d=l(12266),m=l(52965),v=l(52687),T=l.n(v),u=l(33225),x=l(10018);function C(s,e){this._eventBus=s,this._elementRegistry=e}C.$inject=["eventBus","elementRegistry"],C.prototype._getChildrenContainer=function(s){var e=this._elementRegistry.getGraphics(s),p;return s.parent?(p=(0,d.i)(e),p||(p=(0,u.vt)("g"),(0,u.Ly)(p).add("djs-children"),(0,u.BC)(e.parentNode,p))):p=e,p},C.prototype._clear=function(s){var e=(0,d.P)(s);return(0,v.clear)(e),e},C.prototype._createContainer=function(s,e,p,n){var o=(0,u.vt)("g");(0,u.Ly)(o).add("djs-group"),typeof p<"u"?y(o,e,e.childNodes[p]):(0,u.BC)(e,o);var i=(0,u.vt)("g");(0,u.Ly)(i).add("djs-element"),(0,u.Ly)(i).add("djs-"+s),n&&(0,u.Ly)(i).add("djs-frame"),(0,u.BC)(o,i);var h=(0,u.vt)("g");return(0,u.Ly)(h).add("djs-visual"),(0,u.BC)(i,h),i},C.prototype.create=function(s,e,p){var n=this._getChildrenContainer(e.parent);return this._createContainer(s,n,p,(0,x.eb)(e))},C.prototype.updateContainments=function(s){var e=this,p=this._elementRegistry,n;n=(0,a.reduce)(s,function(o,i){return i.parent&&(o[i.parent.id]=i.parent),o},{}),(0,a.forEach)(n,function(o){var i=o.children;if(i){var h=e._getChildrenContainer(o);(0,a.forEach)(i.slice().reverse(),function(g){var f=p.getGraphics(g);y(f.parentNode,h)})}})},C.prototype.drawShape=function(s,e){var p=this._eventBus;return p.fire("render.shape",{gfx:s,element:e})},C.prototype.getShapePath=function(s){var e=this._eventBus;return e.fire("render.getShapePath",s)},C.prototype.drawConnection=function(s,e){var p=this._eventBus;return p.fire("render.connection",{gfx:s,element:e})},C.prototype.getConnectionPath=function(s){var e=this._eventBus;return e.fire("render.getConnectionPath",s)},C.prototype.update=function(s,e,p){if(e.parent){var n=this._clear(p);if(s==="shape")this.drawShape(n,e),(0,m.Tl)(p,e.x,e.y);else if(s==="connection")this.drawConnection(n,e);else throw new Error("unknown type: "+s);e.hidden?(0,u.CF)(p,"display","none"):(0,u.CF)(p,"display","block")}},C.prototype.remove=function(s){var e=this._elementRegistry.getGraphics(s);(0,u.TF)(e.parentNode)};function y(s,e,p){var n=p||e.firstChild;s!==n&&e.insertBefore(s,n)}},97975:(rt,Y,l)=>{l.d(Y,{A:()=>b});var a=1e3;function b(d,m){var v=this;m=m||a,d.on(["render.shape","render.connection"],m,function(T,u){var x=T.type,C=u.element,y=u.gfx;if(v.canRender(C))return x==="render.shape"?v.drawShape(y,C):v.drawConnection(y,C)}),d.on(["render.getShapePath","render.getConnectionPath"],m,function(T,u){if(v.canRender(u))return T.type==="render.getShapePath"?v.getShapePath(u):v.getConnectionPath(u)})}b.prototype.canRender=function(){},b.prototype.drawShape=function(){},b.prototype.drawConnection=function(){},b.prototype.getShapePath=function(){},b.prototype.getConnectionPath=function(){}},19187:(rt,Y,l)=>{l.d(Y,{A:()=>d});var a=l(98218),b=l.n(a);function d(){var m={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},v=this;this.cls=function(T,u,x){var C=this.style(u,x);return(0,a.assign)(C,{class:T})},this.style=function(T,u){!(0,a.isArray)(T)&&!u&&(u=T,T=[]);var x=(0,a.reduce)(T,function(C,y){return(0,a.assign)(C,m[y]||{})},{});return u?(0,a.assign)(x,u):x},this.computeStyle=function(T,u,x){return(0,a.isArray)(u)||(x=u,u=[]),v.style(u||[],(0,a.assign)({},x,T||{}))}}},41666:(rt,Y,l)=>{l.d(Y,{A:()=>u});var a=l(98218);function b(x){return x&&x[x.length-1]}function d(x){return x.y}function m(x){return x.x}var v={left:m,center:m,right:function(x){return x.x+x.width},top:d,middle:d,bottom:function(x){return x.y+x.height}};function T(x){this._modeling=x}T.$inject=["modeling"],T.prototype._getOrientationDetails=function(x){var C=["top","bottom","middle"],y="x",s="width";return C.indexOf(x)!==-1&&(y="y",s="height"),{axis:y,dimension:s}},T.prototype._isType=function(x,C){return C.indexOf(x)!==-1},T.prototype._alignmentPosition=function(x,C){var y=this._getOrientationDetails(x),s=y.axis,e=y.dimension,p={},n={},o=!1,i,h,g;function f(_,O){return Math.round((_[s]+O[s]+O[e])/2)}if(this._isType(x,["left","top"]))p[x]=C[0][s];else if(this._isType(x,["right","bottom"]))g=b(C),p[x]=g[s]+g[e];else if(this._isType(x,["center","middle"])){if((0,a.forEach)(C,function(_){var O=_[s]+Math.round(_[e]/2);n[O]?n[O].elements.push(_):n[O]={elements:[_],center:O}}),i=(0,a.sortBy)(n,function(_){return _.elements.length>1&&(o=!0),_.elements.length}),o)return p[x]=b(i).center,p;h=C[0],C=(0,a.sortBy)(C,function(_){return _[s]+_[e]}),g=b(C),p[x]=f(h,g)}return p},T.prototype.trigger=function(x,C){var y=this._modeling,s=(0,a.filter)(x,function(o){return!(o.waypoints||o.host||o.labelTarget)}),e=v[C],p=(0,a.sortBy)(s,e),n=this._alignmentPosition(C,p);y.alignElements(p,n)};const u={__init__:["alignElements"],alignElements:["type",T]}},20418:(rt,Y,l)=>{l.d(Y,{A:()=>y});var a=l(51270),b=l.n(a),d=l(10018),m=l(65911),v=l(98218),T=l(6705);function u(s,e,p,n){T.A.call(this,s),this._elementRegistry=e,this._modeling=p,this._rules=n;var o=this;this.postExecuted(["shape.create"],function(i){var h=i.context,g=h.hints||{},f=h.shape,_=h.parent||h.newParent;g.autoResize!==!1&&o._expand([f],_)}),this.postExecuted(["elements.move"],function(i){var h=i.context,g=(0,v.flatten)((0,v.values)(h.closure.topLevel)),f=h.hints,_=f?f.autoResize:!0;if(_!==!1){var O=(0,v.groupBy)(g,function(N){return N.parent.id});(0,v.forEach)(O,function(N,A){(0,v.isArray)(_)&&(N=N.filter(function(B){return(0,v.find)(_,(0,v.matchPattern)({id:B.id}))})),o._expand(N,A)})}}),this.postExecuted(["shape.toggleCollapse"],function(i){var h=i.context,g=h.hints,f=h.shape;g&&g.autoResize===!1||f.collapsed||o._expand(f.children||[],f)}),this.postExecuted(["shape.resize"],function(i){var h=i.context,g=h.hints,f=h.shape,_=f.parent;g&&g.autoResize===!1||_&&o._expand([f],_)})}u.$inject=["eventBus","elementRegistry","modeling","rules"],b()(u,T.A),u.prototype._getOptimalBounds=function(s,e){var p=this.getOffset(e),n=this.getPadding(e),o=(0,m.Fy)((0,d.U7)(s)),i=(0,m.Fy)(e),h={};return o.top-i.top<n.top&&(h.top=o.top-p.top),o.left-i.left<n.left&&(h.left=o.left-p.left),i.right-o.right<n.right&&(h.right=o.right+p.right),i.bottom-o.bottom<n.bottom&&(h.bottom=o.bottom+p.bottom),(0,m.cD)((0,v.assign)({},i,h))},u.prototype._expand=function(s,e){typeof e=="string"&&(e=this._elementRegistry.get(e));var p=this._rules.allowed("element.autoResize",{elements:s,target:e});if(p){var n=this._getOptimalBounds(s,e);if(x(n,e)){var o=C((0,v.pick)(e,["x","y","width","height"]),n);this.resize(e,n,{autoResize:o});var i=e.parent;i&&this._expand([e],i)}}},u.prototype.getOffset=function(s){return{top:60,bottom:60,left:100,right:100}},u.prototype.getPadding=function(s){return{top:2,bottom:2,left:15,right:15}},u.prototype.resize=function(s,e,p){this._modeling.resizeShape(s,e,null,p)};function x(s,e){return s.x!==e.x||s.y!==e.y||s.width!==e.width||s.height!==e.height}function C(s,e){var p="";return s=(0,m.Fy)(s),e=(0,m.Fy)(e),s.top>e.top&&(p=p.concat("n")),s.right<e.right&&(p=p.concat("w")),s.bottom<e.bottom&&(p=p.concat("s")),s.left>e.left&&(p=p.concat("e")),p}const y={__init__:["autoResize"],autoResize:["type",u]}},69855:(rt,Y,l)=>{l.d(Y,{LS:()=>o,qh:()=>i,zk:()=>f,fU:()=>O,Pj:()=>N,YU:()=>g});var a=l(86439),b=l(92159),d=l(33225),m=l(52965),v=l(38305),T=l.n(v),u=Math.round,x=Math.max;function C(B,D){var U=B.x,k=B.y;return[["M",U,k],["m",0,-D],["a",D,D,0,1,1,0,2*D],["a",D,D,0,1,1,0,-2*D],["z"]]}function y(B){var D=[];return B.forEach(function(U,k){D.push([k===0?"M":"L",U.x,U.y])}),D}var s=10;function e(B,D){var U,k;for(U=0;k=B[U];U++)if((0,b.cK)(k,D)<=s)return{point:B[U],bendpoint:!0,index:U};return null}function p(B,D){var U=T()(C(D,s),y(B)),k=U[0],Z=U[U.length-1],ot;return k?k!==Z?k.segment2!==Z.segment2?(ot=x(k.segment2,Z.segment2)-1,{point:B[ot],bendpoint:!0,index:ot}):{point:{x:u(k.x+Z.x)/2,y:u(k.y+Z.y)/2},index:k.segment2}:{point:{x:u(k.x),y:u(k.y)},index:k.segment2}:null}function n(B,D){return e(B,D)||p(B,D)}var o="djs-bendpoint",i="djs-segment-dragger";function h(B,D){var U=(0,a.gK)(D),k=B._container.getBoundingClientRect(),Z;Z={x:k.left,y:k.top};var ot=B.viewbox();return{x:ot.x+(U.x-Z.x)/ot.scale,y:ot.y+(U.y-Z.y)/ot.scale}}function g(B,D,U){var k=h(B,U),Z=n(D,k);return Z}function f(B,D){var U=(0,d.vt)("g");(0,d.Ly)(U).add(o),(0,d.BC)(B,U);var k=(0,d.vt)("circle");(0,d.CF)(k,{cx:0,cy:0,r:4}),(0,d.Ly)(k).add("djs-visual"),(0,d.BC)(U,k);var Z=(0,d.vt)("circle");return(0,d.CF)(Z,{cx:0,cy:0,r:10}),(0,d.Ly)(Z).add("djs-hit"),(0,d.BC)(U,Z),D&&(0,d.Ly)(U).add(D),U}function _(B,D,U,k){var Z=(0,d.vt)("g");(0,d.BC)(B,Z);var ot=14,et=3,J=6,V=A(D,U,k),w=et+J,M=(0,d.vt)("rect");(0,d.CF)(M,{x:-ot/2,y:-et/2,width:ot,height:et}),(0,d.Ly)(M).add("djs-visual"),(0,d.BC)(Z,M);var S=(0,d.vt)("rect");return(0,d.CF)(S,{x:-V/2,y:-w/2,width:V,height:w}),(0,d.Ly)(S).add("djs-hit"),(0,d.BC)(Z,S),(0,m.e$)(Z,k==="v"?90:0,0,0),Z}function O(B,D,U){var k=(0,d.vt)("g"),Z=(0,b.P8)(D,U),ot=(0,b.ke)(D,U);return(0,d.BC)(B,k),_(k,D,U,ot),(0,d.Ly)(k).add(i),(0,d.Ly)(k).add(ot==="h"?"horizontal":"vertical"),(0,m.Tl)(k,Z.x,Z.y),k}function N(B){return Math.abs(Math.round(B*2/3))}function A(B,D,U){var k=D.x-B.x,Z=D.y-B.y;return N(U==="h"?k:Z)}},6513:(rt,Y,l)=>{l.d(Y,{A:()=>s});var a=l(98218),b=l.n(a),d=l(52687),m=l.n(d),v=l(69855),T=l(25141),u=l.n(T),x=l(92159),C=l(33225),y=l(52965);function s(p,n,o,i,h){var g=this;function f(w,M,S){var E=w.index,t=w.point,r,c,P,W,H,X;return E<=0||w.bendpoint?!1:(r=M[E-1],c=M[E],P=(0,x.P8)(r,c),W=(0,x.ke)(r,c),H=Math.abs(t.x-P.x),X=Math.abs(t.y-P.y),W&&H<=S&&X<=S)}function _(w,M){var S=w.waypoints,E,t,r,c;return M.index<=0||M.bendpoint||(E={start:S[M.index-1],end:S[M.index]},t=(0,x.ke)(E.start,E.end),!t)?null:(t==="h"?r=E.end.x-E.start.x:r=E.end.y-E.start.y,c=(0,v.Pj)(r)/2,c)}function O(w,M){var S=M.waypoints,E=(0,v.YU)(n,S,w),t;if(E)return t=_(M,E),f(E,S,t)?h.start(w,M,E.index):i.start(w,M,E.index,!E.bendpoint),!0}function N(w,M,S){d.event.bind(w,M,function(E){o.triggerMouseEvent(M,E,S),E.stopPropagation()})}function A(w,M){var S=n.getLayer("overlays"),E=(0,d.query)('.djs-bendpoints[data-element-id="'+u()(w.id)+'"]',S);return!E&&M&&(E=(0,C.vt)("g"),(0,C.CF)(E,{"data-element-id":w.id}),(0,C.Ly)(E).add("djs-bendpoints"),(0,C.BC)(S,E),N(E,"mousedown",w),N(E,"click",w),N(E,"dblclick",w)),E}function B(w,M){return(0,d.query)('.djs-segment-dragger[data-segment-idx="'+w+'"]',M)}function D(w,M){M.waypoints.filter(g.getConnectionBendpointsFilter).forEach(function(S,E){var t=(0,v.zk)(w);(0,C.BC)(w,t),(0,y.Tl)(t,S.x,S.y)}),(0,v.zk)(w,"floating")}function U(w,M){for(var S=M.waypoints,E,t,r,c=1;c<S.length;c++)E=S[c-1],t=S[c],(0,x.ke)(E,t)&&(r=(0,v.fU)(w,E,t),(0,C.CF)(r,{"data-segment-idx":c}),N(r,"mousemove",M))}function k(w){(0,a.forEach)((0,d.queryAll)("."+v.LS,w),function(M){(0,C.TF)(M)})}function Z(w){(0,a.forEach)((0,d.queryAll)("."+v.qh,w),function(M){(0,C.TF)(M)})}function ot(w){var M=A(w);return M||(M=A(w,!0),D(M,w),U(M,w)),M}function et(w){var M=A(w);M&&(Z(M),k(M),U(M,w),D(M,w))}function J(w,M){var S=(0,d.query)(".floating",w),E=M.point;S&&(0,y.Tl)(S,E.x,E.y)}function V(w,M,S){var E=B(M.index,w),t=S[M.index-1],r=S[M.index],c=M.point,P=(0,x.P8)(t,r),W=(0,x.ke)(t,r),H,X;E&&(H=e(E),X={x:c.x-P.x,y:c.y-P.y},W==="v"&&(X={x:X.y,y:X.x}),(0,y.Tl)(H,X.x,X.y))}p.on("connection.changed",function(w){et(w.element)}),p.on("connection.remove",function(w){var M=A(w.element);M&&(0,C.TF)(M)}),p.on("element.marker.update",function(w){var M=w.element,S;M.waypoints&&(S=ot(M),w.add?(0,C.Ly)(S).add(w.marker):(0,C.Ly)(S).remove(w.marker))}),p.on("element.mousemove",function(w){var M=w.element,S=M.waypoints,E,t;if(S){if(E=A(M,!0),t=(0,v.YU)(n,S,w.originalEvent),!t)return;J(E,t),t.bendpoint||V(E,t,S)}}),p.on("element.mousedown",function(w){var M=w.originalEvent,S=w.element,E=S.waypoints;if(E)return O(M,S)}),p.on("selection.changed",function(w){var M=w.newSelection,S=M[0];S&&S.waypoints&&ot(S)}),p.on("element.hover",function(w){var M=w.element;M.waypoints&&(ot(M),o.registerEvent(w.gfx,"mousemove","element.mousemove"))}),p.on("element.out",function(w){o.unregisterEvent(w.gfx,"mousemove","element.mousemove")}),p.on("element.updateId",function(w){var M=w.element,S=w.newId;if(M.waypoints){var E=A(M);E&&(0,C.CF)(E,{"data-element-id":S})}}),this.addHandles=ot,this.updateHandles=et,this.getBendpointsContainer=A,this.getSegmentDragger=B}s.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"];function e(p){return(0,d.query)(".djs-visual",p)}s.prototype.getConnectionBendpointsFilter=function(p,n,o){return!0}},45041:(rt,Y,l)=>{l.d(Y,{A:()=>p});var a=l(92159),b=l(69855),d=l(65911),m=l(33225),v=l(52965),T="connect-hover",u="djs-updating";function x(n,o,i){return C(n,o,n[o]+i)}function C(n,o,i){return{x:o==="x"?i:n.x,y:o==="y"?i:n.y}}function y(n,o,i,h){var g=Math.max(o[h],i[h]),f=Math.min(o[h],i[h]),_=20,O=Math.min(Math.max(f+_,n[h]),g-_);return C(o,h,O)}function s(n){return n==="x"?"y":"x"}function e(n,o,i){var h,g;return n.original?n.original:(h=(0,d.pp)(o),g=s(i),C(n,g,h[g]))}function p(n,o,i,h,g,f){var _=n.get("connectionDocking",!1);this.start=function(D,U,k){var Z,ot=i.getGraphics(U),et=k-1,J=k,V=U.waypoints,w=V[et],M=V[J],S=(0,b.YU)(i,V,D),E,t,r;E=(0,a.ke)(w,M),E&&(t=E==="v"?"x":"y",et===0&&(w=e(w,U.source,t)),J===V.length-1&&(M=e(M,U.target,t)),S?r=S.point:r={x:(w.x+M.x)/2,y:(w.y+M.y)/2},Z={connection:U,segmentStartIndex:et,segmentEndIndex:J,segmentStart:w,segmentEnd:M,axis:t,dragPosition:r},h.init(D,r,"connectionSegment.move",{cursor:t==="x"?"resize-ew":"resize-ns",data:{connection:U,connectionGfx:ot,context:Z}}))};function O(D,U){if(!_)return U;var k=D.waypoints,Z;return D.waypoints=U,Z=_.getCroppedWaypoints(D),D.waypoints=k,Z}function N(D){g.update("connection",D.connection,D.connectionGfx)}function A(D,U,k){var Z=D.newWaypoints,ot=D.segmentStartIndex+U,et=Z[ot],J=D.segmentEndIndex+U,V=Z[J],w=s(D.axis),M=y(k,et,V,w);(0,v.Tl)(D.draggerGfx,M.x,M.y)}function B(D,U){var k=0,Z=D.filter(function(ot,et){return(0,a.XP)(D[et-1],D[et+1],ot)?(k=et<=U?k-1:k,!1):!0});return{waypoints:Z,segmentOffset:k}}o.on("connectionSegment.move.start",function(D){var U=D.context,k=D.connection,Z=i.getLayer("overlays");U.originalWaypoints=k.waypoints.slice(),U.draggerGfx=(0,b.fU)(Z,U.segmentStart,U.segmentEnd),(0,m.Ly)(U.draggerGfx).add("djs-dragging"),i.addMarker(k,u)}),o.on("connectionSegment.move.move",function(D){var U=D.context,k=U.connection,Z=U.segmentStartIndex,ot=U.segmentEndIndex,et=U.segmentStart,J=U.segmentEnd,V=U.axis,w=U.originalWaypoints.slice(),M=x(et,V,D["d"+V]),S=x(J,V,D["d"+V]),E=w.length,t=0;w[Z]=M,w[ot]=S;var r,c;Z<2&&(r=(0,d.vc)(k.source,M),Z===1?r==="intersect"&&(w.shift(),w[0]=M,t--):r!=="intersect"&&(w.unshift(et),t++)),ot>E-3&&(c=(0,d.vc)(k.target,S),ot===E-2?c==="intersect"&&(w.pop(),w[w.length-1]=S):c!=="intersect"&&w.push(J)),U.newWaypoints=k.waypoints=O(k,w),A(U,t,D),U.newSegmentStartIndex=Z+t,N(D)}),o.on("connectionSegment.move.hover",function(D){D.context.hover=D.hover,i.addMarker(D.hover,T)}),o.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(D){var U=D.context.hover;U&&i.removeMarker(U,T)}),o.on("connectionSegment.move.cleanup",function(D){var U=D.context,k=U.connection;U.draggerGfx&&(0,m.TF)(U.draggerGfx),i.removeMarker(k,u)}),o.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(D){var U=D.context,k=U.connection;k.waypoints=U.originalWaypoints,N(D)}),o.on("connectionSegment.move.end",function(D){var U=D.context,k=U.connection,Z=U.newWaypoints,ot=U.newSegmentStartIndex;Z=Z.map(function(S){var E={x:Math.round(S.x),y:Math.round(S.y)};return S.original&&(E.original=S.original),E});var et=B(Z,ot),J=et.waypoints,V=O(k,J),w=et.segmentOffset,M={segmentMove:{segmentStartIndex:U.segmentStartIndex,newSegmentStartIndex:ot+w}};f.updateWaypoints(k,V,M)})}p.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"]},39255:(rt,Y,l)=>{l.d(Y,{A:()=>J});var a=l(84654),b=l(11918),d=l(6513),m=l(65911),v=Math.round,T="reconnectStart",u="reconnectEnd",x="updateWaypoints";function C(V,w,M,S,E,t){this._injector=V,this.start=function(r,c,P,W){var H=M.getGraphics(c),X=c.source,$=c.target,q=c.waypoints,it;!W&&P===0?it=T:!W&&P===q.length-1?it=u:it=x;var F=it===x?"connection.updateWaypoints":"connection.reconnect",G=E.allowed(F,{connection:c,source:X,target:$});G===!1&&(G=E.allowed(F,{connection:c,source:$,target:X})),G!==!1&&S.init(r,"bendpoint.move",{data:{connection:c,connectionGfx:H,context:{allowed:G,bendpointIndex:P,connection:c,source:X,target:$,insert:W,type:it}}})},w.on("bendpoint.move.hover",function(r){var c=r.context,P=c.connection,W=P.source,H=P.target,X=r.hover,$=c.type;c.hover=X;var q;if(X){var it=$===x?"connection.updateWaypoints":"connection.reconnect";if(q=c.allowed=E.allowed(it,{connection:P,source:$===T?X:W,target:$===u?X:H,type:$}),q){c.source=$===T?X:W,c.target=$===u?X:H;return}q===!1&&(q=c.allowed=E.allowed(it,{connection:P,source:$===u?X:H,target:$===T?X:W,type:$})),q&&(c.source=$===u?X:H,c.target=$===T?X:W)}}),w.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(r){var c=r.context;c.hover=null,c.source=null,c.target=null,c.allowed=!1}),w.on("bendpoint.move.end",function(r){var c=r.context,P=c.allowed,W=c.bendpointIndex,H=c.connection,X=c.insert,$=H.waypoints.slice(),q=c.source,it=c.target,F=c.type,G={},z={x:v(r.x),y:v(r.y)};if(!P)return!1;F===x?(X?$.splice(W,0,z):$[W]=z,G={bendpointMove:{insert:X,bendpointIndex:W}},$=this.cropWaypoints(H,$),t.updateWaypoints(H,(0,m.Wy)($),G)):(F===T?(G.docking="source",y(c)&&(G.docking="target",G.newWaypoints=$.reverse())):F===u&&(G.docking="target",y(c)&&(G.docking="source",G.newWaypoints=$.reverse())),t.reconnect(H,q,it,z,G))},this)}C.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],C.prototype.cropWaypoints=function(V,w){var M=this._injector.get("connectionDocking",!1);if(!M)return w;var S=V.waypoints;return V.waypoints=w,V.waypoints=M.getCroppedWaypoints(V),w=V.waypoints,V.waypoints=S,w};function y(V){var w=V.hover,M=V.source,S=V.target,E=V.type;if(E===T)return w&&S&&w===S&&M!==S;if(E===u)return w&&M&&w===M&&M!==S}var s=l(33225),e=l(69855),p=l(52965),n="reconnectStart",o="reconnectEnd",i="updateWaypoints",h="connect-ok",g="connect-not-ok",f="connect-hover",_="djs-updating",O="djs-element-hidden",N=1100;function A(V,w,M,S){this._injector=w;var E=w.get("connectionPreview",!1);M.on("bendpoint.move.start",function(t){var r=t.context,c=r.bendpointIndex,P=r.connection,W=r.insert,H=P.waypoints,X=H.slice();r.waypoints=H,W&&X.splice(c,0,{x:t.x,y:t.y}),P.waypoints=X;var $=r.draggerGfx=(0,e.zk)(S.getLayer("overlays"));(0,s.Ly)($).add("djs-dragging"),S.addMarker(P,O),S.addMarker(P,_)}),M.on("bendpoint.move.hover",function(t){var r=t.context,c=r.allowed,P=r.hover,W=r.type;if(P){if(S.addMarker(P,f),W===i)return;c?(S.removeMarker(P,g),S.addMarker(P,h)):c===!1&&(S.removeMarker(P,h),S.addMarker(P,g))}}),M.on(["bendpoint.move.out","bendpoint.move.cleanup"],N,function(t){var r=t.context,c=r.hover,P=r.target;c&&(S.removeMarker(c,f),S.removeMarker(c,P?h:g))}),M.on("bendpoint.move.move",function(t){var r=t.context,c=r.allowed,P=r.bendpointIndex,W=r.draggerGfx,H=r.hover,X=r.type,$=r.connection,q=$.source,it=$.target,F=$.waypoints.slice(),G=F.slice().reverse(),z={x:t.x,y:t.y},I;E&&(I={source:q,target:it},X===n?y(r)?(I.connectionEnd=z,I.source=it,I.target=H||q,F=G):(I.connectionStart=z,I.source=H||q):X===o?y(r)?(I.connectionStart=z,I.target=q,I.source=H||it,F=G):(I.connectionEnd=z,I.target=H||it):(I.noCropping=!0,I.noLayout=!0,F[P]=z),X===i&&(F=V.cropWaypoints($,F)),I.waypoints=F,E.drawPreview(r,c,I)),(0,p.Tl)(W,t.x,t.y)},this),M.on(["bendpoint.move.end","bendpoint.move.cancel"],N,function(t){var r=t.context,c=r.connection,P=r.draggerGfx,W=r.hover,H=r.target,X=r.waypoints;c.waypoints=X,(0,s.TF)(P),S.removeMarker(c,_),S.removeMarker(c,O),W&&(S.removeMarker(W,h),S.removeMarker(W,H?h:g)),E&&E.cleanUp(r)})}A.$inject=["bendpointMove","injector","eventBus","canvas"];var B=l(45041),D=l(98218),U=l(17521),k=Math.abs,Z=Math.round,ot=10;function et(V){function w(t,r){if((0,D.isArray)(t)){for(var c=t.length;c--;)if(k(t[c]-r)<=ot)return t[c]}else{t=+t;var P=r%t;if(P<ot)return r-P;if(P>t-ot)return r-P+t}return r}function M(t){if(t.width)return{x:Z(t.width/2+t.x),y:Z(t.height/2+t.y)}}function S(t){var r=t.snapPoints,c=t.connection,P=c.waypoints,W=t.segmentStart,H=t.segmentStartIndex,X=t.segmentEnd,$=t.segmentEndIndex,q=t.axis;if(r)return r;var it=[P[H-1],W,X,P[$+1]];return H<2&&it.unshift(M(c.source)),$>P.length-3&&it.unshift(M(c.target)),t.snapPoints=r={horizontal:[],vertical:[]},(0,D.forEach)(it,function(F){F&&(F=F.original||F,q==="y"&&r.horizontal.push(F.y),q==="x"&&r.vertical.push(F.x))}),r}V.on("connectionSegment.move.move",1500,function(t){var r=t.context,c=S(r),P=t.x,W=t.y,H,X;if(c){H=w(c.vertical,P),X=w(c.horizontal,W);var $=P-H,q=W-X;(0,D.assign)(t,{dx:t.dx-$,dy:t.dy-q,x:H,y:X}),($||c.vertical.indexOf(P)!==-1)&&(0,U.CU)(t,"x",H),(q||c.horizontal.indexOf(W)!==-1)&&(0,U.CU)(t,"y",X)}});function E(t){var r=t.snapPoints,c=t.connection.waypoints,P=t.bendpointIndex;if(r)return r;var W=[c[P-1],c[P+1]];return t.snapPoints=r={horizontal:[],vertical:[]},(0,D.forEach)(W,function(H){H&&(H=H.original||H,r.horizontal.push(H.y),r.vertical.push(H.x))}),r}V.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(t){var r=t.context,c=E(r),P=r.hover,W=P&&M(P),H=t.x,X=t.y,$,q;if(c){$=w(W?c.vertical.concat([W.x]):c.vertical,H),q=w(W?c.horizontal.concat([W.y]):c.horizontal,X);var it=H-$,F=X-q;(0,D.assign)(t,{dx:t.dx-it,dy:t.dy-F,x:t.x-it,y:t.y-F}),(it||c.vertical.indexOf(H)!==-1)&&(0,U.CU)(t,"x",$),(F||c.horizontal.indexOf(X)!==-1)&&(0,U.CU)(t,"y",q)}})}et.$inject=["eventBus"];const J={__depends__:[a.A,b.A],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",d.A],bendpointMove:["type",C],bendpointMovePreview:["type",A],connectionSegmentMove:["type",B.A],bendpointSnapping:["type",et]}},54100:(rt,Y,l)=>{l.d(Y,{A:()=>d});var a=l(10018);function b(m,v,T,u){m.on("element.changed",function(x){var C=x.element;(C.parent||C===v.getRootElement())&&(x.gfx=T.getGraphics(C)),x.gfx&&m.fire((0,a.Pw)(C)+".changed",x)}),m.on("elements.changed",function(x){var C=x.elements;C.forEach(function(y){m.fire("element.changed",{element:y})}),u.updateContainments(C)}),m.on("shape.changed",function(x){u.update("shape",x.element,x.gfx)}),m.on("connection.changed",function(x){u.update("connection",x.element,x.gfx)})}b.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"];const d={__init__:["changeSupport"],changeSupport:["type",b]}},95576:(rt,Y,l)=>{l.d(Y,{A:()=>p});var a=l(56773),b=l(11918),d=l(84654),m=l(65911),v=l(98218);function T(n,o,i,h){function g(_,O){return h.allowed("connection.create",{source:_,target:O})}function f(_,O){return g(O,_)}n.on("connect.hover",function(_){var O=_.context,N=O.start,A=_.hover,B;if(O.hover=A,B=O.canExecute=g(N,A),!(0,v.isNil)(B)){if(B!==!1){O.source=N,O.target=A;return}B=O.canExecute=f(N,A),!(0,v.isNil)(B)&&B!==!1&&(O.source=A,O.target=N)}}),n.on(["connect.out","connect.cleanup"],function(_){var O=_.context;O.hover=null,O.source=null,O.target=null,O.canExecute=!1}),n.on("connect.end",function(_){var O=_.context,N=O.canExecute,A=O.connectionStart,B={x:_.x,y:_.y},D=O.source,U=O.target;if(!N)return!1;var k=null,Z={connectionStart:u(O)?B:A,connectionEnd:u(O)?A:B};(0,v.isObject)(N)&&(k=N);var ot=i.connect(D,U,k,Z);_.context.connection=ot}),this.start=function(_,O,N,A){(0,v.isObject)(N)||(A=N,N=(0,m.pp)(O)),o.init(_,"connect",{autoActivate:A,data:{shape:O,context:{start:O,connectionStart:N}}})}}T.$inject=["eventBus","dragging","modeling","rules"];function u(n){var o=n.hover,i=n.source,h=n.target;return o&&i&&o===i&&i!==h}var x=1100,C=900,y="connect-ok",s="connect-not-ok";function e(n,o,i){var h=n.get("connectionPreview",!1);h&&o.on("connect.move",function(g){var f=g.context,_=f.canExecute,O=f.hover,N=f.source,A=f.start,B=f.startPosition,D=f.target,U=u(f)?{x:g.x,y:g.y}:B,k=u(f)?B:{x:g.x,y:g.y};h.drawPreview(f,_,{source:N||A,target:D||O,connectionStart:U,connectionEnd:k})}),o.on("connect.hover",C,function(g){var f=g.context,_=g.hover,O=f.canExecute;O!==null&&i.addMarker(_,O?y:s)}),o.on(["connect.out","connect.cleanup"],x,function(g){var f=g.hover;f&&(i.removeMarker(f,y),i.removeMarker(f,s))}),h&&o.on("connect.cleanup",function(g){h.cleanUp(g.context)})}e.$inject=["injector","eventBus","canvas"];const p={__depends__:[a.A,b.A,d.A],__init__:["connectPreview"],connect:["type",T],connectPreview:["type",e]}},28012:(rt,Y,l)=>{l.d(Y,{A:()=>T});var a=l(33225),b=l(98218),d=l.n(b),m=l(65911),v="djs-connection-preview";function T(C,y,s,e){this._canvas=y,this._graphicsFactory=s,this._elementFactory=e,this._connectionDocking=C.get("connectionDocking",!1),this._layouter=C.get("layouter",!1)}T.$inject=["injector","canvas","graphicsFactory","elementFactory"],T.prototype.drawPreview=function(C,y,s){s=s||{};var e=C.connectionPreviewGfx,p=C.getConnection,n=s.source,o=s.target,i=s.waypoints,h=s.connectionStart,g=s.connectionEnd,f=s.noLayout,_=s.noCropping,O=s.noNoop,N,A=this;if(e||(e=C.connectionPreviewGfx=this.createConnectionPreviewGfx()),(0,a.IU)(e),p||(p=C.getConnection=u(function(B,D,U){return A.getConnection(B,D,U)})),y&&(N=p(y,n,o)),!N){!O&&this.drawNoopPreview(e,s);return}N.waypoints=i||[],this._layouter&&!f&&(N.waypoints=this._layouter.layoutConnection(N,{source:n,target:o,connectionStart:h,connectionEnd:g,waypoints:s.waypoints||N.waypoints})),(!N.waypoints||!N.waypoints.length)&&(N.waypoints=[n?(0,m.pp)(n):h,o?(0,m.pp)(o):g]),this._connectionDocking&&(n||o)&&!_&&(N.waypoints=this._connectionDocking.getCroppedWaypoints(N,n,o)),this._graphicsFactory.drawConnection(e,N)},T.prototype.drawNoopPreview=function(C,y){var s=y.source,e=y.target,p=y.connectionStart||(0,m.pp)(s),n=y.connectionEnd||(0,m.pp)(e),o=this.cropWaypoints(p,n,s,e),i=this.createNoopConnection(o[0],o[1]);(0,a.BC)(C,i)},T.prototype.cropWaypoints=function(C,y,s,e){var p=this._graphicsFactory,n=s&&p.getShapePath(s),o=e&&p.getShapePath(e),i=p.getConnectionPath({waypoints:[C,y]});return C=s&&(0,m.ki)(n,i,!0)||C,y=e&&(0,m.ki)(o,i,!1)||y,[C,y]},T.prototype.cleanUp=function(C){C&&C.connectionPreviewGfx&&(0,a.TF)(C.connectionPreviewGfx)},T.prototype.getConnection=function(C){var y=x(C);return this._elementFactory.createConnection(y)},T.prototype.createConnectionPreviewGfx=function(){var C=(0,a.vt)("g");return(0,a.CF)(C,{pointerEvents:"none"}),(0,a.Ly)(C).add(v),(0,a.BC)(this._canvas.getDefaultLayer(),C),C},T.prototype.createNoopConnection=function(C,y){var s=(0,a.vt)("polyline");return(0,a.CF)(s,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),(0,a.CF)(s,{points:[C.x,C.y,y.x,y.y]}),s};function u(C){var y={};return function(s){var e=JSON.stringify(s),p=y[e];return p||(p=y[e]=C.apply(null,arguments)),p}}function x(C){return(0,b.isObject)(C)?C:{}}},85284:(rt,Y,l)=>{l.d(Y,{A:()=>b});var a=l(28012);const b={__init__:["connectionPreview"],connectionPreview:["type",a.A]}},26316:(rt,Y,l)=>{l.d(Y,{A:()=>g});var a=l(69380),b=l(98218),d=l(52687),m=l(10018),v=l(50941),T=new v.A("ov"),u=500;function x(f,_,O,N){this._eventBus=_,this._canvas=O,this._elementRegistry=N,this._ids=T,this._overlayDefaults=(0,b.assign)({show:null,scale:!0},f&&f.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=C(O.getContainer()),this._init()}x.$inject=["config.overlays","eventBus","canvas","elementRegistry"],x.prototype.get=function(f){if((0,b.isString)(f)&&(f={id:f}),(0,b.isString)(f.element)&&(f.element=this._elementRegistry.get(f.element)),f.element){var _=this._getOverlayContainer(f.element,!0);return _?f.type?(0,b.filter)(_.overlays,(0,b.matchPattern)({type:f.type})):_.overlays.slice():[]}else return f.type?(0,b.filter)(this._overlays,(0,b.matchPattern)({type:f.type})):f.id?this._overlays[f.id]:null},x.prototype.add=function(f,_,O){if((0,b.isObject)(_)&&(O=_,_=null),f.id||(f=this._elementRegistry.get(f)),!O.position)throw new Error("must specifiy overlay position");if(!O.html)throw new Error("must specifiy overlay html");if(!f)throw new Error("invalid element specified");var N=this._ids.next();return O=(0,b.assign)({},this._overlayDefaults,O,{id:N,type:_,element:f,html:O.html}),this._addOverlay(O),N},x.prototype.remove=function(f){var _=this.get(f)||[];(0,b.isArray)(_)||(_=[_]);var O=this;(0,b.forEach)(_,function(N){var A=O._getOverlayContainer(N.element,!0);if(N&&((0,d.remove)(N.html),(0,d.remove)(N.htmlContainer),delete N.htmlContainer,delete N.element,delete O._overlays[N.id]),A){var B=A.overlays.indexOf(N);B!==-1&&A.overlays.splice(B,1)}})},x.prototype.show=function(){s(this._overlayRoot)},x.prototype.hide=function(){s(this._overlayRoot,!1)},x.prototype.clear=function(){this._overlays={},this._overlayContainers=[],(0,d.clear)(this._overlayRoot)},x.prototype._updateOverlayContainer=function(f){var _=f.element,O=f.html,N=_.x,A=_.y;if(_.waypoints){var B=(0,m.U7)(_);N=B.x,A=B.y}y(O,N,A),(0,d.attr)(f.html,"data-container-id",_.id)},x.prototype._updateOverlay=function(f){var _=f.position,O=f.htmlContainer,N=f.element,A=_.left,B=_.top;if(_.right!==void 0){var D;N.waypoints?D=(0,m.U7)(N).width:D=N.width,A=_.right*-1+D}if(_.bottom!==void 0){var U;N.waypoints?U=(0,m.U7)(N).height:U=N.height,B=_.bottom*-1+U}y(O,A||0,B||0)},x.prototype._createOverlayContainer=function(f){var _=(0,d.domify)('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(_);var O={html:_,element:f,overlays:[]};return this._updateOverlayContainer(O),this._overlayContainers.push(O),O},x.prototype._updateRoot=function(f){var _=f.scale||1,O="matrix("+[_,0,0,_,-1*f.x*_,-1*f.y*_].join(",")+")";e(this._overlayRoot,O)},x.prototype._getOverlayContainer=function(f,_){var O=(0,b.find)(this._overlayContainers,function(N){return N.element===f});return!O&&!_?this._createOverlayContainer(f):O},x.prototype._addOverlay=function(f){var _=f.id,O=f.element,N=f.html,A,B;N.get&&N.constructor.prototype.jquery&&(N=N.get(0)),(0,b.isString)(N)&&(N=(0,d.domify)(N)),B=this._getOverlayContainer(O),A=(0,d.domify)('<div class="djs-overlay" data-overlay-id="'+_+'" style="position: absolute">'),A.appendChild(N),f.type&&(0,d.classes)(A).add("djs-overlay-"+f.type),f.htmlContainer=A,B.overlays.push(f),B.html.appendChild(A),this._overlays[_]=f,this._updateOverlay(f),this._updateOverlayVisibilty(f,this._canvas.viewbox())},x.prototype._updateOverlayVisibilty=function(f,_){var O=f.show,N=O&&O.minZoom,A=O&&O.maxZoom,B=f.htmlContainer,D=!0;O&&(((0,b.isDefined)(N)&&N>_.scale||(0,b.isDefined)(A)&&A<_.scale)&&(D=!1),s(B,D)),this._updateOverlayScale(f,_)},x.prototype._updateOverlayScale=function(f,_){var O=f.scale,N,A,B=f.htmlContainer,D,U="";O!==!0&&(O===!1?(N=1,A=1):(N=O.min,A=O.max),(0,b.isDefined)(N)&&_.scale<N&&(D=(1/_.scale||1)*N),(0,b.isDefined)(A)&&_.scale>A&&(D=(1/_.scale||1)*A)),(0,b.isDefined)(D)&&(U="scale("+D+","+D+")"),e(B,U)},x.prototype._updateOverlaysVisibilty=function(f){var _=this;(0,b.forEach)(this._overlays,function(O){_._updateOverlayVisibilty(O,f)})},x.prototype._init=function(){var f=this._eventBus,_=this;function O(N){_._updateRoot(N),_._updateOverlaysVisibilty(N),_.show()}f.on("canvas.viewbox.changing",function(N){_.hide()}),f.on("canvas.viewbox.changed",function(N){O(N.viewbox)}),f.on(["shape.remove","connection.remove"],function(N){var A=N.element,B=_.get({element:A});(0,b.forEach)(B,function(k){_.remove(k.id)});var D=_._getOverlayContainer(A);if(D){(0,d.remove)(D.html);var U=_._overlayContainers.indexOf(D);U!==-1&&_._overlayContainers.splice(U,1)}}),f.on("element.changed",u,function(N){var A=N.element,B=_._getOverlayContainer(A,!0);B&&((0,b.forEach)(B.overlays,function(D){_._updateOverlay(D)}),_._updateOverlayContainer(B))}),f.on("element.marker.update",function(N){var A=_._getOverlayContainer(N.element,!0);A&&(0,d.classes)(A.html)[N.add?"add":"remove"](N.marker)}),f.on("diagram.clear",this.clear,this)};function C(f){var _=(0,d.domify)('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return f.insertBefore(_,f.firstChild),_}function y(f,_,O){(0,b.assign)(f.style,{left:_+"px",top:O+"px"})}function s(f,_){f.style.display=_===!1?"none":""}function e(f,_){f.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(O){f.style[O+"transform"]=_})}const p={__init__:["overlays"],overlays:["type",x]};var n=".entry",o=1e3;function i(f,_,O){this._eventBus=_,this._overlays=O;var N=(0,b.isDefined)(f&&f.scale)?f.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:N},this._current=null,this._init()}i.$inject=["config.contextPad","eventBus","overlays"],i.prototype._init=function(){var f=this._eventBus,_=this;f.on("selection.changed",function(O){var N=O.newSelection;N.length===1?_.open(N[0]):_.close()}),f.on("elements.delete",function(O){var N=O.elements;(0,b.forEach)(N,function(A){_.isOpen(A)&&_.close()})}),f.on("element.changed",function(O){var N=O.element,A=_._current;A&&A.element===N&&_.open(N,!0)})},i.prototype.registerProvider=function(f,_){_||(_=f,f=o),this._eventBus.on("contextPad.getProviders",f,function(O){O.providers.push(_)})},i.prototype.getEntries=function(f){var _=this._getProviders(),O={};return(0,b.forEach)(_,function(N){var A=N.getContextPadEntries(f);(0,b.isFunction)(A)?O=A(O):(0,b.forEach)(A,function(B,D){O[D]=B})}),O},i.prototype.trigger=function(f,_,O){var N=this._current.element,A=this._current.entries,B,D,U,k=_.delegateTarget||_.target;if(!k)return _.preventDefault();if(B=A[(0,d.attr)(k,"data-action")],D=B.action,U=_.originalEvent||_,(0,b.isFunction)(D)){if(f==="click")return D(U,N,O)}else if(D[f])return D[f](U,N,O);_.preventDefault()},i.prototype.open=function(f,_){!_&&this.isOpen(f)||(this.close(),this._updateAndOpen(f))},i.prototype._getProviders=function(f){var _=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(_),_.providers},i.prototype._updateAndOpen=function(f){var _=this.getEntries(f),O=this.getPad(f),N=O.html;(0,b.forEach)(_,function(A,B){var D=A.group||"default",U=(0,d.domify)(A.html||'<div class="entry" draggable="true"></div>'),k;(0,d.attr)(U,"data-action",B),k=(0,d.query)("[data-group="+D+"]",N),k||(k=(0,d.domify)('<div class="group" data-group="'+D+'"></div>'),N.appendChild(k)),k.appendChild(U),A.className&&h(U,A.className),A.title&&(0,d.attr)(U,"title",A.title),A.imageUrl&&U.appendChild((0,d.domify)('<img src="'+A.imageUrl+'">'))}),(0,d.classes)(N).add("open"),this._current={element:f,pad:O,entries:_},this._eventBus.fire("contextPad.open",{current:this._current})},i.prototype.getPad=function(f){if(this.isOpen())return this._current.pad;var _=this,O=this._overlays,N=(0,d.domify)('<div class="djs-context-pad"></div>'),A=(0,b.assign)({html:N},this._overlaysConfig);d.delegate.bind(N,n,"click",function(D){_.trigger("click",D)}),d.delegate.bind(N,n,"dragstart",function(D){_.trigger("dragstart",D)}),d.event.bind(N,"mousedown",function(D){D.stopPropagation()}),this._overlayId=O.add(f,"context-pad",A);var B=O.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:f,pad:B}),B},i.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},i.prototype.isOpen=function(f){return!!this._current&&(f?this._current.element===f:!0)};function h(f,_){var O=(0,d.classes)(f),N=(0,b.isArray)(_)?_:_.split(/\s+/g);N.forEach(function(A){O.add(A)})}const g={__depends__:[a.A,p],contextPad:["type",i]}},7034:(rt,Y,l)=>{l.d(Y,{A:()=>s});var a=l(98218),b=l.n(a),d=l(10018);function m(e,p,n,o,i,h,g,f){this._canvas=e,this._create=p,this._clipboard=n,this._elementFactory=o,this._eventBus=i,this._modeling=h,this._mouse=g,this._rules=f,i.on("copyPaste.copyElement",function(_){var O=_.descriptor,N=_.element,A=_.elements;O.priority=1,O.id=N.id;var B=(0,a.find)(A,function(D){return D===N.parent});B&&(O.parent=N.parent.id),v(N)&&(O.priority=2,O.host=N.host.id),T(N)&&(O.priority=3,O.source=N.source.id,O.target=N.target.id,O.waypoints=x(N)),u(N)&&(O.priority=4,O.labelTarget=N.labelTarget.id),(0,a.forEach)(["x","y","width","height"],function(D){(0,a.isNumber)(N[D])&&(O[D]=N[D])}),O.hidden=N.hidden,O.collapsed=N.collapsed}),i.on("copyPaste.pasteElements",function(_){var O=_.hints;(0,a.assign)(O,{createElementsBehavior:!1})})}m.$inject=["canvas","create","clipboard","elementFactory","eventBus","modeling","mouse","rules"],m.prototype.copy=function(e){var p,n;return(0,a.isArray)(e)||(e=e?[e]:[]),p=this._eventBus.fire("copyPaste.canCopyElements",{elements:e}),p===!1?n={}:n=this.createTree((0,a.isArray)(p)?p:e),this._clipboard.set(n),this._eventBus.fire("copyPaste.elementsCopied",{elements:e,tree:n}),n},m.prototype.paste=function(e){var p=this._clipboard.get();if(!this._clipboard.isEmpty()){var n=e&&e.hints||{};this._eventBus.fire("copyPaste.pasteElements",{hints:n});var o=this._createElements(p);if(e&&e.element&&e.point)return this._paste(o,e.element,e.point,n);this._create.start(this._mouse.getLastMoveEvent(),o,{hints:n})}},m.prototype._paste=function(e,p,n,o){(0,a.forEach)(e,function(h){(0,a.isNumber)(h.x)||(h.x=0),(0,a.isNumber)(h.y)||(h.y=0)});var i=(0,d.U7)(e);return(0,a.forEach)(e,function(h){T(h)&&(h.waypoints=(0,a.map)(h.waypoints,function(g){return{x:g.x-i.x-i.width/2,y:g.y-i.y-i.height/2}})),(0,a.assign)(h,{x:h.x-i.x-i.width/2,y:h.y-i.y-i.height/2})}),this._modeling.createElements(e,n,p,(0,a.assign)({},o))},m.prototype._createElements=function(e){var p=this,n=this._eventBus,o={},i=[];return(0,a.forEach)(e,function(h,g){g=parseInt(g,10),h=(0,a.sortBy)(h,"priority"),(0,a.forEach)(h,function(f){var _=(0,a.assign)({},(0,a.omit)(f,["priority"]));o[f.parent]?_.parent=o[f.parent]:delete _.parent,n.fire("copyPaste.pasteElement",{cache:o,descriptor:_});var O;if(T(_)){_.source=o[f.source],_.target=o[f.target],O=o[f.id]=p.createConnection(_),i.push(O);return}if(u(_)){_.labelTarget=o[_.labelTarget],O=o[f.id]=p.createLabel(_),i.push(O);return}_.host&&(_.host=o[_.host]),O=o[f.id]=p.createShape(_),i.push(O)})}),i},m.prototype.createConnection=function(e){var p=this._elementFactory.createConnection((0,a.omit)(e,["id"]));return p},m.prototype.createLabel=function(e){var p=this._elementFactory.createLabel((0,a.omit)(e,["id"]));return p},m.prototype.createShape=function(e){var p=this._elementFactory.createShape((0,a.omit)(e,["id"]));return p},m.prototype.hasRelations=function(e,p){var n,o,i;return!(T(e)&&(o=(0,a.find)(p,(0,a.matchPattern)({id:e.source.id})),i=(0,a.find)(p,(0,a.matchPattern)({id:e.target.id})),!o||!i)||u(e)&&(n=(0,a.find)(p,(0,a.matchPattern)({id:e.labelTarget.id})),!n))},m.prototype.createTree=function(e){var p=this._rules,n=this,o={},i=[],h=(0,d.wT)(e);function g(O,N){return p.allowed("element.copy",{element:O,elements:N})}function f(O,N){var A=(0,a.find)(i,function(B){return O===B.element});if(!A){i.push({element:O,depth:N});return}A.depth<N&&(i=_(A,i),i.push({element:A.element,depth:N}))}function _(O,N){var A=N.indexOf(O);return A!==-1&&N.splice(A,1),N}return(0,d.qO)(h,function(O,N,A){if(u(O))return;(0,a.forEach)(O.labels,function(D){f(D,A)});function B(D){D&&D.length&&(0,a.forEach)(D,function(U){(0,a.forEach)(U.labels,function(k){f(k,A)}),f(U,A)})}return(0,a.forEach)([O.attachers,O.incoming,O.outgoing],B),f(O,A),O.children}),e=(0,a.map)(i,function(O){return O.element}),i=(0,a.map)(i,function(O){return O.descriptor={},n._eventBus.fire("copyPaste.copyElement",{descriptor:O.descriptor,element:O.element,elements:e}),O}),i=(0,a.sortBy)(i,function(O){return O.descriptor.priority}),e=(0,a.map)(i,function(O){return O.element}),(0,a.forEach)(i,function(O){var N=O.depth;if(!n.hasRelations(O.element,e)){y(O.element,e);return}if(!g(O.element,e)){y(O.element,e);return}o[N]||(o[N]=[]),o[N].push(O.descriptor)}),o};function v(e){return!!e.host}function T(e){return!!e.waypoints}function u(e){return!!e.labelTarget}function x(e){return(0,a.map)(e.waypoints,function(p){return p=C(p),p.original&&(p.original=C(p.original)),p})}function C(e){return(0,a.assign)({},e)}function y(e,p){var n=p.indexOf(e);return n===-1?p:p.splice(n,1)}const s=m},78768:(rt,Y,l)=>{l.d(Y,{A:()=>C});function a(){}a.prototype.get=function(){return this._data},a.prototype.set=function(y){this._data=y},a.prototype.clear=function(){var y=this._data;return delete this._data,y},a.prototype.isEmpty=function(){return!this._data};const b={clipboard:["type",a]};var d=l(54559);function m(y){var s=this;this._lastMoveEvent=null;function e(p){s._lastMoveEvent=p}y.on("canvas.init",function(p){var n=s._svg=p.svg;n.addEventListener("mousemove",e)}),y.on("canvas.destroy",function(){s._lastMouseEvent=null,s._svg.removeEventListener("mousemove",e)})}m.$inject=["eventBus"],m.prototype.getLastMoveEvent=function(){return this._lastMoveEvent||v(0,0)};function v(y,s){var e=document.createEvent("MouseEvent"),p=y,n=s,o=y,i=s;return e.initMouseEvent&&e.initMouseEvent("mousemove",!0,!0,window,0,p,n,o,i,!1,!1,!1,!1,0,null),e}const T={__init__:["mouse"],mouse:["type",m]};var u=l(11918),x=l(7034);const C={__depends__:[b,d.A,T,u.A],__init__:["copyPaste"],copyPaste:["type",x.A]}},54559:(rt,Y,l)=>{l.d(Y,{A:()=>A});var a=l(84654),b=l(71953),d=l(11918),m=l(56773),v=l(98218),T=l(10018),u="drop-ok",x="drop-not-ok",C="attach-ok",y="new-parent",s="create",e=2e3;function p(B,D,U,k,Z){function ot(V,w,M,S){if(!w)return!1;V=(0,v.filter)(V,function(P){var W=P.labelTarget;return!P.parent&&!(h(P)&&V.indexOf(W)!==-1)});var E=(0,v.find)(V,function(P){return!o(P)}),t=!1,r=!1,c=!1;return i(V)&&(t=Z.allowed("shape.attach",{position:M,shape:E,target:w})),t||(i(V)?c=Z.allowed("shape.create",{position:M,shape:E,source:S,target:w}):c=Z.allowed("elements.create",{elements:V,position:M,target:w})),c||t?(E&&S&&(r=Z.allowed("connection.create",{source:S,target:E,hints:{targetParent:w,targetAttach:t}})),{attach:t,connect:r}):c===null||t===null?null:!1}function et(V,w){[C,u,x,y].forEach(function(M){M===w?B.addMarker(V,M):B.removeMarker(V,M)})}U.on(["create.move","create.hover"],function(V){var w=V.context,M=w.elements,S=V.hover,E=w.source;if(!S){w.canExecute=!1,w.target=null;return}n(V);var t={x:V.x,y:V.y},r=w.canExecute=S&&ot(M,S,t,E);S&&r!==null&&(w.target=S,r&&r.attach?et(S,C):et(S,r?y:x))}),U.on(["create.end","create.out","create.cleanup"],function(V){var w=V.hover;w&&et(w,null)}),U.on("create.end",function(V){var w=V.context,M=w.source,S=w.shape,E=w.elements,t=w.target,r=w.hints,c=w.canExecute,P=c&&c.attach,W=c&&c.connect;if(c===!1||!t)return!1;n(V);var H={x:V.x,y:V.y};W?S=k.appendShape(M,S,H,t,{attach:P,connection:W===!0?{}:W}):(E=k.createElements(E,H,t,(0,v.assign)({},r,{attach:P})),S=(0,v.find)(E,function(X){return!o(X)})),(0,v.assign)(w,{elements:E,shape:S}),(0,v.assign)(V,{elements:E,shape:S})});function J(){var V=D.context();V&&V.prefix===s&&D.cancel()}U.on("create.init",function(){U.on("elements.changed",J),U.once(["create.cancel","create.end"],e,function(){U.off("elements.changed",J)})}),this.start=function(V,w,M){(0,v.isArray)(w)||(w=[w]);var S=(0,v.find)(w,function(t){return!o(t)});if(S){M=(0,v.assign)({elements:w,hints:{},shape:S},M||{}),(0,v.forEach)(w,function(t){(0,v.isNumber)(t.x)||(t.x=0),(0,v.isNumber)(t.y)||(t.y=0)});var E=(0,T.U7)(w);(0,v.forEach)(w,function(t){o(t)&&(t.waypoints=(0,v.map)(t.waypoints,function(r){return{x:r.x-E.x-Math.round(E.width/2),y:r.y-E.y-Math.round(E.height/2)}})),(0,v.assign)(t,{x:t.x-E.x-Math.round(E.width/2),y:t.y-E.y-Math.round(E.height/2)})}),D.init(V,s,{cursor:"grabbing",autoActivate:!0,data:{shape:S,elements:w,context:M}})}}}p.$inject=["canvas","dragging","eventBus","modeling","rules"];function n(B){var D=B.context,U=D.createConstraints;U&&(U.left&&(B.x=Math.max(B.x,U.left)),U.right&&(B.x=Math.min(B.x,U.right)),U.top&&(B.y=Math.max(B.y,U.top)),U.bottom&&(B.y=Math.min(B.y,U.bottom)))}function o(B){return!!B.waypoints}function i(B){return B&&B.length===1&&!o(B[0])}function h(B){return!!B.labelTarget}var g=l(52965),f=l(12266),_=l(33225),O=750;function N(B,D,U,k,Z){function ot(et){var J=(0,_.vt)("g");(0,_.CF)(J,Z.cls("djs-drag-group",["no-events"]));var V=(0,_.vt)("g");return et.forEach(function(w){var M;(0,_.CF)(J,{"data-element-id":w.id}),!w.hidden&&(w.waypoints?(M=U._createContainer("connection",V),U.drawConnection((0,f.P)(M),w)):(M=U._createContainer("shape",V),U.drawShape((0,f.P)(M),w),(0,g.Tl)(M,w.x,w.y)),k.addDragger(w,J,M))}),J}D.on("create.move",O,function(et){var J=et.hover,V=et.context,w=V.elements,M=V.dragGroup;M||(M=V.dragGroup=ot(w));var S;J?(M.parentNode||(S=B.getDefaultLayer(),(0,_.BC)(S,M)),(0,g.Tl)(M,et.x,et.y)):(0,_.TF)(M)}),D.on("create.cleanup",function(et){var J=et.context,V=J.dragGroup;V&&(0,_.TF)(V)})}N.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"];const A={__depends__:[a.A,b.A,d.A,m.A],__init__:["create","createPreview"],create:["type",p],createPreview:["type",N]}},84654:(rt,Y,l)=>{l.d(Y,{A:()=>h});var a=l(56773),b=l(98218),d=l(52687),m=l(86439),v=l(46837),T=l(200),u=l(56764),x=Math.round,C="djs-drag-active";function y(g){g.preventDefault()}function s(g){return typeof TouchEvent<"u"&&g instanceof TouchEvent}function e(g){return Math.sqrt(Math.pow(g.x,2)+Math.pow(g.y,2))}function p(g,f,_,O){var N={threshold:5,trapClick:!0},A;function B(t){var r=f.viewbox(),c=f._container.getBoundingClientRect();return{x:r.x+(t.x-c.left)/r.scale,y:r.y+(t.y-c.top)/r.scale}}function D(t,r){r=r||A;var c=g.createEvent((0,b.assign)({},r.payload,r.data,{isTouch:r.isTouch}));return g.fire("drag."+t,c)===!1?!1:g.fire(r.prefix+"."+t,c)}function U(t){var r=t.filter(function(c){return O.get(c.id)});r.length&&_.select(r)}function k(t,r){var c=A.payload,P=A.displacement,W=A.globalStart,H=(0,m.gK)(t),X=(0,u.p)(H,W),$=A.localStart,q=B(H),it=(0,u.p)(q,$);if(!A.active&&(r||e(X)>A.threshold)){if((0,b.assign)(c,{x:x($.x+P.x),y:x($.y+P.y),dx:0,dy:0},{originalEvent:t}),D("start")===!1)return M();A.active=!0,A.keepSelection||(c.previousSelection=_.get(),_.select(null)),A.cursor&&(0,v.hZ)(A.cursor),f.addMarker(f.getRootElement(),C)}(0,m.dG)(t),A.active&&((0,b.assign)(c,{x:x(q.x+P.x),y:x(q.y+P.y),dx:x(it.x),dy:x(it.y)},{originalEvent:t}),D("move"))}function Z(t){var r,c=!0;A.active&&(t&&(A.payload.originalEvent=t,(0,m.dG)(t)),c=D("end")),c===!1&&D("rejected"),r=S(c!==!0),D("ended",r)}function ot(t){t.which===27&&(y(t),M())}function et(t){var r;A.active&&(r=(0,T.a)(g),setTimeout(r,400),y(t)),Z(t)}function J(t){k(t)}function V(t){var r=A.payload;r.hoverGfx=t.gfx,r.hover=t.element,D("hover")}function w(t){D("out");var r=A.payload;r.hoverGfx=null,r.hover=null}function M(t){var r;if(A){var c=A.active;c&&D("cancel"),r=S(t),c&&D("canceled",r)}}function S(t){var r,c;D("cleanup"),(0,v.wC)(),A.trapClick?c=et:c=Z,d.event.unbind(document,"mousemove",k),d.event.unbind(document,"dragstart",y),d.event.unbind(document,"selectstart",y),d.event.unbind(document,"mousedown",c,!0),d.event.unbind(document,"mouseup",c,!0),d.event.unbind(document,"keyup",ot),d.event.unbind(document,"touchstart",J,!0),d.event.unbind(document,"touchcancel",M,!0),d.event.unbind(document,"touchmove",k,!0),d.event.unbind(document,"touchend",Z,!0),g.off("element.hover",V),g.off("element.out",w),f.removeMarker(f.getRootElement(),C);var P=A.payload.previousSelection;return t!==!1&&P&&!_.get().length&&U(P),r=A,A=null,r}function E(t,r,c,P){A&&M(!1),typeof r=="string"&&(P=c,c=r,r=null),P=(0,b.assign)({},N,P||{});var W=P.data||{},H,X,$,q,it;P.trapClick?q=et:q=Z,t?(H=(0,m.AF)(t)||t,X=(0,m.gK)(t),(0,m.dG)(t),H.type==="dragstart"&&y(H)):(H=null,X={x:0,y:0}),$=B(X),r||(r=$),it=s(H),A=(0,b.assign)({prefix:c,data:W,payload:{},globalStart:X,displacement:(0,u.p)(r,$),localStart:$,isTouch:it},P),P.manual||(it?(d.event.bind(document,"touchstart",J,!0),d.event.bind(document,"touchcancel",M,!0),d.event.bind(document,"touchmove",k,!0),d.event.bind(document,"touchend",Z,!0)):(d.event.bind(document,"mousemove",k),d.event.bind(document,"dragstart",y),d.event.bind(document,"selectstart",y),d.event.bind(document,"mousedown",q,!0),d.event.bind(document,"mouseup",q,!0)),d.event.bind(document,"keyup",ot),g.on("element.hover",V),g.on("element.out",w)),D("init"),P.autoActivate&&k(t,!0)}g.on("diagram.destroy",M),this.init=E,this.move=k,this.hover=V,this.out=w,this.end=Z,this.cancel=M,this.context=function(){return A},this.setOptions=function(t){(0,b.assign)(N,t)}}p.$inject=["eventBus","canvas","selection","elementRegistry"];var n=1500;function o(g,f,_){var O=this;function N(A){if(!A.hover){var B=A.originalEvent,D=O._findTargetGfx(B),U=D&&_.get(D);D&&U&&(A.stopPropagation(),f.hover({element:U,gfx:D}),f.move(B))}}g.on("drag.start",function(A){g.once("drag.move",n,function(B){N(B)})}),g.on("drag.init",function(){var A,B;function D(Z){A=Z.hover,B=Z.hoverGfx}function U(){A=null,B=null}function k(){if(A){var Z=A,ot=B;A=null,B=null,f.out({element:Z,gfx:ot})}}g.on("drag.hover",D),g.on("element.out",U),g.on("element.hover",n,k),g.once("drag.cleanup",function(){g.off("drag.hover",D),g.off("element.out",U),g.off("element.hover",k)})}),this._findTargetGfx=function(A){var B,D;if(A instanceof MouseEvent)return B=(0,m.gK)(A),D=document.elementFromPoint(B.x,B.y),i(D)}}o.$inject=["eventBus","dragging","elementRegistry"];function i(g){return(0,d.closest)(g,"svg, .djs-element",!0)}const h={__init__:["hoverFix"],__depends__:[a.A],dragging:["type",p],hoverFix:["type",o]}},20990:(rt,Y,l)=>{l.d(Y,{A:()=>v});var a=l(98218),b=l.n(a),d="is not a registered action",m="is already registered";function v(u,x){this._actions={};var C=this;u.on("diagram.init",function(){C._registerDefaultActions(x),u.fire("editorActions.init",{editorActions:C})})}v.$inject=["eventBus","injector"],v.prototype._registerDefaultActions=function(u){var x=u.get("commandStack",!1),C=u.get("modeling",!1),y=u.get("selection",!1),s=u.get("zoomScroll",!1),e=u.get("copyPaste",!1),p=u.get("canvas",!1),n=u.get("rules",!1),o=u.get("keyboardMove",!1),i=u.get("keyboardMoveSelection",!1);x&&(this.register("undo",function(){x.undo()}),this.register("redo",function(){x.redo()})),e&&y&&this.register("copy",function(){var h=y.get();e.copy(h)}),e&&this.register("paste",function(){e.paste()}),s&&this.register("stepZoom",function(h){s.stepZoom(h.value)}),p&&this.register("zoom",function(h){p.zoom(h.value)}),C&&y&&n&&this.register("removeSelection",function(){var h=y.get();if(h.length){var g=n.allowed("elements.delete",{elements:h}),f;g!==!1&&((0,a.isArray)(g)?f=g:f=h,f.length&&C.removeElements(f.slice()))}}),o&&this.register("moveCanvas",function(h){o.moveCanvas(h)}),i&&this.register("moveSelection",function(h){i.moveSelection(h.direction,h.accelerated)})},v.prototype.trigger=function(u,x){if(!this._actions[u])throw T(u,d);return this._actions[u](x)},v.prototype.register=function(u,x){var C=this;if(typeof u=="string")return this._registerAction(u,x);(0,a.forEach)(u,function(y,s){C._registerAction(s,y)})},v.prototype._registerAction=function(u,x){if(this.isRegistered(u))throw T(u,m);this._actions[u]=x},v.prototype.unregister=function(u){if(!this.isRegistered(u))throw T(u,d);this._actions[u]=void 0},v.prototype.getActions=function(){return Object.keys(this._actions)},v.prototype.isRegistered=function(u){return!!this._actions[u]};function T(u,x){return new Error(u+" "+x)}},44394:(rt,Y,l)=>{l.d(Y,{A:()=>x});var a=l(17521),b=l(34495),d=l(98218),m=l.n(d),v=l(78626),T=1200,u=800;function x(n,o,i){var h=!i||i.active!==!1;this._eventBus=o;var g=this;o.on("diagram.init",u,function(){g.setActive(h)}),o.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],T,function(f){var _=f.originalEvent;if(!(!g.active||_&&(0,b.nM)(_))){var O=f.context,N=O.gridSnappingContext;N||(N=O.gridSnappingContext={}),["x","y"].forEach(function(A){var B={},D=y(f,A,n);D&&(B.offset=D);var U=C(f,A);U&&(0,d.assign)(B,U),(0,a.AC)(f,A)||g.snapEvent(f,A,B)})}})}x.prototype.snapEvent=function(n,o,i){var h=this.snapValue(n[o],i);(0,a.CU)(n,o,h)},x.prototype.getGridSpacing=function(){return v.E},x.prototype.snapValue=function(n,o){var i=0;o&&o.offset&&(i=o.offset),n+=i,n=(0,v.y)(n,v.E);var h,g;return o&&o.min&&(h=o.min,(0,d.isNumber)(h)&&(h=(0,v.y)(h+i,v.E,"ceil"),n=Math.max(n,h))),o&&o.max&&(g=o.max,(0,d.isNumber)(g)&&(g=(0,v.y)(g+i,v.E,"floor"),n=Math.min(n,g))),n-=i,n},x.prototype.isActive=function(){return this.active},x.prototype.setActive=function(n){this.active=n,this._eventBus.fire("gridSnapping.toggle",{active:n})},x.prototype.toggleActive=function(){this.setActive(!this.active)},x.$inject=["elementRegistry","eventBus","config.gridSnapping"];function C(n,o){var i=n.context,h=i.createConstraints,g=i.resizeConstraints||{},f=i.gridSnappingContext,_=f.snapConstraints;if(_&&_[o])return _[o];_||(_=f.snapConstraints={}),_[o]||(_[o]={});var O=i.direction;h&&(s(o)?(_.x.min=h.left,_.x.max=h.right):(_.y.min=h.top,_.y.max=h.bottom));var N=g.min,A=g.max;return N&&(s(o)?p(O)?_.x.max=N.left:_.x.min=N.right:e(O)?_.y.max=N.top:_.y.min=N.bottom),A&&(s(o)?p(O)?_.x.min=A.left:_.x.max=A.right:e(O)?_.y.min=A.top:_.y.max=A.bottom),_[o]}function y(n,o,i){var h=n.context,g=n.shape,f=h.gridSnappingContext,_=f.snapLocation,O=f.snapOffset;return O&&(0,d.isNumber)(O[o])||(O||(O=f.snapOffset={}),(0,d.isNumber)(O[o])||(O[o]=0),!g)||(i.get(g.id)||(s(o)?O[o]+=g[o]+g.width/2:O[o]+=g[o]+g.height/2),!_)||(o==="x"?/left/.test(_)?O[o]-=g.width/2:/right/.test(_)&&(O[o]+=g.width/2):/top/.test(_)?O[o]-=g.height/2:/bottom/.test(_)&&(O[o]+=g.height/2)),O[o]}function s(n){return n==="x"}function e(n){return n.indexOf("n")!==-1}function p(n){return n.indexOf("w")!==-1}},78626:(rt,Y,l)=>{l.d(Y,{E:()=>a,y:()=>b});var a=10;function b(d,m,v){return v||(v="round"),Math[v](d/m)*m}},46902:(rt,Y,l)=>{l.d(Y,{A:()=>v});var a=l(60053),b=l(34495),d=1500,m="grab";function v(u,x,C,y,s){this._dragging=C;var e=this,p=y.get("keyboard",!1);s.registerTool("hand",{tool:"hand",dragging:"hand.move"}),u.on("element.mousedown",d,function(n){if((0,a.Io)(n))return this.activateMove(n.originalEvent),!1},this),p&&p.addListener(d,function(n){if(!T(n.keyEvent)||e.isActive())return;function o(h){e.activateMove(h),window.removeEventListener("mousemove",o)}window.addEventListener("mousemove",o);function i(h){T(h.keyEvent)&&(window.removeEventListener("mousemove",o),p.removeListener(i,"keyboard.keyup"),C.cancel())}p.addListener(d,i,"keyboard.keyup")},"keyboard.keydown"),u.on("hand.end",function(n){var o=n.originalEvent.target;if(!n.hover&&!(o instanceof SVGElement))return!1;u.once("hand.ended",function(){this.activateMove(n.originalEvent,{reactivate:!0})},this)},this),u.on("hand.move.move",function(n){var o=x.viewbox().scale;x.scroll({dx:n.dx*o,dy:n.dy*o})}),u.on("hand.move.end",function(n){var o=n.context,i=o.reactivate;return!(0,a.Io)(n)&&i&&u.once("hand.move.ended",function(h){this.activateHand(h.originalEvent,!0,!0)},this),!1},this)}v.$inject=["eventBus","canvas","dragging","injector","toolManager"],v.prototype.activateMove=function(u,x,C){typeof x=="object"&&(C=x,x=!1),this._dragging.init(u,"hand.move",{autoActivate:x,cursor:m,data:{context:C||{}}})},v.prototype.activateHand=function(u,x,C){this._dragging.init(u,"hand",{trapClick:!1,autoActivate:x,cursor:m,data:{context:{reactivate:C}}})},v.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateHand()},v.prototype.isActive=function(){var u=this._dragging.context();return u?/^(hand|hand\.move)$/.test(u.prefix):!1};function T(u){return(0,b.m0)(" ",u)}},69380:(rt,Y,l)=>{l.d(Y,{A:()=>C});var a=l(98218),b=l(52687),d=l(60053),m=l(33225),v=l(12619);function T(y){return!0}var u=500;function x(y,s,e){var p=this;function n(w,M,S){if(!h(w,M)){var E,t,r;S?t=s.getGraphics(S):(E=M.delegateTarget||M.target,E&&(t=E,S=s.get(t))),!(!t||!S)&&(r=y.fire(w,{element:S,gfx:t,originalEvent:M}),r===!1&&(M.stopPropagation(),M.preventDefault()))}}var o={};function i(w){return o[w]}function h(w,M){var S=f[w]||d.ls;return!S(M)}var g={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},f={"element.contextmenu":T};function _(w,M,S){var E=g[w];if(!E)throw new Error("unmapped DOM event name <"+w+">");return n(E,M,S)}var O="svg, .djs-element";function N(w,M,S,E){var t=o[S]=function(r){n(S,r)};E&&(f[S]=E),t.$delegate=b.delegate.bind(w,O,M,t)}function A(w,M,S){var E=i(S);E&&b.delegate.unbind(w,M,E.$delegate)}function B(w){(0,a.forEach)(g,function(M,S){N(w,S,M)})}function D(w){(0,a.forEach)(g,function(M,S){A(w,S,M)})}y.on("canvas.destroy",function(w){D(w.svg)}),y.on("canvas.init",function(w){B(w.svg)}),y.on(["shape.added","connection.added"],function(w){var M=w.element,S=w.gfx;y.fire("interactionEvents.createHit",{element:M,gfx:S})}),y.on(["shape.changed","connection.changed"],u,function(w){var M=w.element,S=w.gfx;y.fire("interactionEvents.updateHit",{element:M,gfx:S})}),y.on("interactionEvents.createHit",u,function(w){var M=w.element,S=w.gfx;p.createDefaultHit(M,S)}),y.on("interactionEvents.updateHit",function(w){var M=w.element,S=w.gfx;p.updateDefaultHit(M,S)});var U=et("djs-hit djs-hit-stroke"),k=et("djs-hit djs-hit-click-stroke"),Z=et("djs-hit djs-hit-all"),ot={all:Z,"click-stroke":k,stroke:U};function et(w,M){return M=(0,a.assign)({stroke:"white",strokeWidth:15},M||{}),e.cls(w,["no-fill","no-border"],M)}function J(w,M){var S=ot[M];if(!S)throw new Error("invalid hit type <"+M+">");return(0,m.CF)(w,S),w}function V(w,M){(0,m.BC)(w,M)}this.removeHits=function(w){var M=(0,b.queryAll)(".djs-hit",w);(0,a.forEach)(M,m.TF)},this.createDefaultHit=function(w,M){var S=w.waypoints,E=w.isFrame,t;return S?this.createWaypointsHit(M,S):(t=E?"stroke":"all",this.createBoxHit(M,t,{width:w.width,height:w.height}))},this.createWaypointsHit=function(w,M){var S=(0,v.RJ)(M);return J(S,"stroke"),V(w,S),S},this.createBoxHit=function(w,M,S){S=(0,a.assign)({x:0,y:0},S);var E=(0,m.vt)("rect");return J(E,M),(0,m.CF)(E,S),V(w,E),E},this.updateDefaultHit=function(w,M){var S=(0,b.query)(".djs-hit",M);if(S)return w.waypoints?(0,v.si)(S,w.waypoints):(0,m.CF)(S,{width:w.width,height:w.height}),S},this.fire=n,this.triggerMouseEvent=_,this.mouseHandler=i,this.registerEvent=N,this.unregisterEvent=A}x.$inject=["eventBus","elementRegistry","styles"];const C={__init__:["interactionEvents"],interactionEvents:["type",x]}},77117:(rt,Y,l)=>{l.d(Y,{A:()=>d});var a=l(34495),b=500;function d(m,v){var T=this;m.on("editorActions.init",b,function(u){var x=u.editorActions;T.registerBindings(v,x)})}d.$inject=["eventBus","keyboard"],d.prototype.registerBindings=function(m,v){function T(u,x){v.isRegistered(u)&&m.addListener(x)}T("undo",function(u){var x=u.keyEvent;if((0,a.nM)(x)&&!(0,a.Tu)(x)&&(0,a.m0)(["z","Z"],x))return v.trigger("undo"),!0}),T("redo",function(u){var x=u.keyEvent;if((0,a.nM)(x)&&((0,a.m0)(["y","Y"],x)||(0,a.m0)(["z","Z"],x)&&(0,a.Tu)(x)))return v.trigger("redo"),!0}),T("copy",function(u){var x=u.keyEvent;if((0,a.nM)(x)&&(0,a.m0)(["c","C"],x))return v.trigger("copy"),!0}),T("paste",function(u){var x=u.keyEvent;if((0,a.nM)(x)&&(0,a.m0)(["v","V"],x))return v.trigger("paste"),!0}),T("stepZoom",function(u){var x=u.keyEvent;if((0,a.m0)(["+","Add"],x)&&(0,a.nM)(x))return v.trigger("stepZoom",{value:1}),!0}),T("stepZoom",function(u){var x=u.keyEvent;if((0,a.m0)(["-","Subtract"],x)&&(0,a.nM)(x))return v.trigger("stepZoom",{value:-1}),!0}),T("zoom",function(u){var x=u.keyEvent;if((0,a.m0)("0",x)&&(0,a.nM)(x))return v.trigger("zoom",{value:1}),!0}),T("removeSelection",function(u){var x=u.keyEvent;if((0,a.m0)(["Delete","Del"],x))return v.trigger("removeSelection"),!0})}},34495:(rt,Y,l)=>{l.d(Y,{Tu:()=>T,m0:()=>v,mp:()=>d,nM:()=>m});var a=l(98218),b=l.n(a);function d(u){return u.ctrlKey||u.metaKey||u.shiftKey||u.altKey}function m(u){return u.altKey?!1:u.ctrlKey||u.metaKey}function v(u,x){return u=(0,a.isArray)(u)?u:[u],u.indexOf(x.key)>-1}function T(u){return u.shiftKey}},50317:(rt,Y,l)=>{l.d(Y,{A:()=>y});var a=l(98218),b=l(52687),d=l(34495),m="keyboard.keydown",v="keyboard.keyup",T=1e3;function u(s,e){var p=this;this._config=s||{},this._eventBus=e,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),e.on("diagram.destroy",function(){p._fire("destroy"),p.unbind()}),e.on("diagram.init",function(){p._fire("init")}),e.on("attach",function(){s&&s.bindTo&&p.bind(s.bindTo)}),e.on("detach",function(){p.unbind()})}u.$inject=["config.keyboard","eventBus"],u.prototype._keydownHandler=function(s){this._keyHandler(s,m)},u.prototype._keyupHandler=function(s){this._keyHandler(s,v)},u.prototype._keyHandler=function(s,e){var p=s.target,n;if(!x(p)){var o={keyEvent:s};n=this._eventBus.fire(e||m,o),!(s.ctrlKey&&!s.altKey&&!s.shiftKey&&s.keyCode===67)&&n&&s.preventDefault()}},u.prototype.bind=function(s){this.unbind(),this._node=s,b.event.bind(s,"keydown",this._keydownHandler,!0),b.event.bind(s,"keyup",this._keyupHandler,!0),this._fire("bind")},u.prototype.getBinding=function(){return this._node},u.prototype.unbind=function(){var s=this._node;s&&(this._fire("unbind"),b.event.unbind(s,"keydown",this._keydownHandler,!0),b.event.unbind(s,"keyup",this._keyupHandler,!0)),this._node=null},u.prototype._fire=function(s){this._eventBus.fire("keyboard."+s,{node:this._node})},u.prototype.addListener=function(s,e,p){(0,a.isFunction)(s)&&(p=e,e=s,s=T),this._eventBus.on(p||m,s,e)},u.prototype.removeListener=function(s,e){this._eventBus.off(e||m,s)},u.prototype.hasModifier=d.mp,u.prototype.isCmd=d.nM,u.prototype.isShift=d.Tu,u.prototype.isKey=d.m0;function x(s){return s&&((0,b.matches)(s,"input, textarea")||s.contentEditable==="true")}var C=l(77117);const y={__init__:["keyboard","keyboardBindings"],keyboard:["type",u],keyboardBindings:["type",C.A]}},22170:(rt,Y,l)=>{l.d(Y,{A:()=>y});var a=l(98218),b=l.n(a),d=l(51270),m=l.n(d),v=l(6958),T=l(91799),u=l(6705),x=250,C=1400;function y(e,p,n){u.A.call(this,p);var o=e.get("movePreview",!1);p.on("shape.move.start",C,function(i){var h=i.context,g=h.shapes,f=h.validatedShapes;h.shapes=s(g),h.validatedShapes=s(f)}),o&&p.on("shape.move.start",x,function(i){var h=i.context,g=h.shapes,f=[];(0,a.forEach)(g,function(_){(0,a.forEach)(_.labels,function(O){!O.hidden&&h.shapes.indexOf(O)===-1&&f.push(O),_.labelTarget&&f.push(_)})}),(0,a.forEach)(f,function(_){o.makeDraggable(h,_,!0)})}),this.preExecuted("elements.move",C,function(i){var h=i.context,g=h.closure,f=g.enclosedElements,_=[];(0,a.forEach)(f,function(O){(0,a.forEach)(O.labels,function(N){f[N.id]||_.push(N)})}),g.addAll(_)}),this.preExecute(["connection.delete","shape.delete"],function(i){var h=i.context,g=h.connection||h.shape;(0,T.l)(g.labels,function(f){n.removeShape(f,{nested:!0})})}),this.execute("shape.delete",function(i){var h=i.context,g=h.shape,f=g.labelTarget;f&&(h.labelTargetIndex=(0,v.qh)(f.labels,g),h.labelTarget=f,g.labelTarget=null)}),this.revert("shape.delete",function(i){var h=i.context,g=h.shape,f=h.labelTarget,_=h.labelTargetIndex;f&&((0,v.WQ)(f.labels,g,_),g.labelTarget=f)})}m()(y,u.A),y.$inject=["injector","eventBus","modeling"];function s(e){return(0,a.filter)(e,function(p){return e.indexOf(p.labelTarget)===-1})}},40406:(rt,Y,l)=>{l.d(Y,{A:()=>u});var a=l(98218),b=l.n(a),d=l(10018),m=l(60053),v=l(33225),T="crosshair";function u(C,y,s,e,p,n){this._selection=p,this._dragging=s;var o=this,i={create:function(h){var g=y.getDefaultLayer(),f;f=h.frame=(0,v.vt)("rect"),(0,v.CF)(f,{class:"djs-lasso-overlay",width:1,height:1,x:0,y:0}),(0,v.BC)(g,f)},update:function(h){var g=h.frame,f=h.bbox;(0,v.CF)(g,{x:f.x,y:f.y,width:f.width,height:f.height})},remove:function(h){h.frame&&(0,v.TF)(h.frame)}};n.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),C.on("lasso.selection.end",function(h){var g=h.originalEvent.target;!h.hover&&!(g instanceof SVGElement)||C.once("lasso.selection.ended",function(){o.activateLasso(h.originalEvent,!0)})}),C.on("lasso.end",function(h){var g=x(h),f=e.filter(function(_){return _});o.select(f,g)}),C.on("lasso.start",function(h){var g=h.context;g.bbox=x(h),i.create(g)}),C.on("lasso.move",function(h){var g=h.context;g.bbox=x(h),i.update(g)}),C.on("lasso.cleanup",function(h){var g=h.context;i.remove(g)}),C.on("element.mousedown",1500,function(h){if((0,m.KH)(h))return o.activateLasso(h.originalEvent),!0})}u.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager"],u.prototype.activateLasso=function(C,y){this._dragging.init(C,"lasso",{autoActivate:y,cursor:T,data:{context:{}}})},u.prototype.activateSelection=function(C){this._dragging.init(C,"lasso.selection",{trapClick:!1,cursor:T,data:{context:{}}})},u.prototype.select=function(C,y){var s=(0,d.rx)(C,y);this._selection.select((0,a.values)(s))},u.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},u.prototype.isActive=function(){var C=this._dragging.context();return C&&/^lasso/.test(C.prefix)};function x(C){var y={x:C.x-C.dx,y:C.y-C.dy},s={x:C.x,y:C.y},e;return y.x<=s.x&&y.y<s.y||y.x<s.x&&y.y<=s.y?e={x:y.x,y:y.y,width:s.x-y.x,height:s.y-y.y}:y.x>=s.x&&y.y<s.y||y.x>s.x&&y.y<=s.y?e={x:s.x,y:y.y,width:y.x-s.x,height:s.y-y.y}:y.x<=s.x&&y.y>s.y||y.x<s.x&&y.y>=s.y?e={x:y.x,y:s.y,width:s.x-y.x,height:y.y-s.y}:y.x>=s.x&&y.y>s.y||y.x>s.x&&y.y>=s.y?e={x:s.x,y:s.y,width:y.x-s.x,height:y.y-s.y}:e={x:s.x,y:s.y,width:0,height:0},e}},50101:(rt,Y,l)=>{l.d(Y,{A:()=>x});var a=l(84654),b=l(98218),d=l(52687),m=250;function v(C,y){this._eventBus=C,this._dragging=y,this._tools=[],this._active=null}v.$inject=["eventBus","dragging"],v.prototype.registerTool=function(C,y){var s=this._tools;if(!y)throw new Error(`A tool has to be registered with it's "events"`);s.push(C),this.bindEvents(C,y)},v.prototype.isActive=function(C){return C&&this._active===C},v.prototype.length=function(C){return this._tools.length},v.prototype.setActive=function(C){var y=this._eventBus;this._active!==C&&(this._active=C,y.fire("tool-manager.update",{tool:C}))},v.prototype.bindEvents=function(C,y){var s=this._eventBus,e=this._dragging,p=[];s.on(y.tool+".init",function(n){var o=n.context;if(!o.reactivate&&this.isActive(C)){this.setActive(null),e.cancel();return}this.setActive(C)},this),(0,b.forEach)(y,function(n){p.push(n+".ended"),p.push(n+".canceled")}),s.on(p,m,function(n){var o=n.originalEvent;this._active&&(o&&(0,d.closest)(o.target,'.group[data-group="tools"]')||this.setActive(null))},this)};const T={__depends__:[a.A],__init__:["toolManager"],toolManager:["type",v]};var u=l(40406);const x={__depends__:[T],__init__:["lassoTool"],lassoTool:["type",u.A]}},84919:(rt,Y,l)=>{l.d(Y,{A:()=>E});var a=l(98218),b=l(49096);function d(t,r){this._modeling=t,this._canvas=r}d.$inject=["modeling","canvas"],d.prototype.preExecute=function(t){var r=this._modeling,c=t.elements,P=t.alignment;(0,a.forEach)(c,function(W){var H={x:0,y:0};P.left?H.x=P.left-W.x:P.right?H.x=P.right-W.width-W.x:P.center?H.x=P.center-Math.round(W.width/2)-W.x:P.top?H.y=P.top-W.y:P.bottom?H.y=P.bottom-W.height-W.y:P.middle&&(H.y=P.middle-Math.round(W.height/2)-W.y),r.moveElements([W],H,W.parent)})},d.prototype.postExecute=function(t){};function m(t){this._modeling=t}m.$inject=["modeling"],m.prototype.preExecute=function(t){var r=t.source;if(!r)throw new Error("source required");var c=t.target||r.parent,P=t.shape;P=t.shape=this._modeling.createShape(P,t.position,c,{attach:t.attach}),t.shape=P},m.prototype.postExecute=function(t){var r=t.connectionParent||t.shape.parent;v(t.source,t.shape)||this._modeling.connect(t.source,t.shape,t.connection,r)};function v(t,r){return(0,a.some)(t.outgoing,function(c){return c.target===r})}function T(t,r){this._canvas=t,this._layouter=r}T.$inject=["canvas","layouter"],T.prototype.execute=function(t){var r=t.connection,c=t.source,P=t.target,W=t.parent,H=t.parentIndex,X=t.hints;if(!c||!P)throw new Error("source and target required");if(!W)throw new Error("parent required");return r.source=c,r.target=P,r.waypoints||(r.waypoints=this._layouter.layoutConnection(r,X)),this._canvas.addConnection(r,W,H),r},T.prototype.revert=function(t){var r=t.connection;return this._canvas.removeConnection(r),r.source=null,r.target=null,r};var u=l(90006),x=l(34635),C=l(2050),y=l(6958);function s(t,r){this._canvas=t,this._modeling=r}s.$inject=["canvas","modeling"],s.prototype.execute=function(t){var r=t.connection,c=r.parent;return t.parent=c,t.parentIndex=(0,y.qh)(c.children,r),t.source=r.source,t.target=r.target,this._canvas.removeConnection(r),r.source=null,r.target=null,r},s.prototype.revert=function(t){var r=t.connection,c=t.parent,P=t.parentIndex;return r.source=t.source,r.target=t.target,(0,y.WQ)(c.children,r,P),this._canvas.addConnection(r,c),r};function e(t,r){this._modeling=t,this._elementRegistry=r}e.$inject=["modeling","elementRegistry"],e.prototype.postExecute=function(t){var r=this._modeling,c=this._elementRegistry,P=t.elements;(0,a.forEach)(P,function(W){c.get(W.id)&&(W.waypoints?r.removeConnection(W):r.removeShape(W))})};var p=l(91799);function n(t,r){this._canvas=t,this._modeling=r}n.$inject=["canvas","modeling"],n.prototype.preExecute=function(t){var r=this._modeling,c=t.shape;(0,p.l)(c.incoming,function(P){r.removeConnection(P,{nested:!0})}),(0,p.l)(c.outgoing,function(P){r.removeConnection(P,{nested:!0})}),(0,p.l)(c.children,function(P){o(P)?r.removeConnection(P,{nested:!0}):r.removeShape(P,{nested:!0})})},n.prototype.execute=function(t){var r=this._canvas,c=t.shape,P=c.parent;return t.oldParent=P,t.oldParentIndex=(0,y.qh)(P.children,c),r.removeShape(c),c},n.prototype.revert=function(t){var r=this._canvas,c=t.shape,P=t.oldParent,W=t.oldParentIndex;return(0,y.WQ)(P.children,c,W),r.addShape(c,P),c};function o(t){return t.waypoints}function i(t){this._modeling=t}i.$inject=["modeling"];var h={x:"y",y:"x"};i.prototype.preExecute=function(t){var r=this._modeling,c=t.groups,P=t.axis,W=t.dimension;function H(nt,st){nt.range.min=Math.min(st[P],nt.range.min),nt.range.max=Math.max(st[P]+st[W],nt.range.max)}function X(nt){return nt[P]+nt[W]/2}function $(nt){return nt.length-1}function q(nt){return nt.max-nt.min}function it(nt,st){var ut={y:0};ut[P]=nt-X(st),ut[P]&&(ut[h[P]]=0,r.moveElements([st],ut,st.parent))}var F=c[0],G=$(c),z=c[G],I,K,Q=0;(0,a.forEach)(c,function(nt,st){var ut,ft,lt;if(nt.elements.length<2){st&&st!==c.length-1&&(H(nt,nt.elements[0]),Q+=q(nt.range));return}ut=(0,a.sortBy)(nt.elements,P),ft=ut[0],st===G&&(ft=ut[$(ut)]),lt=X(ft),nt.range=null,(0,a.forEach)(ut,function(ht){if(it(lt,ht),nt.range===null){nt.range={min:ht[P],max:ht[P]+ht[W]};return}H(nt,ht)}),st&&st!==c.length-1&&(Q+=q(nt.range))}),K=Math.abs(z.range.min-F.range.max),I=Math.round((K-Q)/(c.length-1)),!(I<c.length-1)&&(0,a.forEach)(c,function(nt,st){var ut={},ft;nt===F||nt===z||(ft=c[st-1],nt.range.max=0,(0,a.forEach)(nt.elements,function(lt,ht){ut[h[P]]=0,ut[P]=ft.range.max-lt[P]+I,nt.range.min!==lt[P]&&(ut[P]+=lt[P]-nt.range.min),ut[P]&&r.moveElements([lt],ut,lt.parent),nt.range.max=Math.max(lt[P]+lt[W],ht?nt.range.max:0)}))})},i.prototype.postExecute=function(t){};function g(t,r){this._layouter=t,this._canvas=r}g.$inject=["layouter","canvas"],g.prototype.execute=function(t){var r=t.connection,c=r.waypoints;return(0,a.assign)(t,{oldWaypoints:c}),r.waypoints=this._layouter.layoutConnection(r,t.hints),r},g.prototype.revert=function(t){var r=t.connection;return r.waypoints=t.oldWaypoints,r};function f(){}f.prototype.execute=function(t){var r=t.connection,c=t.delta,P=t.newParent||r.parent,W=t.newParentIndex,H=r.parent;return t.oldParent=H,t.oldParentIndex=(0,y.TF)(H.children,r),(0,y.WQ)(P.children,r,W),r.parent=P,(0,a.forEach)(r.waypoints,function(X){X.x+=c.x,X.y+=c.y,X.original&&(X.original.x+=c.x,X.original.y+=c.y)}),r},f.prototype.revert=function(t){var r=t.connection,c=r.parent,P=t.oldParent,W=t.oldParentIndex,H=t.delta;return(0,y.TF)(c.children,r),(0,y.WQ)(P.children,r,W),r.parent=P,(0,a.forEach)(r.waypoints,function(X){X.x-=H.x,X.y-=H.y,X.original&&(X.original.x-=H.x,X.original.y-=H.y)}),r};var _=l(12301),O=l(35797),N=l(39226);function A(t){this._modeling=t,this._helper=new O.A(t)}A.$inject=["modeling"],A.prototype.execute=function(t){var r=t.shape,c=t.delta,P=t.newParent||r.parent,W=t.newParentIndex,H=r.parent;return t.oldBounds=(0,a.pick)(r,["x","y","width","height"]),t.oldParent=H,t.oldParentIndex=(0,y.TF)(H.children,r),(0,y.WQ)(P.children,r,W),(0,a.assign)(r,{parent:P,x:r.x+c.x,y:r.y+c.y}),r},A.prototype.postExecute=function(t){var r=t.shape,c=t.delta,P=t.hints,W=this._modeling;P.layout!==!1&&((0,a.forEach)(r.incoming,function(H){W.layoutConnection(H,{connectionEnd:(0,N.OF)(H,r,c)})}),(0,a.forEach)(r.outgoing,function(H){W.layoutConnection(H,{connectionStart:(0,N.IY)(H,r,c)})})),P.recurse!==!1&&this.moveChildren(t)},A.prototype.revert=function(t){var r=t.shape,c=t.oldParent,P=t.oldParentIndex,W=t.delta;return(0,y.WQ)(c.children,r,P),(0,a.assign)(r,{parent:c,x:r.x-W.x,y:r.y-W.y}),r},A.prototype.moveChildren=function(t){var r=t.delta,c=t.shape;this._helper.moveRecursive(c.children,r,null)},A.prototype.getNewParent=function(t){return t.newParent||t.shape.parent};var B=l(97970);function D(t,r){this._modeling=t,this._rules=r}D.$inject=["modeling","rules"],D.prototype.preExecute=function(t){var r=this,c=this._modeling,P=this._rules,W=t.oldShape,H=t.newData,X=t.hints||{},$;function q(K,Q,nt){return P.allowed("connection.reconnect",{connection:nt,source:K,target:Q})}var it={x:H.x,y:H.y},F={x:W.x,y:W.y,width:W.width,height:W.height};$=t.newShape=t.newShape||r.createShape(H,it,W.parent,X),W.host&&c.updateAttachment($,W.host);var G;X.moveChildren!==!1&&(G=W.children.slice(),c.moveElements(G,{x:0,y:0},$,X));var z=W.incoming.slice(),I=W.outgoing.slice();(0,a.forEach)(z,function(K){var Q=K.source,nt=q(Q,$,K);nt&&r.reconnectEnd(K,$,(0,N.tQ)(K,$,F),X)}),(0,a.forEach)(I,function(K){var Q=K.target,nt=q($,Q,K);nt&&r.reconnectStart(K,$,(0,N.Fe)(K,$,F),X)})},D.prototype.postExecute=function(t){var r=t.oldShape;this._modeling.removeShape(r)},D.prototype.execute=function(t){},D.prototype.revert=function(t){},D.prototype.createShape=function(t,r,c,P){return this._modeling.createShape(t,r,c,P)},D.prototype.reconnectStart=function(t,r,c,P){this._modeling.reconnectStart(t,r,c,P)},D.prototype.reconnectEnd=function(t,r,c,P){this._modeling.reconnectEnd(t,r,c,P)};function U(t){this._modeling=t}U.$inject=["modeling"],U.prototype.execute=function(t){var r=t.shape,c=t.newBounds,P=t.minBounds;if(c.x===void 0||c.y===void 0||c.width===void 0||c.height===void 0)throw new Error("newBounds must have {x, y, width, height} properties");if(P&&(c.width<P.width||c.height<P.height))throw new Error("width and height cannot be less than minimum height and width");if(!P&&c.width<10||c.height<10)throw new Error("width and height cannot be less than 10px");return t.oldBounds={width:r.width,height:r.height,x:r.x,y:r.y},(0,a.assign)(r,{width:c.width,height:c.height,x:c.x,y:c.y}),r},U.prototype.postExecute=function(t){var r=this._modeling,c=t.shape,P=t.oldBounds,W=t.hints||{};W.layout!==!1&&((0,a.forEach)(c.incoming,function(H){r.layoutConnection(H,{connectionEnd:(0,N.tQ)(H,c,P)})}),(0,a.forEach)(c.outgoing,function(H){r.layoutConnection(H,{connectionStart:(0,N.Fe)(H,c,P)})}))},U.prototype.revert=function(t){var r=t.shape,c=t.oldBounds;return(0,a.assign)(r,{width:c.width,height:c.height,x:c.x,y:c.y}),r};var k=l(57261);function Z(t){this._modeling=t}Z.$inject=["modeling"],Z.prototype.execute=function(t){var r=t.shape,c=r.children;t.oldChildrenVisibility=ot(c),r.collapsed=!r.collapsed;var P=et(c,r.collapsed);return[r].concat(P)},Z.prototype.revert=function(t){var r=t.shape,c=t.oldChildrenVisibility,P=r.children,W=J(P,c);return r.collapsed=!r.collapsed,[r].concat(W)};function ot(t){var r={};return(0,a.forEach)(t,function(c){r[c.id]=c.hidden,c.children&&(r=(0,a.assign)({},r,ot(c.children)))}),r}function et(t,r){var c=[];return(0,a.forEach)(t,function(P){P.hidden=r,c=c.concat(P),P.children&&(c=c.concat(et(P.children,P.collapsed||r)))}),c}function J(t,r){var c=[];return(0,a.forEach)(t,function(P){P.hidden=r[P.id],c=c.concat(P),P.children&&(c=c.concat(J(P.children,r)))}),c}function V(t){this._modeling=t}V.$inject=["modeling"],V.prototype.execute=function(t){var r=t.shape,c=t.newHost,P=r.host;return t.oldHost=P,t.attacherIdx=w(P,r),M(c,r),r.host=c,r},V.prototype.revert=function(t){var r=t.shape,c=t.newHost,P=t.oldHost,W=t.attacherIdx;return r.host=P,w(c,r),M(P,r,W),r};function w(t,r){return(0,y.TF)(t&&t.attachers,r)}function M(t,r,c){if(t){var P=t.attachers;P||(t.attachers=P=[]),(0,y.WQ)(P,r,c)}}function S(){}S.prototype.execute=function(t){var r=t.connection,c=t.newWaypoints;return t.oldWaypoints=r.waypoints,r.waypoints=c,r},S.prototype.revert=function(t){var r=t.connection,c=t.oldWaypoints;return r.waypoints=c,r};function E(t,r,c){this._eventBus=t,this._elementFactory=r,this._commandStack=c;var P=this;t.on("diagram.init",function(){P.registerHandlers(c)})}E.$inject=["eventBus","elementFactory","commandStack"],E.prototype.getHandlers=function(){return{"shape.append":m,"shape.create":C.A,"shape.delete":n,"shape.move":A,"shape.resize":U,"shape.replace":D,"shape.toggleCollapse":Z,spaceTool:k.A,"label.create":x.A,"connection.create":T,"connection.delete":s,"connection.move":f,"connection.layout":g,"connection.updateWaypoints":S,"connection.reconnect":B.A,"elements.create":u.A,"elements.move":_.A,"elements.delete":e,"elements.distribute":i,"elements.align":d,"element.updateAttachment":V}},E.prototype.registerHandlers=function(t){(0,a.forEach)(this.getHandlers(),function(r,c){t.registerHandler(c,r)})},E.prototype.moveShape=function(t,r,c,P,W){typeof P=="object"&&(W=P,P=null);var H={shape:t,delta:r,newParent:c,newParentIndex:P,hints:W||{}};this._commandStack.execute("shape.move",H)},E.prototype.updateAttachment=function(t,r){var c={shape:t,newHost:r};this._commandStack.execute("element.updateAttachment",c)},E.prototype.moveElements=function(t,r,c,P){P=P||{};var W=P.attach,H=c,X;W===!0?(X=c,H=c.parent):W===!1&&(X=null);var $={shapes:t,delta:r,newParent:H,newHost:X,hints:P};this._commandStack.execute("elements.move",$)},E.prototype.moveConnection=function(t,r,c,P,W){typeof P=="object"&&(W=P,P=void 0);var H={connection:t,delta:r,newParent:c,newParentIndex:P,hints:W||{}};this._commandStack.execute("connection.move",H)},E.prototype.layoutConnection=function(t,r){var c={connection:t,hints:r||{}};this._commandStack.execute("connection.layout",c)},E.prototype.createConnection=function(t,r,c,P,W,H){typeof c=="object"&&(H=W,W=P,P=c,c=void 0),P=this._create("connection",P);var X={source:t,target:r,parent:W,parentIndex:c,connection:P,hints:H};return this._commandStack.execute("connection.create",X),X.connection},E.prototype.createShape=function(t,r,c,P,W){typeof P!="number"&&(W=P,P=void 0),W=W||{};var H=W.attach,X,$;t=this._create("shape",t),H?(X=c.parent,$=c):X=c;var q={position:r,shape:t,parent:X,parentIndex:P,host:$,hints:W};return this._commandStack.execute("shape.create",q),q.shape},E.prototype.createElements=function(t,r,c,P,W){(0,a.isArray)(t)||(t=[t]),typeof P!="number"&&(W=P,P=void 0),W=W||{};var H={position:r,elements:t,parent:c,parentIndex:P,hints:W};return this._commandStack.execute("elements.create",H),H.elements},E.prototype.createLabel=function(t,r,c,P){c=this._create("label",c);var W={labelTarget:t,position:r,parent:P||t.parent,shape:c};return this._commandStack.execute("label.create",W),W.shape},E.prototype.appendShape=function(t,r,c,P,W){W=W||{},r=this._create("shape",r);var H={source:t,position:c,target:P,shape:r,connection:W.connection,connectionParent:W.connectionParent,attach:W.attach};return this._commandStack.execute("shape.append",H),H.shape},E.prototype.removeElements=function(t){var r={elements:t};this._commandStack.execute("elements.delete",r)},E.prototype.distributeElements=function(t,r,c){var P={groups:t,axis:r,dimension:c};this._commandStack.execute("elements.distribute",P)},E.prototype.removeShape=function(t,r){var c={shape:t,hints:r||{}};this._commandStack.execute("shape.delete",c)},E.prototype.removeConnection=function(t,r){var c={connection:t,hints:r||{}};this._commandStack.execute("connection.delete",c)},E.prototype.replaceShape=function(t,r,c){var P={oldShape:t,newData:r,hints:c||{}};return this._commandStack.execute("shape.replace",P),P.newShape},E.prototype.alignElements=function(t,r){var c={elements:t,alignment:r};this._commandStack.execute("elements.align",c)},E.prototype.resizeShape=function(t,r,c,P){var W={shape:t,newBounds:r,minBounds:c,hints:P};this._commandStack.execute("shape.resize",W)},E.prototype.createSpace=function(t,r,c,P,W){var H={delta:c,direction:P,movingShapes:t,resizingShapes:r,start:W};this._commandStack.execute("spaceTool",H)},E.prototype.updateWaypoints=function(t,r,c){var P={connection:t,newWaypoints:r,hints:c||{}};this._commandStack.execute("connection.updateWaypoints",P)},E.prototype.reconnect=function(t,r,c,P,W){var H={connection:t,newSource:r,newTarget:c,dockingOrPoints:P,hints:W||{}};this._commandStack.execute("connection.reconnect",H)},E.prototype.reconnectStart=function(t,r,c,P){P||(P={}),this.reconnect(t,r,t.target,c,(0,a.assign)(P,{docking:"source"}))},E.prototype.reconnectEnd=function(t,r,c,P){P||(P={}),this.reconnect(t,t.source,r,c,(0,a.assign)(P,{docking:"target"}))},E.prototype.connect=function(t,r,c,P){return this.createConnection(t,r,c||{},t.parent,P)},E.prototype._create=function(t,r){return r instanceof b.C6?r:this._elementFactory.create(t,r)},E.prototype.toggleCollapse=function(t,r){var c={shape:t,hints:r||{}};this._commandStack.execute("shape.toggleCollapse",c)}},90006:(rt,Y,l)=>{l.d(Y,{A:()=>v});var a=l(98218),b=l.n(a),d=l(10018),m=Math.round;function v(u){this._modeling=u}v.$inject=["modeling"],v.prototype.preExecute=function(u){var x=u.elements,C=u.parent,y=u.parentIndex,s=u.position,e=u.hints,p=this._modeling;(0,a.forEach)(x,function(g){(0,a.isNumber)(g.x)||(g.x=0),(0,a.isNumber)(g.y)||(g.y=0)});var n=(0,d.U7)(x);(0,a.forEach)(x,function(g){T(g)&&(g.waypoints=(0,a.map)(g.waypoints,function(f){return{x:f.x-n.x-m(n.width/2)+s.x,y:f.y-n.y-m(n.height/2)+s.y}})),(0,a.assign)(g,{x:g.x-n.x-m(n.width/2)+s.x,y:g.y-n.y-m(n.height/2)+s.y})});var o=(0,d.wT)(x),i={},h=this;(0,a.forEach)(x,function(g){if(T(g)){i[g.id]=(0,a.isNumber)(y)?p.createConnection(i[g.source.id],i[g.target.id],y,g,g.parent||C,e):p.createConnection(i[g.source.id],i[g.target.id],g,g.parent||C,e);return}var f=(0,a.assign)({},e);o.indexOf(g)===-1&&(f.autoResize=!1),i[g.id]=(0,a.isNumber)(y)?p.createShape(g,(0,a.pick)(g,["x","y","width","height"]),h.getParent(g,u),y,f):p.createShape(g,(0,a.pick)(g,["x","y","width","height"]),h.getParent(g,u),f)}),u.elements=(0,a.values)(i)},v.prototype.getParent=function(u,x){return u.parent||x.parent};function T(u){return!!u.waypoints}},34635:(rt,Y,l)=>{l.d(Y,{A:()=>m});var a=l(51270),b=l.n(a),d=l(2050);function m(x){d.A.call(this,x)}b()(m,d.A),m.$inject=["canvas"];var v=d.A.prototype.execute;m.prototype.execute=function(x){var C=x.shape;return u(C),C.labelTarget=x.labelTarget,v.call(this,x)};var T=d.A.prototype.revert;m.prototype.revert=function(x){return x.shape.labelTarget=null,T.call(this,x)};function u(x){["width","height"].forEach(function(C){typeof x[C]>"u"&&(x[C]=0)})}},2050:(rt,Y,l)=>{l.d(Y,{A:()=>m});var a=l(98218),b=l.n(a),d=Math.round;function m(v){this._canvas=v}m.$inject=["canvas"],m.prototype.execute=function(v){var T=v.shape,u=v.position,x=v.parent,C=v.parentIndex;if(!x)throw new Error("parent required");if(!u)throw new Error("position required");return u.width!==void 0?(0,a.assign)(T,u):(0,a.assign)(T,{x:u.x-d(T.width/2),y:u.y-d(T.height/2)}),this._canvas.addShape(T,x,C),T},m.prototype.revert=function(v){var T=v.shape;return this._canvas.removeShape(T),T}},12301:(rt,Y,l)=>{l.d(Y,{A:()=>b});var a=l(35797);function b(d){this._helper=new a.A(d)}b.$inject=["modeling"],b.prototype.preExecute=function(d){d.closure=this._helper.getClosure(d.shapes)},b.prototype.postExecute=function(d){var m=d.hints,v;m&&m.primaryShape&&(v=m.primaryShape,m.oldParent=v.parent),this._helper.moveClosure(d.closure,d.delta,d.newParent,d.newHost,v)}},97970:(rt,Y,l)=>{l.d(Y,{A:()=>d});var a=l(98218),b=l.n(a);function d(v){this._modeling=v}d.$inject=["modeling"],d.prototype.execute=function(v){var T=v.newSource,u=v.newTarget,x=v.connection,C=v.dockingOrPoints;if(!T&&!u)throw new Error("newSource or newTarget required");return(0,a.isArray)(C)&&(v.oldWaypoints=x.waypoints,x.waypoints=C),T&&(v.oldSource=x.source,x.source=T),u&&(v.oldTarget=x.target,x.target=u),x},d.prototype.postExecute=function(v){var T=v.connection,u=v.newSource,x=v.newTarget,C=v.dockingOrPoints,y=v.hints||{};if(y.layoutConnection!==!1){var s={};u&&(!x||y.docking==="source")&&(s.connectionStart=m((0,a.isArray)(C)?C[0]:C)),x&&(!u||y.docking==="target")&&(s.connectionEnd=m((0,a.isArray)(C)?C[C.length-1]:C)),y.newWaypoints&&(s.waypoints=y.newWaypoints),this._modeling.layoutConnection(T,s)}},d.prototype.revert=function(v){var T=v.oldSource,u=v.oldTarget,x=v.oldWaypoints,C=v.connection;return T&&(C.source=T),u&&(C.target=u),x&&(C.waypoints=x),C};function m(v){return v.original||v}},57261:(rt,Y,l)=>{l.d(Y,{A:()=>m});var a=l(98218),b=l.n(a),d=l(45240);function m(C){this._modeling=C}m.$inject=["modeling"],m.prototype.preExecute=function(C){var y=C.delta,s=C.direction,e=C.movingShapes,p=C.resizingShapes,n=C.start;this.moveShapes(e,y),this.resizeShapes(p,y,s),this.updateConnectionWaypoints((0,d.Gq)(e,p),y,s,n,e,p)},m.prototype.execute=function(){},m.prototype.revert=function(){},m.prototype.moveShapes=function(C,y){var s=this;(0,a.forEach)(C,function(e){s._modeling.moveShape(e,y,null,{autoResize:!1,layout:!1,recurse:!1})})},m.prototype.resizeShapes=function(C,y,s){var e=this;(0,a.forEach)(C,function(p){var n=(0,d.Ih)(p,s,y);e._modeling.resizeShape(p,n,null,{attachSupport:!1,autoResize:!1,layout:!1})})},m.prototype.updateConnectionWaypoints=function(C,y,s,e,p,n){var o=this;(0,a.forEach)(C,function(i){var h=i.source,g=i.target,f=T(i),_=u(s);f=(0,a.map)(f,function(O,N){var A=N===0,B=N===f.length-1;return A&&!x(p.concat(n),h)||B&&!x(p.concat(n),g)||((O[_]>e&&/e|s/.test(s)||O[_]<e&&/n|w/.test(s))&&(O[_]=O[_]+y[_]),O.original&&(O.original[_]>e&&/e|s/.test(s)||O.original[_]<e&&/n|w/.test(s))&&(O.original[_]=O.original[_]+y[_])),O}),o._modeling.updateWaypoints(i,f,{labelBehavior:!1})})};function v(C){return(0,a.assign)({},C)}function T(C){return(0,a.map)(C.waypoints,function(y){return y=v(y),y.original&&(y.original=v(y.original)),y})}function u(C){switch(C){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function x(C,y){return C.indexOf(y)!==-1}},39226:(rt,Y,l)=>{l.d(Y,{IY:()=>u,OF:()=>x,Fe:()=>v,tQ:()=>T});var a=l(65911),b=l(56764);function d(s,e,p){var n=(0,b.g)(e),o=(0,b.g)(p),i=(0,b.p)(s,n),h={x:i.x*(p.width/e.width),y:i.y*(p.height/e.height)};return(0,a.PG)({x:o.x+h.x,y:o.y+h.y})}function m(s,e,p){var n=center(s),o=center(e),i=center(p),h=delta(s,n),g=delta(n,o),f={x:g.x*(p.width/e.width),y:g.y*(p.height/e.height)},_={x:i.x+f.x,y:i.y+f.y};return roundPoint({x:_.x+h.x-s.x,y:_.y+h.y-s.y})}function v(s,e,p){var n=y(s),o=n[0];return d(o.original||o,p,e)}function T(s,e,p){var n=y(s),o=n[n.length-1];return d(o.original||o,p,e)}function u(s,e,p){return v(s,e,C(e,p))}function x(s,e,p){return T(s,e,C(e,p))}function C(s,e){return{x:s.x-e.x,y:s.y-e.y,width:s.width,height:s.height}}function y(s){var e=s.waypoints;if(!e.length)throw new Error("connection#"+s.id+": no waypoints");return e}},35797:(rt,Y,l)=>{l.d(Y,{A:()=>v});var a=l(98218),b=l(39226),d=l(10018);function m(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}m.prototype.add=function(T,u){return this.addAll([T],u)},m.prototype.addAll=function(T,u){var x=(0,d.yO)(T,!!u,this);return(0,a.assign)(this,x),this};function v(T){this._modeling=T}v.prototype.moveRecursive=function(T,u,x){return T?this.moveClosure(this.getClosure(T),u,x):[]},v.prototype.moveClosure=function(T,u,x,C,y){var s=this._modeling,e=T.allShapes,p=T.allConnections,n=T.enclosedConnections,o=T.topLevel,i=!1;y&&y.parent===x&&(i=!0),(0,a.forEach)(e,function(h){s.moveShape(h,u,o[h.id]&&!i&&x,{recurse:!1,layout:!1})}),(0,a.forEach)(p,function(h){var g=!!e[h.source.id],f=!!e[h.target.id];n[h.id]&&g&&f?s.moveConnection(h,u,o[h.id]&&!i&&x):s.layoutConnection(h,{connectionStart:g&&(0,b.IY)(h,h.source,u),connectionEnd:f&&(0,b.OF)(h,h.target,u),shapeMoving:!0})})},v.prototype.getClosure=function(T){return new m().addAll(T,!0)}},77648:(rt,Y,l)=>{l.d(Y,{A:()=>x});var a=l(17389);const b={commandStack:["type",a.A]};var d=l(54100),m=l(56773),v=l(11918),T=l(84919),u=l(10033);const x={__depends__:[b,d.A,m.A,v.A],__init__:["modeling"],modeling:["type",T.A],layouter:["type",u.A]}},79691:(rt,Y,l)=>{l.d(Y,{A:()=>ot});var a=l(69380),b=l(56773),d=l(35576),m=l(11918),v=l(84654),T=l(71953),u=l(98218),x=l(86439),C=500,y=1250,s=1500,e=Math.round;function p(et){return{x:et.x+e(et.width/2),y:et.y+e(et.height/2)}}function n(et,J,V,w,M){function S(t,r,c,P){return M.allowed("elements.move",{shapes:t,delta:r,position:c,target:P})}et.on("shape.move.start",s,function(t){var r=t.context,c=t.shape,P=w.get().slice();P.indexOf(c)===-1&&(P=[c]),P=o(P),(0,u.assign)(r,{shapes:P,validatedShapes:P,shape:c})}),et.on("shape.move.start",y,function(t){var r=t.context,c=r.validatedShapes,P;if(P=r.canExecute=S(c),!P)return!1}),et.on("shape.move.move",C,function(t){var r=t.context,c=r.validatedShapes,P=t.hover,W={x:t.dx,y:t.dy},H={x:t.x,y:t.y},X;if(X=S(c,W,H,P),r.delta=W,r.canExecute=X,X===null){r.target=null;return}r.target=P}),et.on("shape.move.end",function(t){var r=t.context,c=r.delta,P=r.canExecute,W=P==="attach",H=r.shapes;if(P===!1)return!1;c.x=e(c.x),c.y=e(c.y),!(c.x===0&&c.y===0)&&V.moveElements(H,c,r.target,{primaryShape:r.shape,attach:W})}),et.on("element.mousedown",function(t){var r=(0,x.AF)(t);if(!r)throw new Error("must supply DOM mousedown event");return E(r,t.element)});function E(t,r,c,P){if((0,u.isObject)(c)&&(P=c,c=!1),!(r.waypoints||!r.parent)){var W=p(r);return J.init(t,W,"shape.move",{cursor:"grabbing",autoActivate:c,data:{shape:r,context:P||{}}}),!0}}this.start=E}n.$inject=["eventBus","dragging","modeling","selection","rules"];function o(et){var J=(0,u.groupBy)(et,"id");return(0,u.filter)(et,function(V){for(;V=V.parent;)if(J[V.id])return!1;return!0})}var i=l(10018),h=l(33225),g=l(52965),f=499,_="djs-dragging",O="drop-ok",N="drop-not-ok",A="new-parent",B="attach-ok";function D(et,J,V,w){function M(r){var c=S(r),P=U(c);return P}function S(r){var c=(0,i.cZ)(r,!0),P=(0,u.map)(c,function(W){return(W.incoming||[]).concat(W.outgoing||[])});return(0,u.flatten)(c.concat(P))}function E(r,c){[B,O,N,A].forEach(function(P){P===c?J.addMarker(r,P):J.removeMarker(r,P)})}function t(r,c,P){w.addDragger(c,r.dragGroup),P&&J.addMarker(c,_),r.allDraggedElements?r.allDraggedElements.push(c):r.allDraggedElements=[c]}et.on("shape.move.start",f,function(r){var c=r.context,P=c.shapes,W=c.allDraggedElements,H=M(P);if(!c.dragGroup){var X=(0,h.vt)("g");(0,h.CF)(X,V.cls("djs-drag-group",["no-events"]));var $=J.getDefaultLayer();(0,h.BC)($,X),c.dragGroup=X}H.forEach(function(q){w.addDragger(q,c.dragGroup)}),W?W=(0,u.flatten)([W,S(P)]):W=S(P),(0,u.forEach)(W,function(q){J.addMarker(q,_)}),c.allDraggedElements=W,c.differentParents=k(P)}),et.on("shape.move.move",f,function(r){var c=r.context,P=c.dragGroup,W=c.target,H=c.shape.parent,X=c.canExecute;W&&(X==="attach"?E(W,B):c.canExecute&&W&&W.id!==H.id?E(W,A):E(W,c.canExecute?O:N)),(0,g.Tl)(P,r.dx,r.dy)}),et.on(["shape.move.out","shape.move.cleanup"],function(r){var c=r.context,P=c.target;P&&E(P,null)}),et.on("shape.move.cleanup",function(r){var c=r.context,P=c.allDraggedElements,W=c.dragGroup;(0,u.forEach)(P,function(H){J.removeMarker(H,_)}),W&&(0,h.TF)(W)}),this.makeDraggable=t}D.$inject=["eventBus","canvas","styles","previewSupport"];function U(et){var J=(0,u.filter)(et,function(V){return Z(V)?(0,u.find)(et,(0,u.matchPattern)({id:V.source.id}))&&(0,u.find)(et,(0,u.matchPattern)({id:V.target.id})):!0});return J}function k(et){return(0,u.size)((0,u.groupBy)(et,function(J){return J.parent&&J.parent.id}))!==1}function Z(et){return et.waypoints}const ot={__depends__:[a.A,b.A,d.A,m.A,v.A,T.A],__init__:["move","movePreview"],move:["type",n],movePreview:["type",D]}},35576:(rt,Y,l)=>{l.d(Y,{A:()=>u});var a=l(10018),b=l(33225),d=l(52687),m=l(98218),v=500;function T(x,C,y){this.offset=6;var s=C.cls("djs-outline",["no-fill"]),e=this;function p(n,o){var i=(0,b.vt)("rect");return(0,b.CF)(i,(0,m.assign)({x:10,y:10,width:100,height:100},s)),(0,b.BC)(n,i),i}x.on(["shape.added","shape.changed"],v,function(n){var o=n.element,i=n.gfx,h=(0,d.query)(".djs-outline",i);h||(h=p(i,o)),e.updateShapeOutline(h,o)}),x.on(["connection.added","connection.changed"],function(n){var o=n.element,i=n.gfx,h=(0,d.query)(".djs-outline",i);h||(h=p(i,o)),e.updateConnectionOutline(h,o)})}T.prototype.updateShapeOutline=function(x,C){(0,b.CF)(x,{x:-this.offset,y:-this.offset,width:C.width+this.offset*2,height:C.height+this.offset*2})},T.prototype.updateConnectionOutline=function(x,C){var y=(0,a.U7)(C);(0,b.CF)(x,{x:y.x-this.offset,y:y.y-this.offset,width:y.width+this.offset*2,height:y.height+this.offset*2})},T.$inject=["eventBus","styles","elementRegistry"];const u={__init__:["outline"],outline:["type",T]}},96206:(rt,Y,l)=>{l.d(Y,{A:()=>s});var a=l(98218),b=l.n(a),d=l(52687),m=l.n(d),v=".djs-palette-toggle",T=".entry",u=v+", "+T,x="open",C="two-column",y=1e3;function s(n,o){this._eventBus=n,this._canvas=o;var i=this;n.on("tool-manager.update",function(h){var g=h.tool;i.updateToolHighlight(g)}),n.on("i18n.changed",function(){i._update()}),n.on("diagram.init",function(){i._diagramInitialized=!0,i._rebuild()})}s.$inject=["eventBus","canvas"],s.prototype.registerProvider=function(n,o){o||(o=n,n=y),this._eventBus.on("palette.getProviders",n,function(i){i.providers.push(o)}),this._rebuild()},s.prototype.getEntries=function(){var n=this._getProviders();return n.reduce(p,{})},s.prototype._rebuild=function(){if(this._diagramInitialized){var n=this._getProviders();n.length&&(this._container||this._init(),this._update())}},s.prototype._init=function(){var n=this,o=this._eventBus,i=this._getParentContainer(),h=this._container=(0,d.domify)(s.HTML_MARKUP);i.appendChild(h),d.delegate.bind(h,u,"click",function(g){var f=g.delegateTarget;if((0,d.matches)(f,v))return n.toggle();n.trigger("click",g)}),d.event.bind(h,"mousedown",function(g){g.stopPropagation()}),d.delegate.bind(h,T,"dragstart",function(g){n.trigger("dragstart",g)}),o.on("canvas.resized",this._layoutChanged,this),o.fire("palette.create",{container:h})},s.prototype._getProviders=function(n){var o=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(o),o.providers},s.prototype._toggleState=function(n){n=n||{};var o=this._getParentContainer(),i=this._container,h=this._eventBus,g,f=(0,d.classes)(i);"twoColumn"in n?g=n.twoColumn:g=this._needsCollapse(o.clientHeight,this._entries||{}),f.toggle(C,g),"open"in n&&f.toggle(x,n.open),h.fire("palette.changed",{twoColumn:g,open:this.isOpen()})},s.prototype._update=function(){var n=(0,d.query)(".djs-palette-entries",this._container),o=this._entries=this.getEntries();(0,d.clear)(n),(0,a.forEach)(o,function(i,h){var g=i.group||"default",f=(0,d.query)("[data-group="+g+"]",n);f||(f=(0,d.domify)('<div class="group" data-group="'+g+'"></div>'),n.appendChild(f));var _=i.html||(i.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),O=(0,d.domify)(_);f.appendChild(O),i.separator||((0,d.attr)(O,"data-action",h),i.title&&(0,d.attr)(O,"title",i.title),i.className&&e(O,i.className),i.imageUrl&&O.appendChild((0,d.domify)('<img src="'+i.imageUrl+'">')))}),this.open()},s.prototype.trigger=function(n,o,i){var h=this._entries,g,f,_,O=o.delegateTarget||o.target;if(!O)return o.preventDefault();g=h[(0,d.attr)(O,"data-action")],g&&(f=g.action,_=o.originalEvent||o,(0,a.isFunction)(f)?n==="click"&&f(_,i):f[n]&&f[n](_,i),o.preventDefault())},s.prototype._layoutChanged=function(){this._toggleState({})},s.prototype._needsCollapse=function(n,o){var i=50,h=Object.keys(o).length*46;return n<h+i},s.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},s.prototype.open=function(){this._toggleState({open:!0})},s.prototype.toggle=function(n){this.isOpen()?this.close():this.open()},s.prototype.isActiveTool=function(n){return n&&this._activeTool===n},s.prototype.updateToolHighlight=function(n){var o,i;this._toolsContainer||(o=(0,d.query)(".djs-palette-entries",this._container),this._toolsContainer=(0,d.query)("[data-group=tools]",o)),i=this._toolsContainer,(0,a.forEach)(i.children,function(h){var g=h.getAttribute("data-action");if(g){var f=(0,d.classes)(h);g=g.replace("-tool",""),f.contains("entry")&&g===n?f.add("highlighted-entry"):f.remove("highlighted-entry")}})},s.prototype.isOpen=function(){return(0,d.classes)(this._container).has(x)},s.prototype._getParentContainer=function(){return this._canvas.getContainer()},s.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>';function e(n,o){var i=(0,d.classes)(n),h=(0,a.isArray)(o)?o:o.split(/\s+/g);h.forEach(function(g){i.add(g)})}function p(n,o){var i=o.getPaletteEntries();return(0,a.isFunction)(i)?i(n):((0,a.forEach)(i,function(h,g){n[g]=h}),n)}},85868:(rt,Y,l)=>{l.d(Y,{A:()=>b});var a=l(96206);const b={__init__:["palette"],palette:["type",a.A]}},6226:(rt,Y,l)=>{l.d(Y,{A:()=>x});var a=l(98218),b=l.n(a),d=l(52687),m=l.n(d),v="data-id",T=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],u=1e3;function x(y,s,e){var p=(0,a.isDefined)(y&&y.scale)?y.scale:{min:1,max:1.5};this._config={scale:p},this._eventBus=s,this._canvas=e,this._providers={},this._current={}}x.$inject=["config.popupMenu","eventBus","canvas"],x.prototype.registerProvider=function(y,s,e){e||(e=s,s=u),this._eventBus.on("popupMenu.getProviders."+y,s,function(p){p.providers.push(e)})},x.prototype.isEmpty=function(y,s){if(!y)throw new Error("element parameter is missing");if(!s)throw new Error("providerId parameter is missing");var e=this._getProviders(s);if(!e)return!0;var p=this._getEntries(y,e),n=this._getHeaderEntries(y,e),o=(0,a.size)(p)>0,i=n&&(0,a.size)(n)>0;return!o&&!i},x.prototype.open=function(y,s,e){var p=this._getProviders(s);if(!y)throw new Error("Element is missing");if(!p||!p.length)throw new Error("No registered providers for: "+s);if(!e)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var n=this._current={className:s,element:y,position:e},o=this._getEntries(y,p),i=this._getHeaderEntries(y,p);n.entries=(0,a.assign)({},o,i),n.container=this._createContainer(),(0,a.size)(i)&&n.container.appendChild(this._createEntries(i,"djs-popup-header")),(0,a.size)(o)&&n.container.appendChild(this._createEntries(o,"djs-popup-body"));var h=this._canvas,g=h.getContainer();this._attachContainer(n.container,g,e.cursor),this._bindAutoClose()},x.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindAutoClose(),(0,d.remove)(this._current.container),this._current.container=null)},x.prototype.isOpen=function(){return!!this._current.container},x.prototype.trigger=function(y){y.preventDefault();var s=y.delegateTarget||y.target,e=(0,d.attr)(s,v),p=this._getEntry(e);if(p.action)return p.action.call(null,y,p)},x.prototype._getProviders=function(y){var s=this._eventBus.createEvent({type:"popupMenu.getProviders."+y,providers:[]});return this._eventBus.fire(s),s.providers},x.prototype._getEntries=function(y,s){var e={};return(0,a.forEach)(s,function(p){if(!p.getPopupMenuEntries){(0,a.forEach)(p.getEntries(y),function(o){var i=o.id;if(!i)throw new Error("every entry must have the id property set");e[i]=(0,a.omit)(o,["id"])});return}var n=p.getPopupMenuEntries(y);(0,a.isFunction)(n)?e=n(e):(0,a.forEach)(n,function(o,i){e[i]=o})}),e},x.prototype._getHeaderEntries=function(y,s){var e={};return(0,a.forEach)(s,function(p){if(!p.getPopupMenuHeaderEntries){if(!p.getHeaderEntries)return;(0,a.forEach)(p.getHeaderEntries(y),function(o){var i=o.id;if(!i)throw new Error("every entry must have the id property set");e[i]=(0,a.omit)(o,["id"])});return}var n=p.getPopupMenuHeaderEntries(y);(0,a.isFunction)(n)?e=n(e):(0,a.forEach)(n,function(o,i){e[i]=o})}),e},x.prototype._getEntry=function(y){var s=this._current.entries[y];if(!s)throw new Error("entry not found");return s},x.prototype._emit=function(y){this._eventBus.fire("popupMenu."+y)},x.prototype._createContainer=function(){var y=(0,d.domify)('<div class="djs-popup">'),s=this._current.position,e=this._current.className;return(0,a.assign)(y.style,{position:"absolute",left:s.x+"px",top:s.y+"px",visibility:"hidden"}),(0,d.classes)(y).add(e),y},x.prototype._attachContainer=function(y,s,e){var p=this;d.delegate.bind(y,".entry","click",function(n){p.trigger(n)}),this._updateScale(y),s.appendChild(y),e&&this._assureIsInbounds(y,e)},x.prototype._updateScale=function(y){var s=this._canvas.zoom(),e=this._config.scale,p,n,o=s;e!==!0&&(e===!1?(p=1,n=1):(p=e.min,n=e.max),(0,a.isDefined)(p)&&s<p&&(o=p),(0,a.isDefined)(n)&&s>n&&(o=n)),C(y,"scale("+o+")")},x.prototype._assureIsInbounds=function(y,s){var e=this._canvas,p=e._container.getBoundingClientRect(),n=y.offsetLeft,o=y.offsetTop,i=y.scrollWidth,h=y.scrollHeight,g={},f,_,O={x:s.x-p.left,y:s.y-p.top};n+i>p.width&&(g.x=!0),o+h>p.height&&(g.y=!0),g.x&&g.y?(f=O.x-i+"px",_=O.y-h+"px"):g.x?(f=O.x-i+"px",_=O.y+"px"):g.y&&O.y<h?(f=O.x+"px",_="10px"):g.y&&(f=O.x+"px",_=O.y-h+"px"),(0,a.assign)(y.style,{left:f,top:_},{visibility:"visible","z-index":1e3})},x.prototype._createEntries=function(y,s){var e=(0,d.domify)("<div>"),p=this;return(0,d.classes)(e).add(s),(0,a.forEach)(y,function(n,o){var i=p._createEntry(n,o);e.appendChild(i)}),e},x.prototype._createEntry=function(y,s){var e=(0,d.domify)("<div>"),p=(0,d.classes)(e);if(p.add("entry"),y.className&&y.className.split(" ").forEach(function(o){p.add(o)}),(0,d.attr)(e,v,s),y.label){var n=(0,d.domify)("<span>");n.textContent=y.label,e.appendChild(n)}return y.imageUrl&&e.appendChild((0,d.domify)('<img src="'+y.imageUrl+'" />')),y.active===!0&&p.add("active"),y.disabled===!0&&p.add("disabled"),y.title&&(e.title=y.title),e},x.prototype._bindAutoClose=function(){this._eventBus.once(T,this.close,this)},x.prototype._unbindAutoClose=function(){this._eventBus.off(T,this.close,this)};function C(y,s){y.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(e){y.style[e+"transform"]=s})}},40127:(rt,Y,l)=>{l.d(Y,{A:()=>b});var a=l(6226);const b={__init__:["popupMenu"],popupMenu:["type",a.A]}},38134:(rt,Y,l)=>{l.d(Y,{A:()=>C});var a=l(98218),b=l.n(a),d=l(33225),m=l(52687),v=l.n(m),T=l(12266),u=["marker-start","marker-mid","marker-end"],x=["circle","ellipse","line","path","polygon","polyline","rect"];function C(n,o,i,h){this._elementRegistry=n,this._canvas=i,this._styles=h,this._clonedMarkers={};var g=this;o.on("drag.cleanup",function(){(0,a.forEach)(g._clonedMarkers,function(f){(0,d.TF)(f)}),g._clonedMarkers={}})}C.$inject=["elementRegistry","eventBus","canvas","styles"],C.prototype.getGfx=function(n){return this._elementRegistry.getGraphics(n)},C.prototype.addDragger=function(n,o,i){i=i||this.getGfx(n);var h=(0,d.o8)(i),g=i.getBoundingClientRect();return this._cloneMarkers((0,T.P)(h)),(0,d.CF)(h,this._styles.cls("djs-dragger",[],{x:g.top,y:g.left})),(0,d.BC)(o,h),h},C.prototype.addFrame=function(n,o){var i=(0,d.vt)("rect",{class:"djs-resize-overlay",width:n.width,height:n.height,x:n.x,y:n.y});return(0,d.BC)(o,i),i},C.prototype._cloneMarkers=function(n){var o=this;if(n.childNodes)for(var i=0;i<n.childNodes.length;i++)o._cloneMarkers(n.childNodes[i]);p(n)&&u.forEach(function(h){if((0,d.CF)(n,h)){var g=y(n,h,o._canvas.getContainer());o._cloneMarker(n,g,h)}})},C.prototype._cloneMarker=function(n,o,i){var h=o.id,g=this._clonedMarkers[h];if(!g){g=(0,d.o8)(o);var f=h+"-clone";g.id=f,(0,d.Ly)(g).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[h]=g;var _=(0,m.query)("defs",this._canvas._svg);_||(_=(0,d.vt)("defs"),(0,d.BC)(this._canvas._svg,_)),(0,d.BC)(_,g)}var O=e(this._clonedMarkers[h].id);(0,d.CF)(n,i,O)};function y(n,o,i){var h=s((0,d.CF)(n,o));return(0,m.query)("marker#"+h,i||document)}function s(n){return n.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function e(n){return"url(#"+n+")"}function p(n){return x.indexOf(n.nodeName)!==-1}},71953:(rt,Y,l)=>{l.d(Y,{A:()=>b});var a=l(38134);const b={__init__:["previewSupport"],previewSupport:["type",a.A]}},76357:(rt,Y,l)=>{l.d(Y,{A:()=>f,a:()=>O});var a=l(98218),b=l(10018),d=l(65911),m=Math.max,v=Math.min,T=20;function u(A,B){return{top:A.top-B.top,right:A.right-B.right,bottom:A.bottom-B.bottom,left:A.left-B.left}}function x(A,B,D){var U=D.x,k=D.y,Z={x:A.x,y:A.y,width:A.width,height:A.height};return B.indexOf("n")!==-1?(Z.y=A.y+k,Z.height=A.height-k):B.indexOf("s")!==-1&&(Z.height=A.height+k),B.indexOf("e")!==-1?Z.width=A.width+U:B.indexOf("w")!==-1&&(Z.x=A.x+U,Z.width=A.width-U),Z}function C(A,B){return{x:A.x+(B.left||0),y:A.y+(B.top||0),width:A.width-(B.left||0)+(B.right||0),height:A.height-(B.top||0)+(B.bottom||0)}}function y(A,B,D){var U=A.width/B.width,k=A.height/B.height;return{x:Math.round(B.x+B.width/2)-Math.floor((A.x+A.width/2-D.x)/U),y:Math.round(B.y+B.height/2)-Math.floor((A.y+A.height/2-D.y)/k)}}function s(A,B,D){var U=B[A],k=D.min&&D.min[A],Z=D.max&&D.max[A];return(0,a.isNumber)(k)&&(U=(/top|left/.test(A)?v:m)(U,k)),(0,a.isNumber)(Z)&&(U=(/top|left/.test(A)?m:v)(U,Z)),U}function e(A,B){if(!B)return A;var D=(0,d.Fy)(A);return(0,d.cD)({top:s("top",D,B),right:s("right",D,B),bottom:s("bottom",D,B),left:s("left",D,B)})}function p(A,B,D,U){var k=(0,d.Fy)(B),Z={top:/n/.test(A)?k.bottom-D.height:k.top,left:/w/.test(A)?k.right-D.width:k.left,bottom:/s/.test(A)?k.top+D.height:k.bottom,right:/e/.test(A)?k.left+D.width:k.right},ot=U?(0,d.Fy)(U):Z,et={top:v(Z.top,ot.top),left:v(Z.left,ot.left),bottom:m(Z.bottom,ot.bottom),right:m(Z.right,ot.right)};return(0,d.cD)(et)}function n(A,B){return typeof A<"u"?A:T}function o(A,B){var D,U,k,Z;return typeof B=="object"?(D=n(B.left),U=n(B.right),k=n(B.top),Z=n(B.bottom)):D=U=k=Z=n(B),{x:A.x-D,y:A.y-k,width:A.width+D+U,height:A.height+k+Z}}function i(A){return!(A.waypoints||A.type==="label")}function h(A,B){var D;if(A.length===void 0?D=(0,a.filter)(A.children,i):D=A,D.length)return o((0,b.U7)(D),B)}var g=10;function f(A,B,D,U){this._dragging=U,this._rules=B;var k=this;function Z(J,V){var w=J.shape,M=J.direction,S=J.resizeConstraints,E;J.delta=V,E=x(w,M,V),J.newBounds=e(E,S),J.canExecute=k.canResize(J)}function ot(J){var V=J.resizeConstraints,w=J.minBounds;V===void 0&&(w===void 0&&(w=k.computeMinResizeBox(J)),J.resizeConstraints={min:(0,d.Fy)(w)})}function et(J){var V=J.shape,w=J.canExecute,M=J.newBounds;if(w){if(M=(0,d.Au)(M),!_(V,M))return;D.resizeShape(V,M)}}A.on("resize.start",function(J){ot(J.context)}),A.on("resize.move",function(J){var V={x:J.dx,y:J.dy};Z(J.context,V)}),A.on("resize.end",function(J){et(J.context)})}f.prototype.canResize=function(A){var B=this._rules,D=(0,a.pick)(A,["newBounds","shape","delta","direction"]);return B.allowed("shape.resize",D)},f.prototype.activate=function(A,B,D){var U=this._dragging,k,Z;if(typeof D=="string"&&(D={direction:D}),k=(0,a.assign)({shape:B},D),Z=k.direction,!Z)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");U.init(A,O(B,Z),"resize",{autoActivate:!0,cursor:N(Z),data:{shape:B,context:k}})},f.prototype.computeMinResizeBox=function(A){var B=A.shape,D=A.direction,U,k;return U=A.minDimensions||{width:g,height:g},k=h(B,A.childrenBoxPadding),p(D,B,U,k)},f.$inject=["eventBus","rules","modeling","dragging"];function _(A,B){return A.x!==B.x||A.y!==B.y||A.width!==B.width||A.height!==B.height}function O(A,B){var D=(0,d.pp)(A),U=(0,d.Fy)(A),k={x:D.x,y:D.y};return B.indexOf("n")!==-1?k.y=U.top:B.indexOf("s")!==-1&&(k.y=U.bottom),B.indexOf("e")!==-1?k.x=U.right:B.indexOf("w")!==-1&&(k.x=U.left),k}function N(A){var B="resize-";return A==="n"||A==="s"?B+"ns":A==="e"||A==="w"?B+"ew":A==="nw"||A==="se"?B+"nwse":B+"nesw"}},25342:(rt,Y,l)=>{l.d(Y,{A:()=>n});var a=l(98218),b=l.n(a),d=l(33225),m=l(52687),v=l.n(m),T=l(60053),u=l(52965),x=l(76357),C=-6,y=4,s=20,e="djs-resizer",p=["n","w","s","e","nw","ne","se","sw"];function n(i,h,g,f){this._resize=f,this._canvas=h;var _=this;i.on("selection.changed",function(O){var N=O.newSelection;_.removeResizers(),N.length===1&&(0,a.forEach)(N,(0,a.bind)(_.addResizer,_))}),i.on("shape.changed",function(O){var N=O.element;g.isSelected(N)&&(_.removeResizers(),_.addResizer(N))})}n.prototype.makeDraggable=function(i,h,g){var f=this._resize;function _(O){(0,T.ls)(O)&&f.activate(O,i,g)}m.event.bind(h,"mousedown",_),m.event.bind(h,"touchstart",_)},n.prototype._createResizer=function(i,h,g,f){var _=this._getResizersParent(),O=o(f),N=(0,d.vt)("g");(0,d.Ly)(N).add(e),(0,d.Ly)(N).add(e+"-"+i.id),(0,d.Ly)(N).add(e+"-"+f),(0,d.BC)(_,N);var A=(0,d.vt)("rect");(0,d.CF)(A,{x:-y/2+O.x,y:-y/2+O.y,width:y,height:y}),(0,d.Ly)(A).add(e+"-visual"),(0,d.BC)(N,A);var B=(0,d.vt)("rect");return(0,d.CF)(B,{x:-s/2+O.x,y:-s/2+O.y,width:s,height:s}),(0,d.Ly)(B).add(e+"-hit"),(0,d.BC)(N,B),(0,u.pd)(N,h,g),N},n.prototype.createResizer=function(i,h){var g=(0,x.a)(i,h),f=this._createResizer(i,g.x,g.y,h);this.makeDraggable(i,f,h)},n.prototype.addResizer=function(i){var h=this,g=this._resize;g.canResize({shape:i})&&(0,a.forEach)(p,function(f){h.createResizer(i,f)})},n.prototype.removeResizers=function(){var i=this._getResizersParent();(0,d.IU)(i)},n.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},n.$inject=["eventBus","canvas","selection","resize"];function o(i){var h={x:0,y:0};return i.indexOf("e")!==-1?h.x=-C:i.indexOf("w")!==-1&&(h.x=C),i.indexOf("s")!==-1?h.y=-C:i.indexOf("n")!==-1&&(h.y=C),h}},88729:(rt,Y,l)=>{l.d(Y,{A:()=>v});var a=l(33225),b="djs-resizing",d="resize-not-ok",m=500;function v(T,u,x){function C(s){var e=s.shape,p=s.newBounds,n=s.frame;n||(n=s.frame=x.addFrame(e,u.getDefaultLayer()),u.addMarker(e,b)),p.width>5&&(0,a.CF)(n,{x:p.x,width:p.width}),p.height>5&&(0,a.CF)(n,{y:p.y,height:p.height}),s.canExecute?(0,a.Ly)(n).remove(d):(0,a.Ly)(n).add(d)}function y(s){var e=s.shape,p=s.frame;p&&(0,a.TF)(s.frame),u.removeMarker(e,b)}T.on("resize.move",m,function(s){C(s.context)}),T.on("resize.cleanup",function(s){y(s.context)})}v.$inject=["eventBus","canvas","previewSupport"]},43537:(rt,Y,l)=>{l.d(Y,{A:()=>m});var a=l(51270),b=l.n(a),d=l(6705);function m(v){d.A.call(this,v),this.init()}m.$inject=["eventBus"],b()(m,d.A),m.prototype.addRule=function(v,T,u){var x=this;typeof v=="string"&&(v=[v]),v.forEach(function(C){x.canExecute(C,T,function(y,s,e){return u(y)},!0)})},m.prototype.init=function(){}},11918:(rt,Y,l)=>{l.d(Y,{A:()=>b});function a(d){this._commandStack=d.get("commandStack",!1)}a.$inject=["injector"],a.prototype.allowed=function(d,m){var v=!0,T=this._commandStack;return T&&(v=T.canExecute(d,m)),v===void 0?!0:v};const b={__init__:["rules"],rules:["type",a]}},6587:(rt,Y,l)=>{l.d(Y,{A:()=>d});var a=l(98218),b=l.n(a);function d(m){this._eventBus=m,this._selectedElements=[];var v=this;m.on(["shape.remove","connection.remove"],function(T){var u=T.element;v.deselect(u)}),m.on(["diagram.clear"],function(T){v.select(null)})}d.$inject=["eventBus"],d.prototype.deselect=function(m){var v=this._selectedElements,T=v.indexOf(m);if(T!==-1){var u=v.slice();v.splice(T,1),this._eventBus.fire("selection.changed",{oldSelection:u,newSelection:v})}},d.prototype.get=function(){return this._selectedElements},d.prototype.isSelected=function(m){return this._selectedElements.indexOf(m)!==-1},d.prototype.select=function(m,v){var T=this._selectedElements,u=T.slice();(0,a.isArray)(m)||(m=m?[m]:[]),v?(0,a.forEach)(m,function(x){T.indexOf(x)===-1&&T.push(x)}):this._selectedElements=T=m.slice(),this._eventBus.fire("selection.changed",{oldSelection:u,newSelection:T})}},56773:(rt,Y,l)=>{l.d(Y,{A:()=>s});var a=l(69380),b=l(35576),d=l(6587),m=l(98218),v="hover",T="selected";function u(e,p,n,o){this._multiSelectionBox=null;function i(g,f){p.addMarker(g,f)}function h(g,f){p.removeMarker(g,f)}e.on("element.hover",function(g){i(g.element,v)}),e.on("element.out",function(g){h(g.element,v)}),e.on("selection.changed",function(g){function f(A){h(A,T)}function _(A){i(A,T)}var O=g.oldSelection,N=g.newSelection;(0,m.forEach)(O,function(A){N.indexOf(A)===-1&&f(A)}),(0,m.forEach)(N,function(A){O.indexOf(A)===-1&&_(A)})})}u.$inject=["eventBus","canvas","selection","styles"];var x=l(60053);function C(e,p,n,o){e.on("create.end",500,function(i){var h=i.context,g=h.canExecute,f=h.elements,_=h.hints||{},O=_.autoSelect;if(g){if(O===!1)return;(0,m.isArray)(O)?p.select(O):p.select(f.filter(y))}}),e.on("connect.end",500,function(i){i.context.canExecute&&i.context.connection&&p.select(i.context.connection)}),e.on("shape.move.end",500,function(i){var h=i.previousSelection||[],g=o.get(i.context.shape.id),f=(0,m.find)(h,function(_){return g.id===_.id});f||p.select(g)}),e.on("element.click",function(i){var h=i.element;h===n.getRootElement()&&(h=null);var g=p.isSelected(h),f=p.get().length>1,_=(0,x.Io)(i);if(g&&f)return _?p.deselect(h):p.select(h);g||p.select(h,_)})}C.$inject=["eventBus","selection","canvas","elementRegistry"];function y(e){return!e.hidden}const s={__init__:["selectionVisuals","selectionBehavior"],__depends__:[a.A,b.A],selection:["type",d.A],selectionVisuals:["type",u],selectionBehavior:["type",C]}},17521:(rt,Y,l)=>{l.d(Y,{AC:()=>C,CU:()=>y,jz:()=>x});var a=Math.abs,b=Math.round;function d(e,p,n){n=n===void 0?10:n;var o,i;for(o=0;o<p.length;o++)if(i=p[o],a(i-e)<=n)return i}function m(e){return{x:e.x,y:e.y}}function v(e){return{x:e.x+e.width,y:e.y}}function T(e){return{x:e.x,y:e.y+e.height}}function u(e){return{x:e.x+e.width,y:e.y+e.height}}function x(e,p){return!e||isNaN(e.x)||isNaN(e.y)?p:{x:b(e.x+e.width/2),y:b(e.y+e.height/2)}}function C(e,p){var n=e.snapped;return n?typeof p=="string"?n[p]:n.x&&n.y:!1}function y(e,p,n){if(typeof p!="string")throw new Error("axis must be in [x, y]");if(typeof n!="number"&&n!==!1)throw new Error("value must be Number or false");var o,i=e[p],h=e.snapped=e.snapped||{};return n===!1?h[p]=!1:(h[p]=!0,o=n-i,e[p]+=o,e["d"+p]+=o),i}function s(e){return e.children||[]}},19506:(rt,Y,l)=>{l.d(Y,{A:()=>i});var a=l(98218),b=l.n(a),d=l(65911),m=l(10018),v=l(45240),T=l(60053),u=l(46837),x=Math.abs,C=Math.round,y={x:"width",y:"height"},s="crosshair",e={n:"top",w:"left",s:"bottom",e:"right"},p=1500,n={n:"s",w:"e",s:"n",e:"w"},o=20;function i(A,B,D,U,k,Z){this._canvas=A,this._dragging=B,this._eventBus=D,this._modeling=U,this._rules=k,this._toolManager=Z;var ot=this;Z.registerTool("space",{tool:"spaceTool.selection",dragging:"spaceTool"}),D.on("spaceTool.selection.end",function(et){D.once("spaceTool.selection.ended",function(){ot.activateMakeSpace(et.originalEvent)})}),D.on("spaceTool.move",p,function(et){var J=et.context,V=J.initialized;V||(V=J.initialized=ot.init(et,J)),V&&g(et)}),D.on("spaceTool.end",function(et){var J=et.context,V=J.direction,w=J.movingShapes,M=J.resizingShapes,S=J.start;if(J.initialized){g(et);var E=ot.getDelta(et);ot.makeSpace(w,M,E,V,S),D.once("spaceTool.ended",function(t){ot.activateSelection(t.originalEvent,!0,!0)})}})}i.$inject=["canvas","dragging","eventBus","modeling","rules","toolManager"],i.prototype.activateSelection=function(A,B,D){this._dragging.init(A,"spaceTool.selection",{autoActivate:B,cursor:s,data:{context:{reactivate:D}},trapClick:!1})},i.prototype.activateMakeSpace=function(A){this._dragging.init(A,"spaceTool",{autoActivate:!0,cursor:s,data:{context:{}}})},i.prototype.makeSpace=function(A,B,D,U,k){return this._modeling.createSpace(A,B,D,U,k)},i.prototype.init=function(A,B){var D=x(A.dx)>x(A.dy)?"x":"y",U=A["d"+D],k=A[D]-U;if(x(U)<5)return!1;U<0&&(U*=-1),(0,T.Io)(A)&&(U*=-1);var Z=(0,v.u6)(D,U),ot=this._canvas.getRootElement(),et=(0,m.cZ)(ot,!0),J=this.calculateAdjustments(et,D,U,k),V=this._eventBus.fire("spaceTool.getMinDimensions",{shapes:J.resizingShapes}),w=f(J,D,Z,k,V);return(0,a.assign)(B,J,{axis:D,direction:Z,spaceToolConstraints:w,start:k}),(0,u.hZ)("resize-"+(D==="x"?"ew":"ns")),!0},i.prototype.calculateAdjustments=function(A,B,D,U){var k=this._rules,Z=[],ot=[];return(0,a.forEach)(A,function(et){if(!(!et.parent||O(et))){var J=et[B],V=J+et[y[B]];if(D>0&&J>U||D<0&&V<U)return Z.push(et);if(J<U&&V>U&&k.allowed("shape.resize",{shape:et}))return ot.push(et)}}),{movingShapes:Z,resizingShapes:ot}},i.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},i.prototype.isActive=function(){var A=this._dragging.context();return A&&/^spaceTool/.test(A.prefix)},i.prototype.getDelta=function(A){var B=A.context,D=B.axis,U={x:0,y:0};return U[D]=C(A["d"+D]),U};function h(A){return{top:A.top-o,right:A.right+o,bottom:A.bottom+o,left:A.left-o}}function g(A){var B=A.context,D=B.spaceToolConstraints;if(D){var U,k;(0,a.isNumber)(D.left)&&(U=Math.max(A.x,D.left),A.dx=A.dx+U-A.x,A.x=U),(0,a.isNumber)(D.right)&&(U=Math.min(A.x,D.right),A.dx=A.dx+U-A.x,A.x=U),(0,a.isNumber)(D.top)&&(k=Math.max(A.y,D.top),A.dy=A.dy+k-A.y,A.y=k),(0,a.isNumber)(D.bottom)&&(k=Math.min(A.y,D.bottom),A.dy=A.dy+k-A.y,A.y=k)}}function f(A,B,D,U,k){var Z=A.movingShapes,ot=A.resizingShapes;if(ot.length){var et={},J,V;return(0,a.forEach)(ot,function(w){var M=(0,d.Fy)(w),S=(0,a.filter)(w.children,function(W){return!O(W)&&!N(W)&&!_(Z,W)&&!_(ot,W)}),E=(0,a.filter)(w.children,function(W){return!O(W)&&!N(W)&&_(Z,W)}),t,r,c;S.length&&(r=h((0,d.Fy)((0,m.U7)(S))),t=U-M[e[D]]+r[e[D]],D==="n"?et.bottom=V=(0,a.isNumber)(V)?Math.min(V,t):t:D==="w"?et.right=V=(0,a.isNumber)(V)?Math.min(V,t):t:D==="s"?et.top=J=(0,a.isNumber)(J)?Math.max(J,t):t:D==="e"&&(et.left=J=(0,a.isNumber)(J)?Math.max(J,t):t)),E.length&&(c=h((0,d.Fy)((0,m.U7)(E))),t=U-c[e[n[D]]]+M[e[n[D]]],D==="n"?et.bottom=V=(0,a.isNumber)(V)?Math.min(V,t):t:D==="w"?et.right=V=(0,a.isNumber)(V)?Math.min(V,t):t:D==="s"?et.top=J=(0,a.isNumber)(J)?Math.max(J,t):t:D==="e"&&(et.left=J=(0,a.isNumber)(J)?Math.max(J,t):t));var P=k&&k[w.id];P&&(D==="n"?(t=U+w[y[B]]-P[y[B]],et.bottom=V=(0,a.isNumber)(V)?Math.min(V,t):t):D==="w"?(t=U+w[y[B]]-P[y[B]],et.right=V=(0,a.isNumber)(V)?Math.min(V,t):t):D==="s"?(t=U-w[y[B]]+P[y[B]],et.top=J=(0,a.isNumber)(J)?Math.max(J,t):t):D==="e"&&(t=U-w[y[B]]+P[y[B]],et.left=J=(0,a.isNumber)(J)?Math.max(J,t):t))}),et}}function _(A,B){return A.indexOf(B)!==-1}function O(A){return!!A.waypoints}function N(A){return!!A.labelTarget}},7264:(rt,Y,l)=>{l.d(Y,{A:()=>C});var a=l(98218),b=l.n(a),d=l(33225),m=l(52965),v="djs-dragging",T="djs-resizing",u=250,x=Math.max;function C(s,e,p,n,o){var i=this;function h(g,f){(0,a.forEach)(g,function(_){o.addDragger(_,f),p.addMarker(_,v)})}s.on("spaceTool.selection.start",function(g){var f=p.getLayer("space"),_=g.context,O={x:"M 0,-10000 L 0,10000",y:"M -10000,0 L 10000,0"},N=(0,d.vt)("g");(0,d.CF)(N,n.cls("djs-crosshair-group",["no-events"])),(0,d.BC)(f,N);var A=(0,d.vt)("path");(0,d.CF)(A,"d",O.x),(0,d.Ly)(A).add("djs-crosshair"),(0,d.BC)(N,A);var B=(0,d.vt)("path");(0,d.CF)(B,"d",O.y),(0,d.Ly)(B).add("djs-crosshair"),(0,d.BC)(N,B),_.crosshairGroup=N}),s.on("spaceTool.selection.move",function(g){var f=g.context.crosshairGroup;(0,m.Tl)(f,g.x,g.y)}),s.on("spaceTool.selection.cleanup",function(g){var f=g.context,_=f.crosshairGroup;_&&(0,d.TF)(_)}),s.on("spaceTool.move",u,function(g){var f=g.context,_=f.line,O=f.axis,N=f.movingShapes,A=f.resizingShapes;if(f.initialized){if(!f.dragGroup){var B=p.getLayer("space");_=(0,d.vt)("path"),(0,d.CF)(_,"d","M0,0 L0,0"),(0,d.Ly)(_).add("djs-crosshair"),(0,d.BC)(B,_),f.line=_;var D=(0,d.vt)("g");(0,d.CF)(D,n.cls("djs-drag-group",["no-events"])),(0,d.BC)(p.getDefaultLayer(),D),h(N,D);var U=f.movingConnections=e.filter(function(J){var V=!1;(0,a.forEach)(N,function(E){(0,a.forEach)(E.outgoing,function(t){J===t&&(V=!0)})});var w=!1;(0,a.forEach)(N,function(E){(0,a.forEach)(E.incoming,function(t){J===t&&(w=!0)})});var M=!1;(0,a.forEach)(A,function(E){(0,a.forEach)(E.outgoing,function(t){J===t&&(M=!0)})});var S=!1;return(0,a.forEach)(A,function(E){(0,a.forEach)(E.incoming,function(t){J===t&&(S=!0)})}),y(J)&&(V||M)&&(w||S)});h(U,D),f.dragGroup=D}if(!f.frameGroup){var k=(0,d.vt)("g");(0,d.CF)(k,n.cls("djs-frame-group",["no-events"])),(0,d.BC)(p.getDefaultLayer(),k);var Z=[];(0,a.forEach)(A,function(J){var V=o.addFrame(J,k),w=V.getBBox();Z.push({element:V,initialBounds:w}),p.addMarker(J,T)}),f.frameGroup=k,f.frames=Z}var ot={x:"M"+g.x+", -10000 L"+g.x+", 10000",y:"M -10000, "+g.y+" L 10000, "+g.y};(0,d.CF)(_,{d:ot[O]});var et=i.getDelta(g);(0,m.Tl)(f.dragGroup,et.x,et.y),(0,a.forEach)(f.frames,function(J){var V=J.element,w=J.initialBounds,M,S;f.direction==="e"?(0,d.CF)(V,{width:x(w.width+et.x,5)}):(M=x(w.width-et.x,5),(0,d.CF)(V,{width:M,x:w.x+w.width-M})),f.direction==="s"?(0,d.CF)(V,{height:x(w.height+et.y,5)}):(S=x(w.height-et.y,5),(0,d.CF)(V,{height:S,y:w.y+w.height-S}))})}}),s.on("spaceTool.cleanup",function(g){var f=g.context,_=f.movingShapes,O=f.movingConnections,N=f.resizingShapes,A=f.line,B=f.dragGroup,D=f.frameGroup;(0,a.forEach)(_,function(U){p.removeMarker(U,v)}),(0,a.forEach)(O,function(U){p.removeMarker(U,v)}),B&&((0,d.TF)(A),(0,d.TF)(B)),(0,a.forEach)(N,function(U){p.removeMarker(U,T)}),D&&(0,d.TF)(D)})}C.$inject=["eventBus","elementRegistry","canvas","styles","previewSupport"];function y(s){return s.waypoints}C.prototype.getDelta=function(s){var e=s.context,p={x:"y",y:"x"},n={x:s.dx,y:s.dy};return n[p[e.axis]]=0,n}},45240:(rt,Y,l)=>{l.d(Y,{Gq:()=>m,Ih:()=>T,u6:()=>d});var a=l(98218),b=l.n(a);function d(u,x){if(u==="x"){if(x>0)return"e";if(x<0)return"w"}if(u==="y"){if(x>0)return"s";if(x<0)return"n"}return null}function m(u,x){var C=[];return(0,a.forEach)(u,function(y){var s=y.incoming,e=y.outgoing;(0,a.forEach)(s.concat(e),function(p){var n=p.source,o=p.target;(v(u,n)||v(u,o)||v(x,n)||v(x,o))&&(v(C,p)||C.push(p))})}),C}function v(u,x){return u.indexOf(x)!==-1}function T(u,x,C){var y=u.x,s=u.y,e=u.width,p=u.height,n=C.x,o=C.y;switch(x){case"n":return{x:y,y:s+o,width:e,height:p-o};case"s":return{x:y,y:s,width:e,height:p+o};case"w":return{x:y+n,y:s,width:e-n,height:p};case"e":return{x:y,y:s,width:e+n,height:p};default:throw new Error("unknown direction: "+x)}}},28400:(rt,Y,l)=>{l.d(Y,{A:()=>s});var a=l(98218),b=l(52687),d=l(50941),m=new d.A("tt");function v(e){var p=(0,b.domify)('<div class="djs-tooltip-container" style="position: absolute; width: 0; height: 0;" />');return e.insertBefore(p,e.firstChild),p}function T(e,p,n){(0,a.assign)(e.style,{left:p+"px",top:n+"px"})}function u(e,p){e.style.display=p===!1?"none":""}var x="djs-tooltip",C="."+x;function y(e,p){this._eventBus=e,this._canvas=p,this._ids=m,this._tooltipDefaults={show:{minZoom:.7,maxZoom:5}},this._tooltips={},this._tooltipRoot=v(p.getContainer());var n=this;b.delegate.bind(this._tooltipRoot,C,"mousedown",function(o){o.stopPropagation()}),b.delegate.bind(this._tooltipRoot,C,"mouseover",function(o){n.trigger("mouseover",o)}),b.delegate.bind(this._tooltipRoot,C,"mouseout",function(o){n.trigger("mouseout",o)}),this._init()}y.$inject=["eventBus","canvas"],y.prototype.add=function(e){if(!e.position)throw new Error("must specifiy tooltip position");if(!e.html)throw new Error("must specifiy tooltip html");var p=this._ids.next();return e=(0,a.assign)({},this._tooltipDefaults,e,{id:p}),this._addTooltip(e),e.timeout&&this.setTimeout(e),p},y.prototype.trigger=function(e,p){var n=p.delegateTarget||p.target,o=this.get((0,b.attr)(n,"data-tooltip-id"));o&&(e==="mouseover"&&o.timeout&&this.clearTimeout(o),e==="mouseout"&&o.timeout&&(o.timeout=1e3,this.setTimeout(o)))},y.prototype.get=function(e){return typeof e!="string"&&(e=e.id),this._tooltips[e]},y.prototype.clearTimeout=function(e){if(e=this.get(e),!!e){var p=e.removeTimer;p&&(clearTimeout(p),e.removeTimer=null)}},y.prototype.setTimeout=function(e){if(e=this.get(e),!!e){this.clearTimeout(e);var p=this;e.removeTimer=setTimeout(function(){p.remove(e)},e.timeout)}},y.prototype.remove=function(e){var p=this.get(e);p&&((0,b.remove)(p.html),(0,b.remove)(p.htmlContainer),delete p.htmlContainer,delete this._tooltips[p.id])},y.prototype.show=function(){u(this._tooltipRoot)},y.prototype.hide=function(){u(this._tooltipRoot,!1)},y.prototype._updateRoot=function(e){var p=e.scale||1,n=e.scale||1,o="matrix("+p+",0,0,"+n+","+-1*e.x*p+","+-1*e.y*n+")";this._tooltipRoot.style.transform=o,this._tooltipRoot.style["-ms-transform"]=o},y.prototype._addTooltip=function(e){var p=e.id,n=e.html,o,i=this._tooltipRoot;n.get&&n.constructor.prototype.jquery&&(n=n.get(0)),(0,a.isString)(n)&&(n=(0,b.domify)(n)),o=(0,b.domify)('<div data-tooltip-id="'+p+'" class="'+x+'" style="position: absolute">'),o.appendChild(n),e.type&&(0,b.classes)(o).add("djs-tooltip-"+e.type),e.className&&(0,b.classes)(o).add(e.className),e.htmlContainer=o,i.appendChild(o),this._tooltips[p]=e,this._updateTooltip(e)},y.prototype._updateTooltip=function(e){var p=e.position,n=e.htmlContainer;T(n,p.x,p.y)},y.prototype._updateTooltipVisibilty=function(e){(0,a.forEach)(this._tooltips,function(p){var n=p.show,o=p.htmlContainer,i=!0;n&&((n.minZoom>e.scale||n.maxZoom<e.scale)&&(i=!1),u(o,i))})},y.prototype._init=function(){var e=this;function p(n){e._updateRoot(n),e._updateTooltipVisibilty(n),e.show()}this._eventBus.on("canvas.viewbox.changing",function(n){e.hide()}),this._eventBus.on("canvas.viewbox.changed",function(n){p(n.viewbox)})};const s={__init__:["tooltips"],tooltips:["type",y]}},10033:(rt,Y,l)=>{l.d(Y,{A:()=>b});var a=l(65911);function b(){}b.prototype.layoutConnection=function(d,m){return m=m||{},[m.connectionStart||(0,a.pp)(m.source||d.source),m.connectionEnd||(0,a.pp)(m.target||d.target)]}},23550:(rt,Y,l)=>{l.d(Y,{A:()=>v});var a=l(98218),b=l.n(a),d=l(65911);function m(T){return(0,a.assign)({original:T.point.original||T.point},T.actual)}function v(T,u){this._elementRegistry=T,this._graphicsFactory=u}v.$inject=["elementRegistry","graphicsFactory"],v.prototype.getCroppedWaypoints=function(T,u,x){u=u||T.source,x=x||T.target;var C=this.getDockingPoint(T,u,!0),y=this.getDockingPoint(T,x),s=T.waypoints.slice(C.idx+1,y.idx);return s.unshift(m(C)),s.push(m(y)),s},v.prototype.getDockingPoint=function(T,u,x){var C=T.waypoints,y,s,e;return y=x?0:C.length-1,s=C[y],e=this._getIntersection(u,T,x),{point:s,actual:e||s,idx:y}},v.prototype._getIntersection=function(T,u,x){var C=this._getShapePath(T),y=this._getConnectionPath(u);return(0,d.ki)(C,y,x)},v.prototype._getConnectionPath=function(T){return this._graphicsFactory.getConnectionPath(T)},v.prototype._getShapePath=function(T){return this._graphicsFactory.getShapePath(T)},v.prototype._getGfx=function(T){return this._elementRegistry.getGraphics(T)}},65911:(rt,Y,l)=>{l.d(Y,{Au:()=>T,Fy:()=>x,PG:()=>u,Wy:()=>n,cD:()=>C,ki:()=>e,pp:()=>y,vc:()=>s});var a=l(98218),b=l.n(a),d=l(92159),m=l(38305),v=l.n(m);function T(o){return{x:Math.round(o.x),y:Math.round(o.y),width:Math.round(o.width),height:Math.round(o.height)}}function u(o){return{x:Math.round(o.x),y:Math.round(o.y)}}function x(o){return{top:o.y,right:o.x+(o.width||0),bottom:o.y+(o.height||0),left:o.x}}function C(o){return{x:o.left,y:o.top,width:o.right-o.left,height:o.bottom-o.top}}function y(o){return u({x:o.x+(o.width||0)/2,y:o.y+(o.height||0)/2})}function s(o,i,h){h=h||0,(0,a.isObject)(h)||(h={x:h,y:h});var g=x(o),f=x(i),_=g.bottom+h.y<=f.top,O=g.left-h.x>=f.right,N=g.top-h.y>=f.bottom,A=g.right+h.x<=f.left,B=_?"top":N?"bottom":null,D=A?"left":O?"right":null;return D&&B?B+"-"+D:D||B||"intersect"}function e(o,i,h){var g=p(o,i);return g.length===1||g.length===2&&(0,d.cK)(g[0],g[1])<1?u(g[0]):g.length>1?(g=(0,a.sortBy)(g,function(f){var _=Math.floor(f.t2*100)||1;return _=100-_,_=(_<10?"0":"")+_,f.segment2+"#"+_}),u(g[h?0:g.length-1])):null}function p(o,i){return v()(o,i)}function n(o){o=o.slice();for(var i=0,h,g,f;o[i];)h=o[i],g=o[i-1],f=o[i+1],(0,d.cK)(h,f)===0||(0,d.XP)(g,f,h)?o.splice(i,1):i++;return o}},74419:(rt,Y,l)=>{l.d(Y,{WI:()=>O,Z9:()=>_,d7:()=>w});var a=l(98218),b=l.n(a),d=l(65911),m=l(92159),v=20,T=5,u=Math.round,x=20,C={"h:h":20,"v:v":20,"h:v":-10,"v:h":-10};function y(M,S){return!{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/./,v:/./}[S].test(M)}function s(M,S){return{t:/top/,r:/right/,b:/bottom/,l:/left/,h:/left|right/,v:/top|bottom/}[M].test(S)}function e(M,S,E){var t=(0,d.vc)(S,M,T),r=E.split(":")[0],c=u((S.x-M.x)/2+M.x),P=u((S.y-M.y)/2+M.y),W,H,X=s(r,t),$=/h|r|l/.test(r),q=!1,it=!1;return X?(W=$?{x:c,y:M.y}:{x:M.x,y:P},H=$?"h:h":"v:v"):(q=y(t,r),H=$?"h:v":"v:h",q?$?(it=P===M.y,W={x:M.x+v*(/l/.test(r)?-1:1),y:it?P+v:P}):(it=c===M.x,W={x:it?c+v:c,y:M.y+v*(/t/.test(r)?-1:1)}):W={x:c,y:P}),{waypoints:g(M,W,H).concat(W),directions:H,turnNextDirections:it}}function p(M,S,E){return e(M,S,E)}function n(M,S,E){var t=e(S,M,i(E));return{waypoints:t.waypoints.slice().reverse(),directions:i(t.directions),turnNextDirections:t.turnNextDirections}}function o(M,S){var E=M.directions.split(":")[1],t=S.directions.split(":")[0];M.turnNextDirections&&(E=E=="h"?"v":"h"),S.turnNextDirections&&(t=t=="h"?"v":"h");var r=E+":"+t,c=g(M.waypoints[M.waypoints.length-1],S.waypoints[0],r);return{waypoints:c,directions:r}}function i(M){return M.split(":").reverse().join(":")}function h(M,S,E){var t=u((S.x-M.x)/2+M.x),r=u((S.y-M.y)/2+M.y);if(E==="h:v")return[{x:S.x,y:M.y}];if(E==="v:h")return[{x:M.x,y:S.y}];if(E==="h:h")return[{x:t,y:M.y},{x:t,y:S.y}];if(E==="v:v")return[{x:M.x,y:r},{x:S.x,y:r}];throw new Error("invalid directions: can only handle varians of [hv]:[hv]")}function g(M,S,E){if(E=E||"h:h",!ot(E))throw new Error("unknown directions: <"+E+">: must be specified as <start>:<end> with start/end in { h,v,t,r,b,l }");if(et(E)){var t=p(M,S,E),r=n(M,S,E),c=o(t,r);return[].concat(t.waypoints,c.waypoints,r.waypoints)}return h(M,S,E)}function f(M,S,E){var t=g(M,S,E);return t.unshift(M),t.push(S),w(t)}function _(M,S,E,t,r){var c=r&&r.preferredLayouts||[],P=(0,a.without)(c,"straight")[0]||"h:h",W=C[P]||0,H=(0,d.vc)(M,S,W),X=Z(H,P);E=E||(0,d.pp)(M),t=t||(0,d.pp)(S);var $=X.split(":"),q=V(E,M,$[0],J(H)),it=V(t,S,$[1],H);return f(q,it,X)}function O(M,S,E,t,r,c){(0,a.isArray)(E)&&(r=E,c=t,E=(0,d.pp)(M),t=(0,d.pp)(S)),c=(0,a.assign)({preferredLayouts:[]},c),r=r||[];var P=c.preferredLayouts,W=P.indexOf("straight")!==-1,H;return H=W&&B(M,S,E,t,c),H||(H=c.connectionEnd&&U(S,M,t,r),H)||(H=c.connectionStart&&D(M,S,E,r),H)?H:!c.connectionStart&&!c.connectionEnd&&r&&r.length?r:_(M,S,E,t,c)}function N(M,S,E){return M>=S&&M<=E}function A(M,S,E){var t={x:"width",y:"height"};return N(S[M],E[M],E[M]+E[t[M]])}function B(M,S,E,t,r){var c={},P,W;return W=(0,d.vc)(M,S),/^(top|bottom|left|right)$/.test(W)?(/top|bottom/.test(W)&&(P="x"),/left|right/.test(W)&&(P="y"),r.preserveDocking==="target"?A(P,t,M)?(c[P]=t[P],[{x:c.x!==void 0?c.x:E.x,y:c.y!==void 0?c.y:E.y,original:{x:c.x!==void 0?c.x:E.x,y:c.y!==void 0?c.y:E.y}},{x:t.x,y:t.y}]):null:A(P,E,S)?(c[P]=E[P],[{x:E.x,y:E.y},{x:c.x!==void 0?c.x:t.x,y:c.y!==void 0?c.y:t.y,original:{x:c.x!==void 0?c.x:t.x,y:c.y!==void 0?c.y:t.y}}]):null):null}function D(M,S,E,t){return k(M,S,E,t)}function U(M,S,E,t){var r=t.slice().reverse();return r=k(M,S,E,r),r?r.reverse():null}function k(M,S,E,t){function r($){return $.length<3?!0:$.length>4?!1:!!(0,a.find)($,function(q,it){var F=$[it-1];return F&&(0,m.cK)(q,F)<3})}function c($,q,it){var F=(0,m.ke)(q,$);switch(F){case"v":return{x:it.x,y:$.y};case"h":return{x:$.x,y:it.y}}return{x:$.x,y:$.y}}function P($,q,it){var F;for(F=$.length-2;F!==0;F--)if((0,m.El)($[F],q,x)||(0,m.El)($[F],it,x))return $.slice(F);return $}if(r(t))return null;var W=t[0],H=t.slice(),X;return H[0]=E,H[1]=c(H[1],W,E),X=P(H,M,S),X!==H&&(H=k(M,S,E,X)),H&&(0,m.ke)(H)?null:H}function Z(M,S){if(et(S))return S;switch(M){case"intersect":return"t:t";case"top":case"bottom":return"v:v";case"left":case"right":return"h:h";default:return S}}function ot(M){return M&&/^h|v|t|r|b|l:h|v|t|r|b|l$/.test(M)}function et(M){return M&&/t|r|b|l/.test(M)}function J(M){return{top:"bottom",bottom:"top",left:"right",right:"left","top-left":"bottom-right","bottom-right":"top-left","top-right":"bottom-left","bottom-left":"top-right"}[M]}function V(M,S,E,t){if(E==="h"&&(E=/left/.test(t)?"l":"r"),E==="v"&&(E=/top/.test(t)?"t":"b"),E==="t")return{original:M,x:M.x,y:S.y};if(E==="r")return{original:M,x:S.x+S.width,y:M.y};if(E==="b")return{original:M,x:M.x,y:S.y+S.height};if(E==="l")return{original:M,x:S.x,y:M.y};throw new Error("unexpected dockingDirection: <"+E+">")}function w(M){return M.reduce(function(S,E,t){var r=S[S.length-1],c=M[t+1];return(0,m.XP)(r,c,E,0)||S.push(E),S},[])}},49096:(rt,Y,l)=>{l.d(Y,{C6:()=>e,bL:()=>n,vt:()=>g});var a=l(98218),b=l.n(a),d=l(51270),m=l.n(d),v=l(82867),T=l.n(v),u=new(T())({name:"children",enumerable:!0,collection:!0},{name:"parent"}),x=new(T())({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),C=new(T())({name:"attachers",collection:!0},{name:"host"}),y=new(T())({name:"outgoing",collection:!0},{name:"source"}),s=new(T())({name:"incoming",collection:!0},{name:"target"});function e(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(f){var _=this.label,O=this.labels;!f&&_?O.remove(_):O.add(f,0)}}),u.bind(this,"parent"),x.bind(this,"labels"),y.bind(this,"outgoing"),s.bind(this,"incoming")}function p(){e.call(this),u.bind(this,"children"),C.bind(this,"host"),C.bind(this,"attachers")}m()(p,e);function n(){p.call(this)}m()(n,p);function o(){p.call(this),x.bind(this,"labelTarget")}m()(o,p);function i(){e.call(this),y.bind(this,"source"),s.bind(this,"target")}m()(i,e);var h={connection:i,shape:p,label:o,root:n};function g(f,_){var O=h[f];if(!O)throw new Error("unknown type: <"+f+">");return(0,a.assign)(new O,_)}},64916:(rt,Y,l)=>{l.d(Y,{A:()=>C});var a=l(46837),b=l(200),d=l(56764),m=l(52687),v=l(86439),T=15;function u(y,s){var e;y.on("element.mousedown",500,function(i){return o(i.originalEvent)});function p(i){var h=e.start,g=(0,v.gK)(i),f=(0,d.p)(g,h);if(!e.dragging&&x(f)>T&&(e.dragging=!0,(0,b.a)(y),(0,a.hZ)("grab")),e.dragging){var _=e.last||e.start;f=(0,d.p)(g,_),s.scroll({dx:f.x,dy:f.y}),e.last=g}i.preventDefault()}function n(i){m.event.unbind(document,"mousemove",p),m.event.unbind(document,"mouseup",n),e=null,(0,a.wC)()}function o(i){if(!(0,m.closest)(i.target,".djs-draggable")&&!(i.button||i.ctrlKey||i.shiftKey||i.altKey))return e={start:(0,v.gK)(i)},m.event.bind(document,"mousemove",p),m.event.bind(document,"mouseup",n),!0}}u.$inject=["eventBus","canvas"];function x(y){return Math.sqrt(Math.pow(y.x,2)+Math.pow(y.y,2))}const C={__init__:["moveCanvas"],moveCanvas:["type",u]}},32959:(rt,Y,l)=>{l.d(Y,{A:()=>g});var a=l(69380),b=l(98218),d=l(52687),m=l(66716),v=l.n(m),T=l(86439),u=.2,x=4,C=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function y(){}function s(f,_){return _.get(f,!1)}function e(f){f.preventDefault(),f.stopPropagation(),typeof f.stopImmediatePropagation=="function"&&f.stopImmediatePropagation()}function p(f){function _(Z){(0,b.forEach)(C,function(ot){d.event.bind(f,ot,e,!0)})}function O(Z){setTimeout(function(){(0,b.forEach)(C,function(ot){d.event.unbind(f,ot,e,!0)})},500)}d.event.bind(f,"touchstart",_,!0),d.event.bind(f,"touchend",O,!0),d.event.bind(f,"touchcancel",O,!0);var N=new(v()).Manager(f,{inputClass:v().TouchInput,recognizers:[]}),A=new(v()).Tap,B=new(v()).Pan({threshold:10}),D=new(v()).Press,U=new(v()).Pinch,k=new(v()).Tap({event:"doubletap",taps:2});return U.requireFailure(B),U.requireFailure(D),N.add([B,D,U,k,A]),N.reset=function(Z){var ot=this.recognizers,et=this.session;et.stopped||(N.stop(Z),setTimeout(function(){var J,V;for(J=0;V=ot[J];J++)V.reset(),V.state=8;et.curRecognizer=null},0))},N.on("hammer.input",function(Z){Z.srcEvent.defaultPrevented&&N.reset(!0)}),N}function n(f,_,O,N,A){var B=s("dragging",f),D=s("move",f),U=s("contextPad",f),k=s("palette",f),Z;function ot(V){return function(w){A.fire(V,w)}}function et(V){var w=(0,d.closest)(V,"svg, .djs-element",!0);return w}function J(V){Z=p(V),Z.on("doubletap",ot("element.dblclick")),Z.on("tap",ot("element.click"));function w(E){var t=0,r=0;function c(W){var H=W.deltaX-t,X=W.deltaY-r;_.scroll({dx:H,dy:X}),t=W.deltaX,r=W.deltaY}function P(W){Z.off("panmove",c),Z.off("panend",P),Z.off("pancancel",P)}Z.on("panmove",c),Z.on("panend",P),Z.on("pancancel",P)}function M(E){var t=et(E.target),r=t&&N.get(t);if(D&&_.getRootElement()!==r)return D.start(E,r,!0);w(E)}function S(E){var t=_.zoom(),r=E.center;function c(W){var H=1-(1-W.scale)/1.5,X=Math.max(u,Math.min(x,H*t));_.zoom(X,r),e(W)}function P(W){Z.off("pinchmove",c),Z.off("pinchend",P),Z.off("pinchcancel",P),Z.reset(!0)}Z.on("pinchmove",c),Z.on("pinchend",P),Z.on("pinchcancel",P)}Z.on("panstart",M),Z.on("press",M),Z.on("pinchstart",S)}B&&O.on("drag.move",function(V){var w=V.originalEvent;if(!(!w||w instanceof MouseEvent)){var M=(0,T.gK)(w),S=document.elementFromPoint(M.x,M.y),E=et(S),t=E&&N.get(E);t!==V.hover&&(V.hover&&B.out(V),t&&(B.hover({element:t,gfx:E}),V.hover=t,V.hoverGfx=E))}}),U&&O.on("contextPad.create",function(V){var w=V.pad.html,M=p(w);M.on("panstart",function(S){U.trigger("dragstart",S,!0)}),M.on("press",function(S){U.trigger("dragstart",S,!0)}),M.on("tap",function(S){U.trigger("click",S)})}),k&&O.on("palette.create",function(V){var w=V.container,M=p(w);M.on("panstart",function(S){k.trigger("dragstart",S,!0)}),M.on("press",function(S){k.trigger("dragstart",S,!0)}),M.on("tap",function(S){k.trigger("click",S)})}),O.on("canvas.init",function(V){J(V.svg)})}n.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"];var o=l(33225);function i(f,_){var O=this;_.on("canvas.init",function(N){O.addBBoxMarker(N.svg)})}i.$inject=["canvas","eventBus"],i.prototype.addBBoxMarker=function(f){var _={fill:"none",class:"outer-bound-marker"},O=(0,o.vt)("rect");(0,o.CF)(O,{x:-1e4,y:1e4,width:10,height:10}),(0,o.CF)(O,_),(0,o.BC)(f,O);var N=(0,o.vt)("rect");(0,o.CF)(N,{x:1e4,y:1e4,width:10,height:10}),(0,o.CF)(N,_),(0,o.BC)(f,N)};const g={__depends__:[{__depends__:[a.A],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",n],touchFix:["type",i]}]}},436:(rt,Y,l)=>{l.d(Y,{A:()=>e});var a=l(52687),b=l.n(a),d=l(56165),m=l(55817),v=l(98218),T=l.n(v),u=Math.sign||function(p){return p>=0?1:-1},x={min:.2,max:4},C=10,y=.1,s=.75;function e(p,n,o){p=p||{},this._enabled=!1,this._canvas=o,this._container=o._container,this._handleWheel=(0,v.bind)(this._handleWheel,this),this._totalDelta=0,this._scale=p.scale||s;var i=this;n.on("canvas.init",function(h){i._init(p.enabled!==!1)})}e.$inject=["config.zoomScroll","eventBus","canvas"],e.prototype.scroll=function(n){this._canvas.scroll(n)},e.prototype.reset=function(){this._canvas.zoom("fit-viewport")},e.prototype.zoom=function(n,o){var i=(0,d.U)(x,C*2);this._totalDelta+=n,Math.abs(this._totalDelta)>y&&(this._zoom(n,o,i),this._totalDelta=0)},e.prototype._handleWheel=function(n){if(!(0,a.closest)(n.target,".djs-scrollable",!0)){var o=this._container;n.preventDefault();var i=n.ctrlKey,h=n.shiftKey,g=-1*this._scale,f;if(i?g*=n.deltaMode===0?.02:.32:g*=n.deltaMode===0?1:16,i){var _=o.getBoundingClientRect(),O={x:n.clientX-_.left,y:n.clientY-_.top};f=Math.sqrt(Math.pow(n.deltaY,2)+Math.pow(n.deltaX,2))*u(n.deltaY)*g,this.zoom(f,O)}else h?f={dx:g*n.deltaY,dy:0}:f={dx:g*n.deltaX,dy:g*n.deltaY},this.scroll(f)}},e.prototype.stepZoom=function(n,o){var i=(0,d.U)(x,C);this._zoom(n,o,i)},e.prototype._zoom=function(p,n,o){var i=this._canvas,h=p>0?1:-1,g=(0,m.Y)(i.zoom()),f=Math.round(g/o)*o;f+=o*h;var _=Math.pow(10,f);i.zoom((0,d.N)(x,_),n)},e.prototype.toggle=function(n){var o=this._container,i=this._handleWheel,h=this._enabled;return typeof n>"u"&&(n=!h),h!==n&&a.event[n?"bind":"unbind"](o,"wheel",i,!1),this._enabled=n,n},e.prototype._init=function(p){this.toggle(p)}},56165:(rt,Y,l)=>{l.d(Y,{N:()=>d,U:()=>b});var a=l(55817);function b(m,v){var T=(0,a.Y)(m.min),u=(0,a.Y)(m.max),x=Math.abs(T)+Math.abs(u);return x/v}function d(m,v){return Math.max(m.min,Math.min(m.max,v))}},81284:(rt,Y,l)=>{l.d(Y,{A:()=>b});var a=l(436);const b={__init__:["zoomScroll"],zoomScroll:["type",a.A]}},200:(rt,Y,l)=>{l.d(Y,{a:()=>b});var a=5e3;function b(d,m){m=m||"element.click";function v(){return!1}return d.once(m,a,v),function(){d.off(m,v)}}},6958:(rt,Y,l)=>{l.d(Y,{TF:()=>a,WQ:()=>b,qh:()=>d});function a(m,v){if(!m||!v)return-1;var T=m.indexOf(v);return T!==-1&&m.splice(T,1),T}function b(m,v,T){if(!(!m||!v)){typeof T!="number"&&(T=-1);var u=m.indexOf(v);if(u!==-1){if(u===T)return;if(T!==-1)m.splice(u,1);else return}T!==-1?m.splice(T,0,v):m.push(v)}}function d(m,v){return!m||!v?-1:m.indexOf(v)}},46837:(rt,Y,l)=>{l.d(Y,{hZ:()=>m,wC:()=>v});var a=l(52687),b=l.n(a),d=/^djs-cursor-.*$/;function m(u){var x=(0,a.classes)(document.body);x.removeMatching(d),u&&x.add("djs-cursor-"+u)}function v(){m(null)}function T(u){var x=domClasses(document.body);return x.has("djs-cursor-"+u)}},10018:(rt,Y,l)=>{l.d(Y,{Pw:()=>p,U7:()=>s,cZ:()=>C,eb:()=>n,qO:()=>T,rx:()=>e,wT:()=>d,yO:()=>y});var a=l(98218),b=l.n(a);function d(i){return(0,a.filter)(i,function(h){return!(0,a.find)(i,function(g){return g!==h&&m(h,g)})})}function m(i,h){if(h){if(i===h)return h;if(i.parent)return m(i.parent,h)}}function v(i,h,g){var f=!g||i.indexOf(h)===-1;return f&&i.push(h),f}function T(i,h,g){g=g||0,(0,a.isArray)(i)||(i=[i]),(0,a.forEach)(i,function(f,_){var O=h(f,_,g);(0,a.isArray)(O)&&O.length&&T(O,h,g+1)})}function u(i,h,g){var f=[],_=[];return T(i,function(O,N,A){v(f,O,h);var B=O.children;if((g===-1||A<g)&&B&&v(_,B,h))return B}),f}function x(i,h){return u(i,!h,1)}function C(i,h){return u(i,!h,-1)}function y(i,h,g){(0,a.isUndefined)(h)&&(h=!0),(0,a.isObject)(h)&&(g=h,h=!0),g=g||{};var f=o(g.allShapes),_=o(g.allConnections),O=o(g.enclosedElements),N=o(g.enclosedConnections),A=o(g.topLevel,h&&(0,a.groupBy)(i,function(U){return U.id}));function B(U){A[U.source.id]&&A[U.target.id]&&(A[U.id]=[U]),f[U.source.id]&&f[U.target.id]&&(N[U.id]=O[U.id]=U),_[U.id]=U}function D(U){if(O[U.id]=U,U.waypoints)N[U.id]=_[U.id]=U;else return f[U.id]=U,(0,a.forEach)(U.incoming,B),(0,a.forEach)(U.outgoing,B),U.children}return T(i,D),{allShapes:f,allConnections:_,topLevel:A,enclosedConnections:N,enclosedElements:O}}function s(i,h){h=!!h,(0,a.isArray)(i)||(i=[i]);var g,f,_,O;return(0,a.forEach)(i,function(N){var A=N;N.waypoints&&!h&&(A=s(N.waypoints,!0));var B=A.x,D=A.y,U=A.height||0,k=A.width||0;(B<g||g===void 0)&&(g=B),(D<f||f===void 0)&&(f=D),(B+k>_||_===void 0)&&(_=B+k),(D+U>O||O===void 0)&&(O=D+U)}),{x:g,y:f,height:O-f,width:_-g}}function e(i,h){var g={};return(0,a.forEach)(i,function(f){var _=f;_.waypoints&&(_=s(_)),!(0,a.isNumber)(h.y)&&_.x>h.x&&(g[f.id]=f),!(0,a.isNumber)(h.x)&&_.y>h.y&&(g[f.id]=f),_.x>h.x&&_.y>h.y&&((0,a.isNumber)(h.width)&&(0,a.isNumber)(h.height)&&_.width+_.x<h.width+h.x&&_.height+_.y<h.height+h.y||!(0,a.isNumber)(h.width)||!(0,a.isNumber)(h.height))&&(g[f.id]=f)}),g}function p(i){return"waypoints"in i?"connection":"x"in i?"shape":"root"}function n(i){return!!(i&&i.isFrame)}function o(i,h){return(0,a.assign)({},i||{},h||{})}},86439:(rt,Y,l)=>{l.d(Y,{AF:()=>b,dG:()=>d,gK:()=>m});function a(v){!v||typeof v.stopPropagation!="function"||v.stopPropagation()}function b(v){return v.originalEvent||v.srcEvent}function d(v,T){a(v,T),a(b(v),T)}function m(v){return v.pointers&&v.pointers.length&&(v=v.pointers[0]),v.touches&&v.touches.length&&(v=v.touches[0]),v?{x:v.clientX,y:v.clientY}:null}},92159:(rt,Y,l)=>{l.d(Y,{El:()=>C,P8:()=>y,XP:()=>m,cK:()=>d,ke:()=>T});var a=l(98218),b=l.n(a);function d(s,e){return!s||!e?-1:Math.sqrt(Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2))}function m(s,e,p,n){if(typeof n>"u"&&(n=5),!s||!e||!p)return!1;var o=(e.x-s.x)*(p.y-s.y)-(e.y-s.y)*(p.x-s.x),i=d(s,e);return Math.abs(o/i)<=n}var v=2;function T(s,e){var p;return(0,a.isArray)(s)?p=s:p=[s,e],u(p)?"h":x(p)?"v":!1}function u(s,e){var p;(0,a.isArray)(s)?p=s:p=[s,e];var n=p.slice().shift();return(0,a.every)(p,function(o){return Math.abs(n.y-o.y)<=v})}function x(s,e){var p;(0,a.isArray)(s)?p=s:p=[s,e];var n=p.slice().shift();return(0,a.every)(p,function(o){return Math.abs(n.x-o.x)<=v})}function C(s,e,p){return p=p||0,s.x>e.x-p&&s.y>e.y-p&&s.x<e.x+e.width+p&&s.y<e.y+e.height+p}function y(s,e){return{x:Math.round(s.x+(e.x-s.x)/2),y:Math.round(s.y+(e.y-s.y)/2)}}},12266:(rt,Y,l)=>{l.d(Y,{P:()=>a,i:()=>b});function a(d){return d.childNodes[0]}function b(d){return d.parentNode.childNodes[1]}},50941:(rt,Y,l)=>{l.d(Y,{A:()=>a});function a(b){this._counter=0,this._prefix=(b?b+"-":"")+Math.floor(Math.random()*1e9)+"-"}a.prototype.next=function(){return this._prefix+ ++this._counter}},55817:(rt,Y,l)=>{l.d(Y,{Y:()=>a});function a(b){return Math.log(b)/Math.log(10)}},60053:(rt,Y,l)=>{l.d(Y,{Io:()=>m,KH:()=>v,ls:()=>d});var a=l(86439);function b(){return/mac/i.test(navigator.platform)}function d(T){return!((0,a.AF)(T)||T).button}function m(T){var u=(0,a.AF)(T)||T;return d(T)?b()?u.metaKey:u.ctrlKey:!1}function v(T){var u=(0,a.AF)(T)||T;return d(T)&&u.shiftKey}},56764:(rt,Y,l)=>{l.d(Y,{g:()=>a,p:()=>b});function a(d){return{x:d.x+d.width/2,y:d.y+d.height/2}}function b(d,m){return{x:d.x-m.x,y:d.y-m.y}}},91799:(rt,Y,l)=>{l.d(Y,{l:()=>a});function a(b,d){if(typeof d!="function")throw new Error("removeFn iterator must be a function");if(b){for(var m;m=b[0];)d(m);return b}}},12619:(rt,Y,l)=>{l.d(Y,{RJ:()=>m,si:()=>v,tx:()=>b});var a=l(33225);function b(T){return T.join(",").replace(/,?([A-z]),?/g,"$1")}function d(T){for(var u="",x=0,C;C=T[x];x++)u+=C.x+","+C.y+" ";return u}function m(T,u){var x=(0,a.vt)("polyline");return(0,a.CF)(x,{points:d(T)}),u&&(0,a.CF)(x,u),x}function v(T,u){return(0,a.CF)(T,{points:d(u)}),T}},52965:(rt,Y,l)=>{l.d(Y,{Tl:()=>d,e$:()=>m,pd:()=>b});var a=l(33225);function b(T,u,x,C,y){var s=(0,a.l1)();s.setTranslate(u,x);var e=(0,a.l1)();e.setRotate(C||0,0,0);var p=(0,a.l1)();p.setScale(y||1,y||1),(0,a.pd)(T,[s,e,p])}function d(T,u,x){var C=(0,a.l1)();C.setTranslate(u,x),(0,a.pd)(T,C)}function m(T,u){var x=(0,a.l1)();x.setRotate(u,0,0),(0,a.pd)(T,x)}function v(T,u){var x=createTransform();x.setScale(u,u),svgTransform(T,x)}},44156:(rt,Y,l)=>{l.d(Y,{A:()=>n});var a=l(98218),b=l.n(a),d=l(33225),m=0,v={width:150,height:50};function T(i){var h=i.split("-");return{horizontal:h[0]||"center",vertical:h[1]||"top"}}function u(i){return(0,a.isObject)(i)?(0,a.assign)({top:0,left:0,right:0,bottom:0},i):{top:i,left:i,right:i,bottom:i}}function x(i,h){h.textContent=i;var g;try{var f,_=i==="";return h.textContent=_?"dummy":i,g=h.getBBox(),f={width:g.width+g.x*2,height:g.height},_&&(f.width=0),f}catch{return{width:0,height:0}}}function C(i,h,g){for(var f=i.shift(),_=f,O;;){if(O=x(_,g),O.width=_?O.width:0,_===" "||_===""||Math.round(O.width)<=Math.round(h)||_.length<2)return y(i,_,f,O);_=e(_,O.width,h)}}function y(i,h,g,f){if(h.length<g.length){var _=g.slice(h.length).trim();i.unshift(_)}return{width:f.width,height:f.height,text:h}}function s(i,h){var g=i.split(/(\s|-)/g),f,_=[],O=0;if(g.length>1)for(;f=g.shift();)if(f.length+O<h)_.push(f),O+=f.length;else{f==="-"&&_.pop();break}return _.join("")}function e(i,h,g){var f=Math.max(i.length*(g/h),1),_=s(i,f);return _||(_=i.slice(0,Math.max(Math.round(f-1),1))),_}function p(){var i=document.getElementById("helper-svg");return i||(i=(0,d.vt)("svg"),(0,d.CF)(i,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(i)),i}function n(i){this._config=(0,a.assign)({},{size:v,padding:m,style:{},align:"center-top"},i||{})}n.prototype.createText=function(i,h){return this.layoutText(i,h).element},n.prototype.getDimensions=function(i,h){return this.layoutText(i,h).dimensions},n.prototype.layoutText=function(i,h){var g=(0,a.assign)({},this._config.size,h.box),f=(0,a.assign)({},this._config.style,h.style),_=T(h.align||this._config.align),O=u(h.padding!==void 0?h.padding:this._config.padding),N=h.fitBox||!1,A=o(f),B=i.split(/\r?\n/g),D=[],U=g.width-O.left-O.right,k=(0,d.vt)("text");(0,d.CF)(k,{x:0,y:0}),(0,d.CF)(k,f);var Z=p();for((0,d.BC)(Z,k);B.length;)D.push(C(B,U,k));_.vertical==="middle"&&(O.top=O.bottom=0);var ot=(0,a.reduce)(D,function(M,S,E){return M+(A||S.height)},0)+O.top+O.bottom,et=(0,a.reduce)(D,function(M,S,E){return S.width>M?S.width:M},0),J=O.top;_.vertical==="middle"&&(J+=(g.height-ot)/2),J-=(A||D[0].height)/4;var V=(0,d.vt)("text");(0,d.CF)(V,f),(0,a.forEach)(D,function(M){var S;switch(J+=A||M.height,_.horizontal){case"left":S=O.left;break;case"right":S=(N?et:U)-O.right-M.width;break;default:S=Math.max(((N?et:U)-M.width)/2+O.left,0)}var E=(0,d.vt)("tspan");(0,d.CF)(E,{x:S,y:J}),E.textContent=M.text,(0,d.BC)(V,E)}),(0,d.TF)(k);var w={width:et,height:ot};return{dimensions:w,element:V}};function o(i){if("fontSize"in i&&"lineHeight"in i)return i.lineHeight*parseInt(i.fontSize,10)}},33225:(rt,Y,l)=>{l.d(Y,{BC:()=>d,CF:()=>C,IU:()=>h,Ly:()=>n,TF:()=>i,l1:()=>J,o8:()=>g,pd:()=>z,uK:()=>et,vt:()=>A});function a(I,K){if(I.ownerDocument!==K.ownerDocument)try{return K.ownerDocument.importNode(I,!0)}catch{}return I}function b(I,K){return K.appendChild(a(I,K))}function d(I,K){return b(K,I),I}var m=2,v={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":m,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":m,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function T(I,K){return v[K]?I.style[K]:I.getAttributeNS(null,K)}function u(I,K,Q){var nt=K.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),st=v[nt];st?(st===m&&typeof Q=="number"&&(Q=String(Q)+"px"),I.style[nt]=Q):I.setAttributeNS(null,K,Q)}function x(I,K){var Q=Object.keys(K),nt,st;for(nt=0,st;st=Q[nt];nt++)u(I,st,K[st])}function C(I,K,Q){if(typeof K=="string")if(Q!==void 0)u(I,K,Q);else return T(I,K);else x(I,K);return I}function y(I,K){if(I.indexOf)return I.indexOf(K);for(var Q=0;Q<I.length;++Q)if(I[Q]===K)return Q;return-1}var s=/\s+/,e=Object.prototype.toString;function p(I){return typeof I<"u"}function n(I){return new o(I)}function o(I){if(!I||!I.nodeType)throw new Error("A DOM element reference is required");this.el=I,this.list=I.classList}o.prototype.add=function(I){if(this.list)return this.list.add(I),this;var K=this.array(),Q=y(K,I);return~Q||K.push(I),p(this.el.className.baseVal)?this.el.className.baseVal=K.join(" "):this.el.className=K.join(" "),this},o.prototype.remove=function(I){if(e.call(I)==="[object RegExp]")return this.removeMatching(I);if(this.list)return this.list.remove(I),this;var K=this.array(),Q=y(K,I);return~Q&&K.splice(Q,1),this.el.className.baseVal=K.join(" "),this},o.prototype.removeMatching=function(I){for(var K=this.array(),Q=0;Q<K.length;Q++)I.test(K[Q])&&this.remove(K[Q]);return this},o.prototype.toggle=function(I,K){return this.list?(p(K)?K!==this.list.toggle(I,K)&&this.list.toggle(I):this.list.toggle(I),this):(p(K)?K?this.add(I):this.remove(I):this.has(I)?this.remove(I):this.add(I),this)},o.prototype.array=function(){var I=this.el.getAttribute("class")||"",K=I.replace(/^\s+|\s+$/g,""),Q=K.split(s);return Q[0]===""&&Q.shift(),Q},o.prototype.has=o.prototype.contains=function(I){return this.list?this.list.contains(I):!!~y(this.array(),I)};function i(I){var K=I.parentNode;return K&&K.removeChild(I),I}function h(I){for(var K;K=I.firstChild;)i(K);return I}function g(I){return I.cloneNode(!0)}var f={svg:"http://www.w3.org/2000/svg"},_='<svg xmlns="'+f.svg+'"';function O(I){var K=!1;I.substring(0,4)==="<svg"?I.indexOf(f.svg)===-1&&(I=_+I.substring(4)):(I=_+">"+I+"</svg>",K=!0);var Q=N(I);if(!K)return Q;for(var nt=document.createDocumentFragment(),st=Q.firstChild;st.firstChild;)nt.appendChild(st.firstChild);return nt}function N(I){var K;return K=new DOMParser,K.async=!1,K.parseFromString(I,"text/xml")}function A(I,K){var Q;return I.charAt(0)==="<"?(Q=O(I).firstChild,Q=document.importNode(Q,!0)):Q=document.createElementNS(f.svg,I),K&&C(Q,K),Q}function B(I,K,Q,nt){I.addEventListener(K,Q,nt)}function D(I,K,Q,nt){I.removeEventListener(K,Q,nt)}var U=null;function k(){return U===null&&(U=A("svg")),U}function Z(I,K){var Q,nt,st=Object.keys(K);for(Q=0;nt=st[Q];Q++)I[nt]=K[nt];return I}function ot(I,K){var Q=k().createSVGPoint();switch(arguments.length){case 0:return Q;case 2:I={x:I,y:K};break}return Z(Q,I)}function et(I,K,Q,nt,st,ut){var ft=k().createSVGMatrix();switch(arguments.length){case 0:return ft;case 1:return Z(ft,I);case 6:return Z(ft,{a:I,b:K,c:Q,d:nt,e:st,f:ut})}}function J(I){return I?k().createSVGTransformFromMatrix(I):k().createSVGTransform()}var V=/([&<>]{1})/g,w=/([\n\r"]{1})/g,M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function S(I,K){function Q(nt,st){return M[st]||st}return I.replace(K,Q)}function E(I,K){var Q,nt,st,ut,ft;switch(I.nodeType){case 3:K.push(S(I.textContent,V));break;case 1:if(K.push("<",I.tagName),I.hasAttributes())for(st=I.attributes,Q=0,nt=st.length;Q<nt;++Q)ut=st.item(Q),K.push(" ",ut.name,'="',S(ut.value,w),'"');if(I.hasChildNodes()){for(K.push(">"),ft=I.childNodes,Q=0,nt=ft.length;Q<nt;++Q)E(ft.item(Q),K);K.push("</",I.tagName,">")}else K.push("/>");break;case 8:K.push("<!--",S(I.nodeValue,V),"-->");break;case 4:K.push("<![CDATA[",I.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+I.nodeType)}return K}function t(I,K){var Q=O(K);if(h(I),!!K){c(Q)||(Q=Q.documentElement);for(var nt=W(Q.childNodes),st=0;st<nt.length;st++)b(nt[st],I)}}function r(I){for(var K=I.firstChild,Q=[];K;)E(K,Q),K=K.nextSibling;return Q.join("")}function c(I){return I.nodeName==="#document-fragment"}function P(I,K){if(K!==void 0){try{t(I,K)}catch(Q){throw new Error("error parsing SVG: "+Q.message)}return I}else return r(I)}function W(I){return Array.prototype.slice.call(I)}function H(I,K){return I.querySelector(K)}function X(I,K){var Q=I.querySelectorAll(K);return[].map.call(Q,function(nt){return nt})}function $(I,K){return K.insertBefore(a(I,K),K.firstChild||null)}function q(I,K){return $(K,I),I}function it(I,K){return I.parentNode.replaceChild(a(K,I),I),K}function F(I,K){return K instanceof SVGMatrix?I.createSVGTransformFromMatrix(K):K}function G(I,K){var Q,nt;for(I.clear(),Q=0;nt=K[Q];Q++)I.appendItem(F(I,nt))}function z(I,K){var Q=I.transform.baseVal;return K&&(Array.isArray(K)||(K=[K]),G(Q,K)),Q.consolidate()}},87004:(rt,Y,l)=>{l.d(Y,{BC:()=>d,CF:()=>C,Ly:()=>s,TF:()=>H,o8:()=>n,pd:()=>it,uK:()=>U,vt:()=>f});function a(F,G){if(F.ownerDocument!==G.ownerDocument)try{return G.ownerDocument.importNode(F,!0)}catch{}return F}function b(F,G){return G.appendChild(a(F,G))}function d(F,G){return b(G,F),F}var m=2,v={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":m,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":m,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function T(F,G){return v[G]?F.style[G]:F.getAttributeNS(null,G)}function u(F,G,z){var I=G.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),K=v[I];K?(K===m&&typeof z=="number"&&(z=String(z)+"px"),F.style[I]=z):F.setAttributeNS(null,G,z)}function x(F,G){var z=Object.keys(G),I,K;for(I=0,K;K=z[I];I++)u(F,K,G[K])}function C(F,G,z){if(typeof G=="string")if(z!==void 0)u(F,G,z);else return T(F,G);else x(F,G);return F}const y=Object.prototype.toString;function s(F){return new e(F)}function e(F){if(!F||!F.nodeType)throw new Error("A DOM element reference is required");this.el=F,this.list=F.classList}e.prototype.add=function(F){return this.list.add(F),this},e.prototype.remove=function(F){return y.call(F)=="[object RegExp]"?this.removeMatching(F):(this.list.remove(F),this)},e.prototype.removeMatching=function(F){const G=this.array();for(let z=0;z<G.length;z++)F.test(G[z])&&this.remove(G[z]);return this},e.prototype.toggle=function(F,G){return typeof G<"u"?G!==this.list.toggle(F,G)&&this.list.toggle(F):this.list.toggle(F),this},e.prototype.array=function(){return Array.from(this.list)},e.prototype.has=e.prototype.contains=function(F){return this.list.contains(F)};function p(F){for(var G;G=F.firstChild;)F.removeChild(G);return F}function n(F){return F.cloneNode(!0)}var o={svg:"http://www.w3.org/2000/svg"},i='<svg xmlns="'+o.svg+'"';function h(F){var G=!1;F.substring(0,4)==="<svg"?F.indexOf(o.svg)===-1&&(F=i+F.substring(4)):(F=i+">"+F+"</svg>",G=!0);var z=g(F);if(!G)return z;for(var I=document.createDocumentFragment(),K=z.firstChild;K.firstChild;)I.appendChild(K.firstChild);return I}function g(F){var G;return G=new DOMParser,G.async=!1,G.parseFromString(F,"text/xml")}function f(F,G){var z;return F=F.trim(),F.charAt(0)==="<"?(z=h(F).firstChild,z=document.importNode(z,!0)):z=document.createElementNS(o.svg,F),G&&C(z,G),z}function _(F,G,z,I){F.addEventListener(G,z,I)}function O(F,G,z,I){F.removeEventListener(G,z,I)}var N=null;function A(){return N===null&&(N=f("svg")),N}function B(F,G){var z,I,K=Object.keys(G);for(z=0;I=K[z];z++)F[I]=G[I];return F}function D(F,G){var z=A().createSVGPoint();switch(arguments.length){case 0:return z;case 2:F={x:F,y:G};break}return B(z,F)}function U(F,G,z,I,K,Q){var nt=A().createSVGMatrix();switch(arguments.length){case 0:return nt;case 1:return B(nt,F);case 6:return B(nt,{a:F,b:G,c:z,d:I,e:K,f:Q})}}function k(F){return F?A().createSVGTransformFromMatrix(F):A().createSVGTransform()}var Z=/([&<>]{1})/g,ot=/([&<>\n\r"]{1})/g,et={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function J(F,G){function z(I,K){return et[K]||K}return F.replace(G,z)}function V(F,G){var z,I,K,Q,nt;switch(F.nodeType){case 3:G.push(J(F.textContent,Z));break;case 1:if(G.push("<",F.tagName),F.hasAttributes())for(K=F.attributes,z=0,I=K.length;z<I;++z)Q=K.item(z),G.push(" ",Q.name,'="',J(Q.value,ot),'"');if(F.hasChildNodes()){for(G.push(">"),nt=F.childNodes,z=0,I=nt.length;z<I;++z)V(nt.item(z),G);G.push("</",F.tagName,">")}else G.push("/>");break;case 8:G.push("<!--",J(F.nodeValue,Z),"-->");break;case 4:G.push("<![CDATA[",F.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+F.nodeType)}return G}function w(F,G){var z=h(G);if(p(F),!!G){S(z)||(z=z.documentElement);for(var I=t(z.childNodes),K=0;K<I.length;K++)b(I[K],F)}}function M(F){for(var G=F.firstChild,z=[];G;)V(G,z),G=G.nextSibling;return z.join("")}function S(F){return F.nodeName==="#document-fragment"}function E(F,G){if(G!==void 0){try{w(F,G)}catch(z){throw new Error("error parsing SVG: "+z.message)}return F}else return M(F)}function t(F){return Array.prototype.slice.call(F)}function r(F,G){return F.querySelector(G)}function c(F,G){var z=F.querySelectorAll(G);return[].map.call(z,function(I){return I})}function P(F,G){return G.insertBefore(a(F,G),G.firstChild||null)}function W(F,G){return P(G,F),F}function H(F){var G=F.parentNode;return G&&G.removeChild(F),F}function X(F,G){return F.parentNode.replaceChild(a(G,F),F),G}function $(F,G){return G instanceof SVGMatrix?F.createSVGTransformFromMatrix(G):G}function q(F,G){var z,I;for(F.clear(),z=0;I=G[z];z++)F.appendItem($(F,I))}function it(F,G){var z=F.transform.baseVal;return G&&(Array.isArray(G)||(G=[G]),q(z,G)),z.consolidate()}}}]);
