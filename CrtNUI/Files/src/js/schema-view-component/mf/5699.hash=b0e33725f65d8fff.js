(self.webpackChunkapp_studio_enterprise_schema_view=self.webpackChunkapp_studio_enterprise_schema_view||[]).push([[5699],{98080:(Y,S,h)=>{h.r(S),h.d(S,{ComponentHarness:()=>m,ContentContainerComponentHarness:()=>y,HarnessEnvironment:()=>Q,HarnessPredicate:()=>u,TestKey:()=>F,_getTextWithExcludedElements:()=>U,getNoKeysSpecifiedError:()=>G,handleAutoChangeDetectionStatus:()=>v,manualChangeDetection:()=>x,parallel:()=>c,stopHandlingAutoChangeDetectionStatus:()=>O});var o=h(73308),b=h(62278);const l=new b.BehaviorSubject({isDisabled:!1});let d;function M(e){e.onDetectChangesNow?.()}function v(e){O(),d=l.subscribe(e)}function O(){d?.unsubscribe(),d=null}function L(e,t){return _.apply(this,arguments)}function _(){return _=(0,o.A)(function*(e,t){if(l.getValue().isDisabled)return yield e();if(d||v(M),t){yield new Promise(n=>l.next({isDisabled:!0,onDetectChangesNow:n}));try{return yield e()}finally{yield new Promise(n=>l.next({isDisabled:!1,onDetectChangesNow:n}))}}else{l.next({isDisabled:!0});try{return yield e()}finally{l.next({isDisabled:!1})}}}),_.apply(this,arguments)}function x(e){return f.apply(this,arguments)}function f(){return f=(0,o.A)(function*(e){return L(e,!1)}),f.apply(this,arguments)}function c(e){return p.apply(this,arguments)}function p(){return p=(0,o.A)(function*(e){return L(()=>Promise.all(e()),!0)}),p.apply(this,arguments)}class m{constructor(t){this.locatorFactory=t}host(){var t=this;return(0,o.A)(function*(){return t.locatorFactory.rootElement})()}documentRootLocatorFactory(){return this.locatorFactory.documentRootLocatorFactory()}locatorFor(...t){return this.locatorFactory.locatorFor(...t)}locatorForOptional(...t){return this.locatorFactory.locatorForOptional(...t)}locatorForAll(...t){return this.locatorFactory.locatorForAll(...t)}forceStabilize(){var t=this;return(0,o.A)(function*(){return t.locatorFactory.forceStabilize()})()}waitForTasksOutsideAngular(){var t=this;return(0,o.A)(function*(){return t.locatorFactory.waitForTasksOutsideAngular()})()}}class y extends m{getChildLoader(t){var n=this;return(0,o.A)(function*(){return(yield n.getRootHarnessLoader()).getChildLoader(t)})()}getAllChildLoaders(t){var n=this;return(0,o.A)(function*(){return(yield n.getRootHarnessLoader()).getAllChildLoaders(t)})()}getHarness(t){var n=this;return(0,o.A)(function*(){return(yield n.getRootHarnessLoader()).getHarness(t)})()}getHarnessOrNull(t){var n=this;return(0,o.A)(function*(){return(yield n.getRootHarnessLoader()).getHarnessOrNull(t)})()}getAllHarnesses(t){var n=this;return(0,o.A)(function*(){return(yield n.getRootHarnessLoader()).getAllHarnesses(t)})()}hasHarness(t){var n=this;return(0,o.A)(function*(){return(yield n.getRootHarnessLoader()).hasHarness(t)})()}getRootHarnessLoader(){var t=this;return(0,o.A)(function*(){return t.locatorFactory.rootHarnessLoader()})()}}class u{constructor(t,n){this.harnessType=t,this._predicates=[],this._descriptions=[],this._addBaseOptions(n)}static stringMatches(t,n){return(0,o.A)(function*(){return t=yield t,n===null?t===null:t===null?!1:typeof n=="string"?t===n:n.test(t)})()}add(t,n){return this._descriptions.push(t),this._predicates.push(n),this}addOption(t,n,r){return n!==void 0&&this.add(`${t} = ${W(n)}`,s=>r(s,n)),this}filter(t){var n=this;return(0,o.A)(function*(){if(t.length===0)return[];const r=yield c(()=>t.map(s=>n.evaluate(s)));return t.filter((s,i)=>r[i])})()}evaluate(t){var n=this;return(0,o.A)(function*(){return(yield c(()=>n._predicates.map(s=>s(t)))).reduce((s,i)=>s&&i,!0)})()}getDescription(){return this._descriptions.join(", ")}getSelector(){if(!this._ancestor)return(this.harnessType.hostSelector||"").trim();const[t,n]=P(this._ancestor),[r,s]=P(this.harnessType.hostSelector||""),i=[];return t.forEach(a=>{const R=w(a,n);return r.forEach(C=>i.push(`${R} ${w(C,s)}`))}),i.join(", ")}_addBaseOptions(t){this._ancestor=t.ancestor||"",this._ancestor&&this._descriptions.push(`has ancestor matching selector "${this._ancestor}"`);const n=t.selector;n!==void 0&&this.add(`host matches selector "${n}"`,function(){var r=(0,o.A)(function*(s){return(yield s.host()).matchesSelector(n)});return function(s){return r.apply(this,arguments)}}())}}function W(e){if(e===void 0)return"undefined";try{return JSON.stringify(e,(n,r)=>r instanceof RegExp?`\u25ECMAT_RE_ESCAPE\u25EC${r.toString().replace(/"/g,"\u25ECMAT_RE_ESCAPE\u25EC")}\u25ECMAT_RE_ESCAPE\u25EC`:r).replace(/"◬MAT_RE_ESCAPE◬|◬MAT_RE_ESCAPE◬"/g,"").replace(/◬MAT_RE_ESCAPE◬/g,'"')}catch{return"{...}"}}function P(e){const t=[];return[e.replace(/(["'][^["']*["'])/g,(r,s)=>{const i=`__cdkPlaceholder-${t.length}__`;return t.push(s),i}).split(",").map(r=>r.trim()),t]}function w(e,t){return e.replace(/__cdkPlaceholder-(\d+)__/g,(n,r)=>t[+r])}class Q{get rootElement(){return this._rootElement=this._rootElement||this.createTestElement(this.rawRootElement),this._rootElement}set rootElement(t){this._rootElement=t}constructor(t){this.rawRootElement=t}documentRootLocatorFactory(){return this.createEnvironment(this.getDocumentRoot())}locatorFor(...t){return()=>A(this._getAllHarnessesAndTestElements(t),j(t))}locatorForOptional(...t){var n=this;return(0,o.A)(function*(){return(yield n._getAllHarnessesAndTestElements(t))[0]||null})}locatorForAll(...t){return()=>this._getAllHarnessesAndTestElements(t)}rootHarnessLoader(){var t=this;return(0,o.A)(function*(){return t})()}harnessLoaderFor(t){var n=this;return(0,o.A)(function*(){return n.createEnvironment(yield A(n.getAllRawElements(t),[N(t)]))})()}harnessLoaderForOptional(t){var n=this;return(0,o.A)(function*(){const r=yield n.getAllRawElements(t);return r[0]?n.createEnvironment(r[0]):null})()}harnessLoaderForAll(t){var n=this;return(0,o.A)(function*(){return(yield n.getAllRawElements(t)).map(s=>n.createEnvironment(s))})()}getHarness(t){return this.locatorFor(t)()}getHarnessOrNull(t){return this.locatorForOptional(t)()}getAllHarnesses(t){return this.locatorForAll(t)()}hasHarness(t){var n=this;return(0,o.A)(function*(){return(yield n.locatorForOptional(t)())!==null})()}getChildLoader(t){var n=this;return(0,o.A)(function*(){return n.createEnvironment(yield A(n.getAllRawElements(t),[N(t)]))})()}getAllChildLoaders(t){var n=this;return(0,o.A)(function*(){return(yield n.getAllRawElements(t)).map(r=>n.createEnvironment(r))})()}createComponentHarness(t,n){return new t(this.createEnvironment(n))}_getAllHarnessesAndTestElements(t){var n=this;return(0,o.A)(function*(){if(!t.length)throw Error("CDK Component harness query must contain at least one element.");const{allQueries:r,harnessQueries:s,elementQueries:i,harnessTypes:a}=$(t),R=yield n.getAllRawElements([...i,...s.map(H=>H.getSelector())].join(",")),C=i.length===0&&a.size===1||s.length===0,z=yield c(()=>R.map(function(){var H=(0,o.A)(function*(D){const V=n.createTestElement(D),J=yield c(()=>r.map(X=>n._getQueryResultForElement(X,D,V,C)));return B(J)});return function(D){return H.apply(this,arguments)}}()));return[].concat(...z)})()}_getQueryResultForElement(t,n,r,s=!1){var i=this;return(0,o.A)(function*(){if(typeof t=="string")return s||(yield r.matchesSelector(t))?r:null;if(s||(yield r.matchesSelector(t.getSelector()))){const a=i.createComponentHarness(t.harnessType,n);return(yield t.evaluate(a))?a:null}return null})()}}function $(e){const t=[],n=[],r=[],s=new Set;for(const i of e)if(typeof i=="string")t.push(i),r.push(i);else{const a=i instanceof u?i:new u(i,{});t.push(a),n.push(a),s.add(a.harnessType)}return{allQueries:t,harnessQueries:n,elementQueries:r,harnessTypes:s}}function B(e){return g.apply(this,arguments)}function g(){return g=(0,o.A)(function*(e){let t=!1,n=new Set;const r=[];for(const s of e)s&&(s instanceof m?n.has(s.constructor)||(n.add(s.constructor),r.push(s)):t||(t=!0,r.push(s)));return r}),g.apply(this,arguments)}function A(e,t){return E.apply(this,arguments)}function E(){return E=(0,o.A)(function*(e,t){const n=(yield e)[0];if(n==null)throw Error(`Failed to find element matching one of the following queries:
`+t.map(r=>`(${r})`).join(`,
`));return n}),E.apply(this,arguments)}function j(e){return e.map(t=>typeof t=="string"?I(t):k(t))}function k(e){const t=e instanceof u?e:new u(e,{}),{name:n,hostSelector:r}=t.harnessType,s=`${n} with host element matching selector: "${r}"`,i=t.getDescription();return s+(i?` satisfying the constraints: ${t.getDescription()}`:"")}function I(e){return`TestElement for element matching selector: "${e}"`}function N(e){return`HarnessLoader for element matching selector: "${e}"`}var F;(function(e){e[e.BACKSPACE=0]="BACKSPACE",e[e.TAB=1]="TAB",e[e.ENTER=2]="ENTER",e[e.SHIFT=3]="SHIFT",e[e.CONTROL=4]="CONTROL",e[e.ALT=5]="ALT",e[e.ESCAPE=6]="ESCAPE",e[e.PAGE_UP=7]="PAGE_UP",e[e.PAGE_DOWN=8]="PAGE_DOWN",e[e.END=9]="END",e[e.HOME=10]="HOME",e[e.LEFT_ARROW=11]="LEFT_ARROW",e[e.UP_ARROW=12]="UP_ARROW",e[e.RIGHT_ARROW=13]="RIGHT_ARROW",e[e.DOWN_ARROW=14]="DOWN_ARROW",e[e.INSERT=15]="INSERT",e[e.DELETE=16]="DELETE",e[e.F1=17]="F1",e[e.F2=18]="F2",e[e.F3=19]="F3",e[e.F4=20]="F4",e[e.F5=21]="F5",e[e.F6=22]="F6",e[e.F7=23]="F7",e[e.F8=24]="F8",e[e.F9=25]="F9",e[e.F10=26]="F10",e[e.F11=27]="F11",e[e.F12=28]="F12",e[e.META=29]="META",e[e.COMMA=30]="COMMA"})(F||(F={}));function G(){return Error("No keys have been specified.")}function U(e,t){const n=e.cloneNode(!0),r=n.querySelectorAll(t);for(let s=0;s<r.length;s++)r[s].remove();return(n.textContent||"").trim()}}}]);
